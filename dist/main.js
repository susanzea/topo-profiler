/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@google/earthengine/build/browser.js":
/*!***********************************************************!*\
  !*** ./node_modules/@google/earthengine/build/browser.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar isChrome87, $jscomp = $jscomp || {};\n$jscomp.scope = {};\n$jscomp.arrayIteratorImpl = function(array) {\n  var index = 0;\n  return function() {\n    return index < array.length ? {done:!1, value:array[index++],} : {done:!0};\n  };\n};\n$jscomp.arrayIterator = function(array) {\n  return {next:$jscomp.arrayIteratorImpl(array)};\n};\n$jscomp.ASSUME_ES5 = !1;\n$jscomp.ASSUME_NO_NATIVE_MAP = !1;\n$jscomp.ASSUME_NO_NATIVE_SET = !1;\n$jscomp.SIMPLE_FROUND_POLYFILL = !1;\n$jscomp.ISOLATE_POLYFILLS = !1;\n$jscomp.FORCE_POLYFILL_PROMISE = !1;\n$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION = !1;\n$jscomp.defineProperty = $jscomp.ASSUME_ES5 || \"function\" == typeof Object.defineProperties ? Object.defineProperty : function(target, property, descriptor) {\n  if (target == Array.prototype || target == Object.prototype) {\n    return target;\n  }\n  target[property] = descriptor.value;\n  return target;\n};\n$jscomp.getGlobal = function(passedInThis) {\n  for (var possibleGlobals = [\"object\" == typeof globalThis && globalThis, passedInThis, \"object\" == typeof window && window, \"object\" == typeof self && self, \"object\" == typeof __webpack_require__.g && __webpack_require__.g,], i = 0; i < possibleGlobals.length; ++i) {\n    var maybeGlobal = possibleGlobals[i];\n    if (maybeGlobal && maybeGlobal.Math == Math) {\n      return maybeGlobal;\n    }\n  }\n  return function() {\n    throw Error(\"Cannot find global object\");\n  }();\n};\n$jscomp.global = $jscomp.getGlobal(this);\n$jscomp.IS_SYMBOL_NATIVE = \"function\" === typeof Symbol && \"symbol\" === typeof Symbol(\"x\");\n$jscomp.TRUST_ES6_POLYFILLS = !$jscomp.ISOLATE_POLYFILLS || $jscomp.IS_SYMBOL_NATIVE;\n$jscomp.polyfills = {};\n$jscomp.propertyToPolyfillSymbol = {};\n$jscomp.POLYFILL_PREFIX = \"$jscp$\";\nvar $jscomp$lookupPolyfilledValue = function(target, property) {\n  var obfuscatedName = $jscomp.propertyToPolyfillSymbol[property];\n  if (null == obfuscatedName) {\n    return target[property];\n  }\n  var polyfill = target[obfuscatedName];\n  return void 0 !== polyfill ? polyfill : target[property];\n};\n$jscomp.polyfill = function(target, polyfill, fromLang, toLang) {\n  polyfill && ($jscomp.ISOLATE_POLYFILLS ? $jscomp.polyfillIsolated(target, polyfill, fromLang, toLang) : $jscomp.polyfillUnisolated(target, polyfill, fromLang, toLang));\n};\n$jscomp.polyfillUnisolated = function(target, polyfill, fromLang, toLang) {\n  for (var obj = $jscomp.global, split = target.split(\".\"), i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in obj)) {\n      return;\n    }\n    obj = obj[key];\n  }\n  var property = split[split.length - 1], orig = obj[property], impl = polyfill(orig);\n  impl != orig && null != impl && $jscomp.defineProperty(obj, property, {configurable:!0, writable:!0, value:impl});\n};\n$jscomp.polyfillIsolated = function(target, polyfill, fromLang, toLang) {\n  var split = target.split(\".\"), isSimpleName = 1 === split.length, root = split[0];\n  var ownerObject = !isSimpleName && root in $jscomp.polyfills ? $jscomp.polyfills : $jscomp.global;\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in ownerObject)) {\n      return;\n    }\n    ownerObject = ownerObject[key];\n  }\n  var property = split[split.length - 1], nativeImpl = $jscomp.IS_SYMBOL_NATIVE && \"es6\" === fromLang ? ownerObject[property] : null, impl = polyfill(nativeImpl);\n  if (null != impl) {\n    if (isSimpleName) {\n      $jscomp.defineProperty($jscomp.polyfills, property, {configurable:!0, writable:!0, value:impl});\n    } else {\n      if (impl !== nativeImpl) {\n        if (void 0 === $jscomp.propertyToPolyfillSymbol[property]) {\n          var BIN_ID = 1e9 * Math.random() >>> 0;\n          $jscomp.propertyToPolyfillSymbol[property] = $jscomp.IS_SYMBOL_NATIVE ? $jscomp.global.Symbol(property) : $jscomp.POLYFILL_PREFIX + BIN_ID + \"$\" + property;\n        }\n        $jscomp.defineProperty(ownerObject, $jscomp.propertyToPolyfillSymbol[property], {configurable:!0, writable:!0, value:impl});\n      }\n    }\n  }\n};\n$jscomp.initSymbol = function() {\n};\n$jscomp.polyfill(\"Symbol\", function(orig) {\n  if (orig) {\n    return orig;\n  }\n  var SymbolClass = function(id, opt_description) {\n    this.$jscomp$symbol$id_ = id;\n    $jscomp.defineProperty(this, \"description\", {configurable:!0, writable:!0, value:opt_description});\n  };\n  SymbolClass.prototype.toString = function() {\n    return this.$jscomp$symbol$id_;\n  };\n  var SYMBOL_PREFIX = \"jscomp_symbol_\" + (1e9 * Math.random() >>> 0) + \"_\", counter = 0, symbolPolyfill = function(opt_description) {\n    if (this instanceof symbolPolyfill) {\n      throw new TypeError(\"Symbol is not a constructor\");\n    }\n    return new SymbolClass(SYMBOL_PREFIX + (opt_description || \"\") + \"_\" + counter++, opt_description);\n  };\n  return symbolPolyfill;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Symbol.iterator\", function(orig) {\n  if (orig) {\n    return orig;\n  }\n  for (var symbolIterator = Symbol(\"Symbol.iterator\"), arrayLikes = \"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"), i = 0; i < arrayLikes.length; i++) {\n    var ArrayLikeCtor = $jscomp.global[arrayLikes[i]];\n    \"function\" === typeof ArrayLikeCtor && \"function\" != typeof ArrayLikeCtor.prototype[symbolIterator] && $jscomp.defineProperty(ArrayLikeCtor.prototype, symbolIterator, {configurable:!0, writable:!0, value:function() {\n      return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this));\n    }});\n  }\n  return symbolIterator;\n}, \"es6\", \"es3\");\n$jscomp.iteratorPrototype = function(next) {\n  var iterator = {next:next};\n  iterator[Symbol.iterator] = function() {\n    return this;\n  };\n  return iterator;\n};\n$jscomp.createTemplateTagFirstArg = function(arrayStrings) {\n  return arrayStrings.raw = arrayStrings;\n};\n$jscomp.createTemplateTagFirstArgWithRaw = function(arrayStrings, rawArrayStrings) {\n  arrayStrings.raw = rawArrayStrings;\n  return arrayStrings;\n};\n$jscomp.makeIterator = function(iterable) {\n  var iteratorFunction = \"undefined\" != typeof Symbol && Symbol.iterator && iterable[Symbol.iterator];\n  return iteratorFunction ? iteratorFunction.call(iterable) : $jscomp.arrayIterator(iterable);\n};\n$jscomp.arrayFromIterator = function(iterator) {\n  for (var i, arr = []; !(i = iterator.next()).done;) {\n    arr.push(i.value);\n  }\n  return arr;\n};\n$jscomp.arrayFromIterable = function(iterable) {\n  return iterable instanceof Array ? iterable : $jscomp.arrayFromIterator($jscomp.makeIterator(iterable));\n};\n$jscomp.objectCreate = $jscomp.ASSUME_ES5 || \"function\" == typeof Object.create ? Object.create : function(prototype) {\n  var ctor = function() {\n  };\n  ctor.prototype = prototype;\n  return new ctor();\n};\n$jscomp.getConstructImplementation = function() {\n  function reflectConstructWorks() {\n    function Base() {\n    }\n    new Base();\n    Reflect.construct(Base, [], function Derived() {\n    });\n    return new Base() instanceof Base;\n  }\n  if ($jscomp.TRUST_ES6_POLYFILLS && \"undefined\" != typeof Reflect && Reflect.construct) {\n    if (reflectConstructWorks()) {\n      return Reflect.construct;\n    }\n    var brokenConstruct = Reflect.construct;\n    return function(target, argList, opt_newTarget) {\n      var out = brokenConstruct(target, argList);\n      opt_newTarget && Reflect.setPrototypeOf(out, opt_newTarget.prototype);\n      return out;\n    };\n  }\n  return function construct(target, argList, opt_newTarget) {\n    void 0 === opt_newTarget && (opt_newTarget = target);\n    var obj = $jscomp.objectCreate(opt_newTarget.prototype || Object.prototype);\n    return Function.prototype.apply.call(target, obj, argList) || obj;\n  };\n};\n$jscomp.construct = {valueOf:$jscomp.getConstructImplementation}.valueOf();\n$jscomp.underscoreProtoCanBeSet = function() {\n  var x = {a:!0}, y = {};\n  try {\n    return y.__proto__ = x, y.a;\n  } catch (e) {\n  }\n  return !1;\n};\n$jscomp.setPrototypeOf = $jscomp.TRUST_ES6_POLYFILLS && \"function\" == typeof Object.setPrototypeOf ? Object.setPrototypeOf : $jscomp.underscoreProtoCanBeSet() ? function(target, proto) {\n  target.__proto__ = proto;\n  if (target.__proto__ !== proto) {\n    throw new TypeError(target + \" is not extensible\");\n  }\n  return target;\n} : null;\n$jscomp.inherits = function(childCtor, parentCtor) {\n  childCtor.prototype = $jscomp.objectCreate(parentCtor.prototype);\n  childCtor.prototype.constructor = childCtor;\n  if ($jscomp.setPrototypeOf) {\n    var setPrototypeOf = $jscomp.setPrototypeOf;\n    setPrototypeOf(childCtor, parentCtor);\n  } else {\n    for (var p in parentCtor) {\n      if (\"prototype\" != p) {\n        if (Object.defineProperties) {\n          var descriptor = Object.getOwnPropertyDescriptor(parentCtor, p);\n          descriptor && Object.defineProperty(childCtor, p, descriptor);\n        } else {\n          childCtor[p] = parentCtor[p];\n        }\n      }\n    }\n  }\n  childCtor.superClass_ = parentCtor.prototype;\n};\n$jscomp.generator = {};\n$jscomp.generator.ensureIteratorResultIsObject_ = function(result) {\n  if (!(result instanceof Object)) {\n    throw new TypeError(\"Iterator result \" + result + \" is not an object\");\n  }\n};\n$jscomp.generator.Context = function() {\n  this.isRunning_ = !1;\n  this.yieldAllIterator_ = null;\n  this.yieldResult = void 0;\n  this.nextAddress = 1;\n  this.finallyAddress_ = this.catchAddress_ = 0;\n  this.finallyContexts_ = this.abruptCompletion_ = null;\n};\n$jscomp.generator.Context.prototype.start_ = function() {\n  if (this.isRunning_) {\n    throw new TypeError(\"Generator is already running\");\n  }\n  this.isRunning_ = !0;\n};\n$jscomp.generator.Context.prototype.stop_ = function() {\n  this.isRunning_ = !1;\n};\n$jscomp.generator.Context.prototype.jumpToErrorHandler_ = function() {\n  this.nextAddress = this.catchAddress_ || this.finallyAddress_;\n};\n$jscomp.generator.Context.prototype.next_ = function(value) {\n  this.yieldResult = value;\n};\n$jscomp.generator.Context.prototype.throw_ = function(e) {\n  this.abruptCompletion_ = {exception:e, isException:!0};\n  this.jumpToErrorHandler_();\n};\n$jscomp.generator.Context.prototype.return = function(value) {\n  this.abruptCompletion_ = {return:value};\n  this.nextAddress = this.finallyAddress_;\n};\n$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks = function(nextAddress) {\n  this.abruptCompletion_ = {jumpTo:nextAddress};\n  this.nextAddress = this.finallyAddress_;\n};\n$jscomp.generator.Context.prototype.yield = function(value, resumeAddress) {\n  this.nextAddress = resumeAddress;\n  return {value:value};\n};\n$jscomp.generator.Context.prototype.yieldAll = function(iterable, resumeAddress) {\n  var iterator = $jscomp.makeIterator(iterable), result = iterator.next();\n  $jscomp.generator.ensureIteratorResultIsObject_(result);\n  if (result.done) {\n    this.yieldResult = result.value, this.nextAddress = resumeAddress;\n  } else {\n    return this.yieldAllIterator_ = iterator, this.yield(result.value, resumeAddress);\n  }\n};\n$jscomp.generator.Context.prototype.jumpTo = function(nextAddress) {\n  this.nextAddress = nextAddress;\n};\n$jscomp.generator.Context.prototype.jumpToEnd = function() {\n  this.nextAddress = 0;\n};\n$jscomp.generator.Context.prototype.setCatchFinallyBlocks = function(catchAddress, finallyAddress) {\n  this.catchAddress_ = catchAddress;\n  void 0 != finallyAddress && (this.finallyAddress_ = finallyAddress);\n};\n$jscomp.generator.Context.prototype.setFinallyBlock = function(finallyAddress) {\n  this.catchAddress_ = 0;\n  this.finallyAddress_ = finallyAddress || 0;\n};\n$jscomp.generator.Context.prototype.leaveTryBlock = function(nextAddress, catchAddress) {\n  this.nextAddress = nextAddress;\n  this.catchAddress_ = catchAddress || 0;\n};\n$jscomp.generator.Context.prototype.enterCatchBlock = function(nextCatchBlockAddress) {\n  this.catchAddress_ = nextCatchBlockAddress || 0;\n  var exception = this.abruptCompletion_.exception;\n  this.abruptCompletion_ = null;\n  return exception;\n};\n$jscomp.generator.Context.prototype.enterFinallyBlock = function(nextCatchAddress, nextFinallyAddress, finallyDepth) {\n  finallyDepth ? this.finallyContexts_[finallyDepth] = this.abruptCompletion_ : this.finallyContexts_ = [this.abruptCompletion_];\n  this.catchAddress_ = nextCatchAddress || 0;\n  this.finallyAddress_ = nextFinallyAddress || 0;\n};\n$jscomp.generator.Context.prototype.leaveFinallyBlock = function(nextAddress, finallyDepth) {\n  var preservedContext = this.finallyContexts_.splice(finallyDepth || 0)[0], abruptCompletion = this.abruptCompletion_ = this.abruptCompletion_ || preservedContext;\n  if (abruptCompletion) {\n    if (abruptCompletion.isException) {\n      return this.jumpToErrorHandler_();\n    }\n    void 0 != abruptCompletion.jumpTo && this.finallyAddress_ < abruptCompletion.jumpTo ? (this.nextAddress = abruptCompletion.jumpTo, this.abruptCompletion_ = null) : this.nextAddress = this.finallyAddress_;\n  } else {\n    this.nextAddress = nextAddress;\n  }\n};\n$jscomp.generator.Context.prototype.forIn = function(object) {\n  return new $jscomp.generator.Context.PropertyIterator(object);\n};\n$jscomp.generator.Context.PropertyIterator = function(object) {\n  this.object_ = object;\n  this.properties_ = [];\n  for (var property in object) {\n    this.properties_.push(property);\n  }\n  this.properties_.reverse();\n};\n$jscomp.generator.Context.PropertyIterator.prototype.getNext = function() {\n  for (; 0 < this.properties_.length;) {\n    var property = this.properties_.pop();\n    if (property in this.object_) {\n      return property;\n    }\n  }\n  return null;\n};\n$jscomp.generator.Engine_ = function(program) {\n  this.context_ = new $jscomp.generator.Context();\n  this.program_ = program;\n};\n$jscomp.generator.Engine_.prototype.next_ = function(value) {\n  this.context_.start_();\n  if (this.context_.yieldAllIterator_) {\n    return this.yieldAllStep_(this.context_.yieldAllIterator_.next, value, this.context_.next_);\n  }\n  this.context_.next_(value);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.return_ = function(value) {\n  this.context_.start_();\n  var yieldAllIterator = this.context_.yieldAllIterator_;\n  if (yieldAllIterator) {\n    return this.yieldAllStep_(\"return\" in yieldAllIterator ? yieldAllIterator[\"return\"] : function(v) {\n      return {value:v, done:!0};\n    }, value, this.context_.return);\n  }\n  this.context_.return(value);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.throw_ = function(exception) {\n  this.context_.start_();\n  if (this.context_.yieldAllIterator_) {\n    return this.yieldAllStep_(this.context_.yieldAllIterator_[\"throw\"], exception, this.context_.next_);\n  }\n  this.context_.throw_(exception);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.yieldAllStep_ = function(action, value, nextAction) {\n  try {\n    var result = action.call(this.context_.yieldAllIterator_, value);\n    $jscomp.generator.ensureIteratorResultIsObject_(result);\n    if (!result.done) {\n      return this.context_.stop_(), result;\n    }\n    var resultValue = result.value;\n  } catch (e) {\n    return this.context_.yieldAllIterator_ = null, this.context_.throw_(e), this.nextStep_();\n  }\n  this.context_.yieldAllIterator_ = null;\n  nextAction.call(this.context_, resultValue);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.nextStep_ = function() {\n  for (; this.context_.nextAddress;) {\n    try {\n      var yieldValue = this.program_(this.context_);\n      if (yieldValue) {\n        return this.context_.stop_(), {value:yieldValue.value, done:!1};\n      }\n    } catch (e) {\n      this.context_.yieldResult = void 0, this.context_.throw_(e);\n    }\n  }\n  this.context_.stop_();\n  if (this.context_.abruptCompletion_) {\n    var abruptCompletion = this.context_.abruptCompletion_;\n    this.context_.abruptCompletion_ = null;\n    if (abruptCompletion.isException) {\n      throw abruptCompletion.exception;\n    }\n    return {value:abruptCompletion.return, done:!0};\n  }\n  return {value:void 0, done:!0};\n};\n$jscomp.generator.Generator_ = function(engine) {\n  this.next = function(opt_value) {\n    return engine.next_(opt_value);\n  };\n  this.throw = function(exception) {\n    return engine.throw_(exception);\n  };\n  this.return = function(value) {\n    return engine.return_(value);\n  };\n  this[Symbol.iterator] = function() {\n    return this;\n  };\n};\n$jscomp.generator.createGenerator = function(generator, program) {\n  var result = new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(program));\n  $jscomp.setPrototypeOf && generator.prototype && $jscomp.setPrototypeOf(result, generator.prototype);\n  return result;\n};\n$jscomp.asyncExecutePromiseGenerator = function(generator) {\n  function passValueToGenerator(value) {\n    return generator.next(value);\n  }\n  function passErrorToGenerator(error) {\n    return generator.throw(error);\n  }\n  return new Promise(function(resolve, reject) {\n    function handleGeneratorRecord(genRec) {\n      genRec.done ? resolve(genRec.value) : Promise.resolve(genRec.value).then(passValueToGenerator, passErrorToGenerator).then(handleGeneratorRecord, reject);\n    }\n    handleGeneratorRecord(generator.next());\n  });\n};\n$jscomp.asyncExecutePromiseGeneratorFunction = function(generatorFunction) {\n  return $jscomp.asyncExecutePromiseGenerator(generatorFunction());\n};\n$jscomp.asyncExecutePromiseGeneratorProgram = function(program) {\n  return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(program)));\n};\n$jscomp.getRestArguments = function() {\n  for (var startIndex = Number(this), restArgs = [], i = startIndex; i < arguments.length; i++) {\n    restArgs[i - startIndex] = arguments[i];\n  }\n  return restArgs;\n};\n$jscomp.polyfill(\"Reflect\", function(orig) {\n  return orig ? orig : {};\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Reflect.construct\", function(orig) {\n  return $jscomp.construct;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Reflect.setPrototypeOf\", function(orig) {\n  if (orig) {\n    return orig;\n  }\n  if ($jscomp.setPrototypeOf) {\n    var setPrototypeOf = $jscomp.setPrototypeOf;\n    return function(target, proto) {\n      try {\n        return setPrototypeOf(target, proto), !0;\n      } catch (e) {\n        return !1;\n      }\n    };\n  }\n  return null;\n}, \"es6\", \"es5\");\n$jscomp.polyfill(\"Promise\", function(NativePromise) {\n  function platformSupportsPromiseRejectionEvents() {\n    return \"undefined\" !== typeof $jscomp.global.PromiseRejectionEvent;\n  }\n  function globalPromiseIsNative() {\n    return $jscomp.global.Promise && -1 !== $jscomp.global.Promise.toString().indexOf(\"[native code]\");\n  }\n  function shouldForcePolyfillPromise() {\n    return ($jscomp.FORCE_POLYFILL_PROMISE || $jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION && !platformSupportsPromiseRejectionEvents()) && globalPromiseIsNative();\n  }\n  function AsyncExecutor() {\n    this.batch_ = null;\n  }\n  function isObject(value) {\n    switch(typeof value) {\n      case \"object\":\n        return null != value;\n      case \"function\":\n        return !0;\n      default:\n        return !1;\n    }\n  }\n  function resolvingPromise(opt_value) {\n    return opt_value instanceof PolyfillPromise ? opt_value : new PolyfillPromise(function(resolve, reject) {\n      resolve(opt_value);\n    });\n  }\n  if (NativePromise && !shouldForcePolyfillPromise()) {\n    return NativePromise;\n  }\n  AsyncExecutor.prototype.asyncExecute = function(f) {\n    if (null == this.batch_) {\n      this.batch_ = [];\n      var self = this;\n      this.asyncExecuteFunction(function() {\n        self.executeBatch_();\n      });\n    }\n    this.batch_.push(f);\n  };\n  var nativeSetTimeout = $jscomp.global.setTimeout;\n  AsyncExecutor.prototype.asyncExecuteFunction = function(f) {\n    nativeSetTimeout(f, 0);\n  };\n  AsyncExecutor.prototype.executeBatch_ = function() {\n    for (; this.batch_ && this.batch_.length;) {\n      var executingBatch = this.batch_;\n      this.batch_ = [];\n      for (var i = 0; i < executingBatch.length; ++i) {\n        var f = executingBatch[i];\n        executingBatch[i] = null;\n        try {\n          f();\n        } catch (error) {\n          this.asyncThrow_(error);\n        }\n      }\n    }\n    this.batch_ = null;\n  };\n  AsyncExecutor.prototype.asyncThrow_ = function(exception) {\n    this.asyncExecuteFunction(function() {\n      throw exception;\n    });\n  };\n  var PromiseState = {PENDING:0, FULFILLED:1, REJECTED:2}, PolyfillPromise = function(executor) {\n    this.state_ = PromiseState.PENDING;\n    this.result_ = void 0;\n    this.onSettledCallbacks_ = [];\n    this.isRejectionHandled_ = !1;\n    var resolveAndReject = this.createResolveAndReject_();\n    try {\n      executor(resolveAndReject.resolve, resolveAndReject.reject);\n    } catch (e) {\n      resolveAndReject.reject(e);\n    }\n  };\n  PolyfillPromise.prototype.createResolveAndReject_ = function() {\n    function firstCallWins(method) {\n      return function(x) {\n        alreadyCalled || (alreadyCalled = !0, method.call(thisPromise, x));\n      };\n    }\n    var thisPromise = this, alreadyCalled = !1;\n    return {resolve:firstCallWins(this.resolveTo_), reject:firstCallWins(this.reject_)};\n  };\n  PolyfillPromise.prototype.resolveTo_ = function(value) {\n    value === this ? this.reject_(new TypeError(\"A Promise cannot resolve to itself\")) : value instanceof PolyfillPromise ? this.settleSameAsPromise_(value) : isObject(value) ? this.resolveToNonPromiseObj_(value) : this.fulfill_(value);\n  };\n  PolyfillPromise.prototype.resolveToNonPromiseObj_ = function(obj) {\n    var thenMethod = void 0;\n    try {\n      thenMethod = obj.then;\n    } catch (error) {\n      this.reject_(error);\n      return;\n    }\n    \"function\" == typeof thenMethod ? this.settleSameAsThenable_(thenMethod, obj) : this.fulfill_(obj);\n  };\n  PolyfillPromise.prototype.reject_ = function(reason) {\n    this.settle_(PromiseState.REJECTED, reason);\n  };\n  PolyfillPromise.prototype.fulfill_ = function(value) {\n    this.settle_(PromiseState.FULFILLED, value);\n  };\n  PolyfillPromise.prototype.settle_ = function(settledState, valueOrReason) {\n    if (this.state_ != PromiseState.PENDING) {\n      throw Error(\"Cannot settle(\" + settledState + \", \" + valueOrReason + \"): Promise already settled in state\" + this.state_);\n    }\n    this.state_ = settledState;\n    this.result_ = valueOrReason;\n    this.state_ === PromiseState.REJECTED && this.scheduleUnhandledRejectionCheck_();\n    this.executeOnSettledCallbacks_();\n  };\n  PolyfillPromise.prototype.scheduleUnhandledRejectionCheck_ = function() {\n    var self = this;\n    nativeSetTimeout(function() {\n      if (self.notifyUnhandledRejection_()) {\n        var nativeConsole = $jscomp.global.console;\n        \"undefined\" !== typeof nativeConsole && nativeConsole.error(self.result_);\n      }\n    }, 1);\n  };\n  PolyfillPromise.prototype.notifyUnhandledRejection_ = function() {\n    if (this.isRejectionHandled_) {\n      return !1;\n    }\n    var NativeCustomEvent = $jscomp.global.CustomEvent, NativeEvent = $jscomp.global.Event, nativeDispatchEvent = $jscomp.global.dispatchEvent;\n    if (\"undefined\" === typeof nativeDispatchEvent) {\n      return !0;\n    }\n    if (\"function\" === typeof NativeCustomEvent) {\n      var event = new NativeCustomEvent(\"unhandledrejection\", {cancelable:!0});\n    } else {\n      \"function\" === typeof NativeEvent ? event = new NativeEvent(\"unhandledrejection\", {cancelable:!0}) : (event = $jscomp.global.document.createEvent(\"CustomEvent\"), event.initCustomEvent(\"unhandledrejection\", !1, !0, event));\n    }\n    event.promise = this;\n    event.reason = this.result_;\n    return nativeDispatchEvent(event);\n  };\n  PolyfillPromise.prototype.executeOnSettledCallbacks_ = function() {\n    if (null != this.onSettledCallbacks_) {\n      for (var i = 0; i < this.onSettledCallbacks_.length; ++i) {\n        asyncExecutor.asyncExecute(this.onSettledCallbacks_[i]);\n      }\n      this.onSettledCallbacks_ = null;\n    }\n  };\n  var asyncExecutor = new AsyncExecutor();\n  PolyfillPromise.prototype.settleSameAsPromise_ = function(promise) {\n    var methods = this.createResolveAndReject_();\n    promise.callWhenSettled_(methods.resolve, methods.reject);\n  };\n  PolyfillPromise.prototype.settleSameAsThenable_ = function(thenMethod, thenable) {\n    var methods = this.createResolveAndReject_();\n    try {\n      thenMethod.call(thenable, methods.resolve, methods.reject);\n    } catch (error) {\n      methods.reject(error);\n    }\n  };\n  PolyfillPromise.prototype.then = function(onFulfilled, onRejected) {\n    function createCallback(paramF, defaultF) {\n      return \"function\" == typeof paramF ? function(x) {\n        try {\n          resolveChild(paramF(x));\n        } catch (error) {\n          rejectChild(error);\n        }\n      } : defaultF;\n    }\n    var resolveChild, rejectChild, childPromise = new PolyfillPromise(function(resolve, reject) {\n      resolveChild = resolve;\n      rejectChild = reject;\n    });\n    this.callWhenSettled_(createCallback(onFulfilled, resolveChild), createCallback(onRejected, rejectChild));\n    return childPromise;\n  };\n  PolyfillPromise.prototype.catch = function(onRejected) {\n    return this.then(void 0, onRejected);\n  };\n  PolyfillPromise.prototype.callWhenSettled_ = function(onFulfilled, onRejected) {\n    function callback() {\n      switch(thisPromise.state_) {\n        case PromiseState.FULFILLED:\n          onFulfilled(thisPromise.result_);\n          break;\n        case PromiseState.REJECTED:\n          onRejected(thisPromise.result_);\n          break;\n        default:\n          throw Error(\"Unexpected state: \" + thisPromise.state_);\n      }\n    }\n    var thisPromise = this;\n    null == this.onSettledCallbacks_ ? asyncExecutor.asyncExecute(callback) : this.onSettledCallbacks_.push(callback);\n    this.isRejectionHandled_ = !0;\n  };\n  PolyfillPromise.resolve = resolvingPromise;\n  PolyfillPromise.reject = function(opt_reason) {\n    return new PolyfillPromise(function(resolve, reject) {\n      reject(opt_reason);\n    });\n  };\n  PolyfillPromise.race = function(thenablesOrValues) {\n    return new PolyfillPromise(function(resolve, reject) {\n      for (var iterator = $jscomp.makeIterator(thenablesOrValues), iterRec = iterator.next(); !iterRec.done; iterRec = iterator.next()) {\n        resolvingPromise(iterRec.value).callWhenSettled_(resolve, reject);\n      }\n    });\n  };\n  PolyfillPromise.all = function(thenablesOrValues) {\n    var iterator = $jscomp.makeIterator(thenablesOrValues), iterRec = iterator.next();\n    return iterRec.done ? resolvingPromise([]) : new PolyfillPromise(function(resolveAll, rejectAll) {\n      function onFulfilled(i) {\n        return function(ithResult) {\n          resultsArray[i] = ithResult;\n          unresolvedCount--;\n          0 == unresolvedCount && resolveAll(resultsArray);\n        };\n      }\n      var resultsArray = [], unresolvedCount = 0;\n      do {\n        resultsArray.push(void 0), unresolvedCount++, resolvingPromise(iterRec.value).callWhenSettled_(onFulfilled(resultsArray.length - 1), rejectAll), iterRec = iterator.next();\n      } while (!iterRec.done);\n    });\n  };\n  return PolyfillPromise;\n}, \"es6\", \"es3\");\n$jscomp.checkEs6ConformanceViaProxy = function() {\n  try {\n    var proxied = {}, proxy = Object.create(new $jscomp.global.Proxy(proxied, {get:function(target, key, receiver) {\n      return target == proxied && \"q\" == key && receiver == proxy;\n    }}));\n    return !0 === proxy.q;\n  } catch (err) {\n    return !1;\n  }\n};\n$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS = !1;\n$jscomp.ES6_CONFORMANCE = $jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS && $jscomp.checkEs6ConformanceViaProxy();\n$jscomp.owns = function(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n$jscomp.polyfill(\"WeakMap\", function(NativeWeakMap) {\n  function isConformant() {\n    if (!NativeWeakMap || !Object.seal) {\n      return !1;\n    }\n    try {\n      var x = Object.seal({}), y = Object.seal({}), map = new NativeWeakMap([[x, 2], [y, 3]]);\n      if (2 != map.get(x) || 3 != map.get(y)) {\n        return !1;\n      }\n      map.delete(x);\n      map.set(y, 4);\n      return !map.has(x) && 4 == map.get(y);\n    } catch (err) {\n      return !1;\n    }\n  }\n  function WeakMapMembership() {\n  }\n  function isValidKey(key) {\n    var type = typeof key;\n    return \"object\" === type && null !== key || \"function\" === type;\n  }\n  function insert(target) {\n    if (!$jscomp.owns(target, prop)) {\n      var obj = new WeakMapMembership();\n      $jscomp.defineProperty(target, prop, {value:obj});\n    }\n  }\n  function patch(name) {\n    if (!$jscomp.ISOLATE_POLYFILLS) {\n      var prev = Object[name];\n      prev && (Object[name] = function(target) {\n        if (target instanceof WeakMapMembership) {\n          return target;\n        }\n        Object.isExtensible(target) && insert(target);\n        return prev(target);\n      });\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeWeakMap && $jscomp.ES6_CONFORMANCE) {\n      return NativeWeakMap;\n    }\n  } else {\n    if (isConformant()) {\n      return NativeWeakMap;\n    }\n  }\n  var prop = \"$jscomp_hidden_\" + Math.random();\n  patch(\"freeze\");\n  patch(\"preventExtensions\");\n  patch(\"seal\");\n  var index = 0, PolyfillWeakMap = function(opt_iterable) {\n    this.id_ = (index += Math.random() + 1).toString();\n    if (opt_iterable) {\n      for (var iter = $jscomp.makeIterator(opt_iterable), entry; !(entry = iter.next()).done;) {\n        var item = entry.value;\n        this.set(item[0], item[1]);\n      }\n    }\n  };\n  PolyfillWeakMap.prototype.set = function(key, value) {\n    if (!isValidKey(key)) {\n      throw Error(\"Invalid WeakMap key\");\n    }\n    insert(key);\n    if (!$jscomp.owns(key, prop)) {\n      throw Error(\"WeakMap key fail: \" + key);\n    }\n    key[prop][this.id_] = value;\n    return this;\n  };\n  PolyfillWeakMap.prototype.get = function(key) {\n    return isValidKey(key) && $jscomp.owns(key, prop) ? key[prop][this.id_] : void 0;\n  };\n  PolyfillWeakMap.prototype.has = function(key) {\n    return isValidKey(key) && $jscomp.owns(key, prop) && $jscomp.owns(key[prop], this.id_);\n  };\n  PolyfillWeakMap.prototype.delete = function(key) {\n    return isValidKey(key) && $jscomp.owns(key, prop) && $jscomp.owns(key[prop], this.id_) ? delete key[prop][this.id_] : !1;\n  };\n  return PolyfillWeakMap;\n}, \"es6\", \"es3\");\n$jscomp.MapEntry = function() {\n};\n$jscomp.polyfill(\"Map\", function(NativeMap) {\n  function isConformant() {\n    if ($jscomp.ASSUME_NO_NATIVE_MAP || !NativeMap || \"function\" != typeof NativeMap || !NativeMap.prototype.entries || \"function\" != typeof Object.seal) {\n      return !1;\n    }\n    try {\n      var key = Object.seal({x:4}), map = new NativeMap($jscomp.makeIterator([[key, \"s\"]]));\n      if (\"s\" != map.get(key) || 1 != map.size || map.get({x:4}) || map.set({x:4}, \"t\") != map || 2 != map.size) {\n        return !1;\n      }\n      var iter = map.entries(), item = iter.next();\n      if (item.done || item.value[0] != key || \"s\" != item.value[1]) {\n        return !1;\n      }\n      item = iter.next();\n      return item.done || 4 != item.value[0].x || \"t\" != item.value[1] || !iter.next().done ? !1 : !0;\n    } catch (err) {\n      return !1;\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeMap && $jscomp.ES6_CONFORMANCE) {\n      return NativeMap;\n    }\n  } else {\n    if (isConformant()) {\n      return NativeMap;\n    }\n  }\n  var idMap = new WeakMap(), PolyfillMap = function(opt_iterable) {\n    this.data_ = {};\n    this.head_ = createHead();\n    this.size = 0;\n    if (opt_iterable) {\n      for (var iter = $jscomp.makeIterator(opt_iterable), entry; !(entry = iter.next()).done;) {\n        var item = entry.value;\n        this.set(item[0], item[1]);\n      }\n    }\n  };\n  PolyfillMap.prototype.set = function(key, value) {\n    key = 0 === key ? 0 : key;\n    var r = maybeGetEntry(this, key);\n    r.list || (r.list = this.data_[r.id] = []);\n    r.entry ? r.entry.value = value : (r.entry = {next:this.head_, previous:this.head_.previous, head:this.head_, key:key, value:value,}, r.list.push(r.entry), this.head_.previous.next = r.entry, this.head_.previous = r.entry, this.size++);\n    return this;\n  };\n  PolyfillMap.prototype.delete = function(key) {\n    var r = maybeGetEntry(this, key);\n    return r.entry && r.list ? (r.list.splice(r.index, 1), r.list.length || delete this.data_[r.id], r.entry.previous.next = r.entry.next, r.entry.next.previous = r.entry.previous, r.entry.head = null, this.size--, !0) : !1;\n  };\n  PolyfillMap.prototype.clear = function() {\n    this.data_ = {};\n    this.head_ = this.head_.previous = createHead();\n    this.size = 0;\n  };\n  PolyfillMap.prototype.has = function(key) {\n    return !!maybeGetEntry(this, key).entry;\n  };\n  PolyfillMap.prototype.get = function(key) {\n    var entry = maybeGetEntry(this, key).entry;\n    return entry && entry.value;\n  };\n  PolyfillMap.prototype.entries = function() {\n    return makeIterator(this, function(entry) {\n      return [entry.key, entry.value];\n    });\n  };\n  PolyfillMap.prototype.keys = function() {\n    return makeIterator(this, function(entry) {\n      return entry.key;\n    });\n  };\n  PolyfillMap.prototype.values = function() {\n    return makeIterator(this, function(entry) {\n      return entry.value;\n    });\n  };\n  PolyfillMap.prototype.forEach = function(callback, opt_thisArg) {\n    for (var iter = this.entries(), item; !(item = iter.next()).done;) {\n      var entry = item.value;\n      callback.call(opt_thisArg, entry[1], entry[0], this);\n    }\n  };\n  PolyfillMap.prototype[Symbol.iterator] = PolyfillMap.prototype.entries;\n  var maybeGetEntry = function(map, key) {\n    var id = getId(key), list = map.data_[id];\n    if (list && $jscomp.owns(map.data_, id)) {\n      for (var index = 0; index < list.length; index++) {\n        var entry = list[index];\n        if (key !== key && entry.key !== entry.key || key === entry.key) {\n          return {id:id, list:list, index:index, entry:entry};\n        }\n      }\n    }\n    return {id:id, list:list, index:-1, entry:void 0};\n  }, makeIterator = function(map, func) {\n    var entry = map.head_;\n    return $jscomp.iteratorPrototype(function() {\n      if (entry) {\n        for (; entry.head != map.head_;) {\n          entry = entry.previous;\n        }\n        for (; entry.next != entry.head;) {\n          return entry = entry.next, {done:!1, value:func(entry)};\n        }\n        entry = null;\n      }\n      return {done:!0, value:void 0};\n    });\n  }, createHead = function() {\n    var head = {};\n    return head.previous = head.next = head.head = head;\n  }, mapIndex = 0, getId = function(obj) {\n    var type = obj && typeof obj;\n    if (\"object\" == type || \"function\" == type) {\n      if (!idMap.has(obj)) {\n        var id = \"\" + ++mapIndex;\n        idMap.set(obj, id);\n        return id;\n      }\n      return idMap.get(obj);\n    }\n    return \"p_\" + obj;\n  };\n  return PolyfillMap;\n}, \"es6\", \"es3\");\n$jscomp.findInternal = function(array, callback, thisArg) {\n  array instanceof String && (array = String(array));\n  for (var len = array.length, i = 0; i < len; i++) {\n    var value = array[i];\n    if (callback.call(thisArg, value, i, array)) {\n      return {i:i, v:value};\n    }\n  }\n  return {i:-1, v:void 0};\n};\n$jscomp.polyfill(\"Array.prototype.find\", function(orig) {\n  return orig ? orig : function(callback, opt_thisArg) {\n    return $jscomp.findInternal(this, callback, opt_thisArg).v;\n  };\n}, \"es6\", \"es3\");\n$jscomp.checkStringArgs = function(thisArg, arg, func) {\n  if (null == thisArg) {\n    throw new TypeError(\"The 'this' value for String.prototype.\" + func + \" must not be null or undefined\");\n  }\n  if (arg instanceof RegExp) {\n    throw new TypeError(\"First argument to String.prototype.\" + func + \" must not be a regular expression\");\n  }\n  return thisArg + \"\";\n};\n$jscomp.polyfill(\"String.prototype.repeat\", function(orig) {\n  return orig ? orig : function(copies) {\n    var string = $jscomp.checkStringArgs(this, null, \"repeat\");\n    if (0 > copies || 1342177279 < copies) {\n      throw new RangeError(\"Invalid count value\");\n    }\n    copies |= 0;\n    for (var result = \"\"; copies;) {\n      if (copies & 1 && (result += string), copies >>>= 1) {\n        string += string;\n      }\n    }\n    return result;\n  };\n}, \"es6\", \"es3\");\n$jscomp.iteratorFromArray = function(array, transform) {\n  array instanceof String && (array += \"\");\n  var i = 0, done = !1, iter = {next:function() {\n    if (!done && i < array.length) {\n      var index = i++;\n      return {value:transform(index, array[index]), done:!1};\n    }\n    done = !0;\n    return {done:!0, value:void 0};\n  }};\n  iter[Symbol.iterator] = function() {\n    return iter;\n  };\n  return iter;\n};\n$jscomp.polyfill(\"Array.prototype.keys\", function(orig) {\n  return orig ? orig : function() {\n    return $jscomp.iteratorFromArray(this, function(i) {\n      return i;\n    });\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Array.from\", function(orig) {\n  return orig ? orig : function(arrayLike, opt_mapFn, opt_thisArg) {\n    opt_mapFn = null != opt_mapFn ? opt_mapFn : function(x) {\n      return x;\n    };\n    var result = [], iteratorFunction = \"undefined\" != typeof Symbol && Symbol.iterator && arrayLike[Symbol.iterator];\n    if (\"function\" == typeof iteratorFunction) {\n      arrayLike = iteratorFunction.call(arrayLike);\n      for (var next, k = 0; !(next = arrayLike.next()).done;) {\n        result.push(opt_mapFn.call(opt_thisArg, next.value, k++));\n      }\n    } else {\n      for (var len = arrayLike.length, i = 0; i < len; i++) {\n        result.push(opt_mapFn.call(opt_thisArg, arrayLike[i], i));\n      }\n    }\n    return result;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Array.prototype.values\", function(orig) {\n  return orig ? orig : function() {\n    return $jscomp.iteratorFromArray(this, function(k, v) {\n      return v;\n    });\n  };\n}, \"es8\", \"es3\");\n$jscomp.polyfill(\"Object.setPrototypeOf\", function(orig) {\n  return orig || $jscomp.setPrototypeOf;\n}, \"es6\", \"es5\");\n$jscomp.assign = $jscomp.TRUST_ES6_POLYFILLS && \"function\" == typeof Object.assign ? Object.assign : function(target, var_args) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    if (source) {\n      for (var key in source) {\n        $jscomp.owns(source, key) && (target[key] = source[key]);\n      }\n    }\n  }\n  return target;\n};\n$jscomp.polyfill(\"Object.assign\", function(orig) {\n  return orig || $jscomp.assign;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"String.prototype.endsWith\", function(orig) {\n  return orig ? orig : function(searchString, opt_position) {\n    var string = $jscomp.checkStringArgs(this, searchString, \"endsWith\");\n    searchString += \"\";\n    void 0 === opt_position && (opt_position = string.length);\n    for (var i = Math.max(0, Math.min(opt_position | 0, string.length)), j = searchString.length; 0 < j && 0 < i;) {\n      if (string[--i] != searchString[--j]) {\n        return !1;\n      }\n    }\n    return 0 >= j;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"String.prototype.startsWith\", function(orig) {\n  return orig ? orig : function(searchString, opt_position) {\n    var string = $jscomp.checkStringArgs(this, searchString, \"startsWith\");\n    searchString += \"\";\n    for (var strLen = string.length, searchLen = searchString.length, i = Math.max(0, Math.min(opt_position | 0, string.length)), j = 0; j < searchLen && i < strLen;) {\n      if (string[i++] != searchString[j++]) {\n        return !1;\n      }\n    }\n    return j >= searchLen;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Number.isFinite\", function(orig) {\n  return orig ? orig : function(x) {\n    return \"number\" !== typeof x ? !1 : !isNaN(x) && Infinity !== x && -Infinity !== x;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Object.entries\", function(orig) {\n  return orig ? orig : function(obj) {\n    var result = [], key;\n    for (key in obj) {\n      $jscomp.owns(obj, key) && result.push([key, obj[key]]);\n    }\n    return result;\n  };\n}, \"es8\", \"es3\");\n$jscomp.polyfill(\"Object.is\", function(orig) {\n  return orig ? orig : function(left, right) {\n    return left === right ? 0 !== left || 1 / left === 1 / right : left !== left && right !== right;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Array.prototype.includes\", function(orig) {\n  return orig ? orig : function(searchElement, opt_fromIndex) {\n    var array = this;\n    array instanceof String && (array = String(array));\n    var len = array.length, i = opt_fromIndex || 0;\n    for (0 > i && (i = Math.max(i + len, 0)); i < len; i++) {\n      var element = array[i];\n      if (element === searchElement || Object.is(element, searchElement)) {\n        return !0;\n      }\n    }\n    return !1;\n  };\n}, \"es7\", \"es3\");\n$jscomp.polyfill(\"String.prototype.includes\", function(orig) {\n  return orig ? orig : function(searchString, opt_position) {\n    return -1 !== $jscomp.checkStringArgs(this, searchString, \"includes\").indexOf(searchString, opt_position || 0);\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"String.prototype.trimLeft\", function(orig) {\n  function polyfill() {\n    return this.replace(/^[\\s\\xa0]+/, \"\");\n  }\n  return orig || polyfill;\n}, \"es_2019\", \"es3\");\n$jscomp.polyfill(\"Array.prototype.entries\", function(orig) {\n  return orig ? orig : function() {\n    return $jscomp.iteratorFromArray(this, function(i, v) {\n      return [i, v];\n    });\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Set\", function(NativeSet) {\n  function isConformant() {\n    if ($jscomp.ASSUME_NO_NATIVE_SET || !NativeSet || \"function\" != typeof NativeSet || !NativeSet.prototype.entries || \"function\" != typeof Object.seal) {\n      return !1;\n    }\n    try {\n      var value = Object.seal({x:4}), set = new NativeSet($jscomp.makeIterator([value]));\n      if (!set.has(value) || 1 != set.size || set.add(value) != set || 1 != set.size || set.add({x:4}) != set || 2 != set.size) {\n        return !1;\n      }\n      var iter = set.entries(), item = iter.next();\n      if (item.done || item.value[0] != value || item.value[1] != value) {\n        return !1;\n      }\n      item = iter.next();\n      return item.done || item.value[0] == value || 4 != item.value[0].x || item.value[1] != item.value[0] ? !1 : iter.next().done;\n    } catch (err) {\n      return !1;\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeSet && $jscomp.ES6_CONFORMANCE) {\n      return NativeSet;\n    }\n  } else {\n    if (isConformant()) {\n      return NativeSet;\n    }\n  }\n  var PolyfillSet = function(opt_iterable) {\n    this.map_ = new Map();\n    if (opt_iterable) {\n      for (var iter = $jscomp.makeIterator(opt_iterable), entry; !(entry = iter.next()).done;) {\n        this.add(entry.value);\n      }\n    }\n    this.size = this.map_.size;\n  };\n  PolyfillSet.prototype.add = function(value) {\n    value = 0 === value ? 0 : value;\n    this.map_.set(value, value);\n    this.size = this.map_.size;\n    return this;\n  };\n  PolyfillSet.prototype.delete = function(value) {\n    var result = this.map_.delete(value);\n    this.size = this.map_.size;\n    return result;\n  };\n  PolyfillSet.prototype.clear = function() {\n    this.map_.clear();\n    this.size = 0;\n  };\n  PolyfillSet.prototype.has = function(value) {\n    return this.map_.has(value);\n  };\n  PolyfillSet.prototype.entries = function() {\n    return this.map_.entries();\n  };\n  PolyfillSet.prototype.values = function() {\n    return this.map_.values();\n  };\n  PolyfillSet.prototype.keys = PolyfillSet.prototype.values;\n  PolyfillSet.prototype[Symbol.iterator] = PolyfillSet.prototype.values;\n  PolyfillSet.prototype.forEach = function(callback, opt_thisArg) {\n    var set = this;\n    this.map_.forEach(function(value) {\n      return callback.call(opt_thisArg, value, value, set);\n    });\n  };\n  return PolyfillSet;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Object.values\", function(orig) {\n  return orig ? orig : function(obj) {\n    var result = [], key;\n    for (key in obj) {\n      $jscomp.owns(obj, key) && result.push(obj[key]);\n    }\n    return result;\n  };\n}, \"es8\", \"es3\");\n$jscomp.stringPadding = function(padString, padLength) {\n  var padding = void 0 !== padString ? String(padString) : \" \";\n  return 0 < padLength && padding ? padding.repeat(Math.ceil(padLength / padding.length)).substring(0, padLength) : \"\";\n};\n$jscomp.polyfill(\"String.prototype.padStart\", function(orig) {\n  return orig ? orig : function(targetLength, opt_padString) {\n    var string = $jscomp.checkStringArgs(this, null, \"padStart\");\n    return $jscomp.stringPadding(opt_padString, targetLength - string.length) + string;\n  };\n}, \"es8\", \"es3\");\nvar goog = goog || {};\ngoog.global = this || self;\ngoog.exportPath_ = function(name, object, overwriteImplicit, objectToExportTo) {\n  var parts = name.split(\".\"), cur = objectToExportTo || goog.global;\n  parts[0] in cur || \"undefined\" == typeof cur.execScript || cur.execScript(\"var \" + parts[0]);\n  for (var part; parts.length && (part = parts.shift());) {\n    if (parts.length || void 0 === object) {\n      cur = cur[part] && cur[part] !== Object.prototype[part] ? cur[part] : cur[part] = {};\n    } else {\n      if (!overwriteImplicit && goog.isObject(object) && goog.isObject(cur[part])) {\n        for (var prop in object) {\n          object.hasOwnProperty(prop) && (cur[part][prop] = object[prop]);\n        }\n      } else {\n        cur[part] = object;\n      }\n    }\n  }\n};\ngoog.define = function(name, defaultValue) {\n  var defines, uncompiledDefines;\n  return defaultValue;\n};\ngoog.FEATURESET_YEAR = 2012;\ngoog.DEBUG = !0;\ngoog.LOCALE = \"en\";\ngoog.getLocale = function() {\n  return goog.LOCALE;\n};\ngoog.TRUSTED_SITE = !0;\ngoog.DISALLOW_TEST_ONLY_CODE = !goog.DEBUG;\ngoog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING = !1;\ngoog.provide = function(name) {\n  if (goog.isInModuleLoader_()) {\n    throw Error(\"goog.provide cannot be used within a module.\");\n  }\n  goog.constructNamespace_(name);\n};\ngoog.constructNamespace_ = function(name, object, overwriteImplicit) {\n  var namespace;\n  goog.exportPath_(name, object, overwriteImplicit);\n};\ngoog.NONCE_PATTERN_ = /^[\\w+/_-]+[=]{0,2}$/;\ngoog.getScriptNonce_ = function(opt_window) {\n  var doc = (opt_window || goog.global).document, script = doc.querySelector && doc.querySelector(\"script[nonce]\");\n  if (script) {\n    var nonce = script.nonce || script.getAttribute(\"nonce\");\n    if (nonce && goog.NONCE_PATTERN_.test(nonce)) {\n      return nonce;\n    }\n  }\n  return \"\";\n};\ngoog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;\ngoog.module = function(name) {\n  if (\"string\" !== typeof name || !name || -1 == name.search(goog.VALID_MODULE_RE_)) {\n    throw Error(\"Invalid module identifier\");\n  }\n  if (!goog.isInGoogModuleLoader_()) {\n    throw Error(\"Module \" + name + \" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.\");\n  }\n  if (goog.moduleLoaderState_.moduleName) {\n    throw Error(\"goog.module may only be called once per module.\");\n  }\n  goog.moduleLoaderState_.moduleName = name;\n};\ngoog.module.get = function(name) {\n  return goog.module.getInternal_(name);\n};\ngoog.module.getInternal_ = function(name) {\n  var ns;\n  return null;\n};\ngoog.ModuleType = {ES6:\"es6\", GOOG:\"goog\"};\ngoog.moduleLoaderState_ = null;\ngoog.isInModuleLoader_ = function() {\n  return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();\n};\ngoog.isInGoogModuleLoader_ = function() {\n  return !!goog.moduleLoaderState_ && goog.moduleLoaderState_.type == goog.ModuleType.GOOG;\n};\ngoog.isInEs6ModuleLoader_ = function() {\n  if (goog.moduleLoaderState_ && goog.moduleLoaderState_.type == goog.ModuleType.ES6) {\n    return !0;\n  }\n  var jscomp = goog.global.$jscomp;\n  return jscomp ? \"function\" != typeof jscomp.getCurrentModulePath ? !1 : !!jscomp.getCurrentModulePath() : !1;\n};\ngoog.module.declareLegacyNamespace = function() {\n  goog.moduleLoaderState_.declareLegacyNamespace = !0;\n};\ngoog.declareModuleId = function(namespace) {\n  if (goog.moduleLoaderState_) {\n    goog.moduleLoaderState_.moduleName = namespace;\n  } else {\n    var jscomp = goog.global.$jscomp;\n    if (!jscomp || \"function\" != typeof jscomp.getCurrentModulePath) {\n      throw Error('Module with namespace \"' + namespace + '\" has been loaded incorrectly.');\n    }\n    var exports = jscomp.require(jscomp.getCurrentModulePath());\n    goog.loadedModules_[namespace] = {exports:exports, type:goog.ModuleType.ES6, moduleId:namespace};\n  }\n};\ngoog.setTestOnly = function(opt_message) {\n  if (goog.DISALLOW_TEST_ONLY_CODE) {\n    throw opt_message = opt_message || \"\", Error(\"Importing test-only code into non-debug environment\" + (opt_message ? \": \" + opt_message : \".\"));\n  }\n};\ngoog.forwardDeclare = function(name) {\n};\ngoog.getObjectByName = function(name, opt_obj) {\n  for (var parts = name.split(\".\"), cur = opt_obj || goog.global, i = 0; i < parts.length; i++) {\n    if (cur = cur[parts[i]], null == cur) {\n      return null;\n    }\n  }\n  return cur;\n};\ngoog.addDependency = function(relPath, provides, requires, opt_loadFlags) {\n};\ngoog.ENABLE_DEBUG_LOADER = !0;\ngoog.logToConsole_ = function(msg) {\n  goog.global.console && goog.global.console.error(msg);\n};\ngoog.require = function(namespace) {\n  var moduleLoaderState;\n};\ngoog.requireType = function(namespace) {\n  return {};\n};\ngoog.basePath = \"\";\ngoog.nullFunction = function() {\n};\ngoog.abstractMethod = function() {\n  throw Error(\"unimplemented abstract method\");\n};\ngoog.addSingletonGetter = function(ctor) {\n  ctor.instance_ = void 0;\n  ctor.getInstance = function() {\n    if (ctor.instance_) {\n      return ctor.instance_;\n    }\n    goog.DEBUG && (goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor);\n    return ctor.instance_ = new ctor();\n  };\n};\ngoog.instantiatedSingletons_ = [];\ngoog.LOAD_MODULE_USING_EVAL = !0;\ngoog.SEAL_MODULE_EXPORTS = goog.DEBUG;\ngoog.loadedModules_ = {};\ngoog.DEPENDENCIES_ENABLED = !1;\ngoog.TRANSPILE = \"detect\";\ngoog.ASSUME_ES_MODULES_TRANSPILED = !1;\ngoog.TRANSPILE_TO_LANGUAGE = \"\";\ngoog.TRANSPILER = \"transpile.js\";\ngoog.TRUSTED_TYPES_POLICY_NAME = \"goog\";\ngoog.hasBadLetScoping = null;\ngoog.loadModule = function(moduleDef) {\n  var previousState = goog.moduleLoaderState_;\n  try {\n    goog.moduleLoaderState_ = {moduleName:\"\", declareLegacyNamespace:!1, type:goog.ModuleType.GOOG};\n    var origExports = {}, exports = origExports;\n    if (\"function\" === typeof moduleDef) {\n      exports = moduleDef.call(void 0, exports);\n    } else {\n      if (\"string\" === typeof moduleDef) {\n        exports = goog.loadModuleFromSource_.call(void 0, exports, moduleDef);\n      } else {\n        throw Error(\"Invalid module definition\");\n      }\n    }\n    var moduleName = goog.moduleLoaderState_.moduleName;\n    if (\"string\" === typeof moduleName && moduleName) {\n      goog.moduleLoaderState_.declareLegacyNamespace ? goog.constructNamespace_(moduleName, exports, origExports !== exports) : goog.SEAL_MODULE_EXPORTS && Object.seal && \"object\" == typeof exports && null != exports && Object.seal(exports), goog.loadedModules_[moduleName] = {exports:exports, type:goog.ModuleType.GOOG, moduleId:goog.moduleLoaderState_.moduleName};\n    } else {\n      throw Error('Invalid module name \"' + moduleName + '\"');\n    }\n  } finally {\n    goog.moduleLoaderState_ = previousState;\n  }\n};\ngoog.loadModuleFromSource_ = function(exports, JSCompiler_OptimizeArgumentsArray_p0) {\n  eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(JSCompiler_OptimizeArgumentsArray_p0));\n  return exports;\n};\ngoog.normalizePath_ = function(path) {\n  for (var components = path.split(\"/\"), i = 0; i < components.length;) {\n    \".\" == components[i] ? components.splice(i, 1) : i && \"..\" == components[i] && components[i - 1] && \"..\" != components[i - 1] ? components.splice(--i, 2) : i++;\n  }\n  return components.join(\"/\");\n};\ngoog.loadFileSync_ = function(src) {\n  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {\n    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);\n  }\n  try {\n    var xhr = new goog.global.XMLHttpRequest();\n    xhr.open(\"get\", src, !1);\n    xhr.send();\n    return 0 == xhr.status || 200 == xhr.status ? xhr.responseText : null;\n  } catch (err) {\n    return null;\n  }\n};\ngoog.transpile_ = function(code$jscomp$0, path$jscomp$0, target) {\n  var jscomp = goog.global.$jscomp;\n  jscomp || (goog.global.$jscomp = jscomp = {});\n  var transpile = jscomp.transpile;\n  if (!transpile) {\n    var transpilerPath = goog.basePath + goog.TRANSPILER, transpilerCode = goog.loadFileSync_(transpilerPath);\n    if (transpilerCode) {\n      (function() {\n        (0,eval)(transpilerCode + \"\\n//# sourceURL=\" + transpilerPath);\n      }).call(goog.global);\n      if (goog.global.$gwtExport && goog.global.$gwtExport.$jscomp && !goog.global.$gwtExport.$jscomp.transpile) {\n        throw Error('The transpiler did not properly export the \"transpile\" method. $gwtExport: ' + JSON.stringify(goog.global.$gwtExport));\n      }\n      goog.global.$jscomp.transpile = goog.global.$gwtExport.$jscomp.transpile;\n      jscomp = goog.global.$jscomp;\n      transpile = jscomp.transpile;\n    }\n  }\n  if (!transpile) {\n    var suffix = \" requires transpilation but no transpiler was found.\";\n    suffix += ' Please add \"//javascript/closure:transpiler\" as a data dependency to ensure it is included.';\n    transpile = jscomp.transpile = function(code, path) {\n      goog.logToConsole_(path + suffix);\n      return code;\n    };\n  }\n  return transpile(code$jscomp$0, path$jscomp$0, target);\n};\ngoog.typeOf = function(value) {\n  var s = typeof value;\n  return \"object\" != s ? s : value ? Array.isArray(value) ? \"array\" : s : \"null\";\n};\ngoog.isArrayLike = function(val) {\n  var type = goog.typeOf(val);\n  return \"array\" == type || \"object\" == type && \"number\" == typeof val.length;\n};\ngoog.isDateLike = function(val) {\n  return goog.isObject(val) && \"function\" == typeof val.getFullYear;\n};\ngoog.isObject = function(val) {\n  var type = typeof val;\n  return \"object\" == type && null != val || \"function\" == type;\n};\ngoog.getUid = function(obj) {\n  return Object.prototype.hasOwnProperty.call(obj, goog.UID_PROPERTY_) && obj[goog.UID_PROPERTY_] || (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\ngoog.hasUid = function(obj) {\n  return !!obj[goog.UID_PROPERTY_];\n};\ngoog.removeUid = function(obj) {\n  null !== obj && \"removeAttribute\" in obj && obj.removeAttribute(goog.UID_PROPERTY_);\n  try {\n    delete obj[goog.UID_PROPERTY_];\n  } catch (ex) {\n  }\n};\ngoog.UID_PROPERTY_ = \"closure_uid_\" + (1e9 * Math.random() >>> 0);\ngoog.uidCounter_ = 0;\ngoog.cloneObject = function(obj) {\n  var type = goog.typeOf(obj);\n  if (\"object\" == type || \"array\" == type) {\n    if (\"function\" === typeof obj.clone) {\n      return obj.clone();\n    }\n    if (\"undefined\" !== typeof Map && obj instanceof Map) {\n      return new Map(obj);\n    }\n    if (\"undefined\" !== typeof Set && obj instanceof Set) {\n      return new Set(obj);\n    }\n    var clone = \"array\" == type ? [] : {}, key;\n    for (key in obj) {\n      clone[key] = goog.cloneObject(obj[key]);\n    }\n    return clone;\n  }\n  return obj;\n};\ngoog.bindNative_ = function(fn, selfObj, var_args) {\n  return fn.call.apply(fn.bind, arguments);\n};\ngoog.bindJs_ = function(fn, selfObj, var_args) {\n  if (!fn) {\n    throw Error();\n  }\n  if (2 < arguments.length) {\n    var boundArgs = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      var newArgs = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(newArgs, boundArgs);\n      return fn.apply(selfObj, newArgs);\n    };\n  }\n  return function() {\n    return fn.apply(selfObj, arguments);\n  };\n};\ngoog.bind = function(fn, selfObj, var_args) {\n  Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? goog.bind = goog.bindNative_ : goog.bind = goog.bindJs_;\n  return goog.bind.apply(null, arguments);\n};\ngoog.partial = function(fn, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    var newArgs = args.slice();\n    newArgs.push.apply(newArgs, arguments);\n    return fn.apply(this, newArgs);\n  };\n};\ngoog.mixin = function(target, source) {\n  for (var x in source) {\n    target[x] = source[x];\n  }\n};\ngoog.now = function() {\n  return Date.now();\n};\ngoog.globalEval = function(script) {\n  (0,eval)(script);\n};\ngoog.getCssName = function(className, opt_modifier) {\n  if (\".\" == String(className).charAt(0)) {\n    throw Error('className passed in goog.getCssName must not start with \".\". You passed: ' + className);\n  }\n  var getMapping = function(cssName) {\n    return goog.cssNameMapping_[cssName] || cssName;\n  }, renameByParts = function(cssName) {\n    for (var parts = cssName.split(\"-\"), mapped = [], i = 0; i < parts.length; i++) {\n      mapped.push(getMapping(parts[i]));\n    }\n    return mapped.join(\"-\");\n  };\n  var rename = goog.cssNameMapping_ ? \"BY_WHOLE\" == goog.cssNameMappingStyle_ ? getMapping : renameByParts : function(a) {\n    return a;\n  };\n  var result = opt_modifier ? className + \"-\" + rename(opt_modifier) : rename(className);\n  return goog.global.CLOSURE_CSS_NAME_MAP_FN ? goog.global.CLOSURE_CSS_NAME_MAP_FN(result) : result;\n};\ngoog.setCssNameMapping = function(mapping, opt_style) {\n  goog.cssNameMapping_ = mapping;\n  goog.cssNameMappingStyle_ = opt_style;\n};\ngoog.getMsg = function(str, opt_values, opt_options) {\n  opt_options && opt_options.html && (str = str.replace(/</g, \"&lt;\"));\n  opt_options && opt_options.unescapeHtmlEntities && (str = str.replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\").replace(/&apos;/g, \"'\").replace(/&quot;/g, '\"').replace(/&amp;/g, \"&\"));\n  opt_values && (str = str.replace(/\\{\\$([^}]+)}/g, function(match, key) {\n    return null != opt_values && key in opt_values ? opt_values[key] : match;\n  }));\n  return str;\n};\ngoog.getMsgWithFallback = function(a, b) {\n  return a;\n};\ngoog.exportSymbol = function(publicPath, object, objectToExportTo) {\n  goog.exportPath_(publicPath, object, !0, objectToExportTo);\n};\ngoog.exportProperty = function(object, publicName, symbol) {\n  object[publicName] = symbol;\n};\ngoog.inherits = function(childCtor, parentCtor) {\n  function tempCtor() {\n  }\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  childCtor.prototype.constructor = childCtor;\n  childCtor.base = function(me, methodName, var_args) {\n    for (var args = Array(arguments.length - 2), i = 2; i < arguments.length; i++) {\n      args[i - 2] = arguments[i];\n    }\n    return parentCtor.prototype[methodName].apply(me, args);\n  };\n};\ngoog.scope = function(fn) {\n  if (goog.isInModuleLoader_()) {\n    throw Error(\"goog.scope is not supported within a module.\");\n  }\n  fn.call(goog.global);\n};\ngoog.defineClass = function(superClass, def) {\n  var constructor = def.constructor, statics = def.statics;\n  constructor && constructor != Object.prototype.constructor || (constructor = function() {\n    throw Error(\"cannot instantiate an interface (no constructor defined).\");\n  });\n  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);\n  superClass && goog.inherits(cls, superClass);\n  delete def.constructor;\n  delete def.statics;\n  goog.defineClass.applyProperties_(cls.prototype, def);\n  null != statics && (statics instanceof Function ? statics(cls) : goog.defineClass.applyProperties_(cls, statics));\n  return cls;\n};\ngoog.defineClass.SEAL_CLASS_INSTANCES = goog.DEBUG;\ngoog.defineClass.createSealingConstructor_ = function(ctr, superClass) {\n  return goog.defineClass.SEAL_CLASS_INSTANCES ? function() {\n    var instance = ctr.apply(this, arguments) || this;\n    instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];\n    return instance;\n  } : ctr;\n};\ngoog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\ngoog.defineClass.applyProperties_ = function(target, source) {\n  for (var key in source) {\n    Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n  }\n  for (var i = 0; i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; i++) {\n    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i], Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n  }\n};\ngoog.identity_ = function(s) {\n  return s;\n};\ngoog.createTrustedTypesPolicy = function(name) {\n  var policy = null, policyFactory = goog.global.trustedTypes;\n  if (!policyFactory || !policyFactory.createPolicy) {\n    return policy;\n  }\n  try {\n    policy = policyFactory.createPolicy(name, {createHTML:goog.identity_, createScript:goog.identity_, createScriptURL:goog.identity_});\n  } catch (e) {\n    goog.logToConsole_(e.message);\n  }\n  return policy;\n};\nfunction module$contents$goog$dispose_dispose(obj) {\n  obj && \"function\" == typeof obj.dispose && obj.dispose();\n}\ngoog.dispose = module$contents$goog$dispose_dispose;\nfunction module$contents$goog$disposeAll_disposeAll(var_args) {\n  for (var i = 0, len = arguments.length; i < len; ++i) {\n    var disposable = arguments[i];\n    goog.isArrayLike(disposable) ? module$contents$goog$disposeAll_disposeAll.apply(null, disposable) : module$contents$goog$dispose_dispose(disposable);\n  }\n}\ngoog.disposeAll = module$contents$goog$disposeAll_disposeAll;\ngoog.disposable = {};\ngoog.disposable.IDisposable = function() {\n};\ngoog.Disposable = function() {\n  goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF && (goog.Disposable.INCLUDE_STACK_ON_CREATION && (this.creationStack = Error().stack), goog.Disposable.instances_[goog.getUid(this)] = this);\n  this.disposed_ = this.disposed_;\n  this.onDisposeCallbacks_ = this.onDisposeCallbacks_;\n};\ngoog.Disposable.MonitoringMode = {OFF:0, PERMANENT:1, INTERACTIVE:2};\ngoog.Disposable.MONITORING_MODE = 0;\ngoog.Disposable.INCLUDE_STACK_ON_CREATION = !0;\ngoog.Disposable.instances_ = {};\ngoog.Disposable.getUndisposedObjects = function() {\n  var ret = [], id;\n  for (id in goog.Disposable.instances_) {\n    goog.Disposable.instances_.hasOwnProperty(id) && ret.push(goog.Disposable.instances_[Number(id)]);\n  }\n  return ret;\n};\ngoog.Disposable.clearUndisposedObjects = function() {\n  goog.Disposable.instances_ = {};\n};\ngoog.Disposable.prototype.disposed_ = !1;\ngoog.Disposable.prototype.isDisposed = function() {\n  return this.disposed_;\n};\ngoog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed;\ngoog.Disposable.prototype.dispose = function() {\n  if (!this.disposed_ && (this.disposed_ = !0, this.disposeInternal(), goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF)) {\n    var uid = goog.getUid(this);\n    if (goog.Disposable.MONITORING_MODE == goog.Disposable.MonitoringMode.PERMANENT && !goog.Disposable.instances_.hasOwnProperty(uid)) {\n      throw Error(this + \" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call\");\n    }\n    if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF && this.onDisposeCallbacks_ && 0 < this.onDisposeCallbacks_.length) {\n      throw Error(this + \" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.\");\n    }\n    delete goog.Disposable.instances_[uid];\n  }\n};\ngoog.Disposable.prototype.registerDisposable = function(disposable) {\n  this.addOnDisposeCallback(goog.partial(module$contents$goog$dispose_dispose, disposable));\n};\ngoog.Disposable.prototype.addOnDisposeCallback = function(callback, opt_scope) {\n  this.disposed_ ? void 0 !== opt_scope ? callback.call(opt_scope) : callback() : (this.onDisposeCallbacks_ || (this.onDisposeCallbacks_ = []), this.onDisposeCallbacks_.push(void 0 !== opt_scope ? goog.bind(callback, opt_scope) : callback));\n};\ngoog.Disposable.prototype.disposeInternal = function() {\n  if (this.onDisposeCallbacks_) {\n    for (; this.onDisposeCallbacks_.length;) {\n      this.onDisposeCallbacks_.shift()();\n    }\n  }\n};\ngoog.Disposable.isDisposed = function(obj) {\n  return obj && \"function\" == typeof obj.isDisposed ? obj.isDisposed() : !1;\n};\ngoog.events = {};\ngoog.events.EventId = function(eventId) {\n  this.id = eventId;\n};\ngoog.events.EventId.prototype.toString = function() {\n  return this.id;\n};\ngoog.events.Event = function(type, opt_target) {\n  this.type = type instanceof goog.events.EventId ? String(type) : type;\n  this.currentTarget = this.target = opt_target;\n  this.defaultPrevented = this.propagationStopped_ = !1;\n};\ngoog.events.Event.prototype.hasPropagationStopped = function() {\n  return this.propagationStopped_;\n};\ngoog.events.Event.prototype.stopPropagation = function() {\n  this.propagationStopped_ = !0;\n};\ngoog.events.Event.prototype.preventDefault = function() {\n  this.defaultPrevented = !0;\n};\ngoog.events.Event.stopPropagation = function(e) {\n  e.stopPropagation();\n};\ngoog.events.Event.preventDefault = function(e) {\n  e.preventDefault();\n};\ngoog.debug = {};\nfunction module$contents$goog$debug$Error_DebugError(msg, cause) {\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, module$contents$goog$debug$Error_DebugError);\n  } else {\n    var stack = Error().stack;\n    stack && (this.stack = stack);\n  }\n  msg && (this.message = String(msg));\n  void 0 !== cause && (this.cause = cause);\n  this.reportErrorToServer = !0;\n}\ngoog.inherits(module$contents$goog$debug$Error_DebugError, Error);\nmodule$contents$goog$debug$Error_DebugError.prototype.name = \"CustomError\";\ngoog.debug.Error = module$contents$goog$debug$Error_DebugError;\ngoog.dom = {};\ngoog.dom.NodeType = {ELEMENT:1, ATTRIBUTE:2, TEXT:3, CDATA_SECTION:4, ENTITY_REFERENCE:5, ENTITY:6, PROCESSING_INSTRUCTION:7, COMMENT:8, DOCUMENT:9, DOCUMENT_TYPE:10, DOCUMENT_FRAGMENT:11, NOTATION:12};\ngoog.asserts = {};\ngoog.asserts.ENABLE_ASSERTS = goog.DEBUG;\ngoog.asserts.AssertionError = function(messagePattern, messageArgs) {\n  module$contents$goog$debug$Error_DebugError.call(this, goog.asserts.subs_(messagePattern, messageArgs));\n  this.messagePattern = messagePattern;\n};\ngoog.inherits(goog.asserts.AssertionError, module$contents$goog$debug$Error_DebugError);\ngoog.asserts.AssertionError.prototype.name = \"AssertionError\";\ngoog.asserts.DEFAULT_ERROR_HANDLER = function(e) {\n  throw e;\n};\ngoog.asserts.errorHandler_ = goog.asserts.DEFAULT_ERROR_HANDLER;\ngoog.asserts.subs_ = function(pattern, subs) {\n  for (var splitParts = pattern.split(\"%s\"), returnString = \"\", subLast = splitParts.length - 1, i = 0; i < subLast; i++) {\n    returnString += splitParts[i] + (i < subs.length ? subs[i] : \"%s\");\n  }\n  return returnString + splitParts[subLast];\n};\ngoog.asserts.doAssertFailure_ = function(defaultMessage, defaultArgs, givenMessage, givenArgs) {\n  var message = \"Assertion failed\";\n  if (givenMessage) {\n    message += \": \" + givenMessage;\n    var args = givenArgs;\n  } else {\n    defaultMessage && (message += \": \" + defaultMessage, args = defaultArgs);\n  }\n  var e = new goog.asserts.AssertionError(\"\" + message, args || []);\n  goog.asserts.errorHandler_(e);\n};\ngoog.asserts.setErrorHandler = function(errorHandler) {\n  goog.asserts.ENABLE_ASSERTS && (goog.asserts.errorHandler_ = errorHandler);\n};\ngoog.asserts.assert = function(condition, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && !condition && goog.asserts.doAssertFailure_(\"\", null, opt_message, Array.prototype.slice.call(arguments, 2));\n  return condition;\n};\ngoog.asserts.assertExists = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && null == value && goog.asserts.doAssertFailure_(\"Expected to exist: %s.\", [value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.fail = function(opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && goog.asserts.errorHandler_(new goog.asserts.AssertionError(\"Failure\" + (opt_message ? \": \" + opt_message : \"\"), Array.prototype.slice.call(arguments, 1)));\n};\ngoog.asserts.assertNumber = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"number\" !== typeof value && goog.asserts.doAssertFailure_(\"Expected number but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertString = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"string\" !== typeof value && goog.asserts.doAssertFailure_(\"Expected string but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertFunction = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"function\" !== typeof value && goog.asserts.doAssertFailure_(\"Expected function but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertObject = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && !goog.isObject(value) && goog.asserts.doAssertFailure_(\"Expected object but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertArray = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && !Array.isArray(value) && goog.asserts.doAssertFailure_(\"Expected array but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertBoolean = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"boolean\" !== typeof value && goog.asserts.doAssertFailure_(\"Expected boolean but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertElement = function(value, opt_message, var_args) {\n  !goog.asserts.ENABLE_ASSERTS || goog.isObject(value) && value.nodeType == goog.dom.NodeType.ELEMENT || goog.asserts.doAssertFailure_(\"Expected Element but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertInstanceof = function(value, type, opt_message, var_args) {\n  !goog.asserts.ENABLE_ASSERTS || value instanceof type || goog.asserts.doAssertFailure_(\"Expected instanceof %s but got %s.\", [goog.asserts.getType_(type), goog.asserts.getType_(value)], opt_message, Array.prototype.slice.call(arguments, 3));\n  return value;\n};\ngoog.asserts.assertFinite = function(value, opt_message, var_args) {\n  !goog.asserts.ENABLE_ASSERTS || \"number\" == typeof value && isFinite(value) || goog.asserts.doAssertFailure_(\"Expected %s to be a finite number but it is not.\", [value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.getType_ = function(value) {\n  return value instanceof Function ? value.displayName || value.name || \"unknown type name\" : value instanceof Object ? value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value) : null === value ? \"null\" : typeof value;\n};\ngoog.debug.entryPointRegistry = {};\ngoog.debug.entryPointRegistry.EntryPointMonitor = function() {\n};\ngoog.debug.EntryPointMonitor = goog.debug.entryPointRegistry.EntryPointMonitor;\ngoog.debug.entryPointRegistry.refList_ = [];\ngoog.debug.entryPointRegistry.monitors_ = [];\ngoog.debug.entryPointRegistry.monitorsMayExist_ = !1;\ngoog.debug.entryPointRegistry.register = function(callback) {\n  goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length] = callback;\n  if (goog.debug.entryPointRegistry.monitorsMayExist_) {\n    for (var monitors = goog.debug.entryPointRegistry.monitors_, i = 0; i < monitors.length; i++) {\n      callback(goog.bind(monitors[i].wrap, monitors[i]));\n    }\n  }\n};\ngoog.debug.entryPointRegistry.monitorAll = function(monitor) {\n  goog.debug.entryPointRegistry.monitorsMayExist_ = !0;\n  for (var transformer = goog.bind(monitor.wrap, monitor), i = 0; i < goog.debug.entryPointRegistry.refList_.length; i++) {\n    goog.debug.entryPointRegistry.refList_[i](transformer);\n  }\n  goog.debug.entryPointRegistry.monitors_.push(monitor);\n};\ngoog.debug.entryPointRegistry.unmonitorAllIfPossible = function(monitor) {\n  var monitors = goog.debug.entryPointRegistry.monitors_;\n  goog.asserts.assert(monitor == monitors[monitors.length - 1], \"Only the most recent monitor can be unwrapped.\");\n  for (var transformer = goog.bind(monitor.unwrap, monitor), i = 0; i < goog.debug.entryPointRegistry.refList_.length; i++) {\n    goog.debug.entryPointRegistry.refList_[i](transformer);\n  }\n  monitors.length--;\n};\ngoog.array = {};\ngoog.NATIVE_ARRAY_PROTOTYPES = goog.TRUSTED_SITE;\nvar module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS = 2012 < goog.FEATURESET_YEAR;\ngoog.array.ASSUME_NATIVE_FUNCTIONS = module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS;\nfunction module$contents$goog$array_peek(array) {\n  return array[array.length - 1];\n}\ngoog.array.peek = module$contents$goog$array_peek;\ngoog.array.last = module$contents$goog$array_peek;\nvar module$contents$goog$array_indexOf = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.indexOf) ? function(arr, obj, opt_fromIndex) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.indexOf.call(arr, obj, opt_fromIndex);\n} : function(arr, obj, opt_fromIndex) {\n  var fromIndex = null == opt_fromIndex ? 0 : 0 > opt_fromIndex ? Math.max(0, arr.length + opt_fromIndex) : opt_fromIndex;\n  if (\"string\" === typeof arr) {\n    return \"string\" !== typeof obj || 1 != obj.length ? -1 : arr.indexOf(obj, fromIndex);\n  }\n  for (var i = fromIndex; i < arr.length; i++) {\n    if (i in arr && arr[i] === obj) {\n      return i;\n    }\n  }\n  return -1;\n};\ngoog.array.indexOf = module$contents$goog$array_indexOf;\nvar module$contents$goog$array_lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.lastIndexOf) ? function(arr, obj, opt_fromIndex) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.lastIndexOf.call(arr, obj, null == opt_fromIndex ? arr.length - 1 : opt_fromIndex);\n} : function(arr, obj, opt_fromIndex) {\n  var fromIndex = null == opt_fromIndex ? arr.length - 1 : opt_fromIndex;\n  0 > fromIndex && (fromIndex = Math.max(0, arr.length + fromIndex));\n  if (\"string\" === typeof arr) {\n    return \"string\" !== typeof obj || 1 != obj.length ? -1 : arr.lastIndexOf(obj, fromIndex);\n  }\n  for (var i = fromIndex; 0 <= i; i--) {\n    if (i in arr && arr[i] === obj) {\n      return i;\n    }\n  }\n  return -1;\n};\ngoog.array.lastIndexOf = module$contents$goog$array_lastIndexOf;\nvar module$contents$goog$array_forEach = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.forEach) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  Array.prototype.forEach.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    i in arr2 && f.call(opt_obj, arr2[i], i, arr);\n  }\n};\ngoog.array.forEach = module$contents$goog$array_forEach;\nfunction module$contents$goog$array_forEachRight(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = l - 1; 0 <= i; --i) {\n    i in arr2 && f.call(opt_obj, arr2[i], i, arr);\n  }\n}\ngoog.array.forEachRight = module$contents$goog$array_forEachRight;\nvar module$contents$goog$array_filter = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.filter) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.filter.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, res = [], resLength = 0, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2) {\n      var val = arr2[i];\n      f.call(opt_obj, val, i, arr) && (res[resLength++] = val);\n    }\n  }\n  return res;\n};\ngoog.array.filter = module$contents$goog$array_filter;\nvar module$contents$goog$array_map = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.map) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.map.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, res = Array(l), arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    i in arr2 && (res[i] = f.call(opt_obj, arr2[i], i, arr));\n  }\n  return res;\n};\ngoog.array.map = module$contents$goog$array_map;\ngoog.array.reduce = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduce) ? function(arr, f, val, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  opt_obj && (f = goog.bind(f, opt_obj));\n  return Array.prototype.reduce.call(arr, f, val);\n} : function(arr, f, val$jscomp$0, opt_obj) {\n  var rval = val$jscomp$0;\n  module$contents$goog$array_forEach(arr, function(val, index) {\n    rval = f.call(opt_obj, rval, val, index, arr);\n  });\n  return rval;\n};\ngoog.array.reduceRight = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduceRight) ? function(arr, f, val, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  goog.asserts.assert(null != f);\n  opt_obj && (f = goog.bind(f, opt_obj));\n  return Array.prototype.reduceRight.call(arr, f, val);\n} : function(arr, f, val$jscomp$0, opt_obj) {\n  var rval = val$jscomp$0;\n  module$contents$goog$array_forEachRight(arr, function(val, index) {\n    rval = f.call(opt_obj, rval, val, index, arr);\n  });\n  return rval;\n};\nvar module$contents$goog$array_some = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.some) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.some.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return !0;\n    }\n  }\n  return !1;\n};\ngoog.array.some = module$contents$goog$array_some;\nvar module$contents$goog$array_every = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.every) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.every.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2 && !f.call(opt_obj, arr2[i], i, arr)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.array.every = module$contents$goog$array_every;\nfunction module$contents$goog$array_count(arr$jscomp$0, f, opt_obj) {\n  var count = 0;\n  module$contents$goog$array_forEach(arr$jscomp$0, function(element, index, arr) {\n    f.call(opt_obj, element, index, arr) && ++count;\n  }, opt_obj);\n  return count;\n}\ngoog.array.count = module$contents$goog$array_count;\nfunction module$contents$goog$array_find(arr, f, opt_obj) {\n  var i = module$contents$goog$array_findIndex(arr, f, opt_obj);\n  return 0 > i ? null : \"string\" === typeof arr ? arr.charAt(i) : arr[i];\n}\ngoog.array.find = module$contents$goog$array_find;\nfunction module$contents$goog$array_findIndex(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n}\ngoog.array.findIndex = module$contents$goog$array_findIndex;\ngoog.array.findRight = function module$contents$goog$array_findRight(arr, f, opt_obj) {\n  var i = module$contents$goog$array_findIndexRight(arr, f, opt_obj);\n  return 0 > i ? null : \"string\" === typeof arr ? arr.charAt(i) : arr[i];\n};\nfunction module$contents$goog$array_findIndexRight(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = l - 1; 0 <= i; i--) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n}\ngoog.array.findIndexRight = module$contents$goog$array_findIndexRight;\nfunction module$contents$goog$array_contains(arr, obj) {\n  return 0 <= module$contents$goog$array_indexOf(arr, obj);\n}\ngoog.array.contains = module$contents$goog$array_contains;\nfunction module$contents$goog$array_isEmpty(arr) {\n  return 0 == arr.length;\n}\ngoog.array.isEmpty = module$contents$goog$array_isEmpty;\nfunction module$contents$goog$array_clear(arr) {\n  if (!Array.isArray(arr)) {\n    for (var i = arr.length - 1; 0 <= i; i--) {\n      delete arr[i];\n    }\n  }\n  arr.length = 0;\n}\ngoog.array.clear = module$contents$goog$array_clear;\ngoog.array.insert = function module$contents$goog$array_insert(arr, obj) {\n  module$contents$goog$array_contains(arr, obj) || arr.push(obj);\n};\nfunction module$contents$goog$array_insertAt(arr, obj, opt_i) {\n  module$contents$goog$array_splice(arr, opt_i, 0, obj);\n}\ngoog.array.insertAt = module$contents$goog$array_insertAt;\ngoog.array.insertArrayAt = function module$contents$goog$array_insertArrayAt(arr, elementsToAdd, opt_i) {\n  goog.partial(module$contents$goog$array_splice, arr, opt_i, 0).apply(null, elementsToAdd);\n};\ngoog.array.insertBefore = function module$contents$goog$array_insertBefore(arr, obj, opt_obj2) {\n  var i;\n  2 == arguments.length || 0 > (i = module$contents$goog$array_indexOf(arr, opt_obj2)) ? arr.push(obj) : module$contents$goog$array_insertAt(arr, obj, i);\n};\nfunction module$contents$goog$array_remove(arr, obj) {\n  var i = module$contents$goog$array_indexOf(arr, obj), rv;\n  (rv = 0 <= i) && module$contents$goog$array_removeAt(arr, i);\n  return rv;\n}\ngoog.array.remove = module$contents$goog$array_remove;\nfunction module$contents$goog$array_removeLast(arr, obj) {\n  var i = module$contents$goog$array_lastIndexOf(arr, obj);\n  return 0 <= i ? (module$contents$goog$array_removeAt(arr, i), !0) : !1;\n}\ngoog.array.removeLast = module$contents$goog$array_removeLast;\nfunction module$contents$goog$array_removeAt(arr, i) {\n  goog.asserts.assert(null != arr.length);\n  return 1 == Array.prototype.splice.call(arr, i, 1).length;\n}\ngoog.array.removeAt = module$contents$goog$array_removeAt;\ngoog.array.removeIf = function module$contents$goog$array_removeIf(arr, f, opt_obj) {\n  var i = module$contents$goog$array_findIndex(arr, f, opt_obj);\n  return 0 <= i ? (module$contents$goog$array_removeAt(arr, i), !0) : !1;\n};\ngoog.array.removeAllIf = function module$contents$goog$array_removeAllIf(arr, f, opt_obj) {\n  var removedCount = 0;\n  module$contents$goog$array_forEachRight(arr, function(val, index) {\n    f.call(opt_obj, val, index, arr) && module$contents$goog$array_removeAt(arr, index) && removedCount++;\n  });\n  return removedCount;\n};\nfunction module$contents$goog$array_concat(var_args) {\n  return Array.prototype.concat.apply([], arguments);\n}\ngoog.array.concat = module$contents$goog$array_concat;\ngoog.array.join = function module$contents$goog$array_join(var_args) {\n  return Array.prototype.concat.apply([], arguments);\n};\nfunction module$contents$goog$array_toArray(object) {\n  var length = object.length;\n  if (0 < length) {\n    for (var rv = Array(length), i = 0; i < length; i++) {\n      rv[i] = object[i];\n    }\n    return rv;\n  }\n  return [];\n}\nvar module$contents$goog$array_clone = goog.array.toArray = module$contents$goog$array_toArray;\ngoog.array.clone = module$contents$goog$array_toArray;\nfunction module$contents$goog$array_extend(arr1, var_args) {\n  for (var i = 1; i < arguments.length; i++) {\n    var arr2 = arguments[i];\n    if (goog.isArrayLike(arr2)) {\n      var len1 = arr1.length || 0, len2 = arr2.length || 0;\n      arr1.length = len1 + len2;\n      for (var j = 0; j < len2; j++) {\n        arr1[len1 + j] = arr2[j];\n      }\n    } else {\n      arr1.push(arr2);\n    }\n  }\n}\ngoog.array.extend = module$contents$goog$array_extend;\nfunction module$contents$goog$array_splice(arr, index, howMany, var_args) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.splice.apply(arr, module$contents$goog$array_slice(arguments, 1));\n}\ngoog.array.splice = module$contents$goog$array_splice;\nfunction module$contents$goog$array_slice(arr, start, opt_end) {\n  goog.asserts.assert(null != arr.length);\n  return 2 >= arguments.length ? Array.prototype.slice.call(arr, start) : Array.prototype.slice.call(arr, start, opt_end);\n}\ngoog.array.slice = module$contents$goog$array_slice;\nfunction module$contents$goog$array_removeDuplicates(arr, opt_rv, opt_hashFn) {\n  for (var returnArray = opt_rv || arr, defaultHashFn = function(item) {\n    return goog.isObject(item) ? \"o\" + goog.getUid(item) : (typeof item).charAt(0) + item;\n  }, hashFn = opt_hashFn || defaultHashFn, cursorInsert = 0, cursorRead = 0, seen = {}; cursorRead < arr.length;) {\n    var current = arr[cursorRead++], key = hashFn(current);\n    Object.prototype.hasOwnProperty.call(seen, key) || (seen[key] = !0, returnArray[cursorInsert++] = current);\n  }\n  returnArray.length = cursorInsert;\n}\ngoog.array.removeDuplicates = module$contents$goog$array_removeDuplicates;\nfunction module$contents$goog$array_binarySearch(arr, target, opt_compareFn) {\n  return module$contents$goog$array_binarySearch_(arr, opt_compareFn || module$contents$goog$array_defaultCompare, !1, target);\n}\ngoog.array.binarySearch = module$contents$goog$array_binarySearch;\ngoog.array.binarySelect = function module$contents$goog$array_binarySelect(arr, evaluator, opt_obj) {\n  return module$contents$goog$array_binarySearch_(arr, evaluator, !0, void 0, opt_obj);\n};\nfunction module$contents$goog$array_binarySearch_(arr, compareFn, isEvaluator, opt_target, opt_selfObj) {\n  for (var left = 0, right = arr.length, found; left < right;) {\n    var middle = left + (right - left >>> 1), compareResult = void 0;\n    compareResult = isEvaluator ? compareFn.call(opt_selfObj, arr[middle], middle, arr) : compareFn(opt_target, arr[middle]);\n    0 < compareResult ? left = middle + 1 : (right = middle, found = !compareResult);\n  }\n  return found ? left : -left - 1;\n}\nfunction module$contents$goog$array_sort(arr, opt_compareFn) {\n  arr.sort(opt_compareFn || module$contents$goog$array_defaultCompare);\n}\ngoog.array.sort = module$contents$goog$array_sort;\ngoog.array.stableSort = function module$contents$goog$array_stableSort(arr, opt_compareFn) {\n  for (var compArr = Array(arr.length), i = 0; i < arr.length; i++) {\n    compArr[i] = {index:i, value:arr[i]};\n  }\n  var valueCompareFn = opt_compareFn || module$contents$goog$array_defaultCompare;\n  module$contents$goog$array_sort(compArr, function stableCompareFn(obj1, obj2) {\n    return valueCompareFn(obj1.value, obj2.value) || obj1.index - obj2.index;\n  });\n  for (var i$28 = 0; i$28 < arr.length; i$28++) {\n    arr[i$28] = compArr[i$28].value;\n  }\n};\nfunction module$contents$goog$array_sortByKey(arr, keyFn, opt_compareFn) {\n  var keyCompareFn = opt_compareFn || module$contents$goog$array_defaultCompare;\n  module$contents$goog$array_sort(arr, function(a, b) {\n    return keyCompareFn(keyFn(a), keyFn(b));\n  });\n}\ngoog.array.sortByKey = module$contents$goog$array_sortByKey;\ngoog.array.sortObjectsByKey = function module$contents$goog$array_sortObjectsByKey(arr, key, opt_compareFn) {\n  module$contents$goog$array_sortByKey(arr, function(obj) {\n    return obj[key];\n  }, opt_compareFn);\n};\nfunction module$contents$goog$array_isSorted(arr, opt_compareFn, opt_strict) {\n  for (var compare = opt_compareFn || module$contents$goog$array_defaultCompare, i = 1; i < arr.length; i++) {\n    var compareResult = compare(arr[i - 1], arr[i]);\n    if (0 < compareResult || 0 == compareResult && opt_strict) {\n      return !1;\n    }\n  }\n  return !0;\n}\ngoog.array.isSorted = module$contents$goog$array_isSorted;\nfunction module$contents$goog$array_equals(arr1, arr2, opt_equalsFn) {\n  if (!goog.isArrayLike(arr1) || !goog.isArrayLike(arr2) || arr1.length != arr2.length) {\n    return !1;\n  }\n  for (var l = arr1.length, equalsFn = opt_equalsFn || module$contents$goog$array_defaultCompareEquality, i = 0; i < l; i++) {\n    if (!equalsFn(arr1[i], arr2[i])) {\n      return !1;\n    }\n  }\n  return !0;\n}\ngoog.array.equals = module$contents$goog$array_equals;\ngoog.array.compare3 = function module$contents$goog$array_compare3(arr1, arr2, opt_compareFn) {\n  for (var compare = opt_compareFn || module$contents$goog$array_defaultCompare, l = Math.min(arr1.length, arr2.length), i = 0; i < l; i++) {\n    var result = compare(arr1[i], arr2[i]);\n    if (0 != result) {\n      return result;\n    }\n  }\n  return module$contents$goog$array_defaultCompare(arr1.length, arr2.length);\n};\nfunction module$contents$goog$array_defaultCompare(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n}\ngoog.array.defaultCompare = module$contents$goog$array_defaultCompare;\ngoog.array.inverseDefaultCompare = function module$contents$goog$array_inverseDefaultCompare(a, b) {\n  return -module$contents$goog$array_defaultCompare(a, b);\n};\nfunction module$contents$goog$array_defaultCompareEquality(a, b) {\n  return a === b;\n}\ngoog.array.defaultCompareEquality = module$contents$goog$array_defaultCompareEquality;\ngoog.array.binaryInsert = function module$contents$goog$array_binaryInsert(array, value, opt_compareFn) {\n  var index = module$contents$goog$array_binarySearch(array, value, opt_compareFn);\n  return 0 > index ? (module$contents$goog$array_insertAt(array, value, -(index + 1)), !0) : !1;\n};\ngoog.array.binaryRemove = function module$contents$goog$array_binaryRemove(array, value, opt_compareFn) {\n  var index = module$contents$goog$array_binarySearch(array, value, opt_compareFn);\n  return 0 <= index ? module$contents$goog$array_removeAt(array, index) : !1;\n};\ngoog.array.bucket = function module$contents$goog$array_bucket(array, sorter, opt_obj) {\n  for (var buckets = {}, i = 0; i < array.length; i++) {\n    var value = array[i], key = sorter.call(opt_obj, value, i, array);\n    void 0 !== key && (buckets[key] || (buckets[key] = [])).push(value);\n  }\n  return buckets;\n};\ngoog.array.bucketToMap = function module$contents$goog$array_bucketToMap(array, sorter) {\n  for (var buckets = new Map(), i = 0; i < array.length; i++) {\n    var value = array[i], key = sorter(value, i, array);\n    if (void 0 !== key) {\n      var bucket = buckets.get(key);\n      bucket || (bucket = [], buckets.set(key, bucket));\n      bucket.push(value);\n    }\n  }\n  return buckets;\n};\ngoog.array.toObject = function module$contents$goog$array_toObject(arr, keyFunc, opt_obj) {\n  var ret = {};\n  module$contents$goog$array_forEach(arr, function(element, index) {\n    ret[keyFunc.call(opt_obj, element, index, arr)] = element;\n  });\n  return ret;\n};\ngoog.array.toMap = function module$contents$goog$array_toMap(arr, keyFunc) {\n  for (var map = new Map(), i = 0; i < arr.length; i++) {\n    var element = arr[i];\n    map.set(keyFunc(element, i, arr), element);\n  }\n  return map;\n};\nfunction module$contents$goog$array_range(startOrEnd, opt_end, opt_step) {\n  var array = [], start = 0, end = startOrEnd, step = opt_step || 1;\n  void 0 !== opt_end && (start = startOrEnd, end = opt_end);\n  if (0 > step * (end - start)) {\n    return [];\n  }\n  if (0 < step) {\n    for (var i = start; i < end; i += step) {\n      array.push(i);\n    }\n  } else {\n    for (var i$29 = start; i$29 > end; i$29 += step) {\n      array.push(i$29);\n    }\n  }\n  return array;\n}\ngoog.array.range = module$contents$goog$array_range;\nfunction module$contents$goog$array_repeat(value, n) {\n  for (var array = [], i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\ngoog.array.repeat = module$contents$goog$array_repeat;\nfunction module$contents$goog$array_flatten(var_args) {\n  for (var result = [], i = 0; i < arguments.length; i++) {\n    var element = arguments[i];\n    if (Array.isArray(element)) {\n      for (var c = 0; c < element.length; c += 8192) {\n        for (var chunk = module$contents$goog$array_slice(element, c, c + 8192), recurseResult = module$contents$goog$array_flatten.apply(null, chunk), r = 0; r < recurseResult.length; r++) {\n          result.push(recurseResult[r]);\n        }\n      }\n    } else {\n      result.push(element);\n    }\n  }\n  return result;\n}\ngoog.array.flatten = module$contents$goog$array_flatten;\ngoog.array.rotate = function module$contents$goog$array_rotate(array, n) {\n  goog.asserts.assert(null != array.length);\n  array.length && (n %= array.length, 0 < n ? Array.prototype.unshift.apply(array, array.splice(-n, n)) : 0 > n && Array.prototype.push.apply(array, array.splice(0, -n)));\n  return array;\n};\ngoog.array.moveItem = function module$contents$goog$array_moveItem(arr, fromIndex, toIndex) {\n  goog.asserts.assert(0 <= fromIndex && fromIndex < arr.length);\n  goog.asserts.assert(0 <= toIndex && toIndex < arr.length);\n  var removedItems = Array.prototype.splice.call(arr, fromIndex, 1);\n  Array.prototype.splice.call(arr, toIndex, 0, removedItems[0]);\n};\ngoog.array.zip = function module$contents$goog$array_zip(var_args) {\n  if (!arguments.length) {\n    return [];\n  }\n  for (var result = [], minLen = arguments[0].length, i = 1; i < arguments.length; i++) {\n    arguments[i].length < minLen && (minLen = arguments[i].length);\n  }\n  for (var i$30 = 0; i$30 < minLen; i$30++) {\n    for (var value = [], j = 0; j < arguments.length; j++) {\n      value.push(arguments[j][i$30]);\n    }\n    result.push(value);\n  }\n  return result;\n};\ngoog.array.shuffle = function module$contents$goog$array_shuffle(arr, opt_randFn) {\n  for (var randFn = opt_randFn || Math.random, i = arr.length - 1; 0 < i; i--) {\n    var j = Math.floor(randFn() * (i + 1)), tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n  }\n};\ngoog.array.copyByIndex = function module$contents$goog$array_copyByIndex(arr, index_arr) {\n  var result = [];\n  module$contents$goog$array_forEach(index_arr, function(index) {\n    result.push(arr[index]);\n  });\n  return result;\n};\ngoog.array.concatMap = function module$contents$goog$array_concatMap(arr, f, opt_obj) {\n  return module$contents$goog$array_concat.apply([], module$contents$goog$array_map(arr, f, opt_obj));\n};\ngoog.debug.errorcontext = {};\ngoog.debug.errorcontext.addErrorContext = function(err, contextKey, contextValue) {\n  err[goog.debug.errorcontext.CONTEXT_KEY_] || (err[goog.debug.errorcontext.CONTEXT_KEY_] = {});\n  err[goog.debug.errorcontext.CONTEXT_KEY_][contextKey] = contextValue;\n};\ngoog.debug.errorcontext.getErrorContext = function(err) {\n  return err[goog.debug.errorcontext.CONTEXT_KEY_] || {};\n};\ngoog.debug.errorcontext.CONTEXT_KEY_ = \"__closure__error__context__984382\";\ngoog.debug.LOGGING_ENABLED = goog.DEBUG;\ngoog.debug.FORCE_SLOPPY_STACKS = !1;\ngoog.debug.CHECK_FOR_THROWN_EVENT = !1;\ngoog.debug.catchErrors = function(logFunc, opt_cancel, opt_target) {\n  var target = opt_target || goog.global, oldErrorHandler = target.onerror, retVal = !!opt_cancel;\n  target.onerror = function(message, url, line, opt_col, opt_error) {\n    oldErrorHandler && oldErrorHandler(message, url, line, opt_col, opt_error);\n    logFunc({message:message, fileName:url, line:line, lineNumber:line, col:opt_col, error:opt_error});\n    return retVal;\n  };\n};\ngoog.debug.expose = function(obj, opt_showFn) {\n  if (\"undefined\" == typeof obj) {\n    return \"undefined\";\n  }\n  if (null == obj) {\n    return \"NULL\";\n  }\n  var str = [], x;\n  for (x in obj) {\n    if (opt_showFn || \"function\" !== typeof obj[x]) {\n      var s = x + \" = \";\n      try {\n        s += obj[x];\n      } catch (e) {\n        s += \"*** \" + e + \" ***\";\n      }\n      str.push(s);\n    }\n  }\n  return str.join(\"\\n\");\n};\ngoog.debug.deepExpose = function(obj$jscomp$0, opt_showFn) {\n  var str$jscomp$0 = [], uidsToCleanup = [], ancestorUids = {}, helper = function(obj, space) {\n    var nestspace = space + \"  \", indentMultiline = function(str) {\n      return str.replace(/\\n/g, \"\\n\" + space);\n    };\n    try {\n      if (void 0 === obj) {\n        str$jscomp$0.push(\"undefined\");\n      } else {\n        if (null === obj) {\n          str$jscomp$0.push(\"NULL\");\n        } else {\n          if (\"string\" === typeof obj) {\n            str$jscomp$0.push('\"' + indentMultiline(obj) + '\"');\n          } else {\n            if (\"function\" === typeof obj) {\n              str$jscomp$0.push(indentMultiline(String(obj)));\n            } else {\n              if (goog.isObject(obj)) {\n                goog.hasUid(obj) || uidsToCleanup.push(obj);\n                var uid = goog.getUid(obj);\n                if (ancestorUids[uid]) {\n                  str$jscomp$0.push(\"*** reference loop detected (id=\" + uid + \") ***\");\n                } else {\n                  ancestorUids[uid] = !0;\n                  str$jscomp$0.push(\"{\");\n                  for (var x in obj) {\n                    if (opt_showFn || \"function\" !== typeof obj[x]) {\n                      str$jscomp$0.push(\"\\n\"), str$jscomp$0.push(nestspace), str$jscomp$0.push(x + \" = \"), helper(obj[x], nestspace);\n                    }\n                  }\n                  str$jscomp$0.push(\"\\n\" + space + \"}\");\n                  delete ancestorUids[uid];\n                }\n              } else {\n                str$jscomp$0.push(obj);\n              }\n            }\n          }\n        }\n      }\n    } catch (e) {\n      str$jscomp$0.push(\"*** \" + e + \" ***\");\n    }\n  };\n  helper(obj$jscomp$0, \"\");\n  for (var i = 0; i < uidsToCleanup.length; i++) {\n    goog.removeUid(uidsToCleanup[i]);\n  }\n  return str$jscomp$0.join(\"\");\n};\ngoog.debug.exposeArray = function(arr) {\n  for (var str = [], i = 0; i < arr.length; i++) {\n    Array.isArray(arr[i]) ? str.push(goog.debug.exposeArray(arr[i])) : str.push(arr[i]);\n  }\n  return \"[ \" + str.join(\", \") + \" ]\";\n};\ngoog.debug.normalizeErrorObject = function(err) {\n  var href = goog.getObjectByName(\"window.location.href\");\n  null == err && (err = 'Unknown Error of type \"null/undefined\"');\n  if (\"string\" === typeof err) {\n    return {message:err, name:\"Unknown error\", lineNumber:\"Not available\", fileName:href, stack:\"Not available\"};\n  }\n  var threwError = !1;\n  try {\n    var lineNumber = err.lineNumber || err.line || \"Not available\";\n  } catch (e) {\n    lineNumber = \"Not available\", threwError = !0;\n  }\n  try {\n    var fileName = err.fileName || err.filename || err.sourceURL || goog.global.$googDebugFname || href;\n  } catch (e$31) {\n    fileName = \"Not available\", threwError = !0;\n  }\n  var stack = goog.debug.serializeErrorStack_(err);\n  if (!(!threwError && err.lineNumber && err.fileName && err.stack && err.message && err.name)) {\n    var message = err.message;\n    if (null == message) {\n      if (err.constructor && err.constructor instanceof Function) {\n        var ctorName = err.constructor.name ? err.constructor.name : goog.debug.getFunctionName(err.constructor);\n        message = 'Unknown Error of type \"' + ctorName + '\"';\n        if (goog.debug.CHECK_FOR_THROWN_EVENT && \"Event\" == ctorName) {\n          try {\n            message = message + ' with Event.type \"' + (err.type || \"\") + '\"';\n          } catch (e$32) {\n          }\n        }\n      } else {\n        message = \"Unknown Error of unknown type\";\n      }\n      \"function\" === typeof err.toString && Object.prototype.toString !== err.toString && (message += \": \" + err.toString());\n    }\n    return {message:message, name:err.name || \"UnknownError\", lineNumber:lineNumber, fileName:fileName, stack:stack || \"Not available\"};\n  }\n  err.stack = stack;\n  return {message:err.message, name:err.name, lineNumber:err.lineNumber, fileName:err.fileName, stack:err.stack};\n};\ngoog.debug.serializeErrorStack_ = function(e, seen) {\n  seen || (seen = {});\n  seen[goog.debug.serializeErrorAsKey_(e)] = !0;\n  var stack = e.stack || \"\", cause = e.cause;\n  cause && !seen[goog.debug.serializeErrorAsKey_(cause)] && (stack += \"\\nCaused by: \", cause.stack && 0 == cause.stack.indexOf(cause.toString()) || (stack += \"string\" === typeof cause ? cause : cause.message + \"\\n\"), stack += goog.debug.serializeErrorStack_(cause, seen));\n  return stack;\n};\ngoog.debug.serializeErrorAsKey_ = function(e) {\n  var keyPrefix = \"\";\n  \"function\" === typeof e.toString && (keyPrefix = \"\" + e);\n  return keyPrefix + e.stack;\n};\ngoog.debug.enhanceError = function(err, opt_message) {\n  if (err instanceof Error) {\n    var error = err;\n  } else {\n    error = Error(err), Error.captureStackTrace && Error.captureStackTrace(error, goog.debug.enhanceError);\n  }\n  error.stack || (error.stack = goog.debug.getStacktrace(goog.debug.enhanceError));\n  if (opt_message) {\n    for (var x = 0; error[\"message\" + x];) {\n      ++x;\n    }\n    error[\"message\" + x] = String(opt_message);\n  }\n  return error;\n};\ngoog.debug.enhanceErrorWithContext = function(err, opt_context) {\n  var error = goog.debug.enhanceError(err);\n  if (opt_context) {\n    for (var key in opt_context) {\n      goog.debug.errorcontext.addErrorContext(error, key, opt_context[key]);\n    }\n  }\n  return error;\n};\ngoog.debug.getStacktraceSimple = function(opt_depth) {\n  if (!goog.debug.FORCE_SLOPPY_STACKS) {\n    var stack = goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);\n    if (stack) {\n      return stack;\n    }\n  }\n  for (var sb = [], fn = arguments.callee.caller, depth = 0; fn && (!opt_depth || depth < opt_depth);) {\n    sb.push(goog.debug.getFunctionName(fn));\n    sb.push(\"()\\n\");\n    try {\n      fn = fn.caller;\n    } catch (e) {\n      sb.push(\"[exception trying to get caller]\\n\");\n      break;\n    }\n    depth++;\n    if (depth >= goog.debug.MAX_STACK_DEPTH) {\n      sb.push(\"[...long stack...]\");\n      break;\n    }\n  }\n  opt_depth && depth >= opt_depth ? sb.push(\"[...reached max depth limit...]\") : sb.push(\"[end]\");\n  return sb.join(\"\");\n};\ngoog.debug.MAX_STACK_DEPTH = 50;\ngoog.debug.getNativeStackTrace_ = function(fn) {\n  var tempErr = Error();\n  if (Error.captureStackTrace) {\n    return Error.captureStackTrace(tempErr, fn), String(tempErr.stack);\n  }\n  try {\n    throw tempErr;\n  } catch (e) {\n    tempErr = e;\n  }\n  var stack = tempErr.stack;\n  return stack ? String(stack) : null;\n};\ngoog.debug.getStacktrace = function(fn) {\n  var stack;\n  goog.debug.FORCE_SLOPPY_STACKS || (stack = goog.debug.getNativeStackTrace_(fn || goog.debug.getStacktrace));\n  stack || (stack = goog.debug.getStacktraceHelper_(fn || arguments.callee.caller, []));\n  return stack;\n};\ngoog.debug.getStacktraceHelper_ = function(fn, visited) {\n  var sb = [];\n  if (module$contents$goog$array_contains(visited, fn)) {\n    sb.push(\"[...circular reference...]\");\n  } else {\n    if (fn && visited.length < goog.debug.MAX_STACK_DEPTH) {\n      sb.push(goog.debug.getFunctionName(fn) + \"(\");\n      for (var args = fn.arguments, i = 0; args && i < args.length; i++) {\n        0 < i && sb.push(\", \");\n        var arg = args[i];\n        switch(typeof arg) {\n          case \"object\":\n            var argDesc = arg ? \"object\" : \"null\";\n            break;\n          case \"string\":\n            argDesc = arg;\n            break;\n          case \"number\":\n            argDesc = String(arg);\n            break;\n          case \"boolean\":\n            argDesc = arg ? \"true\" : \"false\";\n            break;\n          case \"function\":\n            argDesc = (argDesc = goog.debug.getFunctionName(arg)) ? argDesc : \"[fn]\";\n            break;\n          default:\n            argDesc = typeof arg;\n        }\n        40 < argDesc.length && (argDesc = argDesc.substr(0, 40) + \"...\");\n        sb.push(argDesc);\n      }\n      visited.push(fn);\n      sb.push(\")\\n\");\n      try {\n        sb.push(goog.debug.getStacktraceHelper_(fn.caller, visited));\n      } catch (e) {\n        sb.push(\"[exception trying to get caller]\\n\");\n      }\n    } else {\n      fn ? sb.push(\"[...long stack...]\") : sb.push(\"[end]\");\n    }\n  }\n  return sb.join(\"\");\n};\ngoog.debug.getFunctionName = function(fn) {\n  if (goog.debug.fnNameCache_[fn]) {\n    return goog.debug.fnNameCache_[fn];\n  }\n  var functionSource = String(fn);\n  if (!goog.debug.fnNameCache_[functionSource]) {\n    var matches = /function\\s+([^\\(]+)/m.exec(functionSource);\n    goog.debug.fnNameCache_[functionSource] = matches ? matches[1] : \"[Anonymous]\";\n  }\n  return goog.debug.fnNameCache_[functionSource];\n};\ngoog.debug.makeWhitespaceVisible = function(string) {\n  return string.replace(/ /g, \"[_]\").replace(/\\f/g, \"[f]\").replace(/\\n/g, \"[n]\\n\").replace(/\\r/g, \"[r]\").replace(/\\t/g, \"[t]\");\n};\ngoog.debug.runtimeType = function(value) {\n  return value instanceof Function ? value.displayName || value.name || \"unknown type name\" : value instanceof Object ? value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value) : null === value ? \"null\" : typeof value;\n};\ngoog.debug.fnNameCache_ = {};\ngoog.debug.freezeInternal_ = goog.DEBUG && Object.freeze || function(arg) {\n  return arg;\n};\ngoog.debug.freeze = function(arg) {\n  return function() {\n    return goog.debug.freezeInternal_(arg);\n  }();\n};\ngoog.events.BrowserFeature = {HAS_W3C_BUTTON:!0, HAS_W3C_EVENT_SUPPORT:!0, SET_KEY_CODE_TO_PREVENT_DEFAULT:!1, HAS_NAVIGATOR_ONLINE_PROPERTY:!0, HAS_HTML5_NETWORK_EVENT_SUPPORT:!0, HTML5_NETWORK_EVENTS_FIRE_ON_BODY:!1, TOUCH_ENABLED:\"ontouchstart\" in goog.global || !!(goog.global.document && document.documentElement && \"ontouchstart\" in document.documentElement) || !(!goog.global.navigator || !goog.global.navigator.maxTouchPoints && !goog.global.navigator.msMaxTouchPoints), POINTER_EVENTS:\"PointerEvent\" in \ngoog.global, MSPOINTER_EVENTS:\"MSPointerEvent\" in goog.global && !(!goog.global.navigator || !goog.global.navigator.msPointerEnabled), PASSIVE_EVENTS:function(fn) {\n  return {valueOf:fn}.valueOf();\n}(function() {\n  if (!goog.global.addEventListener || !Object.defineProperty) {\n    return !1;\n  }\n  var passive = !1, options = Object.defineProperty({}, \"passive\", {get:function() {\n    passive = !0;\n  }});\n  try {\n    goog.global.addEventListener(\"test\", goog.nullFunction, options), goog.global.removeEventListener(\"test\", goog.nullFunction, options);\n  } catch (e) {\n  }\n  return passive;\n})};\nvar module$exports$goog$labs$userAgent = {};\nmodule$exports$goog$labs$userAgent.USE_CLIENT_HINTS = function() {\n  return !1;\n}();\ngoog.string = {};\ngoog.string.internal = {};\ngoog.string.internal.startsWith = function(str, prefix) {\n  return 0 == str.lastIndexOf(prefix, 0);\n};\ngoog.string.internal.endsWith = function(str, suffix) {\n  var l = str.length - suffix.length;\n  return 0 <= l && str.indexOf(suffix, l) == l;\n};\ngoog.string.internal.caseInsensitiveStartsWith = function(str, prefix) {\n  return 0 == goog.string.internal.caseInsensitiveCompare(prefix, str.substr(0, prefix.length));\n};\ngoog.string.internal.caseInsensitiveEndsWith = function(str, suffix) {\n  return 0 == goog.string.internal.caseInsensitiveCompare(suffix, str.substr(str.length - suffix.length, suffix.length));\n};\ngoog.string.internal.caseInsensitiveEquals = function(str1, str2) {\n  return str1.toLowerCase() == str2.toLowerCase();\n};\ngoog.string.internal.isEmptyOrWhitespace = function(str) {\n  return /^[\\s\\xa0]*$/.test(str);\n};\ngoog.string.internal.trim = goog.TRUSTED_SITE && String.prototype.trim ? function(str) {\n  return str.trim();\n} : function(str) {\n  return /^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(str)[1];\n};\ngoog.string.internal.caseInsensitiveCompare = function(str1, str2) {\n  var test1 = String(str1).toLowerCase(), test2 = String(str2).toLowerCase();\n  return test1 < test2 ? -1 : test1 == test2 ? 0 : 1;\n};\ngoog.string.internal.newLineToBr = function(str, opt_xml) {\n  return str.replace(/(\\r\\n|\\r|\\n)/g, opt_xml ? \"<br />\" : \"<br>\");\n};\ngoog.string.internal.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n  if (opt_isLikelyToContainHtmlChars) {\n    str = str.replace(goog.string.internal.AMP_RE_, \"&amp;\").replace(goog.string.internal.LT_RE_, \"&lt;\").replace(goog.string.internal.GT_RE_, \"&gt;\").replace(goog.string.internal.QUOT_RE_, \"&quot;\").replace(goog.string.internal.SINGLE_QUOTE_RE_, \"&#39;\").replace(goog.string.internal.NULL_RE_, \"&#0;\");\n  } else {\n    if (!goog.string.internal.ALL_RE_.test(str)) {\n      return str;\n    }\n    -1 != str.indexOf(\"&\") && (str = str.replace(goog.string.internal.AMP_RE_, \"&amp;\"));\n    -1 != str.indexOf(\"<\") && (str = str.replace(goog.string.internal.LT_RE_, \"&lt;\"));\n    -1 != str.indexOf(\">\") && (str = str.replace(goog.string.internal.GT_RE_, \"&gt;\"));\n    -1 != str.indexOf('\"') && (str = str.replace(goog.string.internal.QUOT_RE_, \"&quot;\"));\n    -1 != str.indexOf(\"'\") && (str = str.replace(goog.string.internal.SINGLE_QUOTE_RE_, \"&#39;\"));\n    -1 != str.indexOf(\"\\x00\") && (str = str.replace(goog.string.internal.NULL_RE_, \"&#0;\"));\n  }\n  return str;\n};\ngoog.string.internal.AMP_RE_ = /&/g;\ngoog.string.internal.LT_RE_ = /</g;\ngoog.string.internal.GT_RE_ = />/g;\ngoog.string.internal.QUOT_RE_ = /\"/g;\ngoog.string.internal.SINGLE_QUOTE_RE_ = /'/g;\ngoog.string.internal.NULL_RE_ = /\\x00/g;\ngoog.string.internal.ALL_RE_ = /[\\x00&<>\"']/;\ngoog.string.internal.whitespaceEscape = function(str, opt_xml) {\n  return goog.string.internal.newLineToBr(str.replace(/  /g, \" &#160;\"), opt_xml);\n};\ngoog.string.internal.contains = function(str, subString) {\n  return -1 != str.indexOf(subString);\n};\ngoog.string.internal.caseInsensitiveContains = function(str, subString) {\n  return goog.string.internal.contains(str.toLowerCase(), subString.toLowerCase());\n};\ngoog.string.internal.compareVersions = function(version1, version2) {\n  for (var order = 0, v1Subs = goog.string.internal.trim(String(version1)).split(\".\"), v2Subs = goog.string.internal.trim(String(version2)).split(\".\"), subCount = Math.max(v1Subs.length, v2Subs.length), subIdx = 0; 0 == order && subIdx < subCount; subIdx++) {\n    var v1Sub = v1Subs[subIdx] || \"\", v2Sub = v2Subs[subIdx] || \"\";\n    do {\n      var v1Comp = /(\\d*)(\\D*)(.*)/.exec(v1Sub) || [\"\", \"\", \"\", \"\"], v2Comp = /(\\d*)(\\D*)(.*)/.exec(v2Sub) || [\"\", \"\", \"\", \"\"];\n      if (0 == v1Comp[0].length && 0 == v2Comp[0].length) {\n        break;\n      }\n      order = goog.string.internal.compareElements_(0 == v1Comp[1].length ? 0 : parseInt(v1Comp[1], 10), 0 == v2Comp[1].length ? 0 : parseInt(v2Comp[1], 10)) || goog.string.internal.compareElements_(0 == v1Comp[2].length, 0 == v2Comp[2].length) || goog.string.internal.compareElements_(v1Comp[2], v2Comp[2]);\n      v1Sub = v1Comp[3];\n      v2Sub = v2Comp[3];\n    } while (0 == order);\n  }\n  return order;\n};\ngoog.string.internal.compareElements_ = function(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n};\ngoog.labs = {};\ngoog.labs.userAgent = {};\ngoog.labs.userAgent.util = {};\nfunction module$contents$goog$labs$userAgent$util_getNativeUserAgentString() {\n  var navigator = module$contents$goog$labs$userAgent$util_getNavigator();\n  if (navigator) {\n    var userAgent = navigator.userAgent;\n    if (userAgent) {\n      return userAgent;\n    }\n  }\n  return \"\";\n}\nfunction module$contents$goog$labs$userAgent$util_getNativeUserAgentData() {\n  if (!module$exports$goog$labs$userAgent.USE_CLIENT_HINTS) {\n    return null;\n  }\n  var navigator = module$contents$goog$labs$userAgent$util_getNavigator();\n  return navigator ? navigator.userAgentData || null : null;\n}\nfunction module$contents$goog$labs$userAgent$util_getNavigator() {\n  return goog.global.navigator;\n}\nvar module$contents$goog$labs$userAgent$util_userAgentInternal = module$contents$goog$labs$userAgent$util_getNativeUserAgentString(), module$contents$goog$labs$userAgent$util_userAgentDataInternal = module$contents$goog$labs$userAgent$util_getNativeUserAgentData();\nfunction module$contents$goog$labs$userAgent$util_getUserAgent() {\n  return module$contents$goog$labs$userAgent$util_userAgentInternal;\n}\nfunction module$contents$goog$labs$userAgent$util_getUserAgentData() {\n  return module$contents$goog$labs$userAgent$util_userAgentDataInternal;\n}\nfunction module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(str) {\n  var data = module$contents$goog$labs$userAgent$util_getUserAgentData();\n  return data ? data.brands.some(function($jscomp$destructuring$var0) {\n    var brand = $jscomp$destructuring$var0.brand;\n    return brand && (0,goog.string.internal.contains)(brand, str);\n  }) : !1;\n}\nfunction module$contents$goog$labs$userAgent$util_matchUserAgent(str) {\n  return (0,goog.string.internal.contains)(module$contents$goog$labs$userAgent$util_getUserAgent(), str);\n}\nfunction module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(str) {\n  return (0,goog.string.internal.caseInsensitiveContains)(module$contents$goog$labs$userAgent$util_getUserAgent(), str);\n}\nfunction module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgent) {\n  for (var versionRegExp = RegExp(\"(\\\\w[\\\\w ]+)/([^\\\\s]+)\\\\s*(?:\\\\((.*?)\\\\))?\", \"g\"), data = [], match; match = versionRegExp.exec(userAgent);) {\n    data.push([match[1], match[2], match[3] || void 0]);\n  }\n  return data;\n}\ngoog.labs.userAgent.util.ASSUME_CLIENT_HINTS_SUPPORT = !1;\ngoog.labs.userAgent.util.extractVersionTuples = module$contents$goog$labs$userAgent$util_extractVersionTuples;\ngoog.labs.userAgent.util.getNativeUserAgentString = module$contents$goog$labs$userAgent$util_getNativeUserAgentString;\ngoog.labs.userAgent.util.getUserAgent = module$contents$goog$labs$userAgent$util_getUserAgent;\ngoog.labs.userAgent.util.getUserAgentData = module$contents$goog$labs$userAgent$util_getUserAgentData;\ngoog.labs.userAgent.util.matchUserAgent = module$contents$goog$labs$userAgent$util_matchUserAgent;\ngoog.labs.userAgent.util.matchUserAgentDataBrand = module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand;\ngoog.labs.userAgent.util.matchUserAgentIgnoreCase = module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase;\ngoog.labs.userAgent.util.resetUserAgentData = function module$contents$goog$labs$userAgent$util_resetUserAgentData() {\n  module$contents$goog$labs$userAgent$util_userAgentDataInternal = module$contents$goog$labs$userAgent$util_getNativeUserAgentData();\n};\ngoog.labs.userAgent.util.setUserAgent = function module$contents$goog$labs$userAgent$util_setUserAgent(userAgent) {\n  module$contents$goog$labs$userAgent$util_userAgentInternal = \"string\" === typeof userAgent ? userAgent : module$contents$goog$labs$userAgent$util_getNativeUserAgentString();\n};\ngoog.labs.userAgent.util.setUserAgentData = function module$contents$goog$labs$userAgent$util_setUserAgentData(userAgentData) {\n  module$contents$goog$labs$userAgent$util_userAgentDataInternal = userAgentData;\n};\nvar module$exports$goog$labs$userAgent$highEntropy$highEntropyValue = {AsyncValue:function() {\n}};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.getIfLoaded = function() {\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.load = function() {\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue = function(key) {\n  this.key_ = key;\n  this.promise_ = this.value_ = void 0;\n  this.pending_ = !1;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.getIfLoaded = function() {\n  if (module$contents$goog$labs$userAgent$util_getUserAgentData()) {\n    return this.value_;\n  }\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.load = function() {\n  var $jscomp$async$this = this, userAgentData;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    if (1 == $jscomp$generator$context.nextAddress) {\n      userAgentData = module$contents$goog$labs$userAgent$util_getUserAgentData();\n      if (!userAgentData) {\n        return $jscomp$generator$context.return(void 0);\n      }\n      $jscomp$async$this.promise_ || ($jscomp$async$this.pending_ = !0, $jscomp$async$this.promise_ = function() {\n        var dataValues;\n        return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context$1) {\n          if (1 == $jscomp$generator$context$1.nextAddress) {\n            return $jscomp$generator$context$1.setFinallyBlock(2), $jscomp$generator$context$1.yield(userAgentData.getHighEntropyValues([$jscomp$async$this.key_]), 4);\n          }\n          if (2 != $jscomp$generator$context$1.nextAddress) {\n            return dataValues = $jscomp$generator$context$1.yieldResult, $jscomp$async$this.value_ = dataValues[$jscomp$async$this.key_], $jscomp$generator$context$1.return($jscomp$async$this.value_);\n          }\n          $jscomp$generator$context$1.enterFinallyBlock();\n          $jscomp$async$this.pending_ = !1;\n          return $jscomp$generator$context$1.leaveFinallyBlock(0);\n        });\n      }());\n      return $jscomp$generator$context.yield($jscomp$async$this.promise_, 2);\n    }\n    return $jscomp$generator$context.return($jscomp$generator$context.yieldResult);\n  });\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.resetForTesting = function() {\n  if (this.pending_) {\n    throw Error(\"Unsafe call to resetForTesting\");\n  }\n  this.value_ = this.promise_ = void 0;\n  this.pending_ = !1;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version = function(versionString) {\n  this.versionString_ = versionString;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.toVersionStringForLogging = function() {\n  return this.versionString_;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.isAtLeast = function(version) {\n  return 0 <= (0,goog.string.internal.compareVersions)(this.versionString_, version);\n};\nvar module$exports$goog$labs$userAgent$highEntropy$highEntropyData = {};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList = new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue(\"fullVersionList\");\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion = new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue(\"platformVersion\");\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyData.resetAllForTesting = function module$contents$goog$labs$userAgent$highEntropy$highEntropyData_resetAllForTesting() {\n  module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.resetForTesting();\n  module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.resetForTesting();\n};\ngoog.labs.userAgent.browser = {};\nvar module$contents$goog$labs$userAgent$browser_Brand = {ANDROID_BROWSER:\"Android Browser\", CHROMIUM:\"Chromium\", EDGE:\"Microsoft Edge\", FIREFOX:\"Firefox\", IE:\"Internet Explorer\", OPERA:\"Opera\", SAFARI:\"Safari\", SILK:\"Silk\",};\ngoog.labs.userAgent.browser.Brand = module$contents$goog$labs$userAgent$browser_Brand;\nfunction module$contents$goog$labs$userAgent$browser_useUserAgentBrand() {\n  var userAgentData = module$contents$goog$labs$userAgent$util_getUserAgentData();\n  return !!userAgentData && 0 < userAgentData.brands.length;\n}\nfunction module$contents$goog$labs$userAgent$browser_matchOpera() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Opera\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchIE() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Trident\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"MSIE\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchEdgeHtml() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Edge\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchEdgeChromium() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentBrand() ? module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.EDGE) : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Edg/\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchOperaChromium() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentBrand() ? module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.OPERA) : module$contents$goog$labs$userAgent$util_matchUserAgent(\"OPR\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchFirefox() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Firefox\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"FxiOS\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchSafari() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentBrand() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Safari\") && !(module$contents$goog$labs$userAgent$browser_matchChrome() || module$contents$goog$labs$userAgent$browser_matchCoast() || module$contents$goog$labs$userAgent$browser_matchOpera() || module$contents$goog$labs$userAgent$browser_matchEdgeHtml() || module$contents$goog$labs$userAgent$browser_matchEdgeChromium() || module$contents$goog$labs$userAgent$browser_matchOperaChromium() || \n  module$contents$goog$labs$userAgent$browser_matchFirefox() || module$contents$goog$labs$userAgent$browser_isSilk() || module$contents$goog$labs$userAgent$util_matchUserAgent(\"Android\"));\n}\nfunction module$contents$goog$labs$userAgent$browser_matchCoast() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Coast\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchIosWebview() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : (module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPad\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPhone\")) && !module$contents$goog$labs$userAgent$browser_matchSafari() && !module$contents$goog$labs$userAgent$browser_matchChrome() && !module$contents$goog$labs$userAgent$browser_matchCoast() && !module$contents$goog$labs$userAgent$browser_matchFirefox() && module$contents$goog$labs$userAgent$util_matchUserAgent(\"AppleWebKit\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchChrome() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentBrand() ? module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM) : (module$contents$goog$labs$userAgent$util_matchUserAgent(\"Chrome\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"CriOS\")) && !module$contents$goog$labs$userAgent$browser_matchEdgeHtml();\n}\nfunction module$contents$goog$labs$userAgent$browser_matchAndroidBrowser() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Android\") && !(module$contents$goog$labs$userAgent$browser_matchChrome() || module$contents$goog$labs$userAgent$browser_matchFirefox() || module$contents$goog$labs$userAgent$browser_matchOpera() || module$contents$goog$labs$userAgent$browser_isSilk());\n}\nvar module$contents$goog$labs$userAgent$browser_isOpera = module$contents$goog$labs$userAgent$browser_matchOpera;\ngoog.labs.userAgent.browser.isOpera = module$contents$goog$labs$userAgent$browser_matchOpera;\nvar module$contents$goog$labs$userAgent$browser_isIE = module$contents$goog$labs$userAgent$browser_matchIE;\ngoog.labs.userAgent.browser.isIE = module$contents$goog$labs$userAgent$browser_matchIE;\nvar module$contents$goog$labs$userAgent$browser_isEdge = module$contents$goog$labs$userAgent$browser_matchEdgeHtml;\ngoog.labs.userAgent.browser.isEdge = module$contents$goog$labs$userAgent$browser_matchEdgeHtml;\nvar module$contents$goog$labs$userAgent$browser_isEdgeChromium = module$contents$goog$labs$userAgent$browser_matchEdgeChromium;\ngoog.labs.userAgent.browser.isEdgeChromium = module$contents$goog$labs$userAgent$browser_matchEdgeChromium;\nvar module$contents$goog$labs$userAgent$browser_isOperaChromium = module$contents$goog$labs$userAgent$browser_matchOperaChromium;\ngoog.labs.userAgent.browser.isOperaChromium = module$contents$goog$labs$userAgent$browser_matchOperaChromium;\nvar module$contents$goog$labs$userAgent$browser_isFirefox = module$contents$goog$labs$userAgent$browser_matchFirefox;\ngoog.labs.userAgent.browser.isFirefox = module$contents$goog$labs$userAgent$browser_matchFirefox;\nvar module$contents$goog$labs$userAgent$browser_isSafari = module$contents$goog$labs$userAgent$browser_matchSafari;\ngoog.labs.userAgent.browser.isSafari = module$contents$goog$labs$userAgent$browser_matchSafari;\nvar module$contents$goog$labs$userAgent$browser_isCoast = module$contents$goog$labs$userAgent$browser_matchCoast;\ngoog.labs.userAgent.browser.isCoast = module$contents$goog$labs$userAgent$browser_matchCoast;\nvar module$contents$goog$labs$userAgent$browser_isIosWebview = module$contents$goog$labs$userAgent$browser_matchIosWebview;\ngoog.labs.userAgent.browser.isIosWebview = module$contents$goog$labs$userAgent$browser_matchIosWebview;\nvar module$contents$goog$labs$userAgent$browser_isChrome = module$contents$goog$labs$userAgent$browser_matchChrome;\ngoog.labs.userAgent.browser.isChrome = module$contents$goog$labs$userAgent$browser_matchChrome;\nvar module$contents$goog$labs$userAgent$browser_isAndroidBrowser = module$contents$goog$labs$userAgent$browser_matchAndroidBrowser;\ngoog.labs.userAgent.browser.isAndroidBrowser = module$contents$goog$labs$userAgent$browser_matchAndroidBrowser;\nfunction module$contents$goog$labs$userAgent$browser_isSilk() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Silk\");\n}\ngoog.labs.userAgent.browser.isSilk = module$contents$goog$labs$userAgent$browser_isSilk;\nfunction module$contents$goog$labs$userAgent$browser_createVersionMap(versionTuples) {\n  var versionMap = {};\n  versionTuples.forEach(function(tuple) {\n    versionMap[tuple[0]] = tuple[1];\n  });\n  return function(keys) {\n    return versionMap[keys.find(function(key) {\n      return key in versionMap;\n    })] || \"\";\n  };\n}\nfunction module$contents$goog$labs$userAgent$browser_getVersion() {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent();\n  if (module$contents$goog$labs$userAgent$browser_matchIE()) {\n    return module$contents$goog$labs$userAgent$browser_getIEVersion(userAgentString);\n  }\n  var versionTuples = module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgentString), lookUpValueWithKeys = module$contents$goog$labs$userAgent$browser_createVersionMap(versionTuples);\n  if (module$contents$goog$labs$userAgent$browser_matchOpera()) {\n    return lookUpValueWithKeys([\"Version\", \"Opera\"]);\n  }\n  if (module$contents$goog$labs$userAgent$browser_matchEdgeHtml()) {\n    return lookUpValueWithKeys([\"Edge\"]);\n  }\n  if (module$contents$goog$labs$userAgent$browser_matchEdgeChromium()) {\n    return lookUpValueWithKeys([\"Edg\"]);\n  }\n  if (module$contents$goog$labs$userAgent$browser_matchChrome()) {\n    return lookUpValueWithKeys([\"Chrome\", \"CriOS\", \"HeadlessChrome\"]);\n  }\n  var tuple = versionTuples[2];\n  return tuple && tuple[1] || \"\";\n}\ngoog.labs.userAgent.browser.getVersion = module$contents$goog$labs$userAgent$browser_getVersion;\ngoog.labs.userAgent.browser.isVersionOrHigher = function module$contents$goog$labs$userAgent$browser_isVersionOrHigher(version) {\n  return 0 <= (0,goog.string.internal.compareVersions)(module$contents$goog$labs$userAgent$browser_getVersion(), version);\n};\nfunction module$contents$goog$labs$userAgent$browser_getIEVersion(userAgent) {\n  var rv = /rv: *([\\d\\.]*)/.exec(userAgent);\n  if (rv && rv[1]) {\n    return rv[1];\n  }\n  var version = \"\", msie = /MSIE +([\\d\\.]+)/.exec(userAgent);\n  if (msie && msie[1]) {\n    var tridentVersion = /Trident\\/(\\d.\\d)/.exec(userAgent);\n    if (\"7.0\" == msie[1]) {\n      if (tridentVersion && tridentVersion[1]) {\n        switch(tridentVersion[1]) {\n          case \"4.0\":\n            version = \"8.0\";\n            break;\n          case \"5.0\":\n            version = \"9.0\";\n            break;\n          case \"6.0\":\n            version = \"10.0\";\n            break;\n          case \"7.0\":\n            version = \"11.0\";\n        }\n      } else {\n        version = \"7.0\";\n      }\n    } else {\n      version = msie[1];\n    }\n  }\n  return version;\n}\nfunction module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser) {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent();\n  if (browser === module$contents$goog$labs$userAgent$browser_Brand.IE) {\n    return module$contents$goog$labs$userAgent$browser_matchIE() ? module$contents$goog$labs$userAgent$browser_getIEVersion(userAgentString) : \"\";\n  }\n  var versionTuples = module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgentString), lookUpValueWithKeys = module$contents$goog$labs$userAgent$browser_createVersionMap(versionTuples);\n  switch(browser) {\n    case module$contents$goog$labs$userAgent$browser_Brand.OPERA:\n      if (module$contents$goog$labs$userAgent$browser_matchOpera()) {\n        return lookUpValueWithKeys([\"Version\", \"Opera\"]);\n      }\n      if (module$contents$goog$labs$userAgent$browser_matchOperaChromium()) {\n        return lookUpValueWithKeys([\"OPR\"]);\n      }\n      break;\n    case module$contents$goog$labs$userAgent$browser_Brand.EDGE:\n      if (module$contents$goog$labs$userAgent$browser_matchEdgeHtml()) {\n        return lookUpValueWithKeys([\"Edge\"]);\n      }\n      if (module$contents$goog$labs$userAgent$browser_matchEdgeChromium()) {\n        return lookUpValueWithKeys([\"Edg\"]);\n      }\n      break;\n    case module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM:\n      if (module$contents$goog$labs$userAgent$browser_matchChrome()) {\n        return lookUpValueWithKeys([\"Chrome\", \"CriOS\", \"HeadlessChrome\"]);\n      }\n  }\n  if (browser === module$contents$goog$labs$userAgent$browser_Brand.FIREFOX && module$contents$goog$labs$userAgent$browser_matchFirefox() || browser === module$contents$goog$labs$userAgent$browser_Brand.SAFARI && module$contents$goog$labs$userAgent$browser_matchSafari() || browser === module$contents$goog$labs$userAgent$browser_Brand.ANDROID_BROWSER && module$contents$goog$labs$userAgent$browser_matchAndroidBrowser()) {\n    var tuple = versionTuples[2];\n    return tuple && tuple[1] || \"\";\n  }\n  return \"\";\n}\nfunction module$contents$goog$labs$userAgent$browser_versionOf(browser) {\n  if (module$contents$goog$labs$userAgent$browser_useUserAgentBrand()) {\n    var matchingBrand = module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function($jscomp$destructuring$var2) {\n      return $jscomp$destructuring$var2.brand === browser;\n    });\n    if (!matchingBrand || !matchingBrand.version) {\n      return NaN;\n    }\n    var versionParts = matchingBrand.version.split(\".\");\n  } else {\n    var fullVersion = module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser);\n    if (\"\" === fullVersion) {\n      return NaN;\n    }\n    versionParts = fullVersion.split(\".\");\n  }\n  return 0 === versionParts.length ? NaN : Number(versionParts[0]);\n}\ngoog.labs.userAgent.browser.versionOf = module$contents$goog$labs$userAgent$browser_versionOf;\nvar module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion = function(brand) {\n  this.brand_ = brand;\n};\nmodule$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.getIfLoaded = function() {\n  var $jscomp$this = this, loadedVersionList = module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.getIfLoaded();\n  if (void 0 !== loadedVersionList) {\n    var matchingBrand = loadedVersionList.find(function($jscomp$destructuring$var4) {\n      return $jscomp$this.brand_ === $jscomp$destructuring$var4.brand;\n    });\n    goog.asserts.assertExists(matchingBrand);\n    return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(matchingBrand.version);\n  }\n};\nmodule$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.load = function() {\n  var $jscomp$async$this = this, loadedVersionList, matchingBrand;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    if (1 == $jscomp$generator$context.nextAddress) {\n      return $jscomp$generator$context.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.load(), 2);\n    }\n    loadedVersionList = $jscomp$generator$context.yieldResult;\n    matchingBrand = loadedVersionList.find(function($jscomp$destructuring$var6) {\n      return $jscomp$async$this.brand_ === $jscomp$destructuring$var6.brand;\n    });\n    goog.asserts.assertExists(matchingBrand);\n    return $jscomp$generator$context.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(matchingBrand.version));\n  });\n};\nvar module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion = function(versionString) {\n  this.version_ = new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(versionString);\n};\nmodule$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion.prototype.getIfLoaded = function() {\n  return this.version_;\n};\nmodule$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion.prototype.load = function() {\n  var $jscomp$async$this = this;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    return $jscomp$generator$context.return($jscomp$async$this.version_);\n  });\n};\nfunction module$contents$goog$labs$userAgent$browser_fullVersionOf(browser) {\n  if (!module$contents$goog$labs$userAgent$browser_useUserAgentBrand() || 101 > module$contents$goog$labs$userAgent$browser_versionOf(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM)) {\n    var fullVersionFromUserAgentString = module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser);\n    return \"\" === fullVersionFromUserAgentString ? void 0 : new module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion(fullVersionFromUserAgentString);\n  }\n  return module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function($jscomp$destructuring$var8) {\n    return $jscomp$destructuring$var8.brand === browser;\n  }) ? new module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion(browser) : void 0;\n}\ngoog.labs.userAgent.browser.fullVersionOf = module$contents$goog$labs$userAgent$browser_fullVersionOf;\ngoog.labs.userAgent.browser.getVersionStringForLogging = function module$contents$goog$labs$userAgent$browser_getVersionStringForLogging(browser) {\n  if (module$contents$goog$labs$userAgent$browser_useUserAgentBrand()) {\n    var fullVersionObj = module$contents$goog$labs$userAgent$browser_fullVersionOf(browser);\n    if (fullVersionObj) {\n      var fullVersion = fullVersionObj.getIfLoaded();\n      if (fullVersion) {\n        return fullVersion.toVersionStringForLogging();\n      }\n      var matchingBrand = module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function($jscomp$destructuring$var10) {\n        return $jscomp$destructuring$var10.brand === browser;\n      });\n      goog.asserts.assertExists(matchingBrand);\n      return matchingBrand.version;\n    }\n    return \"\";\n  }\n  return module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser);\n};\ngoog.labs.userAgent.engine = {};\nfunction module$contents$goog$labs$userAgent$engine_isPresto() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Presto\");\n}\nfunction module$contents$goog$labs$userAgent$engine_isTrident() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Trident\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"MSIE\");\n}\nfunction module$contents$goog$labs$userAgent$engine_isEdge() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Edge\");\n}\nfunction module$contents$goog$labs$userAgent$engine_isWebKit() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(\"WebKit\") && !module$contents$goog$labs$userAgent$engine_isEdge();\n}\nfunction module$contents$goog$labs$userAgent$engine_isGecko() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Gecko\") && !module$contents$goog$labs$userAgent$engine_isWebKit() && !module$contents$goog$labs$userAgent$engine_isTrident() && !module$contents$goog$labs$userAgent$engine_isEdge();\n}\nfunction module$contents$goog$labs$userAgent$engine_getVersion() {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent();\n  if (userAgentString) {\n    var tuples = module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgentString), engineTuple = module$contents$goog$labs$userAgent$engine_getEngineTuple(tuples);\n    if (engineTuple) {\n      return \"Gecko\" == engineTuple[0] ? module$contents$goog$labs$userAgent$engine_getVersionForKey(tuples, \"Firefox\") : engineTuple[1];\n    }\n    var browserTuple = tuples[0], info;\n    if (browserTuple && (info = browserTuple[2])) {\n      var match = /Trident\\/([^\\s;]+)/.exec(info);\n      if (match) {\n        return match[1];\n      }\n    }\n  }\n  return \"\";\n}\nfunction module$contents$goog$labs$userAgent$engine_getEngineTuple(tuples) {\n  if (!module$contents$goog$labs$userAgent$engine_isEdge()) {\n    return tuples[1];\n  }\n  for (var i = 0; i < tuples.length; i++) {\n    var tuple = tuples[i];\n    if (\"Edge\" == tuple[0]) {\n      return tuple;\n    }\n  }\n}\nfunction module$contents$goog$labs$userAgent$engine_getVersionForKey(tuples, key) {\n  var pair = module$contents$goog$array_find(tuples, function(pair) {\n    return key == pair[0];\n  });\n  return pair && pair[1] || \"\";\n}\ngoog.labs.userAgent.engine.getVersion = module$contents$goog$labs$userAgent$engine_getVersion;\ngoog.labs.userAgent.engine.isEdge = module$contents$goog$labs$userAgent$engine_isEdge;\ngoog.labs.userAgent.engine.isGecko = module$contents$goog$labs$userAgent$engine_isGecko;\ngoog.labs.userAgent.engine.isPresto = module$contents$goog$labs$userAgent$engine_isPresto;\ngoog.labs.userAgent.engine.isTrident = module$contents$goog$labs$userAgent$engine_isTrident;\ngoog.labs.userAgent.engine.isVersionOrHigher = function module$contents$goog$labs$userAgent$engine_isVersionOrHigher(version) {\n  return 0 <= goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$engine_getVersion(), version);\n};\ngoog.labs.userAgent.engine.isWebKit = module$contents$goog$labs$userAgent$engine_isWebKit;\ngoog.labs.userAgent.platform = {};\nfunction module$contents$goog$labs$userAgent$platform_isAndroid() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Android\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIpod() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPod\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIphone() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPhone\") && !module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPod\") && !module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPad\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIpad() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPad\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIos() {\n  return module$contents$goog$labs$userAgent$platform_isIphone() || module$contents$goog$labs$userAgent$platform_isIpad() || module$contents$goog$labs$userAgent$platform_isIpod();\n}\nfunction module$contents$goog$labs$userAgent$platform_isMacintosh() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Macintosh\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isLinux() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Linux\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isWindows() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Windows\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isChromeOS() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"CrOS\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isKaiOS() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(\"KaiOS\");\n}\nfunction module$contents$goog$labs$userAgent$platform_getVersion() {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent(), version = \"\";\n  if (module$contents$goog$labs$userAgent$platform_isWindows()) {\n    var re = /Windows (?:NT|Phone) ([0-9.]+)/;\n    var match = re.exec(userAgentString);\n    version = match ? match[1] : \"0.0\";\n  } else {\n    if (module$contents$goog$labs$userAgent$platform_isIos()) {\n      re = /(?:iPhone|iPod|iPad|CPU)\\s+OS\\s+(\\S+)/;\n      var match$33 = re.exec(userAgentString);\n      version = match$33 && match$33[1].replace(/_/g, \".\");\n    } else {\n      if (module$contents$goog$labs$userAgent$platform_isMacintosh()) {\n        re = /Mac OS X ([0-9_.]+)/;\n        var match$34 = re.exec(userAgentString);\n        version = match$34 ? match$34[1].replace(/_/g, \".\") : \"10\";\n      } else {\n        if (module$contents$goog$labs$userAgent$platform_isKaiOS()) {\n          re = /(?:KaiOS)\\/(\\S+)/i;\n          var match$35 = re.exec(userAgentString);\n          version = match$35 && match$35[1];\n        } else {\n          if (module$contents$goog$labs$userAgent$platform_isAndroid()) {\n            re = /Android\\s+([^\\);]+)(\\)|;)/;\n            var match$36 = re.exec(userAgentString);\n            version = match$36 && match$36[1];\n          } else {\n            if (module$contents$goog$labs$userAgent$platform_isChromeOS()) {\n              re = /(?:CrOS\\s+(?:i686|x86_64)\\s+([0-9.]+))/;\n              var match$37 = re.exec(userAgentString);\n              version = match$37 && match$37[1];\n            }\n          }\n        }\n      }\n    }\n  }\n  return version || \"\";\n}\nvar module$contents$goog$labs$userAgent$platform_PlatformVersion = function() {\n};\nmodule$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.getIfLoaded = function() {\n  if (module$contents$goog$labs$userAgent$util_getUserAgentData()) {\n    var loadedPlatformVersion = module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.getIfLoaded();\n    if (void 0 !== loadedPlatformVersion) {\n      return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(loadedPlatformVersion);\n    }\n  } else {\n    return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion());\n  }\n};\nmodule$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.load = function() {\n  var JSCompiler_temp_const;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    if (1 == $jscomp$generator$context.nextAddress) {\n      if (!module$contents$goog$labs$userAgent$util_getUserAgentData()) {\n        return $jscomp$generator$context.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion()));\n        return $jscomp$generator$context.jumpTo(0);\n      }\n      JSCompiler_temp_const = module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version;\n      return $jscomp$generator$context.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.load(), 3);\n    }\n    return $jscomp$generator$context.return(new JSCompiler_temp_const($jscomp$generator$context.yieldResult));\n  });\n};\nvar module$contents$goog$labs$userAgent$platform_version = new module$contents$goog$labs$userAgent$platform_PlatformVersion();\ngoog.labs.userAgent.platform.getVersion = module$contents$goog$labs$userAgent$platform_getVersion;\ngoog.labs.userAgent.platform.isAndroid = module$contents$goog$labs$userAgent$platform_isAndroid;\ngoog.labs.userAgent.platform.isChromeOS = module$contents$goog$labs$userAgent$platform_isChromeOS;\ngoog.labs.userAgent.platform.isChromecast = function module$contents$goog$labs$userAgent$platform_isChromecast() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"CrKey\");\n};\ngoog.labs.userAgent.platform.isIos = module$contents$goog$labs$userAgent$platform_isIos;\ngoog.labs.userAgent.platform.isIpad = module$contents$goog$labs$userAgent$platform_isIpad;\ngoog.labs.userAgent.platform.isIphone = module$contents$goog$labs$userAgent$platform_isIphone;\ngoog.labs.userAgent.platform.isIpod = module$contents$goog$labs$userAgent$platform_isIpod;\ngoog.labs.userAgent.platform.isKaiOS = module$contents$goog$labs$userAgent$platform_isKaiOS;\ngoog.labs.userAgent.platform.isLinux = module$contents$goog$labs$userAgent$platform_isLinux;\ngoog.labs.userAgent.platform.isMacintosh = module$contents$goog$labs$userAgent$platform_isMacintosh;\ngoog.labs.userAgent.platform.isVersionOrHigher = function module$contents$goog$labs$userAgent$platform_isVersionOrHigher(version) {\n  return 0 <= goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$platform_getVersion(), version);\n};\ngoog.labs.userAgent.platform.isWindows = module$contents$goog$labs$userAgent$platform_isWindows;\ngoog.labs.userAgent.platform.version = module$contents$goog$labs$userAgent$platform_version;\ngoog.reflect = {};\ngoog.reflect.object = function(type, object) {\n  return object;\n};\ngoog.reflect.objectProperty = function(prop, object) {\n  return prop;\n};\ngoog.reflect.sinkValue = function(x) {\n  goog.reflect.sinkValue[\" \"](x);\n  return x;\n};\ngoog.reflect.sinkValue[\" \"] = goog.nullFunction;\ngoog.reflect.canAccessProperty = function(obj, prop) {\n  try {\n    return goog.reflect.sinkValue(obj[prop]), !0;\n  } catch (e) {\n  }\n  return !1;\n};\ngoog.reflect.cache = function(cacheObj, key, valueFn, opt_keyFn) {\n  var storedKey = opt_keyFn ? opt_keyFn(key) : key;\n  return Object.prototype.hasOwnProperty.call(cacheObj, storedKey) ? cacheObj[storedKey] : cacheObj[storedKey] = valueFn(key);\n};\ngoog.userAgent = {};\ngoog.userAgent.ASSUME_IE = !1;\ngoog.userAgent.ASSUME_EDGE = !1;\ngoog.userAgent.ASSUME_GECKO = !1;\ngoog.userAgent.ASSUME_WEBKIT = !1;\ngoog.userAgent.ASSUME_MOBILE_WEBKIT = !1;\ngoog.userAgent.ASSUME_OPERA = !1;\ngoog.userAgent.ASSUME_ANY_VERSION = !1;\ngoog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA;\ngoog.userAgent.getUserAgentString = function() {\n  return module$contents$goog$labs$userAgent$util_getUserAgent();\n};\ngoog.userAgent.getNavigatorTyped = function() {\n  return goog.global.navigator || null;\n};\ngoog.userAgent.getNavigator = function() {\n  return goog.userAgent.getNavigatorTyped();\n};\ngoog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : module$contents$goog$labs$userAgent$browser_matchOpera();\ngoog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : module$contents$goog$labs$userAgent$browser_matchIE();\ngoog.userAgent.EDGE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_EDGE : module$contents$goog$labs$userAgent$engine_isEdge();\ngoog.userAgent.EDGE_OR_IE = goog.userAgent.EDGE || goog.userAgent.IE;\ngoog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : module$contents$goog$labs$userAgent$engine_isGecko();\ngoog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : module$contents$goog$labs$userAgent$engine_isWebKit();\ngoog.userAgent.isMobile_ = function() {\n  return goog.userAgent.WEBKIT && module$contents$goog$labs$userAgent$util_matchUserAgent(\"Mobile\");\n};\ngoog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.isMobile_();\ngoog.userAgent.SAFARI = goog.userAgent.WEBKIT;\ngoog.userAgent.determinePlatform_ = function() {\n  var navigator = goog.userAgent.getNavigatorTyped();\n  return navigator && navigator.platform || \"\";\n};\ngoog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();\ngoog.userAgent.ASSUME_MAC = !1;\ngoog.userAgent.ASSUME_WINDOWS = !1;\ngoog.userAgent.ASSUME_LINUX = !1;\ngoog.userAgent.ASSUME_X11 = !1;\ngoog.userAgent.ASSUME_ANDROID = !1;\ngoog.userAgent.ASSUME_IPHONE = !1;\ngoog.userAgent.ASSUME_IPAD = !1;\ngoog.userAgent.ASSUME_IPOD = !1;\ngoog.userAgent.ASSUME_KAIOS = !1;\ngoog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11 || goog.userAgent.ASSUME_ANDROID || goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD;\ngoog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : module$contents$goog$labs$userAgent$platform_isMacintosh();\ngoog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : module$contents$goog$labs$userAgent$platform_isWindows();\ngoog.userAgent.isLegacyLinux_ = function() {\n  return module$contents$goog$labs$userAgent$platform_isLinux() || module$contents$goog$labs$userAgent$platform_isChromeOS();\n};\ngoog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.isLegacyLinux_();\ngoog.userAgent.isX11_ = function() {\n  var navigator = goog.userAgent.getNavigatorTyped();\n  return !!navigator && goog.string.internal.contains(navigator.appVersion || \"\", \"X11\");\n};\ngoog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.isX11_();\ngoog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_ANDROID : module$contents$goog$labs$userAgent$platform_isAndroid();\ngoog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE : module$contents$goog$labs$userAgent$platform_isIphone();\ngoog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPAD : module$contents$goog$labs$userAgent$platform_isIpad();\ngoog.userAgent.IPOD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPOD : module$contents$goog$labs$userAgent$platform_isIpod();\ngoog.userAgent.IOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD : module$contents$goog$labs$userAgent$platform_isIos();\ngoog.userAgent.KAIOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_KAIOS : module$contents$goog$labs$userAgent$platform_isKaiOS();\ngoog.userAgent.determineVersion_ = function() {\n  var version = \"\", arr = goog.userAgent.getVersionRegexResult_();\n  arr && (version = arr ? arr[1] : \"\");\n  if (goog.userAgent.IE) {\n    var docMode = goog.userAgent.getDocumentMode_();\n    if (null != docMode && docMode > parseFloat(version)) {\n      return String(docMode);\n    }\n  }\n  return version;\n};\ngoog.userAgent.getVersionRegexResult_ = function() {\n  var userAgent = goog.userAgent.getUserAgentString();\n  if (goog.userAgent.GECKO) {\n    return /rv:([^\\);]+)(\\)|;)/.exec(userAgent);\n  }\n  if (goog.userAgent.EDGE) {\n    return /Edge\\/([\\d\\.]+)/.exec(userAgent);\n  }\n  if (goog.userAgent.IE) {\n    return /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(userAgent);\n  }\n  if (goog.userAgent.WEBKIT) {\n    return /WebKit\\/(\\S+)/.exec(userAgent);\n  }\n  if (goog.userAgent.OPERA) {\n    return /(?:Version)[ \\/]?(\\S+)/.exec(userAgent);\n  }\n};\ngoog.userAgent.getDocumentMode_ = function() {\n  var doc = goog.global.document;\n  return doc ? doc.documentMode : void 0;\n};\ngoog.userAgent.VERSION = goog.userAgent.determineVersion_();\ngoog.userAgent.compare = function(v1, v2) {\n  return goog.string.internal.compareVersions(v1, v2);\n};\ngoog.userAgent.isVersionOrHigherCache_ = {};\ngoog.userAgent.isVersionOrHigher = function(version) {\n  return goog.userAgent.ASSUME_ANY_VERSION || goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_, version, function() {\n    return 0 <= goog.string.internal.compareVersions(goog.userAgent.VERSION, version);\n  });\n};\ngoog.userAgent.isDocumentModeOrHigher = function(documentMode) {\n  return Number(goog.userAgent.DOCUMENT_MODE) >= documentMode;\n};\ngoog.userAgent.isDocumentMode = goog.userAgent.isDocumentModeOrHigher;\ngoog.userAgent.DOCUMENT_MODE = function() {\n  if (goog.global.document && goog.userAgent.IE) {\n    var documentMode = goog.userAgent.getDocumentMode_();\n    return documentMode ? documentMode : parseInt(goog.userAgent.VERSION, 10) || void 0;\n  }\n}();\ngoog.events.MouseEvents = {};\ngoog.events.getVendorPrefixedName_ = function(eventName) {\n  return goog.userAgent.WEBKIT ? \"webkit\" + eventName : eventName.toLowerCase();\n};\ngoog.events.EventType = {CLICK:\"click\", RIGHTCLICK:\"rightclick\", DBLCLICK:\"dblclick\", AUXCLICK:\"auxclick\", MOUSEDOWN:\"mousedown\", MOUSEUP:\"mouseup\", MOUSEOVER:\"mouseover\", MOUSEOUT:\"mouseout\", MOUSEMOVE:\"mousemove\", MOUSEENTER:\"mouseenter\", MOUSELEAVE:\"mouseleave\", MOUSECANCEL:\"mousecancel\", SELECTIONCHANGE:\"selectionchange\", SELECTSTART:\"selectstart\", WHEEL:\"wheel\", KEYPRESS:\"keypress\", KEYDOWN:\"keydown\", KEYUP:\"keyup\", BLUR:\"blur\", FOCUS:\"focus\", DEACTIVATE:\"deactivate\", FOCUSIN:\"focusin\", FOCUSOUT:\"focusout\", \nCHANGE:\"change\", RESET:\"reset\", SELECT:\"select\", SUBMIT:\"submit\", INPUT:\"input\", PROPERTYCHANGE:\"propertychange\", DRAGSTART:\"dragstart\", DRAG:\"drag\", DRAGENTER:\"dragenter\", DRAGOVER:\"dragover\", DRAGLEAVE:\"dragleave\", DROP:\"drop\", DRAGEND:\"dragend\", TOUCHSTART:\"touchstart\", TOUCHMOVE:\"touchmove\", TOUCHEND:\"touchend\", TOUCHCANCEL:\"touchcancel\", BEFOREUNLOAD:\"beforeunload\", CONSOLEMESSAGE:\"consolemessage\", CONTEXTMENU:\"contextmenu\", DEVICECHANGE:\"devicechange\", DEVICEMOTION:\"devicemotion\", DEVICEORIENTATION:\"deviceorientation\", \nDOMCONTENTLOADED:\"DOMContentLoaded\", ERROR:\"error\", HELP:\"help\", LOAD:\"load\", LOSECAPTURE:\"losecapture\", ORIENTATIONCHANGE:\"orientationchange\", READYSTATECHANGE:\"readystatechange\", RESIZE:\"resize\", SCROLL:\"scroll\", UNLOAD:\"unload\", CANPLAY:\"canplay\", CANPLAYTHROUGH:\"canplaythrough\", DURATIONCHANGE:\"durationchange\", EMPTIED:\"emptied\", ENDED:\"ended\", LOADEDDATA:\"loadeddata\", LOADEDMETADATA:\"loadedmetadata\", PAUSE:\"pause\", PLAY:\"play\", PLAYING:\"playing\", PROGRESS:\"progress\", RATECHANGE:\"ratechange\", \nSEEKED:\"seeked\", SEEKING:\"seeking\", STALLED:\"stalled\", SUSPEND:\"suspend\", TIMEUPDATE:\"timeupdate\", VOLUMECHANGE:\"volumechange\", WAITING:\"waiting\", SOURCEOPEN:\"sourceopen\", SOURCEENDED:\"sourceended\", SOURCECLOSED:\"sourceclosed\", ABORT:\"abort\", UPDATE:\"update\", UPDATESTART:\"updatestart\", UPDATEEND:\"updateend\", HASHCHANGE:\"hashchange\", PAGEHIDE:\"pagehide\", PAGESHOW:\"pageshow\", POPSTATE:\"popstate\", COPY:\"copy\", PASTE:\"paste\", CUT:\"cut\", BEFORECOPY:\"beforecopy\", BEFORECUT:\"beforecut\", BEFOREPASTE:\"beforepaste\", \nONLINE:\"online\", OFFLINE:\"offline\", MESSAGE:\"message\", CONNECT:\"connect\", INSTALL:\"install\", ACTIVATE:\"activate\", FETCH:\"fetch\", FOREIGNFETCH:\"foreignfetch\", MESSAGEERROR:\"messageerror\", STATECHANGE:\"statechange\", UPDATEFOUND:\"updatefound\", CONTROLLERCHANGE:\"controllerchange\", ANIMATIONSTART:goog.events.getVendorPrefixedName_(\"AnimationStart\"), ANIMATIONEND:goog.events.getVendorPrefixedName_(\"AnimationEnd\"), ANIMATIONITERATION:goog.events.getVendorPrefixedName_(\"AnimationIteration\"), TRANSITIONEND:goog.events.getVendorPrefixedName_(\"TransitionEnd\"), \nPOINTERDOWN:\"pointerdown\", POINTERUP:\"pointerup\", POINTERCANCEL:\"pointercancel\", POINTERMOVE:\"pointermove\", POINTEROVER:\"pointerover\", POINTEROUT:\"pointerout\", POINTERENTER:\"pointerenter\", POINTERLEAVE:\"pointerleave\", GOTPOINTERCAPTURE:\"gotpointercapture\", LOSTPOINTERCAPTURE:\"lostpointercapture\", MSGESTURECHANGE:\"MSGestureChange\", MSGESTUREEND:\"MSGestureEnd\", MSGESTUREHOLD:\"MSGestureHold\", MSGESTURESTART:\"MSGestureStart\", MSGESTURETAP:\"MSGestureTap\", MSGOTPOINTERCAPTURE:\"MSGotPointerCapture\", MSINERTIASTART:\"MSInertiaStart\", \nMSLOSTPOINTERCAPTURE:\"MSLostPointerCapture\", MSPOINTERCANCEL:\"MSPointerCancel\", MSPOINTERDOWN:\"MSPointerDown\", MSPOINTERENTER:\"MSPointerEnter\", MSPOINTERHOVER:\"MSPointerHover\", MSPOINTERLEAVE:\"MSPointerLeave\", MSPOINTERMOVE:\"MSPointerMove\", MSPOINTEROUT:\"MSPointerOut\", MSPOINTEROVER:\"MSPointerOver\", MSPOINTERUP:\"MSPointerUp\", TEXT:\"text\", TEXTINPUT:goog.userAgent.IE ? \"textinput\" : \"textInput\", COMPOSITIONSTART:\"compositionstart\", COMPOSITIONUPDATE:\"compositionupdate\", COMPOSITIONEND:\"compositionend\", \nBEFOREINPUT:\"beforeinput\", EXIT:\"exit\", LOADABORT:\"loadabort\", LOADCOMMIT:\"loadcommit\", LOADREDIRECT:\"loadredirect\", LOADSTART:\"loadstart\", LOADSTOP:\"loadstop\", RESPONSIVE:\"responsive\", SIZECHANGED:\"sizechanged\", UNRESPONSIVE:\"unresponsive\", VISIBILITYCHANGE:\"visibilitychange\", STORAGE:\"storage\", DOMSUBTREEMODIFIED:\"DOMSubtreeModified\", DOMNODEINSERTED:\"DOMNodeInserted\", DOMNODEREMOVED:\"DOMNodeRemoved\", DOMNODEREMOVEDFROMDOCUMENT:\"DOMNodeRemovedFromDocument\", DOMNODEINSERTEDINTODOCUMENT:\"DOMNodeInsertedIntoDocument\", \nDOMATTRMODIFIED:\"DOMAttrModified\", DOMCHARACTERDATAMODIFIED:\"DOMCharacterDataModified\", BEFOREPRINT:\"beforeprint\", AFTERPRINT:\"afterprint\", BEFOREINSTALLPROMPT:\"beforeinstallprompt\", APPINSTALLED:\"appinstalled\"};\ngoog.events.getPointerFallbackEventName_ = function(pointerEventName, msPointerEventName, fallbackEventName) {\n  return goog.events.BrowserFeature.POINTER_EVENTS ? pointerEventName : goog.events.BrowserFeature.MSPOINTER_EVENTS ? msPointerEventName : fallbackEventName;\n};\ngoog.events.PointerFallbackEventType = {POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN, goog.events.EventType.MSPOINTERDOWN, goog.events.EventType.MOUSEDOWN), POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP, goog.events.EventType.MSPOINTERUP, goog.events.EventType.MOUSEUP), POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL, goog.events.EventType.MSPOINTERCANCEL, goog.events.EventType.MOUSECANCEL), \nPOINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE, goog.events.EventType.MSPOINTERMOVE, goog.events.EventType.MOUSEMOVE), POINTEROVER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROVER, goog.events.EventType.MSPOINTEROVER, goog.events.EventType.MOUSEOVER), POINTEROUT:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROUT, goog.events.EventType.MSPOINTEROUT, goog.events.EventType.MOUSEOUT), POINTERENTER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERENTER, \ngoog.events.EventType.MSPOINTERENTER, goog.events.EventType.MOUSEENTER), POINTERLEAVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERLEAVE, goog.events.EventType.MSPOINTERLEAVE, goog.events.EventType.MOUSELEAVE)};\ngoog.events.PointerTouchFallbackEventType = {POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN, goog.events.EventType.MSPOINTERDOWN, goog.events.EventType.TOUCHSTART), POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP, goog.events.EventType.MSPOINTERUP, goog.events.EventType.TOUCHEND), POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL, goog.events.EventType.MSPOINTERCANCEL, goog.events.EventType.TOUCHCANCEL), \nPOINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE, goog.events.EventType.MSPOINTERMOVE, goog.events.EventType.TOUCHMOVE)};\ngoog.events.PointerAsMouseEventType = {MOUSEDOWN:goog.events.PointerFallbackEventType.POINTERDOWN, MOUSEUP:goog.events.PointerFallbackEventType.POINTERUP, MOUSECANCEL:goog.events.PointerFallbackEventType.POINTERCANCEL, MOUSEMOVE:goog.events.PointerFallbackEventType.POINTERMOVE, MOUSEOVER:goog.events.PointerFallbackEventType.POINTEROVER, MOUSEOUT:goog.events.PointerFallbackEventType.POINTEROUT, MOUSEENTER:goog.events.PointerFallbackEventType.POINTERENTER, MOUSELEAVE:goog.events.PointerFallbackEventType.POINTERLEAVE};\ngoog.events.MouseAsMouseEventType = {MOUSEDOWN:goog.events.EventType.MOUSEDOWN, MOUSEUP:goog.events.EventType.MOUSEUP, MOUSECANCEL:goog.events.EventType.MOUSECANCEL, MOUSEMOVE:goog.events.EventType.MOUSEMOVE, MOUSEOVER:goog.events.EventType.MOUSEOVER, MOUSEOUT:goog.events.EventType.MOUSEOUT, MOUSEENTER:goog.events.EventType.MOUSEENTER, MOUSELEAVE:goog.events.EventType.MOUSELEAVE};\ngoog.events.PointerAsTouchEventType = {TOUCHCANCEL:goog.events.PointerTouchFallbackEventType.POINTERCANCEL, TOUCHEND:goog.events.PointerTouchFallbackEventType.POINTERUP, TOUCHMOVE:goog.events.PointerTouchFallbackEventType.POINTERMOVE, TOUCHSTART:goog.events.PointerTouchFallbackEventType.POINTERDOWN};\ngoog.events.USE_LAYER_XY_AS_OFFSET_XY = !1;\ngoog.events.BrowserEvent = function(opt_e, opt_currentTarget) {\n  goog.events.Event.call(this, opt_e ? opt_e.type : \"\");\n  this.relatedTarget = this.currentTarget = this.target = null;\n  this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;\n  this.key = \"\";\n  this.charCode = this.keyCode = 0;\n  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n  this.state = null;\n  this.platformModifierKey = !1;\n  this.pointerId = 0;\n  this.pointerType = \"\";\n  this.event_ = null;\n  opt_e && this.init(opt_e, opt_currentTarget);\n};\ngoog.inherits(goog.events.BrowserEvent, goog.events.Event);\ngoog.events.BrowserEvent.MouseButton = {LEFT:0, MIDDLE:1, RIGHT:2};\ngoog.events.BrowserEvent.PointerType = {MOUSE:\"mouse\", PEN:\"pen\", TOUCH:\"touch\"};\ngoog.events.BrowserEvent.IEButtonMap = goog.debug.freeze([1, 4, 2]);\ngoog.events.BrowserEvent.IE_BUTTON_MAP = goog.events.BrowserEvent.IEButtonMap;\ngoog.events.BrowserEvent.IE_POINTER_TYPE_MAP = goog.debug.freeze({2:goog.events.BrowserEvent.PointerType.TOUCH, 3:goog.events.BrowserEvent.PointerType.PEN, 4:goog.events.BrowserEvent.PointerType.MOUSE});\ngoog.events.BrowserEvent.prototype.init = function(e, opt_currentTarget) {\n  var type = this.type = e.type, relevantTouch = e.changedTouches && e.changedTouches.length ? e.changedTouches[0] : null;\n  this.target = e.target || e.srcElement;\n  this.currentTarget = opt_currentTarget;\n  var relatedTarget = e.relatedTarget;\n  relatedTarget ? goog.userAgent.GECKO && (goog.reflect.canAccessProperty(relatedTarget, \"nodeName\") || (relatedTarget = null)) : type == goog.events.EventType.MOUSEOVER ? relatedTarget = e.fromElement : type == goog.events.EventType.MOUSEOUT && (relatedTarget = e.toElement);\n  this.relatedTarget = relatedTarget;\n  relevantTouch ? (this.clientX = void 0 !== relevantTouch.clientX ? relevantTouch.clientX : relevantTouch.pageX, this.clientY = void 0 !== relevantTouch.clientY ? relevantTouch.clientY : relevantTouch.pageY, this.screenX = relevantTouch.screenX || 0, this.screenY = relevantTouch.screenY || 0) : (goog.events.USE_LAYER_XY_AS_OFFSET_XY ? (this.offsetX = void 0 !== e.layerX ? e.layerX : e.offsetX, this.offsetY = void 0 !== e.layerY ? e.layerY : e.offsetY) : (this.offsetX = goog.userAgent.WEBKIT || void 0 !== \n  e.offsetX ? e.offsetX : e.layerX, this.offsetY = goog.userAgent.WEBKIT || void 0 !== e.offsetY ? e.offsetY : e.layerY), this.clientX = void 0 !== e.clientX ? e.clientX : e.pageX, this.clientY = void 0 !== e.clientY ? e.clientY : e.pageY, this.screenX = e.screenX || 0, this.screenY = e.screenY || 0);\n  this.button = e.button;\n  this.keyCode = e.keyCode || 0;\n  this.key = e.key || \"\";\n  this.charCode = e.charCode || (\"keypress\" == type ? e.keyCode : 0);\n  this.ctrlKey = e.ctrlKey;\n  this.altKey = e.altKey;\n  this.shiftKey = e.shiftKey;\n  this.metaKey = e.metaKey;\n  this.platformModifierKey = goog.userAgent.MAC ? e.metaKey : e.ctrlKey;\n  this.pointerId = e.pointerId || 0;\n  this.pointerType = goog.events.BrowserEvent.getPointerType_(e);\n  this.state = e.state;\n  this.event_ = e;\n  e.defaultPrevented && goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n};\ngoog.events.BrowserEvent.prototype.isButton = function(button) {\n  return this.event_.button == button;\n};\ngoog.events.BrowserEvent.prototype.isMouseActionButton = function() {\n  return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) && !(goog.userAgent.MAC && this.ctrlKey);\n};\ngoog.events.BrowserEvent.prototype.stopPropagation = function() {\n  goog.events.BrowserEvent.superClass_.stopPropagation.call(this);\n  this.event_.stopPropagation ? this.event_.stopPropagation() : this.event_.cancelBubble = !0;\n};\ngoog.events.BrowserEvent.prototype.preventDefault = function() {\n  goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n  var be = this.event_;\n  be.preventDefault ? be.preventDefault() : be.returnValue = !1;\n};\ngoog.events.BrowserEvent.prototype.getBrowserEvent = function() {\n  return this.event_;\n};\ngoog.events.BrowserEvent.getPointerType_ = function(e) {\n  return \"string\" === typeof e.pointerType ? e.pointerType : goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[e.pointerType] || \"\";\n};\ngoog.events.Listenable = function() {\n};\ngoog.events.Listenable.IMPLEMENTED_BY_PROP = \"closure_listenable_\" + (1e6 * Math.random() | 0);\ngoog.events.Listenable.addImplementation = function(cls) {\n  cls.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP] = !0;\n};\ngoog.events.Listenable.isImplementedBy = function(obj) {\n  return !(!obj || !obj[goog.events.Listenable.IMPLEMENTED_BY_PROP]);\n};\ngoog.events.Listenable.prototype.listen = function(type, listener, opt_useCapture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.listenOnce = function(type, listener, opt_useCapture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.unlisten = function(type, listener, opt_useCapture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.unlistenByKey = function(key) {\n};\ngoog.events.Listenable.prototype.dispatchEvent = function(e) {\n};\ngoog.events.Listenable.prototype.removeAllListeners = function(opt_type) {\n};\ngoog.events.Listenable.prototype.getParentEventTarget = function() {\n};\ngoog.events.Listenable.prototype.fireListeners = function(type, capture, eventObject) {\n};\ngoog.events.Listenable.prototype.getListeners = function(type, capture) {\n};\ngoog.events.Listenable.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.hasListener = function(opt_type, opt_capture) {\n};\ngoog.events.ListenableKey = function() {\n};\ngoog.events.ListenableKey.counter_ = 0;\ngoog.events.ListenableKey.reserveKey = function() {\n  return ++goog.events.ListenableKey.counter_;\n};\ngoog.events.Listener = function(listener, proxy, src, type, capture, opt_handler) {\n  goog.events.Listener.ENABLE_MONITORING && (this.creationStack = Error().stack);\n  this.listener = listener;\n  this.proxy = proxy;\n  this.src = src;\n  this.type = type;\n  this.capture = !!capture;\n  this.handler = opt_handler;\n  this.key = goog.events.ListenableKey.reserveKey();\n  this.removed = this.callOnce = !1;\n};\ngoog.events.Listener.ENABLE_MONITORING = !1;\ngoog.events.Listener.prototype.markAsRemoved = function() {\n  this.removed = !0;\n  this.handler = this.src = this.proxy = this.listener = null;\n};\ngoog.object = {};\nfunction module$contents$goog$object_forEach(obj, f, opt_obj) {\n  for (var key in obj) {\n    f.call(opt_obj, obj[key], key, obj);\n  }\n}\nfunction module$contents$goog$object_filter(obj, f, opt_obj) {\n  var res = {}, key;\n  for (key in obj) {\n    f.call(opt_obj, obj[key], key, obj) && (res[key] = obj[key]);\n  }\n  return res;\n}\nfunction module$contents$goog$object_map(obj, f, opt_obj) {\n  var res = {}, key;\n  for (key in obj) {\n    res[key] = f.call(opt_obj, obj[key], key, obj);\n  }\n  return res;\n}\nfunction module$contents$goog$object_some(obj, f, opt_obj) {\n  for (var key in obj) {\n    if (f.call(opt_obj, obj[key], key, obj)) {\n      return !0;\n    }\n  }\n  return !1;\n}\nfunction module$contents$goog$object_getCount(obj) {\n  var rv = 0, key;\n  for (key in obj) {\n    rv++;\n  }\n  return rv;\n}\nfunction module$contents$goog$object_contains(obj, val) {\n  return module$contents$goog$object_containsValue(obj, val);\n}\nfunction module$contents$goog$object_getValues(obj) {\n  var res = [], i = 0, key;\n  for (key in obj) {\n    res[i++] = obj[key];\n  }\n  return res;\n}\nfunction module$contents$goog$object_getKeys(obj) {\n  var res = [], i = 0, key;\n  for (key in obj) {\n    res[i++] = key;\n  }\n  return res;\n}\nfunction module$contents$goog$object_containsKey(obj, key) {\n  return null !== obj && key in obj;\n}\nfunction module$contents$goog$object_containsValue(obj, val) {\n  for (var key in obj) {\n    if (obj[key] == val) {\n      return !0;\n    }\n  }\n  return !1;\n}\nfunction module$contents$goog$object_findKey(obj, f, thisObj) {\n  for (var key in obj) {\n    if (f.call(thisObj, obj[key], key, obj)) {\n      return key;\n    }\n  }\n}\nfunction module$contents$goog$object_isEmpty(obj) {\n  for (var key in obj) {\n    return !1;\n  }\n  return !0;\n}\nfunction module$contents$goog$object_clear(obj) {\n  for (var i in obj) {\n    delete obj[i];\n  }\n}\nfunction module$contents$goog$object_remove(obj, key) {\n  var rv;\n  (rv = key in obj) && delete obj[key];\n  return rv;\n}\nfunction module$contents$goog$object_set(obj, key, value) {\n  obj[key] = value;\n}\nfunction module$contents$goog$object_clone(obj) {\n  var res = {}, key;\n  for (key in obj) {\n    res[key] = obj[key];\n  }\n  return res;\n}\nfunction module$contents$goog$object_unsafeClone(obj) {\n  if (!obj || \"object\" !== typeof obj) {\n    return obj;\n  }\n  if (\"function\" === typeof obj.clone) {\n    return obj.clone();\n  }\n  if (\"undefined\" !== typeof Map && obj instanceof Map) {\n    return new Map(obj);\n  }\n  if (\"undefined\" !== typeof Set && obj instanceof Set) {\n    return new Set(obj);\n  }\n  var clone = Array.isArray(obj) ? [] : \"function\" !== typeof ArrayBuffer || \"function\" !== typeof ArrayBuffer.isView || !ArrayBuffer.isView(obj) || obj instanceof DataView ? {} : new obj.constructor(obj.length), key;\n  for (key in obj) {\n    clone[key] = module$contents$goog$object_unsafeClone(obj[key]);\n  }\n  return clone;\n}\nvar module$contents$goog$object_PROTOTYPE_FIELDS = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction module$contents$goog$object_extend(target, var_args) {\n  for (var key, source, i = 1; i < arguments.length; i++) {\n    source = arguments[i];\n    for (key in source) {\n      target[key] = source[key];\n    }\n    for (var j = 0; j < module$contents$goog$object_PROTOTYPE_FIELDS.length; j++) {\n      key = module$contents$goog$object_PROTOTYPE_FIELDS[j], Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n    }\n  }\n}\nfunction module$contents$goog$object_create(var_args) {\n  var argLength = arguments.length;\n  if (1 == argLength && Array.isArray(arguments[0])) {\n    return module$contents$goog$object_create.apply(null, arguments[0]);\n  }\n  if (argLength % 2) {\n    throw Error(\"Uneven number of arguments\");\n  }\n  for (var rv = {}, i = 0; i < argLength; i += 2) {\n    rv[arguments[i]] = arguments[i + 1];\n  }\n  return rv;\n}\nfunction module$contents$goog$object_createSet(var_args) {\n  var argLength = arguments.length;\n  if (1 == argLength && Array.isArray(arguments[0])) {\n    return module$contents$goog$object_createSet.apply(null, arguments[0]);\n  }\n  for (var rv = {}, i = 0; i < argLength; i++) {\n    rv[arguments[i]] = !0;\n  }\n  return rv;\n}\ngoog.object.add = function module$contents$goog$object_add(obj, key, val) {\n  if (null !== obj && key in obj) {\n    throw Error('The object already contains the key \"' + key + '\"');\n  }\n  module$contents$goog$object_set(obj, key, val);\n};\ngoog.object.clear = module$contents$goog$object_clear;\ngoog.object.clone = module$contents$goog$object_clone;\ngoog.object.contains = module$contents$goog$object_contains;\ngoog.object.containsKey = module$contents$goog$object_containsKey;\ngoog.object.containsValue = module$contents$goog$object_containsValue;\ngoog.object.create = module$contents$goog$object_create;\ngoog.object.createImmutableView = function module$contents$goog$object_createImmutableView(obj) {\n  var result = obj;\n  Object.isFrozen && !Object.isFrozen(obj) && (result = Object.create(obj), Object.freeze(result));\n  return result;\n};\ngoog.object.createSet = module$contents$goog$object_createSet;\ngoog.object.equals = function module$contents$goog$object_equals(a, b) {\n  for (var k in a) {\n    if (!(k in b) || a[k] !== b[k]) {\n      return !1;\n    }\n  }\n  for (var k$38 in b) {\n    if (!(k$38 in a)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.object.every = function module$contents$goog$object_every(obj, f, opt_obj) {\n  for (var key in obj) {\n    if (!f.call(opt_obj, obj[key], key, obj)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.object.extend = module$contents$goog$object_extend;\ngoog.object.filter = module$contents$goog$object_filter;\ngoog.object.findKey = module$contents$goog$object_findKey;\ngoog.object.findValue = function module$contents$goog$object_findValue(obj, f, thisObj) {\n  var key = module$contents$goog$object_findKey(obj, f, thisObj);\n  return key && obj[key];\n};\ngoog.object.forEach = module$contents$goog$object_forEach;\ngoog.object.get = function module$contents$goog$object_get(obj, key, val) {\n  return null !== obj && key in obj ? obj[key] : val;\n};\ngoog.object.getAllPropertyNames = function module$contents$goog$object_getAllPropertyNames(obj, includeObjectPrototype, includeFunctionPrototype) {\n  if (!obj) {\n    return [];\n  }\n  if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\n    return module$contents$goog$object_getKeys(obj);\n  }\n  for (var visitedSet = {}, proto = obj; proto && (proto !== Object.prototype || includeObjectPrototype) && (proto !== Function.prototype || includeFunctionPrototype);) {\n    for (var names = Object.getOwnPropertyNames(proto), i = 0; i < names.length; i++) {\n      visitedSet[names[i]] = !0;\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n  return module$contents$goog$object_getKeys(visitedSet);\n};\ngoog.object.getAnyKey = function module$contents$goog$object_getAnyKey(obj) {\n  for (var key in obj) {\n    return key;\n  }\n};\ngoog.object.getAnyValue = function module$contents$goog$object_getAnyValue(obj) {\n  for (var key in obj) {\n    return obj[key];\n  }\n};\ngoog.object.getCount = module$contents$goog$object_getCount;\ngoog.object.getKeys = module$contents$goog$object_getKeys;\ngoog.object.getSuperClass = function module$contents$goog$object_getSuperClass(constructor) {\n  var proto = Object.getPrototypeOf(constructor.prototype);\n  return proto && proto.constructor;\n};\ngoog.object.getValueByKeys = function module$contents$goog$object_getValueByKeys(obj, var_args) {\n  for (var isArrayLike = goog.isArrayLike(var_args), keys = isArrayLike ? var_args : arguments, i = isArrayLike ? 0 : 1; i < keys.length; i++) {\n    if (null == obj) {\n      return;\n    }\n    obj = obj[keys[i]];\n  }\n  return obj;\n};\ngoog.object.getValues = module$contents$goog$object_getValues;\ngoog.object.isEmpty = module$contents$goog$object_isEmpty;\ngoog.object.isImmutableView = function module$contents$goog$object_isImmutableView(obj) {\n  return !!Object.isFrozen && Object.isFrozen(obj);\n};\ngoog.object.map = module$contents$goog$object_map;\ngoog.object.remove = module$contents$goog$object_remove;\ngoog.object.set = module$contents$goog$object_set;\ngoog.object.setIfUndefined = function module$contents$goog$object_setIfUndefined(obj, key, value) {\n  return key in obj ? obj[key] : obj[key] = value;\n};\ngoog.object.setWithReturnValueIfNotSet = function module$contents$goog$object_setWithReturnValueIfNotSet(obj, key, f) {\n  if (key in obj) {\n    return obj[key];\n  }\n  var val = f();\n  return obj[key] = val;\n};\ngoog.object.some = module$contents$goog$object_some;\ngoog.object.transpose = function module$contents$goog$object_transpose(obj) {\n  var transposed = {}, key;\n  for (key in obj) {\n    transposed[obj[key]] = key;\n  }\n  return transposed;\n};\ngoog.object.unsafeClone = module$contents$goog$object_unsafeClone;\ngoog.events.ListenerMap = function(src) {\n  this.src = src;\n  this.listeners = {};\n  this.typeCount_ = 0;\n};\ngoog.events.ListenerMap.prototype.getTypeCount = function() {\n  return this.typeCount_;\n};\ngoog.events.ListenerMap.prototype.getListenerCount = function() {\n  var count = 0, type;\n  for (type in this.listeners) {\n    count += this.listeners[type].length;\n  }\n  return count;\n};\ngoog.events.ListenerMap.prototype.add = function(type, listener, callOnce, opt_useCapture, opt_listenerScope) {\n  var typeStr = type.toString(), listenerArray = this.listeners[typeStr];\n  listenerArray || (listenerArray = this.listeners[typeStr] = [], this.typeCount_++);\n  var index = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);\n  if (-1 < index) {\n    var listenerObj = listenerArray[index];\n    callOnce || (listenerObj.callOnce = !1);\n  } else {\n    listenerObj = new goog.events.Listener(listener, null, this.src, typeStr, !!opt_useCapture, opt_listenerScope), listenerObj.callOnce = callOnce, listenerArray.push(listenerObj);\n  }\n  return listenerObj;\n};\ngoog.events.ListenerMap.prototype.remove = function(type, listener, opt_useCapture, opt_listenerScope) {\n  var typeStr = type.toString();\n  if (!(typeStr in this.listeners)) {\n    return !1;\n  }\n  var listenerArray = this.listeners[typeStr], index = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);\n  return -1 < index ? (listenerArray[index].markAsRemoved(), module$contents$goog$array_removeAt(listenerArray, index), 0 == listenerArray.length && (delete this.listeners[typeStr], this.typeCount_--), !0) : !1;\n};\ngoog.events.ListenerMap.prototype.removeByKey = function(listener) {\n  var type = listener.type;\n  if (!(type in this.listeners)) {\n    return !1;\n  }\n  var removed = module$contents$goog$array_remove(this.listeners[type], listener);\n  removed && (listener.markAsRemoved(), 0 == this.listeners[type].length && (delete this.listeners[type], this.typeCount_--));\n  return removed;\n};\ngoog.events.ListenerMap.prototype.removeAll = function(opt_type) {\n  var typeStr = opt_type && opt_type.toString(), count = 0, type;\n  for (type in this.listeners) {\n    if (!typeStr || type == typeStr) {\n      for (var listenerArray = this.listeners[type], i = 0; i < listenerArray.length; i++) {\n        ++count, listenerArray[i].markAsRemoved();\n      }\n      delete this.listeners[type];\n      this.typeCount_--;\n    }\n  }\n  return count;\n};\ngoog.events.ListenerMap.prototype.getListeners = function(type, capture) {\n  var listenerArray = this.listeners[type.toString()], rv = [];\n  if (listenerArray) {\n    for (var i = 0; i < listenerArray.length; ++i) {\n      var listenerObj = listenerArray[i];\n      listenerObj.capture == capture && rv.push(listenerObj);\n    }\n  }\n  return rv;\n};\ngoog.events.ListenerMap.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n  var listenerArray = this.listeners[type.toString()], i = -1;\n  listenerArray && (i = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, capture, opt_listenerScope));\n  return -1 < i ? listenerArray[i] : null;\n};\ngoog.events.ListenerMap.prototype.hasListener = function(opt_type, opt_capture) {\n  var hasType = void 0 !== opt_type, typeStr = hasType ? opt_type.toString() : \"\", hasCapture = void 0 !== opt_capture;\n  return module$contents$goog$object_some(this.listeners, function(listenerArray, type) {\n    for (var i = 0; i < listenerArray.length; ++i) {\n      if (!(hasType && listenerArray[i].type != typeStr || hasCapture && listenerArray[i].capture != opt_capture)) {\n        return !0;\n      }\n    }\n    return !1;\n  });\n};\ngoog.events.ListenerMap.findListenerIndex_ = function(listenerArray, listener, opt_useCapture, opt_listenerScope) {\n  for (var i = 0; i < listenerArray.length; ++i) {\n    var listenerObj = listenerArray[i];\n    if (!listenerObj.removed && listenerObj.listener == listener && listenerObj.capture == !!opt_useCapture && listenerObj.handler == opt_listenerScope) {\n      return i;\n    }\n  }\n  return -1;\n};\ngoog.events.Key = {};\ngoog.events.ListenableType = {};\ngoog.events.LISTENER_MAP_PROP_ = \"closure_lm_\" + (1e6 * Math.random() | 0);\ngoog.events.onString_ = \"on\";\ngoog.events.onStringMap_ = {};\ngoog.events.CaptureSimulationMode = {OFF_AND_FAIL:0, OFF_AND_SILENT:1, ON:2};\ngoog.events.CAPTURE_SIMULATION_MODE = 2;\ngoog.events.listenerCountEstimate_ = 0;\ngoog.events.listen = function(src, type, listener, opt_options, opt_handler) {\n  if (opt_options && opt_options.once) {\n    return goog.events.listenOnce(src, type, listener, opt_options, opt_handler);\n  }\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listen(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  listener = goog.events.wrapListener(listener);\n  return goog.events.Listenable.isImplementedBy(src) ? src.listen(type, listener, goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, opt_handler) : goog.events.listen_(src, type, listener, !1, opt_options, opt_handler);\n};\ngoog.events.listen_ = function(src, type, listener, callOnce, opt_options, opt_handler) {\n  if (!type) {\n    throw Error(\"Invalid event type\");\n  }\n  var capture = goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, listenerMap = goog.events.getListenerMap_(src);\n  listenerMap || (src[goog.events.LISTENER_MAP_PROP_] = listenerMap = new goog.events.ListenerMap(src));\n  var listenerObj = listenerMap.add(type, listener, callOnce, capture, opt_handler);\n  if (listenerObj.proxy) {\n    return listenerObj;\n  }\n  var proxy = goog.events.getProxy();\n  listenerObj.proxy = proxy;\n  proxy.src = src;\n  proxy.listener = listenerObj;\n  if (src.addEventListener) {\n    goog.events.BrowserFeature.PASSIVE_EVENTS || (opt_options = capture), void 0 === opt_options && (opt_options = !1), src.addEventListener(type.toString(), proxy, opt_options);\n  } else {\n    if (src.attachEvent) {\n      src.attachEvent(goog.events.getOnString_(type.toString()), proxy);\n    } else {\n      if (src.addListener && src.removeListener) {\n        goog.asserts.assert(\"change\" === type, \"MediaQueryList only has a change event\"), src.addListener(proxy);\n      } else {\n        throw Error(\"addEventListener and attachEvent are unavailable.\");\n      }\n    }\n  }\n  goog.events.listenerCountEstimate_++;\n  return listenerObj;\n};\ngoog.events.getProxy = function() {\n  var proxyCallbackFunction = goog.events.handleBrowserEvent_, f = function(eventObject) {\n    return proxyCallbackFunction.call(f.src, f.listener, eventObject);\n  };\n  return f;\n};\ngoog.events.listenOnce = function(src, type, listener, opt_options, opt_handler) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listenOnce(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  listener = goog.events.wrapListener(listener);\n  return goog.events.Listenable.isImplementedBy(src) ? src.listenOnce(type, listener, goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, opt_handler) : goog.events.listen_(src, type, listener, !0, opt_options, opt_handler);\n};\ngoog.events.listenWithWrapper = function(src, wrapper, listener, opt_capt, opt_handler) {\n  wrapper.listen(src, listener, opt_capt, opt_handler);\n};\ngoog.events.unlisten = function(src, type, listener, opt_options, opt_handler) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.unlisten(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  var capture = goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlisten(type, listener, capture, opt_handler);\n  }\n  if (!src) {\n    return !1;\n  }\n  var listenerMap = goog.events.getListenerMap_(src);\n  if (listenerMap) {\n    var listenerObj = listenerMap.getListener(type, listener, capture, opt_handler);\n    if (listenerObj) {\n      return goog.events.unlistenByKey(listenerObj);\n    }\n  }\n  return !1;\n};\ngoog.events.unlistenByKey = function(key) {\n  if (\"number\" === typeof key || !key || key.removed) {\n    return !1;\n  }\n  var src = key.src;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlistenByKey(key);\n  }\n  var type = key.type, proxy = key.proxy;\n  src.removeEventListener ? src.removeEventListener(type, proxy, key.capture) : src.detachEvent ? src.detachEvent(goog.events.getOnString_(type), proxy) : src.addListener && src.removeListener && src.removeListener(proxy);\n  goog.events.listenerCountEstimate_--;\n  var listenerMap = goog.events.getListenerMap_(src);\n  listenerMap ? (listenerMap.removeByKey(key), 0 == listenerMap.getTypeCount() && (listenerMap.src = null, src[goog.events.LISTENER_MAP_PROP_] = null)) : key.markAsRemoved();\n  return !0;\n};\ngoog.events.unlistenWithWrapper = function(src, wrapper, listener, opt_capt, opt_handler) {\n  wrapper.unlisten(src, listener, opt_capt, opt_handler);\n};\ngoog.events.removeAll = function(obj, opt_type) {\n  if (!obj) {\n    return 0;\n  }\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.removeAllListeners(opt_type);\n  }\n  var listenerMap = goog.events.getListenerMap_(obj);\n  if (!listenerMap) {\n    return 0;\n  }\n  var count = 0, typeStr = opt_type && opt_type.toString(), type;\n  for (type in listenerMap.listeners) {\n    if (!typeStr || type == typeStr) {\n      for (var listeners = listenerMap.listeners[type].concat(), i = 0; i < listeners.length; ++i) {\n        goog.events.unlistenByKey(listeners[i]) && ++count;\n      }\n    }\n  }\n  return count;\n};\ngoog.events.getListeners = function(obj, type, capture) {\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.getListeners(type, capture);\n  }\n  if (!obj) {\n    return [];\n  }\n  var listenerMap = goog.events.getListenerMap_(obj);\n  return listenerMap ? listenerMap.getListeners(type, capture) : [];\n};\ngoog.events.getListener = function(src, type, listener, opt_capt, opt_handler) {\n  listener = goog.events.wrapListener(listener);\n  var capture = !!opt_capt;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.getListener(type, listener, capture, opt_handler);\n  }\n  if (!src) {\n    return null;\n  }\n  var listenerMap = goog.events.getListenerMap_(src);\n  return listenerMap ? listenerMap.getListener(type, listener, capture, opt_handler) : null;\n};\ngoog.events.hasListener = function(obj, opt_type, opt_capture) {\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.hasListener(opt_type, opt_capture);\n  }\n  var listenerMap = goog.events.getListenerMap_(obj);\n  return !!listenerMap && listenerMap.hasListener(opt_type, opt_capture);\n};\ngoog.events.expose = function(e) {\n  var str = [], key;\n  for (key in e) {\n    e[key] && e[key].id ? str.push(key + \" = \" + e[key] + \" (\" + e[key].id + \")\") : str.push(key + \" = \" + e[key]);\n  }\n  return str.join(\"\\n\");\n};\ngoog.events.getOnString_ = function(type) {\n  return type in goog.events.onStringMap_ ? goog.events.onStringMap_[type] : goog.events.onStringMap_[type] = goog.events.onString_ + type;\n};\ngoog.events.fireListeners = function(obj, type, capture, eventObject) {\n  return goog.events.Listenable.isImplementedBy(obj) ? obj.fireListeners(type, capture, eventObject) : goog.events.fireListeners_(obj, type, capture, eventObject);\n};\ngoog.events.fireListeners_ = function(obj, type, capture, eventObject) {\n  var retval = !0, listenerMap = goog.events.getListenerMap_(obj);\n  if (listenerMap) {\n    var listenerArray = listenerMap.listeners[type.toString()];\n    if (listenerArray) {\n      listenerArray = listenerArray.concat();\n      for (var i = 0; i < listenerArray.length; i++) {\n        var listener = listenerArray[i];\n        if (listener && listener.capture == capture && !listener.removed) {\n          var result = goog.events.fireListener(listener, eventObject);\n          retval = retval && !1 !== result;\n        }\n      }\n    }\n  }\n  return retval;\n};\ngoog.events.fireListener = function(listener, eventObject) {\n  var listenerFn = listener.listener, listenerHandler = listener.handler || listener.src;\n  listener.callOnce && goog.events.unlistenByKey(listener);\n  return listenerFn.call(listenerHandler, eventObject);\n};\ngoog.events.getTotalListenerCount = function() {\n  return goog.events.listenerCountEstimate_;\n};\ngoog.events.dispatchEvent = function(src, e) {\n  goog.asserts.assert(goog.events.Listenable.isImplementedBy(src), \"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.\");\n  return src.dispatchEvent(e);\n};\ngoog.events.protectBrowserEventEntryPoint = function(errorHandler) {\n  goog.events.handleBrowserEvent_ = errorHandler.protectEntryPoint(goog.events.handleBrowserEvent_);\n};\ngoog.events.handleBrowserEvent_ = function(listener, opt_evt) {\n  return listener.removed ? !0 : goog.events.fireListener(listener, new goog.events.BrowserEvent(opt_evt, this));\n};\ngoog.events.markIeEvent_ = function(e) {\n  var useReturnValue = !1;\n  if (0 == e.keyCode) {\n    try {\n      e.keyCode = -1;\n      return;\n    } catch (ex) {\n      useReturnValue = !0;\n    }\n  }\n  if (useReturnValue || void 0 == e.returnValue) {\n    e.returnValue = !0;\n  }\n};\ngoog.events.isMarkedIeEvent_ = function(e) {\n  return 0 > e.keyCode || void 0 != e.returnValue;\n};\ngoog.events.uniqueIdCounter_ = 0;\ngoog.events.getUniqueId = function(identifier) {\n  return identifier + \"_\" + goog.events.uniqueIdCounter_++;\n};\ngoog.events.getListenerMap_ = function(src) {\n  var listenerMap = src[goog.events.LISTENER_MAP_PROP_];\n  return listenerMap instanceof goog.events.ListenerMap ? listenerMap : null;\n};\ngoog.events.LISTENER_WRAPPER_PROP_ = \"__closure_events_fn_\" + (1e9 * Math.random() >>> 0);\ngoog.events.wrapListener = function(listener) {\n  goog.asserts.assert(listener, \"Listener can not be null.\");\n  if (\"function\" === typeof listener) {\n    return listener;\n  }\n  goog.asserts.assert(listener.handleEvent, \"An object listener must have handleEvent method.\");\n  listener[goog.events.LISTENER_WRAPPER_PROP_] || (listener[goog.events.LISTENER_WRAPPER_PROP_] = function(e) {\n    return listener.handleEvent(e);\n  });\n  return listener[goog.events.LISTENER_WRAPPER_PROP_];\n};\ngoog.debug.entryPointRegistry.register(function(transformer) {\n  goog.events.handleBrowserEvent_ = transformer(goog.events.handleBrowserEvent_);\n});\ngoog.events.EventTarget = function() {\n  goog.Disposable.call(this);\n  this.eventTargetListeners_ = new goog.events.ListenerMap(this);\n  this.actualEventTarget_ = this;\n  this.parentEventTarget_ = null;\n};\ngoog.inherits(goog.events.EventTarget, goog.Disposable);\ngoog.events.Listenable.addImplementation(goog.events.EventTarget);\ngoog.events.EventTarget.MAX_ANCESTORS_ = 1000;\ngoog.events.EventTarget.prototype.getParentEventTarget = function() {\n  return this.parentEventTarget_;\n};\ngoog.events.EventTarget.prototype.setParentEventTarget = function(parent) {\n  this.parentEventTarget_ = parent;\n};\ngoog.events.EventTarget.prototype.addEventListener = function(type, handler, opt_capture, opt_handlerScope) {\n  goog.events.listen(this, type, handler, opt_capture, opt_handlerScope);\n};\ngoog.events.EventTarget.prototype.removeEventListener = function(type, handler, opt_capture, opt_handlerScope) {\n  goog.events.unlisten(this, type, handler, opt_capture, opt_handlerScope);\n};\ngoog.events.EventTarget.prototype.dispatchEvent = function(e) {\n  this.assertInitialized_();\n  var ancestor = this.getParentEventTarget();\n  if (ancestor) {\n    var ancestorsTree = [];\n    for (var ancestorCount = 1; ancestor; ancestor = ancestor.getParentEventTarget()) {\n      ancestorsTree.push(ancestor), goog.asserts.assert(++ancestorCount < goog.events.EventTarget.MAX_ANCESTORS_, \"infinite loop\");\n    }\n  }\n  return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_, e, ancestorsTree);\n};\ngoog.events.EventTarget.prototype.disposeInternal = function() {\n  goog.events.EventTarget.superClass_.disposeInternal.call(this);\n  this.removeAllListeners();\n  this.parentEventTarget_ = null;\n};\ngoog.events.EventTarget.prototype.listen = function(type, listener, opt_useCapture, opt_listenerScope) {\n  this.assertInitialized_();\n  return this.eventTargetListeners_.add(String(type), listener, !1, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.listenOnce = function(type, listener, opt_useCapture, opt_listenerScope) {\n  return this.eventTargetListeners_.add(String(type), listener, !0, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.unlisten = function(type, listener, opt_useCapture, opt_listenerScope) {\n  return this.eventTargetListeners_.remove(String(type), listener, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.unlistenByKey = function(key) {\n  return this.eventTargetListeners_.removeByKey(key);\n};\ngoog.events.EventTarget.prototype.removeAllListeners = function(opt_type) {\n  return this.eventTargetListeners_ ? this.eventTargetListeners_.removeAll(opt_type) : 0;\n};\ngoog.events.EventTarget.prototype.fireListeners = function(type, capture, eventObject) {\n  var listenerArray = this.eventTargetListeners_.listeners[String(type)];\n  if (!listenerArray) {\n    return !0;\n  }\n  listenerArray = listenerArray.concat();\n  for (var rv = !0, i = 0; i < listenerArray.length; ++i) {\n    var listener = listenerArray[i];\n    if (listener && !listener.removed && listener.capture == capture) {\n      var listenerFn = listener.listener, listenerHandler = listener.handler || listener.src;\n      listener.callOnce && this.unlistenByKey(listener);\n      rv = !1 !== listenerFn.call(listenerHandler, eventObject) && rv;\n    }\n  }\n  return rv && !eventObject.defaultPrevented;\n};\ngoog.events.EventTarget.prototype.getListeners = function(type, capture) {\n  return this.eventTargetListeners_.getListeners(String(type), capture);\n};\ngoog.events.EventTarget.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n  return this.eventTargetListeners_.getListener(String(type), listener, capture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.hasListener = function(opt_type, opt_capture) {\n  return this.eventTargetListeners_.hasListener(void 0 !== opt_type ? String(opt_type) : void 0, opt_capture);\n};\ngoog.events.EventTarget.prototype.setTargetForTesting = function(target) {\n  this.actualEventTarget_ = target;\n};\ngoog.events.EventTarget.prototype.assertInitialized_ = function() {\n  goog.asserts.assert(this.eventTargetListeners_, \"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?\");\n};\ngoog.events.EventTarget.dispatchEventInternal_ = function(target, e, opt_ancestorsTree) {\n  var type = e.type || e;\n  if (\"string\" === typeof e) {\n    e = new goog.events.Event(e, target);\n  } else {\n    if (e instanceof goog.events.Event) {\n      e.target = e.target || target;\n    } else {\n      var oldEvent = e;\n      e = new goog.events.Event(type, target);\n      module$contents$goog$object_extend(e, oldEvent);\n    }\n  }\n  var rv = !0;\n  if (opt_ancestorsTree) {\n    for (var i = opt_ancestorsTree.length - 1; !e.hasPropagationStopped() && 0 <= i; i--) {\n      var currentTarget = e.currentTarget = opt_ancestorsTree[i];\n      rv = currentTarget.fireListeners(type, !0, e) && rv;\n    }\n  }\n  e.hasPropagationStopped() || (currentTarget = e.currentTarget = target, rv = currentTarget.fireListeners(type, !0, e) && rv, e.hasPropagationStopped() || (rv = currentTarget.fireListeners(type, !1, e) && rv));\n  if (opt_ancestorsTree) {\n    for (i = 0; !e.hasPropagationStopped() && i < opt_ancestorsTree.length; i++) {\n      currentTarget = e.currentTarget = opt_ancestorsTree[i], rv = currentTarget.fireListeners(type, !1, e) && rv;\n    }\n  }\n  return rv;\n};\ngoog.structs = {};\ngoog.structs.Collection = function() {\n};\ngoog.collections = {};\ngoog.collections.iters = {};\nfunction module$contents$goog$collections$iters_getIterator(iterable) {\n  return iterable[goog.global.Symbol.iterator]();\n}\ngoog.collections.iters.getIterator = module$contents$goog$collections$iters_getIterator;\ngoog.collections.iters.forEach = function(iterable, f) {\n  for (var $jscomp$iter$5 = $jscomp.makeIterator(iterable), $jscomp$key$elem = $jscomp$iter$5.next(); !$jscomp$key$elem.done; $jscomp$key$elem = $jscomp$iter$5.next()) {\n    f($jscomp$key$elem.value);\n  }\n};\nvar module$contents$goog$collections$iters_MapIterator = function(childIter, mapFn) {\n  this.childIterator_ = module$contents$goog$collections$iters_getIterator(childIter);\n  this.mapFn_ = mapFn;\n  this.nextIndex_ = 0;\n};\nmodule$contents$goog$collections$iters_MapIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nmodule$contents$goog$collections$iters_MapIterator.prototype.next = function() {\n  var childResult = this.childIterator_.next();\n  return {value:childResult.done ? void 0 : this.mapFn_.call(void 0, childResult.value, this.nextIndex_++), done:childResult.done,};\n};\ngoog.collections.iters.map = function(iterable, f) {\n  return new module$contents$goog$collections$iters_MapIterator(iterable, f);\n};\nvar module$contents$goog$collections$iters_FilterIterator = function(childIter, filterFn) {\n  this.childIter_ = module$contents$goog$collections$iters_getIterator(childIter);\n  this.filterFn_ = filterFn;\n  this.nextIndex_ = 0;\n};\nmodule$contents$goog$collections$iters_FilterIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nmodule$contents$goog$collections$iters_FilterIterator.prototype.next = function() {\n  for (;;) {\n    var childResult = this.childIter_.next();\n    if (childResult.done) {\n      return {done:!0, value:void 0};\n    }\n    if (this.filterFn_.call(void 0, childResult.value, this.nextIndex_++)) {\n      return childResult;\n    }\n  }\n};\ngoog.collections.iters.filter = function(iterable, f) {\n  return new module$contents$goog$collections$iters_FilterIterator(iterable, f);\n};\nvar module$contents$goog$collections$iters_ConcatIterator = function(iterators) {\n  this.iterators_ = iterators;\n  this.iterIndex_ = 0;\n};\nmodule$contents$goog$collections$iters_ConcatIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nmodule$contents$goog$collections$iters_ConcatIterator.prototype.next = function() {\n  for (; this.iterIndex_ < this.iterators_.length;) {\n    var result = this.iterators_[this.iterIndex_].next();\n    if (!result.done) {\n      return result;\n    }\n    this.iterIndex_++;\n  }\n  return {done:!0};\n};\ngoog.collections.iters.concat = function() {\n  return new module$contents$goog$collections$iters_ConcatIterator($jscomp.getRestArguments.apply(0, arguments).map(module$contents$goog$collections$iters_getIterator));\n};\ngoog.functions = {};\ngoog.functions.constant = function(retValue) {\n  return function() {\n    return retValue;\n  };\n};\ngoog.functions.FALSE = function() {\n  return !1;\n};\ngoog.functions.TRUE = function() {\n  return !0;\n};\ngoog.functions.NULL = function() {\n  return null;\n};\ngoog.functions.UNDEFINED = function() {\n};\ngoog.functions.EMPTY = goog.functions.UNDEFINED;\ngoog.functions.identity = function(opt_returnValue, var_args) {\n  return opt_returnValue;\n};\ngoog.functions.error = function(message) {\n  return function() {\n    throw Error(message);\n  };\n};\ngoog.functions.fail = function(err) {\n  return function() {\n    throw err;\n  };\n};\ngoog.functions.lock = function(f, opt_numArgs) {\n  opt_numArgs = opt_numArgs || 0;\n  return function() {\n    return f.apply(this, Array.prototype.slice.call(arguments, 0, opt_numArgs));\n  };\n};\ngoog.functions.nth = function(n) {\n  return function() {\n    return arguments[n];\n  };\n};\ngoog.functions.partialRight = function(fn, var_args) {\n  var rightArgs = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    var self = this;\n    self === goog.global && (self = void 0);\n    var newArgs = Array.prototype.slice.call(arguments);\n    newArgs.push.apply(newArgs, rightArgs);\n    return fn.apply(self, newArgs);\n  };\n};\ngoog.functions.withReturnValue = function(f, retValue) {\n  return goog.functions.sequence(f, goog.functions.constant(retValue));\n};\ngoog.functions.equalTo = function(value, opt_useLooseComparison) {\n  return function(other) {\n    return opt_useLooseComparison ? value == other : value === other;\n  };\n};\ngoog.functions.compose = function(fn, var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    var result;\n    length && (result = functions[length - 1].apply(this, arguments));\n    for (var i = length - 2; 0 <= i; i--) {\n      result = functions[i].call(this, result);\n    }\n    return result;\n  };\n};\ngoog.functions.sequence = function(var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    for (var result, i = 0; i < length; i++) {\n      result = functions[i].apply(this, arguments);\n    }\n    return result;\n  };\n};\ngoog.functions.and = function(var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    for (var i = 0; i < length; i++) {\n      if (!functions[i].apply(this, arguments)) {\n        return !1;\n      }\n    }\n    return !0;\n  };\n};\ngoog.functions.or = function(var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    for (var i = 0; i < length; i++) {\n      if (functions[i].apply(this, arguments)) {\n        return !0;\n      }\n    }\n    return !1;\n  };\n};\ngoog.functions.not = function(f) {\n  return function() {\n    return !f.apply(this, arguments);\n  };\n};\ngoog.functions.create = function(constructor, var_args) {\n  var temp = function() {\n  };\n  temp.prototype = constructor.prototype;\n  var obj = new temp();\n  constructor.apply(obj, Array.prototype.slice.call(arguments, 1));\n  return obj;\n};\ngoog.functions.CACHE_RETURN_VALUE = !0;\ngoog.functions.cacheReturnValue = function(fn) {\n  var called = !1, value;\n  return function() {\n    if (!goog.functions.CACHE_RETURN_VALUE) {\n      return fn();\n    }\n    called || (value = fn(), called = !0);\n    return value;\n  };\n};\ngoog.functions.once = function(f) {\n  var inner = f;\n  return function() {\n    if (inner) {\n      var tmp = inner;\n      inner = null;\n      tmp();\n    }\n  };\n};\ngoog.functions.debounce = function(f, interval, opt_scope) {\n  var timeout = 0;\n  return function(var_args) {\n    goog.global.clearTimeout(timeout);\n    var args = arguments;\n    timeout = goog.global.setTimeout(function() {\n      f.apply(opt_scope, args);\n    }, interval);\n  };\n};\ngoog.functions.throttle = function(f, interval, opt_scope) {\n  var timeout = 0, shouldFire = !1, storedArgs = [], handleTimeout = function() {\n    timeout = 0;\n    shouldFire && (shouldFire = !1, fire());\n  }, fire = function() {\n    timeout = goog.global.setTimeout(handleTimeout, interval);\n    var args = storedArgs;\n    storedArgs = [];\n    f.apply(opt_scope, args);\n  };\n  return function(var_args) {\n    storedArgs = arguments;\n    timeout ? shouldFire = !0 : fire();\n  };\n};\ngoog.functions.rateLimit = function(f, interval, opt_scope) {\n  var timeout = 0, handleTimeout = function() {\n    timeout = 0;\n  };\n  return function(var_args) {\n    timeout || (timeout = goog.global.setTimeout(handleTimeout, interval), f.apply(opt_scope, arguments));\n  };\n};\ngoog.functions.isFunction = function(val) {\n  return \"function\" === typeof val;\n};\ngoog.math = {};\ngoog.math.randomInt = function(a) {\n  return Math.floor(Math.random() * a);\n};\ngoog.math.uniformRandom = function(a, b) {\n  return a + Math.random() * (b - a);\n};\ngoog.math.clamp = function(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n};\ngoog.math.modulo = function(a, b) {\n  var r = a % b;\n  return 0 > r * b ? r + b : r;\n};\ngoog.math.lerp = function(a, b, x) {\n  return a + x * (b - a);\n};\ngoog.math.nearlyEquals = function(a, b, opt_tolerance) {\n  return Math.abs(a - b) <= (opt_tolerance || 0.000001);\n};\ngoog.math.standardAngle = function(angle) {\n  return goog.math.modulo(angle, 360);\n};\ngoog.math.standardAngleInRadians = function(angle) {\n  return goog.math.modulo(angle, 2 * Math.PI);\n};\ngoog.math.toRadians = function(angleDegrees) {\n  return angleDegrees * Math.PI / 180;\n};\ngoog.math.toDegrees = function(angleRadians) {\n  return 180 * angleRadians / Math.PI;\n};\ngoog.math.angleDx = function(degrees, radius) {\n  return radius * Math.cos(goog.math.toRadians(degrees));\n};\ngoog.math.angleDy = function(degrees, radius) {\n  return radius * Math.sin(goog.math.toRadians(degrees));\n};\ngoog.math.angle = function(x1, y1, x2, y2) {\n  return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(y2 - y1, x2 - x1)));\n};\ngoog.math.angleDifference = function(startAngle, endAngle) {\n  var d = goog.math.standardAngle(endAngle) - goog.math.standardAngle(startAngle);\n  180 < d ? d -= 360 : -180 >= d && (d = 360 + d);\n  return d;\n};\ngoog.math.sign = function(x) {\n  return 0 < x ? 1 : 0 > x ? -1 : x;\n};\ngoog.math.longestCommonSubsequence = function(array1, array2, opt_compareFn, opt_collectorFn) {\n  for (var compare = opt_compareFn || function(a, b) {\n    return a == b;\n  }, collect = opt_collectorFn || function(i1, i2) {\n    return array1[i1];\n  }, length1 = array1.length, length2 = array2.length, arr = [], i = 0; i < length1 + 1; i++) {\n    arr[i] = [], arr[i][0] = 0;\n  }\n  for (var j = 0; j < length2 + 1; j++) {\n    arr[0][j] = 0;\n  }\n  for (i = 1; i <= length1; i++) {\n    for (j = 1; j <= length2; j++) {\n      compare(array1[i - 1], array2[j - 1]) ? arr[i][j] = arr[i - 1][j - 1] + 1 : arr[i][j] = Math.max(arr[i - 1][j], arr[i][j - 1]);\n    }\n  }\n  var result = [];\n  i = length1;\n  for (j = length2; 0 < i && 0 < j;) {\n    compare(array1[i - 1], array2[j - 1]) ? (result.unshift(collect(i - 1, j - 1)), i--, j--) : arr[i - 1][j] > arr[i][j - 1] ? i-- : j--;\n  }\n  return result;\n};\ngoog.math.sum = function(var_args) {\n  return Array.prototype.reduce.call(arguments, function(sum, value) {\n    return sum + value;\n  }, 0);\n};\ngoog.math.average = function(var_args) {\n  return goog.math.sum.apply(null, arguments) / arguments.length;\n};\ngoog.math.sampleVariance = function(var_args) {\n  var sampleSize = arguments.length;\n  if (2 > sampleSize) {\n    return 0;\n  }\n  var mean = goog.math.average.apply(null, arguments);\n  return goog.math.sum.apply(null, Array.prototype.map.call(arguments, function(val) {\n    return Math.pow(val - mean, 2);\n  })) / (sampleSize - 1);\n};\ngoog.math.standardDeviation = function(var_args) {\n  return Math.sqrt(goog.math.sampleVariance.apply(null, arguments));\n};\ngoog.math.isInt = function(num) {\n  return isFinite(num) && 0 == num % 1;\n};\ngoog.math.isFiniteNumber = function(num) {\n  return isFinite(num);\n};\ngoog.math.isNegativeZero = function(num) {\n  return 0 == num && 0 > 1 / num;\n};\ngoog.math.log10Floor = function(num) {\n  if (0 < num) {\n    var x = Math.round(Math.log(num) * Math.LOG10E);\n    return x - (parseFloat(\"1e\" + x) > num ? 1 : 0);\n  }\n  return 0 == num ? -Infinity : NaN;\n};\ngoog.math.safeFloor = function(num, opt_epsilon) {\n  goog.asserts.assert(void 0 === opt_epsilon || 0 < opt_epsilon);\n  return Math.floor(num + (opt_epsilon || 2e-15));\n};\ngoog.math.safeCeil = function(num, opt_epsilon) {\n  goog.asserts.assert(void 0 === opt_epsilon || 0 < opt_epsilon);\n  return Math.ceil(num - (opt_epsilon || 2e-15));\n};\ngoog.iter = {};\ngoog.iter.Iterable = {};\ngoog.iter.StopIteration = \"StopIteration\" in goog.global ? goog.global.StopIteration : {message:\"StopIteration\", stack:\"\"};\ngoog.iter.Iterator = function() {\n};\ngoog.iter.Iterator.prototype.nextValueOrThrow = function() {\n  throw goog.iter.StopIteration;\n};\ngoog.iter.Iterator.prototype.next = function() {\n  return goog.iter.ES6_ITERATOR_DONE;\n};\ngoog.iter.ES6_ITERATOR_DONE = goog.debug.freeze({done:!0, value:void 0});\ngoog.iter.createEs6IteratorYield = function(value) {\n  return {value:value, done:!1};\n};\ngoog.iter.toEs4IteratorNext = function(es6NextValue) {\n  if (es6NextValue.done) {\n    throw goog.iter.StopIteration;\n  }\n  return es6NextValue.value;\n};\ngoog.iter.checkNoImplicitStopIterationInEs6 = function(ex) {\n  if (ex === goog.iter.StopIteration) {\n    throw Error(\"ES6 Iteration protocol does NOT adjust control flow when StopIteration is thrown from callback helper functions. If your code relies on this behavior, consider throwing a different error and catching it to terminate iteration.\");\n  }\n  throw ex;\n};\ngoog.iter.Iterator.prototype.__iterator__ = function(opt_keys) {\n  return this;\n};\ngoog.iter.toIterator = function(iterable) {\n  if (iterable instanceof goog.iter.Iterator) {\n    return iterable;\n  }\n  if (\"function\" == typeof iterable.__iterator__) {\n    return iterable.__iterator__(!1);\n  }\n  if (goog.isArrayLike(iterable)) {\n    var i = 0, newIter = new goog.iter.Iterator();\n    newIter.next = function() {\n      for (;;) {\n        if (i >= iterable.length) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        if (i in iterable) {\n          return goog.iter.createEs6IteratorYield(iterable[i++]);\n        }\n        i++;\n      }\n    };\n    var iterNext = newIter.next;\n    newIter.nextValueOrThrow = function() {\n      return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n    };\n    return newIter;\n  }\n  throw Error(\"Not implemented\");\n};\ngoog.iter.forEach = function(iterable, f, opt_obj) {\n  if (goog.isArrayLike(iterable)) {\n    try {\n      module$contents$goog$array_forEach(iterable, f, opt_obj);\n    } catch (ex) {\n      goog.iter.checkNoImplicitStopIterationInEs6(ex);\n    }\n  } else {\n    for (iterable = goog.iter.toIterator(iterable);;) {\n      var val = void 0;\n      try {\n        val = iterable.nextValueOrThrow();\n      } catch (ex$39) {\n        if (ex$39 === goog.iter.StopIteration) {\n          break;\n        }\n        throw ex$39;\n      }\n      try {\n        f.call(opt_obj, val, void 0, iterable);\n      } catch (ex$40) {\n        goog.iter.checkNoImplicitStopIterationInEs6(ex$40);\n      }\n    }\n  }\n};\ngoog.iter.filter = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    for (;;) {\n      var val = void 0;\n      try {\n        val = iterator.nextValueOrThrow();\n      } catch (ex) {\n        if (ex === goog.iter.StopIteration) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        throw ex;\n      }\n      try {\n        if (f.call(opt_obj, val, void 0, iterator)) {\n          return goog.iter.createEs6IteratorYield(val);\n        }\n      } catch (ex$41) {\n        goog.iter.checkNoImplicitStopIterationInEs6(ex$41);\n      }\n    }\n  };\n  var iterNext = newIter.next;\n  newIter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n  };\n  return newIter;\n};\ngoog.iter.filterFalse = function(iterable, f, opt_obj) {\n  return goog.iter.filter(iterable, goog.functions.not(f), opt_obj);\n};\ngoog.iter.range = function(startOrStop, opt_stop, opt_step) {\n  var start = 0, stop = startOrStop, step = opt_step || 1;\n  1 < arguments.length && (start = startOrStop, stop = +opt_stop);\n  if (0 == step) {\n    throw Error(\"Range step argument must not be zero\");\n  }\n  var newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    if (0 < step && start >= stop || 0 > step && start <= stop) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    var rv = start;\n    start += step;\n    return goog.iter.createEs6IteratorYield(rv);\n  };\n  var iterNext = newIter.next;\n  newIter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n  };\n  return newIter;\n};\ngoog.iter.join = function(iterable, deliminator) {\n  return goog.iter.toArray(iterable).join(deliminator);\n};\ngoog.iter.map = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    try {\n      var val = iterator.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n    try {\n      var mappedVal = f.call(opt_obj, val, void 0, iterator);\n      return goog.iter.createEs6IteratorYield(mappedVal);\n    } catch (ex$42) {\n      goog.iter.checkNoImplicitStopIterationInEs6(ex$42);\n    }\n  };\n  var iterNext = newIter.next;\n  newIter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n  };\n  return newIter;\n};\ngoog.iter.reduce = function(iterable, f, val$jscomp$0, opt_obj) {\n  var rval = val$jscomp$0;\n  goog.iter.forEach(iterable, function(val) {\n    rval = f.call(opt_obj, rval, val);\n  });\n  return rval;\n};\ngoog.iter.some = function(iterable, f, opt_obj) {\n  for (iterable = goog.iter.toIterator(iterable);;) {\n    var val = void 0;\n    try {\n      val = iterable.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return !1;\n      }\n      throw ex;\n    }\n    try {\n      if (f.call(opt_obj, val, void 0, iterable)) {\n        return !0;\n      }\n    } catch (ex$43) {\n      goog.iter.checkNoImplicitStopIterationInEs6(ex$43);\n    }\n  }\n};\ngoog.iter.every = function(iterable, f, opt_obj) {\n  for (iterable = goog.iter.toIterator(iterable);;) {\n    var val = void 0;\n    try {\n      val = iterable.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return !0;\n      }\n      throw ex;\n    }\n    try {\n      if (!f.call(opt_obj, val, void 0, iterable)) {\n        return !1;\n      }\n    } catch (ex$44) {\n      goog.iter.checkNoImplicitStopIterationInEs6(ex$44);\n    }\n  }\n};\ngoog.iter.chain = function(var_args) {\n  return goog.iter.chainFromIterable(arguments);\n};\ngoog.iter.chainFromIterable = function(iterable) {\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator(), current = null;\n  iter.next = function() {\n    for (;;) {\n      if (null == current) {\n        try {\n          var it = iterator.nextValueOrThrow();\n          current = goog.iter.toIterator(it);\n        } catch (ex) {\n          if (ex === goog.iter.StopIteration) {\n            return goog.iter.ES6_ITERATOR_DONE;\n          }\n          throw ex;\n        }\n      }\n      try {\n        var value = current.nextValueOrThrow();\n        return goog.iter.createEs6IteratorYield(value);\n      } catch (ex$45) {\n        if (ex$45 !== goog.iter.StopIteration) {\n          throw ex$45;\n        }\n        current = null;\n      }\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.dropWhile = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator(), dropping = !0;\n  newIter.next = function() {\n    for (;;) {\n      var val = void 0;\n      try {\n        val = iterator.nextValueOrThrow();\n      } catch (ex) {\n        if (ex === goog.iter.StopIteration) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        throw ex;\n      }\n      if (!dropping || !f.call(opt_obj, val, void 0, iterator)) {\n        return dropping = !1, goog.iter.createEs6IteratorYield(val);\n      }\n    }\n  };\n  var iterNext = newIter.next;\n  newIter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n  };\n  return newIter;\n};\ngoog.iter.takeWhile = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    try {\n      var val = iterator.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n    try {\n      return f.call(opt_obj, val, void 0, iterator) ? goog.iter.createEs6IteratorYield(val) : goog.iter.ES6_ITERATOR_DONE;\n    } catch (ex$46) {\n      goog.iter.checkNoImplicitStopIterationInEs6(ex$46);\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.toArray = function(iterable) {\n  if (goog.isArrayLike(iterable)) {\n    return module$contents$goog$array_toArray(iterable);\n  }\n  iterable = goog.iter.toIterator(iterable);\n  var array = [];\n  goog.iter.forEach(iterable, function(val) {\n    array.push(val);\n  });\n  return array;\n};\ngoog.iter.equals = function(iterable1, iterable2, opt_equalsFn) {\n  var pairs = goog.iter.zipLongest({}, iterable1, iterable2), equalsFn = opt_equalsFn || module$contents$goog$array_defaultCompareEquality;\n  return goog.iter.every(pairs, function(pair) {\n    return equalsFn(pair[0], pair[1]);\n  });\n};\ngoog.iter.nextOrValue = function(iterable, defaultValue) {\n  try {\n    return goog.iter.toIterator(iterable).nextValueOrThrow();\n  } catch (e) {\n    if (e != goog.iter.StopIteration) {\n      throw e;\n    }\n    return defaultValue;\n  }\n};\ngoog.iter.product = function(var_args) {\n  if (Array.prototype.some.call(arguments, function(arr) {\n    return !arr.length;\n  }) || !arguments.length) {\n    return new goog.iter.Iterator();\n  }\n  var iter = new goog.iter.Iterator(), arrays = arguments, indices = module$contents$goog$array_repeat(0, arrays.length);\n  iter.next = function() {\n    if (indices) {\n      for (var retVal = module$contents$goog$array_map(indices, function(valueIndex, arrayIndex) {\n        return arrays[arrayIndex][valueIndex];\n      }), i = indices.length - 1; 0 <= i; i--) {\n        goog.asserts.assert(indices);\n        if (indices[i] < arrays[i].length - 1) {\n          indices[i]++;\n          break;\n        }\n        if (0 == i) {\n          indices = null;\n          break;\n        }\n        indices[i] = 0;\n      }\n      return goog.iter.createEs6IteratorYield(retVal);\n    }\n    return goog.iter.ES6_ITERATOR_DONE;\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.cycle = function(iterable) {\n  var baseIterator = goog.iter.toIterator(iterable), cache = [], cacheIndex = 0, iter = new goog.iter.Iterator(), useCache = !1;\n  iter.next = function() {\n    var returnElement = null;\n    if (!useCache) {\n      try {\n        return returnElement = baseIterator.nextValueOrThrow(), cache.push(returnElement), goog.iter.createEs6IteratorYield(returnElement);\n      } catch (e) {\n        if (e != goog.iter.StopIteration) {\n          throw e;\n        }\n        if (e === goog.iter.StopIteration && module$contents$goog$array_isEmpty(cache)) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        useCache = !0;\n      }\n    }\n    returnElement = cache[cacheIndex];\n    cacheIndex = (cacheIndex + 1) % cache.length;\n    return goog.iter.createEs6IteratorYield(returnElement);\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.count = function(opt_start, opt_step) {\n  var counter = opt_start || 0, step = void 0 !== opt_step ? opt_step : 1, iter = new goog.iter.Iterator();\n  iter.next = function() {\n    var returnValue = counter;\n    counter += step;\n    return goog.iter.createEs6IteratorYield(returnValue);\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.repeat = function(value) {\n  var iter = new goog.iter.Iterator();\n  iter.next = function() {\n    return goog.iter.createEs6IteratorYield(value);\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.accumulate = function(iterable) {\n  var iterator = goog.iter.toIterator(iterable), total = 0, iter = new goog.iter.Iterator();\n  iter.next = function() {\n    try {\n      total += iterator.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n    return goog.iter.createEs6IteratorYield(total);\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.zip = function(var_args) {\n  var args = arguments, iter = new goog.iter.Iterator();\n  if (0 < args.length) {\n    var iterators = module$contents$goog$array_map(args, goog.iter.toIterator), allDone = !1;\n    iter.next = function() {\n      if (allDone) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      for (var arr = [], i = 0, it = void 0; it = iterators[i++];) {\n        try {\n          arr.push(it.nextValueOrThrow());\n        } catch (ex) {\n          if (ex === goog.iter.StopIteration) {\n            return allDone = !0, goog.iter.ES6_ITERATOR_DONE;\n          }\n          throw ex;\n        }\n      }\n      return goog.iter.createEs6IteratorYield(arr);\n    };\n    var iterNext = iter.next;\n    iter.nextValueOrThrow = function() {\n      return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n    };\n  }\n  return iter;\n};\ngoog.iter.zipLongest = function(fillValue, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1), iter = new goog.iter.Iterator();\n  if (0 < args.length) {\n    var iterators = module$contents$goog$array_map(args, goog.iter.toIterator), allDone = !1;\n    iter.next = function() {\n      if (allDone) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      for (var iteratorsHaveValues = !1, arr = [], i = 0, it = void 0; it = iterators[i++];) {\n        try {\n          arr.push(it.nextValueOrThrow()), iteratorsHaveValues = !0;\n        } catch (ex) {\n          if (ex !== goog.iter.StopIteration) {\n            throw ex;\n          }\n          arr.push(fillValue);\n        }\n      }\n      return iteratorsHaveValues ? goog.iter.createEs6IteratorYield(arr) : (allDone = !0, goog.iter.ES6_ITERATOR_DONE);\n    };\n    var iterNext = iter.next;\n    iter.nextValueOrThrow = function() {\n      return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n    };\n  }\n  return iter;\n};\ngoog.iter.compress = function(iterable, selectors) {\n  var valueIterator = goog.iter.toIterator(iterable), selectorIterator = goog.iter.toIterator(selectors), iter = new goog.iter.Iterator(), allDone = !1;\n  iter.next = function() {\n    if (allDone) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    for (;;) {\n      var val = void 0, selectorVal = void 0;\n      try {\n        val = valueIterator.nextValueOrThrow(), selectorVal = selectorIterator.nextValueOrThrow();\n      } catch (ex) {\n        if (ex === goog.iter.StopIteration) {\n          return allDone = !0, goog.iter.ES6_ITERATOR_DONE;\n        }\n        throw ex;\n      }\n      if (selectorVal) {\n        return goog.iter.createEs6IteratorYield(val);\n      }\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.GroupByIterator_ = function(iterable, opt_keyFunc) {\n  this.iterator = goog.iter.toIterator(iterable);\n  this.keyFunc = opt_keyFunc || goog.functions.identity;\n};\ngoog.inherits(goog.iter.GroupByIterator_, goog.iter.Iterator);\ngoog.iter.GroupByIterator_.prototype.next = function() {\n  for (; this.currentKey == this.targetKey;) {\n    try {\n      this.currentValue = this.iterator.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n    this.currentKey = this.keyFunc(this.currentValue);\n  }\n  this.targetKey = this.currentKey;\n  return goog.iter.createEs6IteratorYield([this.currentKey, this.groupItems_(this.targetKey)]);\n};\ngoog.iter.GroupByIterator_.prototype.nextValueOrThrow = function() {\n  return goog.iter.toEs4IteratorNext(goog.iter.GroupByIterator_.prototype.next.call(this));\n};\ngoog.iter.GroupByIterator_.prototype.groupItems_ = function(targetKey) {\n  for (var arr = []; this.currentKey == targetKey;) {\n    arr.push(this.currentValue);\n    try {\n      this.currentValue = this.iterator.nextValueOrThrow();\n    } catch (ex) {\n      if (ex !== goog.iter.StopIteration) {\n        throw ex;\n      }\n      break;\n    }\n    this.currentKey = this.keyFunc(this.currentValue);\n  }\n  return arr;\n};\ngoog.iter.groupBy = function(iterable, opt_keyFunc) {\n  return new goog.iter.GroupByIterator_(iterable, opt_keyFunc);\n};\ngoog.iter.starMap = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    try {\n      var args = goog.iter.toArray(iterator.nextValueOrThrow()), value = f.apply(opt_obj, module$contents$goog$array_concat(args, void 0, iterator));\n      return goog.iter.createEs6IteratorYield(value);\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.tee = function(iterable, opt_num) {\n  function addNextIteratorValueToBuffers() {\n    try {\n      for (var val = iterator.nextValueOrThrow(), i = 0, buffer = void 0; buffer = buffers[i++];) {\n        buffer.push(val);\n      }\n      return !0;\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return !1;\n      }\n      throw ex;\n    }\n  }\n  var iterator = goog.iter.toIterator(iterable), buffers = module$contents$goog$array_map(module$contents$goog$array_range(\"number\" === typeof opt_num ? opt_num : 2), function() {\n    return [];\n  });\n  return module$contents$goog$array_map(buffers, function createIterator(buffer) {\n    var iter = new goog.iter.Iterator();\n    iter.next = function() {\n      if (module$contents$goog$array_isEmpty(buffer) && !addNextIteratorValueToBuffers()) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      goog.asserts.assert(!module$contents$goog$array_isEmpty(buffer));\n      return goog.iter.createEs6IteratorYield(buffer.shift());\n    };\n    var iterNext = iter.next;\n    iter.nextValueOrThrow = function() {\n      return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n    };\n    return iter;\n  });\n};\ngoog.iter.enumerate = function(iterable, opt_start) {\n  return goog.iter.zip(goog.iter.count(opt_start), iterable);\n};\ngoog.iter.limit = function(iterable, limitSize) {\n  goog.asserts.assert(goog.math.isInt(limitSize) && 0 <= limitSize);\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator(), remaining = limitSize;\n  iter.next = function() {\n    if (0 < remaining--) {\n      try {\n        return goog.iter.createEs6IteratorYield(iterator.nextValueOrThrow());\n      } catch (ex) {\n        if (ex === goog.iter.StopIteration) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        throw ex;\n      }\n    }\n    return goog.iter.ES6_ITERATOR_DONE;\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.consume = function(iterable, count) {\n  goog.asserts.assert(goog.math.isInt(count) && 0 <= count);\n  for (var iterator = goog.iter.toIterator(iterable); 0 < count--;) {\n    goog.iter.nextOrValue(iterator, null);\n  }\n  return iterator;\n};\ngoog.iter.slice = function(iterable, start, opt_end) {\n  goog.asserts.assert(goog.math.isInt(start) && 0 <= start);\n  var iterator = goog.iter.consume(iterable, start);\n  \"number\" === typeof opt_end && (goog.asserts.assert(goog.math.isInt(opt_end) && opt_end >= start), iterator = goog.iter.limit(iterator, opt_end - start));\n  return iterator;\n};\ngoog.iter.hasDuplicates_ = function(arr) {\n  var deduped = [];\n  module$contents$goog$array_removeDuplicates(arr, deduped);\n  return arr.length != deduped.length;\n};\ngoog.iter.permutations = function(iterable, opt_length) {\n  var elements = goog.iter.toArray(iterable), product = goog.iter.product.apply(void 0, module$contents$goog$array_repeat(elements, \"number\" === typeof opt_length ? opt_length : elements.length));\n  return goog.iter.filter(product, function(arr) {\n    return !goog.iter.hasDuplicates_(arr);\n  });\n};\ngoog.iter.combinations = function(iterable, length) {\n  function getIndexFromElements(index) {\n    return elements[index];\n  }\n  var elements = goog.iter.toArray(iterable), indexes = goog.iter.range(elements.length), indexIterator = goog.iter.permutations(indexes, length), sortedIndexIterator = goog.iter.filter(indexIterator, function(arr) {\n    return module$contents$goog$array_isSorted(arr);\n  }), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    try {\n      var nextArr = sortedIndexIterator.nextValueOrThrow();\n      return goog.iter.createEs6IteratorYield(module$contents$goog$array_map(nextArr, getIndexFromElements));\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.combinationsWithReplacement = function(iterable, length) {\n  function getIndexFromElements(index) {\n    return elements[index];\n  }\n  var elements = goog.iter.toArray(iterable), indexes = module$contents$goog$array_range(elements.length), indexIterator = goog.iter.product.apply(void 0, module$contents$goog$array_repeat(indexes, length)), sortedIndexIterator = goog.iter.filter(indexIterator, function(arr) {\n    return module$contents$goog$array_isSorted(arr);\n  }), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    try {\n      return goog.iter.createEs6IteratorYield(module$contents$goog$array_map(sortedIndexIterator.nextValueOrThrow(), getIndexFromElements));\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.es6 = {};\nvar module$contents$goog$iter$es6_ShimIterable = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.prototype.__iterator__ = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.prototype.toGoog = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.prototype.toEs6 = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.of = function(iter) {\n  if (iter instanceof module$contents$goog$iter$es6_ShimIterableImpl || iter instanceof module$contents$goog$iter$es6_ShimGoogIterator || iter instanceof module$contents$goog$iter$es6_ShimEs6Iterator) {\n    return iter;\n  }\n  if (\"function\" == typeof iter.nextValueOrThrow) {\n    return new module$contents$goog$iter$es6_ShimIterableImpl(function() {\n      return module$contents$goog$iter$es6_wrapGoog(iter);\n    });\n  }\n  if (\"function\" == typeof iter[Symbol.iterator]) {\n    return new module$contents$goog$iter$es6_ShimIterableImpl(function() {\n      return iter[Symbol.iterator]();\n    });\n  }\n  if (\"function\" == typeof iter.__iterator__) {\n    return new module$contents$goog$iter$es6_ShimIterableImpl(function() {\n      return module$contents$goog$iter$es6_wrapGoog(iter.__iterator__());\n    });\n  }\n  throw Error(\"Not an iterator or iterable.\");\n};\nvar module$contents$goog$iter$es6_wrapGoog = function(iter) {\n  if (!(iter instanceof goog.iter.Iterator)) {\n    return iter;\n  }\n  var done = !1;\n  return {next:function() {\n    for (var value; !done;) {\n      try {\n        value = iter.nextValueOrThrow();\n        break;\n      } catch (err$47) {\n        if (err$47 !== goog.iter.StopIteration) {\n          throw err$47;\n        }\n        done = !0;\n      }\n    }\n    return {value:value, done:done};\n  },};\n}, module$contents$goog$iter$es6_ShimIterableImpl = function(func) {\n  this.func_ = func;\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype.__iterator__ = function() {\n  return new module$contents$goog$iter$es6_ShimGoogIterator(this.func_());\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype.toGoog = function() {\n  return new module$contents$goog$iter$es6_ShimGoogIterator(this.func_());\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype[Symbol.iterator] = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.func_());\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype.toEs6 = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.func_());\n};\nvar module$contents$goog$iter$es6_ShimGoogIterator = function(iter) {\n  goog.iter.Iterator.call(this);\n  this.iter_ = iter;\n};\n$jscomp.inherits(module$contents$goog$iter$es6_ShimGoogIterator, goog.iter.Iterator);\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.nextValueOrThrow = function() {\n  var result = this.iter_.next();\n  if (result.done) {\n    throw goog.iter.StopIteration;\n  }\n  return result.value;\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.next = function() {\n  return this.iter_.next();\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.toGoog = function() {\n  return this;\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype[Symbol.iterator] = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.iter_);\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.toEs6 = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.iter_);\n};\nvar module$contents$goog$iter$es6_ShimEs6Iterator = function(iter) {\n  module$contents$goog$iter$es6_ShimIterableImpl.call(this, function() {\n    return iter;\n  });\n  this.iter_ = iter;\n};\n$jscomp.inherits(module$contents$goog$iter$es6_ShimEs6Iterator, module$contents$goog$iter$es6_ShimIterableImpl);\nmodule$contents$goog$iter$es6_ShimEs6Iterator.prototype.next = function() {\n  return this.iter_.next();\n};\ngoog.iter.es6.ShimIterable = module$contents$goog$iter$es6_ShimIterable;\ngoog.iter.es6.ShimEs6Iterator = module$contents$goog$iter$es6_ShimEs6Iterator;\ngoog.iter.es6.ShimGoogIterator = module$contents$goog$iter$es6_ShimGoogIterator;\ngoog.structs.Map = function(opt_map, var_args) {\n  this.map_ = {};\n  this.keys_ = [];\n  this.version_ = this.size = 0;\n  var argLength = arguments.length;\n  if (1 < argLength) {\n    if (argLength % 2) {\n      throw Error(\"Uneven number of arguments\");\n    }\n    for (var i = 0; i < argLength; i += 2) {\n      this.set(arguments[i], arguments[i + 1]);\n    }\n  } else {\n    opt_map && this.addAll(opt_map);\n  }\n};\ngoog.structs.Map.prototype.getCount = function() {\n  return this.size;\n};\ngoog.structs.Map.prototype.getValues = function() {\n  this.cleanupKeysArray_();\n  for (var rv = [], i = 0; i < this.keys_.length; i++) {\n    rv.push(this.map_[this.keys_[i]]);\n  }\n  return rv;\n};\ngoog.structs.Map.prototype.getKeys = function() {\n  this.cleanupKeysArray_();\n  return this.keys_.concat();\n};\ngoog.structs.Map.prototype.containsKey = function(key) {\n  return this.has(key);\n};\ngoog.structs.Map.prototype.has = function(key) {\n  return goog.structs.Map.hasKey_(this.map_, key);\n};\ngoog.structs.Map.prototype.containsValue = function(val) {\n  for (var i = 0; i < this.keys_.length; i++) {\n    var key = this.keys_[i];\n    if (goog.structs.Map.hasKey_(this.map_, key) && this.map_[key] == val) {\n      return !0;\n    }\n  }\n  return !1;\n};\ngoog.structs.Map.prototype.equals = function(otherMap, opt_equalityFn) {\n  if (this === otherMap) {\n    return !0;\n  }\n  if (this.size != otherMap.getCount()) {\n    return !1;\n  }\n  var equalityFn = opt_equalityFn || goog.structs.Map.defaultEquals;\n  this.cleanupKeysArray_();\n  for (var key, i = 0; key = this.keys_[i]; i++) {\n    if (!equalityFn(this.get(key), otherMap.get(key))) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.structs.Map.defaultEquals = function(a, b) {\n  return a === b;\n};\ngoog.structs.Map.prototype.isEmpty = function() {\n  return 0 == this.size;\n};\ngoog.structs.Map.prototype.clear = function() {\n  this.map_ = {};\n  this.keys_.length = 0;\n  this.setSizeInternal_(0);\n  this.version_ = 0;\n};\ngoog.structs.Map.prototype.remove = function(key) {\n  return this.delete(key);\n};\ngoog.structs.Map.prototype.delete = function(key) {\n  return goog.structs.Map.hasKey_(this.map_, key) ? (delete this.map_[key], this.setSizeInternal_(this.size - 1), this.version_++, this.keys_.length > 2 * this.size && this.cleanupKeysArray_(), !0) : !1;\n};\ngoog.structs.Map.prototype.cleanupKeysArray_ = function() {\n  if (this.size != this.keys_.length) {\n    for (var srcIndex = 0, destIndex = 0; srcIndex < this.keys_.length;) {\n      var key = this.keys_[srcIndex];\n      goog.structs.Map.hasKey_(this.map_, key) && (this.keys_[destIndex++] = key);\n      srcIndex++;\n    }\n    this.keys_.length = destIndex;\n  }\n  if (this.size != this.keys_.length) {\n    var seen = {};\n    for (destIndex = srcIndex = 0; srcIndex < this.keys_.length;) {\n      key = this.keys_[srcIndex], goog.structs.Map.hasKey_(seen, key) || (this.keys_[destIndex++] = key, seen[key] = 1), srcIndex++;\n    }\n    this.keys_.length = destIndex;\n  }\n};\ngoog.structs.Map.prototype.get = function(key, opt_val) {\n  return goog.structs.Map.hasKey_(this.map_, key) ? this.map_[key] : opt_val;\n};\ngoog.structs.Map.prototype.set = function(key, value) {\n  goog.structs.Map.hasKey_(this.map_, key) || (this.setSizeInternal_(this.size + 1), this.keys_.push(key), this.version_++);\n  this.map_[key] = value;\n};\ngoog.structs.Map.prototype.addAll = function(map) {\n  if (map instanceof goog.structs.Map) {\n    for (var keys = map.getKeys(), i = 0; i < keys.length; i++) {\n      this.set(keys[i], map.get(keys[i]));\n    }\n  } else {\n    for (var key in map) {\n      this.set(key, map[key]);\n    }\n  }\n};\ngoog.structs.Map.prototype.forEach = function(f, opt_obj) {\n  for (var keys = this.getKeys(), i = 0; i < keys.length; i++) {\n    var key = keys[i], value = this.get(key);\n    f.call(opt_obj, value, key, this);\n  }\n};\ngoog.structs.Map.prototype.clone = function() {\n  return new goog.structs.Map(this);\n};\ngoog.structs.Map.prototype.transpose = function() {\n  for (var transposed = new goog.structs.Map(), i = 0; i < this.keys_.length; i++) {\n    var key = this.keys_[i];\n    transposed.set(this.map_[key], key);\n  }\n  return transposed;\n};\ngoog.structs.Map.prototype.toObject = function() {\n  this.cleanupKeysArray_();\n  for (var obj = {}, i = 0; i < this.keys_.length; i++) {\n    var key = this.keys_[i];\n    obj[key] = this.map_[key];\n  }\n  return obj;\n};\ngoog.structs.Map.prototype.getKeyIterator = function() {\n  return this.__iterator__(!0);\n};\ngoog.structs.Map.prototype.keys = function() {\n  return module$contents$goog$iter$es6_ShimIterable.of(this.getKeyIterator()).toEs6();\n};\ngoog.structs.Map.prototype.getValueIterator = function() {\n  return this.__iterator__(!1);\n};\ngoog.structs.Map.prototype.values = function() {\n  return module$contents$goog$iter$es6_ShimIterable.of(this.getValueIterator()).toEs6();\n};\ngoog.structs.Map.prototype.entries = function() {\n  var self = this;\n  return goog.collections.iters.map(this.keys(), function(key) {\n    return [key, self.get(key)];\n  });\n};\ngoog.structs.Map.prototype.__iterator__ = function(opt_keys) {\n  this.cleanupKeysArray_();\n  var i = 0, version = this.version_, selfObj = this, newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    if (version != selfObj.version_) {\n      throw Error(\"The map has changed since the iterator was created\");\n    }\n    if (i >= selfObj.keys_.length) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    var key = selfObj.keys_[i++];\n    return goog.iter.createEs6IteratorYield(opt_keys ? key : selfObj.map_[key]);\n  };\n  var iterNext = newIter.next;\n  newIter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n  };\n  return newIter;\n};\ngoog.structs.Map.prototype.setSizeInternal_ = function(newSize) {\n  this.size = newSize;\n};\ngoog.structs.Map.hasKey_ = function(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n};\ngoog.structs.getCount = function(col) {\n  return col.getCount && \"function\" == typeof col.getCount ? col.getCount() : goog.isArrayLike(col) || \"string\" === typeof col ? col.length : module$contents$goog$object_getCount(col);\n};\ngoog.structs.getValues = function(col) {\n  if (col.getValues && \"function\" == typeof col.getValues) {\n    return col.getValues();\n  }\n  if (\"undefined\" !== typeof Map && col instanceof Map || \"undefined\" !== typeof Set && col instanceof Set) {\n    return Array.from(col.values());\n  }\n  if (\"string\" === typeof col) {\n    return col.split(\"\");\n  }\n  if (goog.isArrayLike(col)) {\n    for (var rv = [], l = col.length, i = 0; i < l; i++) {\n      rv.push(col[i]);\n    }\n    return rv;\n  }\n  return module$contents$goog$object_getValues(col);\n};\ngoog.structs.getKeys = function(col) {\n  if (col.getKeys && \"function\" == typeof col.getKeys) {\n    return col.getKeys();\n  }\n  if (!col.getValues || \"function\" != typeof col.getValues) {\n    if (\"undefined\" !== typeof Map && col instanceof Map) {\n      return Array.from(col.keys());\n    }\n    if (!(\"undefined\" !== typeof Set && col instanceof Set)) {\n      if (goog.isArrayLike(col) || \"string\" === typeof col) {\n        for (var rv = [], l = col.length, i = 0; i < l; i++) {\n          rv.push(i);\n        }\n        return rv;\n      }\n      return module$contents$goog$object_getKeys(col);\n    }\n  }\n};\ngoog.structs.contains = function(col, val) {\n  return col.contains && \"function\" == typeof col.contains ? col.contains(val) : col.containsValue && \"function\" == typeof col.containsValue ? col.containsValue(val) : goog.isArrayLike(col) || \"string\" === typeof col ? module$contents$goog$array_contains(col, val) : module$contents$goog$object_containsValue(col, val);\n};\ngoog.structs.isEmpty = function(col) {\n  return col.isEmpty && \"function\" == typeof col.isEmpty ? col.isEmpty() : goog.isArrayLike(col) || \"string\" === typeof col ? 0 === col.length : module$contents$goog$object_isEmpty(col);\n};\ngoog.structs.clear = function(col) {\n  col.clear && \"function\" == typeof col.clear ? col.clear() : goog.isArrayLike(col) ? module$contents$goog$array_clear(col) : module$contents$goog$object_clear(col);\n};\ngoog.structs.forEach = function(col, f, opt_obj) {\n  if (col.forEach && \"function\" == typeof col.forEach) {\n    col.forEach(f, opt_obj);\n  } else {\n    if (goog.isArrayLike(col) || \"string\" === typeof col) {\n      Array.prototype.forEach.call(col, f, opt_obj);\n    } else {\n      for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n        f.call(opt_obj, values[i], keys && keys[i], col);\n      }\n    }\n  }\n};\ngoog.structs.filter = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.filter) {\n    return col.filter(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.filter.call(col, f, opt_obj);\n  }\n  var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length;\n  if (keys) {\n    var rv = {};\n    for (var i = 0; i < l; i++) {\n      f.call(opt_obj, values[i], keys[i], col) && (rv[keys[i]] = values[i]);\n    }\n  } else {\n    for (rv = [], i = 0; i < l; i++) {\n      f.call(opt_obj, values[i], void 0, col) && rv.push(values[i]);\n    }\n  }\n  return rv;\n};\ngoog.structs.map = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.map) {\n    return col.map(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.map.call(col, f, opt_obj);\n  }\n  var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length;\n  if (keys) {\n    var rv = {};\n    for (var i = 0; i < l; i++) {\n      rv[keys[i]] = f.call(opt_obj, values[i], keys[i], col);\n    }\n  } else {\n    for (rv = [], i = 0; i < l; i++) {\n      rv[i] = f.call(opt_obj, values[i], void 0, col);\n    }\n  }\n  return rv;\n};\ngoog.structs.some = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.some) {\n    return col.some(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.some.call(col, f, opt_obj);\n  }\n  for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    if (f.call(opt_obj, values[i], keys && keys[i], col)) {\n      return !0;\n    }\n  }\n  return !1;\n};\ngoog.structs.every = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.every) {\n    return col.every(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.every.call(col, f, opt_obj);\n  }\n  for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    if (!f.call(opt_obj, values[i], keys && keys[i], col)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.structs.Set = function(opt_values) {\n  this.map_ = new goog.structs.Map();\n  this.size = 0;\n  opt_values && this.addAll(opt_values);\n};\ngoog.structs.Set.getUid_ = goog.getUid;\ngoog.structs.Set.getKey_ = function(val) {\n  var type = typeof val;\n  return \"object\" == type && val || \"function\" == type ? \"o\" + goog.getUid(val) : type.substr(0, 1) + val;\n};\ngoog.structs.Set.prototype.getCount = function() {\n  return this.map_.size;\n};\ngoog.structs.Set.prototype.add = function(element) {\n  this.map_.set(goog.structs.Set.getKey_(element), element);\n  this.setSizeInternal_(this.map_.size);\n};\ngoog.structs.Set.prototype.addAll = function(col) {\n  for (var values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    this.add(values[i]);\n  }\n  this.setSizeInternal_(this.map_.size);\n};\ngoog.structs.Set.prototype.removeAll = function(col) {\n  for (var values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    this.remove(values[i]);\n  }\n  this.setSizeInternal_(this.map_.size);\n};\ngoog.structs.Set.prototype.delete = function(element) {\n  var rv = this.map_.remove(goog.structs.Set.getKey_(element));\n  this.setSizeInternal_(this.map_.size);\n  return rv;\n};\ngoog.structs.Set.prototype.remove = function(element) {\n  return this.delete(element);\n};\ngoog.structs.Set.prototype.clear = function() {\n  this.map_.clear();\n  this.setSizeInternal_(0);\n};\ngoog.structs.Set.prototype.isEmpty = function() {\n  return 0 === this.map_.size;\n};\ngoog.structs.Set.prototype.has = function(element) {\n  return this.map_.containsKey(goog.structs.Set.getKey_(element));\n};\ngoog.structs.Set.prototype.contains = function(element) {\n  return this.map_.containsKey(goog.structs.Set.getKey_(element));\n};\ngoog.structs.Set.prototype.containsAll = function(col) {\n  return goog.structs.every(col, this.contains, this);\n};\ngoog.structs.Set.prototype.intersection = function(col) {\n  for (var result = new goog.structs.Set(), values = goog.structs.getValues(col), i = 0; i < values.length; i++) {\n    var value = values[i];\n    this.contains(value) && result.add(value);\n  }\n  return result;\n};\ngoog.structs.Set.prototype.difference = function(col) {\n  var result = this.clone();\n  result.removeAll(col);\n  return result;\n};\ngoog.structs.Set.prototype.getValues = function() {\n  return this.map_.getValues();\n};\ngoog.structs.Set.prototype.values = function() {\n  return this.map_.values();\n};\ngoog.structs.Set.prototype.clone = function() {\n  return new goog.structs.Set(this);\n};\ngoog.structs.Set.prototype.equals = function(col) {\n  return this.getCount() == goog.structs.getCount(col) && this.isSubsetOf(col);\n};\ngoog.structs.Set.prototype.isSubsetOf = function(col) {\n  var colCount = goog.structs.getCount(col);\n  if (this.getCount() > colCount) {\n    return !1;\n  }\n  !(col instanceof goog.structs.Set) && 5 < colCount && (col = new goog.structs.Set(col));\n  return goog.structs.every(this, function(value) {\n    return goog.structs.contains(col, value);\n  });\n};\ngoog.structs.Set.prototype.__iterator__ = function(opt_keys) {\n  return this.map_.__iterator__(!1);\n};\ngoog.structs.Set.prototype[Symbol.iterator] = function() {\n  return this.values();\n};\ngoog.structs.Set.prototype.setSizeInternal_ = function(newSize) {\n  this.size = newSize;\n};\nvar ee = {AbstractOverlay:function(url, mapId, token, opt_init, opt_profiler) {\n  goog.events.EventTarget.call(this);\n  this.mapId = mapId;\n  this.token = token;\n  this.tilesLoading = [];\n  this.tilesFailed = new goog.structs.Set();\n  this.tileCounter = 0;\n  this.url = url;\n}};\ngoog.inherits(ee.AbstractOverlay, goog.events.EventTarget);\ngoog.exportSymbol(\"ee.AbstractOverlay\", ee.AbstractOverlay);\nee.AbstractOverlay.EventType = {TILE_LOADED:\"tileevent\"};\nee.AbstractOverlay.prototype.getTileId = function(coord, zoom) {\n  var maxCoord = 1 << zoom, x = coord.x % maxCoord;\n  0 > x && (x += maxCoord);\n  return [this.mapId, zoom, x, coord.y].join(\"/\");\n};\nee.AbstractOverlay.prototype.getLoadingTilesCount = function() {\n  return this.tilesLoading.length;\n};\nee.AbstractOverlay.prototype.getFailedTilesCount = function() {\n  return this.tilesFailed.getCount();\n};\nee.TileEvent = function(count) {\n  goog.events.Event.call(this, ee.AbstractOverlay.EventType.TILE_LOADED);\n  this.count = count;\n};\ngoog.inherits(ee.TileEvent, goog.events.Event);\nvar module$exports$tslib = {}, module$contents$tslib_extendStatics = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(d, b) {\n  d.__proto__ = b;\n} || function(d, b) {\n  for (var p in b) {\n    b.hasOwnProperty(p) && (d[p] = b[p]);\n  }\n};\nmodule$exports$tslib.__extends = function(d, b) {\n  function __() {\n    this.constructor = d;\n  }\n  module$contents$tslib_extendStatics(d, b);\n  d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nmodule$exports$tslib.__assign = Object.assign || function(t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n    for (var p in s) {\n      Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);\n    }\n  }\n  return t;\n};\nmodule$exports$tslib.__rest = function(s, e) {\n  var t = {}, p;\n  for (p in s) {\n    Object.prototype.hasOwnProperty.call(s, p) && 0 > e.indexOf(p) && (t[p] = s[p]);\n  }\n  if (null != s && \"function\" === typeof Object.getOwnPropertySymbols) {\n    var i = 0;\n    for (p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n      0 > e.indexOf(p[i]) && (t[p[i]] = s[p[i]]);\n    }\n  }\n  return t;\n};\nmodule$exports$tslib.__decorate = function(decorators, target, key, desc) {\n  var c = arguments.length, r = 3 > c ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (\"object\" === typeof Reflect && Reflect && \"function\" === typeof Reflect.decorate) {\n    r = Reflect.decorate(decorators, target, key, desc);\n  } else {\n    for (var i = decorators.length - 1; 0 <= i; i--) {\n      if (d = decorators[i]) {\n        r = (3 > c ? d(r) : 3 < c ? d(target, key, r) : d(target, key)) || r;\n      }\n    }\n  }\n  return 3 < c && r && Object.defineProperty(target, key, r), r;\n};\nmodule$exports$tslib.__metadata = function(metadataKey, metadataValue) {\n  if (\"object\" === typeof Reflect && Reflect && \"function\" === typeof Reflect.metadata) {\n    return Reflect.metadata(metadataKey, metadataValue);\n  }\n};\nmodule$exports$tslib.__param = function(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nmodule$exports$tslib.__awaiter = function(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function(resolve$jscomp$0, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve$jscomp$0(result.value) : (new P(function(resolve) {\n        resolve(result.value);\n      })).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments)).next());\n  });\n};\nmodule$exports$tslib.__generator = function(thisArg, body) {\n  function verb(n) {\n    return function(v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) {\n      throw new TypeError(\"Generator is already executing.\");\n    }\n    for (; _;) {\n      try {\n        if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) {\n          return t;\n        }\n        if (y = 0, t) {\n          op = [0, t.value];\n        }\n        switch(op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            return _.label++, {value:op[1], done:!1};\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = 0 < t.length && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {\n              _ = 0;\n              continue;\n            }\n            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n            } else {\n              if (6 === op[0] && _.label < t[1]) {\n                _.label = t[1], t = op;\n              } else {\n                if (t && _.label < t[2]) {\n                  _.label = t[2], _.ops.push(op);\n                } else {\n                  t[2] && _.ops.pop();\n                  _.trys.pop();\n                  continue;\n                }\n              }\n            }\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e], y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n    if (op[0] & 5) {\n      throw op[1];\n    }\n    return {value:op[0] ? op[1] : void 0, done:!0};\n  }\n  var _ = {label:0, sent:function() {\n    if (t[0] & 1) {\n      throw t[1];\n    }\n    return t[1];\n  }, trys:[], ops:[]}, f, y, t, g;\n  return g = {next:verb(0), \"throw\":verb(1), \"return\":verb(2)}, \"function\" === typeof Symbol && (g[Symbol.iterator] = function() {\n    return g;\n  }), g;\n};\nmodule$exports$tslib.__exportStar = function(m, e) {\n  for (var p in m) {\n    e.hasOwnProperty(p) || (e[p] = m[p]);\n  }\n};\nmodule$exports$tslib.__values = function(o) {\n  var m = \"function\" === typeof Symbol && o[Symbol.iterator], i = 0;\n  return m ? m.call(o) : {next:function() {\n    o && i >= o.length && (o = void 0);\n    return {value:o && o[i++], done:!o};\n  }};\n};\nmodule$exports$tslib.__read = function(o, n) {\n  var m = \"function\" === typeof Symbol && o[Symbol.iterator];\n  if (!m) {\n    return o;\n  }\n  var i = m.call(o), r, ar = [];\n  try {\n    for (; (void 0 === n || 0 < n--) && !(r = i.next()).done;) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    var e = {error:error};\n  } finally {\n    try {\n      r && !r.done && (m = i[\"return\"]) && m.call(i);\n    } finally {\n      if (e) {\n        throw e.error;\n      }\n    }\n  }\n  return ar;\n};\nmodule$exports$tslib.__spread = function() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(module$exports$tslib.__read(arguments[i]));\n  }\n  return ar;\n};\nmodule$exports$tslib.__spreadArrays = function() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n  var r = Array(s), k = 0;\n  for (i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n  return r;\n};\nmodule$exports$tslib.__spreadArray = function(to, from) {\n  if (!(Array.isArray(from) || from instanceof NodeList)) {\n    throw new TypeError(\"Expected an Array or NodeList: \" + String(from));\n  }\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\n    to[j] = from[i];\n  }\n  return to;\n};\nmodule$exports$tslib.__await = function(v) {\n  return this instanceof module$exports$tslib.__await ? (this.v = v, this) : new module$exports$tslib.__await(v);\n};\nmodule$exports$tslib.__asyncGenerator = function __asyncGenerator(thisArg, _arguments, generator) {\n  function verb(n) {\n    g[n] && (i[n] = function(v) {\n      return new Promise(function(a, b) {\n        1 < q.push([n, v, a, b]) || resume(n, v);\n      });\n    });\n  }\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n  function step(r) {\n    r.value instanceof module$exports$tslib.__await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n  function settle(f, v) {\n    (f(v), q.shift(), q.length) && resume(q[0][0], q[0][1]);\n  }\n  if (!Symbol.asyncIterator) {\n    throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  }\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function() {\n    return this;\n  }, i;\n};\nmodule$exports$tslib.__asyncDelegator = function(o) {\n  function verb(n, f) {\n    o[n] && (i[n] = function(v) {\n      return (p = !p) ? {value:new module$exports$tslib.__await(o[n](v)), done:\"return\" === n} : f ? f(v) : v;\n    });\n  }\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function(e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function() {\n    return i;\n  }, i;\n};\nmodule$exports$tslib.__asyncValues = function(o) {\n  if (!Symbol.asyncIterator) {\n    throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  }\n  var m = o[Symbol.asyncIterator];\n  return m ? m.call(o) : \"function\" === typeof __values ? __values(o) : o[Symbol.iterator]();\n};\nmodule$exports$tslib.__makeTemplateObject = function(cooked, raw) {\n  Object.defineProperty ? Object.defineProperty(cooked, \"raw\", {value:raw}) : cooked.raw = raw;\n  return cooked;\n};\nmodule$exports$tslib.__classPrivateFieldGet = function(receiver, privateMap) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n};\nmodule$exports$tslib.__classPrivateFieldSet = function(receiver, privateMap, value) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n  privateMap.set(receiver, value);\n  return value;\n};\nvar module$exports$eeapiclient$domain_object = {}, module$contents$eeapiclient$domain_object_module = module$contents$eeapiclient$domain_object_module || {id:\"javascript/typescript/contrib/apiclient/core/domain_object.closure.js\"};\nmodule$exports$eeapiclient$domain_object.ObjectMapMetadata = function module$contents$eeapiclient$domain_object_ObjectMapMetadata() {\n};\nvar module$contents$eeapiclient$domain_object_Primitive;\nmodule$exports$eeapiclient$domain_object.ClassMetadata = function module$contents$eeapiclient$domain_object_ClassMetadata() {\n};\nvar module$contents$eeapiclient$domain_object_NullClass = function() {\n};\nmodule$exports$eeapiclient$domain_object.NULL_VALUE = new module$contents$eeapiclient$domain_object_NullClass();\nmodule$exports$eeapiclient$domain_object.ISerializable = function module$contents$eeapiclient$domain_object_ISerializable() {\n};\nfunction module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial(partialClassMetadata) {\n  return Object.assign({arrays:{}, descriptions:{}, keys:[], objectMaps:{}, objects:{}, enums:{}, emptyArrayIsUnset:!1}, partialClassMetadata);\n}\nmodule$exports$eeapiclient$domain_object.buildClassMetadataFromPartial = module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial;\nmodule$exports$eeapiclient$domain_object.Serializable = function() {\n  this.Serializable$values = {};\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.getClassMetadata = function() {\n  return module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial(this.getPartialClassMetadata());\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$get = function(key) {\n  return this.Serializable$values.hasOwnProperty(key) ? this.Serializable$values[key] : null;\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$set = function(key, value) {\n  this.Serializable$values[key] = value;\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$has = function(key) {\n  return null != this.Serializable$values[key];\n};\nmodule$exports$eeapiclient$domain_object.SerializableCtor = function module$contents$eeapiclient$domain_object_SerializableCtor() {\n};\nmodule$exports$eeapiclient$domain_object.clone = function module$contents$eeapiclient$domain_object_clone(serializable) {\n  return module$contents$eeapiclient$domain_object_deserialize(serializable.getConstructor(), module$contents$eeapiclient$domain_object_serialize(serializable));\n};\nmodule$exports$eeapiclient$domain_object.isEmpty = function module$contents$eeapiclient$domain_object_isEmpty(serializable) {\n  return !Object.keys(module$contents$eeapiclient$domain_object_serialize(serializable)).length;\n};\nfunction module$contents$eeapiclient$domain_object_serialize(serializable) {\n  return module$contents$eeapiclient$domain_object_deepCopy(serializable, module$contents$eeapiclient$domain_object_serializeGetter, module$contents$eeapiclient$domain_object_serializeSetter, module$contents$eeapiclient$domain_object_serializeInstanciator);\n}\nmodule$exports$eeapiclient$domain_object.serialize = module$contents$eeapiclient$domain_object_serialize;\nfunction module$contents$eeapiclient$domain_object_serializeGetter(key, obj) {\n  return obj.Serializable$get(key);\n}\nfunction module$contents$eeapiclient$domain_object_serializeSetter(key, obj, value) {\n  obj[key] = value;\n}\nfunction module$contents$eeapiclient$domain_object_serializeInstanciator(ctor) {\n  return {};\n}\nfunction module$contents$eeapiclient$domain_object_deserialize(type, raw) {\n  var result = new type();\n  return null == raw ? result : module$contents$eeapiclient$domain_object_deepCopy(raw, module$contents$eeapiclient$domain_object_deserializeGetter, module$contents$eeapiclient$domain_object_deserializeSetter, module$contents$eeapiclient$domain_object_deserializeInstanciator, type);\n}\nmodule$exports$eeapiclient$domain_object.deserialize = module$contents$eeapiclient$domain_object_deserialize;\nfunction module$contents$eeapiclient$domain_object_deserializeGetter(key, obj) {\n  return obj[key];\n}\nfunction module$contents$eeapiclient$domain_object_deserializeSetter(key, obj, value) {\n  obj.Serializable$set(key, value);\n}\nfunction module$contents$eeapiclient$domain_object_deserializeInstanciator(ctor) {\n  if (null == ctor) {\n    throw Error(\"Cannot deserialize, target constructor was null.\");\n  }\n  return new ctor();\n}\nmodule$exports$eeapiclient$domain_object.strictDeserialize = function module$contents$eeapiclient$domain_object_strictDeserialize(type, raw) {\n  return module$contents$eeapiclient$domain_object_deserialize(type, raw);\n};\nvar module$contents$eeapiclient$domain_object_CopyValueGetter, module$contents$eeapiclient$domain_object_CopyValueSetter, module$contents$eeapiclient$domain_object_CopyConstructor, module$contents$eeapiclient$domain_object_CopyInstanciator;\nfunction module$contents$eeapiclient$domain_object_deepCopy(source, valueGetter, valueSetter, copyInstanciator, targetConstructor) {\n  for (var target = copyInstanciator(targetConstructor), metadata = module$contents$eeapiclient$domain_object_deepCopyMetadata(source, target), arrays = metadata.arrays || {}, objects = metadata.objects || {}, objectMaps = metadata.objectMaps || {}, $jscomp$loop$71 = {}, $jscomp$iter$6 = $jscomp.makeIterator(metadata.keys || []), $jscomp$key$key = $jscomp$iter$6.next(); !$jscomp$key$key.done; $jscomp$loop$71 = {$jscomp$loop$prop$mapMetadata$72:$jscomp$loop$71.$jscomp$loop$prop$mapMetadata$72}, \n  $jscomp$key$key = $jscomp$iter$6.next()) {\n    var key = $jscomp$key$key.value, value = valueGetter(key, source);\n    if (null != value) {\n      var copy = void 0;\n      if (arrays.hasOwnProperty(key)) {\n        if (metadata.emptyArrayIsUnset && 0 === value.length) {\n          continue;\n        }\n        copy = module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, !0, !0, arrays[key]);\n      } else {\n        if (objects.hasOwnProperty(key)) {\n          copy = module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, !1, !0, objects[key]);\n        } else {\n          if (objectMaps.hasOwnProperty(key)) {\n            $jscomp$loop$71.$jscomp$loop$prop$mapMetadata$72 = objectMaps[key], copy = $jscomp$loop$71.$jscomp$loop$prop$mapMetadata$72.isPropertyArray ? value.map(function($jscomp$loop$71) {\n              return function(v) {\n                return module$contents$eeapiclient$domain_object_deepCopyObjectMap(v, $jscomp$loop$71.$jscomp$loop$prop$mapMetadata$72, valueGetter, valueSetter, copyInstanciator);\n              };\n            }($jscomp$loop$71)) : module$contents$eeapiclient$domain_object_deepCopyObjectMap(value, $jscomp$loop$71.$jscomp$loop$prop$mapMetadata$72, valueGetter, valueSetter, copyInstanciator);\n          } else {\n            if (Array.isArray(value)) {\n              if (metadata.emptyArrayIsUnset && 0 === value.length) {\n                continue;\n              }\n              copy = module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, !0, !1);\n            } else {\n              copy = value instanceof module$contents$eeapiclient$domain_object_NullClass ? null : value;\n            }\n          }\n        }\n      }\n      valueSetter(key, target, copy);\n    }\n  }\n  return target;\n}\nfunction module$contents$eeapiclient$domain_object_deepCopyObjectMap(value, mapMetadata, valueGetter, valueSetter, copyInstanciator) {\n  for (var objMap = {}, $jscomp$iter$7 = $jscomp.makeIterator(Object.keys(value)), $jscomp$key$mapKey = $jscomp$iter$7.next(); !$jscomp$key$mapKey.done; $jscomp$key$mapKey = $jscomp$iter$7.next()) {\n    var mapKey = $jscomp$key$mapKey.value, mapValue = value[mapKey];\n    null != mapValue && (objMap[mapKey] = module$contents$eeapiclient$domain_object_deepCopyValue(mapValue, valueGetter, valueSetter, copyInstanciator, mapMetadata.isValueArray, mapMetadata.isSerializable, mapMetadata.ctor));\n  }\n  return objMap;\n}\nfunction module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, isArray, isRef, ctor) {\n  if (isRef && null == ctor) {\n    throw Error(\"Cannot deserialize a reference object without a constructor.\");\n  }\n  return null == value ? value : isArray && isRef ? value.map(function(v) {\n    return module$contents$eeapiclient$domain_object_deepCopy(v, valueGetter, valueSetter, copyInstanciator, ctor);\n  }) : isArray && !isRef ? value.map(function(v) {\n    return v;\n  }) : !isArray && isRef ? module$contents$eeapiclient$domain_object_deepCopy(value, valueGetter, valueSetter, copyInstanciator, ctor) : value instanceof module$contents$eeapiclient$domain_object_NullClass ? null : \"object\" === typeof value ? JSON.parse(JSON.stringify(value)) : value;\n}\nfunction module$contents$eeapiclient$domain_object_deepCopyMetadata(source, target) {\n  if (target instanceof module$exports$eeapiclient$domain_object.Serializable) {\n    var metadata = target.getClassMetadata();\n  } else {\n    if (source instanceof module$exports$eeapiclient$domain_object.Serializable) {\n      metadata = source.getClassMetadata();\n    } else {\n      throw Error(\"Cannot find ClassMetadata.\");\n    }\n  }\n  return metadata;\n}\nfunction module$contents$eeapiclient$domain_object_deepEquals(serializable1, serializable2) {\n  var metadata1 = serializable1.getClassMetadata(), keys1 = metadata1.keys || [], arrays1 = metadata1.arrays || {}, objects1 = metadata1.objects || {}, objectMaps1 = metadata1.objectMaps || {}, metadata2 = serializable2.getClassMetadata(), arrays2 = metadata2.arrays || {}, objects2 = metadata2.objects || {}, objectMaps2 = metadata2.objectMaps || {};\n  if (!(module$contents$eeapiclient$domain_object_sameKeys(keys1, metadata2.keys || []) && module$contents$eeapiclient$domain_object_sameKeys(arrays1, arrays2) && module$contents$eeapiclient$domain_object_sameKeys(objects1, objects2) && module$contents$eeapiclient$domain_object_sameKeys(objectMaps1, objectMaps2))) {\n    return !1;\n  }\n  for (var $jscomp$loop$73 = {}, $jscomp$iter$8 = $jscomp.makeIterator(keys1), $jscomp$key$key = $jscomp$iter$8.next(); !$jscomp$key$key.done; $jscomp$loop$73 = {$jscomp$loop$prop$value2$74:$jscomp$loop$73.$jscomp$loop$prop$value2$74, $jscomp$loop$prop$mapMetadata$75:$jscomp$loop$73.$jscomp$loop$prop$mapMetadata$75}, $jscomp$key$key = $jscomp$iter$8.next()) {\n    var key = $jscomp$key$key.value, has1 = module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(serializable1, key, metadata1), has2 = module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(serializable2, key, metadata2);\n    if (has1 !== has2) {\n      return !1;\n    }\n    if (has1) {\n      var value1 = serializable1.Serializable$get(key);\n      $jscomp$loop$73.$jscomp$loop$prop$value2$74 = serializable2.Serializable$get(key);\n      if (arrays1.hasOwnProperty(key)) {\n        if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74, !0, !0)) {\n          return !1;\n        }\n      } else {\n        if (objects1.hasOwnProperty(key)) {\n          if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74, !1, !0)) {\n            return !1;\n          }\n        } else {\n          if (objectMaps1.hasOwnProperty(key)) {\n            if ($jscomp$loop$73.$jscomp$loop$prop$mapMetadata$75 = objectMaps1[key], $jscomp$loop$73.$jscomp$loop$prop$mapMetadata$75.isPropertyArray) {\n              if (!module$contents$eeapiclient$domain_object_sameKeys(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74) || value1.some(function($jscomp$loop$73) {\n                return function(v1, i) {\n                  return !module$contents$eeapiclient$domain_object_deepEqualsObjectMap(v1, $jscomp$loop$73.$jscomp$loop$prop$value2$74[i], $jscomp$loop$73.$jscomp$loop$prop$mapMetadata$75);\n                };\n              }($jscomp$loop$73))) {\n                return !1;\n              }\n            } else {\n              if (!module$contents$eeapiclient$domain_object_deepEqualsObjectMap(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74, $jscomp$loop$73.$jscomp$loop$prop$mapMetadata$75)) {\n                return !1;\n              }\n            }\n          } else {\n            if (Array.isArray(value1)) {\n              if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74, !0, !1)) {\n                return !1;\n              }\n            } else {\n              if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74, !1, !1)) {\n                return !1;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return !0;\n}\nmodule$exports$eeapiclient$domain_object.deepEquals = module$contents$eeapiclient$domain_object_deepEquals;\nfunction module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(serializable, key, metadata) {\n  if (!serializable.Serializable$has(key)) {\n    return !1;\n  }\n  if (!metadata.emptyArrayIsUnset) {\n    return !0;\n  }\n  var value = serializable.Serializable$get(key);\n  return Array.isArray(value) ? 0 !== value.length : !0;\n}\nfunction module$contents$eeapiclient$domain_object_deepEqualsObjectMap(value1, value2, mapMetadata) {\n  if (!module$contents$eeapiclient$domain_object_sameKeys(value1, value2)) {\n    return !1;\n  }\n  for (var $jscomp$iter$9 = $jscomp.makeIterator(Object.keys(value1)), $jscomp$key$mapKey = $jscomp$iter$9.next(); !$jscomp$key$mapKey.done; $jscomp$key$mapKey = $jscomp$iter$9.next()) {\n    var mapKey = $jscomp$key$mapKey.value;\n    if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1[mapKey], value2[mapKey], mapMetadata.isValueArray, mapMetadata.isSerializable)) {\n      return !1;\n    }\n  }\n  return !0;\n}\nfunction module$contents$eeapiclient$domain_object_deepEqualsValue(value1, value2, isArray, isSerializable) {\n  if (null == value1 && null == value2) {\n    return !0;\n  }\n  if (isArray && isSerializable) {\n    if (!module$contents$eeapiclient$domain_object_sameKeys(value1, value2) || value1.some(function(v1, i) {\n      return !module$contents$eeapiclient$domain_object_deepEquals(v1, value2[i]);\n    })) {\n      return !1;\n    }\n  } else {\n    if (isArray && !isSerializable) {\n      if (!module$contents$eeapiclient$domain_object_sameKeys(value1, value2) || value1.some(function(v, i) {\n        return v !== value2[i];\n      })) {\n        return !1;\n      }\n    } else {\n      if (\"object\" === typeof value1) {\n        if (JSON.stringify(value1) !== JSON.stringify(value2)) {\n          return !1;\n        }\n      } else {\n        if (value1 !== value2) {\n          return !1;\n        }\n      }\n    }\n  }\n  return !0;\n}\nfunction module$contents$eeapiclient$domain_object_sameKeys(a, b) {\n  if (typeof a !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n    throw Error(\"Types are not comparable.\");\n  }\n  var aKeys = Object.keys(a), bKeys = Object.keys(b);\n  if (aKeys.length !== bKeys.length) {\n    return !1;\n  }\n  Array.isArray(a) || (aKeys.sort(), bKeys.sort());\n  for (var i = 0; i < aKeys.length; i++) {\n    if (aKeys[i] !== bKeys[i]) {\n      return !1;\n    }\n  }\n  return !0;\n}\nmodule$exports$eeapiclient$domain_object.serializableEqualityTester = function module$contents$eeapiclient$domain_object_serializableEqualityTester(left, right) {\n  if (left instanceof module$exports$eeapiclient$domain_object.Serializable && right instanceof module$exports$eeapiclient$domain_object.Serializable) {\n    return module$contents$eeapiclient$domain_object_deepEquals(left, right);\n  }\n};\ngoog.dom.asserts = {};\ngoog.dom.asserts.assertIsLocation = function(o) {\n  if (goog.asserts.ENABLE_ASSERTS) {\n    var win = goog.dom.asserts.getWindow_(o);\n    win && (!o || !(o instanceof win.Location) && o instanceof win.Element) && goog.asserts.fail(\"Argument is not a Location (or a non-Element mock); got: %s\", goog.dom.asserts.debugStringForType_(o));\n  }\n  return o;\n};\ngoog.dom.asserts.assertIsElementType_ = function(o, typename) {\n  if (goog.asserts.ENABLE_ASSERTS) {\n    var win = goog.dom.asserts.getWindow_(o);\n    win && \"undefined\" != typeof win[typename] && (o && (o instanceof win[typename] || !(o instanceof win.Location || o instanceof win.Element)) || goog.asserts.fail(\"Argument is not a %s (or a non-Element, non-Location mock); got: %s\", typename, goog.dom.asserts.debugStringForType_(o)));\n  }\n  return o;\n};\ngoog.dom.asserts.assertIsHTMLAnchorElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLAnchorElement\");\n};\ngoog.dom.asserts.assertIsHTMLButtonElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLButtonElement\");\n};\ngoog.dom.asserts.assertIsHTMLLinkElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLLinkElement\");\n};\ngoog.dom.asserts.assertIsHTMLImageElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLImageElement\");\n};\ngoog.dom.asserts.assertIsHTMLAudioElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLAudioElement\");\n};\ngoog.dom.asserts.assertIsHTMLVideoElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLVideoElement\");\n};\ngoog.dom.asserts.assertIsHTMLInputElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLInputElement\");\n};\ngoog.dom.asserts.assertIsHTMLTextAreaElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLTextAreaElement\");\n};\ngoog.dom.asserts.assertIsHTMLCanvasElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLCanvasElement\");\n};\ngoog.dom.asserts.assertIsHTMLEmbedElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLEmbedElement\");\n};\ngoog.dom.asserts.assertIsHTMLFormElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLFormElement\");\n};\ngoog.dom.asserts.assertIsHTMLFrameElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLFrameElement\");\n};\ngoog.dom.asserts.assertIsHTMLIFrameElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLIFrameElement\");\n};\ngoog.dom.asserts.assertIsHTMLObjectElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLObjectElement\");\n};\ngoog.dom.asserts.assertIsHTMLScriptElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLScriptElement\");\n};\ngoog.dom.asserts.debugStringForType_ = function(value) {\n  if (goog.isObject(value)) {\n    try {\n      return value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value);\n    } catch (e) {\n      return \"<object could not be stringified>\";\n    }\n  } else {\n    return void 0 === value ? \"undefined\" : null === value ? \"null\" : typeof value;\n  }\n};\ngoog.dom.asserts.getWindow_ = function(o) {\n  try {\n    var doc = o && o.ownerDocument, win = doc && (doc.defaultView || doc.parentWindow);\n    win = win || goog.global;\n    if (win.Element && win.Location) {\n      return win;\n    }\n  } catch (ex) {\n  }\n  return null;\n};\ngoog.dom.HtmlElement = function() {\n};\ngoog.dom.TagName = function() {\n};\ngoog.dom.TagName.cast = function(name, type) {\n  return name;\n};\ngoog.dom.TagName.prototype.toString = function() {\n};\ngoog.dom.TagName.A = \"A\";\ngoog.dom.TagName.ABBR = \"ABBR\";\ngoog.dom.TagName.ACRONYM = \"ACRONYM\";\ngoog.dom.TagName.ADDRESS = \"ADDRESS\";\ngoog.dom.TagName.APPLET = \"APPLET\";\ngoog.dom.TagName.AREA = \"AREA\";\ngoog.dom.TagName.ARTICLE = \"ARTICLE\";\ngoog.dom.TagName.ASIDE = \"ASIDE\";\ngoog.dom.TagName.AUDIO = \"AUDIO\";\ngoog.dom.TagName.B = \"B\";\ngoog.dom.TagName.BASE = \"BASE\";\ngoog.dom.TagName.BASEFONT = \"BASEFONT\";\ngoog.dom.TagName.BDI = \"BDI\";\ngoog.dom.TagName.BDO = \"BDO\";\ngoog.dom.TagName.BIG = \"BIG\";\ngoog.dom.TagName.BLOCKQUOTE = \"BLOCKQUOTE\";\ngoog.dom.TagName.BODY = \"BODY\";\ngoog.dom.TagName.BR = \"BR\";\ngoog.dom.TagName.BUTTON = \"BUTTON\";\ngoog.dom.TagName.CANVAS = \"CANVAS\";\ngoog.dom.TagName.CAPTION = \"CAPTION\";\ngoog.dom.TagName.CENTER = \"CENTER\";\ngoog.dom.TagName.CITE = \"CITE\";\ngoog.dom.TagName.CODE = \"CODE\";\ngoog.dom.TagName.COL = \"COL\";\ngoog.dom.TagName.COLGROUP = \"COLGROUP\";\ngoog.dom.TagName.COMMAND = \"COMMAND\";\ngoog.dom.TagName.DATA = \"DATA\";\ngoog.dom.TagName.DATALIST = \"DATALIST\";\ngoog.dom.TagName.DD = \"DD\";\ngoog.dom.TagName.DEL = \"DEL\";\ngoog.dom.TagName.DETAILS = \"DETAILS\";\ngoog.dom.TagName.DFN = \"DFN\";\ngoog.dom.TagName.DIALOG = \"DIALOG\";\ngoog.dom.TagName.DIR = \"DIR\";\ngoog.dom.TagName.DIV = \"DIV\";\ngoog.dom.TagName.DL = \"DL\";\ngoog.dom.TagName.DT = \"DT\";\ngoog.dom.TagName.EM = \"EM\";\ngoog.dom.TagName.EMBED = \"EMBED\";\ngoog.dom.TagName.FIELDSET = \"FIELDSET\";\ngoog.dom.TagName.FIGCAPTION = \"FIGCAPTION\";\ngoog.dom.TagName.FIGURE = \"FIGURE\";\ngoog.dom.TagName.FONT = \"FONT\";\ngoog.dom.TagName.FOOTER = \"FOOTER\";\ngoog.dom.TagName.FORM = \"FORM\";\ngoog.dom.TagName.FRAME = \"FRAME\";\ngoog.dom.TagName.FRAMESET = \"FRAMESET\";\ngoog.dom.TagName.H1 = \"H1\";\ngoog.dom.TagName.H2 = \"H2\";\ngoog.dom.TagName.H3 = \"H3\";\ngoog.dom.TagName.H4 = \"H4\";\ngoog.dom.TagName.H5 = \"H5\";\ngoog.dom.TagName.H6 = \"H6\";\ngoog.dom.TagName.HEAD = \"HEAD\";\ngoog.dom.TagName.HEADER = \"HEADER\";\ngoog.dom.TagName.HGROUP = \"HGROUP\";\ngoog.dom.TagName.HR = \"HR\";\ngoog.dom.TagName.HTML = \"HTML\";\ngoog.dom.TagName.I = \"I\";\ngoog.dom.TagName.IFRAME = \"IFRAME\";\ngoog.dom.TagName.IMG = \"IMG\";\ngoog.dom.TagName.INPUT = \"INPUT\";\ngoog.dom.TagName.INS = \"INS\";\ngoog.dom.TagName.ISINDEX = \"ISINDEX\";\ngoog.dom.TagName.KBD = \"KBD\";\ngoog.dom.TagName.KEYGEN = \"KEYGEN\";\ngoog.dom.TagName.LABEL = \"LABEL\";\ngoog.dom.TagName.LEGEND = \"LEGEND\";\ngoog.dom.TagName.LI = \"LI\";\ngoog.dom.TagName.LINK = \"LINK\";\ngoog.dom.TagName.MAIN = \"MAIN\";\ngoog.dom.TagName.MAP = \"MAP\";\ngoog.dom.TagName.MARK = \"MARK\";\ngoog.dom.TagName.MATH = \"MATH\";\ngoog.dom.TagName.MENU = \"MENU\";\ngoog.dom.TagName.MENUITEM = \"MENUITEM\";\ngoog.dom.TagName.META = \"META\";\ngoog.dom.TagName.METER = \"METER\";\ngoog.dom.TagName.NAV = \"NAV\";\ngoog.dom.TagName.NOFRAMES = \"NOFRAMES\";\ngoog.dom.TagName.NOSCRIPT = \"NOSCRIPT\";\ngoog.dom.TagName.OBJECT = \"OBJECT\";\ngoog.dom.TagName.OL = \"OL\";\ngoog.dom.TagName.OPTGROUP = \"OPTGROUP\";\ngoog.dom.TagName.OPTION = \"OPTION\";\ngoog.dom.TagName.OUTPUT = \"OUTPUT\";\ngoog.dom.TagName.P = \"P\";\ngoog.dom.TagName.PARAM = \"PARAM\";\ngoog.dom.TagName.PICTURE = \"PICTURE\";\ngoog.dom.TagName.PRE = \"PRE\";\ngoog.dom.TagName.PROGRESS = \"PROGRESS\";\ngoog.dom.TagName.Q = \"Q\";\ngoog.dom.TagName.RP = \"RP\";\ngoog.dom.TagName.RT = \"RT\";\ngoog.dom.TagName.RTC = \"RTC\";\ngoog.dom.TagName.RUBY = \"RUBY\";\ngoog.dom.TagName.S = \"S\";\ngoog.dom.TagName.SAMP = \"SAMP\";\ngoog.dom.TagName.SCRIPT = \"SCRIPT\";\ngoog.dom.TagName.SECTION = \"SECTION\";\ngoog.dom.TagName.SELECT = \"SELECT\";\ngoog.dom.TagName.SMALL = \"SMALL\";\ngoog.dom.TagName.SOURCE = \"SOURCE\";\ngoog.dom.TagName.SPAN = \"SPAN\";\ngoog.dom.TagName.STRIKE = \"STRIKE\";\ngoog.dom.TagName.STRONG = \"STRONG\";\ngoog.dom.TagName.STYLE = \"STYLE\";\ngoog.dom.TagName.SUB = \"SUB\";\ngoog.dom.TagName.SUMMARY = \"SUMMARY\";\ngoog.dom.TagName.SUP = \"SUP\";\ngoog.dom.TagName.SVG = \"SVG\";\ngoog.dom.TagName.TABLE = \"TABLE\";\ngoog.dom.TagName.TBODY = \"TBODY\";\ngoog.dom.TagName.TD = \"TD\";\ngoog.dom.TagName.TEMPLATE = \"TEMPLATE\";\ngoog.dom.TagName.TEXTAREA = \"TEXTAREA\";\ngoog.dom.TagName.TFOOT = \"TFOOT\";\ngoog.dom.TagName.TH = \"TH\";\ngoog.dom.TagName.THEAD = \"THEAD\";\ngoog.dom.TagName.TIME = \"TIME\";\ngoog.dom.TagName.TITLE = \"TITLE\";\ngoog.dom.TagName.TR = \"TR\";\ngoog.dom.TagName.TRACK = \"TRACK\";\ngoog.dom.TagName.TT = \"TT\";\ngoog.dom.TagName.U = \"U\";\ngoog.dom.TagName.UL = \"UL\";\ngoog.dom.TagName.VAR = \"VAR\";\ngoog.dom.TagName.VIDEO = \"VIDEO\";\ngoog.dom.TagName.WBR = \"WBR\";\ngoog.dom.tags = {};\ngoog.dom.tags.VOID_TAGS_ = {area:!0, base:!0, br:!0, col:!0, command:!0, embed:!0, hr:!0, img:!0, input:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, wbr:!0};\ngoog.dom.tags.isVoidTag = function(tagName) {\n  return !0 === goog.dom.tags.VOID_TAGS_[tagName];\n};\ngoog.html = {};\ngoog.html.trustedtypes = {};\ngoog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse = function() {\n  if (!goog.TRUSTED_TYPES_POLICY_NAME) {\n    return null;\n  }\n  void 0 === goog.html.trustedtypes.cachedPolicy_ && (goog.html.trustedtypes.cachedPolicy_ = goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + \"#html\"));\n  return goog.html.trustedtypes.cachedPolicy_;\n};\ngoog.string.TypedString = function() {\n};\ngoog.string.Const = function(opt_token, opt_content) {\n  this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ = opt_token === goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ && opt_content || \"\";\n  this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ = goog.string.Const.TYPE_MARKER_;\n};\ngoog.string.Const.prototype.implementsGoogStringTypedString = !0;\ngoog.string.Const.prototype.getTypedStringValue = function() {\n  return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_;\n};\ngoog.DEBUG && (goog.string.Const.prototype.toString = function() {\n  return \"Const{\" + this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ + \"}\";\n});\ngoog.string.Const.unwrap = function(stringConst) {\n  if (stringConst instanceof goog.string.Const && stringConst.constructor === goog.string.Const && stringConst.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ === goog.string.Const.TYPE_MARKER_) {\n    return stringConst.stringConstValueWithSecurityContract__googStringSecurityPrivate_;\n  }\n  goog.asserts.fail(\"expected object of type Const, got '\" + stringConst + \"'\");\n  return \"type_error:Const\";\n};\ngoog.string.Const.from = function(s) {\n  return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_, s);\n};\ngoog.string.Const.TYPE_MARKER_ = {};\ngoog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ = {};\ngoog.string.Const.EMPTY = goog.string.Const.from(\"\");\nvar module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeScript_SafeScript = function(value, token) {\n  this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = token === module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.implementsGoogStringTypedString = !0;\n};\nmodule$contents$goog$html$SafeScript_SafeScript.fromConstant = function(script) {\n  var scriptString = goog.string.Const.unwrap(script);\n  return 0 === scriptString.length ? module$contents$goog$html$SafeScript_SafeScript.EMPTY : module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(scriptString);\n};\nmodule$contents$goog$html$SafeScript_SafeScript.fromJson = function(val) {\n  return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(module$contents$goog$html$SafeScript_SafeScript.stringify_(val));\n};\nmodule$contents$goog$html$SafeScript_SafeScript.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeScript_SafeScript.unwrap = function(safeScript) {\n  return module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(safeScript).toString();\n};\nmodule$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript = function(safeScript) {\n  if (safeScript instanceof module$contents$goog$html$SafeScript_SafeScript && safeScript.constructor === module$contents$goog$html$SafeScript_SafeScript) {\n    return safeScript.privateDoNotAccessOrElseSafeScriptWrappedValue_;\n  }\n  (0,goog.asserts.fail)(\"expected object of type SafeScript, got '\" + safeScript + \"' of type \" + goog.typeOf(safeScript));\n  return \"type_error:SafeScript\";\n};\nmodule$contents$goog$html$SafeScript_SafeScript.stringify_ = function(val) {\n  return JSON.stringify(val).replace(/</g, \"\\\\x3c\");\n};\nmodule$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse = function(script) {\n  var policy = goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(), trustedScript = policy ? policy.createScript(script) : script;\n  return new module$contents$goog$html$SafeScript_SafeScript(trustedScript, module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeScript_SafeScript.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeScript_SafeScript.EMPTY = function() {\n  return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(\"\");\n}();\ngoog.html.SafeScript = module$contents$goog$html$SafeScript_SafeScript;\ngoog.fs = {};\ngoog.fs.url = {};\ngoog.fs.url.createObjectUrl = function(obj) {\n  return goog.fs.url.getUrlObject_().createObjectURL(obj);\n};\ngoog.fs.url.revokeObjectUrl = function(url) {\n  goog.fs.url.getUrlObject_().revokeObjectURL(url);\n};\ngoog.fs.url.UrlObject_ = function() {\n};\ngoog.fs.url.UrlObject_.prototype.createObjectURL = function(arg) {\n};\ngoog.fs.url.UrlObject_.prototype.revokeObjectURL = function(s) {\n};\ngoog.fs.url.getUrlObject_ = function() {\n  var urlObject = goog.fs.url.findUrlObject_();\n  if (null != urlObject) {\n    return urlObject;\n  }\n  throw Error(\"This browser doesn't seem to support blob URLs\");\n};\ngoog.fs.url.findUrlObject_ = function() {\n  return void 0 !== goog.global.URL && void 0 !== goog.global.URL.createObjectURL ? goog.global.URL : void 0 !== goog.global.createObjectURL ? goog.global : null;\n};\ngoog.fs.url.browserSupportsObjectUrls = function() {\n  return null != goog.fs.url.findUrlObject_();\n};\ngoog.fs.blob = {};\ngoog.fs.blob.getBlob = function(var_args) {\n  var BlobBuilder = goog.global.BlobBuilder || goog.global.WebKitBlobBuilder;\n  if (void 0 !== BlobBuilder) {\n    for (var bb = new BlobBuilder(), i = 0; i < arguments.length; i++) {\n      bb.append(arguments[i]);\n    }\n    return bb.getBlob();\n  }\n  return goog.fs.blob.getBlobWithProperties(Array.prototype.slice.call(arguments));\n};\ngoog.fs.blob.getBlobWithProperties = function(parts, opt_type, opt_endings) {\n  var BlobBuilder = goog.global.BlobBuilder || goog.global.WebKitBlobBuilder;\n  if (void 0 !== BlobBuilder) {\n    for (var bb = new BlobBuilder(), i = 0; i < parts.length; i++) {\n      bb.append(parts[i], opt_endings);\n    }\n    return bb.getBlob(opt_type);\n  }\n  if (void 0 !== goog.global.Blob) {\n    var properties = {};\n    opt_type && (properties.type = opt_type);\n    opt_endings && (properties.endings = opt_endings);\n    return new Blob(parts, properties);\n  }\n  throw Error(\"This browser doesn't seem to support creating Blobs\");\n};\ngoog.i18n = {};\ngoog.i18n.bidi = {};\ngoog.i18n.bidi.FORCE_RTL = !1;\ngoog.i18n.bidi.IS_RTL = goog.i18n.bidi.FORCE_RTL || (\"ar\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"fa\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"he\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"iw\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"ps\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"sd\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"ug\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"ur\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"yi\" == goog.LOCALE.substring(0, \n2).toLowerCase()) && (2 == goog.LOCALE.length || \"-\" == goog.LOCALE.substring(2, 3) || \"_\" == goog.LOCALE.substring(2, 3)) || 3 <= goog.LOCALE.length && \"ckb\" == goog.LOCALE.substring(0, 3).toLowerCase() && (3 == goog.LOCALE.length || \"-\" == goog.LOCALE.substring(3, 4) || \"_\" == goog.LOCALE.substring(3, 4)) || 7 <= goog.LOCALE.length && (\"-\" == goog.LOCALE.substring(2, 3) || \"_\" == goog.LOCALE.substring(2, 3)) && (\"adlm\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"arab\" == goog.LOCALE.substring(3, \n7).toLowerCase() || \"hebr\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"nkoo\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"rohg\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"thaa\" == goog.LOCALE.substring(3, 7).toLowerCase()) || 8 <= goog.LOCALE.length && (\"-\" == goog.LOCALE.substring(3, 4) || \"_\" == goog.LOCALE.substring(3, 4)) && (\"adlm\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"arab\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"hebr\" == goog.LOCALE.substring(4, 8).toLowerCase() || \n\"nkoo\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"rohg\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"thaa\" == goog.LOCALE.substring(4, 8).toLowerCase());\ngoog.i18n.bidi.Format = {LRE:\"\\u202a\", RLE:\"\\u202b\", PDF:\"\\u202c\", LRM:\"\\u200e\", RLM:\"\\u200f\"};\ngoog.i18n.bidi.Dir = {LTR:1, RTL:-1, NEUTRAL:0};\ngoog.i18n.bidi.RIGHT = \"right\";\ngoog.i18n.bidi.LEFT = \"left\";\ngoog.i18n.bidi.I18N_RIGHT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT;\ngoog.i18n.bidi.I18N_LEFT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT;\ngoog.i18n.bidi.toDir = function(givenDir, opt_noNeutral) {\n  return \"number\" == typeof givenDir ? 0 < givenDir ? goog.i18n.bidi.Dir.LTR : 0 > givenDir ? goog.i18n.bidi.Dir.RTL : opt_noNeutral ? null : goog.i18n.bidi.Dir.NEUTRAL : null == givenDir ? null : givenDir ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;\n};\ngoog.i18n.bidi.ltrChars_ = \"A-Za-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u02b8\\u0300-\\u0590\\u0900-\\u1fff\\u200e\\u2c00-\\ud801\\ud804-\\ud839\\ud83c-\\udbff\\uf900-\\ufb1c\\ufe00-\\ufe6f\\ufefd-\\uffff\";\ngoog.i18n.bidi.rtlChars_ = \"\\u0591-\\u06ef\\u06fa-\\u08ff\\u200f\\ud802-\\ud803\\ud83a-\\ud83b\\ufb1d-\\ufdff\\ufe70-\\ufefc\";\ngoog.i18n.bidi.htmlSkipReg_ = /<[^>]*>|&[^;]+;/g;\ngoog.i18n.bidi.stripHtmlIfNeeded_ = function(str, opt_isStripNeeded) {\n  return opt_isStripNeeded ? str.replace(goog.i18n.bidi.htmlSkipReg_, \"\") : str;\n};\ngoog.i18n.bidi.rtlCharReg_ = new RegExp(\"[\" + goog.i18n.bidi.rtlChars_ + \"]\");\ngoog.i18n.bidi.ltrCharReg_ = new RegExp(\"[\" + goog.i18n.bidi.ltrChars_ + \"]\");\ngoog.i18n.bidi.hasAnyRtl = function(str, opt_isHtml) {\n  return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.hasRtlChar = goog.i18n.bidi.hasAnyRtl;\ngoog.i18n.bidi.hasAnyLtr = function(str, opt_isHtml) {\n  return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.ltrRe_ = new RegExp(\"^[\" + goog.i18n.bidi.ltrChars_ + \"]\");\ngoog.i18n.bidi.rtlRe_ = new RegExp(\"^[\" + goog.i18n.bidi.rtlChars_ + \"]\");\ngoog.i18n.bidi.isRtlChar = function(str) {\n  return goog.i18n.bidi.rtlRe_.test(str);\n};\ngoog.i18n.bidi.isLtrChar = function(str) {\n  return goog.i18n.bidi.ltrRe_.test(str);\n};\ngoog.i18n.bidi.isNeutralChar = function(str) {\n  return !goog.i18n.bidi.isLtrChar(str) && !goog.i18n.bidi.isRtlChar(str);\n};\ngoog.i18n.bidi.ltrDirCheckRe_ = new RegExp(\"^[^\" + goog.i18n.bidi.rtlChars_ + \"]*[\" + goog.i18n.bidi.ltrChars_ + \"]\");\ngoog.i18n.bidi.rtlDirCheckRe_ = new RegExp(\"^[^\" + goog.i18n.bidi.ltrChars_ + \"]*[\" + goog.i18n.bidi.rtlChars_ + \"]\");\ngoog.i18n.bidi.startsWithRtl = function(str, opt_isHtml) {\n  return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isRtlText = goog.i18n.bidi.startsWithRtl;\ngoog.i18n.bidi.startsWithLtr = function(str, opt_isHtml) {\n  return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isLtrText = goog.i18n.bidi.startsWithLtr;\ngoog.i18n.bidi.isRequiredLtrRe_ = /^http:\\/\\/.*/;\ngoog.i18n.bidi.isNeutralText = function(str, opt_isHtml) {\n  str = goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml);\n  return goog.i18n.bidi.isRequiredLtrRe_.test(str) || !goog.i18n.bidi.hasAnyLtr(str) && !goog.i18n.bidi.hasAnyRtl(str);\n};\ngoog.i18n.bidi.ltrExitDirCheckRe_ = new RegExp(\"[\" + goog.i18n.bidi.ltrChars_ + \"][^\" + goog.i18n.bidi.rtlChars_ + \"]*$\");\ngoog.i18n.bidi.rtlExitDirCheckRe_ = new RegExp(\"[\" + goog.i18n.bidi.rtlChars_ + \"][^\" + goog.i18n.bidi.ltrChars_ + \"]*$\");\ngoog.i18n.bidi.endsWithLtr = function(str, opt_isHtml) {\n  return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isLtrExitText = goog.i18n.bidi.endsWithLtr;\ngoog.i18n.bidi.endsWithRtl = function(str, opt_isHtml) {\n  return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isRtlExitText = goog.i18n.bidi.endsWithRtl;\ngoog.i18n.bidi.rtlLocalesRe_ = RegExp(\"^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)\", \"i\");\ngoog.i18n.bidi.isRtlLanguage = function(lang) {\n  return goog.i18n.bidi.rtlLocalesRe_.test(lang);\n};\ngoog.i18n.bidi.bracketGuardTextRe_ = /(\\(.*?\\)+)|(\\[.*?\\]+)|(\\{.*?\\}+)|(<.*?>+)/g;\ngoog.i18n.bidi.guardBracketInText = function(s, opt_isRtlContext) {\n  var mark = (void 0 === opt_isRtlContext ? goog.i18n.bidi.hasAnyRtl(s) : opt_isRtlContext) ? goog.i18n.bidi.Format.RLM : goog.i18n.bidi.Format.LRM;\n  return s.replace(goog.i18n.bidi.bracketGuardTextRe_, mark + \"$&\" + mark);\n};\ngoog.i18n.bidi.enforceRtlInHtml = function(html) {\n  return \"<\" == html.charAt(0) ? html.replace(/<\\w+/, \"$& dir=rtl\") : \"\\n<span dir=rtl>\" + html + \"</span>\";\n};\ngoog.i18n.bidi.enforceRtlInText = function(text) {\n  return goog.i18n.bidi.Format.RLE + text + goog.i18n.bidi.Format.PDF;\n};\ngoog.i18n.bidi.enforceLtrInHtml = function(html) {\n  return \"<\" == html.charAt(0) ? html.replace(/<\\w+/, \"$& dir=ltr\") : \"\\n<span dir=ltr>\" + html + \"</span>\";\n};\ngoog.i18n.bidi.enforceLtrInText = function(text) {\n  return goog.i18n.bidi.Format.LRE + text + goog.i18n.bidi.Format.PDF;\n};\ngoog.i18n.bidi.dimensionsRe_ = /:\\s*([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)/g;\ngoog.i18n.bidi.leftRe_ = /left/gi;\ngoog.i18n.bidi.rightRe_ = /right/gi;\ngoog.i18n.bidi.tempRe_ = /%%%%/g;\ngoog.i18n.bidi.mirrorCSS = function(cssStr) {\n  return cssStr.replace(goog.i18n.bidi.dimensionsRe_, \":$1 $4 $3 $2\").replace(goog.i18n.bidi.leftRe_, \"%%%%\").replace(goog.i18n.bidi.rightRe_, goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_, goog.i18n.bidi.RIGHT);\n};\ngoog.i18n.bidi.doubleQuoteSubstituteRe_ = /([\\u0591-\\u05f2])\"/g;\ngoog.i18n.bidi.singleQuoteSubstituteRe_ = /([\\u0591-\\u05f2])'/g;\ngoog.i18n.bidi.normalizeHebrewQuote = function(str) {\n  return str.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_, \"$1\\u05f4\").replace(goog.i18n.bidi.singleQuoteSubstituteRe_, \"$1\\u05f3\");\n};\ngoog.i18n.bidi.wordSeparatorRe_ = /\\s+/;\ngoog.i18n.bidi.hasNumeralsRe_ = /[\\d\\u06f0-\\u06f9]/;\ngoog.i18n.bidi.rtlDetectionThreshold_ = 0.40;\ngoog.i18n.bidi.estimateDirection = function(str, opt_isHtml) {\n  for (var rtlCount = 0, totalCount = 0, hasWeaklyLtr = !1, tokens = goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml).split(goog.i18n.bidi.wordSeparatorRe_), i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n    goog.i18n.bidi.startsWithRtl(token) ? (rtlCount++, totalCount++) : goog.i18n.bidi.isRequiredLtrRe_.test(token) ? hasWeaklyLtr = !0 : goog.i18n.bidi.hasAnyLtr(token) ? totalCount++ : goog.i18n.bidi.hasNumeralsRe_.test(token) && (hasWeaklyLtr = !0);\n  }\n  return 0 == totalCount ? hasWeaklyLtr ? goog.i18n.bidi.Dir.LTR : goog.i18n.bidi.Dir.NEUTRAL : rtlCount / totalCount > goog.i18n.bidi.rtlDetectionThreshold_ ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;\n};\ngoog.i18n.bidi.detectRtlDirectionality = function(str, opt_isHtml) {\n  return goog.i18n.bidi.estimateDirection(str, opt_isHtml) == goog.i18n.bidi.Dir.RTL;\n};\ngoog.i18n.bidi.setElementDirAndAlign = function(element, dir) {\n  element && (dir = goog.i18n.bidi.toDir(dir)) && (element.style.textAlign = dir == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT, element.dir = dir == goog.i18n.bidi.Dir.RTL ? \"rtl\" : \"ltr\");\n};\ngoog.i18n.bidi.setElementDirByTextDirectionality = function(element, text) {\n  switch(goog.i18n.bidi.estimateDirection(text)) {\n    case goog.i18n.bidi.Dir.LTR:\n      \"ltr\" !== element.dir && (element.dir = \"ltr\");\n      break;\n    case goog.i18n.bidi.Dir.RTL:\n      \"rtl\" !== element.dir && (element.dir = \"rtl\");\n      break;\n    default:\n      element.removeAttribute(\"dir\");\n  }\n};\ngoog.i18n.bidi.DirectionalString = function() {\n};\ngoog.html.TrustedResourceUrl = function(value, token) {\n  this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = token === goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_ ? value : \"\";\n};\ngoog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString = !0;\ngoog.html.TrustedResourceUrl.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString();\n};\ngoog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString = !0;\ngoog.html.TrustedResourceUrl.prototype.getDirection = function() {\n  return goog.i18n.bidi.Dir.LTR;\n};\ngoog.html.TrustedResourceUrl.prototype.cloneWithParams = function(searchParams, opt_hashParams) {\n  var url = goog.html.TrustedResourceUrl.unwrap(this), parts = goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(url), urlHash = parts[3] || \"\";\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(parts[1] + goog.html.TrustedResourceUrl.stringifyParams_(\"?\", parts[2] || \"\", searchParams) + goog.html.TrustedResourceUrl.stringifyParams_(\"#\", urlHash, opt_hashParams));\n};\ngoog.html.TrustedResourceUrl.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ + \"\";\n};\ngoog.html.TrustedResourceUrl.unwrap = function(trustedResourceUrl) {\n  return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(trustedResourceUrl).toString();\n};\ngoog.html.TrustedResourceUrl.unwrapTrustedScriptURL = function(trustedResourceUrl) {\n  if (trustedResourceUrl instanceof goog.html.TrustedResourceUrl && trustedResourceUrl.constructor === goog.html.TrustedResourceUrl) {\n    return trustedResourceUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;\n  }\n  goog.asserts.fail(\"expected object of type TrustedResourceUrl, got '\" + trustedResourceUrl + \"' of type \" + goog.typeOf(trustedResourceUrl));\n  return \"type_error:TrustedResourceUrl\";\n};\ngoog.html.TrustedResourceUrl.format = function(format, args) {\n  var formatStr = goog.string.Const.unwrap(format);\n  if (!goog.html.TrustedResourceUrl.BASE_URL_.test(formatStr)) {\n    throw Error(\"Invalid TrustedResourceUrl format: \" + formatStr);\n  }\n  var result = formatStr.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_, function(match, id) {\n    if (!Object.prototype.hasOwnProperty.call(args, id)) {\n      throw Error('Found marker, \"' + id + '\", in format string, \"' + formatStr + '\", but no valid label mapping found in args: ' + JSON.stringify(args));\n    }\n    var arg = args[id];\n    return arg instanceof goog.string.Const ? goog.string.Const.unwrap(arg) : encodeURIComponent(String(arg));\n  });\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(result);\n};\ngoog.html.TrustedResourceUrl.FORMAT_MARKER_ = /%{(\\w+)}/g;\ngoog.html.TrustedResourceUrl.BASE_URL_ = RegExp(\"^((https:)?//[0-9a-z.:[\\\\]-]+/|/[^/\\\\\\\\]|[^:/\\\\\\\\%]+/|[^:/\\\\\\\\%]*[?#]|about:blank#)\", \"i\");\ngoog.html.TrustedResourceUrl.URL_PARAM_PARSER_ = /^([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/;\ngoog.html.TrustedResourceUrl.formatWithParams = function(format, args, searchParams, opt_hashParams) {\n  return goog.html.TrustedResourceUrl.format(format, args).cloneWithParams(searchParams, opt_hashParams);\n};\ngoog.html.TrustedResourceUrl.fromConstant = function(url) {\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(url));\n};\ngoog.html.TrustedResourceUrl.fromConstants = function(parts) {\n  for (var unwrapped = \"\", i = 0; i < parts.length; i++) {\n    unwrapped += goog.string.Const.unwrap(parts[i]);\n  }\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(unwrapped);\n};\ngoog.html.TrustedResourceUrl.fromSafeScript = function(safeScript) {\n  var blob = goog.fs.blob.getBlobWithProperties([module$contents$goog$html$SafeScript_SafeScript.unwrap(safeScript)], \"text/javascript\"), url = goog.fs.url.createObjectUrl(blob);\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_ = {};\ngoog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse = function(url) {\n  var policy = goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(), value = policy ? policy.createScriptURL(url) : url;\n  return new goog.html.TrustedResourceUrl(value, goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_);\n};\ngoog.html.TrustedResourceUrl.stringifyParams_ = function(prefix, currentString, params) {\n  if (null == params) {\n    return currentString;\n  }\n  if (\"string\" === typeof params) {\n    return params ? prefix + encodeURIComponent(params) : \"\";\n  }\n  for (var key in params) {\n    if (Object.prototype.hasOwnProperty.call(params, key)) {\n      for (var value = params[key], outputValues = Array.isArray(value) ? value : [value], i = 0; i < outputValues.length; i++) {\n        var outputValue = outputValues[i];\n        null != outputValue && (currentString || (currentString = prefix), currentString += (currentString.length > prefix.length ? \"&\" : \"\") + encodeURIComponent(key) + \"=\" + encodeURIComponent(String(outputValue)));\n      }\n    }\n  }\n  return currentString;\n};\ngoog.html.SafeUrl = function(value, token) {\n  this.privateDoNotAccessOrElseSafeUrlWrappedValue_ = token === goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_ ? value : \"\";\n};\ngoog.html.SafeUrl.INNOCUOUS_STRING = \"about:invalid#zClosurez\";\ngoog.html.SafeUrl.prototype.implementsGoogStringTypedString = !0;\ngoog.html.SafeUrl.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString();\n};\ngoog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString = !0;\ngoog.html.SafeUrl.prototype.getDirection = function() {\n  return goog.i18n.bidi.Dir.LTR;\n};\ngoog.html.SafeUrl.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString();\n};\ngoog.html.SafeUrl.unwrap = function(safeUrl) {\n  if (safeUrl instanceof goog.html.SafeUrl && safeUrl.constructor === goog.html.SafeUrl) {\n    return safeUrl.privateDoNotAccessOrElseSafeUrlWrappedValue_;\n  }\n  goog.asserts.fail(\"expected object of type SafeUrl, got '\" + safeUrl + \"' of type \" + goog.typeOf(safeUrl));\n  return \"type_error:SafeUrl\";\n};\ngoog.html.SafeUrl.fromConstant = function(url) {\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(url));\n};\ngoog.html.SAFE_MIME_TYPE_PATTERN_ = RegExp('^(?:audio/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font/\\\\w+|image/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|video/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\\\\w+=(?:\\\\w+|\"[\\\\w;,= ]+\"))*$', \"i\");\ngoog.html.SafeUrl.isSafeMimeType = function(mimeType) {\n  return goog.html.SAFE_MIME_TYPE_PATTERN_.test(mimeType);\n};\ngoog.html.SafeUrl.fromBlob = function(blob) {\n  var url = goog.html.SafeUrl.isSafeMimeType(blob.type) ? goog.fs.url.createObjectUrl(blob) : goog.html.SafeUrl.INNOCUOUS_STRING;\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.SafeUrl.revokeObjectUrl = function(safeUrl) {\n  var url = safeUrl.getTypedStringValue();\n  url !== goog.html.SafeUrl.INNOCUOUS_STRING && goog.fs.url.revokeObjectUrl(url);\n};\ngoog.html.SafeUrl.fromMediaSource = function(mediaSource) {\n  goog.asserts.assert(\"MediaSource\" in goog.global, \"No support for MediaSource\");\n  var url = mediaSource instanceof MediaSource ? goog.fs.url.createObjectUrl(mediaSource) : goog.html.SafeUrl.INNOCUOUS_STRING;\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.DATA_URL_PATTERN_ = /^data:(.*);base64,[a-z0-9+\\/]+=*$/i;\ngoog.html.SafeUrl.tryFromDataUrl = function(dataUrl) {\n  dataUrl = String(dataUrl);\n  var filteredDataUrl = dataUrl.replace(/(%0A|%0D)/g, \"\"), match = filteredDataUrl.match(goog.html.DATA_URL_PATTERN_);\n  return match && goog.html.SafeUrl.isSafeMimeType(match[1]) ? goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(filteredDataUrl) : null;\n};\ngoog.html.SafeUrl.fromDataUrl = function(dataUrl) {\n  return goog.html.SafeUrl.tryFromDataUrl(dataUrl) || goog.html.SafeUrl.INNOCUOUS_URL;\n};\ngoog.html.SafeUrl.fromTelUrl = function(telUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(telUrl, \"tel:\") || (telUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(telUrl);\n};\ngoog.html.SIP_URL_PATTERN_ = RegExp(\"^sip[s]?:[+a-z0-9_.!$%&'*\\\\/=^`{|}~-]+@([a-z0-9-]+\\\\.)+[a-z0-9]{2,63}$\", \"i\");\ngoog.html.SafeUrl.fromSipUrl = function(sipUrl) {\n  goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(sipUrl)) || (sipUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(sipUrl);\n};\ngoog.html.SafeUrl.fromFacebookMessengerUrl = function(facebookMessengerUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(facebookMessengerUrl, \"fb-messenger://share\") || (facebookMessengerUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(facebookMessengerUrl);\n};\ngoog.html.SafeUrl.fromWhatsAppUrl = function(whatsAppUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(whatsAppUrl, \"whatsapp://send\") || (whatsAppUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(whatsAppUrl);\n};\ngoog.html.SafeUrl.fromSmsUrl = function(smsUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(smsUrl, \"sms:\") && goog.html.SafeUrl.isSmsUrlBodyValid_(smsUrl) || (smsUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(smsUrl);\n};\ngoog.html.SafeUrl.isSmsUrlBodyValid_ = function(smsUrl) {\n  var hash = smsUrl.indexOf(\"#\");\n  0 < hash && (smsUrl = smsUrl.substring(0, hash));\n  var bodyParams = smsUrl.match(/[?&]body=/gi);\n  if (!bodyParams) {\n    return !0;\n  }\n  if (1 < bodyParams.length) {\n    return !1;\n  }\n  var bodyValue = smsUrl.match(/[?&]body=([^&]*)/)[1];\n  if (!bodyValue) {\n    return !0;\n  }\n  try {\n    decodeURIComponent(bodyValue);\n  } catch (error) {\n    return !1;\n  }\n  return /^(?:[a-z0-9\\-_.~]|%[0-9a-f]{2})+$/i.test(bodyValue);\n};\ngoog.html.SafeUrl.fromSshUrl = function(sshUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(sshUrl, \"ssh://\") || (sshUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(sshUrl);\n};\ngoog.html.SafeUrl.sanitizeChromeExtensionUrl = function(url, extensionId) {\n  return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\\/\\/([^\\/]+)\\//, url, extensionId);\n};\ngoog.html.SafeUrl.sanitizeFirefoxExtensionUrl = function(url, extensionId) {\n  return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\\/\\/([^\\/]+)\\//, url, extensionId);\n};\ngoog.html.SafeUrl.sanitizeEdgeExtensionUrl = function(url, extensionId) {\n  return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\\/\\/([^\\/]+)\\//, url, extensionId);\n};\ngoog.html.SafeUrl.sanitizeExtensionUrl_ = function(scheme, url, extensionId) {\n  var matches = scheme.exec(url);\n  if (matches) {\n    var extractedExtensionId = matches[1];\n    -1 == (extensionId instanceof goog.string.Const ? [goog.string.Const.unwrap(extensionId)] : extensionId.map(function unwrap(x) {\n      return goog.string.Const.unwrap(x);\n    })).indexOf(extractedExtensionId) && (url = goog.html.SafeUrl.INNOCUOUS_STRING);\n  } else {\n    url = goog.html.SafeUrl.INNOCUOUS_STRING;\n  }\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.SafeUrl.fromTrustedResourceUrl = function(trustedResourceUrl) {\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(trustedResourceUrl));\n};\ngoog.html.SAFE_URL_PATTERN_ = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;\ngoog.html.SafeUrl.SAFE_URL_PATTERN = goog.html.SAFE_URL_PATTERN_;\ngoog.html.SafeUrl.trySanitize = function(url) {\n  if (url instanceof goog.html.SafeUrl) {\n    return url;\n  }\n  url = \"object\" == typeof url && url.implementsGoogStringTypedString ? url.getTypedStringValue() : String(url);\n  return goog.html.SAFE_URL_PATTERN_.test(url) ? goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url) : goog.html.SafeUrl.tryFromDataUrl(url);\n};\ngoog.html.SafeUrl.sanitize = function(url) {\n  return goog.html.SafeUrl.trySanitize(url) || goog.html.SafeUrl.INNOCUOUS_URL;\n};\ngoog.html.SafeUrl.sanitizeAssertUnchanged = function(url, opt_allowDataUrl) {\n  if (url instanceof goog.html.SafeUrl) {\n    return url;\n  }\n  url = \"object\" == typeof url && url.implementsGoogStringTypedString ? url.getTypedStringValue() : String(url);\n  if (opt_allowDataUrl && /^data:/i.test(url)) {\n    var safeUrl = goog.html.SafeUrl.fromDataUrl(url);\n    if (safeUrl.getTypedStringValue() == url) {\n      return safeUrl;\n    }\n  }\n  goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(url), \"%s does not match the safe URL pattern\", url) || (url = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_ = {};\ngoog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse = function(url) {\n  return new goog.html.SafeUrl(url, goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_);\n};\ngoog.html.SafeUrl.INNOCUOUS_URL = goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.SafeUrl.INNOCUOUS_STRING);\ngoog.html.SafeUrl.ABOUT_BLANK = goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(\"about:blank\");\nvar module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeStyle_SafeStyle = function(value, token) {\n  this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = token === module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.implementsGoogStringTypedString = !0;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.fromConstant = function(style) {\n  var styleString = goog.string.Const.unwrap(style);\n  if (0 === styleString.length) {\n    return module$contents$goog$html$SafeStyle_SafeStyle.EMPTY;\n  }\n  (0,goog.asserts.assert)((0,goog.string.internal.endsWith)(styleString, \";\"), \"Last character of style string is not ';': \" + styleString);\n  (0,goog.asserts.assert)((0,goog.string.internal.contains)(styleString, \":\"), \"Style string must contain at least one ':', to specify a \\\"name: value\\\" pair: \" + styleString);\n  return module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(styleString);\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeStyleWrappedValue_;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeStyleWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.unwrap = function(safeStyle) {\n  if (safeStyle instanceof module$contents$goog$html$SafeStyle_SafeStyle && safeStyle.constructor === module$contents$goog$html$SafeStyle_SafeStyle) {\n    return safeStyle.privateDoNotAccessOrElseSafeStyleWrappedValue_;\n  }\n  (0,goog.asserts.fail)(\"expected object of type SafeStyle, got '\" + safeStyle + \"' of type \" + goog.typeOf(safeStyle));\n  return \"type_error:SafeStyle\";\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse = function(style) {\n  return new module$contents$goog$html$SafeStyle_SafeStyle(style, module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.create = function(map) {\n  var style = \"\", name;\n  for (name in map) {\n    if (Object.prototype.hasOwnProperty.call(map, name)) {\n      if (!/^[-_a-zA-Z0-9]+$/.test(name)) {\n        throw Error(\"Name allows only [-_a-zA-Z0-9], got: \" + name);\n      }\n      var value = map[name];\n      null != value && (value = Array.isArray(value) ? value.map(module$contents$goog$html$SafeStyle_sanitizePropertyValue).join(\" \") : module$contents$goog$html$SafeStyle_sanitizePropertyValue(value), style += name + \":\" + value + \";\");\n    }\n  }\n  return style ? module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style) : module$contents$goog$html$SafeStyle_SafeStyle.EMPTY;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.concat = function(var_args) {\n  var style = \"\", addArgument = function(argument) {\n    Array.isArray(argument) ? argument.forEach(addArgument) : style += module$contents$goog$html$SafeStyle_SafeStyle.unwrap(argument);\n  };\n  Array.prototype.forEach.call(arguments, addArgument);\n  return style ? module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style) : module$contents$goog$html$SafeStyle_SafeStyle.EMPTY;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.EMPTY = module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(\"\");\nmodule$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING = \"zClosurez\";\nfunction module$contents$goog$html$SafeStyle_sanitizePropertyValue(value) {\n  if (value instanceof goog.html.SafeUrl) {\n    return 'url(\"' + goog.html.SafeUrl.unwrap(value).replace(/</g, \"%3c\").replace(/[\\\\\"]/g, \"\\\\$&\") + '\")';\n  }\n  var result = value instanceof goog.string.Const ? goog.string.Const.unwrap(value) : module$contents$goog$html$SafeStyle_sanitizePropertyValueString(String(value));\n  if (/[{;}]/.test(result)) {\n    throw new goog.asserts.AssertionError(\"Value does not allow [{;}], got: %s.\", [result]);\n  }\n  return result;\n}\nfunction module$contents$goog$html$SafeStyle_sanitizePropertyValueString(value) {\n  var valueWithoutFunctions = value.replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE, \"$1\").replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE, \"$1\").replace(module$contents$goog$html$SafeStyle_URL_RE, \"url\");\n  if (module$contents$goog$html$SafeStyle_VALUE_RE.test(valueWithoutFunctions)) {\n    if (module$contents$goog$html$SafeStyle_COMMENT_RE.test(value)) {\n      return (0,goog.asserts.fail)(\"String value disallows comments, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n    }\n    if (!module$contents$goog$html$SafeStyle_hasBalancedQuotes(value)) {\n      return (0,goog.asserts.fail)(\"String value requires balanced quotes, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n    }\n    if (!module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(value)) {\n      return (0,goog.asserts.fail)(\"String value requires balanced square brackets and one identifier per pair of brackets, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n    }\n  } else {\n    return (0,goog.asserts.fail)(\"String value allows only [-,.\\\"'%_!#/ a-zA-Z0-9\\\\[\\\\]] and simple functions, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n  }\n  return module$contents$goog$html$SafeStyle_sanitizeUrl(value);\n}\nfunction module$contents$goog$html$SafeStyle_hasBalancedQuotes(value) {\n  for (var outsideSingle = !0, outsideDouble = !0, i = 0; i < value.length; i++) {\n    var c = value.charAt(i);\n    \"'\" == c && outsideDouble ? outsideSingle = !outsideSingle : '\"' == c && outsideSingle && (outsideDouble = !outsideDouble);\n  }\n  return outsideSingle && outsideDouble;\n}\nfunction module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(value) {\n  for (var outside = !0, tokenRe = /^[-_a-zA-Z0-9]$/, i = 0; i < value.length; i++) {\n    var c = value.charAt(i);\n    if (\"]\" == c) {\n      if (outside) {\n        return !1;\n      }\n      outside = !0;\n    } else {\n      if (\"[\" == c) {\n        if (!outside) {\n          return !1;\n        }\n        outside = !1;\n      } else {\n        if (!outside && !tokenRe.test(c)) {\n          return !1;\n        }\n      }\n    }\n  }\n  return outside;\n}\nvar module$contents$goog$html$SafeStyle_VALUE_RE = RegExp(\"^[-,.\\\"'%_!#/ a-zA-Z0-9\\\\[\\\\]]+$\"), module$contents$goog$html$SafeStyle_URL_RE = RegExp(\"\\\\b(url\\\\([ \\t\\n]*)('[ -&(-\\\\[\\\\]-~]*'|\\\"[ !#-\\\\[\\\\]-~]*\\\"|[!#-&*-\\\\[\\\\]-~]*)([ \\t\\n]*\\\\))\", \"g\"), module$contents$goog$html$SafeStyle_FUNCTIONS_RE = RegExp(\"\\\\b(calc|cubic-bezier|fit-content|hsl|hsla|linear-gradient|matrix|minmax|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?|var)\\\\([-+*/0-9a-zA-Z.%#\\\\[\\\\], ]+\\\\)\", \"g\"), module$contents$goog$html$SafeStyle_COMMENT_RE = \n/\\/\\*/;\nfunction module$contents$goog$html$SafeStyle_sanitizeUrl(value) {\n  return value.replace(module$contents$goog$html$SafeStyle_URL_RE, function(match$jscomp$0, before, url, after) {\n    var quote = \"\";\n    url = url.replace(/^(['\"])(.*)\\1$/, function(match, start, inside) {\n      quote = start;\n      return inside;\n    });\n    var sanitized = goog.html.SafeUrl.sanitize(url).getTypedStringValue();\n    return before + quote + sanitized + quote + after;\n  });\n}\ngoog.html.SafeStyle = module$contents$goog$html$SafeStyle_SafeStyle;\nvar module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeStyleSheet_SafeStyleSheet = function(value, token) {\n  this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = token === module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.implementsGoogStringTypedString = !0;\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createRule = function(selector, style) {\n  if ((0,goog.string.internal.contains)(selector, \"<\")) {\n    throw Error(\"Selector does not allow '<', got: \" + selector);\n  }\n  var selectorToCheck = selector.replace(/('|\")((?!\\1)[^\\r\\n\\f\\\\]|\\\\[\\s\\S])*\\1/g, \"\");\n  if (!/^[-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|]+$/.test(selectorToCheck)) {\n    throw Error(\"Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\\\]()=^$|] and strings, got: \" + selector);\n  }\n  if (!module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_(selectorToCheck)) {\n    throw Error(\"() and [] in selector must be balanced, got: \" + selector);\n  }\n  style instanceof module$contents$goog$html$SafeStyle_SafeStyle || (style = module$contents$goog$html$SafeStyle_SafeStyle.create(style));\n  var styleSheet = selector + \"{\" + module$contents$goog$html$SafeStyle_SafeStyle.unwrap(style).replace(/</g, \"\\\\3C \") + \"}\";\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheet);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_ = function(s) {\n  for (var brackets = {\"(\":\")\", \"[\":\"]\"}, expectedBrackets = [], i = 0; i < s.length; i++) {\n    var ch = s[i];\n    if (brackets[ch]) {\n      expectedBrackets.push(brackets[ch]);\n    } else {\n      if (module$contents$goog$object_contains(brackets, ch) && expectedBrackets.pop() != ch) {\n        return !1;\n      }\n    }\n  }\n  return 0 == expectedBrackets.length;\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.concat = function(var_args) {\n  var result = \"\", addArgument = function(argument) {\n    Array.isArray(argument) ? argument.forEach(addArgument) : result += module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(argument);\n  };\n  Array.prototype.forEach.call(arguments, addArgument);\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(result);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.fromConstant = function(styleSheet) {\n  var styleSheetString = goog.string.Const.unwrap(styleSheet);\n  if (0 === styleSheetString.length) {\n    return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY;\n  }\n  (0,goog.asserts.assert)(!(0,goog.string.internal.contains)(styleSheetString, \"<\"), \"Forbidden '<' character in style sheet string: \" + styleSheetString);\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheetString);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap = function(safeStyleSheet) {\n  if (safeStyleSheet instanceof module$contents$goog$html$SafeStyleSheet_SafeStyleSheet && safeStyleSheet.constructor === module$contents$goog$html$SafeStyleSheet_SafeStyleSheet) {\n    return safeStyleSheet.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;\n  }\n  (0,goog.asserts.fail)(\"expected object of type SafeStyleSheet, got '\" + safeStyleSheet + \"' of type \" + goog.typeOf(safeStyleSheet));\n  return \"type_error:SafeStyleSheet\";\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse = function(styleSheet) {\n  return new module$contents$goog$html$SafeStyleSheet_SafeStyleSheet(styleSheet, module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY = module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(\"\");\ngoog.html.SafeStyleSheet = module$contents$goog$html$SafeStyleSheet_SafeStyleSheet;\nvar module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeHtml_SafeHtml = function(value, dir, token) {\n  this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = token === module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.dir_ = dir;\n  this.implementsGoogStringTypedString = this.implementsGoogI18nBidiDirectionalString = !0;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.prototype.getDirection = function() {\n  return this.dir_;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.unwrap = function(safeHtml) {\n  return module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(safeHtml).toString();\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML = function(safeHtml) {\n  if (safeHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml && safeHtml.constructor === module$contents$goog$html$SafeHtml_SafeHtml) {\n    return safeHtml.privateDoNotAccessOrElseSafeHtmlWrappedValue_;\n  }\n  goog.asserts.fail(\"expected object of type SafeHtml, got '\" + safeHtml + \"' of type \" + goog.typeOf(safeHtml));\n  return \"type_error:SafeHtml\";\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.htmlEscape = function(textOrHtml) {\n  if (textOrHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml) {\n    return textOrHtml;\n  }\n  var textIsObject = \"object\" == typeof textOrHtml, dir = null;\n  textIsObject && textOrHtml.implementsGoogI18nBidiDirectionalString && (dir = textOrHtml.getDirection());\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(textIsObject && textOrHtml.implementsGoogStringTypedString ? textOrHtml.getTypedStringValue() : String(textOrHtml)), dir);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlines = function(textOrHtml) {\n  if (textOrHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml) {\n    return textOrHtml;\n  }\n  var html = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(textOrHtml);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html)), html.getDirection());\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlinesAndSpaces = function(textOrHtml) {\n  if (textOrHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml) {\n    return textOrHtml;\n  }\n  var html = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(textOrHtml);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html)), html.getDirection());\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.comment = function(text) {\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"\\x3c!--\" + goog.string.internal.htmlEscape(text) + \"--\\x3e\", null);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.create = function(tagName, attributes, content) {\n  module$contents$goog$html$SafeHtml_SafeHtml.verifyTagName(String(tagName));\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(tagName), attributes, content);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.verifyTagName = function(tagName) {\n  if (!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(tagName)) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? \"Invalid tag name <\" + tagName + \">.\" : \"\");\n  }\n  if (tagName.toUpperCase() in module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? \"Tag name <\" + tagName + \"> is not allowed for SafeHtml.\" : \"\");\n  }\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createIframe = function(src, srcdoc, attributes, content) {\n  src && goog.html.TrustedResourceUrl.unwrap(src);\n  var fixedAttributes = {};\n  fixedAttributes.src = src || null;\n  fixedAttributes.srcdoc = srcdoc && module$contents$goog$html$SafeHtml_SafeHtml.unwrap(srcdoc);\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(fixedAttributes, {sandbox:\"\"}, attributes);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\", combinedAttrs, content);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createSandboxIframe = function(src, srcdoc, attributes, content) {\n  if (!module$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe()) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? \"The browser does not support sandboxed iframes.\" : \"\");\n  }\n  var fixedAttributes = {};\n  fixedAttributes.src = src ? goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(src)) : null;\n  fixedAttributes.srcdoc = srcdoc || null;\n  fixedAttributes.sandbox = \"\";\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(fixedAttributes, {}, attributes);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\", combinedAttrs, content);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe = function() {\n  return goog.global.HTMLIFrameElement && \"sandbox\" in goog.global.HTMLIFrameElement.prototype;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createScriptSrc = function(src, attributes) {\n  goog.html.TrustedResourceUrl.unwrap(src);\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({src:src}, {}, attributes);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\", combinedAttrs);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createScript = function(script, attributes) {\n  for (var attr in attributes) {\n    if (Object.prototype.hasOwnProperty.call(attributes, attr)) {\n      var attrLower = attr.toLowerCase();\n      if (\"language\" == attrLower || \"src\" == attrLower || \"text\" == attrLower || \"type\" == attrLower) {\n        throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Cannot set \"' + attrLower + '\" attribute' : \"\");\n      }\n    }\n  }\n  var content = \"\";\n  script = module$contents$goog$array_concat(script);\n  for (var i = 0; i < script.length; i++) {\n    content += module$contents$goog$html$SafeScript_SafeScript.unwrap(script[i]);\n  }\n  var htmlContent = module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content, goog.i18n.bidi.Dir.NEUTRAL);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\", attributes, htmlContent);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createStyle = function(styleSheet, attributes) {\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({type:\"text/css\"}, {}, attributes), content = \"\";\n  styleSheet = module$contents$goog$array_concat(styleSheet);\n  for (var i = 0; i < styleSheet.length; i++) {\n    content += module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(styleSheet[i]);\n  }\n  var htmlContent = module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content, goog.i18n.bidi.Dir.NEUTRAL);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"style\", combinedAttrs, htmlContent);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createMetaRefresh = function(url, secs) {\n  var unwrappedUrl = goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(url));\n  (module$contents$goog$labs$userAgent$browser_matchIE() || module$contents$goog$labs$userAgent$browser_matchEdgeHtml()) && goog.string.internal.contains(unwrappedUrl, \";\") && (unwrappedUrl = \"'\" + unwrappedUrl.replace(/'/g, \"%27\") + \"'\");\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"meta\", {\"http-equiv\":\"refresh\", content:(secs || 0) + \"; url=\" + unwrappedUrl,});\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createWithDir = function(dir, tagName, attributes, content) {\n  var html = module$contents$goog$html$SafeHtml_SafeHtml.create(tagName, attributes, content);\n  html.dir_ = dir;\n  return html;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.join = function(separator, parts) {\n  var separatorHtml = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(separator), dir = separatorHtml.getDirection(), content = [], addArgument = function(argument) {\n    if (Array.isArray(argument)) {\n      argument.forEach(addArgument);\n    } else {\n      var html = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(argument);\n      content.push(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html));\n      var htmlDir = html.getDirection();\n      dir == goog.i18n.bidi.Dir.NEUTRAL ? dir = htmlDir : htmlDir != goog.i18n.bidi.Dir.NEUTRAL && dir != htmlDir && (dir = null);\n    }\n  };\n  parts.forEach(addArgument);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content.join(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(separatorHtml)), dir);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.concat = function(var_args) {\n  return module$contents$goog$html$SafeHtml_SafeHtml.join(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY, Array.prototype.slice.call(arguments));\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.concatWithDir = function(dir, var_args) {\n  var html = module$contents$goog$html$SafeHtml_SafeHtml.concat(Array.prototype.slice.call(arguments, 1));\n  html.dir_ = dir;\n  return html;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse = function(html, dir) {\n  var policy = goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(), trustedHtml = policy ? policy.createHTML(html) : html;\n  return new module$contents$goog$html$SafeHtml_SafeHtml(trustedHtml, dir, module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse = function(tagName, attributes, content) {\n  var dir = null;\n  var result = \"<\" + tagName + module$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes(tagName, attributes);\n  null == content ? content = [] : Array.isArray(content) || (content = [content]);\n  if (goog.dom.tags.isVoidTag(tagName.toLowerCase())) {\n    goog.asserts.assert(!content.length, \"Void tag <\" + tagName + \"> does not allow content.\"), result += \">\";\n  } else {\n    var html = module$contents$goog$html$SafeHtml_SafeHtml.concat(content);\n    result += \">\" + module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html) + \"</\" + tagName + \">\";\n    dir = html.getDirection();\n  }\n  var dirAttribute = attributes && attributes.dir;\n  dirAttribute && (dir = /^(ltr|rtl|auto)$/i.test(dirAttribute) ? goog.i18n.bidi.Dir.NEUTRAL : null);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(result, dir);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes = function(tagName, attributes) {\n  var result = \"\";\n  if (attributes) {\n    for (var name in attributes) {\n      if (Object.prototype.hasOwnProperty.call(attributes, name)) {\n        if (!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(name)) {\n          throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Invalid attribute name \"' + name + '\".' : \"\");\n        }\n        var value = attributes[name];\n        null != value && (result += \" \" + module$contents$goog$html$SafeHtml_getAttrNameAndValue(tagName, name, value));\n      }\n    }\n  }\n  return result;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.combineAttributes = function(fixedAttributes, defaultAttributes, attributes) {\n  var combinedAttributes = {}, name;\n  for (name in fixedAttributes) {\n    Object.prototype.hasOwnProperty.call(fixedAttributes, name) && (goog.asserts.assert(name.toLowerCase() == name, \"Must be lower case\"), combinedAttributes[name] = fixedAttributes[name]);\n  }\n  for (var name$48 in defaultAttributes) {\n    Object.prototype.hasOwnProperty.call(defaultAttributes, name$48) && (goog.asserts.assert(name$48.toLowerCase() == name$48, \"Must be lower case\"), combinedAttributes[name$48] = defaultAttributes[name$48]);\n  }\n  if (attributes) {\n    for (var name$49 in attributes) {\n      if (Object.prototype.hasOwnProperty.call(attributes, name$49)) {\n        var nameLower = name$49.toLowerCase();\n        if (nameLower in fixedAttributes) {\n          throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Cannot override \"' + nameLower + '\" attribute, got \"' + name$49 + '\" with value \"' + attributes[name$49] + '\"' : \"\");\n        }\n        nameLower in defaultAttributes && delete combinedAttributes[nameLower];\n        combinedAttributes[name$49] = attributes[name$49];\n      }\n    }\n  }\n  return combinedAttributes;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES = goog.DEBUG;\nmodule$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE = !0;\nmodule$contents$goog$html$SafeHtml_SafeHtml.from = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape;\nvar module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG = /^[a-zA-Z0-9-]+$/, module$contents$goog$html$SafeHtml_URL_ATTRIBUTES = {action:!0, cite:!0, data:!0, formaction:!0, href:!0, manifest:!0, poster:!0, src:!0}, module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES = module$contents$goog$object_createSet(goog.dom.TagName.APPLET, goog.dom.TagName.BASE, goog.dom.TagName.EMBED, goog.dom.TagName.IFRAME, goog.dom.TagName.LINK, goog.dom.TagName.MATH, goog.dom.TagName.META, goog.dom.TagName.OBJECT, \ngoog.dom.TagName.SCRIPT, goog.dom.TagName.STYLE, goog.dom.TagName.SVG, goog.dom.TagName.TEMPLATE);\nfunction module$contents$goog$html$SafeHtml_getAttrNameAndValue(tagName, name, value) {\n  if (value instanceof goog.string.Const) {\n    value = goog.string.Const.unwrap(value);\n  } else {\n    if (\"style\" == name.toLowerCase()) {\n      if (module$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE) {\n        value = module$contents$goog$html$SafeHtml_getStyleValue(value);\n      } else {\n        throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Attribute \"style\" not supported.' : \"\");\n      }\n    } else {\n      if (/^on/i.test(name)) {\n        throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Attribute \"' + name + '\" requires goog.string.Const value, \"' + value + '\" given.' : \"\");\n      }\n      if (name.toLowerCase() in module$contents$goog$html$SafeHtml_URL_ATTRIBUTES) {\n        if (value instanceof goog.html.TrustedResourceUrl) {\n          value = goog.html.TrustedResourceUrl.unwrap(value);\n        } else {\n          if (value instanceof goog.html.SafeUrl) {\n            value = goog.html.SafeUrl.unwrap(value);\n          } else {\n            if (\"string\" === typeof value) {\n              value = goog.html.SafeUrl.sanitize(value).getTypedStringValue();\n            } else {\n              throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Attribute \"' + name + '\" on tag \"' + tagName + '\" requires goog.html.SafeUrl, goog.string.Const, or string, value \"' + value + '\" given.' : \"\");\n            }\n          }\n        }\n      }\n    }\n  }\n  value.implementsGoogStringTypedString && (value = value.getTypedStringValue());\n  goog.asserts.assert(\"string\" === typeof value || \"number\" === typeof value, \"String or number value expected, got \" + typeof value + \" with value: \" + value);\n  return name + '=\"' + goog.string.internal.htmlEscape(String(value)) + '\"';\n}\nfunction module$contents$goog$html$SafeHtml_getStyleValue(value) {\n  if (!goog.isObject(value)) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'The \"style\" attribute requires goog.html.SafeStyle or map of style properties, ' + typeof value + \" given: \" + value : \"\");\n  }\n  value instanceof module$contents$goog$html$SafeStyle_SafeStyle || (value = module$contents$goog$html$SafeStyle_SafeStyle.create(value));\n  return module$contents$goog$html$SafeStyle_SafeStyle.unwrap(value);\n}\nmodule$contents$goog$html$SafeHtml_SafeHtml.DOCTYPE_HTML = function() {\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<!DOCTYPE html>\", goog.i18n.bidi.Dir.NEUTRAL);\n}();\nmodule$contents$goog$html$SafeHtml_SafeHtml.EMPTY = new module$contents$goog$html$SafeHtml_SafeHtml(goog.global.trustedTypes && goog.global.trustedTypes.emptyHTML || \"\", goog.i18n.bidi.Dir.NEUTRAL, module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE);\nmodule$contents$goog$html$SafeHtml_SafeHtml.BR = function() {\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<br>\", goog.i18n.bidi.Dir.NEUTRAL);\n}();\ngoog.html.SafeHtml = module$contents$goog$html$SafeHtml_SafeHtml;\ngoog.html.uncheckedconversions = {};\ngoog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract = function(justification, html, opt_dir) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(html, opt_dir || null);\n};\ngoog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract = function(justification, script) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(script);\n};\ngoog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract = function(justification, style) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style);\n};\ngoog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract = function(justification, styleSheet) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheet);\n};\ngoog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract = function(justification, url) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract = function(justification, url) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.dom.safe = {};\ngoog.dom.safe.InsertAdjacentHtmlPosition = {AFTERBEGIN:\"afterbegin\", AFTEREND:\"afterend\", BEFOREBEGIN:\"beforebegin\", BEFOREEND:\"beforeend\"};\ngoog.dom.safe.insertAdjacentHtml = function(node, position, html) {\n  node.insertAdjacentHTML(position, module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html));\n};\ngoog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_ = {MATH:!0, SCRIPT:!0, STYLE:!0, SVG:!0, TEMPLATE:!0};\ngoog.dom.safe.isInnerHtmlCleanupRecursive_ = goog.functions.cacheReturnValue(function() {\n  if (goog.DEBUG && \"undefined\" === typeof document) {\n    return !1;\n  }\n  var div = document.createElement(\"div\"), childDiv = document.createElement(\"div\");\n  childDiv.appendChild(document.createElement(\"div\"));\n  div.appendChild(childDiv);\n  if (goog.DEBUG && !div.firstChild) {\n    return !1;\n  }\n  var innerChild = div.firstChild.firstChild;\n  div.innerHTML = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY);\n  return !innerChild.parentElement;\n});\ngoog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse = function(elem, html) {\n  if (goog.dom.safe.isInnerHtmlCleanupRecursive_()) {\n    for (; elem.lastChild;) {\n      elem.removeChild(elem.lastChild);\n    }\n  }\n  elem.innerHTML = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html);\n};\ngoog.dom.safe.setInnerHtml = function(elem, html) {\n  if (goog.asserts.ENABLE_ASSERTS && elem.tagName && goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[elem.tagName.toUpperCase()]) {\n    throw Error(\"goog.dom.safe.setInnerHtml cannot be used to set content of \" + elem.tagName + \".\");\n  }\n  goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(elem, html);\n};\ngoog.dom.safe.setInnerHtmlFromConstant = function(element, constHtml) {\n  goog.dom.safe.setInnerHtml(element, goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Constant HTML to be immediatelly used.\"), goog.string.Const.unwrap(constHtml)));\n};\ngoog.dom.safe.setOuterHtml = function(elem, html) {\n  elem.outerHTML = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html);\n};\ngoog.dom.safe.setFormElementAction = function(form, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  goog.dom.asserts.assertIsHTMLFormElement(form).action = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setButtonFormAction = function(button, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  goog.dom.asserts.assertIsHTMLButtonElement(button).formAction = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setInputFormAction = function(input, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  goog.dom.asserts.assertIsHTMLInputElement(input).formAction = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setStyle = function(elem, style) {\n  elem.style.cssText = module$contents$goog$html$SafeStyle_SafeStyle.unwrap(style);\n};\ngoog.dom.safe.documentWrite = function(doc, html) {\n  doc.write(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html));\n};\ngoog.dom.safe.setAnchorHref = function(anchor, url) {\n  goog.dom.asserts.assertIsHTMLAnchorElement(anchor);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  anchor.href = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setImageSrc = function(imageElement, url) {\n  goog.dom.asserts.assertIsHTMLImageElement(imageElement);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url, /^data:image\\//i.test(url));\n  imageElement.src = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setAudioSrc = function(audioElement, url) {\n  goog.dom.asserts.assertIsHTMLAudioElement(audioElement);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url, /^data:audio\\//i.test(url));\n  audioElement.src = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setVideoSrc = function(videoElement, url) {\n  goog.dom.asserts.assertIsHTMLVideoElement(videoElement);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url, /^data:video\\//i.test(url));\n  videoElement.src = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setEmbedSrc = function(embed, url) {\n  goog.dom.asserts.assertIsHTMLEmbedElement(embed);\n  embed.src = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(url);\n};\ngoog.dom.safe.setFrameSrc = function(frame, url) {\n  goog.dom.asserts.assertIsHTMLFrameElement(frame);\n  frame.src = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setIframeSrc = function(iframe, url) {\n  goog.dom.asserts.assertIsHTMLIFrameElement(iframe);\n  iframe.src = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setIframeSrcdoc = function(iframe, html) {\n  goog.dom.asserts.assertIsHTMLIFrameElement(iframe);\n  iframe.srcdoc = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html);\n};\ngoog.dom.safe.setLinkHrefAndRel = function(link, url, rel) {\n  goog.dom.asserts.assertIsHTMLLinkElement(link);\n  link.rel = rel;\n  if (goog.string.internal.caseInsensitiveContains(rel, \"stylesheet\")) {\n    goog.asserts.assert(url instanceof goog.html.TrustedResourceUrl, 'URL must be TrustedResourceUrl because \"rel\" contains \"stylesheet\"');\n    link.href = goog.html.TrustedResourceUrl.unwrap(url);\n    var nonce = goog.dom.safe.getStyleNonce(link.ownerDocument && link.ownerDocument.defaultView);\n    nonce && link.setAttribute(\"nonce\", nonce);\n  } else {\n    link.href = url instanceof goog.html.TrustedResourceUrl ? goog.html.TrustedResourceUrl.unwrap(url) : url instanceof goog.html.SafeUrl ? goog.html.SafeUrl.unwrap(url) : goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(url));\n  }\n};\ngoog.dom.safe.setObjectData = function(object, url) {\n  goog.dom.asserts.assertIsHTMLObjectElement(object);\n  object.data = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(url);\n};\ngoog.dom.safe.setScriptSrc = function(script, url) {\n  goog.dom.asserts.assertIsHTMLScriptElement(script);\n  script.src = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(url);\n  goog.dom.safe.setNonceForScriptElement_(script);\n};\ngoog.dom.safe.setScriptContent = function(script, content) {\n  goog.dom.asserts.assertIsHTMLScriptElement(script);\n  script.textContent = module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(content);\n  goog.dom.safe.setNonceForScriptElement_(script);\n};\ngoog.dom.safe.setNonceForScriptElement_ = function(script) {\n  var nonce = goog.dom.safe.getScriptNonce(script.ownerDocument && script.ownerDocument.defaultView);\n  nonce && script.setAttribute(\"nonce\", nonce);\n};\ngoog.dom.safe.setLocationHref = function(loc, url) {\n  goog.dom.asserts.assertIsLocation(loc);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  loc.href = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.assignLocation = function(loc, url) {\n  goog.dom.asserts.assertIsLocation(loc);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  loc.assign(goog.html.SafeUrl.unwrap(safeUrl));\n};\ngoog.dom.safe.replaceLocation = function(loc, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  loc.replace(goog.html.SafeUrl.unwrap(safeUrl));\n};\ngoog.dom.safe.openInWindow = function(url, opt_openerWin, opt_name, opt_specs) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  var win = opt_openerWin || goog.global, name = opt_name instanceof goog.string.Const ? goog.string.Const.unwrap(opt_name) : opt_name || \"\";\n  return void 0 !== opt_specs ? win.open(goog.html.SafeUrl.unwrap(safeUrl), name, opt_specs) : win.open(goog.html.SafeUrl.unwrap(safeUrl), name);\n};\ngoog.dom.safe.parseFromStringHtml = function(parser, html) {\n  return goog.dom.safe.parseFromString(parser, html, \"text/html\");\n};\ngoog.dom.safe.parseFromString = function(parser, content, type) {\n  return parser.parseFromString(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(content), type);\n};\ngoog.dom.safe.createImageFromBlob = function(blob) {\n  if (!/^image\\/.*/g.test(blob.type)) {\n    throw Error(\"goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.\");\n  }\n  var objectUrl = goog.global.URL.createObjectURL(blob), image = new goog.global.Image();\n  image.onload = function() {\n    goog.global.URL.revokeObjectURL(objectUrl);\n  };\n  goog.dom.safe.setImageSrc(image, goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Image blob URL.\"), objectUrl));\n  return image;\n};\ngoog.dom.safe.createContextualFragment = function(range, html) {\n  return range.createContextualFragment(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html));\n};\ngoog.dom.safe.getScriptNonce = function(opt_window) {\n  return goog.dom.safe.getNonce_(\"script[nonce]\", opt_window);\n};\ngoog.dom.safe.getStyleNonce = function(opt_window) {\n  return goog.dom.safe.getNonce_('style[nonce],link[rel=\"stylesheet\"][nonce]', opt_window);\n};\ngoog.dom.safe.NONCE_PATTERN_ = /^[\\w+/_-]+[=]{0,2}$/;\ngoog.dom.safe.getNonce_ = function(selector, win) {\n  var doc = (win || goog.global).document;\n  if (!doc.querySelector) {\n    return \"\";\n  }\n  var el = doc.querySelector(selector);\n  if (el) {\n    var nonce = el.nonce || el.getAttribute(\"nonce\");\n    if (nonce && goog.dom.safe.NONCE_PATTERN_.test(nonce)) {\n      return nonce;\n    }\n  }\n  return \"\";\n};\ngoog.string.DETECT_DOUBLE_ESCAPING = !1;\ngoog.string.FORCE_NON_DOM_HTML_UNESCAPING = !1;\ngoog.string.Unicode = {NBSP:\"\\u00a0\"};\ngoog.string.startsWith = goog.string.internal.startsWith;\ngoog.string.endsWith = goog.string.internal.endsWith;\ngoog.string.caseInsensitiveStartsWith = goog.string.internal.caseInsensitiveStartsWith;\ngoog.string.caseInsensitiveEndsWith = goog.string.internal.caseInsensitiveEndsWith;\ngoog.string.caseInsensitiveEquals = goog.string.internal.caseInsensitiveEquals;\ngoog.string.subs = function(str, var_args) {\n  for (var splitParts = str.split(\"%s\"), returnString = \"\", subsArguments = Array.prototype.slice.call(arguments, 1); subsArguments.length && 1 < splitParts.length;) {\n    returnString += splitParts.shift() + subsArguments.shift();\n  }\n  return returnString + splitParts.join(\"%s\");\n};\ngoog.string.collapseWhitespace = function(str) {\n  return str.replace(/[\\s\\xa0]+/g, \" \").replace(/^\\s+|\\s+$/g, \"\");\n};\ngoog.string.isEmptyOrWhitespace = goog.string.internal.isEmptyOrWhitespace;\ngoog.string.isEmptyString = function(str) {\n  return 0 == str.length;\n};\ngoog.string.isEmpty = goog.string.isEmptyOrWhitespace;\ngoog.string.isEmptyOrWhitespaceSafe = function(str) {\n  return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(str));\n};\ngoog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;\ngoog.string.isBreakingWhitespace = function(str) {\n  return !/[^\\t\\n\\r ]/.test(str);\n};\ngoog.string.isAlpha = function(str) {\n  return !/[^a-zA-Z]/.test(str);\n};\ngoog.string.isNumeric = function(str) {\n  return !/[^0-9]/.test(str);\n};\ngoog.string.isAlphaNumeric = function(str) {\n  return !/[^a-zA-Z0-9]/.test(str);\n};\ngoog.string.isSpace = function(ch) {\n  return \" \" == ch;\n};\ngoog.string.isUnicodeChar = function(ch) {\n  return 1 == ch.length && \" \" <= ch && \"~\" >= ch || \"\\u0080\" <= ch && \"\\ufffd\" >= ch;\n};\ngoog.string.stripNewlines = function(str) {\n  return str.replace(/(\\r\\n|\\r|\\n)+/g, \" \");\n};\ngoog.string.canonicalizeNewlines = function(str) {\n  return str.replace(/(\\r\\n|\\r|\\n)/g, \"\\n\");\n};\ngoog.string.normalizeWhitespace = function(str) {\n  return str.replace(/\\xa0|\\s/g, \" \");\n};\ngoog.string.normalizeSpaces = function(str) {\n  return str.replace(/\\xa0|[ \\t]+/g, \" \");\n};\ngoog.string.collapseBreakingSpaces = function(str) {\n  return str.replace(/[\\t\\r\\n ]+/g, \" \").replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, \"\");\n};\ngoog.string.trim = goog.string.internal.trim;\ngoog.string.trimLeft = function(str) {\n  return str.replace(/^[\\s\\xa0]+/, \"\");\n};\ngoog.string.trimRight = function(str) {\n  return str.replace(/[\\s\\xa0]+$/, \"\");\n};\ngoog.string.caseInsensitiveCompare = goog.string.internal.caseInsensitiveCompare;\ngoog.string.numberAwareCompare_ = function(str1, str2, tokenizerRegExp) {\n  if (str1 == str2) {\n    return 0;\n  }\n  if (!str1) {\n    return -1;\n  }\n  if (!str2) {\n    return 1;\n  }\n  for (var tokens1 = str1.toLowerCase().match(tokenizerRegExp), tokens2 = str2.toLowerCase().match(tokenizerRegExp), count = Math.min(tokens1.length, tokens2.length), i = 0; i < count; i++) {\n    var a = tokens1[i], b = tokens2[i];\n    if (a != b) {\n      var num1 = parseInt(a, 10);\n      if (!isNaN(num1)) {\n        var num2 = parseInt(b, 10);\n        if (!isNaN(num2) && num1 - num2) {\n          return num1 - num2;\n        }\n      }\n      return a < b ? -1 : 1;\n    }\n  }\n  return tokens1.length != tokens2.length ? tokens1.length - tokens2.length : str1 < str2 ? -1 : 1;\n};\ngoog.string.intAwareCompare = function(str1, str2) {\n  return goog.string.numberAwareCompare_(str1, str2, /\\d+|\\D+/g);\n};\ngoog.string.floatAwareCompare = function(str1, str2) {\n  return goog.string.numberAwareCompare_(str1, str2, /\\d+|\\.\\d+|\\D+/g);\n};\ngoog.string.numerateCompare = goog.string.floatAwareCompare;\ngoog.string.urlEncode = function(str) {\n  return encodeURIComponent(String(str));\n};\ngoog.string.urlDecode = function(str) {\n  return decodeURIComponent(str.replace(/\\+/g, \" \"));\n};\ngoog.string.newLineToBr = goog.string.internal.newLineToBr;\ngoog.string.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n  str = goog.string.internal.htmlEscape(str, opt_isLikelyToContainHtmlChars);\n  goog.string.DETECT_DOUBLE_ESCAPING && (str = str.replace(goog.string.E_RE_, \"&#101;\"));\n  return str;\n};\ngoog.string.E_RE_ = /e/g;\ngoog.string.unescapeEntities = function(str) {\n  return goog.string.contains(str, \"&\") ? !goog.string.FORCE_NON_DOM_HTML_UNESCAPING && \"document\" in goog.global ? goog.string.unescapeEntitiesUsingDom_(str) : goog.string.unescapePureXmlEntities_(str) : str;\n};\ngoog.string.unescapeEntitiesWithDocument = function(str, document) {\n  return goog.string.contains(str, \"&\") ? goog.string.unescapeEntitiesUsingDom_(str, document) : str;\n};\ngoog.string.unescapeEntitiesUsingDom_ = function(str, opt_document) {\n  var seen = {\"&amp;\":\"&\", \"&lt;\":\"<\", \"&gt;\":\">\", \"&quot;\":'\"'};\n  var div = opt_document ? opt_document.createElement(\"div\") : goog.global.document.createElement(\"div\");\n  return str.replace(goog.string.HTML_ENTITY_PATTERN_, function(s, entity) {\n    var value = seen[s];\n    if (value) {\n      return value;\n    }\n    if (\"#\" == entity.charAt(0)) {\n      var n = Number(\"0\" + entity.substr(1));\n      isNaN(n) || (value = String.fromCharCode(n));\n    }\n    value || (goog.dom.safe.setInnerHtml(div, goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Single HTML entity.\"), s + \" \")), value = div.firstChild.nodeValue.slice(0, -1));\n    return seen[s] = value;\n  });\n};\ngoog.string.unescapePureXmlEntities_ = function(str) {\n  return str.replace(/&([^;]+);/g, function(s, entity) {\n    switch(entity) {\n      case \"amp\":\n        return \"&\";\n      case \"lt\":\n        return \"<\";\n      case \"gt\":\n        return \">\";\n      case \"quot\":\n        return '\"';\n      default:\n        if (\"#\" == entity.charAt(0)) {\n          var n = Number(\"0\" + entity.substr(1));\n          if (!isNaN(n)) {\n            return String.fromCharCode(n);\n          }\n        }\n        return s;\n    }\n  });\n};\ngoog.string.HTML_ENTITY_PATTERN_ = /&([^;\\s<&]+);?/g;\ngoog.string.whitespaceEscape = function(str, opt_xml) {\n  return goog.string.newLineToBr(str.replace(/  /g, \" &#160;\"), opt_xml);\n};\ngoog.string.preserveSpaces = function(str) {\n  return str.replace(/(^|[\\n ]) /g, \"$1\" + goog.string.Unicode.NBSP);\n};\ngoog.string.stripQuotes = function(str, quoteChars) {\n  for (var length = quoteChars.length, i = 0; i < length; i++) {\n    var quoteChar = 1 == length ? quoteChars : quoteChars.charAt(i);\n    if (str.charAt(0) == quoteChar && str.charAt(str.length - 1) == quoteChar) {\n      return str.substring(1, str.length - 1);\n    }\n  }\n  return str;\n};\ngoog.string.truncate = function(str, chars, opt_protectEscapedCharacters) {\n  opt_protectEscapedCharacters && (str = goog.string.unescapeEntities(str));\n  str.length > chars && (str = str.substring(0, chars - 3) + \"...\");\n  opt_protectEscapedCharacters && (str = goog.string.htmlEscape(str));\n  return str;\n};\ngoog.string.truncateMiddle = function(str, chars, opt_protectEscapedCharacters, opt_trailingChars) {\n  opt_protectEscapedCharacters && (str = goog.string.unescapeEntities(str));\n  if (opt_trailingChars && str.length > chars) {\n    opt_trailingChars > chars && (opt_trailingChars = chars), str = str.substring(0, chars - opt_trailingChars) + \"...\" + str.substring(str.length - opt_trailingChars);\n  } else {\n    if (str.length > chars) {\n      var half = Math.floor(chars / 2);\n      str = str.substring(0, half + chars % 2) + \"...\" + str.substring(str.length - half);\n    }\n  }\n  opt_protectEscapedCharacters && (str = goog.string.htmlEscape(str));\n  return str;\n};\ngoog.string.specialEscapeChars_ = {\"\\x00\":\"\\\\0\", \"\\b\":\"\\\\b\", \"\\f\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\x0B\":\"\\\\x0B\", '\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"<\":\"\\\\u003C\"};\ngoog.string.jsEscapeCache_ = {\"'\":\"\\\\'\"};\ngoog.string.quote = function(s) {\n  s = String(s);\n  for (var sb = ['\"'], i = 0; i < s.length; i++) {\n    var ch = s.charAt(i), cc = ch.charCodeAt(0);\n    sb[i + 1] = goog.string.specialEscapeChars_[ch] || (31 < cc && 127 > cc ? ch : goog.string.escapeChar(ch));\n  }\n  sb.push('\"');\n  return sb.join(\"\");\n};\ngoog.string.escapeString = function(str) {\n  for (var sb = [], i = 0; i < str.length; i++) {\n    sb[i] = goog.string.escapeChar(str.charAt(i));\n  }\n  return sb.join(\"\");\n};\ngoog.string.escapeChar = function(c) {\n  if (c in goog.string.jsEscapeCache_) {\n    return goog.string.jsEscapeCache_[c];\n  }\n  if (c in goog.string.specialEscapeChars_) {\n    return goog.string.jsEscapeCache_[c] = goog.string.specialEscapeChars_[c];\n  }\n  var rv = c, cc = c.charCodeAt(0);\n  if (31 < cc && 127 > cc) {\n    rv = c;\n  } else {\n    if (256 > cc) {\n      if (rv = \"\\\\x\", 16 > cc || 256 < cc) {\n        rv += \"0\";\n      }\n    } else {\n      rv = \"\\\\u\", 4096 > cc && (rv += \"0\");\n    }\n    rv += cc.toString(16).toUpperCase();\n  }\n  return goog.string.jsEscapeCache_[c] = rv;\n};\ngoog.string.contains = goog.string.internal.contains;\ngoog.string.caseInsensitiveContains = goog.string.internal.caseInsensitiveContains;\ngoog.string.countOf = function(s, ss) {\n  return s && ss ? s.split(ss).length - 1 : 0;\n};\ngoog.string.removeAt = function(s, index, stringLength) {\n  var resultStr = s;\n  0 <= index && index < s.length && 0 < stringLength && (resultStr = s.substr(0, index) + s.substr(index + stringLength, s.length - index - stringLength));\n  return resultStr;\n};\ngoog.string.remove = function(str, substr) {\n  return str.replace(substr, \"\");\n};\ngoog.string.removeAll = function(s, ss) {\n  var re = new RegExp(goog.string.regExpEscape(ss), \"g\");\n  return s.replace(re, \"\");\n};\ngoog.string.replaceAll = function(s, ss, replacement) {\n  var re = new RegExp(goog.string.regExpEscape(ss), \"g\");\n  return s.replace(re, replacement.replace(/\\$/g, \"$$$$\"));\n};\ngoog.string.regExpEscape = function(s) {\n  return String(s).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, \"\\\\$1\").replace(/\\x08/g, \"\\\\x08\");\n};\ngoog.string.repeat = String.prototype.repeat ? function(string, length) {\n  return string.repeat(length);\n} : function(string, length) {\n  return Array(length + 1).join(string);\n};\ngoog.string.padNumber = function(num, length, opt_precision) {\n  if (!Number.isFinite(num)) {\n    return String(num);\n  }\n  var s = void 0 !== opt_precision ? num.toFixed(opt_precision) : String(num), index = s.indexOf(\".\");\n  -1 === index && (index = s.length);\n  var sign = \"-\" === s[0] ? \"-\" : \"\";\n  sign && (s = s.substring(1));\n  return sign + goog.string.repeat(\"0\", Math.max(0, length - index)) + s;\n};\ngoog.string.makeSafe = function(obj) {\n  return null == obj ? \"\" : String(obj);\n};\ngoog.string.buildString = function(var_args) {\n  return Array.prototype.join.call(arguments, \"\");\n};\ngoog.string.getRandomString = function() {\n  return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ goog.now()).toString(36);\n};\ngoog.string.compareVersions = goog.string.internal.compareVersions;\ngoog.string.hashCode = function(str) {\n  for (var result = 0, i = 0; i < str.length; ++i) {\n    result = 31 * result + str.charCodeAt(i) >>> 0;\n  }\n  return result;\n};\ngoog.string.uniqueStringCounter_ = 2147483648 * Math.random() | 0;\ngoog.string.createUniqueString = function() {\n  return \"goog_\" + goog.string.uniqueStringCounter_++;\n};\ngoog.string.toNumber = function(str) {\n  var num = Number(str);\n  return 0 == num && goog.string.isEmptyOrWhitespace(str) ? NaN : num;\n};\ngoog.string.isLowerCamelCase = function(str) {\n  return /^[a-z]+([A-Z][a-z]*)*$/.test(str);\n};\ngoog.string.isUpperCamelCase = function(str) {\n  return /^([A-Z][a-z]*)+$/.test(str);\n};\ngoog.string.toCamelCase = function(str) {\n  return String(str).replace(/\\-([a-z])/g, function(all, match) {\n    return match.toUpperCase();\n  });\n};\ngoog.string.toSelectorCase = function(str) {\n  return String(str).replace(/([A-Z])/g, \"-$1\").toLowerCase();\n};\ngoog.string.toTitleCase = function(str, opt_delimiters) {\n  var delimiters = \"string\" === typeof opt_delimiters ? goog.string.regExpEscape(opt_delimiters) : \"\\\\s\";\n  return str.replace(new RegExp(\"(^\" + (delimiters ? \"|[\" + delimiters + \"]+\" : \"\") + \")([a-z])\", \"g\"), function(all, p1, p2) {\n    return p1 + p2.toUpperCase();\n  });\n};\ngoog.string.capitalize = function(str) {\n  return String(str.charAt(0)).toUpperCase() + String(str.substr(1)).toLowerCase();\n};\ngoog.string.parseInt = function(value) {\n  isFinite(value) && (value = String(value));\n  return \"string\" === typeof value ? /^\\s*-?0x/i.test(value) ? parseInt(value, 16) : parseInt(value, 10) : NaN;\n};\ngoog.string.splitLimit = function(str, separator, limit) {\n  for (var parts = str.split(separator), returnVal = []; 0 < limit && parts.length;) {\n    returnVal.push(parts.shift()), limit--;\n  }\n  parts.length && returnVal.push(parts.join(separator));\n  return returnVal;\n};\ngoog.string.lastComponent = function(str, separators) {\n  if (separators) {\n    \"string\" == typeof separators && (separators = [separators]);\n  } else {\n    return str;\n  }\n  for (var lastSeparatorIndex = -1, i = 0; i < separators.length; i++) {\n    if (\"\" != separators[i]) {\n      var currentSeparatorIndex = str.lastIndexOf(separators[i]);\n      currentSeparatorIndex > lastSeparatorIndex && (lastSeparatorIndex = currentSeparatorIndex);\n    }\n  }\n  return -1 == lastSeparatorIndex ? str : str.slice(lastSeparatorIndex + 1);\n};\ngoog.string.editDistance = function(a, b) {\n  var v0 = [], v1 = [];\n  if (a == b) {\n    return 0;\n  }\n  if (!a.length || !b.length) {\n    return Math.max(a.length, b.length);\n  }\n  for (var i = 0; i < b.length + 1; i++) {\n    v0[i] = i;\n  }\n  for (var i$50 = 0; i$50 < a.length; i$50++) {\n    v1[0] = i$50 + 1;\n    for (var j = 0; j < b.length; j++) {\n      v1[j + 1] = Math.min(v1[j] + 1, v0[j + 1] + 1, v0[j] + Number(a[i$50] != b[j]));\n    }\n    for (var j$51 = 0; j$51 < v0.length; j$51++) {\n      v0[j$51] = v1[j$51];\n    }\n  }\n  return v1[b.length];\n};\ngoog.collections.maps = {};\nvar module$contents$goog$collections$maps_MapLike = function() {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.set = function(key, val) {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.get = function(key) {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.keys = function() {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.values = function() {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.has = function(key) {\n};\ngoog.collections.maps.MapLike = module$contents$goog$collections$maps_MapLike;\ngoog.collections.maps.setAll = function module$contents$goog$collections$maps_setAll(map, entries) {\n  if (entries) {\n    for (var $jscomp$iter$10 = $jscomp.makeIterator(entries), $jscomp$key$ = $jscomp$iter$10.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$10.next()) {\n      var $jscomp$destructuring$var13 = $jscomp.makeIterator($jscomp$key$.value), k = $jscomp$destructuring$var13.next().value, v = $jscomp$destructuring$var13.next().value;\n      map.set(k, v);\n    }\n  }\n};\ngoog.collections.maps.hasValue = function module$contents$goog$collections$maps_hasValue(map, val, valueEqualityFn) {\n  valueEqualityFn = void 0 === valueEqualityFn ? module$contents$goog$collections$maps_defaultEqualityFn : valueEqualityFn;\n  for (var $jscomp$iter$11 = $jscomp.makeIterator(map.values()), $jscomp$key$v = $jscomp$iter$11.next(); !$jscomp$key$v.done; $jscomp$key$v = $jscomp$iter$11.next()) {\n    if (valueEqualityFn($jscomp$key$v.value, val)) {\n      return !0;\n    }\n  }\n  return !1;\n};\nvar module$contents$goog$collections$maps_defaultEqualityFn = function(a, b) {\n  return a === b;\n};\ngoog.collections.maps.equals = function module$contents$goog$collections$maps_equals(map, otherMap, valueEqualityFn) {\n  valueEqualityFn = void 0 === valueEqualityFn ? module$contents$goog$collections$maps_defaultEqualityFn : valueEqualityFn;\n  if (map === otherMap) {\n    return !0;\n  }\n  if (map.size !== otherMap.size) {\n    return !1;\n  }\n  for (var $jscomp$iter$12 = $jscomp.makeIterator(map.keys()), $jscomp$key$key = $jscomp$iter$12.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$12.next()) {\n    var key = $jscomp$key$key.value;\n    if (!otherMap.has(key) || !valueEqualityFn(map.get(key), otherMap.get(key))) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.collections.maps.transpose = function module$contents$goog$collections$maps_transpose(map) {\n  for (var transposed = new Map(), $jscomp$iter$13 = $jscomp.makeIterator(map.keys()), $jscomp$key$key = $jscomp$iter$13.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$13.next()) {\n    var key = $jscomp$key$key.value, val = map.get(key);\n    transposed.set(val, key);\n  }\n  return transposed;\n};\ngoog.collections.maps.toObject = function module$contents$goog$collections$maps_toObject(map) {\n  for (var obj = {}, $jscomp$iter$14 = $jscomp.makeIterator(map.keys()), $jscomp$key$key = $jscomp$iter$14.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$14.next()) {\n    var key = $jscomp$key$key.value;\n    obj[key] = map.get(key);\n  }\n  return obj;\n};\ngoog.uri = {};\ngoog.uri.utils = {};\ngoog.uri.utils.QueryArray = {};\ngoog.uri.utils.QueryValue = {};\ngoog.uri.utils.CharCode_ = {AMPERSAND:38, EQUAL:61, HASH:35, QUESTION:63};\ngoog.uri.utils.buildFromEncodedParts = function(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_queryData, opt_fragment) {\n  var out = \"\";\n  opt_scheme && (out += opt_scheme + \":\");\n  opt_domain && (out += \"//\", opt_userInfo && (out += opt_userInfo + \"@\"), out += opt_domain, opt_port && (out += \":\" + opt_port));\n  opt_path && (out += opt_path);\n  opt_queryData && (out += \"?\" + opt_queryData);\n  opt_fragment && (out += \"#\" + opt_fragment);\n  return out;\n};\ngoog.uri.utils.splitRe_ = RegExp(\"^(?:([^:/?#.]+):)?(?://(?:([^\\\\\\\\/?#]*)@)?([^\\\\\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\\\\\/?#]|$))?([^?#]+)?(?:\\\\?([^#]*))?(?:#([\\\\s\\\\S]*))?$\");\ngoog.uri.utils.ComponentIndex = {SCHEME:1, USER_INFO:2, DOMAIN:3, PORT:4, PATH:5, QUERY_DATA:6, FRAGMENT:7};\ngoog.uri.utils.urlPackageSupportLoggingHandler_ = null;\ngoog.uri.utils.setUrlPackageSupportLoggingHandler = function(handler) {\n  goog.uri.utils.urlPackageSupportLoggingHandler_ = handler;\n};\ngoog.uri.utils.split = function(uri) {\n  var result = uri.match(goog.uri.utils.splitRe_);\n  goog.uri.utils.urlPackageSupportLoggingHandler_ && 0 <= [\"http\", \"https\", \"ws\", \"wss\", \"ftp\"].indexOf(result[goog.uri.utils.ComponentIndex.SCHEME]) && goog.uri.utils.urlPackageSupportLoggingHandler_(uri);\n  return result;\n};\ngoog.uri.utils.decodeIfPossible_ = function(uri, opt_preserveReserved) {\n  return uri ? opt_preserveReserved ? decodeURI(uri) : decodeURIComponent(uri) : uri;\n};\ngoog.uri.utils.getComponentByIndex_ = function(componentIndex, uri) {\n  return goog.uri.utils.split(uri)[componentIndex] || null;\n};\ngoog.uri.utils.getScheme = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME, uri);\n};\ngoog.uri.utils.getEffectiveScheme = function(uri) {\n  var scheme = goog.uri.utils.getScheme(uri);\n  if (!scheme && goog.global.self && goog.global.self.location) {\n    var protocol = goog.global.self.location.protocol;\n    scheme = protocol.substr(0, protocol.length - 1);\n  }\n  return scheme ? scheme.toLowerCase() : \"\";\n};\ngoog.uri.utils.getUserInfoEncoded = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO, uri);\n};\ngoog.uri.utils.getUserInfo = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(uri));\n};\ngoog.uri.utils.getDomainEncoded = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN, uri);\n};\ngoog.uri.utils.getDomain = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(uri), !0);\n};\ngoog.uri.utils.getPort = function(uri) {\n  return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT, uri)) || null;\n};\ngoog.uri.utils.getPathEncoded = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH, uri);\n};\ngoog.uri.utils.getPath = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(uri), !0);\n};\ngoog.uri.utils.getQueryData = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA, uri);\n};\ngoog.uri.utils.getFragmentEncoded = function(uri) {\n  var hashIndex = uri.indexOf(\"#\");\n  return 0 > hashIndex ? null : uri.substr(hashIndex + 1);\n};\ngoog.uri.utils.setFragmentEncoded = function(uri, fragment) {\n  return goog.uri.utils.removeFragment(uri) + (fragment ? \"#\" + fragment : \"\");\n};\ngoog.uri.utils.getFragment = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(uri));\n};\ngoog.uri.utils.getHost = function(uri) {\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(pieces[goog.uri.utils.ComponentIndex.SCHEME], pieces[goog.uri.utils.ComponentIndex.USER_INFO], pieces[goog.uri.utils.ComponentIndex.DOMAIN], pieces[goog.uri.utils.ComponentIndex.PORT]);\n};\ngoog.uri.utils.getOrigin = function(uri) {\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(pieces[goog.uri.utils.ComponentIndex.SCHEME], null, pieces[goog.uri.utils.ComponentIndex.DOMAIN], pieces[goog.uri.utils.ComponentIndex.PORT]);\n};\ngoog.uri.utils.getPathAndAfter = function(uri) {\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(null, null, null, null, pieces[goog.uri.utils.ComponentIndex.PATH], pieces[goog.uri.utils.ComponentIndex.QUERY_DATA], pieces[goog.uri.utils.ComponentIndex.FRAGMENT]);\n};\ngoog.uri.utils.removeFragment = function(uri) {\n  var hashIndex = uri.indexOf(\"#\");\n  return 0 > hashIndex ? uri : uri.substr(0, hashIndex);\n};\ngoog.uri.utils.haveSameDomain = function(uri1, uri2) {\n  var pieces1 = goog.uri.utils.split(uri1), pieces2 = goog.uri.utils.split(uri2);\n  return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] == pieces2[goog.uri.utils.ComponentIndex.DOMAIN] && pieces1[goog.uri.utils.ComponentIndex.SCHEME] == pieces2[goog.uri.utils.ComponentIndex.SCHEME] && pieces1[goog.uri.utils.ComponentIndex.PORT] == pieces2[goog.uri.utils.ComponentIndex.PORT];\n};\ngoog.uri.utils.assertNoFragmentsOrQueries_ = function(uri) {\n  goog.asserts.assert(0 > uri.indexOf(\"#\") && 0 > uri.indexOf(\"?\"), \"goog.uri.utils: Fragment or query identifiers are not supported: [%s]\", uri);\n};\ngoog.uri.utils.parseQueryData = function(encodedQuery, callback) {\n  if (encodedQuery) {\n    for (var pairs = encodedQuery.split(\"&\"), i = 0; i < pairs.length; i++) {\n      var indexOfEquals = pairs[i].indexOf(\"=\"), name = null, value = null;\n      0 <= indexOfEquals ? (name = pairs[i].substring(0, indexOfEquals), value = pairs[i].substring(indexOfEquals + 1)) : name = pairs[i];\n      callback(name, value ? goog.string.urlDecode(value) : \"\");\n    }\n  }\n};\ngoog.uri.utils.splitQueryData_ = function(uri) {\n  var hashIndex = uri.indexOf(\"#\");\n  0 > hashIndex && (hashIndex = uri.length);\n  var questionIndex = uri.indexOf(\"?\");\n  if (0 > questionIndex || questionIndex > hashIndex) {\n    questionIndex = hashIndex;\n    var queryData = \"\";\n  } else {\n    queryData = uri.substring(questionIndex + 1, hashIndex);\n  }\n  return [uri.substr(0, questionIndex), queryData, uri.substr(hashIndex)];\n};\ngoog.uri.utils.joinQueryData_ = function(parts) {\n  return parts[0] + (parts[1] ? \"?\" + parts[1] : \"\") + parts[2];\n};\ngoog.uri.utils.appendQueryData_ = function(queryData, newData) {\n  return newData ? queryData ? queryData + \"&\" + newData : newData : queryData;\n};\ngoog.uri.utils.appendQueryDataToUri_ = function(uri, queryData) {\n  if (!queryData) {\n    return uri;\n  }\n  var parts = goog.uri.utils.splitQueryData_(uri);\n  parts[1] = goog.uri.utils.appendQueryData_(parts[1], queryData);\n  return goog.uri.utils.joinQueryData_(parts);\n};\ngoog.uri.utils.appendKeyValuePairs_ = function(key, value, pairs) {\n  goog.asserts.assertString(key);\n  if (Array.isArray(value)) {\n    goog.asserts.assertArray(value);\n    for (var j = 0; j < value.length; j++) {\n      goog.uri.utils.appendKeyValuePairs_(key, String(value[j]), pairs);\n    }\n  } else {\n    null != value && pairs.push(key + (\"\" === value ? \"\" : \"=\" + goog.string.urlEncode(value)));\n  }\n};\ngoog.uri.utils.buildQueryData = function(keysAndValues, opt_startIndex) {\n  goog.asserts.assert(0 == Math.max(keysAndValues.length - (opt_startIndex || 0), 0) % 2, \"goog.uri.utils: Key/value lists must be even in length.\");\n  for (var params = [], i = opt_startIndex || 0; i < keysAndValues.length; i += 2) {\n    goog.uri.utils.appendKeyValuePairs_(keysAndValues[i], keysAndValues[i + 1], params);\n  }\n  return params.join(\"&\");\n};\ngoog.uri.utils.buildQueryDataFromMap = function(map) {\n  var params = [], key;\n  for (key in map) {\n    goog.uri.utils.appendKeyValuePairs_(key, map[key], params);\n  }\n  return params.join(\"&\");\n};\ngoog.uri.utils.appendParams = function(uri, var_args) {\n  var queryData = 2 == arguments.length ? goog.uri.utils.buildQueryData(arguments[1], 0) : goog.uri.utils.buildQueryData(arguments, 1);\n  return goog.uri.utils.appendQueryDataToUri_(uri, queryData);\n};\ngoog.uri.utils.appendParamsFromMap = function(uri, map) {\n  var queryData = goog.uri.utils.buildQueryDataFromMap(map);\n  return goog.uri.utils.appendQueryDataToUri_(uri, queryData);\n};\ngoog.uri.utils.appendParam = function(uri, key, opt_value) {\n  var value = null != opt_value ? \"=\" + goog.string.urlEncode(opt_value) : \"\";\n  return goog.uri.utils.appendQueryDataToUri_(uri, key + value);\n};\ngoog.uri.utils.findParam_ = function(uri, startIndex, keyEncoded, hashOrEndIndex) {\n  for (var index = startIndex, keyLength = keyEncoded.length; 0 <= (index = uri.indexOf(keyEncoded, index)) && index < hashOrEndIndex;) {\n    var precedingChar = uri.charCodeAt(index - 1);\n    if (precedingChar == goog.uri.utils.CharCode_.AMPERSAND || precedingChar == goog.uri.utils.CharCode_.QUESTION) {\n      var followingChar = uri.charCodeAt(index + keyLength);\n      if (!followingChar || followingChar == goog.uri.utils.CharCode_.EQUAL || followingChar == goog.uri.utils.CharCode_.AMPERSAND || followingChar == goog.uri.utils.CharCode_.HASH) {\n        return index;\n      }\n    }\n    index += keyLength + 1;\n  }\n  return -1;\n};\ngoog.uri.utils.hashOrEndRe_ = /#|$/;\ngoog.uri.utils.hasParam = function(uri, keyEncoded) {\n  return 0 <= goog.uri.utils.findParam_(uri, 0, keyEncoded, uri.search(goog.uri.utils.hashOrEndRe_));\n};\ngoog.uri.utils.getParamValue = function(uri, keyEncoded) {\n  var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), foundIndex = goog.uri.utils.findParam_(uri, 0, keyEncoded, hashOrEndIndex);\n  if (0 > foundIndex) {\n    return null;\n  }\n  var endPosition = uri.indexOf(\"&\", foundIndex);\n  if (0 > endPosition || endPosition > hashOrEndIndex) {\n    endPosition = hashOrEndIndex;\n  }\n  foundIndex += keyEncoded.length + 1;\n  return goog.string.urlDecode(uri.substr(foundIndex, endPosition - foundIndex));\n};\ngoog.uri.utils.getParamValues = function(uri, keyEncoded) {\n  for (var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), position = 0, foundIndex, result = []; 0 <= (foundIndex = goog.uri.utils.findParam_(uri, position, keyEncoded, hashOrEndIndex));) {\n    position = uri.indexOf(\"&\", foundIndex);\n    if (0 > position || position > hashOrEndIndex) {\n      position = hashOrEndIndex;\n    }\n    foundIndex += keyEncoded.length + 1;\n    result.push(goog.string.urlDecode(uri.substr(foundIndex, position - foundIndex)));\n  }\n  return result;\n};\ngoog.uri.utils.trailingQueryPunctuationRe_ = /[?&]($|#)/;\ngoog.uri.utils.removeParam = function(uri, keyEncoded) {\n  for (var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), position = 0, foundIndex, buffer = []; 0 <= (foundIndex = goog.uri.utils.findParam_(uri, position, keyEncoded, hashOrEndIndex));) {\n    buffer.push(uri.substring(position, foundIndex)), position = Math.min(uri.indexOf(\"&\", foundIndex) + 1 || hashOrEndIndex, hashOrEndIndex);\n  }\n  buffer.push(uri.substr(position));\n  return buffer.join(\"\").replace(goog.uri.utils.trailingQueryPunctuationRe_, \"$1\");\n};\ngoog.uri.utils.setParam = function(uri, keyEncoded, value) {\n  return goog.uri.utils.appendParam(goog.uri.utils.removeParam(uri, keyEncoded), keyEncoded, value);\n};\ngoog.uri.utils.setParamsFromMap = function(uri, params) {\n  var parts = goog.uri.utils.splitQueryData_(uri), queryData = parts[1], buffer = [];\n  queryData && queryData.split(\"&\").forEach(function(pair) {\n    var indexOfEquals = pair.indexOf(\"=\");\n    params.hasOwnProperty(0 <= indexOfEquals ? pair.substr(0, indexOfEquals) : pair) || buffer.push(pair);\n  });\n  parts[1] = goog.uri.utils.appendQueryData_(buffer.join(\"&\"), goog.uri.utils.buildQueryDataFromMap(params));\n  return goog.uri.utils.joinQueryData_(parts);\n};\ngoog.uri.utils.appendPath = function(baseUri, path) {\n  goog.uri.utils.assertNoFragmentsOrQueries_(baseUri);\n  goog.string.endsWith(baseUri, \"/\") && (baseUri = baseUri.substr(0, baseUri.length - 1));\n  goog.string.startsWith(path, \"/\") && (path = path.substr(1));\n  return \"\" + baseUri + \"/\" + path;\n};\ngoog.uri.utils.setPath = function(uri, path) {\n  goog.string.startsWith(path, \"/\") || (path = \"/\" + path);\n  var parts = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(parts[goog.uri.utils.ComponentIndex.SCHEME], parts[goog.uri.utils.ComponentIndex.USER_INFO], parts[goog.uri.utils.ComponentIndex.DOMAIN], parts[goog.uri.utils.ComponentIndex.PORT], path, parts[goog.uri.utils.ComponentIndex.QUERY_DATA], parts[goog.uri.utils.ComponentIndex.FRAGMENT]);\n};\ngoog.uri.utils.StandardQueryParam = {RANDOM:\"zx\"};\ngoog.uri.utils.makeUnique = function(uri) {\n  return goog.uri.utils.setParam(uri, goog.uri.utils.StandardQueryParam.RANDOM, goog.string.getRandomString());\n};\ngoog.Uri = function(opt_uri, opt_ignoreCase) {\n  this.domain_ = this.userInfo_ = this.scheme_ = \"\";\n  this.port_ = null;\n  this.fragment_ = this.path_ = \"\";\n  this.ignoreCase_ = this.isReadOnly_ = !1;\n  var m;\n  opt_uri instanceof goog.Uri ? (this.ignoreCase_ = void 0 !== opt_ignoreCase ? opt_ignoreCase : opt_uri.getIgnoreCase(), this.setScheme(opt_uri.getScheme()), this.setUserInfo(opt_uri.getUserInfo()), this.setDomain(opt_uri.getDomain()), this.setPort(opt_uri.getPort()), this.setPath(opt_uri.getPath()), this.setQueryData(opt_uri.getQueryData().clone()), this.setFragment(opt_uri.getFragment())) : opt_uri && (m = goog.uri.utils.split(String(opt_uri))) ? (this.ignoreCase_ = !!opt_ignoreCase, this.setScheme(m[goog.uri.utils.ComponentIndex.SCHEME] || \n  \"\", !0), this.setUserInfo(m[goog.uri.utils.ComponentIndex.USER_INFO] || \"\", !0), this.setDomain(m[goog.uri.utils.ComponentIndex.DOMAIN] || \"\", !0), this.setPort(m[goog.uri.utils.ComponentIndex.PORT]), this.setPath(m[goog.uri.utils.ComponentIndex.PATH] || \"\", !0), this.setQueryData(m[goog.uri.utils.ComponentIndex.QUERY_DATA] || \"\", !0), this.setFragment(m[goog.uri.utils.ComponentIndex.FRAGMENT] || \"\", !0)) : (this.ignoreCase_ = !!opt_ignoreCase, this.queryData_ = new goog.Uri.QueryData(null, this.ignoreCase_));\n};\ngoog.Uri.RANDOM_PARAM = goog.uri.utils.StandardQueryParam.RANDOM;\ngoog.Uri.prototype.toString = function() {\n  var out = [], scheme = this.getScheme();\n  scheme && out.push(goog.Uri.encodeSpecialChars_(scheme, goog.Uri.reDisallowedInSchemeOrUserInfo_, !0), \":\");\n  var domain = this.getDomain();\n  if (domain || \"file\" == scheme) {\n    out.push(\"//\");\n    var userInfo = this.getUserInfo();\n    userInfo && out.push(goog.Uri.encodeSpecialChars_(userInfo, goog.Uri.reDisallowedInSchemeOrUserInfo_, !0), \"@\");\n    out.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(domain)));\n    var port = this.getPort();\n    null != port && out.push(\":\", String(port));\n  }\n  var path = this.getPath();\n  path && (this.hasDomain() && \"/\" != path.charAt(0) && out.push(\"/\"), out.push(goog.Uri.encodeSpecialChars_(path, \"/\" == path.charAt(0) ? goog.Uri.reDisallowedInAbsolutePath_ : goog.Uri.reDisallowedInRelativePath_, !0)));\n  var query = this.getEncodedQuery();\n  query && out.push(\"?\", query);\n  var fragment = this.getFragment();\n  fragment && out.push(\"#\", goog.Uri.encodeSpecialChars_(fragment, goog.Uri.reDisallowedInFragment_));\n  return out.join(\"\");\n};\ngoog.Uri.prototype.resolve = function(relativeUri) {\n  var absoluteUri = this.clone(), overridden = relativeUri.hasScheme();\n  overridden ? absoluteUri.setScheme(relativeUri.getScheme()) : overridden = relativeUri.hasUserInfo();\n  overridden ? absoluteUri.setUserInfo(relativeUri.getUserInfo()) : overridden = relativeUri.hasDomain();\n  overridden ? absoluteUri.setDomain(relativeUri.getDomain()) : overridden = relativeUri.hasPort();\n  var path = relativeUri.getPath();\n  if (overridden) {\n    absoluteUri.setPort(relativeUri.getPort());\n  } else {\n    if (overridden = relativeUri.hasPath()) {\n      if (\"/\" != path.charAt(0)) {\n        if (this.hasDomain() && !this.hasPath()) {\n          path = \"/\" + path;\n        } else {\n          var lastSlashIndex = absoluteUri.getPath().lastIndexOf(\"/\");\n          -1 != lastSlashIndex && (path = absoluteUri.getPath().substr(0, lastSlashIndex + 1) + path);\n        }\n      }\n      path = goog.Uri.removeDotSegments(path);\n    }\n  }\n  overridden ? absoluteUri.setPath(path) : overridden = relativeUri.hasQuery();\n  overridden ? absoluteUri.setQueryData(relativeUri.getQueryData().clone()) : overridden = relativeUri.hasFragment();\n  overridden && absoluteUri.setFragment(relativeUri.getFragment());\n  return absoluteUri;\n};\ngoog.Uri.prototype.clone = function() {\n  return new goog.Uri(this);\n};\ngoog.Uri.prototype.getScheme = function() {\n  return this.scheme_;\n};\ngoog.Uri.prototype.setScheme = function(newScheme, opt_decode) {\n  this.enforceReadOnly();\n  if (this.scheme_ = opt_decode ? goog.Uri.decodeOrEmpty_(newScheme, !0) : newScheme) {\n    this.scheme_ = this.scheme_.replace(/:$/, \"\");\n  }\n  return this;\n};\ngoog.Uri.prototype.hasScheme = function() {\n  return !!this.scheme_;\n};\ngoog.Uri.prototype.getUserInfo = function() {\n  return this.userInfo_;\n};\ngoog.Uri.prototype.setUserInfo = function(newUserInfo, opt_decode) {\n  this.enforceReadOnly();\n  this.userInfo_ = opt_decode ? goog.Uri.decodeOrEmpty_(newUserInfo) : newUserInfo;\n  return this;\n};\ngoog.Uri.prototype.hasUserInfo = function() {\n  return !!this.userInfo_;\n};\ngoog.Uri.prototype.getDomain = function() {\n  return this.domain_;\n};\ngoog.Uri.prototype.setDomain = function(newDomain, opt_decode) {\n  this.enforceReadOnly();\n  this.domain_ = opt_decode ? goog.Uri.decodeOrEmpty_(newDomain, !0) : newDomain;\n  return this;\n};\ngoog.Uri.prototype.hasDomain = function() {\n  return !!this.domain_;\n};\ngoog.Uri.prototype.getPort = function() {\n  return this.port_;\n};\ngoog.Uri.prototype.setPort = function(newPort) {\n  this.enforceReadOnly();\n  if (newPort) {\n    newPort = Number(newPort);\n    if (isNaN(newPort) || 0 > newPort) {\n      throw Error(\"Bad port number \" + newPort);\n    }\n    this.port_ = newPort;\n  } else {\n    this.port_ = null;\n  }\n  return this;\n};\ngoog.Uri.prototype.hasPort = function() {\n  return null != this.port_;\n};\ngoog.Uri.prototype.getPath = function() {\n  return this.path_;\n};\ngoog.Uri.prototype.setPath = function(newPath, opt_decode) {\n  this.enforceReadOnly();\n  this.path_ = opt_decode ? goog.Uri.decodeOrEmpty_(newPath, !0) : newPath;\n  return this;\n};\ngoog.Uri.prototype.hasPath = function() {\n  return !!this.path_;\n};\ngoog.Uri.prototype.hasQuery = function() {\n  return \"\" !== this.queryData_.toString();\n};\ngoog.Uri.prototype.setQueryData = function(queryData, opt_decode) {\n  this.enforceReadOnly();\n  queryData instanceof goog.Uri.QueryData ? (this.queryData_ = queryData, this.queryData_.setIgnoreCase(this.ignoreCase_)) : (opt_decode || (queryData = goog.Uri.encodeSpecialChars_(queryData, goog.Uri.reDisallowedInQuery_)), this.queryData_ = new goog.Uri.QueryData(queryData, this.ignoreCase_));\n  return this;\n};\ngoog.Uri.prototype.setQuery = function(newQuery, opt_decode) {\n  return this.setQueryData(newQuery, opt_decode);\n};\ngoog.Uri.prototype.getEncodedQuery = function() {\n  return this.queryData_.toString();\n};\ngoog.Uri.prototype.getDecodedQuery = function() {\n  return this.queryData_.toDecodedString();\n};\ngoog.Uri.prototype.getQueryData = function() {\n  return this.queryData_;\n};\ngoog.Uri.prototype.getQuery = function() {\n  return this.getEncodedQuery();\n};\ngoog.Uri.prototype.setParameterValue = function(key, value) {\n  this.enforceReadOnly();\n  this.queryData_.set(key, value);\n  return this;\n};\ngoog.Uri.prototype.setParameterValues = function(key, values) {\n  this.enforceReadOnly();\n  Array.isArray(values) || (values = [String(values)]);\n  this.queryData_.setValues(key, values);\n  return this;\n};\ngoog.Uri.prototype.getParameterValues = function(name) {\n  return this.queryData_.getValues(name);\n};\ngoog.Uri.prototype.getParameterValue = function(paramName) {\n  return this.queryData_.get(paramName);\n};\ngoog.Uri.prototype.getFragment = function() {\n  return this.fragment_;\n};\ngoog.Uri.prototype.setFragment = function(newFragment, opt_decode) {\n  this.enforceReadOnly();\n  this.fragment_ = opt_decode ? goog.Uri.decodeOrEmpty_(newFragment) : newFragment;\n  return this;\n};\ngoog.Uri.prototype.hasFragment = function() {\n  return !!this.fragment_;\n};\ngoog.Uri.prototype.hasSameDomainAs = function(uri2) {\n  return (!this.hasDomain() && !uri2.hasDomain() || this.getDomain() == uri2.getDomain()) && (!this.hasPort() && !uri2.hasPort() || this.getPort() == uri2.getPort());\n};\ngoog.Uri.prototype.makeUnique = function() {\n  this.enforceReadOnly();\n  this.setParameterValue(goog.Uri.RANDOM_PARAM, goog.string.getRandomString());\n  return this;\n};\ngoog.Uri.prototype.removeParameter = function(key) {\n  this.enforceReadOnly();\n  this.queryData_.remove(key);\n  return this;\n};\ngoog.Uri.prototype.setReadOnly = function(isReadOnly) {\n  this.isReadOnly_ = isReadOnly;\n  return this;\n};\ngoog.Uri.prototype.isReadOnly = function() {\n  return this.isReadOnly_;\n};\ngoog.Uri.prototype.enforceReadOnly = function() {\n  if (this.isReadOnly_) {\n    throw Error(\"Tried to modify a read-only Uri\");\n  }\n};\ngoog.Uri.prototype.setIgnoreCase = function(ignoreCase) {\n  this.ignoreCase_ = ignoreCase;\n  this.queryData_ && this.queryData_.setIgnoreCase(ignoreCase);\n  return this;\n};\ngoog.Uri.prototype.getIgnoreCase = function() {\n  return this.ignoreCase_;\n};\ngoog.Uri.parse = function(uri, opt_ignoreCase) {\n  return uri instanceof goog.Uri ? uri.clone() : new goog.Uri(uri, opt_ignoreCase);\n};\ngoog.Uri.create = function(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_query, opt_fragment, opt_ignoreCase) {\n  var uri = new goog.Uri(null, opt_ignoreCase);\n  opt_scheme && uri.setScheme(opt_scheme);\n  opt_userInfo && uri.setUserInfo(opt_userInfo);\n  opt_domain && uri.setDomain(opt_domain);\n  opt_port && uri.setPort(opt_port);\n  opt_path && uri.setPath(opt_path);\n  opt_query && uri.setQueryData(opt_query);\n  opt_fragment && uri.setFragment(opt_fragment);\n  return uri;\n};\ngoog.Uri.resolve = function(base, rel) {\n  base instanceof goog.Uri || (base = goog.Uri.parse(base));\n  rel instanceof goog.Uri || (rel = goog.Uri.parse(rel));\n  return base.resolve(rel);\n};\ngoog.Uri.removeDotSegments = function(path) {\n  if (\"..\" == path || \".\" == path) {\n    return \"\";\n  }\n  if (goog.string.contains(path, \"./\") || goog.string.contains(path, \"/.\")) {\n    for (var leadingSlash = goog.string.startsWith(path, \"/\"), segments = path.split(\"/\"), out = [], pos = 0; pos < segments.length;) {\n      var segment = segments[pos++];\n      \".\" == segment ? leadingSlash && pos == segments.length && out.push(\"\") : \"..\" == segment ? ((1 < out.length || 1 == out.length && \"\" != out[0]) && out.pop(), leadingSlash && pos == segments.length && out.push(\"\")) : (out.push(segment), leadingSlash = !0);\n    }\n    return out.join(\"/\");\n  }\n  return path;\n};\ngoog.Uri.decodeOrEmpty_ = function(val, opt_preserveReserved) {\n  return val ? opt_preserveReserved ? decodeURI(val.replace(/%25/g, \"%2525\")) : decodeURIComponent(val) : \"\";\n};\ngoog.Uri.encodeSpecialChars_ = function(unescapedPart, extra, opt_removeDoubleEncoding) {\n  if (\"string\" === typeof unescapedPart) {\n    var encoded = encodeURI(unescapedPart).replace(extra, goog.Uri.encodeChar_);\n    opt_removeDoubleEncoding && (encoded = goog.Uri.removeDoubleEncoding_(encoded));\n    return encoded;\n  }\n  return null;\n};\ngoog.Uri.encodeChar_ = function(ch) {\n  var n = ch.charCodeAt(0);\n  return \"%\" + (n >> 4 & 15).toString(16) + (n & 15).toString(16);\n};\ngoog.Uri.removeDoubleEncoding_ = function(doubleEncodedString) {\n  return doubleEncodedString.replace(/%25([0-9a-fA-F]{2})/g, \"%$1\");\n};\ngoog.Uri.reDisallowedInSchemeOrUserInfo_ = /[#\\/\\?@]/g;\ngoog.Uri.reDisallowedInRelativePath_ = /[#\\?:]/g;\ngoog.Uri.reDisallowedInAbsolutePath_ = /[#\\?]/g;\ngoog.Uri.reDisallowedInQuery_ = /[#\\?@]/g;\ngoog.Uri.reDisallowedInFragment_ = /#/g;\ngoog.Uri.haveSameDomain = function(uri1String, uri2String) {\n  var pieces1 = goog.uri.utils.split(uri1String), pieces2 = goog.uri.utils.split(uri2String);\n  return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] == pieces2[goog.uri.utils.ComponentIndex.DOMAIN] && pieces1[goog.uri.utils.ComponentIndex.PORT] == pieces2[goog.uri.utils.ComponentIndex.PORT];\n};\ngoog.Uri.QueryData = function(opt_query, opt_ignoreCase) {\n  this.count_ = this.keyMap_ = null;\n  this.encodedQuery_ = opt_query || null;\n  this.ignoreCase_ = !!opt_ignoreCase;\n};\ngoog.Uri.QueryData.prototype.ensureKeyMapInitialized_ = function() {\n  if (!this.keyMap_ && (this.keyMap_ = new Map(), this.count_ = 0, this.encodedQuery_)) {\n    var self = this;\n    goog.uri.utils.parseQueryData(this.encodedQuery_, function(name, value) {\n      self.add(goog.string.urlDecode(name), value);\n    });\n  }\n};\ngoog.Uri.QueryData.createFromMap = function(map, opt_ignoreCase) {\n  var keys = goog.structs.getKeys(map);\n  if (\"undefined\" == typeof keys) {\n    throw Error(\"Keys are undefined\");\n  }\n  for (var queryData = new goog.Uri.QueryData(null, opt_ignoreCase), values = goog.structs.getValues(map), i = 0; i < keys.length; i++) {\n    var key = keys[i], value = values[i];\n    Array.isArray(value) ? queryData.setValues(key, value) : queryData.add(key, value);\n  }\n  return queryData;\n};\ngoog.Uri.QueryData.createFromKeysValues = function(keys, values, opt_ignoreCase) {\n  if (keys.length != values.length) {\n    throw Error(\"Mismatched lengths for keys/values\");\n  }\n  for (var queryData = new goog.Uri.QueryData(null, opt_ignoreCase), i = 0; i < keys.length; i++) {\n    queryData.add(keys[i], values[i]);\n  }\n  return queryData;\n};\ngoog.Uri.QueryData.prototype.getCount = function() {\n  this.ensureKeyMapInitialized_();\n  return this.count_;\n};\ngoog.Uri.QueryData.prototype.add = function(key, value) {\n  this.ensureKeyMapInitialized_();\n  this.invalidateCache_();\n  key = this.getKeyName_(key);\n  var values = this.keyMap_.get(key);\n  values || this.keyMap_.set(key, values = []);\n  values.push(value);\n  this.count_ = goog.asserts.assertNumber(this.count_) + 1;\n  return this;\n};\ngoog.Uri.QueryData.prototype.remove = function(key) {\n  this.ensureKeyMapInitialized_();\n  key = this.getKeyName_(key);\n  return this.keyMap_.has(key) ? (this.invalidateCache_(), this.count_ = goog.asserts.assertNumber(this.count_) - this.keyMap_.get(key).length, this.keyMap_.delete(key)) : !1;\n};\ngoog.Uri.QueryData.prototype.clear = function() {\n  this.invalidateCache_();\n  this.keyMap_ = null;\n  this.count_ = 0;\n};\ngoog.Uri.QueryData.prototype.isEmpty = function() {\n  this.ensureKeyMapInitialized_();\n  return 0 == this.count_;\n};\ngoog.Uri.QueryData.prototype.containsKey = function(key) {\n  this.ensureKeyMapInitialized_();\n  key = this.getKeyName_(key);\n  return this.keyMap_.has(key);\n};\ngoog.Uri.QueryData.prototype.containsValue = function(value) {\n  var vals = this.getValues();\n  return module$contents$goog$array_contains(vals, value);\n};\ngoog.Uri.QueryData.prototype.forEach = function(f, opt_scope) {\n  this.ensureKeyMapInitialized_();\n  this.keyMap_.forEach(function(values, key) {\n    values.forEach(function(value) {\n      f.call(opt_scope, value, key, this);\n    }, this);\n  }, this);\n};\ngoog.Uri.QueryData.prototype.getKeys = function() {\n  this.ensureKeyMapInitialized_();\n  for (var vals = Array.from(this.keyMap_.values()), keys = Array.from(this.keyMap_.keys()), rv = [], i = 0; i < keys.length; i++) {\n    for (var val = vals[i], j = 0; j < val.length; j++) {\n      rv.push(keys[i]);\n    }\n  }\n  return rv;\n};\ngoog.Uri.QueryData.prototype.getValues = function(opt_key) {\n  this.ensureKeyMapInitialized_();\n  var rv = [];\n  if (\"string\" === typeof opt_key) {\n    this.containsKey(opt_key) && (rv = rv.concat(this.keyMap_.get(this.getKeyName_(opt_key))));\n  } else {\n    for (var values = Array.from(this.keyMap_.values()), i = 0; i < values.length; i++) {\n      rv = rv.concat(values[i]);\n    }\n  }\n  return rv;\n};\ngoog.Uri.QueryData.prototype.set = function(key, value) {\n  this.ensureKeyMapInitialized_();\n  this.invalidateCache_();\n  key = this.getKeyName_(key);\n  this.containsKey(key) && (this.count_ = goog.asserts.assertNumber(this.count_) - this.keyMap_.get(key).length);\n  this.keyMap_.set(key, [value]);\n  this.count_ = goog.asserts.assertNumber(this.count_) + 1;\n  return this;\n};\ngoog.Uri.QueryData.prototype.get = function(key, opt_default) {\n  if (!key) {\n    return opt_default;\n  }\n  var values = this.getValues(key);\n  return 0 < values.length ? String(values[0]) : opt_default;\n};\ngoog.Uri.QueryData.prototype.setValues = function(key, values) {\n  this.remove(key);\n  0 < values.length && (this.invalidateCache_(), this.keyMap_.set(this.getKeyName_(key), module$contents$goog$array_toArray(values)), this.count_ = goog.asserts.assertNumber(this.count_) + values.length);\n};\ngoog.Uri.QueryData.prototype.toString = function() {\n  if (this.encodedQuery_) {\n    return this.encodedQuery_;\n  }\n  if (!this.keyMap_) {\n    return \"\";\n  }\n  for (var sb = [], keys = Array.from(this.keyMap_.keys()), i = 0; i < keys.length; i++) {\n    for (var key = keys[i], encodedKey = goog.string.urlEncode(key), val = this.getValues(key), j = 0; j < val.length; j++) {\n      var param = encodedKey;\n      \"\" !== val[j] && (param += \"=\" + goog.string.urlEncode(val[j]));\n      sb.push(param);\n    }\n  }\n  return this.encodedQuery_ = sb.join(\"&\");\n};\ngoog.Uri.QueryData.prototype.toDecodedString = function() {\n  return goog.Uri.decodeOrEmpty_(this.toString());\n};\ngoog.Uri.QueryData.prototype.invalidateCache_ = function() {\n  this.encodedQuery_ = null;\n};\ngoog.Uri.QueryData.prototype.filterKeys = function(keys) {\n  this.ensureKeyMapInitialized_();\n  this.keyMap_.forEach(function(value, key) {\n    module$contents$goog$array_contains(keys, key) || this.remove(key);\n  }, this);\n  return this;\n};\ngoog.Uri.QueryData.prototype.clone = function() {\n  var rv = new goog.Uri.QueryData();\n  rv.encodedQuery_ = this.encodedQuery_;\n  this.keyMap_ && (rv.keyMap_ = new Map(this.keyMap_), rv.count_ = this.count_);\n  return rv;\n};\ngoog.Uri.QueryData.prototype.getKeyName_ = function(arg) {\n  var keyName = String(arg);\n  this.ignoreCase_ && (keyName = keyName.toLowerCase());\n  return keyName;\n};\ngoog.Uri.QueryData.prototype.setIgnoreCase = function(ignoreCase) {\n  ignoreCase && !this.ignoreCase_ && (this.ensureKeyMapInitialized_(), this.invalidateCache_(), this.keyMap_.forEach(function(value, key) {\n    var lowerCase = key.toLowerCase();\n    key != lowerCase && (this.remove(key), this.setValues(lowerCase, value));\n  }, this));\n  this.ignoreCase_ = ignoreCase;\n};\ngoog.Uri.QueryData.prototype.extend = function(var_args) {\n  for (var i = 0; i < arguments.length; i++) {\n    goog.structs.forEach(arguments[i], function(value, key) {\n      this.add(key, value);\n    }, this);\n  }\n};\nvar module$exports$goog$net$rpc$HttpCors = {HTTP_HEADERS_PARAM_NAME:\"$httpHeaders\", HTTP_METHOD_PARAM_NAME:\"$httpMethod\", generateHttpHeadersOverwriteParam:function(headers) {\n  var result = \"\";\n  module$contents$goog$object_forEach(headers, function(value, key) {\n    result += key;\n    result += \":\";\n    result += value;\n    result += \"\\r\\n\";\n  });\n  return result;\n}, generateEncodedHttpHeadersOverwriteParam:function(headers) {\n  return goog.string.urlEncode(module$exports$goog$net$rpc$HttpCors.generateHttpHeadersOverwriteParam(headers));\n}, setHttpHeadersWithOverwriteParam:function(url, urlParam, extraHeaders) {\n  if (module$contents$goog$object_isEmpty(extraHeaders)) {\n    return url;\n  }\n  var httpHeaders = module$exports$goog$net$rpc$HttpCors.generateHttpHeadersOverwriteParam(extraHeaders);\n  if (\"string\" === typeof url) {\n    return goog.uri.utils.appendParam(url, goog.string.urlEncode(urlParam), httpHeaders);\n  }\n  url.setParameterValue(urlParam, httpHeaders);\n  return url;\n}};\nvar module$exports$eeapiclient$request_params = {}, module$contents$eeapiclient$request_params_module = module$contents$eeapiclient$request_params_module || {id:\"javascript/typescript/contrib/apiclient/core/request_params.closure.js\"};\nmodule$exports$eeapiclient$request_params.HttpMethodEnum = {GET:\"GET\", POST:\"POST\", PUT:\"PUT\", PATCH:\"PATCH\", DELETE:\"DELETE\",};\nmodule$exports$eeapiclient$request_params.AuthType = {AUTO:\"auto\", NONE:\"none\", OAUTH2:\"oauth2\", FIRST_PARTY:\"1p\",};\nmodule$exports$eeapiclient$request_params.StreamingType = {NONE:\"NONE\", CLIENT_SIDE:\"CLIENT_SIDE\", SERVER_SIDE:\"SERVER_SIDE\", BIDIRECTONAL:\"BIDIRECTONAL\",};\nfunction module$contents$eeapiclient$request_params_MakeRequestParams() {\n}\nmodule$exports$eeapiclient$request_params.MakeRequestParams = module$contents$eeapiclient$request_params_MakeRequestParams;\nfunction module$contents$eeapiclient$request_params_processParams(params) {\n  if (null != params.queryParams) {\n    var filteredQueryParams = {}, key;\n    for (key in params.queryParams) {\n      void 0 !== params.queryParams[key] && (filteredQueryParams[key] = params.queryParams[key]);\n    }\n    params.queryParams = filteredQueryParams;\n  }\n}\nmodule$exports$eeapiclient$request_params.processParams = module$contents$eeapiclient$request_params_processParams;\nfunction module$contents$eeapiclient$request_params_buildQueryParams(params, mapping, passthroughParams) {\n  for (var urlQueryParams = passthroughParams = void 0 === passthroughParams ? {} : passthroughParams, $jscomp$iter$15 = $jscomp.makeIterator(Object.entries(mapping)), $jscomp$key$ = $jscomp$iter$15.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$15.next()) {\n    var $jscomp$destructuring$var15 = $jscomp.makeIterator($jscomp$key$.value), jsName__tsickle_destructured_1 = $jscomp$destructuring$var15.next().value, urlQueryParamName__tsickle_destructured_2 = $jscomp$destructuring$var15.next().value, jsName = jsName__tsickle_destructured_1, urlQueryParamName = urlQueryParamName__tsickle_destructured_2;\n    jsName in params && (urlQueryParams[urlQueryParamName] = params[jsName]);\n  }\n  return urlQueryParams;\n}\nmodule$exports$eeapiclient$request_params.buildQueryParams = module$contents$eeapiclient$request_params_buildQueryParams;\nvar module$contents$eeapiclient$request_params_simpleCorsAllowedHeaders = [\"accept\", \"accept-language\", \"content-language\"], module$contents$eeapiclient$request_params_simpleCorsAllowedMethods = [\"GET\", \"HEAD\", \"POST\"];\nmodule$exports$eeapiclient$request_params.bypassCorsPreflight = function module$contents$eeapiclient$request_params_bypassCorsPreflight(params) {\n  var safeHeaders = {}, unsafeHeaders = {}, hasUnsafeHeaders = !1, hasSafeHeaders = !1, hasContentType = !1;\n  if (params.headers) {\n    hasContentType = null != params.headers[\"Content-Type\"];\n    for (var $jscomp$iter$16 = $jscomp.makeIterator(Object.entries(params.headers)), $jscomp$key$ = $jscomp$iter$16.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$16.next()) {\n      var $jscomp$destructuring$var17 = $jscomp.makeIterator($jscomp$key$.value), key__tsickle_destructured_3 = $jscomp$destructuring$var17.next().value, value__tsickle_destructured_4 = $jscomp$destructuring$var17.next().value, key = key__tsickle_destructured_3, value = value__tsickle_destructured_4;\n      module$contents$eeapiclient$request_params_simpleCorsAllowedHeaders.includes(key) ? (safeHeaders[key] = value, hasSafeHeaders = !0) : (unsafeHeaders[key] = value, hasUnsafeHeaders = !0);\n    }\n  }\n  if (null != params.body || \"PUT\" === params.httpMethod || \"POST\" === params.httpMethod) {\n    hasContentType || (unsafeHeaders[\"Content-Type\"] = \"application/json\", hasUnsafeHeaders = !0), safeHeaders[\"Content-Type\"] = \"text/plain\", hasSafeHeaders = !0;\n  }\n  if (hasUnsafeHeaders) {\n    var finalParam = (0,module$exports$goog$net$rpc$HttpCors.generateEncodedHttpHeadersOverwriteParam)(unsafeHeaders);\n    module$contents$eeapiclient$request_params_addQueryParameter(params, module$exports$goog$net$rpc$HttpCors.HTTP_HEADERS_PARAM_NAME, finalParam);\n  }\n  hasSafeHeaders && (params.headers = safeHeaders);\n  module$contents$eeapiclient$request_params_simpleCorsAllowedMethods.includes(params.httpMethod) || (module$contents$eeapiclient$request_params_addQueryParameter(params, module$exports$goog$net$rpc$HttpCors.HTTP_METHOD_PARAM_NAME, params.httpMethod), params.httpMethod = \"POST\");\n};\nfunction module$contents$eeapiclient$request_params_addQueryParameter(params, key, value) {\n  if (params.queryParams) {\n    params.queryParams[key] = value;\n  } else {\n    var $jscomp$compprop0 = {};\n    params.queryParams = ($jscomp$compprop0[key] = value, $jscomp$compprop0);\n  }\n}\n;var module$exports$eeapiclient$multipart_request = {}, module$contents$eeapiclient$multipart_request_module = module$contents$eeapiclient$multipart_request_module || {id:\"javascript/typescript/contrib/apiclient/core/multipart_request.closure.js\"};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest = function(files, _metadata) {\n  this.files = files;\n  this._metadata = _metadata;\n  this._metadataPayload = \"\";\n  this._boundary = Date.now().toString();\n  _metadata && this.addMetadata(_metadata);\n  this._payloadPromise = this.build();\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.boundary = function() {\n  return this._boundary;\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.metadata = function() {\n  return this._metadata;\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.payloadPromise = function() {\n  return this._payloadPromise;\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.addMetadata = function(metadata) {\n  var json = metadata instanceof module$exports$eeapiclient$domain_object.Serializable ? module$contents$eeapiclient$domain_object_serialize(metadata) : metadata;\n  this._metadataPayload += \"Content-Type: application/json; charset=utf-8\\r\\n\\r\\n\" + JSON.stringify(json) + (\"\\r\\n--\" + this._boundary + \"\\r\\n\");\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.build = function() {\n  var $jscomp$this = this, payload = \"--\" + this._boundary + \"\\r\\n\";\n  payload += this._metadataPayload;\n  return Promise.all(this.files.map(function(f) {\n    return $jscomp$this.encodeFile(f);\n  })).then(function(filePayloads) {\n    for (var $jscomp$iter$17 = $jscomp.makeIterator(filePayloads), $jscomp$key$filePayload = $jscomp$iter$17.next(); !$jscomp$key$filePayload.done; $jscomp$key$filePayload = $jscomp$iter$17.next()) {\n      payload += $jscomp$key$filePayload.value;\n    }\n    return payload += \"\\r\\n--\" + $jscomp$this._boundary + \"--\";\n  });\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.encodeFile = function(file) {\n  return this.base64EncodeFile(file).then(function(base64Str) {\n    return \"Content-Type: \" + file.type + '\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"' + (encodeURIComponent(file.name) + '\"\\r\\nContent-Transfer-Encoding: base64\\r\\n\\r\\n') + base64Str;\n  });\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.base64EncodeFile = function(file) {\n  return new Promise(function(resolve, reject) {\n    var reader = new FileReader();\n    reader.onload = function(ev) {\n      try {\n        var file$52 = ev.target.result, toResolve = file$52.substr(file$52.indexOf(\",\") + 1);\n        resolve(toResolve);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    reader.readAsDataURL(file);\n  });\n};\nvar module$exports$eeapiclient$api_client = {}, module$contents$eeapiclient$api_client_module = module$contents$eeapiclient$api_client_module || {id:\"javascript/typescript/contrib/apiclient/core/api_client.closure.js\"};\nmodule$exports$eeapiclient$api_client.ApiClient = function() {\n};\nmodule$exports$eeapiclient$api_client.ApiClient.prototype.$validateParameter = function(param, pattern) {\n  var paramStr = String(param);\n  if (!pattern.test(paramStr)) {\n    throw Error(\"parameter [\" + paramStr + \"] does not match pattern [\" + pattern.toString() + \"]\");\n  }\n};\nfunction module$contents$eeapiclient$api_client_toMakeRequestParams(requestParams) {\n  var body = requestParams.body instanceof module$exports$eeapiclient$domain_object.Serializable ? module$contents$eeapiclient$domain_object_serialize(requestParams.body) : requestParams.body;\n  return {path:requestParams.path, httpMethod:requestParams.httpMethod, methodId:requestParams.methodId, body:body, queryParams:requestParams.queryParams, streamingType:requestParams.streamingType && requestParams.streamingType};\n}\nmodule$exports$eeapiclient$api_client.toMakeRequestParams = module$contents$eeapiclient$api_client_toMakeRequestParams;\nfunction module$contents$eeapiclient$api_client_toMultipartMakeRequestParams(requestParams) {\n  if (!(requestParams.body instanceof module$exports$eeapiclient$multipart_request.MultipartRequest)) {\n    throw Error(requestParams.path + \" request must be a MultipartRequest\");\n  }\n  var multipartRequest = requestParams.body;\n  return multipartRequest.payloadPromise().then(function(body) {\n    var _a, queryParams = null !== (_a = requestParams.queryParams) && void 0 !== _a ? _a : {};\n    return {path:requestParams.path, httpMethod:requestParams.httpMethod, methodId:requestParams.methodId, queryParams:Object.assign(Object.assign({}, queryParams), {uploadType:\"multipart\"}), headers:{\"X-Goog-Upload-Protocol\":\"multipart\", \"Content-Type\":\"multipart/related; boundary=\" + multipartRequest.boundary()}, body:body,};\n  });\n}\nmodule$exports$eeapiclient$api_client.toMultipartMakeRequestParams = module$contents$eeapiclient$api_client_toMultipartMakeRequestParams;\nvar module$exports$eeapiclient$api_request_hook = {}, module$contents$eeapiclient$api_request_hook_module = module$contents$eeapiclient$api_request_hook_module || {id:\"javascript/typescript/contrib/apiclient/core/api_request_hook.closure.js\"};\nmodule$exports$eeapiclient$api_request_hook.ApiClientRequestHook = function module$contents$eeapiclient$api_request_hook_ApiClientRequestHook() {\n};\nmodule$exports$eeapiclient$api_request_hook.ApiClientHookFactory = function() {\n};\nmodule$exports$eeapiclient$api_request_hook.ApiClientHookFactoryCtor = function module$contents$eeapiclient$api_request_hook_ApiClientHookFactoryCtor() {\n};\nmodule$exports$eeapiclient$api_request_hook.DefaultApiClientHookFactory = function() {\n};\nmodule$exports$eeapiclient$api_request_hook.DefaultApiClientHookFactory.prototype.getRequestHook = function(requestParams) {\n  return {onBeforeSend:function() {\n  }, onSuccess:function(response) {\n  }, onError:function(error) {\n  },};\n};\nfunction module$contents$eeapiclient$api_request_hook_getRequestHook(factory, requestParams) {\n  if (null == factory) {\n    return null;\n  }\n  var hook = factory.getRequestHook(requestParams);\n  return null == hook ? null : hook;\n}\nmodule$exports$eeapiclient$api_request_hook.getRequestHook = module$contents$eeapiclient$api_request_hook_getRequestHook;\nvar module$exports$eeapiclient$promise_api_client = {}, module$contents$eeapiclient$promise_api_client_module = module$contents$eeapiclient$promise_api_client_module || {id:\"javascript/typescript/contrib/apiclient/request_service/promise_api_client.closure.js\"};\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient = function(requestService, hookFactory) {\n  this.requestService = requestService;\n  this.hookFactory = void 0 === hookFactory ? null : hookFactory;\n};\n$jscomp.inherits(module$exports$eeapiclient$promise_api_client.PromiseApiClient, module$exports$eeapiclient$api_client.ApiClient);\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$addHooksToRequest = function(requestParams, promise) {\n  return null == module$contents$eeapiclient$api_request_hook_getRequestHook(this.hookFactory, requestParams) ? promise : promise.then(function(response) {\n    return response;\n  }, function(error) {\n    throw error;\n  });\n};\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$request = function(requestParams) {\n  var responseCtor = requestParams.responseCtor || void 0;\n  return this.$addHooksToRequest(requestParams, this.requestService.send(module$contents$eeapiclient$api_client_toMakeRequestParams(requestParams), responseCtor));\n};\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$uploadRequest = function(requestParams) {\n  var $jscomp$this = this, responseCtor = requestParams.responseCtor || void 0;\n  return this.$addHooksToRequest(requestParams, module$contents$eeapiclient$api_client_toMultipartMakeRequestParams(requestParams).then(function(params) {\n    return $jscomp$this.requestService.send(params, responseCtor);\n  }));\n};\nvar module$exports$eeapiclient$ee_api_client = {}, module$contents$eeapiclient$ee_api_client_module = module$contents$eeapiclient$ee_api_client_module || {id:\"geo/gestalt/client/javascript/v1alpha/ee_api_client.closure.js\"};\nmodule$exports$eeapiclient$ee_api_client.IAuditLogConfigLogTypeEnum = function module$contents$eeapiclient$ee_api_client_IAuditLogConfigLogTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum = {ADMIN_READ:\"ADMIN_READ\", DATA_READ:\"DATA_READ\", DATA_WRITE:\"DATA_WRITE\", LOG_TYPE_UNSPECIFIED:\"LOG_TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.LOG_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.ADMIN_READ, module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.DATA_WRITE, module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.DATA_READ];\n}};\nmodule$exports$eeapiclient$ee_api_client.IAuthorizationLoggingOptionsPermissionTypeEnum = function module$contents$eeapiclient$ee_api_client_IAuthorizationLoggingOptionsPermissionTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum = {ADMIN_READ:\"ADMIN_READ\", ADMIN_WRITE:\"ADMIN_WRITE\", DATA_READ:\"DATA_READ\", DATA_WRITE:\"DATA_WRITE\", PERMISSION_TYPE_UNSPECIFIED:\"PERMISSION_TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.PERMISSION_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.ADMIN_READ, module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.ADMIN_WRITE, module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.DATA_READ, \n  module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.DATA_WRITE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ICapabilitiesCapabilitiesEnum = function module$contents$eeapiclient$ee_api_client_ICapabilitiesCapabilitiesEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum = {CAPABILITY_GROUP_UNSPECIFIED:\"CAPABILITY_GROUP_UNSPECIFIED\", CLOUD_ALPHA:\"CLOUD_ALPHA\", EXTERNAL:\"EXTERNAL\", INTERNAL:\"INTERNAL\", LIMITED:\"LIMITED\", PREAUTHORIZED:\"PREAUTHORIZED\", PREVIEW:\"PREVIEW\", PUBLIC:\"PUBLIC\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.CAPABILITY_GROUP_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PUBLIC, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.INTERNAL, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.EXTERNAL, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.LIMITED, \n  module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PREAUTHORIZED, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PREVIEW, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.CLOUD_ALPHA];\n}};\nmodule$exports$eeapiclient$ee_api_client.ICloudAuditOptionsLogNameEnum = function module$contents$eeapiclient$ee_api_client_ICloudAuditOptionsLogNameEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum = {ADMIN_ACTIVITY:\"ADMIN_ACTIVITY\", DATA_ACCESS:\"DATA_ACCESS\", UNSPECIFIED_LOG_NAME:\"UNSPECIFIED_LOG_NAME\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.UNSPECIFIED_LOG_NAME, module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.ADMIN_ACTIVITY, module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.DATA_ACCESS];\n}};\nmodule$exports$eeapiclient$ee_api_client.ICloudStorageDestinationPermissionsEnum = function module$contents$eeapiclient$ee_api_client_ICloudStorageDestinationPermissionsEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum = {DEFAULT_OBJECT_ACL:\"DEFAULT_OBJECT_ACL\", PUBLIC:\"PUBLIC\", TILE_PERMISSIONS_UNSPECIFIED:\"TILE_PERMISSIONS_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.TILE_PERMISSIONS_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.PUBLIC, module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.DEFAULT_OBJECT_ACL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IComputePixelsRequestFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IComputePixelsRequestFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.AUTO_JPEG_PNG, \n  module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.NPY, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF, \n  module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IConditionIamEnum = function module$contents$eeapiclient$ee_api_client_IConditionIamEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ConditionIamEnum = {APPROVER:\"APPROVER\", ATTRIBUTION:\"ATTRIBUTION\", AUTHORITY:\"AUTHORITY\", CREDENTIALS_TYPE:\"CREDENTIALS_TYPE\", CREDS_ASSERTION:\"CREDS_ASSERTION\", JUSTIFICATION_TYPE:\"JUSTIFICATION_TYPE\", NO_ATTR:\"NO_ATTR\", SECURITY_REALM:\"SECURITY_REALM\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ConditionIamEnum.NO_ATTR, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.AUTHORITY, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.ATTRIBUTION, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.SECURITY_REALM, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.APPROVER, \n  module$exports$eeapiclient$ee_api_client.ConditionIamEnum.JUSTIFICATION_TYPE, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.CREDENTIALS_TYPE, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.CREDS_ASSERTION];\n}};\nmodule$exports$eeapiclient$ee_api_client.IConditionOpEnum = function module$contents$eeapiclient$ee_api_client_IConditionOpEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ConditionOpEnum = {DISCHARGED:\"DISCHARGED\", EQUALS:\"EQUALS\", IN:\"IN\", NOT_EQUALS:\"NOT_EQUALS\", NOT_IN:\"NOT_IN\", NO_OP:\"NO_OP\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NO_OP, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.EQUALS, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NOT_EQUALS, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.IN, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NOT_IN, \n  module$exports$eeapiclient$ee_api_client.ConditionOpEnum.DISCHARGED];\n}};\nmodule$exports$eeapiclient$ee_api_client.IConditionSysEnum = function module$contents$eeapiclient$ee_api_client_IConditionSysEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ConditionSysEnum = {IP:\"IP\", NAME:\"NAME\", NO_ATTR:\"NO_ATTR\", REGION:\"REGION\", SERVICE:\"SERVICE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ConditionSysEnum.NO_ATTR, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.REGION, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.SERVICE, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.NAME, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.IP];\n}};\nmodule$exports$eeapiclient$ee_api_client.IDataAccessOptionsLogModeEnum = function module$contents$eeapiclient$ee_api_client_IDataAccessOptionsLogModeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum = {LOG_FAIL_CLOSED:\"LOG_FAIL_CLOSED\", LOG_MODE_UNSPECIFIED:\"LOG_MODE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum.LOG_MODE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum.LOG_FAIL_CLOSED];\n}};\nmodule$exports$eeapiclient$ee_api_client.IDmsAttributeTypeEnum = function module$contents$eeapiclient$ee_api_client_IDmsAttributeTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum = {BOOLEAN:\"BOOLEAN\", DATE_TIME:\"DATE_TIME\", DOUBLE:\"DOUBLE\", INTEGER:\"INTEGER\", STRING:\"STRING\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.INTEGER, module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.BOOLEAN, module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.DOUBLE, module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.STRING, \n  module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.DATE_TIME];\n}};\nmodule$exports$eeapiclient$ee_api_client.IEarthEngineAssetTypeEnum = function module$contents$eeapiclient$ee_api_client_IEarthEngineAssetTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum = {CLASSIFIER:\"CLASSIFIER\", DATA_MAPPING_SERVICE:\"DATA_MAPPING_SERVICE\", FOLDER:\"FOLDER\", IMAGE:\"IMAGE\", IMAGE_COLLECTION:\"IMAGE_COLLECTION\", TABLE:\"TABLE\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.IMAGE, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.IMAGE_COLLECTION, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.TABLE, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.FOLDER, \n  module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.CLASSIFIER, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.DATA_MAPPING_SERVICE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IEarthEngineMapFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IEarthEngineMapFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IExportVideoMapRequestVersionEnum = function module$contents$eeapiclient$ee_api_client_IExportVideoMapRequestVersionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum = {V1:\"V1\", V2:\"V2\", VERSION_UNSPECIFIED:\"VERSION_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.VERSION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.V1, module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.V2];\n}};\nmodule$exports$eeapiclient$ee_api_client.IFeatureViewAttributeTypeEnum = function module$contents$eeapiclient$ee_api_client_IFeatureViewAttributeTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum = {BOOLEAN:\"BOOLEAN\", DATE_TIME:\"DATE_TIME\", DOUBLE:\"DOUBLE\", INTEGER:\"INTEGER\", STRING:\"STRING\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.INTEGER, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.BOOLEAN, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.DOUBLE, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.STRING, \n  module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.DATE_TIME];\n}};\nmodule$exports$eeapiclient$ee_api_client.IFilmstripThumbnailFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IFilmstripThumbnailFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.ZIPPED_GEO_TIFF, \n  module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IFilmstripThumbnailOrientationEnum = function module$contents$eeapiclient$ee_api_client_IFilmstripThumbnailOrientationEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum = {HORIZONTAL:\"HORIZONTAL\", ORIENTATION_UNSPECIFIED:\"ORIENTATION_UNSPECIFIED\", VERTICAL:\"VERTICAL\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.ORIENTATION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.HORIZONTAL, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.VERTICAL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IGcsDestinationPermissionsEnum = function module$contents$eeapiclient$ee_api_client_IGcsDestinationPermissionsEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum = {DEFAULT_OBJECT_ACL:\"DEFAULT_OBJECT_ACL\", PUBLIC:\"PUBLIC\", TILE_PERMISSIONS_UNSPECIFIED:\"TILE_PERMISSIONS_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.TILE_PERMISSIONS_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.PUBLIC, module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.DEFAULT_OBJECT_ACL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IGetPixelsRequestFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IGetPixelsRequestFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageAssetExportOptionsPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_IImageAssetExportOptionsPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MIN, \n  module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MAX, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageAssetExportOptionsPyramidingPolicyOverridesEnum = function module$contents$eeapiclient$ee_api_client_IImageAssetExportOptionsPyramidingPolicyOverridesEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MIN, \n  module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MAX, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageBandPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_IImageBandPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MIN, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MAX, \n  module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageFileExportOptionsFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IImageFileExportOptionsFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.AUTO_JPEG_PNG, \n  module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.NPY, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.MULTI_BAND_IMAGE_TILE, \n  module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageManifestPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_IImageManifestPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MIN, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MAX, \n  module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IOperationMetadataStateEnum = function module$contents$eeapiclient$ee_api_client_IOperationMetadataStateEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum = {CANCELLED:\"CANCELLED\", CANCELLING:\"CANCELLING\", FAILED:\"FAILED\", PENDING:\"PENDING\", RUNNING:\"RUNNING\", STATE_UNSPECIFIED:\"STATE_UNSPECIFIED\", SUCCEEDED:\"SUCCEEDED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.STATE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.PENDING, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.RUNNING, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.CANCELLING, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.SUCCEEDED, \n  module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.CANCELLED, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.FAILED];\n}};\nmodule$exports$eeapiclient$ee_api_client.IPixelDataTypePrecisionEnum = function module$contents$eeapiclient$ee_api_client_IPixelDataTypePrecisionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum = {DOUBLE:\"DOUBLE\", FLOAT:\"FLOAT\", INT:\"INT\", PRECISION_UNSPECIFIED:\"PRECISION_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.PRECISION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.INT, module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.FLOAT, module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.DOUBLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IRankByOneThingRuleDirectionEnum = function module$contents$eeapiclient$ee_api_client_IRankByOneThingRuleDirectionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum = {ASCENDING:\"ASCENDING\", DESCENDING:\"DESCENDING\", DIRECTION_UNSPECIFIED:\"DIRECTION_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.DIRECTION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.ASCENDING, module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.DESCENDING];\n}};\nmodule$exports$eeapiclient$ee_api_client.IRuleActionEnum = function module$contents$eeapiclient$ee_api_client_IRuleActionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.RuleActionEnum = {ALLOW:\"ALLOW\", ALLOW_WITH_LOG:\"ALLOW_WITH_LOG\", DENY:\"DENY\", DENY_WITH_LOG:\"DENY_WITH_LOG\", LOG:\"LOG\", NO_ACTION:\"NO_ACTION\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.RuleActionEnum.NO_ACTION, module$exports$eeapiclient$ee_api_client.RuleActionEnum.ALLOW, module$exports$eeapiclient$ee_api_client.RuleActionEnum.ALLOW_WITH_LOG, module$exports$eeapiclient$ee_api_client.RuleActionEnum.DENY, module$exports$eeapiclient$ee_api_client.RuleActionEnum.DENY_WITH_LOG, \n  module$exports$eeapiclient$ee_api_client.RuleActionEnum.LOG];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITableFileExportOptionsFileFormatEnum = function module$contents$eeapiclient$ee_api_client_ITableFileExportOptionsFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum = {CSV:\"CSV\", GEO_JSON:\"GEO_JSON\", KML:\"KML\", KMZ:\"KMZ\", SHP:\"SHP\", TABLE_FILE_FORMAT_UNSPECIFIED:\"TABLE_FILE_FORMAT_UNSPECIFIED\", TF_RECORD_TABLE:\"TF_RECORD_TABLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.TABLE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.CSV, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.GEO_JSON, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.KML, \n  module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.KMZ, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.SHP, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.TF_RECORD_TABLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITableFileFormatEnum = function module$contents$eeapiclient$ee_api_client_ITableFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileFormatEnum = {CSV:\"CSV\", GEO_JSON:\"GEO_JSON\", KML:\"KML\", KMZ:\"KMZ\", SHP:\"SHP\", TABLE_FILE_FORMAT_UNSPECIFIED:\"TABLE_FILE_FORMAT_UNSPECIFIED\", TF_RECORD_TABLE:\"TF_RECORD_TABLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.TABLE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.CSV, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.GEO_JSON, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.KML, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.KMZ, \n  module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.SHP, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.TF_RECORD_TABLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITableSourceCsvColumnDataTypeOverridesEnum = function module$contents$eeapiclient$ee_api_client_ITableSourceCsvColumnDataTypeOverridesEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum = {CSV_COLUMN_DATA_TYPE_NUMERIC:\"CSV_COLUMN_DATA_TYPE_NUMERIC\", CSV_COLUMN_DATA_TYPE_STRING:\"CSV_COLUMN_DATA_TYPE_STRING\", CSV_COLUMN_DATA_TYPE_UNSPECIFIED:\"CSV_COLUMN_DATA_TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_STRING, module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_NUMERIC];\n}};\nmodule$exports$eeapiclient$ee_api_client.IThinningOptionsThinningStrategyEnum = function module$contents$eeapiclient$ee_api_client_IThinningOptionsThinningStrategyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum = {GLOBALLY_CONSISTENT:\"GLOBALLY_CONSISTENT\", HIGHER_DENSITY:\"HIGHER_DENSITY\", UNKNOWN_THINNING_STRATEGY:\"UNKNOWN_THINNING_STRATEGY\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.UNKNOWN_THINNING_STRATEGY, module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.GLOBALLY_CONSISTENT, module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.HIGHER_DENSITY];\n}};\nmodule$exports$eeapiclient$ee_api_client.IThumbnailFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IThumbnailFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITilesetBandPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_ITilesetBandPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MIN, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MAX, \n  module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITilesetDataTypeEnum = function module$contents$eeapiclient$ee_api_client_ITilesetDataTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum = {DATA_TYPE_UNSPECIFIED:\"DATA_TYPE_UNSPECIFIED\", DOUBLE:\"DOUBLE\", FLOAT:\"FLOAT\", INT16:\"INT16\", INT32:\"INT32\", INT8:\"INT8\", UINT16:\"UINT16\", UINT32:\"UINT32\", UINT8:\"UINT8\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.DATA_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT8, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT8, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT16, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT16, \n  module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT32, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT32, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.FLOAT, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.DOUBLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IVideoFileExportOptionsFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IVideoFileExportOptionsFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum = {GIF:\"GIF\", MP4:\"MP4\", VIDEO_FILE_FORMAT_UNSPECIFIED:\"VIDEO_FILE_FORMAT_UNSPECIFIED\", VP9:\"VP9\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.VIDEO_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.MP4, module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.GIF, module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.VP9];\n}};\nmodule$exports$eeapiclient$ee_api_client.IVideoThumbnailFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IVideoThumbnailFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum = {GIF:\"GIF\", MP4:\"MP4\", VIDEO_FILE_FORMAT_UNSPECIFIED:\"VIDEO_FILE_FORMAT_UNSPECIFIED\", VP9:\"VP9\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.VIDEO_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.MP4, module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.GIF, module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.VP9];\n}};\nmodule$exports$eeapiclient$ee_api_client.AffineTransformParameters = function module$contents$eeapiclient$ee_api_client_AffineTransformParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AffineTransform = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"scaleX\", null == parameters.scaleX ? null : parameters.scaleX);\n  this.Serializable$set(\"shearX\", null == parameters.shearX ? null : parameters.shearX);\n  this.Serializable$set(\"translateX\", null == parameters.translateX ? null : parameters.translateX);\n  this.Serializable$set(\"shearY\", null == parameters.shearY ? null : parameters.shearY);\n  this.Serializable$set(\"scaleY\", null == parameters.scaleY ? null : parameters.scaleY);\n  this.Serializable$set(\"translateY\", null == parameters.translateY ? null : parameters.translateY);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AffineTransform, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AffineTransform.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AffineTransform;\n};\nmodule$exports$eeapiclient$ee_api_client.AffineTransform.prototype.getPartialClassMetadata = function() {\n  return {keys:\"scaleX scaleY shearX shearY translateX translateY\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AffineTransform.prototype, {scaleX:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scaleX\") ? this.Serializable$get(\"scaleX\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scaleX\", value);\n}}, scaleY:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scaleY\") ? this.Serializable$get(\"scaleY\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scaleY\", value);\n}}, shearX:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"shearX\") ? this.Serializable$get(\"shearX\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"shearX\", value);\n}}, shearY:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"shearY\") ? this.Serializable$get(\"shearY\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"shearY\", value);\n}}, translateX:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"translateX\") ? this.Serializable$get(\"translateX\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"translateX\", value);\n}}, translateY:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"translateY\") ? this.Serializable$get(\"translateY\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"translateY\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AlgorithmParameters = function module$contents$eeapiclient$ee_api_client_AlgorithmParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Algorithm = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"returnType\", null == parameters.returnType ? null : parameters.returnType);\n  this.Serializable$set(\"arguments\", null == parameters.arguments ? null : parameters.arguments);\n  this.Serializable$set(\"deprecated\", null == parameters.deprecated ? null : parameters.deprecated);\n  this.Serializable$set(\"deprecationReason\", null == parameters.deprecationReason ? null : parameters.deprecationReason);\n  this.Serializable$set(\"hidden\", null == parameters.hidden ? null : parameters.hidden);\n  this.Serializable$set(\"preview\", null == parameters.preview ? null : parameters.preview);\n  this.Serializable$set(\"sourceCodeUri\", null == parameters.sourceCodeUri ? null : parameters.sourceCodeUri);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Algorithm, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Algorithm.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Algorithm;\n};\nmodule$exports$eeapiclient$ee_api_client.Algorithm.prototype.getPartialClassMetadata = function() {\n  return {arrays:{arguments:module$exports$eeapiclient$ee_api_client.AlgorithmArgument}, keys:\"arguments deprecated deprecationReason description hidden name preview returnType sourceCodeUri\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Algorithm.prototype, {arguments:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"arguments\") ? this.Serializable$get(\"arguments\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"arguments\", value);\n}}, deprecated:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"deprecated\") ? this.Serializable$get(\"deprecated\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"deprecated\", value);\n}}, deprecationReason:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"deprecationReason\") ? this.Serializable$get(\"deprecationReason\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"deprecationReason\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, hidden:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"hidden\") ? this.Serializable$get(\"hidden\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"hidden\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, preview:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"preview\") ? this.Serializable$get(\"preview\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"preview\", value);\n}}, returnType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"returnType\") ? this.Serializable$get(\"returnType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"returnType\", value);\n}}, sourceCodeUri:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sourceCodeUri\") ? this.Serializable$get(\"sourceCodeUri\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sourceCodeUri\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgumentParameters = function module$contents$eeapiclient$ee_api_client_AlgorithmArgumentParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgument = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"argumentName\", null == parameters.argumentName ? null : parameters.argumentName);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"optional\", null == parameters.optional ? null : parameters.optional);\n  this.Serializable$set(\"defaultValue\", null == parameters.defaultValue ? null : parameters.defaultValue);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AlgorithmArgument, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AlgorithmArgument;\n};\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"argumentName\", \"defaultValue\", \"description\", \"optional\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype, {argumentName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"argumentName\") ? this.Serializable$get(\"argumentName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"argumentName\", value);\n}}, defaultValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"defaultValue\") ? this.Serializable$get(\"defaultValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"defaultValue\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, optional:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"optional\") ? this.Serializable$get(\"optional\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"optional\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ArrayValueParameters = function module$contents$eeapiclient$ee_api_client_ArrayValueParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ArrayValue = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ArrayValue, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ArrayValue.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ArrayValue;\n};\nmodule$exports$eeapiclient$ee_api_client.ArrayValue.prototype.getPartialClassMetadata = function() {\n  return {arrays:{values:module$exports$eeapiclient$ee_api_client.ValueNode}, keys:[\"values\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ArrayValue.prototype, {values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AuditConfigParameters = function module$contents$eeapiclient$ee_api_client_AuditConfigParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuditConfig = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"service\", null == parameters.service ? null : parameters.service);\n  this.Serializable$set(\"exemptedMembers\", null == parameters.exemptedMembers ? null : parameters.exemptedMembers);\n  this.Serializable$set(\"auditLogConfigs\", null == parameters.auditLogConfigs ? null : parameters.auditLogConfigs);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuditConfig, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AuditConfig.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AuditConfig;\n};\nmodule$exports$eeapiclient$ee_api_client.AuditConfig.prototype.getPartialClassMetadata = function() {\n  return {arrays:{auditLogConfigs:module$exports$eeapiclient$ee_api_client.AuditLogConfig}, keys:[\"auditLogConfigs\", \"exemptedMembers\", \"service\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditConfig.prototype, {auditLogConfigs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"auditLogConfigs\") ? this.Serializable$get(\"auditLogConfigs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"auditLogConfigs\", value);\n}}, exemptedMembers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"exemptedMembers\") ? this.Serializable$get(\"exemptedMembers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"exemptedMembers\", value);\n}}, service:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"service\") ? this.Serializable$get(\"service\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"service\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfigParameters = function module$contents$eeapiclient$ee_api_client_AuditLogConfigParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfig = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"logType\", null == parameters.logType ? null : parameters.logType);\n  this.Serializable$set(\"exemptedMembers\", null == parameters.exemptedMembers ? null : parameters.exemptedMembers);\n  this.Serializable$set(\"ignoreChildExemptions\", null == parameters.ignoreChildExemptions ? null : parameters.ignoreChildExemptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuditLogConfig, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AuditLogConfig;\n};\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype.getPartialClassMetadata = function() {\n  return {enums:{logType:module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum}, keys:[\"exemptedMembers\", \"ignoreChildExemptions\", \"logType\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype, {exemptedMembers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"exemptedMembers\") ? this.Serializable$get(\"exemptedMembers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"exemptedMembers\", value);\n}}, ignoreChildExemptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ignoreChildExemptions\") ? this.Serializable$get(\"ignoreChildExemptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ignoreChildExemptions\", value);\n}}, logType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logType\") ? this.Serializable$get(\"logType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logType\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditLogConfig, {LogType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsParameters = function module$contents$eeapiclient$ee_api_client_AuthorizationLoggingOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"permissionType\", null == parameters.permissionType ? null : parameters.permissionType);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{permissionType:module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum}, keys:[\"permissionType\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype, {permissionType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissionType\") ? this.Serializable$get(\"permissionType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissionType\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions, {PermissionType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.BindingParameters = function module$contents$eeapiclient$ee_api_client_BindingParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Binding = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"role\", null == parameters.role ? null : parameters.role);\n  this.Serializable$set(\"members\", null == parameters.members ? null : parameters.members);\n  this.Serializable$set(\"condition\", null == parameters.condition ? null : parameters.condition);\n  this.Serializable$set(\"bindingId\", null == parameters.bindingId ? null : parameters.bindingId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Binding, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Binding.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Binding;\n};\nmodule$exports$eeapiclient$ee_api_client.Binding.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"bindingId\", \"condition\", \"members\", \"role\"], objects:{condition:module$exports$eeapiclient$ee_api_client.Expr}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Binding.prototype, {bindingId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bindingId\") ? this.Serializable$get(\"bindingId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bindingId\", value);\n}}, condition:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"condition\") ? this.Serializable$get(\"condition\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"condition\", value);\n}}, members:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"members\") ? this.Serializable$get(\"members\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"members\", value);\n}}, role:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"role\") ? this.Serializable$get(\"role\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"role\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequestParameters = function module$contents$eeapiclient$ee_api_client_CancelOperationRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CancelOperationRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CancelOperationRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesParameters = function module$contents$eeapiclient$ee_api_client_CapabilitiesParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Capabilities = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"capabilities\", null == parameters.capabilities ? null : parameters.capabilities);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Capabilities, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Capabilities.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Capabilities;\n};\nmodule$exports$eeapiclient$ee_api_client.Capabilities.prototype.getPartialClassMetadata = function() {\n  return {enums:{capabilities:module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum}, keys:[\"capabilities\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Capabilities.prototype, {capabilities:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"capabilities\") ? this.Serializable$get(\"capabilities\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"capabilities\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Capabilities, {Capabilities:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_ClassifierAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"earthEngineDestination\", null == parameters.earthEngineDestination ? null : parameters.earthEngineDestination);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"earthEngineDestination\"], objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype, {earthEngineDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"earthEngineDestination\") ? this.Serializable$get(\"earthEngineDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"earthEngineDestination\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptionsParameters = function module$contents$eeapiclient$ee_api_client_CloudAuditOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"logName\", null == parameters.logName ? null : parameters.logName);\n  this.Serializable$set(\"authorizationLoggingOptions\", null == parameters.authorizationLoggingOptions ? null : parameters.authorizationLoggingOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudAuditOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CloudAuditOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{logName:module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum}, keys:[\"authorizationLoggingOptions\", \"logName\"], objects:{authorizationLoggingOptions:module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype, {authorizationLoggingOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"authorizationLoggingOptions\") ? this.Serializable$get(\"authorizationLoggingOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"authorizationLoggingOptions\", value);\n}}, logName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logName\") ? this.Serializable$get(\"logName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logName\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudAuditOptions, {LogName:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestinationParameters = function module$contents$eeapiclient$ee_api_client_CloudStorageDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"bucket\", null == parameters.bucket ? null : parameters.bucket);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n  this.Serializable$set(\"bucketCorsUris\", null == parameters.bucketCorsUris ? null : parameters.bucketCorsUris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudStorageDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CloudStorageDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype.getPartialClassMetadata = function() {\n  return {enums:{permissions:module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum}, keys:[\"bucket\", \"bucketCorsUris\", \"filenamePrefix\", \"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype, {bucket:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucket\") ? this.Serializable$get(\"bucket\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucket\", value);\n}}, bucketCorsUris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucketCorsUris\") ? this.Serializable$get(\"bucketCorsUris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucketCorsUris\", value);\n}}, filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageDestination, {Permissions:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocationParameters = function module$contents$eeapiclient$ee_api_client_CloudStorageLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudStorageLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CloudStorageLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"uris\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype, {uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputeFeaturesRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"pageSize\", null == parameters.pageSize ? null : parameters.pageSize);\n  this.Serializable$set(\"pageToken\", null == parameters.pageToken ? null : parameters.pageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"expression\", \"pageSize\", \"pageToken\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, pageSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageSize\") ? this.Serializable$get(\"pageSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageSize\", value);\n}}, pageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageToken\") ? this.Serializable$get(\"pageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponseParameters = function module$contents$eeapiclient$ee_api_client_ComputeFeaturesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"features\", null == parameters.features ? null : parameters.features);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{features:module$exports$eeapiclient$ee_api_client.Feature}, keys:[\"features\", \"nextPageToken\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype, {features:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"features\") ? this.Serializable$get(\"features\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"features\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputeImagesRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"pageSize\", null == parameters.pageSize ? null : parameters.pageSize);\n  this.Serializable$set(\"pageToken\", null == parameters.pageToken ? null : parameters.pageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeImagesRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeImagesRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"expression\", \"pageSize\", \"pageToken\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, pageSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageSize\") ? this.Serializable$get(\"pageSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageSize\", value);\n}}, pageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageToken\") ? this.Serializable$get(\"pageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponseParameters = function module$contents$eeapiclient$ee_api_client_ComputeImagesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"images\", null == parameters.images ? null : parameters.images);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeImagesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeImagesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{images:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}, keys:[\"images\", \"nextPageToken\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype, {images:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"images\") ? this.Serializable$get(\"images\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"images\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputePixelsRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputePixelsRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum}, keys:[\"bandIds\", \"expression\", \"fileFormat\", \"grid\", \"visualizationOptions\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputeValueRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeValueRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeValueRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"expression\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponseParameters = function module$contents$eeapiclient$ee_api_client_ComputeValueResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"result\", null == parameters.result ? null : parameters.result);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeValueResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeValueResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"result\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype, {result:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"result\") ? this.Serializable$get(\"result\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"result\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ConditionParameters = function module$contents$eeapiclient$ee_api_client_ConditionParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Condition = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"iam\", null == parameters.iam ? null : parameters.iam);\n  this.Serializable$set(\"sys\", null == parameters.sys ? null : parameters.sys);\n  this.Serializable$set(\"svc\", null == parameters.svc ? null : parameters.svc);\n  this.Serializable$set(\"op\", null == parameters.op ? null : parameters.op);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Condition, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Condition.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Condition;\n};\nmodule$exports$eeapiclient$ee_api_client.Condition.prototype.getPartialClassMetadata = function() {\n  return {enums:{iam:module$exports$eeapiclient$ee_api_client.ConditionIamEnum, op:module$exports$eeapiclient$ee_api_client.ConditionOpEnum, sys:module$exports$eeapiclient$ee_api_client.ConditionSysEnum}, keys:[\"iam\", \"op\", \"svc\", \"sys\", \"values\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Condition.prototype, {iam:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"iam\") ? this.Serializable$get(\"iam\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"iam\", value);\n}}, op:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"op\") ? this.Serializable$get(\"op\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"op\", value);\n}}, svc:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"svc\") ? this.Serializable$get(\"svc\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"svc\", value);\n}}, sys:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sys\") ? this.Serializable$get(\"sys\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sys\", value);\n}}, values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Condition, {Iam:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ConditionIamEnum;\n}}, Op:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ConditionOpEnum;\n}}, Sys:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ConditionSysEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_CopyAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"destinationName\", null == parameters.destinationName ? null : parameters.destinationName);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CopyAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CopyAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"bandIds\", \"destinationName\", \"overwrite\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, destinationName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationName\") ? this.Serializable$get(\"destinationName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationName\", value);\n}}, overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CounterOptionsParameters = function module$contents$eeapiclient$ee_api_client_CounterOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CounterOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"metric\", null == parameters.metric ? null : parameters.metric);\n  this.Serializable$set(\"field\", null == parameters.field ? null : parameters.field);\n  this.Serializable$set(\"customFields\", null == parameters.customFields ? null : parameters.customFields);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CounterOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CounterOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CounterOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.CounterOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{customFields:module$exports$eeapiclient$ee_api_client.CustomField}, keys:[\"customFields\", \"field\", \"metric\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CounterOptions.prototype, {customFields:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"customFields\") ? this.Serializable$get(\"customFields\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"customFields\", value);\n}}, field:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"field\") ? this.Serializable$get(\"field\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"field\", value);\n}}, metric:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"metric\") ? this.Serializable$get(\"metric\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"metric\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CustomFieldParameters = function module$contents$eeapiclient$ee_api_client_CustomFieldParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CustomField = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"value\", null == parameters.value ? null : parameters.value);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CustomField, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CustomField.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CustomField;\n};\nmodule$exports$eeapiclient$ee_api_client.CustomField.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"name\", \"value\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CustomField.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, value:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"value\") ? this.Serializable$get(\"value\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"value\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DMSMapParameters = function module$contents$eeapiclient$ee_api_client_DMSMapParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DMSMap = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"asset\", null == parameters.asset ? null : parameters.asset);\n  this.Serializable$set(\"dmsName\", null == parameters.dmsName ? null : parameters.dmsName);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n  this.Serializable$set(\"visualizationExpression\", null == parameters.visualizationExpression ? null : parameters.visualizationExpression);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DMSMap, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DMSMap.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DMSMap;\n};\nmodule$exports$eeapiclient$ee_api_client.DMSMap.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"asset\", \"dmsName\", \"name\", \"visualizationExpression\", \"visualizationOptions\"], objects:{visualizationExpression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DMSMap.prototype, {asset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"asset\") ? this.Serializable$get(\"asset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"asset\", value);\n}}, dmsName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsName\") ? this.Serializable$get(\"dmsName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsName\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationExpression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationExpression\") ? this.Serializable$get(\"visualizationExpression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationExpression\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptionsParameters = function module$contents$eeapiclient$ee_api_client_DataAccessOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"logMode\", null == parameters.logMode ? null : parameters.logMode);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DataAccessOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DataAccessOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{logMode:module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum}, keys:[\"logMode\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype, {logMode:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logMode\") ? this.Serializable$get(\"logMode\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logMode\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DataAccessOptions, {LogMode:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.DictionaryValueParameters = function module$contents$eeapiclient$ee_api_client_DictionaryValueParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DictionaryValue = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DictionaryValue, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DictionaryValue.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DictionaryValue;\n};\nmodule$exports$eeapiclient$ee_api_client.DictionaryValue.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"values\"], objectMaps:{values:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode, isPropertyArray:!1, isSerializable:!0, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DictionaryValue.prototype, {values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_DmsAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"dmsDestination\", null == parameters.dmsDestination ? null : parameters.dmsDestination);\n  this.Serializable$set(\"ingestionTimeParameters\", null == parameters.ingestionTimeParameters ? null : parameters.ingestionTimeParameters);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"dmsDestination\", \"ingestionTimeParameters\"], objects:{dmsDestination:module$exports$eeapiclient$ee_api_client.DmsDestination, ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions.prototype, {dmsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsDestination\") ? this.Serializable$get(\"dmsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsDestination\", value);\n}}, ingestionTimeParameters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ingestionTimeParameters\") ? this.Serializable$get(\"ingestionTimeParameters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ingestionTimeParameters\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsAttributeParameters = function module$contents$eeapiclient$ee_api_client_DmsAttributeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsAttribute = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsAttribute, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsAttribute.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsAttribute;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsAttribute.prototype.getPartialClassMetadata = function() {\n  return {enums:{type:module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum}, keys:[\"name\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsAttribute.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsAttribute, {Type:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsDestinationParameters = function module$contents$eeapiclient$ee_api_client_DmsDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"dmsName\", null == parameters.dmsName ? null : parameters.dmsName);\n  this.Serializable$set(\"assetVersion\", null == parameters.assetVersion ? null : parameters.assetVersion);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"assetVersion\", \"dmsName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsDestination.prototype, {assetVersion:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetVersion\") ? this.Serializable$get(\"assetVersion\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetVersion\", value);\n}}, dmsName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsName\") ? this.Serializable$get(\"dmsName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsIngestionTimeParametersParameters = function module$contents$eeapiclient$ee_api_client_DmsIngestionTimeParametersParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"thinningOptions\", null == parameters.thinningOptions ? null : parameters.thinningOptions);\n  this.Serializable$set(\"rankingOptions\", null == parameters.rankingOptions ? null : parameters.rankingOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"rankingOptions\", \"thinningOptions\"], objects:{rankingOptions:module$exports$eeapiclient$ee_api_client.RankingOptions, thinningOptions:module$exports$eeapiclient$ee_api_client.ThinningOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters.prototype, {rankingOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankingOptions\") ? this.Serializable$get(\"rankingOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankingOptions\", value);\n}}, thinningOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningOptions\") ? this.Serializable$get(\"thinningOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsLocationParameters = function module$contents$eeapiclient$ee_api_client_DmsLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"location\", null == parameters.location ? null : parameters.location);\n  this.Serializable$set(\"dmsAssetOptions\", null == parameters.dmsAssetOptions ? null : parameters.dmsAssetOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"dmsAssetOptions\", \"location\"], objects:{dmsAssetOptions:module$exports$eeapiclient$ee_api_client.DmsOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsLocation.prototype, {dmsAssetOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsAssetOptions\") ? this.Serializable$get(\"dmsAssetOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsAssetOptions\", value);\n}}, location:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"location\") ? this.Serializable$get(\"location\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"location\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsOptionsParameters = function module$contents$eeapiclient$ee_api_client_DmsOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"attributes\", null == parameters.attributes ? null : parameters.attributes);\n  this.Serializable$set(\"dmsAttributes\", null == parameters.dmsAttributes ? null : parameters.dmsAttributes);\n  this.Serializable$set(\"ingestionTimeParameters\", null == parameters.ingestionTimeParameters ? null : parameters.ingestionTimeParameters);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{dmsAttributes:module$exports$eeapiclient$ee_api_client.DmsAttribute}, keys:[\"attributes\", \"dmsAttributes\", \"ingestionTimeParameters\"], objects:{ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsOptions.prototype, {attributes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"attributes\") ? this.Serializable$get(\"attributes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"attributes\", value);\n}}, dmsAttributes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsAttributes\") ? this.Serializable$get(\"dmsAttributes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsAttributes\", value);\n}}, ingestionTimeParameters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ingestionTimeParameters\") ? this.Serializable$get(\"ingestionTimeParameters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ingestionTimeParameters\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DoubleRangeParameters = function module$contents$eeapiclient$ee_api_client_DoubleRangeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DoubleRange = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"min\", null == parameters.min ? null : parameters.min);\n  this.Serializable$set(\"max\", null == parameters.max ? null : parameters.max);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DoubleRange, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DoubleRange.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DoubleRange;\n};\nmodule$exports$eeapiclient$ee_api_client.DoubleRange.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"max\", \"min\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DoubleRange.prototype, {max:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"max\") ? this.Serializable$get(\"max\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"max\", value);\n}}, min:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"min\") ? this.Serializable$get(\"min\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"min\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DriveDestinationParameters = function module$contents$eeapiclient$ee_api_client_DriveDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DriveDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"folder\", null == parameters.folder ? null : parameters.folder);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DriveDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DriveDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DriveDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.DriveDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"filenamePrefix\", \"folder\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DriveDestination.prototype, {filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, folder:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"folder\") ? this.Serializable$get(\"folder\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"folder\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAssetParameters = function module$contents$eeapiclient$ee_api_client_EarthEngineAssetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAsset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tilestoreLocation\", null == parameters.tilestoreLocation ? null : parameters.tilestoreLocation);\n  this.Serializable$set(\"cloudStorageLocation\", null == parameters.cloudStorageLocation ? null : parameters.cloudStorageLocation);\n  this.Serializable$set(\"tilestoreEntry\", null == parameters.tilestoreEntry ? null : parameters.tilestoreEntry);\n  this.Serializable$set(\"gcsLocation\", null == parameters.gcsLocation ? null : parameters.gcsLocation);\n  this.Serializable$set(\"featureViewAssetLocation\", null == parameters.featureViewAssetLocation ? null : parameters.featureViewAssetLocation);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"updateTime\", null == parameters.updateTime ? null : parameters.updateTime);\n  this.Serializable$set(\"title\", null == parameters.title ? null : parameters.title);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"geometry\", null == parameters.geometry ? null : parameters.geometry);\n  this.Serializable$set(\"bands\", null == parameters.bands ? null : parameters.bands);\n  this.Serializable$set(\"sizeBytes\", null == parameters.sizeBytes ? null : parameters.sizeBytes);\n  this.Serializable$set(\"featureCount\", null == parameters.featureCount ? null : parameters.featureCount);\n  this.Serializable$set(\"quota\", null == parameters.quota ? null : parameters.quota);\n  this.Serializable$set(\"dmsAssetLocation\", null == parameters.dmsAssetLocation ? null : parameters.dmsAssetLocation);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineAsset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineAsset;\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype.getPartialClassMetadata = function() {\n  return {arrays:{bands:module$exports$eeapiclient$ee_api_client.ImageBand}, enums:{type:module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum}, keys:\"bands cloudStorageLocation description dmsAssetLocation endTime expression featureCount featureViewAssetLocation gcsLocation geometry id name properties quota sizeBytes startTime tilestoreEntry tilestoreLocation title type updateTime\".split(\" \"), objectMaps:{geometry:{ctor:null, \n  isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{cloudStorageLocation:module$exports$eeapiclient$ee_api_client.CloudStorageLocation, dmsAssetLocation:module$exports$eeapiclient$ee_api_client.DmsLocation, expression:module$exports$eeapiclient$ee_api_client.Expression, featureViewAssetLocation:module$exports$eeapiclient$ee_api_client.FeatureViewLocation, \n  gcsLocation:module$exports$eeapiclient$ee_api_client.GcsLocation, quota:module$exports$eeapiclient$ee_api_client.FolderQuota, tilestoreEntry:module$exports$eeapiclient$ee_api_client.TilestoreEntry, tilestoreLocation:module$exports$eeapiclient$ee_api_client.TilestoreLocation}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype, {bands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bands\") ? this.Serializable$get(\"bands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bands\", value);\n}}, cloudStorageLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageLocation\") ? this.Serializable$get(\"cloudStorageLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageLocation\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, dmsAssetLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsAssetLocation\") ? this.Serializable$get(\"dmsAssetLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsAssetLocation\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, featureCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureCount\") ? this.Serializable$get(\"featureCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureCount\", value);\n}}, featureViewAssetLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewAssetLocation\") ? this.Serializable$get(\"featureViewAssetLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewAssetLocation\", value);\n}}, gcsLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsLocation\") ? this.Serializable$get(\"gcsLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsLocation\", value);\n}}, geometry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geometry\") ? this.Serializable$get(\"geometry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geometry\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, quota:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"quota\") ? this.Serializable$get(\"quota\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"quota\", value);\n}}, sizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sizeBytes\") ? this.Serializable$get(\"sizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sizeBytes\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, tilestoreEntry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilestoreEntry\") ? this.Serializable$get(\"tilestoreEntry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilestoreEntry\", value);\n}}, tilestoreLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilestoreLocation\") ? this.Serializable$get(\"tilestoreLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilestoreLocation\", value);\n}}, title:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"title\") ? this.Serializable$get(\"title\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"title\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}, updateTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateTime\") ? this.Serializable$get(\"updateTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateTime\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineAsset, {Type:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestinationParameters = function module$contents$eeapiclient$ee_api_client_EarthEngineDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"name\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMapParameters = function module$contents$eeapiclient$ee_api_client_EarthEngineMapParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMap = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineMap, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineMap;\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum}, keys:[\"bandIds\", \"expression\", \"fileFormat\", \"name\", \"visualizationOptions\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineMap, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.EmptyParameters = function module$contents$eeapiclient$ee_api_client_EmptyParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Empty = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Empty, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Empty.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Empty;\n};\nmodule$exports$eeapiclient$ee_api_client.Empty.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportClassifierRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"assetExportOptions\", null == parameters.assetExportOptions ? null : parameters.assetExportOptions);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportClassifierRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportClassifierRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"assetExportOptions description expression maxWorkerCount maxWorkers requestId\".split(\" \"), objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions, expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype, {assetExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetExportOptions\") ? this.Serializable$get(\"assetExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetExportOptions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportImageRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileExportOptions\", null == parameters.fileExportOptions ? null : parameters.fileExportOptions);\n  this.Serializable$set(\"assetExportOptions\", null == parameters.assetExportOptions ? null : parameters.assetExportOptions);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"maxPixels\", null == parameters.maxPixels ? null : parameters.maxPixels);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportImageRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportImageRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"assetExportOptions description expression fileExportOptions grid maxPixels maxWorkerCount maxWorkers requestId\".split(\" \"), objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions, expression:module$exports$eeapiclient$ee_api_client.Expression, fileExportOptions:module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, grid:module$exports$eeapiclient$ee_api_client.PixelGrid}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype, {assetExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetExportOptions\") ? this.Serializable$get(\"assetExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetExportOptions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileExportOptions\") ? this.Serializable$get(\"fileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileExportOptions\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, maxPixels:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxPixels\") ? this.Serializable$get(\"maxPixels\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxPixels\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportMapRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"tileOptions\", null == parameters.tileOptions ? null : parameters.tileOptions);\n  this.Serializable$set(\"tileExportOptions\", null == parameters.tileExportOptions ? null : parameters.tileExportOptions);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportMapRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportMapRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"description expression maxWorkerCount maxWorkers requestId tileExportOptions tileOptions\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, tileExportOptions:module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, tileOptions:module$exports$eeapiclient$ee_api_client.TileOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, tileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileExportOptions\") ? this.Serializable$get(\"tileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileExportOptions\", value);\n}}, tileOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileOptions\") ? this.Serializable$get(\"tileOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportTableRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileExportOptions\", null == parameters.fileExportOptions ? null : parameters.fileExportOptions);\n  this.Serializable$set(\"assetExportOptions\", null == parameters.assetExportOptions ? null : parameters.assetExportOptions);\n  this.Serializable$set(\"dmsExportOptions\", null == parameters.dmsExportOptions ? null : parameters.dmsExportOptions);\n  this.Serializable$set(\"featureViewExportOptions\", null == parameters.featureViewExportOptions ? null : parameters.featureViewExportOptions);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"selectors\", null == parameters.selectors ? null : parameters.selectors);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxErrorMeters\", null == parameters.maxErrorMeters ? null : parameters.maxErrorMeters);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n  this.Serializable$set(\"maxVertices\", null == parameters.maxVertices ? null : parameters.maxVertices);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportTableRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportTableRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"assetExportOptions description dmsExportOptions expression featureViewExportOptions fileExportOptions maxErrorMeters maxVertices maxWorkerCount maxWorkers requestId selectors\".split(\" \"), objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.TableAssetExportOptions, dmsExportOptions:module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions, expression:module$exports$eeapiclient$ee_api_client.Expression, \n  featureViewExportOptions:module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions, fileExportOptions:module$exports$eeapiclient$ee_api_client.TableFileExportOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype, {assetExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetExportOptions\") ? this.Serializable$get(\"assetExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetExportOptions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, dmsExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsExportOptions\") ? this.Serializable$get(\"dmsExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsExportOptions\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, featureViewExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewExportOptions\") ? this.Serializable$get(\"featureViewExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewExportOptions\", value);\n}}, fileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileExportOptions\") ? this.Serializable$get(\"fileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileExportOptions\", value);\n}}, maxErrorMeters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxErrorMeters\") ? this.Serializable$get(\"maxErrorMeters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxErrorMeters\", value);\n}}, maxVertices:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxVertices\") ? this.Serializable$get(\"maxVertices\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxVertices\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, selectors:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"selectors\") ? this.Serializable$get(\"selectors\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"selectors\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportVideoMapRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"videoOptions\", null == parameters.videoOptions ? null : parameters.videoOptions);\n  this.Serializable$set(\"tileOptions\", null == parameters.tileOptions ? null : parameters.tileOptions);\n  this.Serializable$set(\"tileExportOptions\", null == parameters.tileExportOptions ? null : parameters.tileExportOptions);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"version\", null == parameters.version ? null : parameters.version);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{version:module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum}, keys:\"description expression maxWorkerCount maxWorkers requestId tileExportOptions tileOptions version videoOptions\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, tileExportOptions:module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, tileOptions:module$exports$eeapiclient$ee_api_client.TileOptions, \n  videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, tileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileExportOptions\") ? this.Serializable$get(\"tileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileExportOptions\", value);\n}}, tileOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileOptions\") ? this.Serializable$get(\"tileOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileOptions\", value);\n}}, version:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"version\") ? this.Serializable$get(\"version\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"version\", value);\n}}, videoOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"videoOptions\") ? this.Serializable$get(\"videoOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"videoOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest, {Version:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportVideoRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"videoOptions\", null == parameters.videoOptions ? null : parameters.videoOptions);\n  this.Serializable$set(\"fileExportOptions\", null == parameters.fileExportOptions ? null : parameters.fileExportOptions);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportVideoRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportVideoRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"description expression fileExportOptions maxWorkerCount maxWorkers requestId videoOptions\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, fileExportOptions:module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileExportOptions\") ? this.Serializable$get(\"fileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileExportOptions\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, videoOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"videoOptions\") ? this.Serializable$get(\"videoOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"videoOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExprParameters = function module$contents$eeapiclient$ee_api_client_ExprParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Expr = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"title\", null == parameters.title ? null : parameters.title);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"location\", null == parameters.location ? null : parameters.location);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Expr, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Expr.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Expr;\n};\nmodule$exports$eeapiclient$ee_api_client.Expr.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"description\", \"expression\", \"location\", \"title\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Expr.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, location:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"location\") ? this.Serializable$get(\"location\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"location\", value);\n}}, title:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"title\") ? this.Serializable$get(\"title\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"title\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExpressionParameters = function module$contents$eeapiclient$ee_api_client_ExpressionParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Expression = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n  this.Serializable$set(\"result\", null == parameters.result ? null : parameters.result);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Expression, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Expression.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Expression;\n};\nmodule$exports$eeapiclient$ee_api_client.Expression.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"result\", \"values\"], objectMaps:{values:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode, isPropertyArray:!1, isSerializable:!0, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Expression.prototype, {result:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"result\") ? this.Serializable$get(\"result\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"result\", value);\n}}, values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureParameters = function module$contents$eeapiclient$ee_api_client_FeatureParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Feature = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"geometry\", null == parameters.geometry ? null : parameters.geometry);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Feature, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Feature.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Feature;\n};\nmodule$exports$eeapiclient$ee_api_client.Feature.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"geometry\", \"properties\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Feature.prototype, {geometry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geometry\") ? this.Serializable$get(\"geometry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geometry\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureView = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"asset\", null == parameters.asset ? null : parameters.asset);\n  this.Serializable$set(\"mapName\", null == parameters.mapName ? null : parameters.mapName);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"visualizationExpression\", null == parameters.visualizationExpression ? null : parameters.visualizationExpression);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureView, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureView.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureView;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureView.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"asset\", \"mapName\", \"name\", \"visualizationExpression\"], objects:{visualizationExpression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureView.prototype, {asset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"asset\") ? this.Serializable$get(\"asset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"asset\", value);\n}}, mapName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"mapName\") ? this.Serializable$get(\"mapName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"mapName\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationExpression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationExpression\") ? this.Serializable$get(\"visualizationExpression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationExpression\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"featureViewDestination\", null == parameters.featureViewDestination ? null : parameters.featureViewDestination);\n  this.Serializable$set(\"ingestionTimeParameters\", null == parameters.ingestionTimeParameters ? null : parameters.ingestionTimeParameters);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"featureViewDestination\", \"ingestionTimeParameters\"], objects:{featureViewDestination:module$exports$eeapiclient$ee_api_client.FeatureViewDestination, ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype, {featureViewDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewDestination\") ? this.Serializable$get(\"featureViewDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewDestination\", value);\n}}, ingestionTimeParameters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ingestionTimeParameters\") ? this.Serializable$get(\"ingestionTimeParameters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ingestionTimeParameters\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttributeParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewAttributeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttribute = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewAttribute;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype.getPartialClassMetadata = function() {\n  return {enums:{type:module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum}, keys:[\"name\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute, {Type:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestinationParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"assetVersion\", null == parameters.assetVersion ? null : parameters.assetVersion);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"assetVersion\", \"name\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype, {assetVersion:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetVersion\") ? this.Serializable$get(\"assetVersion\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetVersion\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParametersParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewIngestionTimeParametersParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"thinningOptions\", null == parameters.thinningOptions ? null : parameters.thinningOptions);\n  this.Serializable$set(\"rankingOptions\", null == parameters.rankingOptions ? null : parameters.rankingOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"rankingOptions\", \"thinningOptions\"], objects:{rankingOptions:module$exports$eeapiclient$ee_api_client.RankingOptions, thinningOptions:module$exports$eeapiclient$ee_api_client.ThinningOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype, {rankingOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankingOptions\") ? this.Serializable$get(\"rankingOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankingOptions\", value);\n}}, thinningOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningOptions\") ? this.Serializable$get(\"thinningOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocationParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"location\", null == parameters.location ? null : parameters.location);\n  this.Serializable$set(\"assetOptions\", null == parameters.assetOptions ? null : parameters.assetOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"assetOptions\", \"location\"], objects:{assetOptions:module$exports$eeapiclient$ee_api_client.FeatureViewOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype, {assetOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetOptions\") ? this.Serializable$get(\"assetOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetOptions\", value);\n}}, location:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"location\") ? this.Serializable$get(\"location\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"location\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptionsParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"featureViewAttributes\", null == parameters.featureViewAttributes ? null : parameters.featureViewAttributes);\n  this.Serializable$set(\"ingestionTimeParameters\", null == parameters.ingestionTimeParameters ? null : parameters.ingestionTimeParameters);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{featureViewAttributes:module$exports$eeapiclient$ee_api_client.FeatureViewAttribute}, keys:[\"featureViewAttributes\", \"ingestionTimeParameters\"], objects:{ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype, {featureViewAttributes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewAttributes\") ? this.Serializable$get(\"featureViewAttributes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewAttributes\", value);\n}}, ingestionTimeParameters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ingestionTimeParameters\") ? this.Serializable$get(\"ingestionTimeParameters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ingestionTimeParameters\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnailParameters = function module$contents$eeapiclient$ee_api_client_FilmstripThumbnailParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnail = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"orientation\", null == parameters.orientation ? null : parameters.orientation);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FilmstripThumbnail;\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum, orientation:module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum}, keys:[\"expression\", \"fileFormat\", \"grid\", \"name\", \"orientation\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, orientation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"orientation\") ? this.Serializable$get(\"orientation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"orientation\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum;\n}}, Orientation:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.FolderQuotaParameters = function module$contents$eeapiclient$ee_api_client_FolderQuotaParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FolderQuota = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"sizeBytes\", null == parameters.sizeBytes ? null : parameters.sizeBytes);\n  this.Serializable$set(\"maxSizeBytes\", null == parameters.maxSizeBytes ? null : parameters.maxSizeBytes);\n  this.Serializable$set(\"assetCount\", null == parameters.assetCount ? null : parameters.assetCount);\n  this.Serializable$set(\"maxAssets\", null == parameters.maxAssets ? null : parameters.maxAssets);\n  this.Serializable$set(\"maxAssetCount\", null == parameters.maxAssetCount ? null : parameters.maxAssetCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FolderQuota, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FolderQuota.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FolderQuota;\n};\nmodule$exports$eeapiclient$ee_api_client.FolderQuota.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"assetCount\", \"maxAssetCount\", \"maxAssets\", \"maxSizeBytes\", \"sizeBytes\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FolderQuota.prototype, {assetCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetCount\") ? this.Serializable$get(\"assetCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetCount\", value);\n}}, maxAssetCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxAssetCount\") ? this.Serializable$get(\"maxAssetCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxAssetCount\", value);\n}}, maxAssets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxAssets\") ? this.Serializable$get(\"maxAssets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxAssets\", value);\n}}, maxSizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxSizeBytes\") ? this.Serializable$get(\"maxSizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxSizeBytes\", value);\n}}, sizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sizeBytes\") ? this.Serializable$get(\"sizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sizeBytes\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinitionParameters = function module$contents$eeapiclient$ee_api_client_FunctionDefinitionParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinition = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"argumentNames\", null == parameters.argumentNames ? null : parameters.argumentNames);\n  this.Serializable$set(\"body\", null == parameters.body ? null : parameters.body);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FunctionDefinition, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FunctionDefinition;\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"argumentNames\", \"body\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype, {argumentNames:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"argumentNames\") ? this.Serializable$get(\"argumentNames\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"argumentNames\", value);\n}}, body:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"body\") ? this.Serializable$get(\"body\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"body\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocationParameters = function module$contents$eeapiclient$ee_api_client_FunctionInvocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"functionName\", null == parameters.functionName ? null : parameters.functionName);\n  this.Serializable$set(\"functionReference\", null == parameters.functionReference ? null : parameters.functionReference);\n  this.Serializable$set(\"arguments\", null == parameters.arguments ? null : parameters.arguments);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FunctionInvocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FunctionInvocation;\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"arguments\", \"functionName\", \"functionReference\"], objectMaps:{arguments:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode, isPropertyArray:!1, isSerializable:!0, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype, {arguments:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"arguments\") ? this.Serializable$get(\"arguments\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"arguments\", value);\n}}, functionName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionName\") ? this.Serializable$get(\"functionName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionName\", value);\n}}, functionReference:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionReference\") ? this.Serializable$get(\"functionReference\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionReference\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GcsDestinationParameters = function module$contents$eeapiclient$ee_api_client_GcsDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GcsDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"bucket\", null == parameters.bucket ? null : parameters.bucket);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n  this.Serializable$set(\"bucketCorsUris\", null == parameters.bucketCorsUris ? null : parameters.bucketCorsUris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GcsDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GcsDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GcsDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.GcsDestination.prototype.getPartialClassMetadata = function() {\n  return {enums:{permissions:module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum}, keys:[\"bucket\", \"bucketCorsUris\", \"filenamePrefix\", \"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsDestination.prototype, {bucket:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucket\") ? this.Serializable$get(\"bucket\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucket\", value);\n}}, bucketCorsUris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucketCorsUris\") ? this.Serializable$get(\"bucketCorsUris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucketCorsUris\", value);\n}}, filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsDestination, {Permissions:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.GcsLocationParameters = function module$contents$eeapiclient$ee_api_client_GcsLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GcsLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GcsLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GcsLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GcsLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.GcsLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"uris\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsLocation.prototype, {uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_GeoTiffImageExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"cloudOptimized\", null == parameters.cloudOptimized ? null : parameters.cloudOptimized);\n  this.Serializable$set(\"tileDimensions\", null == parameters.tileDimensions ? null : parameters.tileDimensions);\n  this.Serializable$set(\"skipEmptyFiles\", null == parameters.skipEmptyFiles ? null : parameters.skipEmptyFiles);\n  this.Serializable$set(\"tileSize\", null == parameters.tileSize ? null : parameters.tileSize);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"cloudOptimized\", \"skipEmptyFiles\", \"tileDimensions\", \"tileSize\"], objects:{tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype, {cloudOptimized:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudOptimized\") ? this.Serializable$get(\"cloudOptimized\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudOptimized\", value);\n}}, skipEmptyFiles:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"skipEmptyFiles\") ? this.Serializable$get(\"skipEmptyFiles\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"skipEmptyFiles\", value);\n}}, tileDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileDimensions\") ? this.Serializable$get(\"tileDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileDimensions\", value);\n}}, tileSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileSize\") ? this.Serializable$get(\"tileSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileSize\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequestParameters = function module$contents$eeapiclient$ee_api_client_GetIamPolicyRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"options\", null == parameters.options ? null : parameters.options);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"options\"], objects:{options:module$exports$eeapiclient$ee_api_client.GetPolicyOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype, {options:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"options\") ? this.Serializable$get(\"options\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"options\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_GetLinkedAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequestParameters = function module$contents$eeapiclient$ee_api_client_GetPixelsRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"region\", null == parameters.region ? null : parameters.region);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetPixelsRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetPixelsRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum}, keys:[\"bandIds\", \"fileFormat\", \"grid\", \"region\", \"visualizationOptions\"], objectMaps:{region:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{grid:module$exports$eeapiclient$ee_api_client.PixelGrid, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, region:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"region\") ? this.Serializable$get(\"region\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"region\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPixelsRequest, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptionsParameters = function module$contents$eeapiclient$ee_api_client_GetPolicyOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"requestedPolicyVersion\", null == parameters.requestedPolicyVersion ? null : parameters.requestedPolicyVersion);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetPolicyOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetPolicyOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"requestedPolicyVersion\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype, {requestedPolicyVersion:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestedPolicyVersion\") ? this.Serializable$get(\"requestedPolicyVersion\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestedPolicyVersion\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GridDimensionsParameters = function module$contents$eeapiclient$ee_api_client_GridDimensionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GridDimensions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"width\", null == parameters.width ? null : parameters.width);\n  this.Serializable$set(\"height\", null == parameters.height ? null : parameters.height);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GridDimensions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GridDimensions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GridDimensions;\n};\nmodule$exports$eeapiclient$ee_api_client.GridDimensions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"height\", \"width\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GridDimensions.prototype, {height:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"height\") ? this.Serializable$get(\"height\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"height\", value);\n}}, width:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"width\") ? this.Serializable$get(\"width\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"width\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GridPointParameters = function module$contents$eeapiclient$ee_api_client_GridPointParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GridPoint = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"x\", null == parameters.x ? null : parameters.x);\n  this.Serializable$set(\"y\", null == parameters.y ? null : parameters.y);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GridPoint, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GridPoint.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GridPoint;\n};\nmodule$exports$eeapiclient$ee_api_client.GridPoint.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"x\", \"y\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GridPoint.prototype, {x:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"x\") ? this.Serializable$get(\"x\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"x\", value);\n}}, y:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"y\") ? this.Serializable$get(\"y\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"y\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.HttpBodyParameters = function module$contents$eeapiclient$ee_api_client_HttpBodyParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.HttpBody = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"contentType\", null == parameters.contentType ? null : parameters.contentType);\n  this.Serializable$set(\"data\", null == parameters.data ? null : parameters.data);\n  this.Serializable$set(\"extensions\", null == parameters.extensions ? null : parameters.extensions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.HttpBody, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.HttpBody.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.HttpBody;\n};\nmodule$exports$eeapiclient$ee_api_client.HttpBody.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"contentType\", \"data\", \"extensions\"], objectMaps:{extensions:{ctor:null, isPropertyArray:!0, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.HttpBody.prototype, {contentType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"contentType\") ? this.Serializable$get(\"contentType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"contentType\", value);\n}}, data:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"data\") ? this.Serializable$get(\"data\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"data\", value);\n}}, extensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"extensions\") ? this.Serializable$get(\"extensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"extensions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageParameters = function module$contents$eeapiclient$ee_api_client_ImageParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Image = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"updateTime\", null == parameters.updateTime ? null : parameters.updateTime);\n  this.Serializable$set(\"title\", null == parameters.title ? null : parameters.title);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"geometry\", null == parameters.geometry ? null : parameters.geometry);\n  this.Serializable$set(\"bands\", null == parameters.bands ? null : parameters.bands);\n  this.Serializable$set(\"sizeBytes\", null == parameters.sizeBytes ? null : parameters.sizeBytes);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Image, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Image.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Image;\n};\nmodule$exports$eeapiclient$ee_api_client.Image.prototype.getPartialClassMetadata = function() {\n  return {arrays:{bands:module$exports$eeapiclient$ee_api_client.ImageBand}, keys:\"bands description endTime geometry id name properties sizeBytes startTime title updateTime\".split(\" \"), objectMaps:{geometry:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Image.prototype, {bands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bands\") ? this.Serializable$get(\"bands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bands\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, geometry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geometry\") ? this.Serializable$get(\"geometry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geometry\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, sizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sizeBytes\") ? this.Serializable$get(\"sizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sizeBytes\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, title:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"title\") ? this.Serializable$get(\"title\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"title\", value);\n}}, updateTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateTime\") ? this.Serializable$get(\"updateTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateTime\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_ImageAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"earthEngineDestination\", null == parameters.earthEngineDestination ? null : parameters.earthEngineDestination);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n  this.Serializable$set(\"pyramidingPolicyOverrides\", null == parameters.pyramidingPolicyOverrides ? null : parameters.pyramidingPolicyOverrides);\n  this.Serializable$set(\"tileSize\", null == parameters.tileSize ? null : parameters.tileSize);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum, pyramidingPolicyOverrides:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum}, keys:[\"earthEngineDestination\", \"pyramidingPolicy\", \"pyramidingPolicyOverrides\", \"tileSize\"], objectMaps:{pyramidingPolicyOverrides:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, \n  objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype, {earthEngineDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"earthEngineDestination\") ? this.Serializable$get(\"earthEngineDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"earthEngineDestination\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, pyramidingPolicyOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicyOverrides\") ? this.Serializable$get(\"pyramidingPolicyOverrides\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicyOverrides\", value);\n}}, tileSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileSize\") ? this.Serializable$get(\"tileSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileSize\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum;\n}}, PyramidingPolicyOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageBandParameters = function module$contents$eeapiclient$ee_api_client_ImageBandParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageBand = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"dataType\", null == parameters.dataType ? null : parameters.dataType);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n  this.Serializable$set(\"tilesets\", null == parameters.tilesets ? null : parameters.tilesets);\n  this.Serializable$set(\"missingData\", null == parameters.missingData ? null : parameters.missingData);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageBand, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageBand.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageBand;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageBand.prototype.getPartialClassMetadata = function() {\n  return {arrays:{tilesets:module$exports$eeapiclient$ee_api_client.TilestoreTileset}, enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum}, keys:\"dataType grid id missingData pyramidingPolicy tilesets\".split(\" \"), objects:{dataType:module$exports$eeapiclient$ee_api_client.PixelDataType, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, \n  missingData:module$exports$eeapiclient$ee_api_client.MissingData}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageBand.prototype, {dataType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dataType\") ? this.Serializable$get(\"dataType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dataType\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, missingData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"missingData\") ? this.Serializable$get(\"missingData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"missingData\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, tilesets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesets\") ? this.Serializable$get(\"tilesets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesets\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageBand, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_ImageFileExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"driveDestination\", null == parameters.driveDestination ? null : parameters.driveDestination);\n  this.Serializable$set(\"cloudStorageDestination\", null == parameters.cloudStorageDestination ? null : parameters.cloudStorageDestination);\n  this.Serializable$set(\"gcsDestination\", null == parameters.gcsDestination ? null : parameters.gcsDestination);\n  this.Serializable$set(\"geoTiffOptions\", null == parameters.geoTiffOptions ? null : parameters.geoTiffOptions);\n  this.Serializable$set(\"tfRecordOptions\", null == parameters.tfRecordOptions ? null : parameters.tfRecordOptions);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageFileExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum}, keys:\"cloudStorageDestination driveDestination fileFormat gcsDestination geoTiffOptions tfRecordOptions\".split(\" \"), objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination, driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination, \n  gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination, geoTiffOptions:module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions, tfRecordOptions:module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype, {cloudStorageDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageDestination\") ? this.Serializable$get(\"cloudStorageDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageDestination\", value);\n}}, driveDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"driveDestination\") ? this.Serializable$get(\"driveDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"driveDestination\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, gcsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsDestination\") ? this.Serializable$get(\"gcsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsDestination\", value);\n}}, geoTiffOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geoTiffOptions\") ? this.Serializable$get(\"geoTiffOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geoTiffOptions\", value);\n}}, tfRecordOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tfRecordOptions\") ? this.Serializable$get(\"tfRecordOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tfRecordOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageManifestParameters = function module$contents$eeapiclient$ee_api_client_ImageManifestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageManifest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"uriPrefix\", null == parameters.uriPrefix ? null : parameters.uriPrefix);\n  this.Serializable$set(\"tilesets\", null == parameters.tilesets ? null : parameters.tilesets);\n  this.Serializable$set(\"bands\", null == parameters.bands ? null : parameters.bands);\n  this.Serializable$set(\"maskBands\", null == parameters.maskBands ? null : parameters.maskBands);\n  this.Serializable$set(\"footprint\", null == parameters.footprint ? null : parameters.footprint);\n  this.Serializable$set(\"missingData\", null == parameters.missingData ? null : parameters.missingData);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"minTileAreaRatio\", null == parameters.minTileAreaRatio ? null : parameters.minTileAreaRatio);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageManifest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageManifest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageManifest;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageManifest.prototype.getPartialClassMetadata = function() {\n  return {arrays:{bands:module$exports$eeapiclient$ee_api_client.TilesetBand, maskBands:module$exports$eeapiclient$ee_api_client.TilesetMaskBand, tilesets:module$exports$eeapiclient$ee_api_client.Tileset}, enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum}, keys:\"bands endTime footprint maskBands minTileAreaRatio missingData name properties pyramidingPolicy startTime tilesets uriPrefix\".split(\" \"), \n  objectMaps:{properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{footprint:module$exports$eeapiclient$ee_api_client.PixelFootprint, missingData:module$exports$eeapiclient$ee_api_client.MissingData}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageManifest.prototype, {bands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bands\") ? this.Serializable$get(\"bands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bands\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, footprint:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"footprint\") ? this.Serializable$get(\"footprint\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"footprint\", value);\n}}, maskBands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maskBands\") ? this.Serializable$get(\"maskBands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maskBands\", value);\n}}, minTileAreaRatio:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"minTileAreaRatio\") ? this.Serializable$get(\"minTileAreaRatio\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"minTileAreaRatio\", value);\n}}, missingData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"missingData\") ? this.Serializable$get(\"missingData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"missingData\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, tilesets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesets\") ? this.Serializable$get(\"tilesets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesets\", value);\n}}, uriPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uriPrefix\") ? this.Serializable$get(\"uriPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uriPrefix\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageManifest, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageSourceParameters = function module$contents$eeapiclient$ee_api_client_ImageSourceParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageSource = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n  this.Serializable$set(\"affineTransform\", null == parameters.affineTransform ? null : parameters.affineTransform);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageSource, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageSource.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageSource;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageSource.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"affineTransform\", \"uris\"], objects:{affineTransform:module$exports$eeapiclient$ee_api_client.AffineTransform}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageSource.prototype, {affineTransform:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"affineTransform\") ? this.Serializable$get(\"affineTransform\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"affineTransform\", value);\n}}, uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequestParameters = function module$contents$eeapiclient$ee_api_client_ImportImageRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"imageManifest\", null == parameters.imageManifest ? null : parameters.imageManifest);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImportImageRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImportImageRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"description\", \"imageManifest\", \"overwrite\", \"requestId\"], objects:{imageManifest:module$exports$eeapiclient$ee_api_client.ImageManifest}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, imageManifest:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"imageManifest\") ? this.Serializable$get(\"imageManifest\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"imageManifest\", value);\n}}, overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequestParameters = function module$contents$eeapiclient$ee_api_client_ImportTableRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tableManifest\", null == parameters.tableManifest ? null : parameters.tableManifest);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImportTableRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImportTableRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"description\", \"overwrite\", \"requestId\", \"tableManifest\"], objects:{tableManifest:module$exports$eeapiclient$ee_api_client.TableManifest}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, tableManifest:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tableManifest\") ? this.Serializable$get(\"tableManifest\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tableManifest\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_LinkAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"destinationName\", null == parameters.destinationName ? null : parameters.destinationName);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.LinkAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.LinkAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"destinationName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype, {destinationName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationName\") ? this.Serializable$get(\"destinationName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponseParameters = function module$contents$eeapiclient$ee_api_client_ListAlgorithmsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"algorithms\", null == parameters.algorithms ? null : parameters.algorithms);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{algorithms:module$exports$eeapiclient$ee_api_client.Algorithm}, keys:[\"algorithms\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype, {algorithms:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"algorithms\") ? this.Serializable$get(\"algorithms\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"algorithms\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponseParameters = function module$contents$eeapiclient$ee_api_client_ListAssetsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"assets\", null == parameters.assets ? null : parameters.assets);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListAssetsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListAssetsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{assets:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}, keys:[\"assets\", \"nextPageToken\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype, {assets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assets\") ? this.Serializable$get(\"assets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assets\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponseParameters = function module$contents$eeapiclient$ee_api_client_ListFeaturesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"features\", null == parameters.features ? null : parameters.features);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListFeaturesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListFeaturesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{features:module$exports$eeapiclient$ee_api_client.Feature}, keys:[\"features\", \"nextPageToken\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype, {features:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"features\") ? this.Serializable$get(\"features\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"features\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponseParameters = function module$contents$eeapiclient$ee_api_client_ListImagesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"images\", null == parameters.images ? null : parameters.images);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListImagesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListImagesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{images:module$exports$eeapiclient$ee_api_client.Image}, keys:[\"images\", \"nextPageToken\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype, {images:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"images\") ? this.Serializable$get(\"images\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"images\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponseParameters = function module$contents$eeapiclient$ee_api_client_ListOperationsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"operations\", null == parameters.operations ? null : parameters.operations);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListOperationsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListOperationsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{operations:module$exports$eeapiclient$ee_api_client.Operation}, keys:[\"nextPageToken\", \"operations\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype, {nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}, operations:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"operations\") ? this.Serializable$get(\"operations\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"operations\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.LogConfigParameters = function module$contents$eeapiclient$ee_api_client_LogConfigParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.LogConfig = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"counter\", null == parameters.counter ? null : parameters.counter);\n  this.Serializable$set(\"dataAccess\", null == parameters.dataAccess ? null : parameters.dataAccess);\n  this.Serializable$set(\"cloudAudit\", null == parameters.cloudAudit ? null : parameters.cloudAudit);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.LogConfig, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.LogConfig.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.LogConfig;\n};\nmodule$exports$eeapiclient$ee_api_client.LogConfig.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"cloudAudit\", \"counter\", \"dataAccess\"], objects:{cloudAudit:module$exports$eeapiclient$ee_api_client.CloudAuditOptions, counter:module$exports$eeapiclient$ee_api_client.CounterOptions, dataAccess:module$exports$eeapiclient$ee_api_client.DataAccessOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.LogConfig.prototype, {cloudAudit:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudAudit\") ? this.Serializable$get(\"cloudAudit\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudAudit\", value);\n}}, counter:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"counter\") ? this.Serializable$get(\"counter\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"counter\", value);\n}}, dataAccess:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dataAccess\") ? this.Serializable$get(\"dataAccess\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dataAccess\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.MissingDataParameters = function module$contents$eeapiclient$ee_api_client_MissingDataParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.MissingData = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.MissingData, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.MissingData.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.MissingData;\n};\nmodule$exports$eeapiclient$ee_api_client.MissingData.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"values\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.MissingData.prototype, {values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_MoveAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"destinationName\", null == parameters.destinationName ? null : parameters.destinationName);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.MoveAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.MoveAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"destinationName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype, {destinationName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationName\") ? this.Serializable$get(\"destinationName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.OperationParameters = function module$contents$eeapiclient$ee_api_client_OperationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Operation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"metadata\", null == parameters.metadata ? null : parameters.metadata);\n  this.Serializable$set(\"done\", null == parameters.done ? null : parameters.done);\n  this.Serializable$set(\"error\", null == parameters.error ? null : parameters.error);\n  this.Serializable$set(\"response\", null == parameters.response ? null : parameters.response);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Operation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Operation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Operation;\n};\nmodule$exports$eeapiclient$ee_api_client.Operation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"done\", \"error\", \"metadata\", \"name\", \"response\"], objectMaps:{metadata:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, response:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{error:module$exports$eeapiclient$ee_api_client.Status}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Operation.prototype, {done:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"done\") ? this.Serializable$get(\"done\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"done\", value);\n}}, error:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"error\") ? this.Serializable$get(\"error\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"error\", value);\n}}, metadata:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"metadata\") ? this.Serializable$get(\"metadata\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"metadata\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, response:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"response\") ? this.Serializable$get(\"response\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"response\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.OperationMetadataParameters = function module$contents$eeapiclient$ee_api_client_OperationMetadataParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationMetadata = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"state\", null == parameters.state ? null : parameters.state);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"priority\", null == parameters.priority ? null : parameters.priority);\n  this.Serializable$set(\"createTime\", null == parameters.createTime ? null : parameters.createTime);\n  this.Serializable$set(\"updateTime\", null == parameters.updateTime ? null : parameters.updateTime);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"progress\", null == parameters.progress ? null : parameters.progress);\n  this.Serializable$set(\"stages\", null == parameters.stages ? null : parameters.stages);\n  this.Serializable$set(\"attempt\", null == parameters.attempt ? null : parameters.attempt);\n  this.Serializable$set(\"scriptUri\", null == parameters.scriptUri ? null : parameters.scriptUri);\n  this.Serializable$set(\"destinationUris\", null == parameters.destinationUris ? null : parameters.destinationUris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationMetadata, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.OperationMetadata.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.OperationMetadata;\n};\nmodule$exports$eeapiclient$ee_api_client.OperationMetadata.prototype.getPartialClassMetadata = function() {\n  return {arrays:{stages:module$exports$eeapiclient$ee_api_client.OperationStage}, enums:{state:module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum}, keys:\"attempt createTime description destinationUris endTime priority progress scriptUri stages startTime state type updateTime\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationMetadata.prototype, {attempt:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"attempt\") ? this.Serializable$get(\"attempt\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"attempt\", value);\n}}, createTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"createTime\") ? this.Serializable$get(\"createTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"createTime\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, destinationUris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationUris\") ? this.Serializable$get(\"destinationUris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationUris\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, priority:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"priority\") ? this.Serializable$get(\"priority\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"priority\", value);\n}}, progress:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"progress\") ? this.Serializable$get(\"progress\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"progress\", value);\n}}, scriptUri:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scriptUri\") ? this.Serializable$get(\"scriptUri\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scriptUri\", value);\n}}, stages:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"stages\") ? this.Serializable$get(\"stages\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"stages\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, state:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"state\") ? this.Serializable$get(\"state\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"state\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}, updateTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateTime\") ? this.Serializable$get(\"updateTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateTime\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationMetadata, {State:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.OperationStageParameters = function module$contents$eeapiclient$ee_api_client_OperationStageParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationStage = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"displayName\", null == parameters.displayName ? null : parameters.displayName);\n  this.Serializable$set(\"completeWorkUnits\", null == parameters.completeWorkUnits ? null : parameters.completeWorkUnits);\n  this.Serializable$set(\"totalWorkUnits\", null == parameters.totalWorkUnits ? null : parameters.totalWorkUnits);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationStage, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.OperationStage.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.OperationStage;\n};\nmodule$exports$eeapiclient$ee_api_client.OperationStage.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"completeWorkUnits\", \"description\", \"displayName\", \"totalWorkUnits\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationStage.prototype, {completeWorkUnits:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"completeWorkUnits\") ? this.Serializable$get(\"completeWorkUnits\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"completeWorkUnits\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, displayName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"displayName\") ? this.Serializable$get(\"displayName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"displayName\", value);\n}}, totalWorkUnits:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"totalWorkUnits\") ? this.Serializable$get(\"totalWorkUnits\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"totalWorkUnits\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.PixelDataTypeParameters = function module$contents$eeapiclient$ee_api_client_PixelDataTypeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelDataType = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"precision\", null == parameters.precision ? null : parameters.precision);\n  this.Serializable$set(\"range\", null == parameters.range ? null : parameters.range);\n  this.Serializable$set(\"dimensionsCount\", null == parameters.dimensionsCount ? null : parameters.dimensionsCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelDataType, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.PixelDataType.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.PixelDataType;\n};\nmodule$exports$eeapiclient$ee_api_client.PixelDataType.prototype.getPartialClassMetadata = function() {\n  return {enums:{precision:module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum}, keys:[\"dimensionsCount\", \"precision\", \"range\"], objects:{range:module$exports$eeapiclient$ee_api_client.DoubleRange}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelDataType.prototype, {dimensionsCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dimensionsCount\") ? this.Serializable$get(\"dimensionsCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dimensionsCount\", value);\n}}, precision:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"precision\") ? this.Serializable$get(\"precision\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"precision\", value);\n}}, range:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"range\") ? this.Serializable$get(\"range\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"range\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelDataType, {Precision:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.PixelFootprintParameters = function module$contents$eeapiclient$ee_api_client_PixelFootprintParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelFootprint = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"points\", null == parameters.points ? null : parameters.points);\n  this.Serializable$set(\"bandId\", null == parameters.bandId ? null : parameters.bandId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelFootprint, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.PixelFootprint.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.PixelFootprint;\n};\nmodule$exports$eeapiclient$ee_api_client.PixelFootprint.prototype.getPartialClassMetadata = function() {\n  return {arrays:{points:module$exports$eeapiclient$ee_api_client.GridPoint}, keys:[\"bandId\", \"points\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelFootprint.prototype, {bandId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandId\") ? this.Serializable$get(\"bandId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandId\", value);\n}}, points:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"points\") ? this.Serializable$get(\"points\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"points\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.PixelGridParameters = function module$contents$eeapiclient$ee_api_client_PixelGridParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelGrid = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"crsCode\", null == parameters.crsCode ? null : parameters.crsCode);\n  this.Serializable$set(\"crsWkt\", null == parameters.crsWkt ? null : parameters.crsWkt);\n  this.Serializable$set(\"dimensions\", null == parameters.dimensions ? null : parameters.dimensions);\n  this.Serializable$set(\"affineTransform\", null == parameters.affineTransform ? null : parameters.affineTransform);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelGrid, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.PixelGrid.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.PixelGrid;\n};\nmodule$exports$eeapiclient$ee_api_client.PixelGrid.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"affineTransform\", \"crsCode\", \"crsWkt\", \"dimensions\"], objects:{affineTransform:module$exports$eeapiclient$ee_api_client.AffineTransform, dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelGrid.prototype, {affineTransform:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"affineTransform\") ? this.Serializable$get(\"affineTransform\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"affineTransform\", value);\n}}, crsCode:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crsCode\") ? this.Serializable$get(\"crsCode\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crsCode\", value);\n}}, crsWkt:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crsWkt\") ? this.Serializable$get(\"crsWkt\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crsWkt\", value);\n}}, dimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dimensions\") ? this.Serializable$get(\"dimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dimensions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.PolicyParameters = function module$contents$eeapiclient$ee_api_client_PolicyParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Policy = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"version\", null == parameters.version ? null : parameters.version);\n  this.Serializable$set(\"bindings\", null == parameters.bindings ? null : parameters.bindings);\n  this.Serializable$set(\"auditConfigs\", null == parameters.auditConfigs ? null : parameters.auditConfigs);\n  this.Serializable$set(\"rules\", null == parameters.rules ? null : parameters.rules);\n  this.Serializable$set(\"etag\", null == parameters.etag ? null : parameters.etag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Policy, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Policy.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Policy;\n};\nmodule$exports$eeapiclient$ee_api_client.Policy.prototype.getPartialClassMetadata = function() {\n  return {arrays:{auditConfigs:module$exports$eeapiclient$ee_api_client.AuditConfig, bindings:module$exports$eeapiclient$ee_api_client.Binding, rules:module$exports$eeapiclient$ee_api_client.Rule}, keys:[\"auditConfigs\", \"bindings\", \"etag\", \"rules\", \"version\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Policy.prototype, {auditConfigs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"auditConfigs\") ? this.Serializable$get(\"auditConfigs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"auditConfigs\", value);\n}}, bindings:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bindings\") ? this.Serializable$get(\"bindings\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bindings\", value);\n}}, etag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"etag\") ? this.Serializable$get(\"etag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"etag\", value);\n}}, rules:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rules\") ? this.Serializable$get(\"rules\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rules\", value);\n}}, version:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"version\") ? this.Serializable$get(\"version\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"version\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByAttributeRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"attributeName\", null == parameters.attributeName ? null : parameters.attributeName);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByAttributeRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByAttributeRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"attributeName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype, {attributeName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"attributeName\") ? this.Serializable$get(\"attributeName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"attributeName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByGeometryTypeRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByMinVisibleLodRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.RankByNaturalOrderParameters = function module$contents$eeapiclient$ee_api_client_RankByNaturalOrderParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByNaturalOrder = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByNaturalOrder, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByNaturalOrder.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByNaturalOrder;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByNaturalOrder.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByOneThingRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"rankByAttributeRule\", null == parameters.rankByAttributeRule ? null : parameters.rankByAttributeRule);\n  this.Serializable$set(\"rankByMinVisibleLodRule\", null == parameters.rankByMinVisibleLodRule ? null : parameters.rankByMinVisibleLodRule);\n  this.Serializable$set(\"rankByGeometryTypeRule\", null == parameters.rankByGeometryTypeRule ? null : parameters.rankByGeometryTypeRule);\n  this.Serializable$set(\"rankByNaturalOrderRule\", null == parameters.rankByNaturalOrderRule ? null : parameters.rankByNaturalOrderRule);\n  this.Serializable$set(\"direction\", null == parameters.direction ? null : parameters.direction);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByOneThingRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByOneThingRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype.getPartialClassMetadata = function() {\n  return {enums:{direction:module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum}, keys:[\"direction\", \"rankByAttributeRule\", \"rankByGeometryTypeRule\", \"rankByMinVisibleLodRule\", \"rankByNaturalOrderRule\"], objects:{rankByAttributeRule:module$exports$eeapiclient$ee_api_client.RankByAttributeRule, rankByGeometryTypeRule:module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule, \n  rankByMinVisibleLodRule:module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule, rankByNaturalOrderRule:module$exports$eeapiclient$ee_api_client.RankByNaturalOrder}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype, {direction:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"direction\") ? this.Serializable$get(\"direction\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"direction\", value);\n}}, rankByAttributeRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByAttributeRule\") ? this.Serializable$get(\"rankByAttributeRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByAttributeRule\", value);\n}}, rankByGeometryTypeRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByGeometryTypeRule\") ? this.Serializable$get(\"rankByGeometryTypeRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByGeometryTypeRule\", value);\n}}, rankByMinVisibleLodRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByMinVisibleLodRule\") ? this.Serializable$get(\"rankByMinVisibleLodRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByMinVisibleLodRule\", value);\n}}, rankByNaturalOrderRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByNaturalOrderRule\") ? this.Serializable$get(\"rankByNaturalOrderRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByNaturalOrderRule\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByOneThingRule, {Direction:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankingOptionsParameters = function module$contents$eeapiclient$ee_api_client_RankingOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankingOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"zOrderRankingRule\", null == parameters.zOrderRankingRule ? null : parameters.zOrderRankingRule);\n  this.Serializable$set(\"thinningRankingRule\", null == parameters.thinningRankingRule ? null : parameters.thinningRankingRule);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankingOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankingOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankingOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.RankingOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"thinningRankingRule\", \"zOrderRankingRule\"], objects:{thinningRankingRule:module$exports$eeapiclient$ee_api_client.RankingRule, zOrderRankingRule:module$exports$eeapiclient$ee_api_client.RankingRule}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankingOptions.prototype, {thinningRankingRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningRankingRule\") ? this.Serializable$get(\"thinningRankingRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningRankingRule\", value);\n}}, zOrderRankingRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"zOrderRankingRule\") ? this.Serializable$get(\"zOrderRankingRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"zOrderRankingRule\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankingRuleParameters = function module$contents$eeapiclient$ee_api_client_RankingRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankingRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"rankByOneThingRule\", null == parameters.rankByOneThingRule ? null : parameters.rankByOneThingRule);\n  this.Serializable$set(\"pseudoRandomTiebreaking\", null == parameters.pseudoRandomTiebreaking ? null : parameters.pseudoRandomTiebreaking);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankingRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankingRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankingRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankingRule.prototype.getPartialClassMetadata = function() {\n  return {arrays:{rankByOneThingRule:module$exports$eeapiclient$ee_api_client.RankByOneThingRule}, keys:[\"pseudoRandomTiebreaking\", \"rankByOneThingRule\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankingRule.prototype, {pseudoRandomTiebreaking:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pseudoRandomTiebreaking\") ? this.Serializable$get(\"pseudoRandomTiebreaking\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pseudoRandomTiebreaking\", value);\n}}, rankByOneThingRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByOneThingRule\") ? this.Serializable$get(\"rankByOneThingRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByOneThingRule\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RuleParameters = function module$contents$eeapiclient$ee_api_client_RuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Rule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n  this.Serializable$set(\"action\", null == parameters.action ? null : parameters.action);\n  this.Serializable$set(\"in\", null == parameters.in ? null : parameters.in);\n  this.Serializable$set(\"notIn\", null == parameters.notIn ? null : parameters.notIn);\n  this.Serializable$set(\"conditions\", null == parameters.conditions ? null : parameters.conditions);\n  this.Serializable$set(\"logConfig\", null == parameters.logConfig ? null : parameters.logConfig);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Rule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Rule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Rule;\n};\nmodule$exports$eeapiclient$ee_api_client.Rule.prototype.getPartialClassMetadata = function() {\n  return {arrays:{conditions:module$exports$eeapiclient$ee_api_client.Condition, logConfig:module$exports$eeapiclient$ee_api_client.LogConfig}, enums:{action:module$exports$eeapiclient$ee_api_client.RuleActionEnum}, keys:\"action conditions description in logConfig notIn permissions\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Rule.prototype, {action:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"action\") ? this.Serializable$get(\"action\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"action\", value);\n}}, conditions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"conditions\") ? this.Serializable$get(\"conditions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"conditions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, in:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"in\") ? this.Serializable$get(\"in\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"in\", value);\n}}, logConfig:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logConfig\") ? this.Serializable$get(\"logConfig\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logConfig\", value);\n}}, notIn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"notIn\") ? this.Serializable$get(\"notIn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"notIn\", value);\n}}, permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Rule, {Action:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.RuleActionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequestParameters = function module$contents$eeapiclient$ee_api_client_SetIamPolicyRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"policy\", null == parameters.policy ? null : parameters.policy);\n  this.Serializable$set(\"updateMask\", null == parameters.updateMask ? null : parameters.updateMask);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"policy\", \"updateMask\"], objects:{policy:module$exports$eeapiclient$ee_api_client.Policy}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype, {policy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"policy\") ? this.Serializable$get(\"policy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"policy\", value);\n}}, updateMask:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateMask\") ? this.Serializable$get(\"updateMask\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateMask\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.StatusParameters = function module$contents$eeapiclient$ee_api_client_StatusParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Status = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"code\", null == parameters.code ? null : parameters.code);\n  this.Serializable$set(\"message\", null == parameters.message ? null : parameters.message);\n  this.Serializable$set(\"details\", null == parameters.details ? null : parameters.details);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Status, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Status.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Status;\n};\nmodule$exports$eeapiclient$ee_api_client.Status.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"code\", \"details\", \"message\"], objectMaps:{details:{ctor:null, isPropertyArray:!0, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Status.prototype, {code:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"code\") ? this.Serializable$get(\"code\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"code\", value);\n}}, details:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"details\") ? this.Serializable$get(\"details\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"details\", value);\n}}, message:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"message\") ? this.Serializable$get(\"message\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"message\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableParameters = function module$contents$eeapiclient$ee_api_client_TableParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Table = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"selectors\", null == parameters.selectors ? null : parameters.selectors);\n  this.Serializable$set(\"filename\", null == parameters.filename ? null : parameters.filename);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Table, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Table.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Table;\n};\nmodule$exports$eeapiclient$ee_api_client.Table.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.TableFileFormatEnum}, keys:[\"expression\", \"fileFormat\", \"filename\", \"name\", \"selectors\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Table.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, filename:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filename\") ? this.Serializable$get(\"filename\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filename\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, selectors:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"selectors\") ? this.Serializable$get(\"selectors\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"selectors\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Table, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TableFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_TableAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"earthEngineDestination\", null == parameters.earthEngineDestination ? null : parameters.earthEngineDestination);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"earthEngineDestination\"], objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype, {earthEngineDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"earthEngineDestination\") ? this.Serializable$get(\"earthEngineDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"earthEngineDestination\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_TableFileExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"driveDestination\", null == parameters.driveDestination ? null : parameters.driveDestination);\n  this.Serializable$set(\"cloudStorageDestination\", null == parameters.cloudStorageDestination ? null : parameters.cloudStorageDestination);\n  this.Serializable$set(\"gcsDestination\", null == parameters.gcsDestination ? null : parameters.gcsDestination);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableFileExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableFileExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum}, keys:[\"cloudStorageDestination\", \"driveDestination\", \"fileFormat\", \"gcsDestination\"], objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination, driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination, gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype, {cloudStorageDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageDestination\") ? this.Serializable$get(\"cloudStorageDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageDestination\", value);\n}}, driveDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"driveDestination\") ? this.Serializable$get(\"driveDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"driveDestination\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, gcsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsDestination\") ? this.Serializable$get(\"gcsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsDestination\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableFileExportOptions, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableManifestParameters = function module$contents$eeapiclient$ee_api_client_TableManifestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableManifest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"uriPrefix\", null == parameters.uriPrefix ? null : parameters.uriPrefix);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableManifest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableManifest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableManifest;\n};\nmodule$exports$eeapiclient$ee_api_client.TableManifest.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.TableSource}, keys:\"endTime name properties sources startTime uriPrefix\".split(\" \"), objectMaps:{properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableManifest.prototype, {endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, uriPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uriPrefix\") ? this.Serializable$get(\"uriPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uriPrefix\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableSourceParameters = function module$contents$eeapiclient$ee_api_client_TableSourceParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableSource = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n  this.Serializable$set(\"charset\", null == parameters.charset ? null : parameters.charset);\n  this.Serializable$set(\"maxErrorMeters\", null == parameters.maxErrorMeters ? null : parameters.maxErrorMeters);\n  this.Serializable$set(\"maxVertices\", null == parameters.maxVertices ? null : parameters.maxVertices);\n  this.Serializable$set(\"crs\", null == parameters.crs ? null : parameters.crs);\n  this.Serializable$set(\"geodesic\", null == parameters.geodesic ? null : parameters.geodesic);\n  this.Serializable$set(\"primaryGeometryColumn\", null == parameters.primaryGeometryColumn ? null : parameters.primaryGeometryColumn);\n  this.Serializable$set(\"xColumn\", null == parameters.xColumn ? null : parameters.xColumn);\n  this.Serializable$set(\"yColumn\", null == parameters.yColumn ? null : parameters.yColumn);\n  this.Serializable$set(\"dateFormat\", null == parameters.dateFormat ? null : parameters.dateFormat);\n  this.Serializable$set(\"csvDelimiter\", null == parameters.csvDelimiter ? null : parameters.csvDelimiter);\n  this.Serializable$set(\"csvQualifier\", null == parameters.csvQualifier ? null : parameters.csvQualifier);\n  this.Serializable$set(\"csvColumnDataTypeOverrides\", null == parameters.csvColumnDataTypeOverrides ? null : parameters.csvColumnDataTypeOverrides);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableSource, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableSource.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableSource;\n};\nmodule$exports$eeapiclient$ee_api_client.TableSource.prototype.getPartialClassMetadata = function() {\n  return {enums:{csvColumnDataTypeOverrides:module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum}, keys:\"charset crs csvColumnDataTypeOverrides csvDelimiter csvQualifier dateFormat geodesic maxErrorMeters maxVertices primaryGeometryColumn uris xColumn yColumn\".split(\" \"), objectMaps:{csvColumnDataTypeOverrides:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableSource.prototype, {charset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"charset\") ? this.Serializable$get(\"charset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"charset\", value);\n}}, crs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crs\") ? this.Serializable$get(\"crs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crs\", value);\n}}, csvColumnDataTypeOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"csvColumnDataTypeOverrides\") ? this.Serializable$get(\"csvColumnDataTypeOverrides\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"csvColumnDataTypeOverrides\", value);\n}}, csvDelimiter:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"csvDelimiter\") ? this.Serializable$get(\"csvDelimiter\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"csvDelimiter\", value);\n}}, csvQualifier:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"csvQualifier\") ? this.Serializable$get(\"csvQualifier\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"csvQualifier\", value);\n}}, dateFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dateFormat\") ? this.Serializable$get(\"dateFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dateFormat\", value);\n}}, geodesic:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geodesic\") ? this.Serializable$get(\"geodesic\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geodesic\", value);\n}}, maxErrorMeters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxErrorMeters\") ? this.Serializable$get(\"maxErrorMeters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxErrorMeters\", value);\n}}, maxVertices:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxVertices\") ? this.Serializable$get(\"maxVertices\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxVertices\", value);\n}}, primaryGeometryColumn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"primaryGeometryColumn\") ? this.Serializable$get(\"primaryGeometryColumn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"primaryGeometryColumn\", value);\n}}, uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}, xColumn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"xColumn\") ? this.Serializable$get(\"xColumn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"xColumn\", value);\n}}, yColumn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"yColumn\") ? this.Serializable$get(\"yColumn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"yColumn\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableSource, {CsvColumnDataTypeOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequestParameters = function module$contents$eeapiclient$ee_api_client_TestIamPermissionsRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype, {permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponseParameters = function module$contents$eeapiclient$ee_api_client_TestIamPermissionsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype, {permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_TfRecordImageExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tileDimensions\", null == parameters.tileDimensions ? null : parameters.tileDimensions);\n  this.Serializable$set(\"marginDimensions\", null == parameters.marginDimensions ? null : parameters.marginDimensions);\n  this.Serializable$set(\"compress\", null == parameters.compress ? null : parameters.compress);\n  this.Serializable$set(\"maxSizeBytes\", null == parameters.maxSizeBytes ? null : parameters.maxSizeBytes);\n  this.Serializable$set(\"defaultValue\", null == parameters.defaultValue ? null : parameters.defaultValue);\n  this.Serializable$set(\"tensorDepths\", null == parameters.tensorDepths ? null : parameters.tensorDepths);\n  this.Serializable$set(\"sequenceData\", null == parameters.sequenceData ? null : parameters.sequenceData);\n  this.Serializable$set(\"collapseBands\", null == parameters.collapseBands ? null : parameters.collapseBands);\n  this.Serializable$set(\"maxMaskedRatio\", null == parameters.maxMaskedRatio ? null : parameters.maxMaskedRatio);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:\"collapseBands compress defaultValue marginDimensions maxMaskedRatio maxSizeBytes sequenceData tensorDepths tileDimensions\".split(\" \"), objectMaps:{tensorDepths:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{marginDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions, tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype, {collapseBands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"collapseBands\") ? this.Serializable$get(\"collapseBands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"collapseBands\", value);\n}}, compress:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"compress\") ? this.Serializable$get(\"compress\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"compress\", value);\n}}, defaultValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"defaultValue\") ? this.Serializable$get(\"defaultValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"defaultValue\", value);\n}}, marginDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"marginDimensions\") ? this.Serializable$get(\"marginDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"marginDimensions\", value);\n}}, maxMaskedRatio:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxMaskedRatio\") ? this.Serializable$get(\"maxMaskedRatio\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxMaskedRatio\", value);\n}}, maxSizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxSizeBytes\") ? this.Serializable$get(\"maxSizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxSizeBytes\", value);\n}}, sequenceData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sequenceData\") ? this.Serializable$get(\"sequenceData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sequenceData\", value);\n}}, tensorDepths:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tensorDepths\") ? this.Serializable$get(\"tensorDepths\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tensorDepths\", value);\n}}, tileDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileDimensions\") ? this.Serializable$get(\"tileDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileDimensions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ThinningOptionsParameters = function module$contents$eeapiclient$ee_api_client_ThinningOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ThinningOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"maxFeaturesPerTile\", null == parameters.maxFeaturesPerTile ? null : parameters.maxFeaturesPerTile);\n  this.Serializable$set(\"thinningStrategy\", null == parameters.thinningStrategy ? null : parameters.thinningStrategy);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ThinningOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ThinningOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ThinningOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ThinningOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{thinningStrategy:module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum}, keys:[\"maxFeaturesPerTile\", \"thinningStrategy\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ThinningOptions.prototype, {maxFeaturesPerTile:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxFeaturesPerTile\") ? this.Serializable$get(\"maxFeaturesPerTile\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxFeaturesPerTile\", value);\n}}, thinningStrategy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningStrategy\") ? this.Serializable$get(\"thinningStrategy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningStrategy\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ThinningOptions, {ThinningStrategy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ThumbnailParameters = function module$contents$eeapiclient$ee_api_client_ThumbnailParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Thumbnail = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Thumbnail, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Thumbnail.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Thumbnail;\n};\nmodule$exports$eeapiclient$ee_api_client.Thumbnail.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum}, keys:\"bandIds expression fileFormat filenamePrefix grid name visualizationOptions\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Thumbnail.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Thumbnail, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TileOptionsParameters = function module$contents$eeapiclient$ee_api_client_TileOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TileOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"endZoom\", null == parameters.endZoom ? null : parameters.endZoom);\n  this.Serializable$set(\"maxZoom\", null == parameters.maxZoom ? null : parameters.maxZoom);\n  this.Serializable$set(\"scale\", null == parameters.scale ? null : parameters.scale);\n  this.Serializable$set(\"startZoom\", null == parameters.startZoom ? null : parameters.startZoom);\n  this.Serializable$set(\"minZoom\", null == parameters.minZoom ? null : parameters.minZoom);\n  this.Serializable$set(\"skipEmpty\", null == parameters.skipEmpty ? null : parameters.skipEmpty);\n  this.Serializable$set(\"skipEmptyTiles\", null == parameters.skipEmptyTiles ? null : parameters.skipEmptyTiles);\n  this.Serializable$set(\"mapsApiKey\", null == parameters.mapsApiKey ? null : parameters.mapsApiKey);\n  this.Serializable$set(\"dimensions\", null == parameters.dimensions ? null : parameters.dimensions);\n  this.Serializable$set(\"tileDimensions\", null == parameters.tileDimensions ? null : parameters.tileDimensions);\n  this.Serializable$set(\"stride\", null == parameters.stride ? null : parameters.stride);\n  this.Serializable$set(\"zoomSubset\", null == parameters.zoomSubset ? null : parameters.zoomSubset);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TileOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TileOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TileOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TileOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:\"dimensions endZoom mapsApiKey maxZoom minZoom scale skipEmpty skipEmptyTiles startZoom stride tileDimensions zoomSubset\".split(\" \"), objects:{dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions, tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions, zoomSubset:module$exports$eeapiclient$ee_api_client.ZoomSubset}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TileOptions.prototype, {dimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dimensions\") ? this.Serializable$get(\"dimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dimensions\", value);\n}}, endZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endZoom\") ? this.Serializable$get(\"endZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endZoom\", value);\n}}, mapsApiKey:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"mapsApiKey\") ? this.Serializable$get(\"mapsApiKey\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"mapsApiKey\", value);\n}}, maxZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxZoom\") ? this.Serializable$get(\"maxZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxZoom\", value);\n}}, minZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"minZoom\") ? this.Serializable$get(\"minZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"minZoom\", value);\n}}, scale:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scale\") ? this.Serializable$get(\"scale\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scale\", value);\n}}, skipEmpty:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"skipEmpty\") ? this.Serializable$get(\"skipEmpty\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"skipEmpty\", value);\n}}, skipEmptyTiles:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"skipEmptyTiles\") ? this.Serializable$get(\"skipEmptyTiles\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"skipEmptyTiles\", value);\n}}, startZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startZoom\") ? this.Serializable$get(\"startZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startZoom\", value);\n}}, stride:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"stride\") ? this.Serializable$get(\"stride\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"stride\", value);\n}}, tileDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileDimensions\") ? this.Serializable$get(\"tileDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileDimensions\", value);\n}}, zoomSubset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"zoomSubset\") ? this.Serializable$get(\"zoomSubset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"zoomSubset\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilesetParameters = function module$contents$eeapiclient$ee_api_client_TilesetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Tileset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"dataType\", null == parameters.dataType ? null : parameters.dataType);\n  this.Serializable$set(\"crs\", null == parameters.crs ? null : parameters.crs);\n  this.Serializable$set(\"subdatasetPrefix\", null == parameters.subdatasetPrefix ? null : parameters.subdatasetPrefix);\n  this.Serializable$set(\"subdatasetSuffix\", null == parameters.subdatasetSuffix ? null : parameters.subdatasetSuffix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Tileset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Tileset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Tileset;\n};\nmodule$exports$eeapiclient$ee_api_client.Tileset.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.ImageSource}, enums:{dataType:module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum}, keys:\"crs dataType id sources subdatasetPrefix subdatasetSuffix\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Tileset.prototype, {crs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crs\") ? this.Serializable$get(\"crs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crs\", value);\n}}, dataType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dataType\") ? this.Serializable$get(\"dataType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dataType\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}, subdatasetPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"subdatasetPrefix\") ? this.Serializable$get(\"subdatasetPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"subdatasetPrefix\", value);\n}}, subdatasetSuffix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"subdatasetSuffix\") ? this.Serializable$get(\"subdatasetSuffix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"subdatasetSuffix\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Tileset, {DataType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilesetBandParameters = function module$contents$eeapiclient$ee_api_client_TilesetBandParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetBand = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"tilesetId\", null == parameters.tilesetId ? null : parameters.tilesetId);\n  this.Serializable$set(\"tilesetBandIndex\", null == parameters.tilesetBandIndex ? null : parameters.tilesetBandIndex);\n  this.Serializable$set(\"missingData\", null == parameters.missingData ? null : parameters.missingData);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilesetBand, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilesetBand.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetBand;\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetBand.prototype.getPartialClassMetadata = function() {\n  return {enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum}, keys:[\"id\", \"missingData\", \"pyramidingPolicy\", \"tilesetBandIndex\", \"tilesetId\"], objects:{missingData:module$exports$eeapiclient$ee_api_client.MissingData}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetBand.prototype, {id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, missingData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"missingData\") ? this.Serializable$get(\"missingData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"missingData\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, tilesetBandIndex:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesetBandIndex\") ? this.Serializable$get(\"tilesetBandIndex\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesetBandIndex\", value);\n}}, tilesetId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesetId\") ? this.Serializable$get(\"tilesetId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesetId\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetBand, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBandParameters = function module$contents$eeapiclient$ee_api_client_TilesetMaskBandParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBand = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tilesetId\", null == parameters.tilesetId ? null : parameters.tilesetId);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilesetMaskBand, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetMaskBand;\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"bandIds\", \"tilesetId\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, tilesetId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesetId\") ? this.Serializable$get(\"tilesetId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesetId\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntryParameters = function module$contents$eeapiclient$ee_api_client_TilestoreEntryParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntry = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"pathPrefix\", null == parameters.pathPrefix ? null : parameters.pathPrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreEntry, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreEntry;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.TilestoreSource}, keys:[\"pathPrefix\", \"sources\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype, {pathPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pathPrefix\") ? this.Serializable$get(\"pathPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pathPrefix\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocationParameters = function module$contents$eeapiclient$ee_api_client_TilestoreLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"pathPrefix\", null == parameters.pathPrefix ? null : parameters.pathPrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.TilestoreSource}, keys:[\"pathPrefix\", \"sources\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype, {pathPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pathPrefix\") ? this.Serializable$get(\"pathPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pathPrefix\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreSourceParameters = function module$contents$eeapiclient$ee_api_client_TilestoreSourceParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreSource = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"pathSuffix\", null == parameters.pathSuffix ? null : parameters.pathSuffix);\n  this.Serializable$set(\"headerSizeBytes\", null == parameters.headerSizeBytes ? null : parameters.headerSizeBytes);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreSource, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreSource.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreSource;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreSource.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"headerSizeBytes\", \"pathSuffix\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreSource.prototype, {headerSizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"headerSizeBytes\") ? this.Serializable$get(\"headerSizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"headerSizeBytes\", value);\n}}, pathSuffix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pathSuffix\") ? this.Serializable$get(\"pathSuffix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pathSuffix\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreTilesetParameters = function module$contents$eeapiclient$ee_api_client_TilestoreTilesetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreTileset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileIndexes\", null == parameters.fileIndexes ? null : parameters.fileIndexes);\n  this.Serializable$set(\"firstTileIndex\", null == parameters.firstTileIndex ? null : parameters.firstTileIndex);\n  this.Serializable$set(\"tilesPerFile\", null == parameters.tilesPerFile ? null : parameters.tilesPerFile);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreTileset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreTileset;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"fileIndexes\", \"firstTileIndex\", \"tilesPerFile\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype, {fileIndexes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileIndexes\") ? this.Serializable$get(\"fileIndexes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileIndexes\", value);\n}}, firstTileIndex:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"firstTileIndex\") ? this.Serializable$get(\"firstTileIndex\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"firstTileIndex\", value);\n}}, tilesPerFile:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesPerFile\") ? this.Serializable$get(\"tilesPerFile\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesPerFile\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_UpdateAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"asset\", null == parameters.asset ? null : parameters.asset);\n  this.Serializable$set(\"updateMask\", null == parameters.updateMask ? null : parameters.updateMask);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.UpdateAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.UpdateAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"asset\", \"updateMask\"], objects:{asset:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype, {asset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"asset\") ? this.Serializable$get(\"asset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"asset\", value);\n}}, updateMask:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateMask\") ? this.Serializable$get(\"updateMask\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateMask\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ValueNodeParameters = function module$contents$eeapiclient$ee_api_client_ValueNodeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ValueNode = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"constantValue\", null == parameters.constantValue ? null : parameters.constantValue);\n  this.Serializable$set(\"integerValue\", null == parameters.integerValue ? null : parameters.integerValue);\n  this.Serializable$set(\"bytesValue\", null == parameters.bytesValue ? null : parameters.bytesValue);\n  this.Serializable$set(\"arrayValue\", null == parameters.arrayValue ? null : parameters.arrayValue);\n  this.Serializable$set(\"dictionaryValue\", null == parameters.dictionaryValue ? null : parameters.dictionaryValue);\n  this.Serializable$set(\"functionDefinitionValue\", null == parameters.functionDefinitionValue ? null : parameters.functionDefinitionValue);\n  this.Serializable$set(\"functionInvocationValue\", null == parameters.functionInvocationValue ? null : parameters.functionInvocationValue);\n  this.Serializable$set(\"argumentReference\", null == parameters.argumentReference ? null : parameters.argumentReference);\n  this.Serializable$set(\"valueReference\", null == parameters.valueReference ? null : parameters.valueReference);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ValueNode, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ValueNode.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ValueNode;\n};\nmodule$exports$eeapiclient$ee_api_client.ValueNode.prototype.getPartialClassMetadata = function() {\n  return {keys:\"argumentReference arrayValue bytesValue constantValue dictionaryValue functionDefinitionValue functionInvocationValue integerValue valueReference\".split(\" \"), objects:{arrayValue:module$exports$eeapiclient$ee_api_client.ArrayValue, dictionaryValue:module$exports$eeapiclient$ee_api_client.DictionaryValue, functionDefinitionValue:module$exports$eeapiclient$ee_api_client.FunctionDefinition, \n  functionInvocationValue:module$exports$eeapiclient$ee_api_client.FunctionInvocation}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ValueNode.prototype, {argumentReference:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"argumentReference\") ? this.Serializable$get(\"argumentReference\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"argumentReference\", value);\n}}, arrayValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"arrayValue\") ? this.Serializable$get(\"arrayValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"arrayValue\", value);\n}}, bytesValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bytesValue\") ? this.Serializable$get(\"bytesValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bytesValue\", value);\n}}, constantValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"constantValue\") ? this.Serializable$get(\"constantValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"constantValue\", value);\n}}, dictionaryValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dictionaryValue\") ? this.Serializable$get(\"dictionaryValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dictionaryValue\", value);\n}}, functionDefinitionValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionDefinitionValue\") ? this.Serializable$get(\"functionDefinitionValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionDefinitionValue\", value);\n}}, functionInvocationValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionInvocationValue\") ? this.Serializable$get(\"functionInvocationValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionInvocationValue\", value);\n}}, integerValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"integerValue\") ? this.Serializable$get(\"integerValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"integerValue\", value);\n}}, valueReference:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"valueReference\") ? this.Serializable$get(\"valueReference\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"valueReference\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_VideoFileExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"driveDestination\", null == parameters.driveDestination ? null : parameters.driveDestination);\n  this.Serializable$set(\"cloudStorageDestination\", null == parameters.cloudStorageDestination ? null : parameters.cloudStorageDestination);\n  this.Serializable$set(\"gcsDestination\", null == parameters.gcsDestination ? null : parameters.gcsDestination);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VideoFileExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum}, keys:[\"cloudStorageDestination\", \"driveDestination\", \"fileFormat\", \"gcsDestination\"], objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination, driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination, gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype, {cloudStorageDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageDestination\") ? this.Serializable$get(\"cloudStorageDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageDestination\", value);\n}}, driveDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"driveDestination\") ? this.Serializable$get(\"driveDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"driveDestination\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, gcsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsDestination\") ? this.Serializable$get(\"gcsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsDestination\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.VideoOptionsParameters = function module$contents$eeapiclient$ee_api_client_VideoOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"framesPerSecond\", null == parameters.framesPerSecond ? null : parameters.framesPerSecond);\n  this.Serializable$set(\"maxFrames\", null == parameters.maxFrames ? null : parameters.maxFrames);\n  this.Serializable$set(\"maxPixelsPerFrame\", null == parameters.maxPixelsPerFrame ? null : parameters.maxPixelsPerFrame);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VideoOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VideoOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.VideoOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"framesPerSecond\", \"maxFrames\", \"maxPixelsPerFrame\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoOptions.prototype, {framesPerSecond:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"framesPerSecond\") ? this.Serializable$get(\"framesPerSecond\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"framesPerSecond\", value);\n}}, maxFrames:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxFrames\") ? this.Serializable$get(\"maxFrames\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxFrames\", value);\n}}, maxPixelsPerFrame:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxPixelsPerFrame\") ? this.Serializable$get(\"maxPixelsPerFrame\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxPixelsPerFrame\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnailParameters = function module$contents$eeapiclient$ee_api_client_VideoThumbnailParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnail = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"videoOptions\", null == parameters.videoOptions ? null : parameters.videoOptions);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoThumbnail, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VideoThumbnail;\n};\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum}, keys:[\"expression\", \"fileFormat\", \"grid\", \"name\", \"videoOptions\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, videoOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"videoOptions\") ? this.Serializable$get(\"videoOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"videoOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoThumbnail, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptionsParameters = function module$contents$eeapiclient$ee_api_client_VisualizationOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"ranges\", null == parameters.ranges ? null : parameters.ranges);\n  this.Serializable$set(\"paletteColors\", null == parameters.paletteColors ? null : parameters.paletteColors);\n  this.Serializable$set(\"gamma\", null == parameters.gamma ? null : parameters.gamma);\n  this.Serializable$set(\"opacity\", null == parameters.opacity ? null : parameters.opacity);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VisualizationOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VisualizationOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{ranges:module$exports$eeapiclient$ee_api_client.DoubleRange}, keys:[\"gamma\", \"opacity\", \"paletteColors\", \"ranges\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype, {gamma:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gamma\") ? this.Serializable$get(\"gamma\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gamma\", value);\n}}, opacity:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"opacity\") ? this.Serializable$get(\"opacity\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"opacity\", value);\n}}, paletteColors:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"paletteColors\") ? this.Serializable$get(\"paletteColors\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"paletteColors\", value);\n}}, ranges:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ranges\") ? this.Serializable$get(\"ranges\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ranges\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequestParameters = function module$contents$eeapiclient$ee_api_client_WaitOperationRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"timeout\", null == parameters.timeout ? null : parameters.timeout);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.WaitOperationRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.WaitOperationRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"timeout\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype, {timeout:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"timeout\") ? this.Serializable$get(\"timeout\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"timeout\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ZoomSubsetParameters = function module$contents$eeapiclient$ee_api_client_ZoomSubsetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ZoomSubset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"start\", null == parameters.start ? null : parameters.start);\n  this.Serializable$set(\"end\", null == parameters.end ? null : parameters.end);\n  this.Serializable$set(\"min\", null == parameters.min ? null : parameters.min);\n  this.Serializable$set(\"max\", null == parameters.max ? null : parameters.max);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ZoomSubset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ZoomSubset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ZoomSubset;\n};\nmodule$exports$eeapiclient$ee_api_client.ZoomSubset.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"end\", \"max\", \"min\", \"start\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ZoomSubset.prototype, {end:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"end\") ? this.Serializable$get(\"end\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"end\", value);\n}}, max:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"max\") ? this.Serializable$get(\"max\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"max\", value);\n}}, min:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"min\") ? this.Serializable$get(\"min\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"min\", value);\n}}, start:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"start\") ? this.Serializable$get(\"start\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"start\", value);\n}}});\nvar module$contents$eeapiclient$ee_api_client_PARAM_MAP_0 = {$Xgafv:\"$.xgafv\", access_token:\"access_token\", alt:\"alt\", assetId:\"assetId\", callback:\"callback\", endTime:\"endTime\", fields:\"fields\", filter:\"filter\", key:\"key\", oauth_token:\"oauth_token\", overwrite:\"overwrite\", pageSize:\"pageSize\", pageToken:\"pageToken\", prettyPrint:\"prettyPrint\", quotaUser:\"quotaUser\", region:\"region\", startTime:\"startTime\", uploadType:\"uploadType\", upload_protocol:\"upload_protocol\", \nview:\"view\"};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAlgorithmsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAlgorithmsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAlgorithmsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAlgorithmsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl.prototype.list = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.algorithms.list\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/algorithms\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsApiClientViewEnum = function module$contents$eeapiclient$ee_api_client_IProjectsApiClientViewEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum = {BASIC:\"BASIC\", EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED:\"EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED\", FULL:\"FULL\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.FULL, module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.BASIC];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.getCapabilities = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.getCapabilities\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/capabilities\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Capabilities});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.listAssets = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.listAssets\", path:\"/\" + this.gapiVersion + \"/\" + parent + \":listAssets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListAssetsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAssetsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAssetsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClientViewEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAssetsApiClientViewEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum = {BASIC:\"BASIC\", EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED:\"EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED\", FULL:\"FULL\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.FULL, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.BASIC];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.copy = function(sourceName, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(sourceName, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.copy\", path:\"/\" + this.gapiVersion + \"/\" + sourceName + \":copy\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/assets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.delete = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"DELETE\", methodId:\"earthengine.projects.assets.delete\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Empty});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.get = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.get\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getIamPolicy = function(resource, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(resource, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.getIamPolicy\", path:\"/\" + this.gapiVersion + \"/\" + resource + \":getIamPolicy\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Policy});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getLinked = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.getLinked\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getLinked\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getPixels = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.link = function(sourceName, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(sourceName, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.link\", path:\"/\" + this.gapiVersion + \"/\" + sourceName + \":link\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listAssets = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.listAssets\", path:\"/\" + this.gapiVersion + \"/\" + parent + \":listAssets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListAssetsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listFeatures = function(asset, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(asset, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.listFeatures\", path:\"/\" + this.gapiVersion + \"/\" + asset + \":listFeatures\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListFeaturesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listImages = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.listImages\", path:\"/\" + this.gapiVersion + \"/\" + parent + \":listImages\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListImagesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.move = function(sourceName, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(sourceName, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.move\", path:\"/\" + this.gapiVersion + \"/\" + sourceName + \":move\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.patch = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"PATCH\", methodId:\"earthengine.projects.assets.patch\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.setIamPolicy = function(resource, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(resource, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.setIamPolicy\", path:\"/\" + this.gapiVersion + \"/\" + resource + \":setIamPolicy\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Policy});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.testIamPermissions = function(resource, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(resource, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.testIamPermissions\", path:\"/\" + this.gapiVersion + \"/\" + resource + \":testIamPermissions\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsClassifierApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsClassifierApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsClassifierApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsClassifierApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.classifier.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/classifier:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsDmsMapsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsDmsMapsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsDmsMapsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsDmsMapsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.dmsMaps.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/dmsMaps\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.DMSMap});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFeatureViewApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFeatureViewApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFeatureViewApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFeatureViewApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.featureView.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/featureView\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.FeatureView});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFilmstripThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFilmstripThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFilmstripThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFilmstripThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.filmstripThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/filmstripThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.FilmstripThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl.prototype.getPixels = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/filmstripThumbnails/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.filmstripThumbnails.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.computePixels = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.image.computePixels\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/image:computePixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.image.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/image:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.import = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.image.import\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/image:import\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageCollectionApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageCollectionApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageCollectionApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageCollectionApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientImpl.prototype.computeImages = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.imageCollection.computeImages\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/imageCollection:computeImages\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ComputeImagesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsAssetsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsAssetsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsAssetsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsAssetsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.assets.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/assets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsFilmstripThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsFilmstripThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.filmstripThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/filmstripThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.FilmstripThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsMapsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsMapsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsMapsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsMapsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.maps.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/maps\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineMap});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsTablesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsTablesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsTablesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsTablesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.tables.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/tables\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Table});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.thumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/thumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Thumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsVideoThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsVideoThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsVideoThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsVideoThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.videoThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/videoThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.VideoThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.map.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/map:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.maps.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/maps\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineMap});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsTilesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsTilesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsTilesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsTilesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientImpl.prototype.get = function(parent, zoom, x, y, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/maps/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.maps.tiles.get\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/tiles/\" + zoom + \"/\" + x + \"/\" + y, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsOperationsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsOperationsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsOperationsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsOperationsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.cancel = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.operations.cancel\", path:\"/\" + this.gapiVersion + \"/\" + name + \":cancel\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Empty});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.delete = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"DELETE\", methodId:\"earthengine.projects.operations.delete\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Empty});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.get = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.operations.get\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.list = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.operations.list\", path:\"/\" + this.gapiVersion + \"/\" + name + \"/operations\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListOperationsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.wait = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.operations.wait\", path:\"/\" + this.gapiVersion + \"/\" + name + \":wait\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTableApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTableApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTableApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTableApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.computeFeatures = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.table.computeFeatures\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/table:computeFeatures\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.table.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/table:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.import = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.table.import\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/table:import\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTablesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTablesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTablesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTablesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.tables.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/tables\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Table});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl.prototype.getFeatures = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/tables/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.tables.getFeatures\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getFeatures\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.thumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/thumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Thumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl.prototype.getPixels = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/thumbnails/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.thumbnails.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsValueApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsValueApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsValueApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsValueApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl.prototype.compute = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.value.compute\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/value:compute\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ComputeValueResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.video.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/video:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoMapApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoMapApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoMapApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoMapApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.videoMap.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/videoMap:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.videoThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/videoThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.VideoThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl.prototype.getPixels = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/videoThumbnails/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.videoThumbnails.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient = function() {\n};\nee.api = module$exports$eeapiclient$ee_api_client;\nvar module$exports$ee$apiVersion = {V1ALPHA:\"v1alpha\"};\nmodule$exports$ee$apiVersion.VERSION = module$exports$ee$apiVersion.V1ALPHA;\nvar module$exports$eeapiclient$promise_request_service = {}, module$contents$eeapiclient$promise_request_service_module = module$contents$eeapiclient$promise_request_service_module || {id:\"javascript/typescript/contrib/apiclient/request_service/promise_request_service.closure.js\"};\nmodule$exports$eeapiclient$promise_request_service.PromiseRequestService = function() {\n};\nmodule$exports$eeapiclient$promise_request_service.PromiseRequestService.prototype.send = function(params, responseCtor) {\n  module$contents$eeapiclient$request_params_processParams(params);\n  return this.makeRequest(params).then(function(response) {\n    return responseCtor ? module$contents$eeapiclient$domain_object_deserialize(responseCtor, response) : response;\n  });\n};\ngoog.async = {};\ngoog.async.FreeList = function(create, reset, limit) {\n  this.limit_ = limit;\n  this.create_ = create;\n  this.reset_ = reset;\n  this.occupants_ = 0;\n  this.head_ = null;\n};\ngoog.async.FreeList.prototype.get = function() {\n  if (0 < this.occupants_) {\n    this.occupants_--;\n    var item = this.head_;\n    this.head_ = item.next;\n    item.next = null;\n  } else {\n    item = this.create_();\n  }\n  return item;\n};\ngoog.async.FreeList.prototype.put = function(item) {\n  this.reset_(item);\n  this.occupants_ < this.limit_ && (this.occupants_++, item.next = this.head_, this.head_ = item);\n};\ngoog.async.FreeList.prototype.occupants = function() {\n  return this.occupants_;\n};\ngoog.dom.BrowserFeature = {};\ngoog.dom.BrowserFeature.ASSUME_NO_OFFSCREEN_CANVAS = !1;\ngoog.dom.BrowserFeature.ASSUME_OFFSCREEN_CANVAS = !1;\ngoog.dom.BrowserFeature.detectOffscreenCanvas_ = function(contextName) {\n  try {\n    return !!(new self.OffscreenCanvas(0, 0)).getContext(contextName);\n  } catch (ex) {\n  }\n  return !1;\n};\ngoog.dom.BrowserFeature.OFFSCREEN_CANVAS_2D = !goog.dom.BrowserFeature.ASSUME_NO_OFFSCREEN_CANVAS && (goog.dom.BrowserFeature.ASSUME_OFFSCREEN_CANVAS || goog.dom.BrowserFeature.detectOffscreenCanvas_(\"2d\"));\ngoog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES = !0;\ngoog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE = !0;\ngoog.dom.BrowserFeature.CAN_USE_INNER_TEXT = !1;\ngoog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY = goog.userAgent.IE || goog.userAgent.WEBKIT;\ngoog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT = goog.userAgent.IE;\ngoog.math.Coordinate = function(opt_x, opt_y) {\n  this.x = void 0 !== opt_x ? opt_x : 0;\n  this.y = void 0 !== opt_y ? opt_y : 0;\n};\ngoog.math.Coordinate.prototype.clone = function() {\n  return new goog.math.Coordinate(this.x, this.y);\n};\ngoog.DEBUG && (goog.math.Coordinate.prototype.toString = function() {\n  return \"(\" + this.x + \", \" + this.y + \")\";\n});\ngoog.math.Coordinate.prototype.equals = function(other) {\n  return other instanceof goog.math.Coordinate && goog.math.Coordinate.equals(this, other);\n};\ngoog.math.Coordinate.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.x == b.x && a.y == b.y : !1;\n};\ngoog.math.Coordinate.distance = function(a, b) {\n  var dx = a.x - b.x, dy = a.y - b.y;\n  return Math.sqrt(dx * dx + dy * dy);\n};\ngoog.math.Coordinate.magnitude = function(a) {\n  return Math.sqrt(a.x * a.x + a.y * a.y);\n};\ngoog.math.Coordinate.azimuth = function(a) {\n  return goog.math.angle(0, 0, a.x, a.y);\n};\ngoog.math.Coordinate.squaredDistance = function(a, b) {\n  var dx = a.x - b.x, dy = a.y - b.y;\n  return dx * dx + dy * dy;\n};\ngoog.math.Coordinate.difference = function(a, b) {\n  return new goog.math.Coordinate(a.x - b.x, a.y - b.y);\n};\ngoog.math.Coordinate.sum = function(a, b) {\n  return new goog.math.Coordinate(a.x + b.x, a.y + b.y);\n};\ngoog.math.Coordinate.prototype.ceil = function() {\n  this.x = Math.ceil(this.x);\n  this.y = Math.ceil(this.y);\n  return this;\n};\ngoog.math.Coordinate.prototype.floor = function() {\n  this.x = Math.floor(this.x);\n  this.y = Math.floor(this.y);\n  return this;\n};\ngoog.math.Coordinate.prototype.round = function() {\n  this.x = Math.round(this.x);\n  this.y = Math.round(this.y);\n  return this;\n};\ngoog.math.Coordinate.prototype.translate = function(tx, opt_ty) {\n  tx instanceof goog.math.Coordinate ? (this.x += tx.x, this.y += tx.y) : (this.x += Number(tx), \"number\" === typeof opt_ty && (this.y += opt_ty));\n  return this;\n};\ngoog.math.Coordinate.prototype.scale = function(sx, opt_sy) {\n  var sy;\n  this.x *= sx;\n  this.y *= \"number\" === typeof opt_sy ? opt_sy : sx;\n  return this;\n};\ngoog.math.Coordinate.prototype.rotateRadians = function(radians, opt_center) {\n  var center = opt_center || new goog.math.Coordinate(0, 0), x = this.x, y = this.y, cos = Math.cos(radians), sin = Math.sin(radians);\n  this.x = (x - center.x) * cos - (y - center.y) * sin + center.x;\n  this.y = (x - center.x) * sin + (y - center.y) * cos + center.y;\n};\ngoog.math.Coordinate.prototype.rotateDegrees = function(degrees, opt_center) {\n  this.rotateRadians(goog.math.toRadians(degrees), opt_center);\n};\ngoog.math.Size = function(width, height) {\n  this.width = width;\n  this.height = height;\n};\ngoog.math.Size.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.width == b.width && a.height == b.height : !1;\n};\ngoog.math.Size.prototype.clone = function() {\n  return new goog.math.Size(this.width, this.height);\n};\ngoog.DEBUG && (goog.math.Size.prototype.toString = function() {\n  return \"(\" + this.width + \" x \" + this.height + \")\";\n});\ngoog.math.Size.prototype.getLongest = function() {\n  return Math.max(this.width, this.height);\n};\ngoog.math.Size.prototype.getShortest = function() {\n  return Math.min(this.width, this.height);\n};\ngoog.math.Size.prototype.area = function() {\n  return this.width * this.height;\n};\ngoog.math.Size.prototype.perimeter = function() {\n  return 2 * (this.width + this.height);\n};\ngoog.math.Size.prototype.aspectRatio = function() {\n  return this.width / this.height;\n};\ngoog.math.Size.prototype.isEmpty = function() {\n  return !this.area();\n};\ngoog.math.Size.prototype.ceil = function() {\n  this.width = Math.ceil(this.width);\n  this.height = Math.ceil(this.height);\n  return this;\n};\ngoog.math.Size.prototype.fitsInside = function(target) {\n  return this.width <= target.width && this.height <= target.height;\n};\ngoog.math.Size.prototype.floor = function() {\n  this.width = Math.floor(this.width);\n  this.height = Math.floor(this.height);\n  return this;\n};\ngoog.math.Size.prototype.round = function() {\n  this.width = Math.round(this.width);\n  this.height = Math.round(this.height);\n  return this;\n};\ngoog.math.Size.prototype.scale = function(sx, opt_sy) {\n  var sy;\n  this.width *= sx;\n  this.height *= \"number\" === typeof opt_sy ? opt_sy : sx;\n  return this;\n};\ngoog.math.Size.prototype.scaleToCover = function(target) {\n  var s = this.aspectRatio() <= target.aspectRatio() ? target.width / this.width : target.height / this.height;\n  return this.scale(s);\n};\ngoog.math.Size.prototype.scaleToFit = function(target) {\n  var s = this.aspectRatio() > target.aspectRatio() ? target.width / this.width : target.height / this.height;\n  return this.scale(s);\n};\ngoog.dom.Appendable = {};\ngoog.dom.ASSUME_QUIRKS_MODE = !1;\ngoog.dom.ASSUME_STANDARDS_MODE = !1;\ngoog.dom.COMPAT_MODE_KNOWN_ = goog.dom.ASSUME_QUIRKS_MODE || goog.dom.ASSUME_STANDARDS_MODE;\ngoog.dom.getDomHelper = function(opt_element) {\n  return opt_element ? new goog.dom.DomHelper(goog.dom.getOwnerDocument(opt_element)) : goog.dom.defaultDomHelper_ || (goog.dom.defaultDomHelper_ = new goog.dom.DomHelper());\n};\ngoog.dom.getDocument = function() {\n  return document;\n};\ngoog.dom.getElement = function(element) {\n  return goog.dom.getElementHelper_(document, element);\n};\ngoog.dom.getHTMLElement = function(id) {\n  var element = goog.dom.getElement(id);\n  return element ? goog.asserts.assertInstanceof(element, HTMLElement) : null;\n};\ngoog.dom.getElementHelper_ = function(doc, element) {\n  return \"string\" === typeof element ? doc.getElementById(element) : element;\n};\ngoog.dom.getRequiredElement = function(id) {\n  return goog.dom.getRequiredElementHelper_(document, id);\n};\ngoog.dom.getRequiredHTMLElement = function(id) {\n  return goog.asserts.assertInstanceof(goog.dom.getRequiredElementHelper_(document, id), HTMLElement);\n};\ngoog.dom.getRequiredElementHelper_ = function(doc, id) {\n  goog.asserts.assertString(id);\n  var element = goog.dom.getElementHelper_(doc, id);\n  return element = goog.asserts.assertElement(element, \"No element found with id: \" + id);\n};\ngoog.dom.$ = goog.dom.getElement;\ngoog.dom.getElementsByTagName = function(tagName, opt_parent) {\n  return (opt_parent || document).getElementsByTagName(String(tagName));\n};\ngoog.dom.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementsByTagNameAndClass_(document, opt_tag, opt_class, opt_el);\n};\ngoog.dom.getElementByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementByTagNameAndClass_(document, opt_tag, opt_class, opt_el);\n};\ngoog.dom.getElementsByClass = function(className, opt_el) {\n  var parent = opt_el || document;\n  return goog.dom.canUseQuerySelector_(parent) ? parent.querySelectorAll(\".\" + className) : goog.dom.getElementsByTagNameAndClass_(document, \"*\", className, opt_el);\n};\ngoog.dom.getElementByClass = function(className, opt_el) {\n  var parent = opt_el || document, retVal = null;\n  return (retVal = parent.getElementsByClassName ? parent.getElementsByClassName(className)[0] : goog.dom.getElementByTagNameAndClass_(document, \"*\", className, opt_el)) || null;\n};\ngoog.dom.getHTMLElementByClass = function(className, opt_parent) {\n  var element = goog.dom.getElementByClass(className, opt_parent);\n  return element ? goog.asserts.assertInstanceof(element, HTMLElement) : null;\n};\ngoog.dom.getRequiredElementByClass = function(className, opt_root) {\n  var retValue = goog.dom.getElementByClass(className, opt_root);\n  return goog.asserts.assert(retValue, \"No element found with className: \" + className);\n};\ngoog.dom.getRequiredHTMLElementByClass = function(className, opt_parent) {\n  var retValue = goog.dom.getElementByClass(className, opt_parent);\n  return goog.asserts.assertInstanceof(retValue, HTMLElement, \"No HTMLElement found with className: \" + className);\n};\ngoog.dom.canUseQuerySelector_ = function(parent) {\n  return !(!parent.querySelectorAll || !parent.querySelector);\n};\ngoog.dom.getElementsByTagNameAndClass_ = function(doc, opt_tag, opt_class, opt_el) {\n  var parent = opt_el || doc, tagName = opt_tag && \"*\" != opt_tag ? String(opt_tag).toUpperCase() : \"\";\n  if (goog.dom.canUseQuerySelector_(parent) && (tagName || opt_class)) {\n    return parent.querySelectorAll(tagName + (opt_class ? \".\" + opt_class : \"\"));\n  }\n  if (opt_class && parent.getElementsByClassName) {\n    var els = parent.getElementsByClassName(opt_class);\n    if (tagName) {\n      for (var arrayLike = {}, len = 0, i = 0, el; el = els[i]; i++) {\n        tagName == el.nodeName && (arrayLike[len++] = el);\n      }\n      arrayLike.length = len;\n      return arrayLike;\n    }\n    return els;\n  }\n  els = parent.getElementsByTagName(tagName || \"*\");\n  if (opt_class) {\n    arrayLike = {};\n    for (i = len = 0; el = els[i]; i++) {\n      var className = el.className;\n      \"function\" == typeof className.split && module$contents$goog$array_contains(className.split(/\\s+/), opt_class) && (arrayLike[len++] = el);\n    }\n    arrayLike.length = len;\n    return arrayLike;\n  }\n  return els;\n};\ngoog.dom.getElementByTagNameAndClass_ = function(doc, opt_tag, opt_class, opt_el) {\n  var parent = opt_el || doc, tag = opt_tag && \"*\" != opt_tag ? String(opt_tag).toUpperCase() : \"\";\n  return goog.dom.canUseQuerySelector_(parent) && (tag || opt_class) ? parent.querySelector(tag + (opt_class ? \".\" + opt_class : \"\")) : goog.dom.getElementsByTagNameAndClass_(doc, opt_tag, opt_class, opt_el)[0] || null;\n};\ngoog.dom.$$ = goog.dom.getElementsByTagNameAndClass;\ngoog.dom.setProperties = function(element, properties) {\n  module$contents$goog$object_forEach(properties, function(val, key) {\n    val && \"object\" == typeof val && val.implementsGoogStringTypedString && (val = val.getTypedStringValue());\n    \"style\" == key ? element.style.cssText = val : \"class\" == key ? element.className = val : \"for\" == key ? element.htmlFor = val : goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(key) ? element.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[key], val) : goog.string.startsWith(key, \"aria-\") || goog.string.startsWith(key, \"data-\") ? element.setAttribute(key, val) : element[key] = val;\n  });\n};\ngoog.dom.DIRECT_ATTRIBUTE_MAP_ = {cellpadding:\"cellPadding\", cellspacing:\"cellSpacing\", colspan:\"colSpan\", frameborder:\"frameBorder\", height:\"height\", maxlength:\"maxLength\", nonce:\"nonce\", role:\"role\", rowspan:\"rowSpan\", type:\"type\", usemap:\"useMap\", valign:\"vAlign\", width:\"width\"};\ngoog.dom.getViewportSize = function(opt_window) {\n  return goog.dom.getViewportSize_(opt_window || window);\n};\ngoog.dom.getViewportSize_ = function(win) {\n  var doc = win.document, el = goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body;\n  return new goog.math.Size(el.clientWidth, el.clientHeight);\n};\ngoog.dom.getDocumentHeight = function() {\n  return goog.dom.getDocumentHeight_(window);\n};\ngoog.dom.getDocumentHeightForWindow = function(win) {\n  return goog.dom.getDocumentHeight_(win);\n};\ngoog.dom.getDocumentHeight_ = function(win) {\n  var doc = win.document, height = 0;\n  if (doc) {\n    var body = doc.body, docEl = doc.documentElement;\n    if (!docEl || !body) {\n      return 0;\n    }\n    var vh = goog.dom.getViewportSize_(win).height;\n    if (goog.dom.isCss1CompatMode_(doc) && docEl.scrollHeight) {\n      height = docEl.scrollHeight != vh ? docEl.scrollHeight : docEl.offsetHeight;\n    } else {\n      var sh = docEl.scrollHeight, oh = docEl.offsetHeight;\n      docEl.clientHeight != oh && (sh = body.scrollHeight, oh = body.offsetHeight);\n      height = sh > vh ? sh > oh ? sh : oh : sh < oh ? sh : oh;\n    }\n  }\n  return height;\n};\ngoog.dom.getPageScroll = function(opt_window) {\n  return goog.dom.getDomHelper((opt_window || goog.global || window).document).getDocumentScroll();\n};\ngoog.dom.getDocumentScroll = function() {\n  return goog.dom.getDocumentScroll_(document);\n};\ngoog.dom.getDocumentScroll_ = function(doc) {\n  var el = goog.dom.getDocumentScrollElement_(doc), win = goog.dom.getWindow_(doc);\n  return goog.userAgent.IE && goog.userAgent.isVersionOrHigher(\"10\") && win.pageYOffset != el.scrollTop ? new goog.math.Coordinate(el.scrollLeft, el.scrollTop) : new goog.math.Coordinate(win.pageXOffset || el.scrollLeft, win.pageYOffset || el.scrollTop);\n};\ngoog.dom.getDocumentScrollElement = function() {\n  return goog.dom.getDocumentScrollElement_(document);\n};\ngoog.dom.getDocumentScrollElement_ = function(doc) {\n  return doc.scrollingElement ? doc.scrollingElement : !goog.userAgent.WEBKIT && goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body || doc.documentElement;\n};\ngoog.dom.getWindow = function(opt_doc) {\n  return opt_doc ? goog.dom.getWindow_(opt_doc) : window;\n};\ngoog.dom.getWindow_ = function(doc) {\n  return doc.parentWindow || doc.defaultView;\n};\ngoog.dom.createDom = function(tagName, opt_attributes, var_args) {\n  return goog.dom.createDom_(document, arguments);\n};\ngoog.dom.createDom_ = function(doc, args) {\n  var attributes = args[1], element = goog.dom.createElement_(doc, String(args[0]));\n  attributes && (\"string\" === typeof attributes ? element.className = attributes : Array.isArray(attributes) ? element.className = attributes.join(\" \") : goog.dom.setProperties(element, attributes));\n  2 < args.length && goog.dom.append_(doc, element, args, 2);\n  return element;\n};\ngoog.dom.append_ = function(doc, parent, args, startIndex) {\n  function childHandler(child) {\n    child && parent.appendChild(\"string\" === typeof child ? doc.createTextNode(child) : child);\n  }\n  for (var i = startIndex; i < args.length; i++) {\n    var arg = args[i];\n    goog.isArrayLike(arg) && !goog.dom.isNodeLike(arg) ? module$contents$goog$array_forEach(goog.dom.isNodeList(arg) ? module$contents$goog$array_toArray(arg) : arg, childHandler) : childHandler(arg);\n  }\n};\ngoog.dom.$dom = goog.dom.createDom;\ngoog.dom.createElement = function(name) {\n  return goog.dom.createElement_(document, name);\n};\ngoog.dom.createElement_ = function(doc, name) {\n  name = String(name);\n  \"application/xhtml+xml\" === doc.contentType && (name = name.toLowerCase());\n  return doc.createElement(name);\n};\ngoog.dom.createTextNode = function(content) {\n  return document.createTextNode(String(content));\n};\ngoog.dom.createTable = function(rows, columns, opt_fillWithNbsp) {\n  return goog.dom.createTable_(document, rows, columns, !!opt_fillWithNbsp);\n};\ngoog.dom.createTable_ = function(doc, rows, columns, fillWithNbsp) {\n  for (var table = goog.dom.createElement_(doc, goog.dom.TagName.TABLE), tbody = table.appendChild(goog.dom.createElement_(doc, goog.dom.TagName.TBODY)), i = 0; i < rows; i++) {\n    for (var tr = goog.dom.createElement_(doc, goog.dom.TagName.TR), j = 0; j < columns; j++) {\n      var td = goog.dom.createElement_(doc, goog.dom.TagName.TD);\n      fillWithNbsp && goog.dom.setTextContent(td, goog.string.Unicode.NBSP);\n      tr.appendChild(td);\n    }\n    tbody.appendChild(tr);\n  }\n  return table;\n};\ngoog.dom.constHtmlToNode = function(var_args) {\n  var stringArray = Array.prototype.map.call(arguments, goog.string.Const.unwrap), safeHtml = goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Constant HTML string, that gets turned into a Node later, so it will be automatically balanced.\"), stringArray.join(\"\"));\n  return goog.dom.safeHtmlToNode(safeHtml);\n};\ngoog.dom.safeHtmlToNode = function(html) {\n  return goog.dom.safeHtmlToNode_(document, html);\n};\ngoog.dom.safeHtmlToNode_ = function(doc, html) {\n  var tempDiv = goog.dom.createElement_(doc, goog.dom.TagName.DIV);\n  goog.userAgent.IE ? (goog.dom.safe.setInnerHtml(tempDiv, module$contents$goog$html$SafeHtml_SafeHtml.concat(module$contents$goog$html$SafeHtml_SafeHtml.BR, html)), tempDiv.removeChild(goog.asserts.assert(tempDiv.firstChild))) : goog.dom.safe.setInnerHtml(tempDiv, html);\n  return goog.dom.childrenToNode_(doc, tempDiv);\n};\ngoog.dom.childrenToNode_ = function(doc, tempDiv) {\n  if (1 == tempDiv.childNodes.length) {\n    return tempDiv.removeChild(goog.asserts.assert(tempDiv.firstChild));\n  }\n  for (var fragment = doc.createDocumentFragment(); tempDiv.firstChild;) {\n    fragment.appendChild(tempDiv.firstChild);\n  }\n  return fragment;\n};\ngoog.dom.isCss1CompatMode = function() {\n  return goog.dom.isCss1CompatMode_(document);\n};\ngoog.dom.isCss1CompatMode_ = function(doc) {\n  return goog.dom.COMPAT_MODE_KNOWN_ ? goog.dom.ASSUME_STANDARDS_MODE : \"CSS1Compat\" == doc.compatMode;\n};\ngoog.dom.canHaveChildren = function(node) {\n  if (node.nodeType != goog.dom.NodeType.ELEMENT) {\n    return !1;\n  }\n  switch(node.tagName) {\n    case String(goog.dom.TagName.APPLET):\n    case String(goog.dom.TagName.AREA):\n    case String(goog.dom.TagName.BASE):\n    case String(goog.dom.TagName.BR):\n    case String(goog.dom.TagName.COL):\n    case String(goog.dom.TagName.COMMAND):\n    case String(goog.dom.TagName.EMBED):\n    case String(goog.dom.TagName.FRAME):\n    case String(goog.dom.TagName.HR):\n    case String(goog.dom.TagName.IMG):\n    case String(goog.dom.TagName.INPUT):\n    case String(goog.dom.TagName.IFRAME):\n    case String(goog.dom.TagName.ISINDEX):\n    case String(goog.dom.TagName.KEYGEN):\n    case String(goog.dom.TagName.LINK):\n    case String(goog.dom.TagName.NOFRAMES):\n    case String(goog.dom.TagName.NOSCRIPT):\n    case String(goog.dom.TagName.META):\n    case String(goog.dom.TagName.OBJECT):\n    case String(goog.dom.TagName.PARAM):\n    case String(goog.dom.TagName.SCRIPT):\n    case String(goog.dom.TagName.SOURCE):\n    case String(goog.dom.TagName.STYLE):\n    case String(goog.dom.TagName.TRACK):\n    case String(goog.dom.TagName.WBR):\n      return !1;\n  }\n  return !0;\n};\ngoog.dom.appendChild = function(parent, child) {\n  goog.asserts.assert(null != parent && null != child, \"goog.dom.appendChild expects non-null arguments\");\n  parent.appendChild(child);\n};\ngoog.dom.append = function(parent, var_args) {\n  goog.dom.append_(goog.dom.getOwnerDocument(parent), parent, arguments, 1);\n};\ngoog.dom.removeChildren = function(node) {\n  for (var child; child = node.firstChild;) {\n    node.removeChild(child);\n  }\n};\ngoog.dom.insertSiblingBefore = function(newNode, refNode) {\n  goog.asserts.assert(null != newNode && null != refNode, \"goog.dom.insertSiblingBefore expects non-null arguments\");\n  refNode.parentNode && refNode.parentNode.insertBefore(newNode, refNode);\n};\ngoog.dom.insertSiblingAfter = function(newNode, refNode) {\n  goog.asserts.assert(null != newNode && null != refNode, \"goog.dom.insertSiblingAfter expects non-null arguments\");\n  refNode.parentNode && refNode.parentNode.insertBefore(newNode, refNode.nextSibling);\n};\ngoog.dom.insertChildAt = function(parent, child, index) {\n  goog.asserts.assert(null != parent, \"goog.dom.insertChildAt expects a non-null parent\");\n  parent.insertBefore(child, parent.childNodes[index] || null);\n};\ngoog.dom.removeNode = function(node) {\n  return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n};\ngoog.dom.replaceNode = function(newNode, oldNode) {\n  goog.asserts.assert(null != newNode && null != oldNode, \"goog.dom.replaceNode expects non-null arguments\");\n  var parent = oldNode.parentNode;\n  parent && parent.replaceChild(newNode, oldNode);\n};\ngoog.dom.copyContents = function(target, source) {\n  goog.asserts.assert(null != target && null != source, \"goog.dom.copyContents expects non-null arguments\");\n  var childNodes = source.cloneNode(!0).childNodes;\n  for (goog.dom.removeChildren(target); childNodes.length;) {\n    target.appendChild(childNodes[0]);\n  }\n};\ngoog.dom.flattenElement = function(element) {\n  var child, parent = element.parentNode;\n  if (parent && parent.nodeType != goog.dom.NodeType.DOCUMENT_FRAGMENT) {\n    if (element.removeNode) {\n      return element.removeNode(!1);\n    }\n    for (; child = element.firstChild;) {\n      parent.insertBefore(child, element);\n    }\n    return goog.dom.removeNode(element);\n  }\n};\ngoog.dom.getChildren = function(element) {\n  return void 0 != element.children ? element.children : Array.prototype.filter.call(element.childNodes, function(node) {\n    return node.nodeType == goog.dom.NodeType.ELEMENT;\n  });\n};\ngoog.dom.getFirstElementChild = function(node) {\n  return void 0 !== node.firstElementChild ? node.firstElementChild : goog.dom.getNextElementNode_(node.firstChild, !0);\n};\ngoog.dom.getLastElementChild = function(node) {\n  return void 0 !== node.lastElementChild ? node.lastElementChild : goog.dom.getNextElementNode_(node.lastChild, !1);\n};\ngoog.dom.getNextElementSibling = function(node) {\n  return void 0 !== node.nextElementSibling ? node.nextElementSibling : goog.dom.getNextElementNode_(node.nextSibling, !0);\n};\ngoog.dom.getPreviousElementSibling = function(node) {\n  return void 0 !== node.previousElementSibling ? node.previousElementSibling : goog.dom.getNextElementNode_(node.previousSibling, !1);\n};\ngoog.dom.getNextElementNode_ = function(node, forward) {\n  for (; node && node.nodeType != goog.dom.NodeType.ELEMENT;) {\n    node = forward ? node.nextSibling : node.previousSibling;\n  }\n  return node;\n};\ngoog.dom.getNextNode = function(node) {\n  if (!node) {\n    return null;\n  }\n  if (node.firstChild) {\n    return node.firstChild;\n  }\n  for (; node && !node.nextSibling;) {\n    node = node.parentNode;\n  }\n  return node ? node.nextSibling : null;\n};\ngoog.dom.getPreviousNode = function(node) {\n  if (!node) {\n    return null;\n  }\n  if (!node.previousSibling) {\n    return node.parentNode;\n  }\n  for (node = node.previousSibling; node && node.lastChild;) {\n    node = node.lastChild;\n  }\n  return node;\n};\ngoog.dom.isNodeLike = function(obj) {\n  return goog.isObject(obj) && 0 < obj.nodeType;\n};\ngoog.dom.isElement = function(obj) {\n  return goog.isObject(obj) && obj.nodeType == goog.dom.NodeType.ELEMENT;\n};\ngoog.dom.isWindow = function(obj) {\n  return goog.isObject(obj) && obj.window == obj;\n};\ngoog.dom.getParentElement = function(element) {\n  var parent;\n  if (goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY && !(goog.userAgent.IE && goog.userAgent.isVersionOrHigher(\"9\") && !goog.userAgent.isVersionOrHigher(\"10\") && goog.global.SVGElement && element instanceof goog.global.SVGElement) && (parent = element.parentElement)) {\n    return parent;\n  }\n  parent = element.parentNode;\n  return goog.dom.isElement(parent) ? parent : null;\n};\ngoog.dom.contains = function(parent, descendant) {\n  if (!parent || !descendant) {\n    return !1;\n  }\n  if (parent.contains && descendant.nodeType == goog.dom.NodeType.ELEMENT) {\n    return parent == descendant || parent.contains(descendant);\n  }\n  if (\"undefined\" != typeof parent.compareDocumentPosition) {\n    return parent == descendant || !!(parent.compareDocumentPosition(descendant) & 16);\n  }\n  for (; descendant && parent != descendant;) {\n    descendant = descendant.parentNode;\n  }\n  return descendant == parent;\n};\ngoog.dom.compareNodeOrder = function(node1, node2) {\n  if (node1 == node2) {\n    return 0;\n  }\n  if (node1.compareDocumentPosition) {\n    return node1.compareDocumentPosition(node2) & 2 ? 1 : -1;\n  }\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n    if (node1.nodeType == goog.dom.NodeType.DOCUMENT) {\n      return -1;\n    }\n    if (node2.nodeType == goog.dom.NodeType.DOCUMENT) {\n      return 1;\n    }\n  }\n  if (\"sourceIndex\" in node1 || node1.parentNode && \"sourceIndex\" in node1.parentNode) {\n    var isElement1 = node1.nodeType == goog.dom.NodeType.ELEMENT, isElement2 = node2.nodeType == goog.dom.NodeType.ELEMENT;\n    if (isElement1 && isElement2) {\n      return node1.sourceIndex - node2.sourceIndex;\n    }\n    var parent1 = node1.parentNode, parent2 = node2.parentNode;\n    return parent1 == parent2 ? goog.dom.compareSiblingOrder_(node1, node2) : !isElement1 && goog.dom.contains(parent1, node2) ? -1 * goog.dom.compareParentsDescendantNodeIe_(node1, node2) : !isElement2 && goog.dom.contains(parent2, node1) ? goog.dom.compareParentsDescendantNodeIe_(node2, node1) : (isElement1 ? node1.sourceIndex : parent1.sourceIndex) - (isElement2 ? node2.sourceIndex : parent2.sourceIndex);\n  }\n  var doc = goog.dom.getOwnerDocument(node1);\n  var range1 = doc.createRange();\n  range1.selectNode(node1);\n  range1.collapse(!0);\n  var range2 = doc.createRange();\n  range2.selectNode(node2);\n  range2.collapse(!0);\n  return range1.compareBoundaryPoints(goog.global.Range.START_TO_END, range2);\n};\ngoog.dom.compareParentsDescendantNodeIe_ = function(textNode, node) {\n  var parent = textNode.parentNode;\n  if (parent == node) {\n    return -1;\n  }\n  for (var sibling = node; sibling.parentNode != parent;) {\n    sibling = sibling.parentNode;\n  }\n  return goog.dom.compareSiblingOrder_(sibling, textNode);\n};\ngoog.dom.compareSiblingOrder_ = function(node1, node2) {\n  for (var s = node2; s = s.previousSibling;) {\n    if (s == node1) {\n      return -1;\n    }\n  }\n  return 1;\n};\ngoog.dom.findCommonAncestor = function(var_args) {\n  var i, count = arguments.length;\n  if (!count) {\n    return null;\n  }\n  if (1 == count) {\n    return arguments[0];\n  }\n  var paths = [], minLength = Infinity;\n  for (i = 0; i < count; i++) {\n    for (var ancestors = [], node = arguments[i]; node;) {\n      ancestors.unshift(node), node = node.parentNode;\n    }\n    paths.push(ancestors);\n    minLength = Math.min(minLength, ancestors.length);\n  }\n  var output = null;\n  for (i = 0; i < minLength; i++) {\n    for (var first = paths[0][i], j = 1; j < count; j++) {\n      if (first != paths[j][i]) {\n        return output;\n      }\n    }\n    output = first;\n  }\n  return output;\n};\ngoog.dom.isInDocument = function(node) {\n  return 16 == (node.ownerDocument.compareDocumentPosition(node) & 16);\n};\ngoog.dom.getOwnerDocument = function(node) {\n  goog.asserts.assert(node, \"Node cannot be null or undefined.\");\n  return node.nodeType == goog.dom.NodeType.DOCUMENT ? node : node.ownerDocument || node.document;\n};\ngoog.dom.getFrameContentDocument = function(frame) {\n  return frame.contentDocument || frame.contentWindow.document;\n};\ngoog.dom.getFrameContentWindow = function(frame) {\n  try {\n    return frame.contentWindow || (frame.contentDocument ? goog.dom.getWindow(frame.contentDocument) : null);\n  } catch (e) {\n  }\n  return null;\n};\ngoog.dom.setTextContent = function(node, text) {\n  goog.asserts.assert(null != node, \"goog.dom.setTextContent expects a non-null value for node\");\n  if (\"textContent\" in node) {\n    node.textContent = text;\n  } else {\n    if (node.nodeType == goog.dom.NodeType.TEXT) {\n      node.data = String(text);\n    } else {\n      if (node.firstChild && node.firstChild.nodeType == goog.dom.NodeType.TEXT) {\n        for (; node.lastChild != node.firstChild;) {\n          node.removeChild(goog.asserts.assert(node.lastChild));\n        }\n        node.firstChild.data = String(text);\n      } else {\n        goog.dom.removeChildren(node);\n        var doc = goog.dom.getOwnerDocument(node);\n        node.appendChild(doc.createTextNode(String(text)));\n      }\n    }\n  }\n};\ngoog.dom.getOuterHtml = function(element) {\n  goog.asserts.assert(null !== element, \"goog.dom.getOuterHtml expects a non-null value for element\");\n  if (\"outerHTML\" in element) {\n    return element.outerHTML;\n  }\n  var doc = goog.dom.getOwnerDocument(element), div = goog.dom.createElement_(doc, goog.dom.TagName.DIV);\n  div.appendChild(element.cloneNode(!0));\n  return div.innerHTML;\n};\ngoog.dom.findNode = function(root, p) {\n  var rv = [];\n  return goog.dom.findNodes_(root, p, rv, !0) ? rv[0] : void 0;\n};\ngoog.dom.findNodes = function(root, p) {\n  var rv = [];\n  goog.dom.findNodes_(root, p, rv, !1);\n  return rv;\n};\ngoog.dom.findNodes_ = function(root, p, rv, findOne) {\n  if (null != root) {\n    for (var child = root.firstChild; child;) {\n      if (p(child) && (rv.push(child), findOne) || goog.dom.findNodes_(child, p, rv, findOne)) {\n        return !0;\n      }\n      child = child.nextSibling;\n    }\n  }\n  return !1;\n};\ngoog.dom.findElement = function(root, pred) {\n  for (var stack = goog.dom.getChildrenReverse_(root); 0 < stack.length;) {\n    var next = stack.pop();\n    if (pred(next)) {\n      return next;\n    }\n    for (var c = next.lastElementChild; c; c = c.previousElementSibling) {\n      stack.push(c);\n    }\n  }\n  return null;\n};\ngoog.dom.findElements = function(root, pred) {\n  for (var result = [], stack = goog.dom.getChildrenReverse_(root); 0 < stack.length;) {\n    var next = stack.pop();\n    pred(next) && result.push(next);\n    for (var c = next.lastElementChild; c; c = c.previousElementSibling) {\n      stack.push(c);\n    }\n  }\n  return result;\n};\ngoog.dom.getChildrenReverse_ = function(node) {\n  if (node.nodeType == goog.dom.NodeType.DOCUMENT) {\n    return [node.documentElement];\n  }\n  for (var children = [], c = node.lastElementChild; c; c = c.previousElementSibling) {\n    children.push(c);\n  }\n  return children;\n};\ngoog.dom.TAGS_TO_IGNORE_ = {SCRIPT:1, STYLE:1, HEAD:1, IFRAME:1, OBJECT:1};\ngoog.dom.PREDEFINED_TAG_VALUES_ = {IMG:\" \", BR:\"\\n\"};\ngoog.dom.isFocusableTabIndex = function(element) {\n  return goog.dom.hasSpecifiedTabIndex_(element) && goog.dom.isTabIndexFocusable_(element);\n};\ngoog.dom.setFocusableTabIndex = function(element, enable) {\n  enable ? element.tabIndex = 0 : (element.tabIndex = -1, element.removeAttribute(\"tabIndex\"));\n};\ngoog.dom.isFocusable = function(element) {\n  var focusable;\n  return (focusable = goog.dom.nativelySupportsFocus_(element) ? !element.disabled && (!goog.dom.hasSpecifiedTabIndex_(element) || goog.dom.isTabIndexFocusable_(element)) : goog.dom.isFocusableTabIndex(element)) && goog.userAgent.IE ? goog.dom.hasNonZeroBoundingRect_(element) : focusable;\n};\ngoog.dom.hasSpecifiedTabIndex_ = function(element) {\n  return element.hasAttribute(\"tabindex\");\n};\ngoog.dom.isTabIndexFocusable_ = function(element) {\n  var index = element.tabIndex;\n  return \"number\" === typeof index && 0 <= index && 32768 > index;\n};\ngoog.dom.nativelySupportsFocus_ = function(element) {\n  return element.tagName == goog.dom.TagName.A && element.hasAttribute(\"href\") || element.tagName == goog.dom.TagName.INPUT || element.tagName == goog.dom.TagName.TEXTAREA || element.tagName == goog.dom.TagName.SELECT || element.tagName == goog.dom.TagName.BUTTON;\n};\ngoog.dom.hasNonZeroBoundingRect_ = function(element) {\n  var rect = \"function\" !== typeof element.getBoundingClientRect || goog.userAgent.IE && null == element.parentElement ? {height:element.offsetHeight, width:element.offsetWidth} : element.getBoundingClientRect();\n  return null != rect && 0 < rect.height && 0 < rect.width;\n};\ngoog.dom.getTextContent = function(node) {\n  var buf = [];\n  goog.dom.getTextContent_(node, buf, !0);\n  var textContent = buf.join(\"\");\n  textContent = textContent.replace(/ \\xAD /g, \" \").replace(/\\xAD/g, \"\");\n  textContent = textContent.replace(/\\u200B/g, \"\");\n  textContent = textContent.replace(/ +/g, \" \");\n  \" \" != textContent && (textContent = textContent.replace(/^\\s*/, \"\"));\n  return textContent;\n};\ngoog.dom.getRawTextContent = function(node) {\n  var buf = [];\n  goog.dom.getTextContent_(node, buf, !1);\n  return buf.join(\"\");\n};\ngoog.dom.getTextContent_ = function(node, buf, normalizeWhitespace) {\n  if (!(node.nodeName in goog.dom.TAGS_TO_IGNORE_)) {\n    if (node.nodeType == goog.dom.NodeType.TEXT) {\n      normalizeWhitespace ? buf.push(String(node.nodeValue).replace(/(\\r\\n|\\r|\\n)/g, \"\")) : buf.push(node.nodeValue);\n    } else {\n      if (node.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n        buf.push(goog.dom.PREDEFINED_TAG_VALUES_[node.nodeName]);\n      } else {\n        for (var child = node.firstChild; child;) {\n          goog.dom.getTextContent_(child, buf, normalizeWhitespace), child = child.nextSibling;\n        }\n      }\n    }\n  }\n};\ngoog.dom.getNodeTextLength = function(node) {\n  return goog.dom.getTextContent(node).length;\n};\ngoog.dom.getNodeTextOffset = function(node, opt_offsetParent) {\n  for (var root = opt_offsetParent || goog.dom.getOwnerDocument(node).body, buf = []; node && node != root;) {\n    for (var cur = node; cur = cur.previousSibling;) {\n      buf.unshift(goog.dom.getTextContent(cur));\n    }\n    node = node.parentNode;\n  }\n  return goog.string.trimLeft(buf.join(\"\")).replace(/ +/g, \" \").length;\n};\ngoog.dom.getNodeAtOffset = function(parent, offset, opt_result) {\n  for (var stack = [parent], pos = 0, cur = null; 0 < stack.length && pos < offset;) {\n    if (cur = stack.pop(), !(cur.nodeName in goog.dom.TAGS_TO_IGNORE_)) {\n      if (cur.nodeType == goog.dom.NodeType.TEXT) {\n        var text = cur.nodeValue.replace(/(\\r\\n|\\r|\\n)/g, \"\").replace(/ +/g, \" \");\n        pos += text.length;\n      } else {\n        if (cur.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n          pos += goog.dom.PREDEFINED_TAG_VALUES_[cur.nodeName].length;\n        } else {\n          for (var i = cur.childNodes.length - 1; 0 <= i; i--) {\n            stack.push(cur.childNodes[i]);\n          }\n        }\n      }\n    }\n  }\n  goog.isObject(opt_result) && (opt_result.remainder = cur ? cur.nodeValue.length + offset - pos - 1 : 0, opt_result.node = cur);\n  return cur;\n};\ngoog.dom.isNodeList = function(val) {\n  if (val && \"number\" == typeof val.length) {\n    if (goog.isObject(val)) {\n      return \"function\" == typeof val.item || \"string\" == typeof val.item;\n    }\n    if (\"function\" === typeof val) {\n      return \"function\" == typeof val.item;\n    }\n  }\n  return !1;\n};\ngoog.dom.getAncestorByTagNameAndClass = function(element, opt_tag, opt_class, opt_maxSearchSteps) {\n  if (!opt_tag && !opt_class) {\n    return null;\n  }\n  var tagName = opt_tag ? String(opt_tag).toUpperCase() : null;\n  return goog.dom.getAncestor(element, function(node) {\n    return (!tagName || node.nodeName == tagName) && (!opt_class || \"string\" === typeof node.className && module$contents$goog$array_contains(node.className.split(/\\s+/), opt_class));\n  }, !0, opt_maxSearchSteps);\n};\ngoog.dom.getAncestorByClass = function(element, className, opt_maxSearchSteps) {\n  return goog.dom.getAncestorByTagNameAndClass(element, null, className, opt_maxSearchSteps);\n};\ngoog.dom.getAncestor = function(element, matcher, opt_includeNode, opt_maxSearchSteps) {\n  element && !opt_includeNode && (element = element.parentNode);\n  for (var steps = 0; element && (null == opt_maxSearchSteps || steps <= opt_maxSearchSteps);) {\n    goog.asserts.assert(\"parentNode\" != element.name);\n    if (matcher(element)) {\n      return element;\n    }\n    element = element.parentNode;\n    steps++;\n  }\n  return null;\n};\ngoog.dom.getActiveElement = function(doc) {\n  try {\n    var activeElement = doc && doc.activeElement;\n    return activeElement && activeElement.nodeName ? activeElement : null;\n  } catch (e) {\n    return null;\n  }\n};\ngoog.dom.getPixelRatio = function() {\n  var win = goog.dom.getWindow();\n  return void 0 !== win.devicePixelRatio ? win.devicePixelRatio : win.matchMedia ? goog.dom.matchesPixelRatio_(3) || goog.dom.matchesPixelRatio_(2) || goog.dom.matchesPixelRatio_(1.5) || goog.dom.matchesPixelRatio_(1) || .75 : 1;\n};\ngoog.dom.matchesPixelRatio_ = function(pixelRatio) {\n  return goog.dom.getWindow().matchMedia(\"(min-resolution: \" + pixelRatio + \"dppx),(min--moz-device-pixel-ratio: \" + pixelRatio + \"),(min-resolution: \" + 96 * pixelRatio + \"dpi)\").matches ? pixelRatio : 0;\n};\ngoog.dom.getCanvasContext2D = function(canvas) {\n  return canvas.getContext(\"2d\");\n};\ngoog.dom.DomHelper = function(opt_document) {\n  this.document_ = opt_document || goog.global.document || document;\n};\ngoog.dom.DomHelper.prototype.getDomHelper = goog.dom.getDomHelper;\ngoog.dom.DomHelper.prototype.setDocument = function(document) {\n  this.document_ = document;\n};\ngoog.dom.DomHelper.prototype.getDocument = function() {\n  return this.document_;\n};\ngoog.dom.DomHelper.prototype.getElement = function(element) {\n  return goog.dom.getElementHelper_(this.document_, element);\n};\ngoog.dom.DomHelper.prototype.getRequiredElement = function(id) {\n  return goog.dom.getRequiredElementHelper_(this.document_, id);\n};\ngoog.dom.DomHelper.prototype.$ = goog.dom.DomHelper.prototype.getElement;\ngoog.dom.DomHelper.prototype.getElementsByTagName = function(tagName, opt_parent) {\n  return (opt_parent || this.document_).getElementsByTagName(String(tagName));\n};\ngoog.dom.DomHelper.prototype.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementsByTagNameAndClass_(this.document_, opt_tag, opt_class, opt_el);\n};\ngoog.dom.DomHelper.prototype.getElementByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementByTagNameAndClass_(this.document_, opt_tag, opt_class, opt_el);\n};\ngoog.dom.DomHelper.prototype.getElementsByClass = function(className, opt_el) {\n  return goog.dom.getElementsByClass(className, opt_el || this.document_);\n};\ngoog.dom.DomHelper.prototype.getElementByClass = function(className, opt_el) {\n  return goog.dom.getElementByClass(className, opt_el || this.document_);\n};\ngoog.dom.DomHelper.prototype.getRequiredElementByClass = function(className, opt_root) {\n  return goog.dom.getRequiredElementByClass(className, opt_root || this.document_);\n};\ngoog.dom.DomHelper.prototype.$$ = goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;\ngoog.dom.DomHelper.prototype.setProperties = goog.dom.setProperties;\ngoog.dom.DomHelper.prototype.getViewportSize = function(opt_window) {\n  return goog.dom.getViewportSize(opt_window || this.getWindow());\n};\ngoog.dom.DomHelper.prototype.getDocumentHeight = function() {\n  return goog.dom.getDocumentHeight_(this.getWindow());\n};\ngoog.dom.DomHelper.prototype.createDom = function(tagName, opt_attributes, var_args) {\n  return goog.dom.createDom_(this.document_, arguments);\n};\ngoog.dom.DomHelper.prototype.$dom = goog.dom.DomHelper.prototype.createDom;\ngoog.dom.DomHelper.prototype.createElement = function(name) {\n  return goog.dom.createElement_(this.document_, name);\n};\ngoog.dom.DomHelper.prototype.createTextNode = function(content) {\n  return this.document_.createTextNode(String(content));\n};\ngoog.dom.DomHelper.prototype.createTable = function(rows, columns, opt_fillWithNbsp) {\n  return goog.dom.createTable_(this.document_, rows, columns, !!opt_fillWithNbsp);\n};\ngoog.dom.DomHelper.prototype.safeHtmlToNode = function(html) {\n  return goog.dom.safeHtmlToNode_(this.document_, html);\n};\ngoog.dom.DomHelper.prototype.isCss1CompatMode = function() {\n  return goog.dom.isCss1CompatMode_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getWindow = function() {\n  return goog.dom.getWindow_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getDocumentScrollElement = function() {\n  return goog.dom.getDocumentScrollElement_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getDocumentScroll = function() {\n  return goog.dom.getDocumentScroll_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getActiveElement = function(opt_doc) {\n  return goog.dom.getActiveElement(opt_doc || this.document_);\n};\ngoog.dom.DomHelper.prototype.appendChild = goog.dom.appendChild;\ngoog.dom.DomHelper.prototype.append = goog.dom.append;\ngoog.dom.DomHelper.prototype.canHaveChildren = goog.dom.canHaveChildren;\ngoog.dom.DomHelper.prototype.removeChildren = goog.dom.removeChildren;\ngoog.dom.DomHelper.prototype.insertSiblingBefore = goog.dom.insertSiblingBefore;\ngoog.dom.DomHelper.prototype.insertSiblingAfter = goog.dom.insertSiblingAfter;\ngoog.dom.DomHelper.prototype.insertChildAt = goog.dom.insertChildAt;\ngoog.dom.DomHelper.prototype.removeNode = goog.dom.removeNode;\ngoog.dom.DomHelper.prototype.replaceNode = goog.dom.replaceNode;\ngoog.dom.DomHelper.prototype.copyContents = goog.dom.copyContents;\ngoog.dom.DomHelper.prototype.flattenElement = goog.dom.flattenElement;\ngoog.dom.DomHelper.prototype.getChildren = goog.dom.getChildren;\ngoog.dom.DomHelper.prototype.getFirstElementChild = goog.dom.getFirstElementChild;\ngoog.dom.DomHelper.prototype.getLastElementChild = goog.dom.getLastElementChild;\ngoog.dom.DomHelper.prototype.getNextElementSibling = goog.dom.getNextElementSibling;\ngoog.dom.DomHelper.prototype.getPreviousElementSibling = goog.dom.getPreviousElementSibling;\ngoog.dom.DomHelper.prototype.getNextNode = goog.dom.getNextNode;\ngoog.dom.DomHelper.prototype.getPreviousNode = goog.dom.getPreviousNode;\ngoog.dom.DomHelper.prototype.isNodeLike = goog.dom.isNodeLike;\ngoog.dom.DomHelper.prototype.isElement = goog.dom.isElement;\ngoog.dom.DomHelper.prototype.isWindow = goog.dom.isWindow;\ngoog.dom.DomHelper.prototype.getParentElement = goog.dom.getParentElement;\ngoog.dom.DomHelper.prototype.contains = goog.dom.contains;\ngoog.dom.DomHelper.prototype.compareNodeOrder = goog.dom.compareNodeOrder;\ngoog.dom.DomHelper.prototype.findCommonAncestor = goog.dom.findCommonAncestor;\ngoog.dom.DomHelper.prototype.getOwnerDocument = goog.dom.getOwnerDocument;\ngoog.dom.DomHelper.prototype.getFrameContentDocument = goog.dom.getFrameContentDocument;\ngoog.dom.DomHelper.prototype.getFrameContentWindow = goog.dom.getFrameContentWindow;\ngoog.dom.DomHelper.prototype.setTextContent = goog.dom.setTextContent;\ngoog.dom.DomHelper.prototype.getOuterHtml = goog.dom.getOuterHtml;\ngoog.dom.DomHelper.prototype.findNode = goog.dom.findNode;\ngoog.dom.DomHelper.prototype.findNodes = goog.dom.findNodes;\ngoog.dom.DomHelper.prototype.isFocusableTabIndex = goog.dom.isFocusableTabIndex;\ngoog.dom.DomHelper.prototype.setFocusableTabIndex = goog.dom.setFocusableTabIndex;\ngoog.dom.DomHelper.prototype.isFocusable = goog.dom.isFocusable;\ngoog.dom.DomHelper.prototype.getTextContent = goog.dom.getTextContent;\ngoog.dom.DomHelper.prototype.getNodeTextLength = goog.dom.getNodeTextLength;\ngoog.dom.DomHelper.prototype.getNodeTextOffset = goog.dom.getNodeTextOffset;\ngoog.dom.DomHelper.prototype.getNodeAtOffset = goog.dom.getNodeAtOffset;\ngoog.dom.DomHelper.prototype.isNodeList = goog.dom.isNodeList;\ngoog.dom.DomHelper.prototype.getAncestorByTagNameAndClass = goog.dom.getAncestorByTagNameAndClass;\ngoog.dom.DomHelper.prototype.getAncestorByClass = goog.dom.getAncestorByClass;\ngoog.dom.DomHelper.prototype.getAncestor = goog.dom.getAncestor;\ngoog.dom.DomHelper.prototype.getCanvasContext2D = goog.dom.getCanvasContext2D;\ngoog.async.nextTick = function(callback, opt_context, opt_useSetImmediate) {\n  var cb = callback;\n  opt_context && (cb = goog.bind(callback, opt_context));\n  cb = goog.async.nextTick.wrapCallback_(cb);\n  \"function\" === typeof goog.global.setImmediate && (opt_useSetImmediate || goog.async.nextTick.useSetImmediate_()) ? goog.global.setImmediate(cb) : (goog.async.nextTick.setImmediate_ || (goog.async.nextTick.setImmediate_ = goog.async.nextTick.getSetImmediateEmulator_()), goog.async.nextTick.setImmediate_(cb));\n};\ngoog.async.nextTick.useSetImmediate_ = function() {\n  return goog.global.Window && goog.global.Window.prototype && !module$contents$goog$labs$userAgent$browser_matchEdgeHtml() && goog.global.Window.prototype.setImmediate == goog.global.setImmediate ? !1 : !0;\n};\ngoog.async.nextTick.getSetImmediateEmulator_ = function() {\n  var Channel = goog.global.MessageChannel;\n  \"undefined\" === typeof Channel && \"undefined\" !== typeof window && window.postMessage && window.addEventListener && !module$contents$goog$labs$userAgent$engine_isPresto() && (Channel = function() {\n    var iframe = goog.dom.createElement(goog.dom.TagName.IFRAME);\n    iframe.style.display = \"none\";\n    document.documentElement.appendChild(iframe);\n    var win = iframe.contentWindow, doc = win.document;\n    doc.open();\n    doc.close();\n    var message = \"callImmediate\" + Math.random(), origin = \"file:\" == win.location.protocol ? \"*\" : win.location.protocol + \"//\" + win.location.host, onmessage = goog.bind(function(e) {\n      if ((\"*\" == origin || e.origin == origin) && e.data == message) {\n        this.port1.onmessage();\n      }\n    }, this);\n    win.addEventListener(\"message\", onmessage, !1);\n    this.port1 = {};\n    this.port2 = {postMessage:function() {\n      win.postMessage(message, origin);\n    }};\n  });\n  if (\"undefined\" !== typeof Channel && !module$contents$goog$labs$userAgent$browser_matchIE()) {\n    var channel = new Channel(), head = {}, tail = head;\n    channel.port1.onmessage = function() {\n      if (void 0 !== head.next) {\n        head = head.next;\n        var cb = head.cb;\n        head.cb = null;\n        cb();\n      }\n    };\n    return function(cb) {\n      tail.next = {cb:cb};\n      tail = tail.next;\n      channel.port2.postMessage(0);\n    };\n  }\n  return function(cb) {\n    goog.global.setTimeout(cb, 0);\n  };\n};\ngoog.async.nextTick.wrapCallback_ = goog.functions.identity;\ngoog.debug.entryPointRegistry.register(function(transformer) {\n  goog.async.nextTick.wrapCallback_ = transformer;\n});\nfunction module$contents$goog$async$throwException_throwException(exception) {\n  goog.global.setTimeout(function() {\n    throw exception;\n  }, 0);\n}\ngoog.async.throwException = module$contents$goog$async$throwException_throwException;\nvar module$contents$goog$async$WorkQueue_WorkQueue = function() {\n  this.workTail_ = this.workHead_ = null;\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.add = function(fn, scope) {\n  var item = this.getUnusedItem_();\n  item.set(fn, scope);\n  this.workTail_ ? this.workTail_.next = item : ((0,goog.asserts.assert)(!this.workHead_), this.workHead_ = item);\n  this.workTail_ = item;\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.remove = function() {\n  var item = null;\n  this.workHead_ && (item = this.workHead_, this.workHead_ = this.workHead_.next, this.workHead_ || (this.workTail_ = null), item.next = null);\n  return item;\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.returnUnused = function(item) {\n  module$contents$goog$async$WorkQueue_WorkQueue.freelist_.put(item);\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.getUnusedItem_ = function() {\n  return module$contents$goog$async$WorkQueue_WorkQueue.freelist_.get();\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.DEFAULT_MAX_UNUSED = 100;\nmodule$contents$goog$async$WorkQueue_WorkQueue.freelist_ = new goog.async.FreeList(function() {\n  return new module$contents$goog$async$WorkQueue_WorkItem();\n}, function(item) {\n  return item.reset();\n}, module$contents$goog$async$WorkQueue_WorkQueue.DEFAULT_MAX_UNUSED);\nvar module$contents$goog$async$WorkQueue_WorkItem = function() {\n  this.next = this.scope = this.fn = null;\n};\nmodule$contents$goog$async$WorkQueue_WorkItem.prototype.set = function(fn, scope) {\n  this.fn = fn;\n  this.scope = scope;\n  this.next = null;\n};\nmodule$contents$goog$async$WorkQueue_WorkItem.prototype.reset = function() {\n  this.next = this.scope = this.fn = null;\n};\ngoog.async.WorkQueue = module$contents$goog$async$WorkQueue_WorkQueue;\ngoog.ASSUME_NATIVE_PROMISE = !1;\ngoog.async.run = function(callback, opt_context) {\n  goog.async.run.schedule_ || goog.async.run.initializeRunner_();\n  goog.async.run.workQueueScheduled_ || (goog.async.run.schedule_(), goog.async.run.workQueueScheduled_ = !0);\n  goog.async.run.workQueue_.add(callback, opt_context);\n};\ngoog.async.run.initializeRunner_ = function() {\n  if (goog.ASSUME_NATIVE_PROMISE || goog.global.Promise && goog.global.Promise.resolve) {\n    var promise = goog.global.Promise.resolve(void 0);\n    goog.async.run.schedule_ = function() {\n      promise.then(goog.async.run.processWorkQueue);\n    };\n  } else {\n    goog.async.run.schedule_ = function() {\n      goog.async.nextTick(goog.async.run.processWorkQueue);\n    };\n  }\n};\ngoog.async.run.forceNextTick = function(opt_realSetTimeout) {\n  goog.async.run.schedule_ = function() {\n    goog.async.nextTick(goog.async.run.processWorkQueue);\n    opt_realSetTimeout && opt_realSetTimeout(goog.async.run.processWorkQueue);\n  };\n};\ngoog.async.run.workQueueScheduled_ = !1;\ngoog.async.run.workQueue_ = new module$contents$goog$async$WorkQueue_WorkQueue();\ngoog.DEBUG && (goog.async.run.resetQueue = function() {\n  goog.async.run.workQueueScheduled_ = !1;\n  goog.async.run.workQueue_ = new module$contents$goog$async$WorkQueue_WorkQueue();\n}, goog.async.run.resetSchedulerForTest = function() {\n  goog.async.run.initializeRunner_();\n});\ngoog.async.run.processWorkQueue = function() {\n  for (var item = null; item = goog.async.run.workQueue_.remove();) {\n    try {\n      item.fn.call(item.scope);\n    } catch (e) {\n      module$contents$goog$async$throwException_throwException(e);\n    }\n    goog.async.run.workQueue_.returnUnused(item);\n  }\n  goog.async.run.workQueueScheduled_ = !1;\n};\ngoog.promise = {};\ngoog.promise.Resolver = function() {\n};\ngoog.Thenable = function() {\n};\ngoog.Thenable.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n};\ngoog.Thenable.IMPLEMENTED_BY_PROP = \"$goog_Thenable\";\ngoog.Thenable.addImplementation = function(ctor) {\n  ctor.prototype[goog.Thenable.IMPLEMENTED_BY_PROP] = !0;\n};\ngoog.Thenable.isImplementedBy = function(object) {\n  if (!object) {\n    return !1;\n  }\n  try {\n    return !!object[goog.Thenable.IMPLEMENTED_BY_PROP];\n    return !!object.$goog_Thenable;\n  } catch (e) {\n    return !1;\n  }\n};\ngoog.Promise = function(resolver, opt_context) {\n  this.state_ = goog.Promise.State_.PENDING;\n  this.result_ = void 0;\n  this.callbackEntriesTail_ = this.callbackEntries_ = this.parent_ = null;\n  this.executing_ = !1;\n  0 < goog.Promise.UNHANDLED_REJECTION_DELAY ? this.unhandledRejectionId_ = 0 : 0 == goog.Promise.UNHANDLED_REJECTION_DELAY && (this.hadUnhandledRejection_ = !1);\n  goog.Promise.LONG_STACK_TRACES && (this.stack_ = [], this.addStackTrace_(Error(\"created\")), this.currentStep_ = 0);\n  if (resolver != goog.nullFunction) {\n    try {\n      var self = this;\n      resolver.call(opt_context, function(value) {\n        self.resolve_(goog.Promise.State_.FULFILLED, value);\n      }, function(reason) {\n        if (goog.DEBUG && !(reason instanceof goog.Promise.CancellationError)) {\n          try {\n            if (reason instanceof Error) {\n              throw reason;\n            }\n            throw Error(\"Promise rejected.\");\n          } catch (e) {\n          }\n        }\n        self.resolve_(goog.Promise.State_.REJECTED, reason);\n      });\n    } catch (e) {\n      this.resolve_(goog.Promise.State_.REJECTED, e);\n    }\n  }\n};\ngoog.Promise.LONG_STACK_TRACES = !1;\ngoog.Promise.UNHANDLED_REJECTION_DELAY = 0;\ngoog.Promise.State_ = {PENDING:0, BLOCKED:1, FULFILLED:2, REJECTED:3};\ngoog.Promise.CallbackEntry_ = function() {\n  this.next = this.context = this.onRejected = this.onFulfilled = this.child = null;\n  this.always = !1;\n};\ngoog.Promise.CallbackEntry_.prototype.reset = function() {\n  this.context = this.onRejected = this.onFulfilled = this.child = null;\n  this.always = !1;\n};\ngoog.Promise.DEFAULT_MAX_UNUSED = 100;\ngoog.Promise.freelist_ = new goog.async.FreeList(function() {\n  return new goog.Promise.CallbackEntry_();\n}, function(item) {\n  item.reset();\n}, goog.Promise.DEFAULT_MAX_UNUSED);\ngoog.Promise.getCallbackEntry_ = function(onFulfilled, onRejected, context) {\n  var entry = goog.Promise.freelist_.get();\n  entry.onFulfilled = onFulfilled;\n  entry.onRejected = onRejected;\n  entry.context = context;\n  return entry;\n};\ngoog.Promise.returnEntry_ = function(entry) {\n  goog.Promise.freelist_.put(entry);\n};\ngoog.Promise.resolve = function(opt_value) {\n  if (opt_value instanceof goog.Promise) {\n    return opt_value;\n  }\n  var promise = new goog.Promise(goog.nullFunction);\n  promise.resolve_(goog.Promise.State_.FULFILLED, opt_value);\n  return promise;\n};\ngoog.Promise.reject = function(opt_reason) {\n  return new goog.Promise(function(resolve, reject) {\n    reject(opt_reason);\n  });\n};\ngoog.Promise.resolveThen_ = function(value, onFulfilled, onRejected) {\n  goog.Promise.maybeThen_(value, onFulfilled, onRejected, null) || goog.async.run(goog.partial(onFulfilled, value));\n};\ngoog.Promise.race = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    promises.length || resolve(void 0);\n    for (var i = 0, promise; i < promises.length; i++) {\n      promise = promises[i], goog.Promise.resolveThen_(promise, resolve, reject);\n    }\n  });\n};\ngoog.Promise.all = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toFulfill = promises.length, values = [];\n    if (toFulfill) {\n      for (var onFulfill = function(index, value) {\n        toFulfill--;\n        values[index] = value;\n        0 == toFulfill && resolve(values);\n      }, onReject = function(reason) {\n        reject(reason);\n      }, i = 0, promise; i < promises.length; i++) {\n        promise = promises[i], goog.Promise.resolveThen_(promise, goog.partial(onFulfill, i), onReject);\n      }\n    } else {\n      resolve(values);\n    }\n  });\n};\ngoog.Promise.allSettled = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toSettle = promises.length, results = [];\n    if (toSettle) {\n      for (var onSettled = function(index, fulfilled, result) {\n        toSettle--;\n        results[index] = fulfilled ? {fulfilled:!0, value:result} : {fulfilled:!1, reason:result};\n        0 == toSettle && resolve(results);\n      }, i = 0, promise; i < promises.length; i++) {\n        promise = promises[i], goog.Promise.resolveThen_(promise, goog.partial(onSettled, i, !0), goog.partial(onSettled, i, !1));\n      }\n    } else {\n      resolve(results);\n    }\n  });\n};\ngoog.Promise.firstFulfilled = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toReject = promises.length, reasons = [];\n    if (toReject) {\n      for (var onFulfill = function(value) {\n        resolve(value);\n      }, onReject = function(index, reason) {\n        toReject--;\n        reasons[index] = reason;\n        0 == toReject && reject(reasons);\n      }, i = 0, promise; i < promises.length; i++) {\n        promise = promises[i], goog.Promise.resolveThen_(promise, onFulfill, goog.partial(onReject, i));\n      }\n    } else {\n      resolve(void 0);\n    }\n  });\n};\ngoog.Promise.withResolver = function() {\n  var resolve, reject, promise = new goog.Promise(function(rs, rj) {\n    resolve = rs;\n    reject = rj;\n  });\n  return new goog.Promise.Resolver_(promise, resolve, reject);\n};\ngoog.Promise.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  null != opt_onFulfilled && goog.asserts.assertFunction(opt_onFulfilled, \"opt_onFulfilled should be a function.\");\n  null != opt_onRejected && goog.asserts.assertFunction(opt_onRejected, \"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"then\"));\n  return this.addChildPromise_(\"function\" === typeof opt_onFulfilled ? opt_onFulfilled : null, \"function\" === typeof opt_onRejected ? opt_onRejected : null, opt_context);\n};\ngoog.Thenable.addImplementation(goog.Promise);\ngoog.Promise.prototype.thenVoid = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  null != opt_onFulfilled && goog.asserts.assertFunction(opt_onFulfilled, \"opt_onFulfilled should be a function.\");\n  null != opt_onRejected && goog.asserts.assertFunction(opt_onRejected, \"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"then\"));\n  this.addCallbackEntry_(goog.Promise.getCallbackEntry_(opt_onFulfilled || goog.nullFunction, opt_onRejected || null, opt_context));\n};\ngoog.Promise.prototype.thenAlways = function(onSettled, opt_context) {\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"thenAlways\"));\n  var entry = goog.Promise.getCallbackEntry_(onSettled, onSettled, opt_context);\n  entry.always = !0;\n  this.addCallbackEntry_(entry);\n  return this;\n};\ngoog.Promise.prototype.thenCatch = function(onRejected, opt_context) {\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"thenCatch\"));\n  return this.addChildPromise_(null, onRejected, opt_context);\n};\ngoog.Promise.prototype.cancel = function(opt_message) {\n  if (this.state_ == goog.Promise.State_.PENDING) {\n    var err = new goog.Promise.CancellationError(opt_message);\n    goog.async.run(function() {\n      this.cancelInternal_(err);\n    }, this);\n  }\n};\ngoog.Promise.prototype.cancelInternal_ = function(err) {\n  this.state_ == goog.Promise.State_.PENDING && (this.parent_ ? (this.parent_.cancelChild_(this, err), this.parent_ = null) : this.resolve_(goog.Promise.State_.REJECTED, err));\n};\ngoog.Promise.prototype.cancelChild_ = function(childPromise, err) {\n  if (this.callbackEntries_) {\n    for (var childCount = 0, childEntry = null, beforeChildEntry = null, entry = this.callbackEntries_; entry && (entry.always || (childCount++, entry.child == childPromise && (childEntry = entry), !(childEntry && 1 < childCount))); entry = entry.next) {\n      childEntry || (beforeChildEntry = entry);\n    }\n    childEntry && (this.state_ == goog.Promise.State_.PENDING && 1 == childCount ? this.cancelInternal_(err) : (beforeChildEntry ? this.removeEntryAfter_(beforeChildEntry) : this.popEntry_(), this.executeCallback_(childEntry, goog.Promise.State_.REJECTED, err)));\n  }\n};\ngoog.Promise.prototype.addCallbackEntry_ = function(callbackEntry) {\n  this.hasEntry_() || this.state_ != goog.Promise.State_.FULFILLED && this.state_ != goog.Promise.State_.REJECTED || this.scheduleCallbacks_();\n  this.queueEntry_(callbackEntry);\n};\ngoog.Promise.prototype.addChildPromise_ = function(onFulfilled, onRejected, opt_context) {\n  var callbackEntry = goog.Promise.getCallbackEntry_(null, null, null);\n  callbackEntry.child = new goog.Promise(function(resolve, reject) {\n    callbackEntry.onFulfilled = onFulfilled ? function(value) {\n      try {\n        var result = onFulfilled.call(opt_context, value);\n        resolve(result);\n      } catch (err$53) {\n        reject(err$53);\n      }\n    } : resolve;\n    callbackEntry.onRejected = onRejected ? function(reason) {\n      try {\n        var result = onRejected.call(opt_context, reason);\n        void 0 === result && reason instanceof goog.Promise.CancellationError ? reject(reason) : resolve(result);\n      } catch (err$54) {\n        reject(err$54);\n      }\n    } : reject;\n  });\n  callbackEntry.child.parent_ = this;\n  this.addCallbackEntry_(callbackEntry);\n  return callbackEntry.child;\n};\ngoog.Promise.prototype.unblockAndFulfill_ = function(value) {\n  goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n  this.state_ = goog.Promise.State_.PENDING;\n  this.resolve_(goog.Promise.State_.FULFILLED, value);\n};\ngoog.Promise.prototype.unblockAndReject_ = function(reason) {\n  goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n  this.state_ = goog.Promise.State_.PENDING;\n  this.resolve_(goog.Promise.State_.REJECTED, reason);\n};\ngoog.Promise.prototype.resolve_ = function(state, x) {\n  this.state_ == goog.Promise.State_.PENDING && (this === x && (state = goog.Promise.State_.REJECTED, x = new TypeError(\"Promise cannot resolve to itself\")), this.state_ = goog.Promise.State_.BLOCKED, goog.Promise.maybeThen_(x, this.unblockAndFulfill_, this.unblockAndReject_, this) || (this.result_ = x, this.state_ = state, this.parent_ = null, this.scheduleCallbacks_(), state != goog.Promise.State_.REJECTED || x instanceof goog.Promise.CancellationError || goog.Promise.addUnhandledRejection_(this, \n  x)));\n};\ngoog.Promise.maybeThen_ = function(value, onFulfilled, onRejected, context) {\n  if (value instanceof goog.Promise) {\n    return value.thenVoid(onFulfilled, onRejected, context), !0;\n  }\n  if (goog.Thenable.isImplementedBy(value)) {\n    return value.then(onFulfilled, onRejected, context), !0;\n  }\n  if (goog.isObject(value)) {\n    try {\n      var then = value.then;\n      if (\"function\" === typeof then) {\n        return goog.Promise.tryThen_(value, then, onFulfilled, onRejected, context), !0;\n      }\n    } catch (e) {\n      return onRejected.call(context, e), !0;\n    }\n  }\n  return !1;\n};\ngoog.Promise.tryThen_ = function(thenable, then, onFulfilled, onRejected, context) {\n  var called = !1, resolve = function(value) {\n    called || (called = !0, onFulfilled.call(context, value));\n  }, reject = function(reason) {\n    called || (called = !0, onRejected.call(context, reason));\n  };\n  try {\n    then.call(thenable, resolve, reject);\n  } catch (e) {\n    reject(e);\n  }\n};\ngoog.Promise.prototype.scheduleCallbacks_ = function() {\n  this.executing_ || (this.executing_ = !0, goog.async.run(this.executeCallbacks_, this));\n};\ngoog.Promise.prototype.hasEntry_ = function() {\n  return !!this.callbackEntries_;\n};\ngoog.Promise.prototype.queueEntry_ = function(entry) {\n  goog.asserts.assert(null != entry.onFulfilled);\n  this.callbackEntriesTail_ ? this.callbackEntriesTail_.next = entry : this.callbackEntries_ = entry;\n  this.callbackEntriesTail_ = entry;\n};\ngoog.Promise.prototype.popEntry_ = function() {\n  var entry = null;\n  this.callbackEntries_ && (entry = this.callbackEntries_, this.callbackEntries_ = entry.next, entry.next = null);\n  this.callbackEntries_ || (this.callbackEntriesTail_ = null);\n  null != entry && goog.asserts.assert(null != entry.onFulfilled);\n  return entry;\n};\ngoog.Promise.prototype.removeEntryAfter_ = function(previous) {\n  goog.asserts.assert(this.callbackEntries_);\n  goog.asserts.assert(null != previous);\n  previous.next == this.callbackEntriesTail_ && (this.callbackEntriesTail_ = previous);\n  previous.next = previous.next.next;\n};\ngoog.Promise.prototype.executeCallbacks_ = function() {\n  for (var entry = null; entry = this.popEntry_();) {\n    goog.Promise.LONG_STACK_TRACES && this.currentStep_++, this.executeCallback_(entry, this.state_, this.result_);\n  }\n  this.executing_ = !1;\n};\ngoog.Promise.prototype.executeCallback_ = function(callbackEntry, state, result) {\n  state == goog.Promise.State_.REJECTED && callbackEntry.onRejected && !callbackEntry.always && this.removeUnhandledRejection_();\n  if (callbackEntry.child) {\n    callbackEntry.child.parent_ = null, goog.Promise.invokeCallback_(callbackEntry, state, result);\n  } else {\n    try {\n      callbackEntry.always ? callbackEntry.onFulfilled.call(callbackEntry.context) : goog.Promise.invokeCallback_(callbackEntry, state, result);\n    } catch (err$55) {\n      goog.Promise.handleRejection_.call(null, err$55);\n    }\n  }\n  goog.Promise.returnEntry_(callbackEntry);\n};\ngoog.Promise.invokeCallback_ = function(callbackEntry, state, result) {\n  state == goog.Promise.State_.FULFILLED ? callbackEntry.onFulfilled.call(callbackEntry.context, result) : callbackEntry.onRejected && callbackEntry.onRejected.call(callbackEntry.context, result);\n};\ngoog.Promise.prototype.addStackTrace_ = function(err) {\n  if (goog.Promise.LONG_STACK_TRACES && \"string\" === typeof err.stack) {\n    var trace = err.stack.split(\"\\n\", 4)[3], message = err.message;\n    message += Array(11 - message.length).join(\" \");\n    this.stack_.push(message + trace);\n  }\n};\ngoog.Promise.prototype.appendLongStack_ = function(err) {\n  if (goog.Promise.LONG_STACK_TRACES && err && \"string\" === typeof err.stack && this.stack_.length) {\n    for (var longTrace = [\"Promise trace:\"], promise = this; promise; promise = promise.parent_) {\n      for (var i = this.currentStep_; 0 <= i; i--) {\n        longTrace.push(promise.stack_[i]);\n      }\n      longTrace.push(\"Value: [\" + (promise.state_ == goog.Promise.State_.REJECTED ? \"REJECTED\" : \"FULFILLED\") + \"] <\" + String(promise.result_) + \">\");\n    }\n    err.stack += \"\\n\\n\" + longTrace.join(\"\\n\");\n  }\n};\ngoog.Promise.prototype.removeUnhandledRejection_ = function() {\n  if (0 < goog.Promise.UNHANDLED_REJECTION_DELAY) {\n    for (var p = this; p && p.unhandledRejectionId_; p = p.parent_) {\n      goog.global.clearTimeout(p.unhandledRejectionId_), p.unhandledRejectionId_ = 0;\n    }\n  } else {\n    if (0 == goog.Promise.UNHANDLED_REJECTION_DELAY) {\n      for (p = this; p && p.hadUnhandledRejection_; p = p.parent_) {\n        p.hadUnhandledRejection_ = !1;\n      }\n    }\n  }\n};\ngoog.Promise.addUnhandledRejection_ = function(promise, reason) {\n  0 < goog.Promise.UNHANDLED_REJECTION_DELAY ? promise.unhandledRejectionId_ = goog.global.setTimeout(function() {\n    promise.appendLongStack_(reason);\n    goog.Promise.handleRejection_.call(null, reason);\n  }, goog.Promise.UNHANDLED_REJECTION_DELAY) : 0 == goog.Promise.UNHANDLED_REJECTION_DELAY && (promise.hadUnhandledRejection_ = !0, goog.async.run(function() {\n    promise.hadUnhandledRejection_ && (promise.appendLongStack_(reason), goog.Promise.handleRejection_.call(null, reason));\n  }));\n};\ngoog.Promise.handleRejection_ = module$contents$goog$async$throwException_throwException;\ngoog.Promise.setUnhandledRejectionHandler = function(handler) {\n  goog.Promise.handleRejection_ = handler;\n};\ngoog.Promise.CancellationError = function(opt_message) {\n  module$contents$goog$debug$Error_DebugError.call(this, opt_message);\n  this.reportErrorToServer = !1;\n};\ngoog.inherits(goog.Promise.CancellationError, module$contents$goog$debug$Error_DebugError);\ngoog.Promise.CancellationError.prototype.name = \"cancel\";\ngoog.Promise.Resolver_ = function(promise, resolve, reject) {\n  this.promise = promise;\n  this.resolve = resolve;\n  this.reject = reject;\n};\ngoog.Timer = function(opt_interval, opt_timerObject) {\n  goog.events.EventTarget.call(this);\n  this.interval_ = opt_interval || 1;\n  this.timerObject_ = opt_timerObject || goog.Timer.defaultTimerObject;\n  this.boundTick_ = goog.bind(this.tick_, this);\n  this.last_ = goog.now();\n};\ngoog.inherits(goog.Timer, goog.events.EventTarget);\ngoog.Timer.MAX_TIMEOUT_ = 2147483647;\ngoog.Timer.INVALID_TIMEOUT_ID_ = -1;\ngoog.Timer.prototype.enabled = !1;\ngoog.Timer.defaultTimerObject = goog.global;\ngoog.Timer.intervalScale = 0.8;\ngoog.Timer.prototype.timer_ = null;\ngoog.Timer.prototype.getInterval = function() {\n  return this.interval_;\n};\ngoog.Timer.prototype.setInterval = function(interval) {\n  this.interval_ = interval;\n  this.timer_ && this.enabled ? (this.stop(), this.start()) : this.timer_ && this.stop();\n};\ngoog.Timer.prototype.tick_ = function() {\n  if (this.enabled) {\n    var elapsed = goog.now() - this.last_;\n    0 < elapsed && elapsed < this.interval_ * goog.Timer.intervalScale ? this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_ - elapsed) : (this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null), this.dispatchTick(), this.enabled && (this.stop(), this.start()));\n  }\n};\ngoog.Timer.prototype.dispatchTick = function() {\n  this.dispatchEvent(goog.Timer.TICK);\n};\ngoog.Timer.prototype.start = function() {\n  this.enabled = !0;\n  this.timer_ || (this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_), this.last_ = goog.now());\n};\ngoog.Timer.prototype.stop = function() {\n  this.enabled = !1;\n  this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null);\n};\ngoog.Timer.prototype.disposeInternal = function() {\n  goog.Timer.superClass_.disposeInternal.call(this);\n  this.stop();\n  delete this.timerObject_;\n};\ngoog.Timer.TICK = \"tick\";\ngoog.Timer.callOnce = function(listener, opt_delay, opt_handler) {\n  if (\"function\" === typeof listener) {\n    opt_handler && (listener = goog.bind(listener, opt_handler));\n  } else {\n    if (listener && \"function\" == typeof listener.handleEvent) {\n      listener = goog.bind(listener.handleEvent, listener);\n    } else {\n      throw Error(\"Invalid listener argument\");\n    }\n  }\n  return Number(opt_delay) > goog.Timer.MAX_TIMEOUT_ ? goog.Timer.INVALID_TIMEOUT_ID_ : goog.Timer.defaultTimerObject.setTimeout(listener, opt_delay || 0);\n};\ngoog.Timer.clear = function(timerId) {\n  goog.Timer.defaultTimerObject.clearTimeout(timerId);\n};\ngoog.Timer.promise = function(delay, opt_result) {\n  var timerKey = null;\n  return (new goog.Promise(function(resolve, reject) {\n    timerKey = goog.Timer.callOnce(function() {\n      resolve(opt_result);\n    }, delay);\n    timerKey == goog.Timer.INVALID_TIMEOUT_ID_ && reject(Error(\"Failed to schedule timer.\"));\n  })).thenCatch(function(error) {\n    goog.Timer.clear(timerKey);\n    throw error;\n  });\n};\nvar module$contents$goog$async$Throttle_Throttle = function(listener, interval, handler) {\n  goog.Disposable.call(this);\n  this.listener_ = null != handler ? listener.bind(handler) : listener;\n  this.interval_ = interval;\n  this.args_ = null;\n  this.shouldFire_ = !1;\n  this.pauseCount_ = 0;\n  this.timer_ = null;\n};\n$jscomp.inherits(module$contents$goog$async$Throttle_Throttle, goog.Disposable);\nmodule$contents$goog$async$Throttle_Throttle.prototype.fire = function(var_args) {\n  this.args_ = arguments;\n  this.timer_ || this.pauseCount_ ? this.shouldFire_ = !0 : this.doAction_();\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.stop = function() {\n  this.timer_ && (goog.Timer.clear(this.timer_), this.timer_ = null, this.shouldFire_ = !1, this.args_ = null);\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.pause = function() {\n  this.pauseCount_++;\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.resume = function() {\n  this.pauseCount_--;\n  this.pauseCount_ || !this.shouldFire_ || this.timer_ || (this.shouldFire_ = !1, this.doAction_());\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.disposeInternal = function() {\n  goog.Disposable.prototype.disposeInternal.call(this);\n  this.stop();\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.onTimer_ = function() {\n  this.timer_ = null;\n  this.shouldFire_ && !this.pauseCount_ && (this.shouldFire_ = !1, this.doAction_());\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.doAction_ = function() {\n  var $jscomp$this = this;\n  this.timer_ = goog.Timer.callOnce(function() {\n    return $jscomp$this.onTimer_();\n  }, this.interval_);\n  var args = this.args_;\n  this.args_ = null;\n  this.listener_.apply(null, args);\n};\ngoog.async.Throttle = module$contents$goog$async$Throttle_Throttle;\n/*\n\n Copyright 2005, 2007 Bob Ippolito. All Rights Reserved.\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: MIT\n*/\ngoog.async.Deferred = function(opt_onCancelFunction, opt_defaultScope) {\n  this.sequence_ = [];\n  this.onCancelFunction_ = opt_onCancelFunction;\n  this.defaultScope_ = opt_defaultScope || null;\n  this.hadError_ = this.fired_ = !1;\n  this.result_ = void 0;\n  this.silentlyCanceled_ = this.blocking_ = this.blocked_ = !1;\n  this.unhandledErrorId_ = 0;\n  this.parent_ = null;\n  this.branches_ = 0;\n  if (goog.async.Deferred.LONG_STACK_TRACES && (this.constructorStack_ = null, Error.captureStackTrace)) {\n    var target = {stack:\"\"};\n    Error.captureStackTrace(target, goog.async.Deferred);\n    \"string\" == typeof target.stack && (this.constructorStack_ = target.stack.replace(/^[^\\n]*\\n/, \"\"));\n  }\n};\ngoog.async.Deferred.STRICT_ERRORS = !1;\ngoog.async.Deferred.LONG_STACK_TRACES = !1;\ngoog.async.Deferred.prototype.cancel = function(opt_deepCancel) {\n  if (this.hasFired()) {\n    this.result_ instanceof goog.async.Deferred && this.result_.cancel();\n  } else {\n    if (this.parent_) {\n      var parent = this.parent_;\n      delete this.parent_;\n      opt_deepCancel ? parent.cancel(opt_deepCancel) : parent.branchCancel_();\n    }\n    this.onCancelFunction_ ? this.onCancelFunction_.call(this.defaultScope_, this) : this.silentlyCanceled_ = !0;\n    this.hasFired() || this.errback(new goog.async.Deferred.CanceledError(this));\n  }\n};\ngoog.async.Deferred.prototype.branchCancel_ = function() {\n  this.branches_--;\n  0 >= this.branches_ && this.cancel();\n};\ngoog.async.Deferred.prototype.continue_ = function(isSuccess, res) {\n  this.blocked_ = !1;\n  this.updateResult_(isSuccess, res);\n};\ngoog.async.Deferred.prototype.updateResult_ = function(isSuccess, res) {\n  this.fired_ = !0;\n  this.result_ = res;\n  this.hadError_ = !isSuccess;\n  this.fire_();\n};\ngoog.async.Deferred.prototype.check_ = function() {\n  if (this.hasFired()) {\n    if (!this.silentlyCanceled_) {\n      throw new goog.async.Deferred.AlreadyCalledError(this);\n    }\n    this.silentlyCanceled_ = !1;\n  }\n};\ngoog.async.Deferred.prototype.callback = function(opt_result) {\n  this.check_();\n  this.assertNotDeferred_(opt_result);\n  this.updateResult_(!0, opt_result);\n};\ngoog.async.Deferred.prototype.errback = function(opt_result) {\n  this.check_();\n  this.assertNotDeferred_(opt_result);\n  this.makeStackTraceLong_(opt_result);\n  this.updateResult_(!1, opt_result);\n};\ngoog.async.Deferred.unhandledErrorHandler_ = function(e) {\n  throw e;\n};\ngoog.async.Deferred.setUnhandledErrorHandler = function(handler) {\n  goog.async.Deferred.unhandledErrorHandler_ = handler;\n};\ngoog.async.Deferred.prototype.makeStackTraceLong_ = function(error) {\n  goog.async.Deferred.LONG_STACK_TRACES && this.constructorStack_ && goog.isObject(error) && error.stack && /^[^\\n]+(\\n   [^\\n]+)+/.test(error.stack) && (error.stack = error.stack + \"\\nDEFERRED OPERATION:\\n\" + this.constructorStack_);\n};\ngoog.async.Deferred.prototype.assertNotDeferred_ = function(obj) {\n  goog.asserts.assert(!(obj instanceof goog.async.Deferred), \"An execution sequence may not be initiated with a blocking Deferred.\");\n};\ngoog.async.Deferred.prototype.addCallback = function(cb, opt_scope) {\n  return this.addCallbacks(cb, null, opt_scope);\n};\ngoog.async.Deferred.prototype.addErrback = function(eb, opt_scope) {\n  return this.addCallbacks(null, eb, opt_scope);\n};\ngoog.async.Deferred.prototype.addBoth = function(f, opt_scope) {\n  return this.addCallbacks(f, f, opt_scope);\n};\ngoog.async.Deferred.prototype.addFinally = function(f, opt_scope) {\n  return this.addCallbacks(f, function(err) {\n    var result = f.call(this, err);\n    if (void 0 === result) {\n      throw err;\n    }\n    return result;\n  }, opt_scope);\n};\ngoog.async.Deferred.prototype.addCallbacks = function(cb, eb, opt_scope) {\n  goog.asserts.assert(!this.blocking_, \"Blocking Deferreds can not be re-used\");\n  this.sequence_.push([cb, eb, opt_scope]);\n  this.hasFired() && this.fire_();\n  return this;\n};\ngoog.async.Deferred.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  var reject, resolve, promise = new goog.Promise(function(res, rej) {\n    resolve = res;\n    reject = rej;\n  });\n  this.addCallbacks(resolve, function(reason) {\n    reason instanceof goog.async.Deferred.CanceledError ? promise.cancel() : reject(reason);\n  });\n  return promise.then(opt_onFulfilled, opt_onRejected, opt_context);\n};\ngoog.Thenable.addImplementation(goog.async.Deferred);\ngoog.async.Deferred.prototype.chainDeferred = function(otherDeferred) {\n  this.addCallbacks(otherDeferred.callback, otherDeferred.errback, otherDeferred);\n  return this;\n};\ngoog.async.Deferred.prototype.awaitDeferred = function(otherDeferred) {\n  return otherDeferred instanceof goog.async.Deferred ? this.addCallback(goog.bind(otherDeferred.branch, otherDeferred)) : this.addCallback(function() {\n    return otherDeferred;\n  });\n};\ngoog.async.Deferred.prototype.branch = function(opt_propagateCancel) {\n  var d = new goog.async.Deferred();\n  this.chainDeferred(d);\n  opt_propagateCancel && (d.parent_ = this, this.branches_++);\n  return d;\n};\ngoog.async.Deferred.prototype.hasFired = function() {\n  return this.fired_;\n};\ngoog.async.Deferred.prototype.isError = function(res) {\n  return res instanceof Error;\n};\ngoog.async.Deferred.prototype.hasErrback_ = function() {\n  return module$contents$goog$array_some(this.sequence_, function(sequenceRow) {\n    return \"function\" === typeof sequenceRow[1];\n  });\n};\ngoog.async.Deferred.prototype.getLastValueForMigration = function() {\n  return this.hasFired() && !this.hadError_ ? this.result_ : void 0;\n};\ngoog.async.Deferred.prototype.fire_ = function() {\n  this.unhandledErrorId_ && this.hasFired() && this.hasErrback_() && (goog.async.Deferred.unscheduleError_(this.unhandledErrorId_), this.unhandledErrorId_ = 0);\n  this.parent_ && (this.parent_.branches_--, delete this.parent_);\n  for (var res = this.result_, unhandledException = !1, isNewlyBlocked = !1; this.sequence_.length && !this.blocked_;) {\n    var sequenceEntry = this.sequence_.shift(), callback = sequenceEntry[0], errback = sequenceEntry[1], scope = sequenceEntry[2], f = this.hadError_ ? errback : callback;\n    if (f) {\n      try {\n        var ret = f.call(scope || this.defaultScope_, res);\n        void 0 !== ret && (this.hadError_ = this.hadError_ && (ret == res || this.isError(ret)), this.result_ = res = ret);\n        if (goog.Thenable.isImplementedBy(res) || \"function\" === typeof goog.global.Promise && res instanceof goog.global.Promise) {\n          this.blocked_ = isNewlyBlocked = !0;\n        }\n      } catch (ex) {\n        res = ex, this.hadError_ = !0, this.makeStackTraceLong_(res), this.hasErrback_() || (unhandledException = !0);\n      }\n    }\n  }\n  this.result_ = res;\n  if (isNewlyBlocked) {\n    var onCallback = goog.bind(this.continue_, this, !0), onErrback = goog.bind(this.continue_, this, !1);\n    res instanceof goog.async.Deferred ? (res.addCallbacks(onCallback, onErrback), res.blocking_ = !0) : res.then(onCallback, onErrback);\n  } else {\n    !goog.async.Deferred.STRICT_ERRORS || !this.isError(res) || res instanceof goog.async.Deferred.CanceledError || (unhandledException = this.hadError_ = !0);\n  }\n  unhandledException && (this.unhandledErrorId_ = goog.async.Deferred.scheduleError_(res));\n};\ngoog.async.Deferred.succeed = function(opt_result) {\n  var d = new goog.async.Deferred();\n  d.callback(opt_result);\n  return d;\n};\ngoog.async.Deferred.fromPromise = function(promise) {\n  var d = new goog.async.Deferred();\n  promise.then(function(value) {\n    d.callback(value);\n  }, function(error) {\n    d.errback(error);\n  });\n  return d;\n};\ngoog.async.Deferred.fail = function(res) {\n  var d = new goog.async.Deferred();\n  d.errback(res);\n  return d;\n};\ngoog.async.Deferred.canceled = function() {\n  var d = new goog.async.Deferred();\n  d.cancel();\n  return d;\n};\ngoog.async.Deferred.when = function(value, callback, opt_scope) {\n  return value instanceof goog.async.Deferred ? value.branch(!0).addCallback(callback, opt_scope) : goog.async.Deferred.succeed(value).addCallback(callback, opt_scope);\n};\ngoog.async.Deferred.AlreadyCalledError = function(deferred) {\n  module$contents$goog$debug$Error_DebugError.call(this);\n  this.deferred = deferred;\n};\ngoog.inherits(goog.async.Deferred.AlreadyCalledError, module$contents$goog$debug$Error_DebugError);\ngoog.async.Deferred.AlreadyCalledError.prototype.message = \"Deferred has already fired\";\ngoog.async.Deferred.AlreadyCalledError.prototype.name = \"AlreadyCalledError\";\ngoog.async.Deferred.CanceledError = function(deferred) {\n  module$contents$goog$debug$Error_DebugError.call(this);\n  this.deferred = deferred;\n};\ngoog.inherits(goog.async.Deferred.CanceledError, module$contents$goog$debug$Error_DebugError);\ngoog.async.Deferred.CanceledError.prototype.message = \"Deferred was canceled\";\ngoog.async.Deferred.CanceledError.prototype.name = \"CanceledError\";\ngoog.async.Deferred.Error_ = function(error) {\n  this.id_ = goog.global.setTimeout(goog.bind(this.throwError, this), 0);\n  this.error_ = error;\n};\ngoog.async.Deferred.Error_.prototype.throwError = function() {\n  goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_], \"Cannot throw an error that is not scheduled.\");\n  delete goog.async.Deferred.errorMap_[this.id_];\n  goog.async.Deferred.unhandledErrorHandler_(this.error_);\n};\ngoog.async.Deferred.Error_.prototype.resetTimer = function() {\n  goog.global.clearTimeout(this.id_);\n};\ngoog.async.Deferred.errorMap_ = {};\ngoog.async.Deferred.scheduleError_ = function(error) {\n  var deferredError = new goog.async.Deferred.Error_(error);\n  goog.async.Deferred.errorMap_[deferredError.id_] = deferredError;\n  return deferredError.id_;\n};\ngoog.async.Deferred.unscheduleError_ = function(id) {\n  var error = goog.async.Deferred.errorMap_[id];\n  error && (error.resetTimer(), delete goog.async.Deferred.errorMap_[id]);\n};\ngoog.async.Deferred.assertNoErrors = function() {\n  var map = goog.async.Deferred.errorMap_, key;\n  for (key in map) {\n    var error = map[key];\n    error.resetTimer();\n    error.throwError();\n  }\n};\ngoog.net = {};\ngoog.net.jsloader = {};\ngoog.net.jsloader.Options = {};\ngoog.net.jsloader.GLOBAL_VERIFY_OBJS_ = \"closure_verification\";\ngoog.net.jsloader.DEFAULT_TIMEOUT = 5000;\ngoog.net.jsloader.scriptsToLoad_ = [];\ngoog.net.jsloader.safeLoadMany = function(trustedUris, opt_options) {\n  if (!trustedUris.length) {\n    return goog.async.Deferred.succeed(null);\n  }\n  var isAnotherModuleLoading = goog.net.jsloader.scriptsToLoad_.length;\n  module$contents$goog$array_extend(goog.net.jsloader.scriptsToLoad_, trustedUris);\n  if (isAnotherModuleLoading) {\n    return goog.net.jsloader.scriptLoadingDeferred_;\n  }\n  trustedUris = goog.net.jsloader.scriptsToLoad_;\n  var popAndLoadNextScript = function() {\n    var trustedUri = trustedUris.shift(), deferred = goog.net.jsloader.safeLoad(trustedUri, opt_options);\n    trustedUris.length && deferred.addBoth(popAndLoadNextScript);\n    return deferred;\n  };\n  goog.net.jsloader.scriptLoadingDeferred_ = popAndLoadNextScript();\n  return goog.net.jsloader.scriptLoadingDeferred_;\n};\ngoog.net.jsloader.safeLoad = function(trustedUri, opt_options) {\n  var options = opt_options || {}, doc = options.document || document, uri = goog.html.TrustedResourceUrl.unwrap(trustedUri), script = (new goog.dom.DomHelper(doc)).createElement(goog.dom.TagName.SCRIPT), request = {script_:script, timeout_:void 0}, deferred = new goog.async.Deferred(goog.net.jsloader.cancel_, request), timeout = null, timeoutDuration = null != options.timeout ? options.timeout : goog.net.jsloader.DEFAULT_TIMEOUT;\n  0 < timeoutDuration && (timeout = window.setTimeout(function() {\n    goog.net.jsloader.cleanup_(script, !0);\n    deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT, \"Timeout reached for loading script \" + uri));\n  }, timeoutDuration), request.timeout_ = timeout);\n  script.onload = script.onreadystatechange = function() {\n    script.readyState && \"loaded\" != script.readyState && \"complete\" != script.readyState || (goog.net.jsloader.cleanup_(script, options.cleanupWhenDone || !1, timeout), deferred.callback(null));\n  };\n  script.onerror = function() {\n    goog.net.jsloader.cleanup_(script, !0, timeout);\n    deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR, \"Error while loading script \" + uri));\n  };\n  var properties = options.attributes || {};\n  module$contents$goog$object_extend(properties, {type:\"text/javascript\", charset:\"UTF-8\"});\n  goog.dom.setProperties(script, properties);\n  goog.dom.safe.setScriptSrc(script, trustedUri);\n  goog.net.jsloader.getScriptParentElement_(doc).appendChild(script);\n  return deferred;\n};\ngoog.net.jsloader.safeLoadAndVerify = function(trustedUri, verificationObjName, options) {\n  goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_] || (goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_] = {});\n  var verifyObjs = goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_], uri = goog.html.TrustedResourceUrl.unwrap(trustedUri);\n  if (void 0 !== verifyObjs[verificationObjName]) {\n    return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS, \"Verification object \" + verificationObjName + \" already defined.\"));\n  }\n  var sendDeferred = goog.net.jsloader.safeLoad(trustedUri, options), deferred = new goog.async.Deferred(goog.bind(sendDeferred.cancel, sendDeferred));\n  sendDeferred.addCallback(function() {\n    var result = verifyObjs[verificationObjName];\n    void 0 !== result ? (deferred.callback(result), delete verifyObjs[verificationObjName]) : deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR, \"Script \" + uri + \" loaded, but verification object \" + verificationObjName + \" was not defined.\"));\n  });\n  sendDeferred.addErrback(function(error) {\n    void 0 !== verifyObjs[verificationObjName] && delete verifyObjs[verificationObjName];\n    deferred.errback(error);\n  });\n  return deferred;\n};\ngoog.net.jsloader.getScriptParentElement_ = function(doc) {\n  var headElements = goog.dom.getElementsByTagName(goog.dom.TagName.HEAD, doc);\n  return headElements && 0 !== headElements.length ? headElements[0] : doc.documentElement;\n};\ngoog.net.jsloader.cancel_ = function() {\n  if (this && this.script_) {\n    var scriptNode = this.script_;\n    scriptNode && scriptNode.tagName == goog.dom.TagName.SCRIPT && goog.net.jsloader.cleanup_(scriptNode, !0, this.timeout_);\n  }\n};\ngoog.net.jsloader.cleanup_ = function(scriptNode, removeScriptNode, opt_timeout) {\n  null != opt_timeout && goog.global.clearTimeout(opt_timeout);\n  scriptNode.onload = goog.nullFunction;\n  scriptNode.onerror = goog.nullFunction;\n  scriptNode.onreadystatechange = goog.nullFunction;\n  removeScriptNode && window.setTimeout(function() {\n    goog.dom.removeNode(scriptNode);\n  }, 0);\n};\ngoog.net.jsloader.ErrorCode = {LOAD_ERROR:0, TIMEOUT:1, VERIFY_ERROR:2, VERIFY_OBJECT_ALREADY_EXISTS:3,};\ngoog.net.jsloader.Error = function(code, opt_message) {\n  var msg = \"Jsloader error (code #\" + code + \")\";\n  opt_message && (msg += \": \" + opt_message);\n  module$contents$goog$debug$Error_DebugError.call(this, msg);\n  this.code = code;\n};\ngoog.inherits(goog.net.jsloader.Error, module$contents$goog$debug$Error_DebugError);\ngoog.json = {};\ngoog.json.Replacer = {};\ngoog.json.Reviver = {};\ngoog.json.USE_NATIVE_JSON = !1;\ngoog.json.TRY_NATIVE_JSON = !0;\ngoog.json.isValid = function(s) {\n  return /^\\s*$/.test(s) ? !1 : /^[\\],:{}\\s\\u2028\\u2029]*$/.test(s.replace(/\\\\[\"\\\\\\/bfnrtu]/g, \"@\").replace(/(?:\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)[\\s\\u2028\\u2029]*(?=:|,|]|}|$)/g, \"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g, \"\"));\n};\ngoog.json.errorLogger_ = goog.nullFunction;\ngoog.json.setErrorLogger = function(errorLogger) {\n  goog.json.errorLogger_ = errorLogger;\n};\ngoog.json.parse = goog.json.USE_NATIVE_JSON ? goog.global.JSON.parse : function(s) {\n  if (goog.json.TRY_NATIVE_JSON) {\n    try {\n      return goog.global.JSON.parse(s);\n    } catch (ex) {\n      var error = ex;\n    }\n  }\n  var o = String(s);\n  if (goog.json.isValid(o)) {\n    try {\n      var result = eval(\"(\" + o + \")\");\n      error && goog.json.errorLogger_(\"Invalid JSON: \" + o, error);\n      return result;\n    } catch (ex$56) {\n    }\n  }\n  throw Error(\"Invalid JSON string: \" + o);\n};\ngoog.json.serialize = goog.json.USE_NATIVE_JSON ? goog.global.JSON.stringify : function(object, opt_replacer) {\n  return (new goog.json.Serializer(opt_replacer)).serialize(object);\n};\ngoog.json.Serializer = function(opt_replacer) {\n  this.replacer_ = opt_replacer;\n};\ngoog.json.Serializer.prototype.serialize = function(object) {\n  var sb = [];\n  this.serializeInternal(object, sb);\n  return sb.join(\"\");\n};\ngoog.json.Serializer.prototype.serializeInternal = function(object, sb) {\n  if (null == object) {\n    sb.push(\"null\");\n  } else {\n    if (\"object\" == typeof object) {\n      if (Array.isArray(object)) {\n        this.serializeArray(object, sb);\n        return;\n      }\n      if (object instanceof String || object instanceof Number || object instanceof Boolean) {\n        object = object.valueOf();\n      } else {\n        this.serializeObject_(object, sb);\n        return;\n      }\n    }\n    switch(typeof object) {\n      case \"string\":\n        this.serializeString_(object, sb);\n        break;\n      case \"number\":\n        this.serializeNumber_(object, sb);\n        break;\n      case \"boolean\":\n        sb.push(String(object));\n        break;\n      case \"function\":\n        sb.push(\"null\");\n        break;\n      default:\n        throw Error(\"Unknown type: \" + typeof object);\n    }\n  }\n};\ngoog.json.Serializer.charToJsonCharCache_ = {'\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"/\":\"\\\\/\", \"\\b\":\"\\\\b\", \"\\f\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\x0B\":\"\\\\u000b\"};\ngoog.json.Serializer.charsToReplace_ = /\\uffff/.test(\"\\uffff\") ? /[\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\ngoog.json.Serializer.prototype.serializeString_ = function(s, sb) {\n  sb.push('\"', s.replace(goog.json.Serializer.charsToReplace_, function(c) {\n    var rv = goog.json.Serializer.charToJsonCharCache_[c];\n    rv || (rv = \"\\\\u\" + (c.charCodeAt(0) | 65536).toString(16).substr(1), goog.json.Serializer.charToJsonCharCache_[c] = rv);\n    return rv;\n  }), '\"');\n};\ngoog.json.Serializer.prototype.serializeNumber_ = function(n, sb) {\n  sb.push(isFinite(n) && !isNaN(n) ? String(n) : \"null\");\n};\ngoog.json.Serializer.prototype.serializeArray = function(arr, sb) {\n  var l = arr.length;\n  sb.push(\"[\");\n  for (var sep = \"\", i = 0; i < l; i++) {\n    sb.push(sep);\n    var value = arr[i];\n    this.serializeInternal(this.replacer_ ? this.replacer_.call(arr, String(i), value) : value, sb);\n    sep = \",\";\n  }\n  sb.push(\"]\");\n};\ngoog.json.Serializer.prototype.serializeObject_ = function(obj, sb) {\n  sb.push(\"{\");\n  var sep = \"\", key;\n  for (key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var value = obj[key];\n      \"function\" != typeof value && (sb.push(sep), this.serializeString_(key, sb), sb.push(\":\"), this.serializeInternal(this.replacer_ ? this.replacer_.call(obj, key, value) : value, sb), sep = \",\");\n    }\n  }\n  sb.push(\"}\");\n};\ngoog.json.hybrid = {};\ngoog.json.hybrid.stringify = goog.json.USE_NATIVE_JSON ? goog.global.JSON.stringify : function(obj) {\n  if (goog.global.JSON) {\n    try {\n      return goog.global.JSON.stringify(obj);\n    } catch (e) {\n    }\n  }\n  return goog.json.serialize(obj);\n};\ngoog.json.hybrid.parse_ = function(jsonString, fallbackParser) {\n  if (goog.global.JSON) {\n    try {\n      var obj = goog.global.JSON.parse(jsonString);\n      goog.asserts.assert(\"object\" == typeof obj);\n      return obj;\n    } catch (e) {\n    }\n  }\n  return fallbackParser(jsonString);\n};\ngoog.json.hybrid.parse = goog.json.USE_NATIVE_JSON ? goog.global.JSON.parse : function(jsonString) {\n  return goog.json.hybrid.parse_(jsonString, goog.json.parse);\n};\ngoog.log = {};\ngoog.log.ENABLED = goog.debug.LOGGING_ENABLED;\ngoog.log.ROOT_LOGGER_NAME = \"\";\nvar third_party$javascript$closure$log$log$classdecl$var0 = function(name, value) {\n  this.name = name;\n  this.value = value;\n};\nthird_party$javascript$closure$log$log$classdecl$var0.prototype.toString = function() {\n  return this.name;\n};\ngoog.log.Level = third_party$javascript$closure$log$log$classdecl$var0;\ngoog.log.Level.OFF = new goog.log.Level(\"OFF\", Infinity);\ngoog.log.Level.SHOUT = new goog.log.Level(\"SHOUT\", 1200);\ngoog.log.Level.SEVERE = new goog.log.Level(\"SEVERE\", 1000);\ngoog.log.Level.WARNING = new goog.log.Level(\"WARNING\", 900);\ngoog.log.Level.INFO = new goog.log.Level(\"INFO\", 800);\ngoog.log.Level.CONFIG = new goog.log.Level(\"CONFIG\", 700);\ngoog.log.Level.FINE = new goog.log.Level(\"FINE\", 500);\ngoog.log.Level.FINER = new goog.log.Level(\"FINER\", 400);\ngoog.log.Level.FINEST = new goog.log.Level(\"FINEST\", 300);\ngoog.log.Level.ALL = new goog.log.Level(\"ALL\", 0);\ngoog.log.Level.PREDEFINED_LEVELS = [goog.log.Level.OFF, goog.log.Level.SHOUT, goog.log.Level.SEVERE, goog.log.Level.WARNING, goog.log.Level.INFO, goog.log.Level.CONFIG, goog.log.Level.FINE, goog.log.Level.FINER, goog.log.Level.FINEST, goog.log.Level.ALL];\ngoog.log.Level.predefinedLevelsCache_ = null;\ngoog.log.Level.createPredefinedLevelsCache_ = function() {\n  goog.log.Level.predefinedLevelsCache_ = {};\n  for (var i = 0, level = void 0; level = goog.log.Level.PREDEFINED_LEVELS[i]; i++) {\n    goog.log.Level.predefinedLevelsCache_[level.value] = level, goog.log.Level.predefinedLevelsCache_[level.name] = level;\n  }\n};\ngoog.log.Level.getPredefinedLevel = function(name) {\n  goog.log.Level.predefinedLevelsCache_ || goog.log.Level.createPredefinedLevelsCache_();\n  return goog.log.Level.predefinedLevelsCache_[name] || null;\n};\ngoog.log.Level.getPredefinedLevelByValue = function(value) {\n  goog.log.Level.predefinedLevelsCache_ || goog.log.Level.createPredefinedLevelsCache_();\n  if (value in goog.log.Level.predefinedLevelsCache_) {\n    return goog.log.Level.predefinedLevelsCache_[value];\n  }\n  for (var i = 0; i < goog.log.Level.PREDEFINED_LEVELS.length; ++i) {\n    var level = goog.log.Level.PREDEFINED_LEVELS[i];\n    if (level.value <= value) {\n      return level;\n    }\n  }\n  return null;\n};\nvar third_party$javascript$closure$log$log$classdecl$var1 = function() {\n};\nthird_party$javascript$closure$log$log$classdecl$var1.prototype.getName = function() {\n};\ngoog.log.Logger = third_party$javascript$closure$log$log$classdecl$var1;\ngoog.log.Logger.Level = goog.log.Level;\nvar third_party$javascript$closure$log$log$classdecl$var2 = function(capacity) {\n  this.capacity_ = \"number\" === typeof capacity ? capacity : goog.log.LogBuffer.CAPACITY;\n  this.clear();\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.addRecord = function(level, msg, loggerName) {\n  if (!this.isBufferingEnabled()) {\n    return new goog.log.LogRecord(level, msg, loggerName);\n  }\n  var curIndex = (this.curIndex_ + 1) % this.capacity_;\n  this.curIndex_ = curIndex;\n  if (this.isFull_) {\n    var ret = this.buffer_[curIndex];\n    ret.reset(level, msg, loggerName);\n    return ret;\n  }\n  this.isFull_ = curIndex == this.capacity_ - 1;\n  return this.buffer_[curIndex] = new goog.log.LogRecord(level, msg, loggerName);\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.forEachRecord = function(func) {\n  var buffer = this.buffer_;\n  if (buffer[0]) {\n    var curIndex = this.curIndex_, i = this.isFull_ ? curIndex : -1;\n    do {\n      i = (i + 1) % this.capacity_, func(buffer[i]);\n    } while (i !== curIndex);\n  }\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.isBufferingEnabled = function() {\n  return 0 < this.capacity_;\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.isFull = function() {\n  return this.isFull_;\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.clear = function() {\n  this.buffer_ = Array(this.capacity_);\n  this.curIndex_ = -1;\n  this.isFull_ = !1;\n};\ngoog.log.LogBuffer = third_party$javascript$closure$log$log$classdecl$var2;\ngoog.log.LogBuffer.CAPACITY = 0;\ngoog.log.LogBuffer.getInstance = function() {\n  goog.log.LogBuffer.instance_ || (goog.log.LogBuffer.instance_ = new goog.log.LogBuffer(goog.log.LogBuffer.CAPACITY));\n  return goog.log.LogBuffer.instance_;\n};\ngoog.log.LogBuffer.isBufferingEnabled = function() {\n  return goog.log.LogBuffer.getInstance().isBufferingEnabled();\n};\nvar third_party$javascript$closure$log$log$classdecl$var3 = function(level, msg, loggerName, time, sequenceNumber) {\n  this.exception_ = void 0;\n  this.reset(level || goog.log.Level.OFF, msg, loggerName, time, sequenceNumber);\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.reset = function(level, msg, loggerName, time, sequenceNumber) {\n  this.time_ = time || goog.now();\n  this.level_ = level;\n  this.msg_ = msg;\n  this.loggerName_ = loggerName;\n  this.exception_ = void 0;\n  this.sequenceNumber_ = \"number\" === typeof sequenceNumber ? sequenceNumber : goog.log.LogRecord.nextSequenceNumber_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getLoggerName = function() {\n  return this.loggerName_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setLoggerName = function(name) {\n  this.loggerName_ = name;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getException = function() {\n  return this.exception_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setException = function(exception) {\n  this.exception_ = exception;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getLevel = function() {\n  return this.level_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setLevel = function(level) {\n  this.level_ = level;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getMessage = function() {\n  return this.msg_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setMessage = function(msg) {\n  this.msg_ = msg;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getMillis = function() {\n  return this.time_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setMillis = function(time) {\n  this.time_ = time;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getSequenceNumber = function() {\n  return this.sequenceNumber_;\n};\ngoog.log.LogRecord = third_party$javascript$closure$log$log$classdecl$var3;\ngoog.log.LogRecord.nextSequenceNumber_ = 0;\nvar third_party$javascript$closure$log$log$classdecl$var4 = function(name, parent) {\n  this.level = null;\n  this.handlers = [];\n  this.parent = (void 0 === parent ? null : parent) || null;\n  this.children = [];\n  this.logger = {getName:function() {\n    return name;\n  }};\n};\nthird_party$javascript$closure$log$log$classdecl$var4.prototype.getEffectiveLevel = function() {\n  if (this.level) {\n    return this.level;\n  }\n  if (this.parent) {\n    return this.parent.getEffectiveLevel();\n  }\n  goog.asserts.fail(\"Root logger has no level set.\");\n  return goog.log.Level.OFF;\n};\nthird_party$javascript$closure$log$log$classdecl$var4.prototype.publish = function(logRecord) {\n  for (var target = this; target;) {\n    target.handlers.forEach(function(handler) {\n      handler(logRecord);\n    }), target = target.parent;\n  }\n};\ngoog.log.LogRegistryEntry_ = third_party$javascript$closure$log$log$classdecl$var4;\nvar third_party$javascript$closure$log$log$classdecl$var5 = function() {\n  this.entries = {};\n  var rootLogRegistryEntry = new goog.log.LogRegistryEntry_(goog.log.ROOT_LOGGER_NAME);\n  rootLogRegistryEntry.level = goog.log.Level.CONFIG;\n  this.entries[goog.log.ROOT_LOGGER_NAME] = rootLogRegistryEntry;\n};\nthird_party$javascript$closure$log$log$classdecl$var5.prototype.getLogRegistryEntry = function(name, level) {\n  var entry = this.entries[name];\n  if (entry) {\n    return void 0 !== level && (entry.level = level), entry;\n  }\n  var lastDotIndex = name.lastIndexOf(\".\"), parentLogRegistryEntry = this.getLogRegistryEntry(name.substr(0, lastDotIndex)), logRegistryEntry = new goog.log.LogRegistryEntry_(name, parentLogRegistryEntry);\n  this.entries[name] = logRegistryEntry;\n  parentLogRegistryEntry.children.push(logRegistryEntry);\n  void 0 !== level && (logRegistryEntry.level = level);\n  return logRegistryEntry;\n};\nthird_party$javascript$closure$log$log$classdecl$var5.prototype.getAllLoggers = function() {\n  var $jscomp$this = this;\n  return Object.keys(this.entries).map(function(loggerName) {\n    return $jscomp$this.entries[loggerName].logger;\n  });\n};\ngoog.log.LogRegistry_ = third_party$javascript$closure$log$log$classdecl$var5;\ngoog.log.LogRegistry_.getInstance = function() {\n  goog.log.LogRegistry_.instance_ || (goog.log.LogRegistry_.instance_ = new goog.log.LogRegistry_());\n  return goog.log.LogRegistry_.instance_;\n};\ngoog.log.getLogger = function(name, level) {\n  return goog.log.ENABLED ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(name, level).logger : null;\n};\ngoog.log.getRootLogger = function() {\n  return goog.log.ENABLED ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(goog.log.ROOT_LOGGER_NAME).logger : null;\n};\ngoog.log.addHandler = function(logger, handler) {\n  goog.log.ENABLED && logger && goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).handlers.push(handler);\n};\ngoog.log.removeHandler = function(logger, handler) {\n  if (goog.log.ENABLED && logger) {\n    var loggerEntry = goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()), indexOfHandler = loggerEntry.handlers.indexOf(handler);\n    if (-1 !== indexOfHandler) {\n      return loggerEntry.handlers.splice(indexOfHandler, 1), !0;\n    }\n  }\n  return !1;\n};\ngoog.log.setLevel = function(logger, level) {\n  goog.log.ENABLED && logger && (goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).level = level);\n};\ngoog.log.getLevel = function(logger) {\n  return goog.log.ENABLED && logger ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).level : null;\n};\ngoog.log.getEffectiveLevel = function(logger) {\n  return goog.log.ENABLED && logger ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).getEffectiveLevel() : goog.log.Level.OFF;\n};\ngoog.log.isLoggable = function(logger, level) {\n  return goog.log.ENABLED && logger && level ? level.value >= goog.log.getEffectiveLevel(logger).value : !1;\n};\ngoog.log.getAllLoggers = function() {\n  return goog.log.ENABLED ? goog.log.LogRegistry_.getInstance().getAllLoggers() : [];\n};\ngoog.log.getLogRecord = function(logger, level, msg, exception) {\n  var logRecord = goog.log.LogBuffer.getInstance().addRecord(level || goog.log.Level.OFF, msg, logger.getName());\n  logRecord.setException(exception);\n  return logRecord;\n};\ngoog.log.publishLogRecord = function(logger, logRecord) {\n  goog.log.ENABLED && logger && goog.log.isLoggable(logger, logRecord.getLevel()) && goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).publish(logRecord);\n};\ngoog.log.log = function(logger, level, msg, exception) {\n  if (goog.log.ENABLED && logger && goog.log.isLoggable(logger, level)) {\n    level = level || goog.log.Level.OFF;\n    var loggerEntry = goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName());\n    \"function\" === typeof msg && (msg = msg());\n    var logRecord = goog.log.LogBuffer.getInstance().addRecord(level, msg, logger.getName());\n    logRecord.setException(exception);\n    loggerEntry.publish(logRecord);\n  }\n};\ngoog.log.error = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.SEVERE, msg, exception);\n};\ngoog.log.warning = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.WARNING, msg, exception);\n};\ngoog.log.info = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.INFO, msg, exception);\n};\ngoog.log.fine = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.FINE, msg, exception);\n};\ngoog.net.ErrorCode = {NO_ERROR:0, ACCESS_DENIED:1, FILE_NOT_FOUND:2, FF_SILENT_ERROR:3, CUSTOM_ERROR:4, EXCEPTION:5, HTTP_ERROR:6, ABORT:7, TIMEOUT:8, OFFLINE:9,};\ngoog.net.ErrorCode.getDebugMessage = function(errorCode) {\n  switch(errorCode) {\n    case goog.net.ErrorCode.NO_ERROR:\n      return \"No Error\";\n    case goog.net.ErrorCode.ACCESS_DENIED:\n      return \"Access denied to content document\";\n    case goog.net.ErrorCode.FILE_NOT_FOUND:\n      return \"File not found\";\n    case goog.net.ErrorCode.FF_SILENT_ERROR:\n      return \"Firefox silently errored\";\n    case goog.net.ErrorCode.CUSTOM_ERROR:\n      return \"Application custom error\";\n    case goog.net.ErrorCode.EXCEPTION:\n      return \"An exception occurred\";\n    case goog.net.ErrorCode.HTTP_ERROR:\n      return \"Http response at 400 or 500 level\";\n    case goog.net.ErrorCode.ABORT:\n      return \"Request was aborted\";\n    case goog.net.ErrorCode.TIMEOUT:\n      return \"Request timed out\";\n    case goog.net.ErrorCode.OFFLINE:\n      return \"The resource is not available offline\";\n    default:\n      return \"Unrecognized error code\";\n  }\n};\ngoog.net.EventType = {COMPLETE:\"complete\", SUCCESS:\"success\", ERROR:\"error\", ABORT:\"abort\", READY:\"ready\", READY_STATE_CHANGE:\"readystatechange\", TIMEOUT:\"timeout\", INCREMENTAL_DATA:\"incrementaldata\", PROGRESS:\"progress\", DOWNLOAD_PROGRESS:\"downloadprogress\", UPLOAD_PROGRESS:\"uploadprogress\",};\ngoog.net.HttpStatus = {CONTINUE:100, SWITCHING_PROTOCOLS:101, OK:200, CREATED:201, ACCEPTED:202, NON_AUTHORITATIVE_INFORMATION:203, NO_CONTENT:204, RESET_CONTENT:205, PARTIAL_CONTENT:206, MULTI_STATUS:207, MULTIPLE_CHOICES:300, MOVED_PERMANENTLY:301, FOUND:302, SEE_OTHER:303, NOT_MODIFIED:304, USE_PROXY:305, TEMPORARY_REDIRECT:307, PERMANENT_REDIRECT:308, BAD_REQUEST:400, UNAUTHORIZED:401, PAYMENT_REQUIRED:402, FORBIDDEN:403, NOT_FOUND:404, METHOD_NOT_ALLOWED:405, NOT_ACCEPTABLE:406, PROXY_AUTHENTICATION_REQUIRED:407, \nREQUEST_TIMEOUT:408, CONFLICT:409, GONE:410, LENGTH_REQUIRED:411, PRECONDITION_FAILED:412, REQUEST_ENTITY_TOO_LARGE:413, REQUEST_URI_TOO_LONG:414, UNSUPPORTED_MEDIA_TYPE:415, REQUEST_RANGE_NOT_SATISFIABLE:416, EXPECTATION_FAILED:417, UNPROCESSABLE_ENTITY:422, LOCKED:423, FAILED_DEPENDENCY:424, PRECONDITION_REQUIRED:428, TOO_MANY_REQUESTS:429, REQUEST_HEADER_FIELDS_TOO_LARGE:431, CLIENT_CLOSED_REQUEST:499, INTERNAL_SERVER_ERROR:500, NOT_IMPLEMENTED:501, BAD_GATEWAY:502, SERVICE_UNAVAILABLE:503, GATEWAY_TIMEOUT:504, \nHTTP_VERSION_NOT_SUPPORTED:505, INSUFFICIENT_STORAGE:507, NETWORK_AUTHENTICATION_REQUIRED:511, QUIRK_IE_NO_CONTENT:1223,};\ngoog.net.HttpStatus.isSuccess = function(status) {\n  switch(status) {\n    case goog.net.HttpStatus.OK:\n    case goog.net.HttpStatus.CREATED:\n    case goog.net.HttpStatus.ACCEPTED:\n    case goog.net.HttpStatus.NO_CONTENT:\n    case goog.net.HttpStatus.PARTIAL_CONTENT:\n    case goog.net.HttpStatus.NOT_MODIFIED:\n    case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:\n      return !0;\n    default:\n      return !1;\n  }\n};\ngoog.net.XhrLike = function() {\n};\ngoog.net.XhrLike.prototype.open = function(method, url, opt_async, opt_user, opt_password) {\n};\ngoog.net.XhrLike.prototype.send = function(opt_data) {\n};\ngoog.net.XhrLike.prototype.abort = function() {\n};\ngoog.net.XhrLike.prototype.setRequestHeader = function(header, value) {\n};\ngoog.net.XhrLike.prototype.getResponseHeader = function(header) {\n};\ngoog.net.XhrLike.prototype.getAllResponseHeaders = function() {\n};\ngoog.net.XhrLike.prototype.setTrustToken = function(trustTokenAttribute) {\n};\ngoog.net.XmlHttpFactory = function() {\n};\ngoog.net.XmlHttpFactory.prototype.cachedOptions_ = null;\ngoog.net.XmlHttpFactory.prototype.getOptions = function() {\n  return this.cachedOptions_ || (this.cachedOptions_ = this.internalGetOptions());\n};\ngoog.net.WrapperXmlHttpFactory = function(xhrFactory, optionsFactory) {\n  this.xhrFactory_ = xhrFactory;\n  this.optionsFactory_ = optionsFactory;\n};\ngoog.inherits(goog.net.WrapperXmlHttpFactory, goog.net.XmlHttpFactory);\ngoog.net.WrapperXmlHttpFactory.prototype.createInstance = function() {\n  return this.xhrFactory_();\n};\ngoog.net.WrapperXmlHttpFactory.prototype.getOptions = function() {\n  return this.optionsFactory_();\n};\ngoog.net.XmlHttp = function() {\n  return goog.net.XmlHttp.factory_.createInstance();\n};\ngoog.net.XmlHttp.ASSUME_NATIVE_XHR = !1;\ngoog.net.XmlHttpDefines = {};\ngoog.net.XmlHttpDefines.ASSUME_NATIVE_XHR = !1;\ngoog.net.XmlHttp.getOptions = function() {\n  return goog.net.XmlHttp.factory_.getOptions();\n};\ngoog.net.XmlHttp.OptionType = {USE_NULL_FUNCTION:0, LOCAL_REQUEST_ERROR:1,};\ngoog.net.XmlHttp.ReadyState = {UNINITIALIZED:0, LOADING:1, LOADED:2, INTERACTIVE:3, COMPLETE:4,};\ngoog.net.XmlHttp.setFactory = function(factory, optionsFactory) {\n  goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(goog.asserts.assert(factory), goog.asserts.assert(optionsFactory)));\n};\ngoog.net.XmlHttp.setGlobalFactory = function(factory) {\n  goog.net.XmlHttp.factory_ = factory;\n};\ngoog.net.DefaultXmlHttpFactory = function() {\n};\ngoog.inherits(goog.net.DefaultXmlHttpFactory, goog.net.XmlHttpFactory);\ngoog.net.DefaultXmlHttpFactory.prototype.createInstance = function() {\n  var progId = this.getProgId_();\n  return progId ? new ActiveXObject(progId) : new XMLHttpRequest();\n};\ngoog.net.DefaultXmlHttpFactory.prototype.internalGetOptions = function() {\n  var options = {};\n  this.getProgId_() && (options[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] = !0, options[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] = !0);\n  return options;\n};\ngoog.net.DefaultXmlHttpFactory.prototype.getProgId_ = function() {\n  if (goog.net.XmlHttp.ASSUME_NATIVE_XHR || goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR) {\n    return \"\";\n  }\n  if (!this.ieProgId_ && \"undefined\" == typeof XMLHttpRequest && \"undefined\" != typeof ActiveXObject) {\n    for (var ACTIVE_X_IDENTS = [\"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\",], i = 0; i < ACTIVE_X_IDENTS.length; i++) {\n      var candidate = ACTIVE_X_IDENTS[i];\n      try {\n        return new ActiveXObject(candidate), this.ieProgId_ = candidate;\n      } catch (e) {\n      }\n    }\n    throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");\n  }\n  return this.ieProgId_;\n};\ngoog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory());\ngoog.net.XhrIo = function(opt_xmlHttpFactory) {\n  goog.events.EventTarget.call(this);\n  this.headers = new Map();\n  this.xmlHttpFactory_ = opt_xmlHttpFactory || null;\n  this.active_ = !1;\n  this.xhrOptions_ = this.xhr_ = null;\n  this.lastMethod_ = this.lastUri_ = \"\";\n  this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;\n  this.lastError_ = \"\";\n  this.inAbort_ = this.inOpen_ = this.inSend_ = this.errorDispatched_ = !1;\n  this.timeoutInterval_ = 0;\n  this.timeoutId_ = null;\n  this.responseType_ = goog.net.XhrIo.ResponseType.DEFAULT;\n  this.useXhr2Timeout_ = this.progressEventsEnabled_ = this.withCredentials_ = !1;\n  this.trustToken_ = null;\n};\ngoog.inherits(goog.net.XhrIo, goog.events.EventTarget);\ngoog.net.XhrIo.ResponseType = {DEFAULT:\"\", TEXT:\"text\", DOCUMENT:\"document\", BLOB:\"blob\", ARRAY_BUFFER:\"arraybuffer\",};\ngoog.net.XhrIo.prototype.logger_ = goog.log.getLogger(\"goog.net.XhrIo\");\ngoog.net.XhrIo.CONTENT_TYPE_HEADER = \"Content-Type\";\ngoog.net.XhrIo.CONTENT_TRANSFER_ENCODING = \"Content-Transfer-Encoding\";\ngoog.net.XhrIo.HTTP_SCHEME_PATTERN = /^https?$/i;\ngoog.net.XhrIo.METHODS_WITH_FORM_DATA = [\"POST\", \"PUT\"];\ngoog.net.XhrIo.FORM_CONTENT_TYPE = \"application/x-www-form-urlencoded;charset=utf-8\";\ngoog.net.XhrIo.XHR2_TIMEOUT_ = \"timeout\";\ngoog.net.XhrIo.XHR2_ON_TIMEOUT_ = \"ontimeout\";\ngoog.net.XhrIo.sendInstances_ = [];\ngoog.net.XhrIo.send = function(url, opt_callback, opt_method, opt_content, opt_headers, opt_timeoutInterval, opt_withCredentials) {\n  var x = new goog.net.XhrIo();\n  goog.net.XhrIo.sendInstances_.push(x);\n  opt_callback && x.listen(goog.net.EventType.COMPLETE, opt_callback);\n  x.listenOnce(goog.net.EventType.READY, x.cleanupSend_);\n  opt_timeoutInterval && x.setTimeoutInterval(opt_timeoutInterval);\n  opt_withCredentials && x.setWithCredentials(opt_withCredentials);\n  x.send(url, opt_method, opt_content, opt_headers);\n  return x;\n};\ngoog.net.XhrIo.cleanup = function() {\n  for (var instances = goog.net.XhrIo.sendInstances_; instances.length;) {\n    instances.pop().dispose();\n  }\n};\ngoog.net.XhrIo.protectEntryPoints = function(errorHandler) {\n  goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = errorHandler.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);\n};\ngoog.net.XhrIo.prototype.cleanupSend_ = function() {\n  this.dispose();\n  module$contents$goog$array_remove(goog.net.XhrIo.sendInstances_, this);\n};\ngoog.net.XhrIo.prototype.getTimeoutInterval = function() {\n  return this.timeoutInterval_;\n};\ngoog.net.XhrIo.prototype.setTimeoutInterval = function(ms) {\n  this.timeoutInterval_ = Math.max(0, ms);\n};\ngoog.net.XhrIo.prototype.setResponseType = function(type) {\n  this.responseType_ = type;\n};\ngoog.net.XhrIo.prototype.getResponseType = function() {\n  return this.responseType_;\n};\ngoog.net.XhrIo.prototype.setWithCredentials = function(withCredentials) {\n  this.withCredentials_ = withCredentials;\n};\ngoog.net.XhrIo.prototype.getWithCredentials = function() {\n  return this.withCredentials_;\n};\ngoog.net.XhrIo.prototype.setProgressEventsEnabled = function(enabled) {\n  this.progressEventsEnabled_ = enabled;\n};\ngoog.net.XhrIo.prototype.getProgressEventsEnabled = function() {\n  return this.progressEventsEnabled_;\n};\ngoog.net.XhrIo.prototype.setTrustToken = function(trustToken) {\n  this.trustToken_ = trustToken;\n};\ngoog.net.XhrIo.prototype.send = function(url, opt_method, opt_content, opt_headers) {\n  if (this.xhr_) {\n    throw Error(\"[goog.net.XhrIo] Object is active with another request=\" + this.lastUri_ + \"; newUri=\" + url);\n  }\n  var method = opt_method ? opt_method.toUpperCase() : \"GET\";\n  this.lastUri_ = url;\n  this.lastError_ = \"\";\n  this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;\n  this.lastMethod_ = method;\n  this.errorDispatched_ = !1;\n  this.active_ = !0;\n  this.xhr_ = this.createXhr();\n  this.xhrOptions_ = this.xmlHttpFactory_ ? this.xmlHttpFactory_.getOptions() : goog.net.XmlHttp.getOptions();\n  this.xhr_.onreadystatechange = goog.bind(this.onReadyStateChange_, this);\n  this.getProgressEventsEnabled() && \"onprogress\" in this.xhr_ && (this.xhr_.onprogress = goog.bind(function(e) {\n    this.onProgressHandler_(e, !0);\n  }, this), this.xhr_.upload && (this.xhr_.upload.onprogress = goog.bind(this.onProgressHandler_, this)));\n  try {\n    goog.log.fine(this.logger_, this.formatMsg_(\"Opening Xhr\")), this.inOpen_ = !0, this.xhr_.open(method, String(url), !0), this.inOpen_ = !1;\n  } catch (err$57) {\n    goog.log.fine(this.logger_, this.formatMsg_(\"Error opening Xhr: \" + err$57.message));\n    this.error_(goog.net.ErrorCode.EXCEPTION, err$57);\n    return;\n  }\n  var content = opt_content || \"\", headers = new Map(this.headers);\n  if (opt_headers) {\n    if (Object.getPrototypeOf(opt_headers) === Object.prototype) {\n      for (var key in opt_headers) {\n        headers.set(key, opt_headers[key]);\n      }\n    } else {\n      if (\"function\" === typeof opt_headers.keys && \"function\" === typeof opt_headers.get) {\n        for (var $jscomp$iter$18 = $jscomp.makeIterator(opt_headers.keys()), $jscomp$key$key = $jscomp$iter$18.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$18.next()) {\n          var key$58 = $jscomp$key$key.value;\n          headers.set(key$58, opt_headers.get(key$58));\n        }\n      } else {\n        throw Error(\"Unknown input type for opt_headers: \" + String(opt_headers));\n      }\n    }\n  }\n  var contentTypeKey = Array.from(headers.keys()).find(function(header) {\n    return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER, header);\n  }), contentIsFormData = goog.global.FormData && content instanceof goog.global.FormData;\n  !module$contents$goog$array_contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA, method) || contentTypeKey || contentIsFormData || headers.set(goog.net.XhrIo.CONTENT_TYPE_HEADER, goog.net.XhrIo.FORM_CONTENT_TYPE);\n  for (var $jscomp$iter$19 = $jscomp.makeIterator(headers), $jscomp$key$ = $jscomp$iter$19.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$19.next()) {\n    var $jscomp$destructuring$var19 = $jscomp.makeIterator($jscomp$key$.value), key$59 = $jscomp$destructuring$var19.next().value, value = $jscomp$destructuring$var19.next().value;\n    this.xhr_.setRequestHeader(key$59, value);\n  }\n  this.responseType_ && (this.xhr_.responseType = this.responseType_);\n  \"withCredentials\" in this.xhr_ && this.xhr_.withCredentials !== this.withCredentials_ && (this.xhr_.withCredentials = this.withCredentials_);\n  if (\"setTrustToken\" in this.xhr_ && this.trustToken_) {\n    try {\n      this.xhr_.setTrustToken(this.trustToken_);\n    } catch (err$60) {\n      goog.log.fine(this.logger_, this.formatMsg_(\"Error SetTrustToken: \" + err$60.message));\n    }\n  }\n  try {\n    this.cleanUpTimeoutTimer_(), 0 < this.timeoutInterval_ && (this.useXhr2Timeout_ = goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_), goog.log.fine(this.logger_, this.formatMsg_(\"Will abort after \" + this.timeoutInterval_ + \"ms if incomplete, xhr2 \" + this.useXhr2Timeout_)), this.useXhr2Timeout_ ? (this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_] = this.timeoutInterval_, this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = goog.bind(this.timeout_, this)) : this.timeoutId_ = goog.Timer.callOnce(this.timeout_, this.timeoutInterval_, \n    this)), goog.log.fine(this.logger_, this.formatMsg_(\"Sending request\")), this.inSend_ = !0, this.xhr_.send(content), this.inSend_ = !1;\n  } catch (err$61) {\n    goog.log.fine(this.logger_, this.formatMsg_(\"Send error: \" + err$61.message)), this.error_(goog.net.ErrorCode.EXCEPTION, err$61);\n  }\n};\ngoog.net.XhrIo.shouldUseXhr2Timeout_ = function(xhr) {\n  return goog.userAgent.IE && goog.userAgent.isVersionOrHigher(9) && \"number\" === typeof xhr[goog.net.XhrIo.XHR2_TIMEOUT_] && void 0 !== xhr[goog.net.XhrIo.XHR2_ON_TIMEOUT_];\n};\ngoog.net.XhrIo.prototype.createXhr = function() {\n  return this.xmlHttpFactory_ ? this.xmlHttpFactory_.createInstance() : goog.net.XmlHttp();\n};\ngoog.net.XhrIo.prototype.timeout_ = function() {\n  \"undefined\" != typeof goog && this.xhr_ && (this.lastError_ = \"Timed out after \" + this.timeoutInterval_ + \"ms, aborting\", this.lastErrorCode_ = goog.net.ErrorCode.TIMEOUT, goog.log.fine(this.logger_, this.formatMsg_(this.lastError_)), this.dispatchEvent(goog.net.EventType.TIMEOUT), this.abort(goog.net.ErrorCode.TIMEOUT));\n};\ngoog.net.XhrIo.prototype.error_ = function(errorCode, err) {\n  this.active_ = !1;\n  this.xhr_ && (this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1);\n  this.lastError_ = err;\n  this.lastErrorCode_ = errorCode;\n  this.dispatchErrors_();\n  this.cleanUpXhr_();\n};\ngoog.net.XhrIo.prototype.dispatchErrors_ = function() {\n  this.errorDispatched_ || (this.errorDispatched_ = !0, this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.ERROR));\n};\ngoog.net.XhrIo.prototype.abort = function(opt_failureCode) {\n  this.xhr_ && this.active_ && (goog.log.fine(this.logger_, this.formatMsg_(\"Aborting\")), this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1, this.lastErrorCode_ = opt_failureCode || goog.net.ErrorCode.ABORT, this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.ABORT), this.cleanUpXhr_());\n};\ngoog.net.XhrIo.prototype.disposeInternal = function() {\n  this.xhr_ && (this.active_ && (this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1), this.cleanUpXhr_(!0));\n  goog.net.XhrIo.superClass_.disposeInternal.call(this);\n};\ngoog.net.XhrIo.prototype.onReadyStateChange_ = function() {\n  if (!this.isDisposed()) {\n    if (this.inOpen_ || this.inSend_ || this.inAbort_) {\n      this.onReadyStateChangeHelper_();\n    } else {\n      this.onReadyStateChangeEntryPoint_();\n    }\n  }\n};\ngoog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = function() {\n  this.onReadyStateChangeHelper_();\n};\ngoog.net.XhrIo.prototype.onReadyStateChangeHelper_ = function() {\n  if (this.active_ && \"undefined\" != typeof goog) {\n    if (this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] && this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE && 2 == this.getStatus()) {\n      goog.log.fine(this.logger_, this.formatMsg_(\"Local request error detected and ignored\"));\n    } else {\n      if (this.inSend_ && this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE) {\n        goog.Timer.callOnce(this.onReadyStateChange_, 0, this);\n      } else {\n        if (this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE), this.isComplete()) {\n          goog.log.fine(this.logger_, this.formatMsg_(\"Request complete\"));\n          this.active_ = !1;\n          try {\n            this.isSuccess() ? (this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.SUCCESS)) : (this.lastErrorCode_ = goog.net.ErrorCode.HTTP_ERROR, this.lastError_ = this.getStatusText() + \" [\" + this.getStatus() + \"]\", this.dispatchErrors_());\n          } finally {\n            this.cleanUpXhr_();\n          }\n        }\n      }\n    }\n  }\n};\ngoog.net.XhrIo.prototype.onProgressHandler_ = function(e, opt_isDownload) {\n  goog.asserts.assert(e.type === goog.net.EventType.PROGRESS, \"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.\");\n  this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e, goog.net.EventType.PROGRESS));\n  this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e, opt_isDownload ? goog.net.EventType.DOWNLOAD_PROGRESS : goog.net.EventType.UPLOAD_PROGRESS));\n};\ngoog.net.XhrIo.buildProgressEvent_ = function(e, eventType) {\n  return {type:eventType, lengthComputable:e.lengthComputable, loaded:e.loaded, total:e.total,};\n};\ngoog.net.XhrIo.prototype.cleanUpXhr_ = function(opt_fromDispose) {\n  if (this.xhr_) {\n    this.cleanUpTimeoutTimer_();\n    var xhr = this.xhr_, clearedOnReadyStateChange = this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] ? goog.nullFunction : null;\n    this.xhrOptions_ = this.xhr_ = null;\n    opt_fromDispose || this.dispatchEvent(goog.net.EventType.READY);\n    try {\n      xhr.onreadystatechange = clearedOnReadyStateChange;\n    } catch (e) {\n      goog.log.error(this.logger_, \"Problem encountered resetting onreadystatechange: \" + e.message);\n    }\n  }\n};\ngoog.net.XhrIo.prototype.cleanUpTimeoutTimer_ = function() {\n  this.xhr_ && this.useXhr2Timeout_ && (this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = null);\n  this.timeoutId_ && (goog.Timer.clear(this.timeoutId_), this.timeoutId_ = null);\n};\ngoog.net.XhrIo.prototype.isActive = function() {\n  return !!this.xhr_;\n};\ngoog.net.XhrIo.prototype.isComplete = function() {\n  return this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE;\n};\ngoog.net.XhrIo.prototype.isSuccess = function() {\n  var status = this.getStatus();\n  return goog.net.HttpStatus.isSuccess(status) || 0 === status && !this.isLastUriEffectiveSchemeHttp_();\n};\ngoog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_ = function() {\n  var scheme = goog.uri.utils.getEffectiveScheme(String(this.lastUri_));\n  return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(scheme);\n};\ngoog.net.XhrIo.prototype.getReadyState = function() {\n  return this.xhr_ ? this.xhr_.readyState : goog.net.XmlHttp.ReadyState.UNINITIALIZED;\n};\ngoog.net.XhrIo.prototype.getStatus = function() {\n  try {\n    return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.status : -1;\n  } catch (e) {\n    return -1;\n  }\n};\ngoog.net.XhrIo.prototype.getStatusText = function() {\n  try {\n    return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.statusText : \"\";\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get status: \" + e.message), \"\";\n  }\n};\ngoog.net.XhrIo.prototype.getLastUri = function() {\n  return String(this.lastUri_);\n};\ngoog.net.XhrIo.prototype.getResponseText = function() {\n  try {\n    return this.xhr_ ? this.xhr_.responseText : \"\";\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get responseText: \" + e.message), \"\";\n  }\n};\ngoog.net.XhrIo.prototype.getResponseBody = function() {\n  try {\n    if (this.xhr_ && \"responseBody\" in this.xhr_) {\n      return this.xhr_.responseBody;\n    }\n  } catch (e) {\n    goog.log.fine(this.logger_, \"Can not get responseBody: \" + e.message);\n  }\n  return null;\n};\ngoog.net.XhrIo.prototype.getResponseXml = function() {\n  try {\n    return this.xhr_ ? this.xhr_.responseXML : null;\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get responseXML: \" + e.message), null;\n  }\n};\ngoog.net.XhrIo.prototype.getResponseJson = function(opt_xssiPrefix) {\n  if (this.xhr_) {\n    var responseText = this.xhr_.responseText;\n    opt_xssiPrefix && 0 == responseText.indexOf(opt_xssiPrefix) && (responseText = responseText.substring(opt_xssiPrefix.length));\n    return goog.json.hybrid.parse(responseText);\n  }\n};\ngoog.net.XhrIo.prototype.getResponse = function() {\n  try {\n    if (!this.xhr_) {\n      return null;\n    }\n    if (\"response\" in this.xhr_) {\n      return this.xhr_.response;\n    }\n    switch(this.responseType_) {\n      case goog.net.XhrIo.ResponseType.DEFAULT:\n      case goog.net.XhrIo.ResponseType.TEXT:\n        return this.xhr_.responseText;\n      case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:\n        if (\"mozResponseArrayBuffer\" in this.xhr_) {\n          return this.xhr_.mozResponseArrayBuffer;\n        }\n    }\n    goog.log.error(this.logger_, \"Response type \" + this.responseType_ + \" is not supported on this browser\");\n    return null;\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get response: \" + e.message), null;\n  }\n};\ngoog.net.XhrIo.prototype.getResponseHeader = function(key) {\n  if (this.xhr_ && this.isComplete()) {\n    var value = this.xhr_.getResponseHeader(key);\n    return null === value ? void 0 : value;\n  }\n};\ngoog.net.XhrIo.prototype.getAllResponseHeaders = function() {\n  return this.xhr_ && this.isComplete() ? this.xhr_.getAllResponseHeaders() || \"\" : \"\";\n};\ngoog.net.XhrIo.prototype.getResponseHeaders = function() {\n  for (var headersObject = {}, headersArray = this.getAllResponseHeaders().split(\"\\r\\n\"), i = 0; i < headersArray.length; i++) {\n    if (!goog.string.isEmptyOrWhitespace(headersArray[i])) {\n      var keyValue = goog.string.splitLimit(headersArray[i], \":\", 1), key = keyValue[0], value = keyValue[1];\n      if (\"string\" === typeof value) {\n        value = value.trim();\n        var values$jscomp$0 = headersObject[key] || [];\n        headersObject[key] = values$jscomp$0;\n        values$jscomp$0.push(value);\n      }\n    }\n  }\n  return module$contents$goog$object_map(headersObject, function(values) {\n    return values.join(\", \");\n  });\n};\ngoog.net.XhrIo.prototype.getStreamingResponseHeader = function(key) {\n  return this.xhr_ ? this.xhr_.getResponseHeader(key) : null;\n};\ngoog.net.XhrIo.prototype.getAllStreamingResponseHeaders = function() {\n  return this.xhr_ ? this.xhr_.getAllResponseHeaders() : \"\";\n};\ngoog.net.XhrIo.prototype.getLastErrorCode = function() {\n  return this.lastErrorCode_;\n};\ngoog.net.XhrIo.prototype.getLastError = function() {\n  return \"string\" === typeof this.lastError_ ? this.lastError_ : String(this.lastError_);\n};\ngoog.net.XhrIo.prototype.formatMsg_ = function(msg) {\n  return msg + \" [\" + this.lastMethod_ + \" \" + this.lastUri_ + \" \" + this.getStatus() + \"]\";\n};\ngoog.debug.entryPointRegistry.register(function(transformer) {\n  goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = transformer(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);\n});\nee.apiclient = {};\nvar module$contents$ee$apiclient_apiclient = {};\nee.apiclient.VERSION = module$exports$ee$apiVersion.V1ALPHA;\nee.apiclient.API_CLIENT_VERSION = \"0.1.289\";\nee.apiclient.NULL_VALUE = module$exports$eeapiclient$domain_object.NULL_VALUE;\nee.apiclient.PromiseRequestService = module$exports$eeapiclient$promise_request_service.PromiseRequestService;\nee.apiclient.MakeRequestParams = module$contents$eeapiclient$request_params_MakeRequestParams;\nee.apiclient.deserialize = module$contents$eeapiclient$domain_object_deserialize;\nee.apiclient.serialize = module$contents$eeapiclient$domain_object_serialize;\nvar module$contents$ee$apiclient_Call = function(callback, retries) {\n  module$contents$ee$apiclient_apiclient.initialize();\n  this.callback = callback;\n  this.requestService = new module$contents$ee$apiclient_EERequestService(!callback, retries);\n};\nmodule$contents$ee$apiclient_Call.prototype.handle = function(response) {\n  var $jscomp$this = this;\n  if (response instanceof Promise) {\n    if (this.callback) {\n      var callback = function(result, error) {\n        try {\n          return $jscomp$this.callback(result, error);\n        } catch (callbackError) {\n          setTimeout(function() {\n            throw callbackError;\n          }, 0);\n        }\n      };\n      response.then(callback, function(error) {\n        return callback(void 0, error);\n      });\n    }\n  } else {\n    response.then(function(result) {\n      response = result;\n    });\n  }\n  return response;\n};\nmodule$contents$ee$apiclient_Call.prototype.projectsPath = function() {\n  return \"projects/\" + module$contents$ee$apiclient_apiclient.getProject();\n};\nmodule$contents$ee$apiclient_Call.prototype.algorithms = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.projects = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.assets = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.operations = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.value = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.maps = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.map = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.image = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.table = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.tables = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.video = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.videoMap = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.classifier = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.dmsMaps = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.thumbnails = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.videoThumbnails = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.filmstripThumbnails = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nvar module$contents$ee$apiclient_EERequestService = function(sync, retries) {\n  this.sync = sync = void 0 === sync ? !1 : sync;\n  this.retries = null != retries ? retries : sync ? module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_ : module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;\n};\n$jscomp.inherits(module$contents$ee$apiclient_EERequestService, module$exports$eeapiclient$promise_request_service.PromiseRequestService);\nmodule$contents$ee$apiclient_EERequestService.prototype.send = function(params, responseCtor) {\n  var $jscomp$this = this;\n  module$contents$eeapiclient$request_params_processParams(params);\n  var path = params.path || \"\", url = module$contents$ee$apiclient_apiclient.getSafeApiUrl() + path, args = module$contents$ee$apiclient_apiclient.makeRequest_(params.queryParams || {}), body = params.body ? JSON.stringify(params.body) : void 0;\n  if (this.sync) {\n    var raw = module$contents$ee$apiclient_apiclient.send(url, args, void 0, params.httpMethod, body, this.retries), value$62 = responseCtor ? module$contents$eeapiclient$domain_object_deserialize(responseCtor, raw) : raw, thenable = function(v) {\n      return {then:function(f) {\n        return thenable(f(v));\n      }};\n    };\n    return thenable(value$62);\n  }\n  return (new Promise(function(resolve, reject) {\n    module$contents$ee$apiclient_apiclient.send(url, args, function(value, error) {\n      error ? reject(error) : resolve(value);\n    }, params.httpMethod, body, $jscomp$this.retries);\n  })).then(function(r) {\n    return responseCtor ? module$contents$eeapiclient$domain_object_deserialize(responseCtor, r) : r;\n  });\n};\nmodule$contents$ee$apiclient_EERequestService.prototype.makeRequest = function(params) {\n};\nvar module$contents$ee$apiclient_BatchCall = function(callback) {\n  module$contents$ee$apiclient_Call.call(this, callback);\n  this.requestService = new module$contents$ee$apiclient_BatchRequestService();\n};\n$jscomp.inherits(module$contents$ee$apiclient_BatchCall, module$contents$ee$apiclient_Call);\nmodule$contents$ee$apiclient_BatchCall.prototype.send = function(parts, getResponse) {\n  var $jscomp$this = this, batchUrl = module$contents$ee$apiclient_apiclient.getSafeApiUrl() + \"/batch\", body = parts.map(function($jscomp$destructuring$var20) {\n    var $jscomp$destructuring$var21 = $jscomp.makeIterator($jscomp$destructuring$var20), id = $jscomp$destructuring$var21.next().value, $jscomp$destructuring$var22 = $jscomp.makeIterator($jscomp$destructuring$var21.next().value), partBody = $jscomp$destructuring$var22.next().value, ctor = $jscomp$destructuring$var22.next().value;\n    return \"--batch_EARTHENGINE_batch\\r\\nContent-Type: application/http\\r\\nContent-Transfer-Encoding: binary\\r\\nMIME-Version: 1.0\\r\\nContent-ID: <\" + id + \">\\r\\n\\r\\n\" + partBody + \"\\r\\n\";\n  }).join(\"\") + \"--batch_EARTHENGINE_batch--\\r\\n\", deserializeResponses = function(response) {\n    var result = {};\n    parts.forEach(function($jscomp$destructuring$var23) {\n      var $jscomp$destructuring$var24 = $jscomp.makeIterator($jscomp$destructuring$var23), id = $jscomp$destructuring$var24.next().value, $jscomp$destructuring$var25 = $jscomp.makeIterator($jscomp$destructuring$var24.next().value), partBody = $jscomp$destructuring$var25.next().value, ctor = $jscomp$destructuring$var25.next().value;\n      null != response[id] && (result[id] = module$contents$eeapiclient$domain_object_deserialize(ctor, response[id]));\n    });\n    return getResponse ? getResponse(result) : result;\n  };\n  return this.callback ? (module$contents$ee$apiclient_apiclient.send(batchUrl, null, function(result, err) {\n    return $jscomp$this.callback(err ? result : deserializeResponses(result), err);\n  }, \"multipart/mixed; boundary=batch_EARTHENGINE_batch\", body), null) : deserializeResponses(module$contents$ee$apiclient_apiclient.send(batchUrl, null, void 0, \"multipart/mixed; boundary=batch_EARTHENGINE_batch\", body));\n};\nvar module$contents$ee$apiclient_BatchRequestService = function() {\n};\n$jscomp.inherits(module$contents$ee$apiclient_BatchRequestService, module$exports$eeapiclient$promise_request_service.PromiseRequestService);\nmodule$contents$ee$apiclient_BatchRequestService.prototype.send = function(params, responseCtor) {\n  var request = [params.httpMethod + \" \" + params.path + \" HTTP/1.1\"];\n  request.push(\"Content-Type: application/json; charset=utf-8\");\n  var authToken = module$contents$ee$apiclient_apiclient.getAuthToken();\n  null != authToken && request.push(\"Authorization: \" + authToken);\n  var body = params.body ? JSON.stringify(params.body) : \"\";\n  return [request.join(\"\\r\\n\") + \"\\r\\n\\r\\n\" + body, responseCtor];\n};\nmodule$contents$ee$apiclient_BatchRequestService.prototype.makeRequest = function(params) {\n};\nmodule$contents$ee$apiclient_apiclient.parseBatchReply = function(contentType, responseText, handle) {\n  for (var boundary = contentType.split(\"; boundary=\")[1], $jscomp$iter$20 = $jscomp.makeIterator(responseText.split(\"--\" + boundary)), $jscomp$key$part = $jscomp$iter$20.next(); !$jscomp$key$part.done; $jscomp$key$part = $jscomp$iter$20.next()) {\n    var groups = $jscomp$key$part.value.split(\"\\r\\n\\r\\n\");\n    if (!(3 > groups.length)) {\n      var id = groups[0].match(/\\r\\nContent-ID: <response-([^>]*)>/)[1], status = Number(groups[1].match(/^HTTP\\S*\\s(\\d+)\\s/)[1]), text = groups.slice(2).join(\"\\r\\n\\r\\n\");\n      handle(id, status, text);\n    }\n  }\n};\nmodule$contents$ee$apiclient_apiclient.setApiKey = function(apiKey) {\n  module$contents$ee$apiclient_apiclient.cloudApiKey_ = apiKey;\n};\nmodule$contents$ee$apiclient_apiclient.getApiKey = function() {\n  return module$contents$ee$apiclient_apiclient.cloudApiKey_;\n};\nmodule$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ = \"earthengine-legacy\";\nmodule$contents$ee$apiclient_apiclient.setProject = function(project) {\n  module$contents$ee$apiclient_apiclient.project_ = project;\n};\nmodule$contents$ee$apiclient_apiclient.getProject = function() {\n  return module$contents$ee$apiclient_apiclient.project_;\n};\nmodule$contents$ee$apiclient_apiclient.getSafeApiUrl = function() {\n  var url = module$contents$ee$apiclient_apiclient.apiBaseUrl_.replace(/\\/api$/, \"\");\n  return \"window\" in goog.global && !url.match(/^https?:\\/\\/content-/) ? url.replace(/^(https?:\\/\\/)(.*\\.googleapis\\.com)$/, \"$1content-$2\") : url;\n};\nmodule$contents$ee$apiclient_apiclient.mergeAuthScopes_ = function(includeDefaultScopes, includeStorageScope, extraScopes) {\n  var scopes = [];\n  includeDefaultScopes && (scopes = scopes.concat(module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_));\n  includeStorageScope && scopes.push(module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_);\n  scopes = scopes.concat(extraScopes);\n  module$contents$goog$array_removeDuplicates(scopes);\n  return scopes;\n};\nmodule$contents$ee$apiclient_apiclient.setAuthToken = function(clientId, tokenType, accessToken, expiresIn, extraScopes, callback, updateAuthLibrary, suppressDefaultScopes) {\n  var scopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!suppressDefaultScopes, !1, extraScopes || []);\n  module$contents$ee$apiclient_apiclient.authClientId_ = clientId;\n  module$contents$ee$apiclient_apiclient.authScopes_ = scopes;\n  var tokenObject = {token_type:tokenType, access_token:accessToken, state:scopes.join(\" \"), expires_in:expiresIn};\n  module$contents$ee$apiclient_apiclient.handleAuthResult_(void 0, void 0, tokenObject);\n  !1 === updateAuthLibrary ? callback && callback() : module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function() {\n    goog.global.gapi.auth.setToken(tokenObject);\n    callback && callback();\n  });\n};\nmodule$contents$ee$apiclient_apiclient.refreshAuthToken = function(success, error, onImmediateFailed) {\n  if (module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_()) {\n    var authArgs = {client_id:String(module$contents$ee$apiclient_apiclient.authClientId_), immediate:!0, scope:module$contents$ee$apiclient_apiclient.authScopes_.join(\" \")};\n    module$contents$ee$apiclient_apiclient.authTokenRefresher_(authArgs, function(result) {\n      if (\"immediate_failed\" == result.error && onImmediateFailed) {\n        onImmediateFailed();\n      } else {\n        if (\"window\" in goog.global) {\n          try {\n            module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function() {\n              try {\n                goog.global.gapi.auth.setToken(result), module$contents$ee$apiclient_apiclient.handleAuthResult_(success, error, result);\n              } catch (e) {\n                error(e.toString());\n              }\n            });\n          } catch (e) {\n            error(e.toString());\n          }\n        } else {\n          module$contents$ee$apiclient_apiclient.handleAuthResult_(success, error, result);\n        }\n      }\n    });\n  }\n};\nmodule$contents$ee$apiclient_apiclient.setAuthTokenRefresher = function(refresher) {\n  module$contents$ee$apiclient_apiclient.authTokenRefresher_ = refresher;\n};\nmodule$contents$ee$apiclient_apiclient.getAuthToken = function() {\n  module$contents$ee$apiclient_apiclient.authTokenExpiration_ && 0 <= Date.now() - module$contents$ee$apiclient_apiclient.authTokenExpiration_ && module$contents$ee$apiclient_apiclient.clearAuthToken();\n  return module$contents$ee$apiclient_apiclient.authToken_;\n};\nmodule$contents$ee$apiclient_apiclient.clearAuthToken = function() {\n  module$contents$ee$apiclient_apiclient.authToken_ = null;\n  module$contents$ee$apiclient_apiclient.authTokenExpiration_ = null;\n};\nmodule$contents$ee$apiclient_apiclient.getAuthClientId = function() {\n  return module$contents$ee$apiclient_apiclient.authClientId_;\n};\nmodule$contents$ee$apiclient_apiclient.getAuthScopes = function() {\n  return module$contents$ee$apiclient_apiclient.authScopes_;\n};\nmodule$contents$ee$apiclient_apiclient.setAuthClient = function(clientId, scopes) {\n  module$contents$ee$apiclient_apiclient.authClientId_ = clientId;\n  module$contents$ee$apiclient_apiclient.authScopes_ = scopes;\n};\nmodule$contents$ee$apiclient_apiclient.setAppIdToken = function(token) {\n  module$contents$ee$apiclient_apiclient.appIdToken_ = token;\n};\nmodule$contents$ee$apiclient_apiclient.initialize = function(apiBaseUrl, tileBaseUrl, xsrfToken, project) {\n  null != apiBaseUrl ? module$contents$ee$apiclient_apiclient.apiBaseUrl_ = apiBaseUrl : module$contents$ee$apiclient_apiclient.initialized_ || (module$contents$ee$apiclient_apiclient.apiBaseUrl_ = module$contents$ee$apiclient_apiclient.DEFAULT_API_BASE_URL_);\n  null != tileBaseUrl ? module$contents$ee$apiclient_apiclient.tileBaseUrl_ = tileBaseUrl : module$contents$ee$apiclient_apiclient.initialized_ || (module$contents$ee$apiclient_apiclient.tileBaseUrl_ = module$contents$ee$apiclient_apiclient.DEFAULT_TILE_BASE_URL_);\n  void 0 !== xsrfToken && (module$contents$ee$apiclient_apiclient.xsrfToken_ = xsrfToken);\n  null != project ? module$contents$ee$apiclient_apiclient.setProject(project) : module$contents$ee$apiclient_apiclient.setProject(module$contents$ee$apiclient_apiclient.getProject() || module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_);\n  module$contents$ee$apiclient_apiclient.initialized_ = !0;\n};\nmodule$contents$ee$apiclient_apiclient.reset = function() {\n  module$contents$ee$apiclient_apiclient.apiBaseUrl_ = null;\n  module$contents$ee$apiclient_apiclient.tileBaseUrl_ = null;\n  module$contents$ee$apiclient_apiclient.xsrfToken_ = null;\n  module$contents$ee$apiclient_apiclient.initialized_ = !1;\n};\nmodule$contents$ee$apiclient_apiclient.setDeadline = function(milliseconds) {\n  module$contents$ee$apiclient_apiclient.deadlineMs_ = milliseconds;\n};\nmodule$contents$ee$apiclient_apiclient.setParamAugmenter = function(augmenter) {\n  module$contents$ee$apiclient_apiclient.paramAugmenter_ = augmenter || goog.functions.identity;\n};\nmodule$contents$ee$apiclient_apiclient.getApiBaseUrl = function() {\n  return module$contents$ee$apiclient_apiclient.apiBaseUrl_;\n};\nmodule$contents$ee$apiclient_apiclient.getTileBaseUrl = function() {\n  return module$contents$ee$apiclient_apiclient.tileBaseUrl_;\n};\nmodule$contents$ee$apiclient_apiclient.getXsrfToken = function() {\n  return module$contents$ee$apiclient_apiclient.xsrfToken_;\n};\nmodule$contents$ee$apiclient_apiclient.isInitialized = function() {\n  return module$contents$ee$apiclient_apiclient.initialized_;\n};\nmodule$contents$ee$apiclient_apiclient.send = function(path, params, callback, method, body, retries) {\n  module$contents$ee$apiclient_apiclient.initialize();\n  var profileHookAtCallTime = module$contents$ee$apiclient_apiclient.profileHook_, contentType = \"application/x-www-form-urlencoded\";\n  body && (contentType = \"application/json\", method && method.startsWith(\"multipart\") && (contentType = method, method = \"POST\"));\n  method = method || \"POST\";\n  var headers = {\"Content-Type\":contentType,}, version = \"0.1.289\";\n  \"0.1.289\" === version && (version = \"latest\");\n  headers[module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER] = \"ee-js/\" + version;\n  var authToken = module$contents$ee$apiclient_apiclient.getAuthToken();\n  if (null != authToken) {\n    headers.Authorization = authToken;\n  } else {\n    if (callback && module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_()) {\n      return module$contents$ee$apiclient_apiclient.refreshAuthToken(function() {\n        module$contents$ee$apiclient_apiclient.withProfiling(profileHookAtCallTime, function() {\n          module$contents$ee$apiclient_apiclient.send(path, params, callback, method);\n        });\n      }), null;\n    }\n  }\n  params = params ? params.clone() : new goog.Uri.QueryData();\n  null != module$contents$ee$apiclient_apiclient.cloudApiKey_ && params.add(\"key\", module$contents$ee$apiclient_apiclient.cloudApiKey_);\n  profileHookAtCallTime && (headers[module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER] = \"1\");\n  module$contents$ee$apiclient_apiclient.getProject() && module$contents$ee$apiclient_apiclient.getProject() !== module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ && (headers[module$contents$ee$apiclient_apiclient.USER_PROJECT_OVERRIDE_HEADER_] = module$contents$ee$apiclient_apiclient.getProject());\n  params = module$contents$ee$apiclient_apiclient.paramAugmenter_(params, path);\n  null != module$contents$ee$apiclient_apiclient.xsrfToken_ && (headers[\"X-XSRF-Token\"] = module$contents$ee$apiclient_apiclient.xsrfToken_);\n  null != module$contents$ee$apiclient_apiclient.appIdToken_ && (headers[module$contents$ee$apiclient_apiclient.APP_ID_TOKEN_HEADER_] = module$contents$ee$apiclient_apiclient.appIdToken_);\n  var requestData = body || null, paramString = params ? params.toString() : \"\";\n  \"POST\" === method && void 0 === body ? requestData = paramString : goog.string.isEmptyOrWhitespace(paramString) || (path += goog.string.contains(path, \"?\") ? \"&\" : \"?\", path += paramString);\n  var url = path.startsWith(\"/\") ? module$contents$ee$apiclient_apiclient.apiBaseUrl_ + path : path;\n  if (callback) {\n    return module$contents$ee$apiclient_apiclient.requestQueue_.push(module$contents$ee$apiclient_apiclient.buildAsyncRequest_(url, callback, method, requestData, headers, retries)), module$contents$ee$apiclient_apiclient.RequestThrottle_.fire(), null;\n  }\n  for (var setRequestHeader = function(value, key) {\n    this.setRequestHeader && this.setRequestHeader(key, value);\n  }, xmlHttp, retryCount = 0, maxRetries = null != retries ? retries : module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_;;) {\n    xmlHttp = (0,goog.net.XmlHttp)();\n    xmlHttp.open(method, url, !1);\n    module$contents$goog$object_forEach(headers, setRequestHeader, xmlHttp);\n    xmlHttp.send(requestData);\n    if (429 != xmlHttp.status || retryCount > maxRetries) {\n      break;\n    }\n    retryCount++;\n  }\n  return module$contents$ee$apiclient_apiclient.handleResponse_(xmlHttp.status, function getResponseHeaderSafe(header) {\n    try {\n      return xmlHttp.getResponseHeader(header);\n    } catch (e) {\n      return null;\n    }\n  }, xmlHttp.responseText, profileHookAtCallTime, void 0, url, method);\n};\nmodule$contents$ee$apiclient_apiclient.buildAsyncRequest_ = function(url, callback, method, content, headers, retries) {\n  var retryCount = 0, request = {url:url, method:method, content:content, headers:headers}, profileHookAtCallTime = module$contents$ee$apiclient_apiclient.profileHook_, maxRetries = null != retries ? retries : module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;\n  request.callback = function(e) {\n    var xhrIo = e.target;\n    return 429 == xhrIo.getStatus() && retryCount < maxRetries ? (retryCount++, setTimeout(function() {\n      module$contents$ee$apiclient_apiclient.requestQueue_.push(request);\n      module$contents$ee$apiclient_apiclient.RequestThrottle_.fire();\n    }, module$contents$ee$apiclient_apiclient.calculateRetryWait_(retryCount)), null) : module$contents$ee$apiclient_apiclient.handleResponse_(xhrIo.getStatus(), goog.bind(xhrIo.getResponseHeader, xhrIo), xhrIo.getResponseText(), profileHookAtCallTime, callback, url, method);\n  };\n  return request;\n};\nmodule$contents$ee$apiclient_apiclient.withProfiling = function(hook, body, thisObject) {\n  var saved = module$contents$ee$apiclient_apiclient.profileHook_;\n  try {\n    return module$contents$ee$apiclient_apiclient.profileHook_ = hook, body.call(thisObject);\n  } finally {\n    module$contents$ee$apiclient_apiclient.profileHook_ = saved;\n  }\n};\nmodule$contents$ee$apiclient_apiclient.handleResponse_ = function(status$jscomp$0, getResponseHeader, responseText, profileHook, callback, url, method) {\n  var profileId = profileHook ? getResponseHeader(module$contents$ee$apiclient_apiclient.PROFILE_HEADER) : \"\";\n  profileId && profileHook && profileHook(profileId);\n  var parseJson = function(body) {\n    try {\n      var response = JSON.parse(body);\n      return goog.isObject(response) && \"error\" in response && \"message\" in response.error ? response.error.message : {parsed:response};\n    } catch (e) {\n      return \"Invalid JSON: \" + body;\n    }\n  }, statusError = function(status) {\n    if (0 === status) {\n      return \"Failed to contact Earth Engine servers. Please check your connection, firewall, or browser extension settings.\";\n    }\n    if (200 > status || 300 <= status) {\n      return \"Server returned HTTP code: \" + status + \" for \" + method + \" \" + url;\n    }\n  }, errorMessage, typeHeader = getResponseHeader(\"Content-Type\") || \"application/json\", contentType = typeHeader.replace(/;.*/, \"\");\n  if (\"application/json\" === contentType || \"text/json\" === contentType) {\n    var response$jscomp$0 = parseJson(responseText);\n    if (response$jscomp$0.parsed) {\n      var data = response$jscomp$0.parsed;\n      void 0 === data && (errorMessage = \"Malformed response: \" + responseText);\n    } else {\n      errorMessage = response$jscomp$0;\n    }\n  } else {\n    if (\"multipart/mixed\" === contentType) {\n      data = {};\n      var errors = [];\n      module$contents$ee$apiclient_apiclient.parseBatchReply(typeHeader, responseText, function(id, status, text) {\n        var response = parseJson(text);\n        response.parsed && (data[id] = response.parsed);\n        var error = (response.parsed ? \"\" : response) || statusError(status);\n        error && errors.push(id + \": \" + error);\n      });\n      errors.length && (errorMessage = errors.join(\"\\n\"));\n    } else {\n      var typeError = \"Response was unexpectedly not JSON, but \" + contentType;\n    }\n  }\n  errorMessage = errorMessage || statusError(status$jscomp$0) || typeError;\n  if (callback) {\n    return callback(data, errorMessage), null;\n  }\n  if (!errorMessage) {\n    return data;\n  }\n  throw Error(errorMessage);\n};\nmodule$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_ = function(callback) {\n  var done = function() {\n    goog.global.gapi.config.update(\"client/cors\", !0);\n    module$contents$ee$apiclient_apiclient.authTokenRefresher_ || module$contents$ee$apiclient_apiclient.setAuthTokenRefresher(goog.global.gapi.auth.authorize);\n    callback();\n  };\n  if (goog.isObject(goog.global.gapi) && goog.isObject(goog.global.gapi.auth) && \"function\" === typeof goog.global.gapi.auth.authorize) {\n    done();\n  } else {\n    for (var callbackName = Date.now().toString(36); callbackName in goog.global;) {\n      callbackName += \"_\";\n    }\n    goog.global[callbackName] = function() {\n      delete goog.global[callbackName];\n      done();\n    };\n    goog.net.jsloader.safeLoad(goog.html.TrustedResourceUrl.format(module$contents$ee$apiclient_apiclient.AUTH_LIBRARY_URL_, {onload:callbackName}));\n  }\n};\nmodule$contents$ee$apiclient_apiclient.handleAuthResult_ = function(success, error, result) {\n  if (result.access_token) {\n    var token = result.token_type + \" \" + result.access_token;\n    if (result.expires_in || 0 === result.expires_in) {\n      var expiresInMs = 900 * result.expires_in, timeout = setTimeout(module$contents$ee$apiclient_apiclient.refreshAuthToken, 0.9 * expiresInMs);\n      void 0 !== timeout.unref && timeout.unref();\n      module$contents$ee$apiclient_apiclient.authTokenExpiration_ = Date.now() + expiresInMs;\n    }\n    module$contents$ee$apiclient_apiclient.authToken_ = token;\n    success && success();\n  } else {\n    error && error(result.error || \"Unknown error.\");\n  }\n};\nmodule$contents$ee$apiclient_apiclient.makeRequest_ = function(params) {\n  for (var request = new goog.Uri.QueryData(), $jscomp$iter$21 = $jscomp.makeIterator(Object.entries(params)), $jscomp$key$ = $jscomp$iter$21.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$21.next()) {\n    var $jscomp$destructuring$var27 = $jscomp.makeIterator($jscomp$key$.value), name = $jscomp$destructuring$var27.next().value, item = $jscomp$destructuring$var27.next().value;\n    request.set(name, item);\n  }\n  return request;\n};\nmodule$contents$ee$apiclient_apiclient.setupMockSend = function(calls) {\n  function getResponse(url, method, data) {\n    url = url.replace(apiBaseUrl, \"\").replace(module$exports$ee$apiVersion.V1ALPHA + \"/projects/\" + module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ + \"/\", \"\");\n    if (url in calls) {\n      var response = calls[url];\n    } else {\n      throw Error(url + \" mock response not specified\");\n    }\n    \"function\" === typeof response && (response = response(url, method, data));\n    \"string\" === typeof response && (response = {text:response, status:200, contentType:\"application/json; charset=utf-8\"});\n    if (\"string\" !== typeof response.text) {\n      throw Error(url + \" mock response missing/invalid text\");\n    }\n    if (\"number\" !== typeof response.status && \"function\" !== typeof response.status) {\n      throw Error(url + \" mock response missing/invalid status\");\n    }\n    return response;\n  }\n  calls = calls ? module$contents$goog$object_clone(calls) : {};\n  var apiBaseUrl;\n  goog.net.XhrIo.send = function(url, callback, method, data) {\n    apiBaseUrl = apiBaseUrl || module$contents$ee$apiclient_apiclient.apiBaseUrl_;\n    var responseData = getResponse(url, method, data), e = new function() {\n      this.target = {};\n    }();\n    e.target.getResponseText = function() {\n      return responseData.text;\n    };\n    e.target.getStatus = \"function\" === typeof responseData.status ? responseData.status : function() {\n      return responseData.status;\n    };\n    e.target.getResponseHeader = function(header) {\n      return \"Content-Type\" === header ? responseData.contentType : null;\n    };\n    setTimeout(goog.bind(callback, e, e), 0);\n    return new goog.net.XhrIo();\n  };\n  var fakeXmlHttp = function() {\n  };\n  fakeXmlHttp.prototype.open = function(method, urlIn) {\n    apiBaseUrl = apiBaseUrl || module$contents$ee$apiclient_apiclient.apiBaseUrl_;\n    this.url = urlIn;\n    this.method = method;\n  };\n  fakeXmlHttp.prototype.setRequestHeader = function() {\n  };\n  fakeXmlHttp.prototype.getResponseHeader = function(header) {\n    return \"Content-Type\" === header ? this.contentType_ || null : null;\n  };\n  fakeXmlHttp.prototype.send = function(data) {\n    var responseData = getResponse(this.url, this.method, data);\n    this.responseText = responseData.text;\n    this.status = \"function\" === typeof responseData.status ? responseData.status() : responseData.status;\n    this.contentType_ = responseData.contentType;\n  };\n  goog.net.XmlHttp.setGlobalFactory({createInstance:function() {\n    return new fakeXmlHttp();\n  }, getOptions:function() {\n    return {};\n  }});\n};\nmodule$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_ = function() {\n  return !(!module$contents$ee$apiclient_apiclient.authTokenRefresher_ || !module$contents$ee$apiclient_apiclient.authClientId_);\n};\nmodule$contents$ee$apiclient_apiclient.calculateRetryWait_ = function(retryCount) {\n  return Math.min(module$contents$ee$apiclient_apiclient.MAX_RETRY_WAIT_, Math.pow(2, retryCount) * module$contents$ee$apiclient_apiclient.BASE_RETRY_WAIT_);\n};\nmodule$contents$ee$apiclient_apiclient.sleep_ = function(timeInMs) {\n  for (var end = (new Date()).getTime() + timeInMs; (new Date()).getTime() < end;) {\n  }\n};\nmodule$contents$ee$apiclient_apiclient.NetworkRequest_ = function() {\n};\nmodule$contents$ee$apiclient_apiclient.requestQueue_ = [];\nmodule$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_ = 350;\nmodule$contents$ee$apiclient_apiclient.RequestThrottle_ = new module$contents$goog$async$Throttle_Throttle(function() {\n  var request = module$contents$ee$apiclient_apiclient.requestQueue_.shift();\n  request && goog.net.XhrIo.send(request.url, request.callback, request.method, request.content, request.headers, module$contents$ee$apiclient_apiclient.deadlineMs_);\n  module$contents$goog$array_isEmpty(module$contents$ee$apiclient_apiclient.requestQueue_) || module$contents$ee$apiclient_apiclient.RequestThrottle_.fire();\n}, module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_);\nmodule$contents$ee$apiclient_apiclient.apiBaseUrl_ = null;\nmodule$contents$ee$apiclient_apiclient.tileBaseUrl_ = null;\nmodule$contents$ee$apiclient_apiclient.xsrfToken_ = null;\nmodule$contents$ee$apiclient_apiclient.appIdToken_ = null;\nmodule$contents$ee$apiclient_apiclient.paramAugmenter_ = goog.functions.identity;\nmodule$contents$ee$apiclient_apiclient.authToken_ = null;\nmodule$contents$ee$apiclient_apiclient.authTokenExpiration_ = null;\nmodule$contents$ee$apiclient_apiclient.authClientId_ = null;\nmodule$contents$ee$apiclient_apiclient.authScopes_ = [];\nmodule$contents$ee$apiclient_apiclient.authTokenRefresher_ = null;\nmodule$contents$ee$apiclient_apiclient.AUTH_SCOPE_ = \"https://www.googleapis.com/auth/earthengine\";\nmodule$contents$ee$apiclient_apiclient.READ_ONLY_AUTH_SCOPE_ = \"https://www.googleapis.com/auth/earthengine.readonly\";\nmodule$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_ = \"https://www.googleapis.com/auth/cloud-platform\";\nmodule$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_ = [module$contents$ee$apiclient_apiclient.AUTH_SCOPE_, module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_];\nmodule$contents$ee$apiclient_apiclient.AUTH_LIBRARY_URL_ = goog.string.Const.from(\"https://apis.google.com/js/client.js?onload=%{onload}\");\nmodule$contents$ee$apiclient_apiclient.STORAGE_SCOPE_ = \"https://www.googleapis.com/auth/devstorage.read_write\";\nmodule$contents$ee$apiclient_apiclient.cloudApiKey_ = null;\nmodule$contents$ee$apiclient_apiclient.initialized_ = !1;\nmodule$contents$ee$apiclient_apiclient.deadlineMs_ = 0;\nmodule$contents$ee$apiclient_apiclient.profileHook_ = null;\nmodule$contents$ee$apiclient_apiclient.BASE_RETRY_WAIT_ = 1000;\nmodule$contents$ee$apiclient_apiclient.MAX_RETRY_WAIT_ = 120000;\nmodule$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_ = 10;\nmodule$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_ = 5;\nmodule$contents$ee$apiclient_apiclient.APP_ID_TOKEN_HEADER_ = \"X-Earth-Engine-App-ID-Token\";\nmodule$contents$ee$apiclient_apiclient.PROFILE_HEADER = \"X-Earth-Engine-Computation-Profile\";\nmodule$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER = \"X-Earth-Engine-Computation-Profiling\";\nmodule$contents$ee$apiclient_apiclient.USER_PROJECT_OVERRIDE_HEADER_ = \"X-Goog-User-Project\";\nmodule$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER = \"x-goog-api-client\";\nmodule$contents$ee$apiclient_apiclient.DEFAULT_API_BASE_URL_ = \"https://earthengine.googleapis.com/api\";\nmodule$contents$ee$apiclient_apiclient.DEFAULT_TILE_BASE_URL_ = \"https://earthengine.googleapis.com\";\nmodule$contents$ee$apiclient_apiclient.AuthArgs = function() {\n};\nmodule$contents$ee$apiclient_apiclient.AuthResponse = function() {\n};\nee.apiclient.Call = module$contents$ee$apiclient_Call;\nee.apiclient.BatchCall = module$contents$ee$apiclient_BatchCall;\nee.apiclient.setApiKey = module$contents$ee$apiclient_apiclient.setApiKey;\nee.apiclient.getApiKey = module$contents$ee$apiclient_apiclient.getApiKey;\nee.apiclient.setProject = module$contents$ee$apiclient_apiclient.setProject;\nee.apiclient.getProject = module$contents$ee$apiclient_apiclient.getProject;\nee.apiclient.DEFAULT_PROJECT = module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_;\nee.apiclient.PROFILE_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_HEADER;\nee.apiclient.PROFILE_REQUEST_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER;\nee.apiclient.API_CLIENT_VERSION_HEADER = module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER;\nee.apiclient.send = module$contents$ee$apiclient_apiclient.send;\nee.apiclient.AUTH_SCOPE = module$contents$ee$apiclient_apiclient.AUTH_SCOPE_;\nee.apiclient.READ_ONLY_AUTH_SCOPE = module$contents$ee$apiclient_apiclient.READ_ONLY_AUTH_SCOPE_;\nee.apiclient.CLOUD_PLATFORM_SCOPE = module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_;\nee.apiclient.STORAGE_SCOPE = module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_;\nee.apiclient.DEFAULT_AUTH_SCOPES = module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_;\nee.apiclient.makeRequest = module$contents$ee$apiclient_apiclient.makeRequest_;\nee.apiclient.reset = module$contents$ee$apiclient_apiclient.reset;\nee.apiclient.initialize = module$contents$ee$apiclient_apiclient.initialize;\nee.apiclient.setDeadline = module$contents$ee$apiclient_apiclient.setDeadline;\nee.apiclient.isInitialized = module$contents$ee$apiclient_apiclient.isInitialized;\nee.apiclient.ensureAuthLibLoaded = module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_;\nee.apiclient.handleAuthResult = module$contents$ee$apiclient_apiclient.handleAuthResult_;\nee.apiclient.refreshAuthToken = module$contents$ee$apiclient_apiclient.refreshAuthToken;\nee.apiclient.setAuthClient = module$contents$ee$apiclient_apiclient.setAuthClient;\nee.apiclient.getAuthScopes = module$contents$ee$apiclient_apiclient.getAuthScopes;\nee.apiclient.getAuthClientId = module$contents$ee$apiclient_apiclient.getAuthClientId;\nee.apiclient.getAuthToken = module$contents$ee$apiclient_apiclient.getAuthToken;\nee.apiclient.setAuthToken = module$contents$ee$apiclient_apiclient.setAuthToken;\nee.apiclient.clearAuthToken = module$contents$ee$apiclient_apiclient.clearAuthToken;\nee.apiclient.setAuthTokenRefresher = module$contents$ee$apiclient_apiclient.setAuthTokenRefresher;\nee.apiclient.setAppIdToken = module$contents$ee$apiclient_apiclient.setAppIdToken;\nee.apiclient.mergeAuthScopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_;\nee.apiclient.setupMockSend = module$contents$ee$apiclient_apiclient.setupMockSend;\nee.apiclient.setParamAugmenter = module$contents$ee$apiclient_apiclient.setParamAugmenter;\nee.apiclient.withProfiling = module$contents$ee$apiclient_apiclient.withProfiling;\nee.apiclient.getApiBaseUrl = module$contents$ee$apiclient_apiclient.getApiBaseUrl;\nee.apiclient.getTileBaseUrl = module$contents$ee$apiclient_apiclient.getTileBaseUrl;\nee.apiclient.AuthArgs = module$contents$ee$apiclient_apiclient.AuthArgs;\nee.apiclient.AuthResponse = module$contents$ee$apiclient_apiclient.AuthResponse;\nee.apiclient.RequestThrottle = module$contents$ee$apiclient_apiclient.RequestThrottle_;\nee.apiclient.calculateRetryWait = module$contents$ee$apiclient_apiclient.calculateRetryWait_;\nee.apiclient.MAX_ASYNC_RETRIES = module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;\nee.apiclient.REQUEST_THROTTLE_INTERVAL_MS = module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_;\nee.apiclient.isAuthTokenRefreshingEnabled = module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_;\ngoog.exportSymbol(\"ee.api.ListAssetsResponse\", module$exports$eeapiclient$ee_api_client.ListAssetsResponse);\ngoog.exportSymbol(\"ee.api.EarthEngineAsset\", module$exports$eeapiclient$ee_api_client.EarthEngineAsset);\ngoog.exportSymbol(\"ee.api.ListImagesResponse\", module$exports$eeapiclient$ee_api_client.ListImagesResponse);\ngoog.exportSymbol(\"ee.api.Image\", module$exports$eeapiclient$ee_api_client.Image);\ngoog.exportSymbol(\"ee.api.Operation\", module$exports$eeapiclient$ee_api_client.Operation);\nee.Encodable = function() {\n};\nee.rpc_node = {};\nee.rpc_node.constant = function(obj) {\n  if (void 0 === obj || null === obj) {\n    obj = module$exports$eeapiclient$domain_object.NULL_VALUE;\n  }\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({constantValue:obj});\n};\nee.rpc_node.reference = function(ref) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({valueReference:ref});\n};\nee.rpc_node.array = function(values) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({arrayValue:new module$exports$eeapiclient$ee_api_client.ArrayValue({values:values})});\n};\nee.rpc_node.dictionary = function(values) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({dictionaryValue:new module$exports$eeapiclient$ee_api_client.DictionaryValue({values:values})});\n};\nee.rpc_node.functionByName = function(name, args) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({functionInvocationValue:new module$exports$eeapiclient$ee_api_client.FunctionInvocation({functionName:name, arguments:args})});\n};\nee.rpc_node.functionByReference = function(ref, args) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({functionInvocationValue:new module$exports$eeapiclient$ee_api_client.FunctionInvocation({functionReference:ref, arguments:args})});\n};\nee.rpc_node.functionDefinition = function(argumentNames, body) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({functionDefinitionValue:new module$exports$eeapiclient$ee_api_client.FunctionDefinition({argumentNames:argumentNames, body:body})});\n};\nee.rpc_node.argumentReference = function(ref) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({argumentReference:ref});\n};\nee.rpc_convert = {};\nee.rpc_convert.fileFormat = function(format) {\n  if (!format) {\n    return \"AUTO_JPEG_PNG\";\n  }\n  var upper = format.toUpperCase();\n  switch(upper) {\n    case \"JPG\":\n      return \"JPEG\";\n    case \"AUTO\":\n      return \"AUTO_JPEG_PNG\";\n    case \"TIF\":\n    case \"TIFF\":\n    case \"GEOTIF\":\n    case \"GEOTIFF\":\n      return \"GEO_TIFF\";\n    case \"TF_RECORD\":\n    case \"TFRECORD\":\n      return \"TF_RECORD_IMAGE\";\n    case \"NUMPY\":\n      return \"NPY\";\n    case \"ZIPPED_TIF\":\n    case \"ZIPPED_TIFF\":\n    case \"ZIPPED_GEOTIF\":\n    case \"ZIPPED_GEOTIFF\":\n      return \"ZIPPED_GEO_TIFF\";\n    case \"ZIPPED_TIF_PER_BAND\":\n    case \"ZIPPED_TIFF_PER_BAND\":\n    case \"ZIPPED_GEOTIF_PER_BAND\":\n    case \"ZIPPED_GEOTIFF_PER_BAND\":\n      return \"ZIPPED_GEO_TIFF_PER_BAND\";\n    default:\n      return upper;\n  }\n};\nee.rpc_convert.tableFileFormat = function(format) {\n  if (!format) {\n    return \"CSV\";\n  }\n  var upper = format.toUpperCase();\n  switch(upper) {\n    case \"TF_RECORD\":\n    case \"TFRECORD\":\n      return \"TF_RECORD_TABLE\";\n    case \"JSON\":\n    case \"GEOJSON\":\n      return \"GEO_JSON\";\n    default:\n      return upper;\n  }\n};\nee.rpc_convert.orientation = function(orientation) {\n  if (!orientation) {\n    return \"VERTICAL\";\n  }\n  var upper = orientation.toUpperCase();\n  if (\"HORIZONTAL\" !== upper || \"VERTICAL\" !== upper) {\n    throw Error('Orientation must be \"horizontal\" or \"vertical\"');\n  }\n  return upper;\n};\nee.rpc_convert.bandList = function(bands) {\n  if (!bands) {\n    return [];\n  }\n  if (\"string\" === typeof bands) {\n    return bands.split(\",\");\n  }\n  if (Array.isArray(bands)) {\n    return bands;\n  }\n  throw Error(\"Invalid band list \" + bands);\n};\nee.rpc_convert.visualizationOptions = function(params) {\n  var result = new module$exports$eeapiclient$ee_api_client.VisualizationOptions(), hasResult = !1;\n  if (\"palette\" in params) {\n    var pal = params.palette;\n    result.paletteColors = \"string\" === typeof pal ? pal.split(\",\") : pal;\n    hasResult = !0;\n  }\n  var ranges = [];\n  if (\"gain\" in params || \"bias\" in params) {\n    if (\"min\" in params || \"max\" in params) {\n      throw Error(\"Gain and bias can't be specified with min and max\");\n    }\n    var valueRange = result.paletteColors ? result.paletteColors.length - 1 : 255;\n    ranges = ee.rpc_convert.pairedValues(params, \"bias\", \"gain\").map(function(pair) {\n      var min = -pair.bias / pair.gain;\n      return {min:min, max:valueRange / pair.gain + min};\n    });\n  } else {\n    if (\"min\" in params || \"max\" in params) {\n      ranges = ee.rpc_convert.pairedValues(params, \"min\", \"max\");\n    }\n  }\n  0 !== ranges.length && (result.ranges = ranges.map(function(range) {\n    return new module$exports$eeapiclient$ee_api_client.DoubleRange(range);\n  }), hasResult = !0);\n  var gammas = ee.rpc_convert.csvToNumbers(params.gamma);\n  if (1 < gammas.length) {\n    throw Error(\"Only one gamma value is supported\");\n  }\n  1 === gammas.length && (result.gamma = gammas[0], hasResult = !0);\n  return hasResult ? result : null;\n};\nee.rpc_convert.csvToNumbers = function(csv) {\n  return csv ? csv.split(\",\").map(Number) : [];\n};\nee.rpc_convert.pairedValues = function(obj, a, b) {\n  var aValues = ee.rpc_convert.csvToNumbers(obj[a]), bValues = ee.rpc_convert.csvToNumbers(obj[b]);\n  if (0 === aValues.length) {\n    return bValues.map(function(value) {\n      var $jscomp$compprop1 = {};\n      return $jscomp$compprop1[a] = 0, $jscomp$compprop1[b] = value, $jscomp$compprop1;\n    });\n  }\n  if (0 === bValues.length) {\n    return aValues.map(function(value) {\n      var $jscomp$compprop2 = {};\n      return $jscomp$compprop2[a] = value, $jscomp$compprop2[b] = 1, $jscomp$compprop2;\n    });\n  }\n  if (aValues.length !== bValues.length) {\n    throw Error(\"Length of \" + a + \" and \" + b + \" must match.\");\n  }\n  return aValues.map(function(value, index) {\n    var $jscomp$compprop3 = {};\n    return $jscomp$compprop3[a] = value, $jscomp$compprop3[b] = bValues[index], $jscomp$compprop3;\n  });\n};\nee.rpc_convert.algorithms = function(result) {\n  for (var convertArgument = function(argument) {\n    var internalArgument = {};\n    internalArgument.description = argument.description || \"\";\n    internalArgument.type = argument.type || \"\";\n    null != argument.argumentName && (internalArgument.name = argument.argumentName);\n    void 0 !== argument.defaultValue && (internalArgument[\"default\"] = argument.defaultValue);\n    null != argument.optional && (internalArgument.optional = argument.optional);\n    return internalArgument;\n  }, convertAlgorithm = function(algorithm) {\n    var internalAlgorithm = {};\n    internalAlgorithm.args = (algorithm.arguments || []).map(convertArgument);\n    internalAlgorithm.description = algorithm.description || \"\";\n    internalAlgorithm.returns = algorithm.returnType || \"\";\n    null != algorithm.hidden && (internalAlgorithm.hidden = algorithm.hidden);\n    algorithm.preview && (internalAlgorithm.preview = algorithm.preview);\n    algorithm.deprecated && (internalAlgorithm.deprecated = algorithm.deprecationReason);\n    algorithm.sourceCodeUri && (internalAlgorithm.sourceCodeUri = algorithm.sourceCodeUri);\n    return internalAlgorithm;\n  }, internalAlgorithms = {}, $jscomp$iter$22 = $jscomp.makeIterator(result.algorithms || []), $jscomp$key$algorithm = $jscomp$iter$22.next(); !$jscomp$key$algorithm.done; $jscomp$key$algorithm = $jscomp$iter$22.next()) {\n    var algorithm$jscomp$0 = $jscomp$key$algorithm.value, name = algorithm$jscomp$0.name.replace(/^algorithms\\//, \"\");\n    internalAlgorithms[name] = convertAlgorithm(algorithm$jscomp$0);\n  }\n  return internalAlgorithms;\n};\nee.rpc_convert.DEFAULT_PROJECT = \"earthengine-legacy\";\nee.rpc_convert.PUBLIC_PROJECT = \"earthengine-public\";\nee.rpc_convert.PROJECT_ID_RE = /^projects\\/((?:\\w+(?:[\\w\\-]+\\.[\\w\\-]+)*?\\.\\w+:)?[a-z][a-z0-9\\-]{4,28}[a-z0-9])\\/.+/;\nee.rpc_convert.CLOUD_ASSET_ID_RE = /^projects\\/((?:\\w+(?:[\\w\\-]+\\.[\\w\\-]+)*?\\.\\w+:)?[a-z][a-z0-9\\-]{4,28}[a-z0-9])\\/assets\\/(.*)$/;\nee.rpc_convert.CLOUD_ASSET_ROOT_RE = /^projects\\/((?:\\w+(?:[\\w\\-]+\\.[\\w\\-]+)*?\\.\\w+:)?[a-z][a-z0-9\\-]{4,28}[a-z0-9])\\/assets\\/?$/;\nee.rpc_convert.projectIdFromPath = function(path) {\n  var matches = ee.rpc_convert.PROJECT_ID_RE.exec(path);\n  return matches ? matches[1] : ee.rpc_convert.DEFAULT_PROJECT;\n};\nee.rpc_convert.projectParentFromPath = function(path) {\n  return \"projects/\" + ee.rpc_convert.projectIdFromPath(path);\n};\nee.rpc_convert.assetIdToAssetName = function(param) {\n  return ee.rpc_convert.CLOUD_ASSET_ID_RE.exec(param) ? param : /^(users|projects)\\/.*/.exec(param) ? \"projects/\" + ee.rpc_convert.DEFAULT_PROJECT + \"/assets/\" + param : \"projects/\" + ee.rpc_convert.PUBLIC_PROJECT + \"/assets/\" + param;\n};\nee.rpc_convert.assetNameToAssetId = function(name) {\n  var parts = name.split(\"/\"), isLegacyProject = function(id) {\n    return [ee.rpc_convert.DEFAULT_PROJECT, ee.rpc_convert.PUBLIC_PROJECT].includes(id);\n  };\n  return \"projects\" === parts[0] && \"assets\" === parts[2] && isLegacyProject(parts[1]) ? parts.slice(3).join(\"/\") : name;\n};\nee.rpc_convert.assetTypeForCreate = function(param) {\n  switch(param) {\n    case \"ImageCollection\":\n      return \"IMAGE_COLLECTION\";\n    case \"Folder\":\n      return \"FOLDER\";\n    default:\n      return param;\n  }\n};\nee.rpc_convert.listAssetsToGetList = function(result) {\n  return (result.assets || []).map(ee.rpc_convert.assetToLegacyResult);\n};\nee.rpc_convert.listImagesToGetList = function(result) {\n  return (result.images || []).map(ee.rpc_convert.imageToLegacyResult);\n};\nee.rpc_convert.assetTypeToLegacyAssetType = function(type) {\n  switch(type) {\n    case \"ALGORITHM\":\n      return \"Algorithm\";\n    case \"FOLDER\":\n      return \"Folder\";\n    case \"IMAGE\":\n      return \"Image\";\n    case \"IMAGE_COLLECTION\":\n      return \"ImageCollection\";\n    case \"TABLE\":\n      return \"Table\";\n    case \"CLASSIFIER\":\n      return \"Classifier\";\n    case \"DATA_MAPPING_SERVICE\":\n      return \"FeatureView\";\n    default:\n      return \"Unknown\";\n  }\n};\nee.rpc_convert.legacyAssetTypeToAssetType = function(type) {\n  switch(type) {\n    case \"Algorithm\":\n      return \"ALGORITHM\";\n    case \"Folder\":\n      return \"FOLDER\";\n    case \"Image\":\n      return \"IMAGE\";\n    case \"ImageCollection\":\n      return \"IMAGE_COLLECTION\";\n    case \"Table\":\n      return \"TABLE\";\n    default:\n      return \"UNKNOWN\";\n  }\n};\nee.rpc_convert.assetToLegacyResult = function(result) {\n  var asset = ee.rpc_convert.makeLegacyAsset_(ee.rpc_convert.assetTypeToLegacyAssetType(result.type), result.name), properties = Object.assign({}, result.properties || {});\n  result.sizeBytes && (properties[\"system:asset_size\"] = Number(result.sizeBytes));\n  result.startTime && (properties[\"system:time_start\"] = Date.parse(result.startTime));\n  result.endTime && (properties[\"system:time_end\"] = Date.parse(result.endTime));\n  result.geometry && (properties[\"system:footprint\"] = result.geometry);\n  \"string\" === typeof result.title && (properties[\"system:title\"] = result.title);\n  \"string\" === typeof result.description && (properties[\"system:description\"] = result.description);\n  result.updateTime && (asset.version = 1000 * Date.parse(result.updateTime));\n  asset.properties = properties;\n  result.bands && (asset.bands = result.bands.map(function(band) {\n    var legacyBand = {id:band.id, crs:band.grid.crsCode, dimensions:void 0, crs_transform:void 0,};\n    if (band.grid) {\n      if (null != band.grid.affineTransform) {\n        var affine = band.grid.affineTransform;\n        legacyBand.crs_transform = [affine.scaleX || 0, affine.shearX || 0, affine.translateX || 0, affine.shearY || 0, affine.scaleY || 0, affine.translateY || 0,];\n      }\n      null != band.grid.dimensions && (legacyBand.dimensions = [band.grid.dimensions.width, band.grid.dimensions.height]);\n    }\n    if (band.dataType) {\n      var dataType = {type:\"PixelType\"};\n      dataType.precision = (band.dataType.precision || \"\").toLowerCase();\n      band.dataType.range && (dataType.min = band.dataType.range.min || 0, dataType.max = band.dataType.range.max);\n      legacyBand.data_type = dataType;\n    }\n    return legacyBand;\n  }));\n  result.dmsAssetLocation && (asset.mapLocation = result.dmsAssetLocation);\n  result.featureCount && (asset.featureCount = result.featureCount);\n  return asset;\n};\nee.rpc_convert.legacyPropertiesToAssetUpdate = function(legacyProperties) {\n  var asset = new module$exports$eeapiclient$ee_api_client.EarthEngineAsset(), toTimestamp = function(msec) {\n    return (new Date(Number(msec))).toISOString();\n  }, asNull = function(value) {\n    return null === value ? module$exports$eeapiclient$domain_object.NULL_VALUE : void 0;\n  }, properties = Object.assign({}, legacyProperties), value$jscomp$0, extractValue = function(key) {\n    value$jscomp$0 = properties[key];\n    delete properties[key];\n    return value$jscomp$0;\n  };\n  void 0 !== extractValue(\"system:asset_size\") && (asset.sizeBytes = asNull(value$jscomp$0) || String(value$jscomp$0));\n  void 0 !== extractValue(\"system:time_start\") && (asset.startTime = asNull(value$jscomp$0) || toTimestamp(value$jscomp$0));\n  void 0 !== extractValue(\"system:time_end\") && (asset.endTime = asNull(value$jscomp$0) || toTimestamp(value$jscomp$0));\n  void 0 !== extractValue(\"system:footprint\") && (asset.geometry = asNull(value$jscomp$0) || value$jscomp$0);\n  extractValue(\"system:title\");\n  \"string\" !== typeof value$jscomp$0 && null !== value$jscomp$0 || null != properties.title || (properties.title = asNull(value$jscomp$0) || value$jscomp$0);\n  extractValue(\"system:description\");\n  \"string\" !== typeof value$jscomp$0 && null !== value$jscomp$0 || null != properties.description || (properties.description = asNull(value$jscomp$0) || value$jscomp$0);\n  Object.entries(properties).forEach(function($jscomp$destructuring$var28) {\n    var $jscomp$destructuring$var29 = $jscomp.makeIterator($jscomp$destructuring$var28), key = $jscomp$destructuring$var29.next().value, value = $jscomp$destructuring$var29.next().value;\n    properties[key] = asNull(value) || value;\n  });\n  asset.properties = properties;\n  return asset;\n};\nee.rpc_convert.imageToLegacyResult = function(result) {\n  return ee.rpc_convert.makeLegacyAsset_(\"Image\", result.name);\n};\nee.rpc_convert.makeLegacyAsset_ = function(type, name) {\n  var legacyAsset = {};\n  legacyAsset.type = type;\n  null != name && (legacyAsset.id = ee.rpc_convert.assetNameToAssetId(name));\n  return legacyAsset;\n};\nee.rpc_convert.getListToListImages = function(param) {\n  var imagesRequest = {}, toTimestamp = function(msec) {\n    return (new Date(msec)).toISOString();\n  };\n  param.num && (imagesRequest.pageSize = param.num);\n  param.starttime && (imagesRequest.startTime = toTimestamp(param.starttime));\n  param.endtime && (imagesRequest.endTime = toTimestamp(param.endtime));\n  param.bbox && (imagesRequest.region = ee.rpc_convert.boundingBoxToGeoJson(param.bbox));\n  param.region && (imagesRequest.region = param.region);\n  param.bbox && param.region && console.warn(\"Multiple request parameters converted to region\");\n  for (var allKeys = \"id num starttime endtime bbox region\".split(\" \"), $jscomp$iter$23 = $jscomp.makeIterator(Object.keys(param).filter(function(k) {\n    return !allKeys.includes(k);\n  })), $jscomp$key$key = $jscomp$iter$23.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$23.next()) {\n    console.warn(\"Unrecognized key \" + $jscomp$key$key.value + \" ignored\");\n  }\n  imagesRequest.fields = \"assets(type,path)\";\n  return imagesRequest;\n};\nee.rpc_convert.boundingBoxToGeoJson = function(bbox) {\n  return '{\"type\":\"Polygon\",\"coordinates\":[[[' + [[0, 1], [2, 1], [2, 3], [0, 3], [0, 1]].map(function(i) {\n    return bbox[i[0]] + \",\" + bbox[i[1]];\n  }).join(\"],[\") + \"]]]}\";\n};\nee.rpc_convert.iamPolicyToAcl = function(result) {\n  var bindingMap = {};\n  (result.bindings || []).forEach(function(binding) {\n    bindingMap[binding.role] = binding.members;\n  });\n  var groups = new Set(), toAcl = function(member) {\n    var email = member.replace(/^group:|^user:|^serviceAccount:/, \"\");\n    member.startsWith(\"group:\") && groups.add(email);\n    return email;\n  }, readersWithAll = bindingMap[\"roles/viewer\"] || [], readers = readersWithAll.filter(function(reader) {\n    return \"allUsers\" !== reader;\n  }), internalAcl = {owners:(bindingMap[\"roles/owner\"] || []).map(toAcl), writers:(bindingMap[\"roles/editor\"] || []).map(toAcl), readers:readers.map(toAcl),};\n  0 < groups.size && (internalAcl.groups = groups);\n  readersWithAll.length != readers.length && (internalAcl.all_users_can_read = !0);\n  return internalAcl;\n};\nee.rpc_convert.aclToIamPolicy = function(acls) {\n  var isGroup = function(email) {\n    return acls.groups && acls.groups.has(email);\n  }, isServiceAccount = function(email) {\n    return email.match(/[@|\\.]gserviceaccount\\.com$/);\n  }, asMembers = function(aclName) {\n    return (acls[aclName] || []).map(function(email) {\n      var prefix = \"user:\";\n      isGroup(email) ? prefix = \"group:\" : isServiceAccount(email) && (prefix = \"serviceAccount:\");\n      return prefix + email;\n    });\n  }, all = acls.all_users_can_read ? [\"allUsers\"] : [], bindings = [{role:\"roles/owner\", members:asMembers(\"owners\")}, {role:\"roles/viewer\", members:asMembers(\"readers\").concat(all)}, {role:\"roles/editor\", members:asMembers(\"writers\")},].map(function(params) {\n    return new module$exports$eeapiclient$ee_api_client.Binding(params);\n  });\n  return new module$exports$eeapiclient$ee_api_client.Policy({bindings:bindings.filter(function(binding) {\n    return binding.members.length;\n  }), etag:null,});\n};\nee.rpc_convert.taskIdToOperationName = function(operationNameOrTaskId) {\n  return \"projects/\" + ee.rpc_convert.operationNameToProject(operationNameOrTaskId) + \"/operations/\" + ee.rpc_convert.operationNameToTaskId(operationNameOrTaskId);\n};\nee.rpc_convert.operationNameToTaskId = function(result) {\n  var found = /^.*operations\\/(.*)$/.exec(result);\n  return found ? found[1] : result;\n};\nee.rpc_convert.operationNameToProject = function(operationNameOrTaskId) {\n  var found = /^projects\\/(.+)\\/operations\\/.+$/.exec(operationNameOrTaskId);\n  return found ? found[1] : ee.rpc_convert.DEFAULT_PROJECT;\n};\nee.rpc_convert.operationToTask = function(result) {\n  var internalTask = {}, assignTimestamp = function(field, timestamp) {\n    null != timestamp && (internalTask[field] = Date.parse(timestamp));\n  }, convertState = function(state) {\n    switch(state) {\n      case \"PENDING\":\n        return \"READY\";\n      case \"RUNNING\":\n        return \"RUNNING\";\n      case \"CANCELLING\":\n        return \"CANCEL_REQUESTED\";\n      case \"SUCCEEDED\":\n        return \"COMPLETED\";\n      case \"CANCELLED\":\n        return \"CANCELLED\";\n      case \"FAILED\":\n        return \"FAILED\";\n      default:\n        return \"UNKNOWN\";\n    }\n  }, metadata = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.OperationMetadata, result.metadata || {});\n  null != metadata.description && (internalTask.description = metadata.description);\n  null != metadata.state && (internalTask.state = convertState(metadata.state));\n  assignTimestamp(\"creation_timestamp_ms\", metadata.createTime);\n  assignTimestamp(\"update_timestamp_ms\", metadata.updateTime);\n  assignTimestamp(\"start_timestamp_ms\", metadata.startTime);\n  internalTask.attempt = metadata.attempt;\n  result.done && null != result.error && (internalTask.error_message = result.error.message);\n  null != result.name && (internalTask.id = ee.rpc_convert.operationNameToTaskId(result.name), internalTask.name = result.name);\n  internalTask.task_type = metadata.type || \"UNKNOWN\";\n  internalTask.output_url = metadata.destinationUris;\n  internalTask.source_url = metadata.scriptUri;\n  return internalTask;\n};\nee.rpc_convert.operationToProcessingResponse = function(operation) {\n  var result = {started:\"OK\"};\n  operation.name && (result.taskId = ee.rpc_convert.operationNameToTaskId(operation.name), result.name = operation.name);\n  operation.error && (result.note = operation.error.message);\n  return result;\n};\nee.rpc_convert.sourcePathsToUris = function(source) {\n  return source.primaryPath ? [source.primaryPath].concat($jscomp.arrayFromIterable(source.additionalPaths || [])) : null;\n};\nee.rpc_convert.toImageManifest = function(params) {\n  var convertImageSource = function(source) {\n    var apiSource = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.ImageSource, source);\n    apiSource.uris = ee.rpc_convert.sourcePathsToUris(source);\n    return apiSource;\n  }, manifest = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.ImageManifest, params);\n  manifest.name = ee.rpc_convert.assetIdToAssetName(params.id);\n  manifest.tilesets = (params.tilesets || []).map(function(tileset) {\n    var apiTileset = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.Tileset, tileset);\n    apiTileset.sources = (tileset.sources || []).map(convertImageSource);\n    return apiTileset;\n  });\n  manifest.bands = (params.bands || []).map(function(band) {\n    var apiBand = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TilesetBand, band);\n    apiBand.missingData = ee.rpc_convert.toOnePlatformMissingData(band.missingData);\n    return apiBand;\n  });\n  manifest.missingData = ee.rpc_convert.toOnePlatformMissingData(params.missingData);\n  manifest.maskBands = module$contents$goog$array_flatten((params.tilesets || []).map(ee.rpc_convert.toOnePlatformMaskBands));\n  manifest.pyramidingPolicy = params.pyramidingPolicy || null;\n  if (params.properties) {\n    var properties = Object.assign({}, params.properties), toTimestamp = function(msec) {\n      return (new Date(Number(msec))).toISOString();\n    }, value, extractValue = function(key) {\n      value = properties[key];\n      delete properties[key];\n      return value;\n    };\n    extractValue(\"system:time_start\") && (manifest.startTime = toTimestamp(value));\n    extractValue(\"system:time_end\") && (manifest.endTime = toTimestamp(value));\n    manifest.properties = properties;\n  }\n  return manifest;\n};\nee.rpc_convert.toOnePlatformMaskBands = function(tileset) {\n  var maskBands = [];\n  if (!Array.isArray(tileset.fileBands)) {\n    return maskBands;\n  }\n  var convertMaskConfig = function(maskConfig) {\n    var bandIds = [];\n    null != maskConfig && Array.isArray(maskConfig.bandId) && (bandIds = maskConfig.bandId.map(function(bandId) {\n      return bandId || \"\";\n    }));\n    return new module$exports$eeapiclient$ee_api_client.TilesetMaskBand({tilesetId:tileset.id || \"\", bandIds:bandIds});\n  };\n  tileset.fileBands.forEach(function(fileBand) {\n    fileBand.maskForAllBands ? maskBands.push(convertMaskConfig(null)) : null != fileBand.maskForBands && maskBands.push(convertMaskConfig(fileBand.maskForBands));\n  });\n  return maskBands;\n};\nee.rpc_convert.toTableManifest = function(params) {\n  var manifest = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TableManifest, params);\n  manifest.name = ee.rpc_convert.assetIdToAssetName(params.id);\n  manifest.sources = (params.sources || []).map(function(source) {\n    var apiSource = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TableSource, source);\n    apiSource.uris = ee.rpc_convert.sourcePathsToUris(source);\n    source.maxError && (apiSource.maxErrorMeters = source.maxError);\n    return apiSource;\n  });\n  if (params.properties) {\n    var properties = Object.assign({}, params.properties), toTimestamp = function(msec) {\n      return (new Date(Number(msec))).toISOString();\n    }, value, extractValue = function(key) {\n      value = properties[key];\n      delete properties[key];\n      return value;\n    };\n    extractValue(\"system:time_start\") && (manifest.startTime = toTimestamp(value));\n    extractValue(\"system:time_end\") && (manifest.endTime = toTimestamp(value));\n    manifest.properties = properties;\n  }\n  return manifest;\n};\nee.rpc_convert.toOnePlatformMissingData = function(params) {\n  if (null == params) {\n    return null;\n  }\n  var missingData = new module$exports$eeapiclient$ee_api_client.MissingData({values:[]});\n  null != params.value && \"number\" === typeof params.value && missingData.values.push(params.value);\n  Array.isArray(params.values) && params.values.map(function(value) {\n    \"number\" === typeof value && missingData.values.push(value);\n  });\n  return module$contents$goog$array_isEmpty(missingData.values) ? null : missingData;\n};\nee.rpc_convert.folderQuotaToAssetQuotaDetails = function(quota) {\n  var toNumber = function(field) {\n    return Number(field || 0);\n  };\n  return {asset_count:{usage:toNumber(quota.assetCount), limit:toNumber(quota.maxAssetCount),}, asset_size:{usage:toNumber(quota.sizeBytes), limit:toNumber(quota.maxSizeBytes),}};\n};\ngoog.crypt = {};\ngoog.crypt.Hash = function() {\n  this.blockSize = -1;\n};\ngoog.crypt.Md5 = function() {\n  goog.crypt.Hash.call(this);\n  this.blockSize = 64;\n  this.chain_ = Array(4);\n  this.block_ = Array(this.blockSize);\n  this.totalLength_ = this.blockLength_ = 0;\n  this.reset();\n};\ngoog.inherits(goog.crypt.Md5, goog.crypt.Hash);\ngoog.crypt.Md5.prototype.reset = function() {\n  this.chain_[0] = 1732584193;\n  this.chain_[1] = 4023233417;\n  this.chain_[2] = 2562383102;\n  this.chain_[3] = 271733878;\n  this.totalLength_ = this.blockLength_ = 0;\n};\ngoog.crypt.Md5.prototype.compress_ = function(buf, opt_offset) {\n  opt_offset || (opt_offset = 0);\n  var X = Array(16);\n  if (\"string\" === typeof buf) {\n    for (var i = 0; 16 > i; ++i) {\n      X[i] = buf.charCodeAt(opt_offset++) | buf.charCodeAt(opt_offset++) << 8 | buf.charCodeAt(opt_offset++) << 16 | buf.charCodeAt(opt_offset++) << 24;\n    }\n  } else {\n    for (i = 0; 16 > i; ++i) {\n      X[i] = buf[opt_offset++] | buf[opt_offset++] << 8 | buf[opt_offset++] << 16 | buf[opt_offset++] << 24;\n    }\n  }\n  var A = this.chain_[0], B = this.chain_[1], C = this.chain_[2], D = this.chain_[3], sum = 0;\n  sum = A + (D ^ B & (C ^ D)) + X[0] + 3614090360 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[1] + 3905402710 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[2] + 606105819 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[3] + 3250441966 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (D ^ B & (C ^ D)) + X[4] + 4118548399 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[5] + 1200080426 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[6] + 2821735955 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[7] + 4249261313 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (D ^ B & (C ^ D)) + X[8] + 1770035416 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[9] + 2336552879 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[10] + 4294925233 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[11] + 2304563134 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (D ^ B & (C ^ D)) + X[12] + 1804603682 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[13] + 4254626195 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[14] + 2792965006 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[15] + 1236535329 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (C ^ D & (B ^ C)) + X[1] + 4129170786 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[6] + 3225465664 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[11] + 643717713 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[0] + 3921069994 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (C ^ D & (B ^ C)) + X[5] + 3593408605 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[10] + 38016083 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[15] + 3634488961 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[4] + 3889429448 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (C ^ D & (B ^ C)) + X[9] + 568446438 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[14] + 3275163606 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[3] + 4107603335 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[8] + 1163531501 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (C ^ D & (B ^ C)) + X[13] + 2850285829 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[2] + 4243563512 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[7] + 1735328473 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[12] + 2368359562 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (B ^ C ^ D) + X[5] + 4294588738 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[8] + 2272392833 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[11] + 1839030562 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[14] + 4259657740 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (B ^ C ^ D) + X[1] + 2763975236 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[4] + 1272893353 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[7] + 4139469664 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[10] + 3200236656 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (B ^ C ^ D) + X[13] + 681279174 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[0] + 3936430074 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[3] + 3572445317 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[6] + 76029189 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (B ^ C ^ D) + X[9] + 3654602809 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[12] + 3873151461 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[15] + 530742520 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[2] + 3299628645 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (C ^ (B | ~D)) + X[0] + 4096336452 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[7] + 1126891415 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[14] + 2878612391 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[5] + 4237533241 & 4294967295;\n  B = C + (sum << 21 & 4294967295 | sum >>> 11);\n  sum = A + (C ^ (B | ~D)) + X[12] + 1700485571 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[3] + 2399980690 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[10] + 4293915773 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[1] + 2240044497 & 4294967295;\n  B = C + (sum << 21 & 4294967295 | sum >>> 11);\n  sum = A + (C ^ (B | ~D)) + X[8] + 1873313359 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[15] + 4264355552 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[6] + 2734768916 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[13] + 1309151649 & 4294967295;\n  B = C + (sum << 21 & 4294967295 | sum >>> 11);\n  sum = A + (C ^ (B | ~D)) + X[4] + 4149444226 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[11] + 3174756917 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[2] + 718787259 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[9] + 3951481745 & 4294967295;\n  this.chain_[0] = this.chain_[0] + A & 4294967295;\n  this.chain_[1] = this.chain_[1] + (C + (sum << 21 & 4294967295 | sum >>> 11)) & 4294967295;\n  this.chain_[2] = this.chain_[2] + C & 4294967295;\n  this.chain_[3] = this.chain_[3] + D & 4294967295;\n};\ngoog.crypt.Md5.prototype.update = function(bytes, opt_length) {\n  void 0 === opt_length && (opt_length = bytes.length);\n  for (var lengthMinusBlock = opt_length - this.blockSize, block = this.block_, blockLength = this.blockLength_, i = 0; i < opt_length;) {\n    if (0 == blockLength) {\n      for (; i <= lengthMinusBlock;) {\n        this.compress_(bytes, i), i += this.blockSize;\n      }\n    }\n    if (\"string\" === typeof bytes) {\n      for (; i < opt_length;) {\n        if (block[blockLength++] = bytes.charCodeAt(i++), blockLength == this.blockSize) {\n          this.compress_(block);\n          blockLength = 0;\n          break;\n        }\n      }\n    } else {\n      for (; i < opt_length;) {\n        if (block[blockLength++] = bytes[i++], blockLength == this.blockSize) {\n          this.compress_(block);\n          blockLength = 0;\n          break;\n        }\n      }\n    }\n  }\n  this.blockLength_ = blockLength;\n  this.totalLength_ += opt_length;\n};\ngoog.crypt.Md5.prototype.digest = function() {\n  var pad = Array((56 > this.blockLength_ ? this.blockSize : 2 * this.blockSize) - this.blockLength_);\n  pad[0] = 128;\n  for (var i = 1; i < pad.length - 8; ++i) {\n    pad[i] = 0;\n  }\n  var totalBits = 8 * this.totalLength_;\n  for (i = pad.length - 8; i < pad.length; ++i) {\n    pad[i] = totalBits & 255, totalBits /= 256;\n  }\n  this.update(pad);\n  var digest = Array(16), n = 0;\n  for (i = 0; 4 > i; ++i) {\n    for (var j = 0; 32 > j; j += 8) {\n      digest[n++] = this.chain_[i] >>> j & 255;\n    }\n  }\n  return digest;\n};\nee.Serializer = function(opt_isCompound) {\n  this.HASH_KEY = \"__ee_hash__\";\n  this.isCompound_ = !1 !== opt_isCompound;\n  this.scope_ = [];\n  this.encoded_ = {};\n  this.withHashes_ = [];\n  this.hashes_ = new WeakMap();\n  this.unboundName = void 0;\n};\ngoog.exportSymbol(\"ee.Serializer\", ee.Serializer);\nee.Serializer.jsonSerializer_ = new goog.json.Serializer();\nee.Serializer.hash_ = new goog.crypt.Md5();\nee.Serializer.encode = function(obj, opt_isCompound) {\n  return (new ee.Serializer(void 0 !== opt_isCompound ? opt_isCompound : !0)).encode_(obj);\n};\ngoog.exportSymbol(\"ee.Serializer.encode\", ee.Serializer.encode);\nee.Serializer.toJSON = function(obj) {\n  return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encode(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.toJSON\", ee.Serializer.toJSON);\nee.Serializer.toReadableJSON = function(obj) {\n  return ee.Serializer.stringify(ee.Serializer.encode(obj, !1));\n};\ngoog.exportSymbol(\"ee.Serializer.toReadableJSON\", ee.Serializer.toReadableJSON);\nee.Serializer.stringify = function(encoded) {\n  return \"JSON\" in goog.global ? goog.global.JSON.stringify(encoded, null, \"  \") : ee.Serializer.jsonSerializer_.serialize(encoded);\n};\nee.Serializer.prototype.encode_ = function(object) {\n  var value = this.encodeValue_(object);\n  this.isCompound_ && (value = goog.isObject(value) && \"ValueRef\" == value.type && 1 == this.scope_.length ? this.scope_[0][1] : {type:\"CompoundValue\", scope:this.scope_, value:value}, this.scope_ = [], module$contents$goog$array_forEach(this.withHashes_, goog.bind(function(obj) {\n    delete obj[this.HASH_KEY];\n  }, this)), this.withHashes_ = [], this.encoded_ = {});\n  return value;\n};\nee.Serializer.prototype.encodeValue_ = function(object) {\n  if (void 0 === object) {\n    throw Error(\"Can't encode an undefined value.\");\n  }\n  var hash = goog.isObject(object) ? object[this.HASH_KEY] : null;\n  if (this.isCompound_ && null != hash && this.encoded_[hash]) {\n    return {type:\"ValueRef\", value:this.encoded_[hash]};\n  }\n  if (null === object || \"boolean\" === typeof object || \"number\" === typeof object || \"string\" === typeof object) {\n    return object;\n  }\n  if (goog.isDateLike(object)) {\n    return {type:\"Invocation\", functionName:\"Date\", arguments:{value:Math.floor(object.getTime())}};\n  }\n  if (object instanceof ee.Encodable) {\n    var result = object.encode(goog.bind(this.encodeValue_, this));\n    if (!(Array.isArray(result) || goog.isObject(result) && \"ArgumentRef\" != result.type)) {\n      return result;\n    }\n  } else {\n    if (Array.isArray(object)) {\n      result = module$contents$goog$array_map(object, function(element) {\n        return this.encodeValue_(element);\n      }, this);\n    } else {\n      if (goog.isObject(object) && \"function\" !== typeof object) {\n        var encodedObject = module$contents$goog$object_map(object, function(element) {\n          if (\"function\" !== typeof element) {\n            return this.encodeValue_(element);\n          }\n        }, this);\n        module$contents$goog$object_remove(encodedObject, this.HASH_KEY);\n        result = {type:\"Dictionary\", value:encodedObject};\n      } else {\n        throw Error(\"Can't encode object: \" + object);\n      }\n    }\n  }\n  if (this.isCompound_) {\n    hash = ee.Serializer.computeHash(result);\n    if (this.encoded_[hash]) {\n      var name = this.encoded_[hash];\n    } else {\n      name = String(this.scope_.length), this.scope_.push([name, result]), this.encoded_[hash] = name;\n    }\n    object[this.HASH_KEY] = hash;\n    this.withHashes_.push(object);\n    return {type:\"ValueRef\", value:name};\n  }\n  return result;\n};\nee.Serializer.computeHash = function(obj) {\n  ee.Serializer.hash_.reset();\n  ee.Serializer.hash_.update(ee.Serializer.jsonSerializer_.serialize(obj));\n  return ee.Serializer.hash_.digest().toString();\n};\nee.Serializer.encodeCloudApi = function(obj) {\n  return module$contents$eeapiclient$domain_object_serialize(ee.Serializer.encodeCloudApiExpression(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.encodeCloudApi\", ee.Serializer.encodeCloudApi);\nee.Serializer.encodeCloudApiExpression = function(obj, unboundName) {\n  var serializer = new ee.Serializer(!0);\n  serializer.unboundName = unboundName;\n  return serializer.encodeForCloudApi_(obj);\n};\nee.Serializer.encodeCloudApiPretty = function(obj) {\n  var encoded = (new ee.Serializer(!1)).encodeForCloudApi_(obj), values = encoded.values, walkObject = function(object) {\n    if (!goog.isObject(object)) {\n      return object;\n    }\n    for (var ret = Array.isArray(object) ? [] : {}, isNode = object instanceof Object.getPrototypeOf(module$exports$eeapiclient$ee_api_client.ValueNode), $jscomp$iter$24 = $jscomp.makeIterator(Object.entries(isNode ? object.Serializable$values : object)), $jscomp$key$ = $jscomp$iter$24.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$24.next()) {\n      var $jscomp$destructuring$var31 = $jscomp.makeIterator($jscomp$key$.value), key = $jscomp$destructuring$var31.next().value, val = $jscomp$destructuring$var31.next().value;\n      isNode ? null !== val && (ret[key] = \"functionDefinitionValue\" === key && null != val.body ? {argumentNames:val.argumentNames, body:walkObject(values[val.body])} : \"functionInvocationValue\" === key && null != val.functionReference ? {arguments:module$contents$goog$object_map(val.arguments, walkObject), functionReference:walkObject(values[val.functionReference])} : \"constantValue\" === key ? val === module$exports$eeapiclient$domain_object.NULL_VALUE ? \n      null : val : walkObject(val)) : ret[key] = walkObject(val);\n    }\n    return ret;\n  };\n  return encoded.result && walkObject(values[encoded.result]);\n};\ngoog.exportSymbol(\"ee.Serializer.encodeCloudApiPretty\", ee.Serializer.encodeCloudApiPretty);\nee.Serializer.toCloudApiJSON = function(obj) {\n  return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encodeCloudApi(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.toCloudApiJSON\", ee.Serializer.toCloudApiJSON);\nee.Serializer.toReadableCloudApiJSON = function(obj) {\n  return ee.Serializer.stringify(ee.Serializer.encodeCloudApiPretty(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.toReadableCloudApiJSON\", ee.Serializer.toReadableCloudApiJSON);\nee.Serializer.prototype.encodeForCloudApi_ = function(obj) {\n  try {\n    var result = this.makeReference(obj);\n    return (new ExpressionOptimizer(result, this.scope_, this.isCompound_)).optimize();\n  } finally {\n    this.hashes_ = new WeakMap(), this.encoded_ = {}, this.scope_ = [];\n  }\n};\nee.Serializer.prototype.makeReference = function(obj) {\n  var $jscomp$this = this, makeRef = function(result) {\n    var hash = ee.Serializer.computeHash(result);\n    goog.isObject(obj) && $jscomp$this.hashes_.set(obj, hash);\n    if ($jscomp$this.encoded_[hash]) {\n      return $jscomp$this.encoded_[hash];\n    }\n    var name = String($jscomp$this.scope_.length);\n    $jscomp$this.scope_.push([name, result]);\n    return $jscomp$this.encoded_[hash] = name;\n  };\n  if (goog.isObject(obj) && this.encoded_[this.hashes_.get(obj)]) {\n    return this.encoded_[this.hashes_.get(obj)];\n  }\n  if (null === obj || \"boolean\" === typeof obj || \"string\" === typeof obj || \"number\" === typeof obj) {\n    return makeRef(ee.rpc_node.constant(obj));\n  }\n  if (goog.isDateLike(obj)) {\n    return makeRef(ee.rpc_node.functionByName(\"Date\", {value:ee.rpc_node.constant(Math.floor(obj.getTime()))}));\n  }\n  if (obj instanceof ee.Encodable) {\n    return makeRef(obj.encodeCloudValue(this));\n  }\n  if (Array.isArray(obj)) {\n    return makeRef(ee.rpc_node.array(obj.map(function(x) {\n      return ee.rpc_node.reference($jscomp$this.makeReference(x));\n    })));\n  }\n  if (goog.isObject(obj) && \"function\" !== typeof obj) {\n    var values = {};\n    Object.keys(obj).sort().forEach(function(k) {\n      values[k] = ee.rpc_node.reference($jscomp$this.makeReference(obj[k]));\n    });\n    return makeRef(ee.rpc_node.dictionary(values));\n  }\n  throw Error(\"Can't encode object: \" + obj);\n};\nvar ExpressionOptimizer = function(rootReference, values, isCompound) {\n  var $jscomp$this = this;\n  this.rootReference = rootReference;\n  this.values = {};\n  values.forEach(function(tuple) {\n    return $jscomp$this.values[tuple[0]] = tuple[1];\n  });\n  this.referenceCounts = isCompound ? this.countReferences() : null;\n  this.optimizedValues = {};\n  this.referenceMap = {};\n  this.nextMappedRef = 0;\n};\nExpressionOptimizer.prototype.optimize = function() {\n  var result = this.optimizeReference(this.rootReference);\n  return new module$exports$eeapiclient$ee_api_client.Expression({result:result, values:this.optimizedValues,});\n};\nExpressionOptimizer.prototype.optimizeReference = function(ref) {\n  if (ref in this.referenceMap) {\n    return this.referenceMap[ref];\n  }\n  var mappedRef = String(this.nextMappedRef++);\n  this.referenceMap[ref] = mappedRef;\n  this.optimizedValues[mappedRef] = this.optimizeValue(this.values[ref], 0);\n  return mappedRef;\n};\nExpressionOptimizer.prototype.optimizeValue = function(value, depth) {\n  var $jscomp$this = this, isConst = function(v) {\n    return null !== v.constantValue;\n  }, serializeConst = function(v) {\n    return v === module$exports$eeapiclient$domain_object.NULL_VALUE ? null : v;\n  };\n  if (isConst(value) || null != value.integerValue || null != value.bytesValue || null != value.argumentReference) {\n    return value;\n  }\n  if (null != value.valueReference) {\n    var val = this.values[value.valueReference];\n    return null === this.referenceCounts || 50 > depth && 1 === this.referenceCounts[value.valueReference] ? this.optimizeValue(val, depth) : ExpressionOptimizer.isAlwaysLiftable(val) ? val : ee.rpc_node.reference(this.optimizeReference(value.valueReference));\n  }\n  if (null != value.arrayValue) {\n    var arr = value.arrayValue.values.map(function(v) {\n      return $jscomp$this.optimizeValue(v, depth + 3);\n    });\n    return arr.every(isConst) ? ee.rpc_node.constant(arr.map(function(v) {\n      return serializeConst(v.constantValue);\n    })) : ee.rpc_node.array(arr);\n  }\n  if (null != value.dictionaryValue) {\n    for (var values = {}, constantValues = {}, $jscomp$iter$25 = $jscomp.makeIterator(Object.entries(value.dictionaryValue.values || {})), $jscomp$key$ = $jscomp$iter$25.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$25.next()) {\n      var $jscomp$destructuring$var33 = $jscomp.makeIterator($jscomp$key$.value), k = $jscomp$destructuring$var33.next().value, v$jscomp$0 = $jscomp$destructuring$var33.next().value;\n      values[k] = this.optimizeValue(v$jscomp$0, depth + 3);\n      null !== constantValues && isConst(values[k]) ? constantValues[k] = serializeConst(values[k].constantValue) : constantValues = null;\n    }\n    return null !== constantValues ? ee.rpc_node.constant(constantValues) : ee.rpc_node.dictionary(values);\n  }\n  if (null != value.functionDefinitionValue) {\n    var def = value.functionDefinitionValue;\n    return ee.rpc_node.functionDefinition(def.argumentNames || [], this.optimizeReference(def.body || \"\"));\n  }\n  if (null != value.functionInvocationValue) {\n    for (var inv = value.functionInvocationValue, args = {}, $jscomp$iter$26 = $jscomp.makeIterator(Object.keys(inv.arguments || {})), $jscomp$key$k = $jscomp$iter$26.next(); !$jscomp$key$k.done; $jscomp$key$k = $jscomp$iter$26.next()) {\n      var k$63 = $jscomp$key$k.value;\n      args[k$63] = this.optimizeValue(inv.arguments[k$63], depth + 3);\n    }\n    return inv.functionName ? ee.rpc_node.functionByName(inv.functionName, args) : ee.rpc_node.functionByReference(this.optimizeReference(inv.functionReference || \"\"), args);\n  }\n  throw Error(\"Can't optimize value: \" + value);\n};\nExpressionOptimizer.isAlwaysLiftable = function(value) {\n  var constant = value.constantValue;\n  return null !== constant ? constant === module$exports$eeapiclient$domain_object.NULL_VALUE || \"number\" === typeof constant || \"boolean\" === typeof constant : null != value.argumentReference;\n};\nExpressionOptimizer.prototype.countReferences = function() {\n  var $jscomp$this = this, counts = {}, visitReference = function(reference) {\n    counts[reference] ? counts[reference]++ : (counts[reference] = 1, visitValue($jscomp$this.values[reference]));\n  }, visitValue = function(value) {\n    if (null != value.arrayValue) {\n      value.arrayValue.values.forEach(visitValue);\n    } else {\n      if (null != value.dictionaryValue) {\n        Object.values(value.dictionaryValue.values).forEach(visitValue);\n      } else {\n        if (null != value.functionDefinitionValue) {\n          visitReference(value.functionDefinitionValue.body);\n        } else {\n          if (null != value.functionInvocationValue) {\n            var inv = value.functionInvocationValue;\n            null != inv.functionReference && visitReference(inv.functionReference);\n            Object.values(inv.arguments).forEach(visitValue);\n          } else {\n            null != value.valueReference && visitReference(value.valueReference);\n          }\n        }\n      }\n    }\n  };\n  visitReference(this.rootReference);\n  return counts;\n};\nee.rpc_convert_batch = {};\nee.rpc_convert_batch.ExportDestination = {DRIVE:\"DRIVE\", GCS:\"GOOGLE_CLOUD_STORAGE\", ASSET:\"ASSET\", FEATURE_VIEW:\"FEATURE_VIEW\",};\nee.rpc_convert_batch.taskToExportImageRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.ExportImageRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), fileExportOptions:null, assetExportOptions:null, grid:null, maxPixels:stringOrNull_(params.maxPixels), requestId:stringOrNull_(params.id), maxWorkerCount:numberOrNull_(params.maxWorkers)}), destination = ee.rpc_convert_batch.guessDestination_(params);\n  switch(destination) {\n    case ee.rpc_convert_batch.ExportDestination.GCS:\n    case ee.rpc_convert_batch.ExportDestination.DRIVE:\n      result.fileExportOptions = ee.rpc_convert_batch.buildImageFileExportOptions_(params, destination);\n      break;\n    case ee.rpc_convert_batch.ExportDestination.ASSET:\n      result.assetExportOptions = ee.rpc_convert_batch.buildImageAssetExportOptions_(params);\n      break;\n    default:\n      throw Error('Export destination \"' + destination + '\" unknown');\n  }\n  return result;\n};\nee.rpc_convert_batch.taskToExportTableRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var selectors = params.selectors || null;\n  null != selectors && \"string\" === typeof selectors && (selectors = selectors.split(\",\"));\n  var result = new module$exports$eeapiclient$ee_api_client.ExportTableRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), fileExportOptions:null, assetExportOptions:null, dmsExportOptions:null, selectors:selectors, maxErrorMeters:numberOrNull_(params.maxErrorMeters), requestId:stringOrNull_(params.id), maxVertices:numberOrNull_(params.maxVertices), maxWorkerCount:numberOrNull_(params.maxWorkers)}), \n  destination = ee.rpc_convert_batch.guessDestination_(params);\n  switch(destination) {\n    case ee.rpc_convert_batch.ExportDestination.GCS:\n    case ee.rpc_convert_batch.ExportDestination.DRIVE:\n      result.fileExportOptions = ee.rpc_convert_batch.buildTableFileExportOptions_(params, destination);\n      break;\n    case ee.rpc_convert_batch.ExportDestination.ASSET:\n      result.assetExportOptions = ee.rpc_convert_batch.buildTableAssetExportOptions_(params);\n      break;\n    case ee.rpc_convert_batch.ExportDestination.FEATURE_VIEW:\n      result.dmsExportOptions = ee.rpc_convert_batch.buildFeatureViewExportOptions_(params);\n      break;\n    default:\n      throw Error('Export destination \"' + destination + '\" unknown');\n  }\n  return result;\n};\nee.rpc_convert_batch.taskToExportVideoRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.ExportVideoRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), videoOptions:ee.rpc_convert_batch.buildVideoOptions_(params), fileExportOptions:null, requestId:stringOrNull_(params.id), maxWorkerCount:numberOrNull_(params.maxWorkers)});\n  result.fileExportOptions = ee.rpc_convert_batch.buildVideoFileExportOptions_(params, ee.rpc_convert_batch.guessDestination_(params));\n  return result;\n};\nee.rpc_convert_batch.taskToExportMapRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  return new module$exports$eeapiclient$ee_api_client.ExportMapRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), tileOptions:ee.rpc_convert_batch.buildTileOptions_(params), tileExportOptions:ee.rpc_convert_batch.buildImageFileExportOptions_(params, ee.rpc_convert_batch.ExportDestination.GCS), requestId:stringOrNull_(params.id), maxWorkerCount:numberOrNull_(params.maxWorkers)});\n};\nee.rpc_convert_batch.taskToExportVideoMapRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  return new module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), videoOptions:ee.rpc_convert_batch.buildVideoMapOptions_(params), tileOptions:ee.rpc_convert_batch.buildTileOptions_(params), tileExportOptions:ee.rpc_convert_batch.buildVideoFileExportOptions_(params, ee.rpc_convert_batch.ExportDestination.GCS), requestId:stringOrNull_(params.id), \n  version:stringOrNull_(params.version), maxWorkerCount:numberOrNull_(params.maxWorkers)});\n};\nee.rpc_convert_batch.taskToExportClassifierRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var destination = ee.rpc_convert_batch.guessDestination_(params);\n  if (destination != ee.rpc_convert_batch.ExportDestination.ASSET) {\n    throw Error('Export destination \"' + destination + '\" unknown');\n  }\n  return new module$exports$eeapiclient$ee_api_client.ExportClassifierRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), requestId:stringOrNull_(params.id), assetExportOptions:new module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(params)}), maxWorkerCount:numberOrNull_(params.maxWorkers),\n  });\n};\nfunction stringOrNull_(value) {\n  return null != value ? String(value) : null;\n}\nfunction numberOrNull_(value) {\n  return null != value ? Number(value) : null;\n}\nee.rpc_convert_batch.guessDestination_ = function(params) {\n  var destination = ee.rpc_convert_batch.ExportDestination.DRIVE;\n  if (null == params) {\n    return destination;\n  }\n  null != params.outputBucket || null != params.outputPrefix ? destination = ee.rpc_convert_batch.ExportDestination.GCS : null != params.assetId ? destination = ee.rpc_convert_batch.ExportDestination.ASSET : null != params.mapName && (destination = ee.rpc_convert_batch.ExportDestination.FEATURE_VIEW);\n  return destination;\n};\nee.rpc_convert_batch.buildGeoTiffFormatOptions_ = function(params) {\n  if (params.fileDimensions && params.tiffFileDimensions) {\n    throw Error('Export cannot set both \"fileDimensions\" and \"tiffFileDimensions\".');\n  }\n  var tileSize = params.tiffShardSize || params.shardSize;\n  return new module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions({cloudOptimized:!!params.tiffCloudOptimized, skipEmptyFiles:!(!params.skipEmptyTiles && !params.tiffSkipEmptyFiles), tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.fileDimensions || params.tiffFileDimensions), tileSize:numberOrNull_(tileSize),});\n};\nee.rpc_convert_batch.buildTfRecordFormatOptions_ = function(params) {\n  var tfRecordOptions = new module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions({compress:!!params.tfrecordCompressed, maxSizeBytes:stringOrNull_(params.tfrecordMaxFileSize), sequenceData:!!params.tfrecordSequenceData, collapseBands:!!params.tfrecordCollapseBands, maxMaskedRatio:numberOrNull_(params.tfrecordMaskedThreshold), defaultValue:numberOrNull_(params.tfrecordDefaultValue), tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.tfrecordPatchDimensions), \n  marginDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.tfrecordKernelSize), tensorDepths:null,}), tensorDepths = params.tfrecordTensorDepths;\n  if (null != tensorDepths) {\n    if (goog.isObject(tensorDepths)) {\n      var result = {};\n      module$contents$goog$object_forEach(tensorDepths, function(v, k) {\n        if (\"string\" !== typeof k || \"number\" !== typeof v) {\n          throw Error('\"tensorDepths\" option must be an object of type Object<string, number>');\n        }\n        result[k] = v;\n      });\n      tfRecordOptions.tensorDepths = result;\n    } else {\n      throw Error('\"tensorDepths\" option needs to have the form Object<string, number>.');\n    }\n  }\n  return tfRecordOptions;\n};\nee.rpc_convert_batch.buildImageFileExportOptions_ = function(params, destination) {\n  var result = new module$exports$eeapiclient$ee_api_client.ImageFileExportOptions({gcsDestination:null, driveDestination:null, geoTiffOptions:null, tfRecordOptions:null, fileFormat:ee.rpc_convert.fileFormat(params.fileFormat),});\n  \"GEO_TIFF\" === result.fileFormat ? result.geoTiffOptions = ee.rpc_convert_batch.buildGeoTiffFormatOptions_(params) : \"TF_RECORD_IMAGE\" === result.fileFormat && (result.tfRecordOptions = ee.rpc_convert_batch.buildTfRecordFormatOptions_(params));\n  destination === ee.rpc_convert_batch.ExportDestination.GCS ? result.gcsDestination = ee.rpc_convert_batch.buildGcsDestination_(params) : result.driveDestination = ee.rpc_convert_batch.buildDriveDestination_(params);\n  return result;\n};\nee.rpc_convert_batch.buildImageAssetExportOptions_ = function(params) {\n  var allPolicies = params.pyramidingPolicy || {};\n  try {\n    allPolicies = JSON.parse(allPolicies);\n  } catch ($jscomp$unused$catch) {\n  }\n  var defaultPyramidingPolicy = \"PYRAMIDING_POLICY_UNSPECIFIED\";\n  \"string\" === typeof allPolicies ? (defaultPyramidingPolicy = allPolicies, allPolicies = {}) : allPolicies[\".default\"] && (defaultPyramidingPolicy = allPolicies[\".default\"], delete allPolicies[\".default\"]);\n  return new module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(params), pyramidingPolicy:defaultPyramidingPolicy, pyramidingPolicyOverrides:module$contents$goog$object_isEmpty(allPolicies) ? null : allPolicies, tileSize:numberOrNull_(params.shardSize),});\n};\nee.rpc_convert_batch.buildTableFileExportOptions_ = function(params, destination) {\n  var result = new module$exports$eeapiclient$ee_api_client.TableFileExportOptions({gcsDestination:null, driveDestination:null, fileFormat:ee.rpc_convert.tableFileFormat(params.fileFormat),});\n  destination === ee.rpc_convert_batch.ExportDestination.GCS ? result.gcsDestination = ee.rpc_convert_batch.buildGcsDestination_(params) : result.driveDestination = ee.rpc_convert_batch.buildDriveDestination_(params);\n  return result;\n};\nee.rpc_convert_batch.buildTableAssetExportOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.TableAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(params)});\n};\nee.rpc_convert_batch.buildFeatureViewExportOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions({dmsDestination:ee.rpc_convert_batch.buildFeatureViewDestination_(params), ingestionTimeParameters:ee.rpc_convert_batch.buildFeatureViewIngestionTimeParameters_(params.ingestionTimeParameters),});\n};\nee.rpc_convert_batch.buildVideoFileExportOptions_ = function(params, destination) {\n  var result = new module$exports$eeapiclient$ee_api_client.VideoFileExportOptions({gcsDestination:null, driveDestination:null, fileFormat:\"MP4\",});\n  destination === ee.rpc_convert_batch.ExportDestination.GCS ? result.gcsDestination = ee.rpc_convert_batch.buildGcsDestination_(params) : result.driveDestination = ee.rpc_convert_batch.buildDriveDestination_(params);\n  return result;\n};\nee.rpc_convert_batch.buildVideoOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:numberOrNull_(params.framesPerSecond), maxFrames:numberOrNull_(params.maxFrames), maxPixelsPerFrame:stringOrNull_(params.maxPixels),});\n};\nee.rpc_convert_batch.buildVideoMapOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:numberOrNull_(params.framesPerSecond), maxFrames:numberOrNull_(params.maxFrames), maxPixelsPerFrame:null,});\n};\nee.rpc_convert_batch.buildTileOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.TileOptions({maxZoom:numberOrNull_(params.maxZoom), scale:numberOrNull_(params.scale), minZoom:numberOrNull_(params.minZoom), skipEmptyTiles:!!params.skipEmptyTiles, mapsApiKey:stringOrNull_(params.mapsApiKey), tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.tileDimensions), stride:numberOrNull_(params.stride), zoomSubset:ee.rpc_convert_batch.buildZoomSubset_(numberOrNull_(params.minTimeMachineZoomSubset), \n  numberOrNull_(params.maxTimeMachineZoomSubset)),});\n};\nee.rpc_convert_batch.buildZoomSubset_ = function(min, max) {\n  if (null == min && null == max) {\n    return null;\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.ZoomSubset({min:0, max:null});\n  null != min && (result.min = min);\n  result.max = max;\n  return result;\n};\nee.rpc_convert_batch.buildGridDimensions_ = function(dimensions) {\n  if (null == dimensions) {\n    return null;\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.GridDimensions({height:0, width:0});\n  \"string\" === typeof dimensions && (-1 !== dimensions.indexOf(\"x\") ? dimensions = dimensions.split(\"x\").map(Number) : -1 !== dimensions.indexOf(\",\") && (dimensions = dimensions.split(\",\").map(Number)));\n  if (Array.isArray(dimensions)) {\n    if (2 === dimensions.length) {\n      result.height = dimensions[0], result.width = dimensions[1];\n    } else {\n      if (1 === dimensions.length) {\n        result.height = dimensions[0], result.width = dimensions[0];\n      } else {\n        throw Error(\"Unable to construct grid from dimensions: \" + dimensions);\n      }\n    }\n  } else {\n    if (\"number\" !== typeof dimensions || isNaN(dimensions)) {\n      if (goog.isObject(dimensions) && null != dimensions.height && null != dimensions.width) {\n        result.height = dimensions.height, result.width = dimensions.width;\n      } else {\n        throw Error(\"Unable to construct grid from dimensions: \" + dimensions);\n      }\n    } else {\n      result.height = dimensions, result.width = dimensions;\n    }\n  }\n  return result;\n};\nee.rpc_convert_batch.buildGcsDestination_ = function(params) {\n  var permissions = null;\n  null != params.writePublicTiles && (permissions = params.writePublicTiles ? \"PUBLIC\" : \"DEFAULT_OBJECT_ACL\");\n  return new module$exports$eeapiclient$ee_api_client.GcsDestination({bucket:stringOrNull_(params.outputBucket), filenamePrefix:stringOrNull_(params.outputPrefix), bucketCorsUris:params.bucketCorsUris || null, permissions:permissions,});\n};\nee.rpc_convert_batch.buildDriveDestination_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.DriveDestination({folder:stringOrNull_(params.driveFolder), filenamePrefix:stringOrNull_(params.driveFileNamePrefix),});\n};\nee.rpc_convert_batch.buildEarthEngineDestination_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.EarthEngineDestination({name:ee.rpc_convert.assetIdToAssetName(params.assetId)});\n};\nee.rpc_convert_batch.buildFeatureViewDestination_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.DmsDestination({dmsName:ee.rpc_convert.assetIdToAssetName(params.mapName)});\n};\nee.rpc_convert_batch.buildFeatureViewIngestionTimeParameters_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters({thinningOptions:ee.rpc_convert_batch.buildThinningOptions_(params.thinningOptions), rankingOptions:ee.rpc_convert_batch.buildRankingOptions_(params.rankingOptions)});\n};\nee.rpc_convert_batch.buildThinningOptions_ = function(params) {\n  return null == params ? null : new module$exports$eeapiclient$ee_api_client.ThinningOptions({maxFeaturesPerTile:numberOrNull_(params.maxFeaturesPerTile), thinningStrategy:params.thinningStrategy});\n};\nee.rpc_convert_batch.buildRankingOptions_ = function(params) {\n  return null == params ? null : new module$exports$eeapiclient$ee_api_client.RankingOptions({zOrderRankingRule:ee.rpc_convert_batch.buildRankingRule_(params.zOrderRankingRule), thinningRankingRule:ee.rpc_convert_batch.buildRankingRule_(params.thinningRankingRule),});\n};\nee.rpc_convert_batch.buildRankingRule_ = function(params) {\n  if (null == params) {\n    return null;\n  }\n  if (params.rankByOneThingRule && !Array.isArray(params.rankByOneThingRule)) {\n    throw Error('Parameter \"rankByOneThingRule\" should be an array, got ' + typeof params.rankByOneThingRule);\n  }\n  return new module$exports$eeapiclient$ee_api_client.RankingRule({rankByOneThingRule:(params.rankByOneThingRule || []).map(ee.rpc_convert_batch.buildRankByOneThingRule_), pseudoRandomTiebreaking:params.pseudoRandomTiebreaking || null,});\n};\nee.rpc_convert_batch.buildRankByOneThingRule_ = function(params) {\n  var result = new module$exports$eeapiclient$ee_api_client.RankByOneThingRule({direction:stringOrNull_(params.direction), rankByAttributeRule:null, rankByMinVisibleLodRule:null, rankByGeometryTypeRule:null, rankByNaturalOrderRule:null,});\n  params.rankByAttributeRule ? result.rankByAttributeRule = ee.rpc_convert_batch.buildRankByAttributeRule(params) : params.rankByMinVisibleLodRule ? result.rankByMinVisibleLodRule = new module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule({}) : params.rankByGeometryTypeRule ? result.rankByGeometryTypeRule = new module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule({}) : params.rankByNaturalOrderRule && (result.rankByNaturalOrderRule = \n  new module$exports$eeapiclient$ee_api_client.RankByNaturalOrder({}));\n  return result;\n};\nee.rpc_convert_batch.buildRankByAttributeRule = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.RankByAttributeRule({attributeName:stringOrNull_(params.attributeName)});\n};\nee.data = {};\nee.data.AbstractTaskConfig = {};\nee.data.AlgorithmsRegistry = {};\nee.data.AssetList = {};\nee.data.ClassifierTaskConfig = {};\nee.data.FeatureViewTaskConfig = {};\nee.data.ImageTaskConfig = {};\nee.data.MapTaskConfig = {};\nee.data.TableTaskConfig = {};\nee.data.VideoMapTaskConfig = {};\nee.data.VideoTaskConfig = {};\nee.data.authenticateViaOauth = function(clientId, success, opt_error, opt_extraScopes, opt_onImmediateFailed, opt_suppressDefaultScopes) {\n  var scopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!opt_suppressDefaultScopes, !1, opt_extraScopes || []);\n  module$contents$ee$apiclient_apiclient.setAuthClient(clientId, scopes);\n  null === clientId ? module$contents$ee$apiclient_apiclient.clearAuthToken() : module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function() {\n    var onImmediateFailed = opt_onImmediateFailed || goog.partial(ee.data.authenticateViaPopup, success, opt_error);\n    ee.data.refreshAuthToken(success, opt_error, onImmediateFailed);\n  });\n};\ngoog.exportSymbol(\"ee.data.authenticateViaOauth\", ee.data.authenticateViaOauth);\nee.data.authenticate = function(clientId, success, opt_error, opt_extraScopes, opt_onImmediateFailed) {\n  ee.data.authenticateViaOauth(clientId, success, opt_error, opt_extraScopes, opt_onImmediateFailed);\n};\ngoog.exportSymbol(\"ee.data.authenticate\", ee.data.authenticate);\nee.data.authenticateViaPopup = function(opt_success, opt_error) {\n  goog.global.gapi.auth.authorize({client_id:module$contents$ee$apiclient_apiclient.getAuthClientId(), immediate:!1, scope:module$contents$ee$apiclient_apiclient.getAuthScopes().join(\" \")}, goog.partial(module$contents$ee$apiclient_apiclient.handleAuthResult_, opt_success, opt_error));\n};\ngoog.exportSymbol(\"ee.data.authenticateViaPopup\", ee.data.authenticateViaPopup);\nee.data.authenticateViaPrivateKey = function(privateKey, opt_success, opt_error, opt_extraScopes, opt_suppressDefaultScopes) {\n  if (\"window\" in goog.global) {\n    throw Error(\"Use of private key authentication in the browser is insecure. Consider using OAuth, instead.\");\n  }\n  var scopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!opt_suppressDefaultScopes, !opt_suppressDefaultScopes, opt_extraScopes || []);\n  module$contents$ee$apiclient_apiclient.setAuthClient(privateKey.client_email, scopes);\n  var jwtClient = new google.auth.JWT(privateKey.client_email, null, privateKey.private_key, scopes, null);\n  ee.data.setAuthTokenRefresher(function(authArgs, callback) {\n    jwtClient.authorize(function(error, token) {\n      error ? callback({error:error}) : callback({access_token:token.access_token, token_type:token.token_type, expires_in:(token.expiry_date - Date.now()) / 1000,});\n    });\n  });\n  ee.data.refreshAuthToken(opt_success, opt_error);\n};\ngoog.exportSymbol(\"ee.data.authenticateViaPrivateKey\", ee.data.authenticateViaPrivateKey);\nee.data.setApiKey = module$contents$ee$apiclient_apiclient.setApiKey;\nee.data.setProject = module$contents$ee$apiclient_apiclient.setProject;\nee.data.getProject = module$contents$ee$apiclient_apiclient.getProject;\nee.data.PROFILE_REQUEST_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER;\nee.data.setExpressionAugmenter = function(augmenter) {\n  ee.data.expressionAugmenter_ = augmenter || goog.functions.identity;\n};\ngoog.exportSymbol(\"ee.data.setExpressionAugmenter\", ee.data.setExpressionAugmenter);\nee.data.expressionAugmenter_ = goog.functions.identity;\nee.data.setAuthToken = module$contents$ee$apiclient_apiclient.setAuthToken;\ngoog.exportSymbol(\"ee.data.setAuthToken\", ee.data.setAuthToken);\nee.data.refreshAuthToken = module$contents$ee$apiclient_apiclient.refreshAuthToken;\ngoog.exportSymbol(\"ee.data.refreshAuthToken\", ee.data.refreshAuthToken);\nee.data.setAuthTokenRefresher = module$contents$ee$apiclient_apiclient.setAuthTokenRefresher;\ngoog.exportSymbol(\"ee.data.setAuthTokenRefresher\", ee.data.setAuthTokenRefresher);\nee.data.getAuthToken = module$contents$ee$apiclient_apiclient.getAuthToken;\ngoog.exportSymbol(\"ee.data.getAuthToken\", ee.data.getAuthToken);\nee.data.clearAuthToken = module$contents$ee$apiclient_apiclient.clearAuthToken;\ngoog.exportSymbol(\"ee.data.clearAuthToken\", ee.data.clearAuthToken);\nee.data.getAuthClientId = module$contents$ee$apiclient_apiclient.getAuthClientId;\ngoog.exportSymbol(\"ee.data.getAuthClientId\", ee.data.getAuthClientId);\nee.data.getAuthScopes = module$contents$ee$apiclient_apiclient.getAuthScopes;\ngoog.exportSymbol(\"ee.data.getAuthScopes\", ee.data.getAuthScopes);\nee.data.setDeadline = module$contents$ee$apiclient_apiclient.setDeadline;\ngoog.exportSymbol(\"ee.data.setDeadline\", ee.data.setDeadline);\nee.data.setParamAugmenter = module$contents$ee$apiclient_apiclient.setParamAugmenter;\ngoog.exportSymbol(\"ee.data.setParamAugmenter\", ee.data.setParamAugmenter);\nee.data.initialize = module$contents$ee$apiclient_apiclient.initialize;\nee.data.reset = module$contents$ee$apiclient_apiclient.reset;\nee.data.PROFILE_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_HEADER;\nee.data.makeRequest_ = module$contents$ee$apiclient_apiclient.makeRequest_;\nee.data.send_ = module$contents$ee$apiclient_apiclient.send;\nee.data.setupMockSend = module$contents$ee$apiclient_apiclient.setupMockSend;\nee.data.withProfiling = module$contents$ee$apiclient_apiclient.withProfiling;\nee.data.getAlgorithms = function(opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.algorithms().list(call.projectsPath(), {prettyPrint:!1}).then(ee.rpc_convert.algorithms));\n};\nee.data.getMapId = function(params, opt_callback) {\n  if (\"string\" === typeof params.image) {\n    throw Error(\"Image as JSON string not supported.\");\n  }\n  if (void 0 !== params.version) {\n    throw Error(\"Image version specification not supported.\");\n  }\n  var map = new module$exports$eeapiclient$ee_api_client.EarthEngineMap({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.image)), fileFormat:ee.rpc_convert.fileFormat(params.format), bandIds:ee.rpc_convert.bandList(params.bands), visualizationOptions:ee.rpc_convert.visualizationOptions(params),}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.maps().create(call.projectsPath(), map, {fields:[\"name\"]}).then(function(response) {\n    return ee.data.makeMapId_(response.name, \"\");\n  }));\n};\ngoog.exportSymbol(\"ee.data.getMapId\", ee.data.getMapId);\nee.data.getTileUrl = function(id, x, y, z) {\n  if (!id.formatTileUrl) {\n    var newId = ee.data.makeMapId_(id.mapid, id.token, id.urlFormat);\n    id.urlFormat = newId.urlFormat;\n    id.formatTileUrl = newId.formatTileUrl;\n  }\n  return id.formatTileUrl(x, y, z);\n};\ngoog.exportSymbol(\"ee.data.getTileUrl\", ee.data.getTileUrl);\nee.data.makeMapId_ = function(mapid, token, opt_urlFormat) {\n  var urlFormat = void 0 === opt_urlFormat ? \"\" : opt_urlFormat;\n  if (!urlFormat) {\n    module$contents$ee$apiclient_apiclient.initialize();\n    var base = module$contents$ee$apiclient_apiclient.getTileBaseUrl();\n    urlFormat = token ? base + \"/map/\" + mapid + \"/{z}/{x}/{y}?token=\" + token : base + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + mapid + \"/tiles/{z}/{x}/{y}\";\n  }\n  return {mapid:mapid, token:token, formatTileUrl:function(x, y, z) {\n    var width = Math.pow(2, z);\n    x %= width;\n    x = String(0 > x ? x + width : x);\n    return urlFormat.replace(\"{x}\", x).replace(\"{y}\", y).replace(\"{z}\", z);\n  }, urlFormat:urlFormat};\n};\nee.data.getFeatureViewTilesKey = function(params, opt_callback) {\n  var visualizationExpression = params.visParams ? ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.visParams)) : null, map = new module$exports$eeapiclient$ee_api_client.DMSMap({name:null, asset:params.assetName, dmsName:params.mapName, visualizationExpression:visualizationExpression,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.dmsMaps().create(call.projectsPath(), map, {fields:[\"name\"]}).then(function(response) {\n    return {token:response.name};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getFeatureViewTilesKey\", ee.data.getFeatureViewTilesKey);\nee.data.computeValue = function(obj, opt_callback) {\n  var expression = ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(obj)), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.value().compute(call.projectsPath(), new module$exports$eeapiclient$ee_api_client.ComputeValueRequest({expression:expression})).then(function(x) {\n    return x.result;\n  }));\n};\ngoog.exportSymbol(\"ee.data.computeValue\", ee.data.computeValue);\nee.data.getThumbId = function(params, opt_callback) {\n  if (\"string\" === typeof params.image) {\n    throw Error(\"Image as JSON string not supported.\");\n  }\n  if (void 0 !== params.version) {\n    throw Error(\"Image version specification not supported.\");\n  }\n  if (void 0 !== params.region) {\n    throw Error('\"region\" not supported in call to ee.data.getThumbId. Use ee.Image.getThumbURL.');\n  }\n  if (void 0 !== params.dimensions) {\n    throw Error('\"dimensions\" is not supported in call to ee.data.getThumbId. Use ee.Image.getThumbURL.');\n  }\n  var thumbnail = new module$exports$eeapiclient$ee_api_client.Thumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.image)), fileFormat:ee.rpc_convert.fileFormat(params.format), filenamePrefix:params.name, bandIds:ee.rpc_convert.bandList(params.bands), visualizationOptions:ee.rpc_convert.visualizationOptions(params), grid:null,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.thumbnails().create(call.projectsPath(), thumbnail, {fields:[\"name\"]}).then(function(response) {\n    return {thumbid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getThumbId\", ee.data.getThumbId);\nee.data.getVideoThumbId = function(params, opt_callback) {\n  var videoOptions = new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:params.framesPerSecond || null, maxFrames:params.maxFrames || null, maxPixelsPerFrame:params.maxPixelsPerFrame || null,}), request = new module$exports$eeapiclient$ee_api_client.VideoThumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.imageCollection)), fileFormat:ee.rpc_convert.fileFormat(params.format), \n  videoOptions:videoOptions, grid:null,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.videoThumbnails().create(call.projectsPath(), request, {fields:[\"name\"]}).then(function(response) {\n    return {thumbid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getVideoThumbId\", ee.data.getVideoThumbId);\nee.data.getFilmstripThumbId = function(params, opt_callback) {\n  var request = new module$exports$eeapiclient$ee_api_client.FilmstripThumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.imageCollection)), fileFormat:ee.rpc_convert.fileFormat(params.format), orientation:ee.rpc_convert.orientation(params.orientation), grid:null,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.filmstripThumbnails().create(call.projectsPath(), request, {fields:[\"name\"]}).then(function(response) {\n    return {thumbid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getFilmstripThumbId\", ee.data.getFilmstripThumbId);\nee.data.makeThumbUrl = function(id) {\n  return module$contents$ee$apiclient_apiclient.getTileBaseUrl() + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + id.thumbid + \":getPixels\";\n};\ngoog.exportSymbol(\"ee.data.makeThumbUrl\", ee.data.makeThumbUrl);\nee.data.getDownloadId = function(params, opt_callback) {\n  params = Object.assign({}, params);\n  params.id && (params.image = new ee.Image(params.id));\n  if (\"string\" === typeof params.image) {\n    throw Error(\"Image as serialized JSON string not supported.\");\n  }\n  if (!params.image) {\n    throw Error(\"Missing ID or image parameter.\");\n  }\n  params.filePerBand = !1 !== params.filePerBand;\n  params.format = params.format || (params.filePerBand ? \"ZIPPED_GEO_TIFF_PER_BAND\" : \"ZIPPED_GEO_TIFF\");\n  if (null != params.region && (null != params.scale || null != params.crs_transform) && null != params.dimensions) {\n    throw Error(\"Cannot specify (bounding region, crs_transform/scale, dimensions) simultaneously.\");\n  }\n  if (\"string\" === typeof params.bands) {\n    try {\n      params.bands = JSON.parse(params.bands);\n    } catch (e) {\n      params.bands = ee.rpc_convert.bandList(params.bands);\n    }\n  }\n  if (params.bands && !Array.isArray(params.bands)) {\n    throw Error(\"Bands parameter must be an array.\");\n  }\n  params.bands && params.bands.every(function(band) {\n    return \"string\" === typeof band;\n  }) && (params.bands = params.bands.map(function(band) {\n    return {id:band};\n  }));\n  if (params.bands && params.bands.some(function($jscomp$destructuring$var34) {\n    return null == $jscomp$destructuring$var34.id;\n  })) {\n    throw Error(\"Each band dictionary must have an id.\");\n  }\n  \"string\" === typeof params.region && (params.region = JSON.parse(params.region));\n  if (\"string\" === typeof params.crs_transform) {\n    try {\n      params.crs_transform = JSON.parse(params.crs_transform);\n    } catch (e$64) {\n    }\n  }\n  var image = ee.data.images.buildDownloadIdImage(params.image, params), thumbnail = new module$exports$eeapiclient$ee_api_client.Thumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(image)), fileFormat:ee.rpc_convert.fileFormat(params.format), filenamePrefix:params.name, bandIds:params.bands && ee.rpc_convert.bandList(params.bands.map(function(band) {\n    return band.id;\n  })), grid:null,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.thumbnails().create(call.projectsPath(), thumbnail, {fields:[\"name\"]}).then(function(response) {\n    return {docid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getDownloadId\", ee.data.getDownloadId);\nee.data.makeDownloadUrl = function(id) {\n  module$contents$ee$apiclient_apiclient.initialize();\n  return module$contents$ee$apiclient_apiclient.getTileBaseUrl() + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + id.docid + \":getPixels\";\n};\ngoog.exportSymbol(\"ee.data.makeDownloadUrl\", ee.data.makeDownloadUrl);\nee.data.getTableDownloadId = function(params, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback), fileFormat = ee.rpc_convert.tableFileFormat(params.format), expression = ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.table)), selectors = null;\n  if (null != params.selectors) {\n    if (\"string\" === typeof params.selectors) {\n      selectors = params.selectors.split(\",\");\n    } else {\n      if (Array.isArray(params.selectors) && params.selectors.every(function(x) {\n        return \"string\" === typeof x;\n      })) {\n        selectors = params.selectors;\n      } else {\n        throw Error(\"'selectors' parameter must be an array of strings.\");\n      }\n    }\n  }\n  var table = new module$exports$eeapiclient$ee_api_client.Table({name:null, expression:expression, fileFormat:fileFormat, selectors:selectors, filename:params.filename || null,});\n  return call.handle(call.tables().create(call.projectsPath(), table, {fields:[\"name\"]}).then(function(res) {\n    return {docid:res.name || \"\", token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getTableDownloadId\", ee.data.getTableDownloadId);\nee.data.makeTableDownloadUrl = function(id) {\n  return module$contents$ee$apiclient_apiclient.getTileBaseUrl() + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + id.docid + \":getFeatures\";\n};\ngoog.exportSymbol(\"ee.data.makeTableDownloadUrl\", ee.data.makeTableDownloadUrl);\nee.data.newTaskId = function(opt_count, opt_callback) {\n  var rand = function(n) {\n    return Math.floor(Math.random() * n);\n  }, hex = function(d) {\n    return rand(Math.pow(2, 4 * d)).toString(16).padStart(d, \"0\");\n  }, variantPart = function() {\n    return (8 + rand(4)).toString(16) + hex(3);\n  }, uuids = module$contents$goog$array_range(opt_count || 1).map(function() {\n    return [hex(8), hex(4), \"4\" + hex(3), variantPart(), hex(12)].join(\"-\");\n  });\n  return opt_callback ? opt_callback(uuids) : uuids;\n};\ngoog.exportSymbol(\"ee.data.newTaskId\", ee.data.newTaskId);\nee.data.getTaskStatus = function(taskId, opt_callback) {\n  var opNames = ee.data.makeStringArray_(taskId).map(ee.rpc_convert.taskIdToOperationName);\n  if (1 === opNames.length) {\n    var call$66 = new module$contents$ee$apiclient_Call(opt_callback);\n    return call$66.handle(call$66.operations().get(opNames[0]).then(function(op) {\n      return [ee.rpc_convert.operationToTask(op)];\n    }));\n  }\n  var call = new module$contents$ee$apiclient_BatchCall(opt_callback), operations = call.operations();\n  return call.send(opNames.map(function(op) {\n    return [op, operations.get(op)];\n  }), function(data) {\n    return opNames.map(function(id) {\n      return ee.rpc_convert.operationToTask(data[id]);\n    });\n  });\n};\ngoog.exportSymbol(\"ee.data.getTaskStatus\", ee.data.getTaskStatus);\nee.data.makeStringArray_ = function(value) {\n  if (\"string\" === typeof value) {\n    return [value];\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  throw Error(\"Invalid value: expected a string or an array of strings.\");\n};\nee.data.TASKLIST_PAGE_SIZE_ = 500;\nee.data.getTaskList = function(opt_callback) {\n  return ee.data.getTaskListWithLimit(void 0, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.getTaskList\", ee.data.getTaskList);\nee.data.getTaskListWithLimit = function(opt_limit, opt_callback) {\n  var convert = function(ops) {\n    return {tasks:ops.map(ee.rpc_convert.operationToTask)};\n  };\n  return opt_callback ? (ee.data.listOperations(opt_limit, function(v, e) {\n    return opt_callback(v ? convert(v) : null, e);\n  }), null) : convert(ee.data.listOperations(opt_limit));\n};\ngoog.exportSymbol(\"ee.data.getTaskListWithLimit\", ee.data.getTaskListWithLimit);\nee.data.listOperations = function(opt_limit, opt_callback) {\n  var ops = [], truncatedOps = function() {\n    return opt_limit ? ops.slice(0, opt_limit) : ops;\n  }, params = {pageSize:ee.data.TASKLIST_PAGE_SIZE_}, getResponse = function(response) {\n    module$contents$goog$array_extend(ops, response.operations || []);\n    !response.nextPageToken || opt_limit && ops.length >= opt_limit ? opt_callback && opt_callback(truncatedOps()) : (params.pageToken = response.nextPageToken, call.handle(operations.list(call.projectsPath(), params).then(getResponse)));\n    return null;\n  }, call = new module$contents$ee$apiclient_Call(opt_callback ? function(value, err) {\n    return err && opt_callback(value, err);\n  } : void 0), operations = call.operations();\n  call.handle(operations.list(call.projectsPath(), params).then(getResponse));\n  return opt_callback ? null : truncatedOps();\n};\ngoog.exportSymbol(\"ee.data.listOperations\", ee.data.listOperations);\nee.data.cancelOperation = function(operationName, opt_callback) {\n  var opNames = ee.data.makeStringArray_(operationName), request = new module$exports$eeapiclient$ee_api_client.CancelOperationRequest();\n  if (1 === opNames.length) {\n    var call$67 = new module$contents$ee$apiclient_Call(opt_callback);\n    call$67.handle(call$67.operations().cancel(opNames[0], request));\n  } else {\n    var call = new module$contents$ee$apiclient_BatchCall(opt_callback), operations = call.operations();\n    call.send(opNames.map(function(op) {\n      return [op, operations.cancel(op, request)];\n    }));\n  }\n};\ngoog.exportSymbol(\"ee.data.cancelOperation\", ee.data.cancelOperation);\nee.data.getOperation = function(operationName, opt_callback) {\n  var opNames = ee.data.makeStringArray_(operationName).map(ee.rpc_convert.taskIdToOperationName);\n  if (!Array.isArray(operationName)) {\n    var call$68 = new module$contents$ee$apiclient_Call(opt_callback);\n    return call$68.handle(call$68.operations().get(opNames[0]));\n  }\n  var call = new module$contents$ee$apiclient_BatchCall(opt_callback), operations = call.operations();\n  return call.send(opNames.map(function(op) {\n    return [op, operations.get(op)];\n  }));\n};\ngoog.exportSymbol(\"ee.data.getOperation\", ee.data.getOperation);\nee.data.cancelTask = function(taskId, opt_callback) {\n  return ee.data.updateTask(taskId, ee.data.TaskUpdateActions.CANCEL, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.cancelTask\", ee.data.cancelTask);\nee.data.updateTask = function(taskId, action, opt_callback) {\n  if (!module$contents$goog$object_containsValue(ee.data.TaskUpdateActions, action)) {\n    throw Error(\"Invalid action: \" + action);\n  }\n  taskId = ee.data.makeStringArray_(taskId);\n  var operations = taskId.map(ee.rpc_convert.taskIdToOperationName);\n  ee.data.cancelOperation(operations, opt_callback);\n  return null;\n};\ngoog.exportSymbol(\"ee.data.updateTask\", ee.data.updateTask);\nee.data.startProcessing = function(taskId, params, opt_callback) {\n  params.id = taskId;\n  var taskType = params.type, metadata = null != params.sourceUrl ? {__source_url__:params.sourceUrl} : {}, call = new module$contents$ee$apiclient_Call(opt_callback), handle = function(response) {\n    return call.handle(response.then(ee.rpc_convert.operationToProcessingResponse));\n  };\n  switch(taskType) {\n    case ee.data.ExportType.IMAGE:\n      var imageRequest = ee.data.prepareExportImageRequest_(params, metadata);\n      return handle(call.image().export(call.projectsPath(), imageRequest));\n    case ee.data.ExportType.TABLE:\n      var tableRequest = ee.rpc_convert_batch.taskToExportTableRequest(params);\n      tableRequest.expression = ee.data.expressionAugmenter_(tableRequest.expression, metadata);\n      return handle(call.table().export(call.projectsPath(), tableRequest));\n    case ee.data.ExportType.VIDEO:\n      var videoRequest = ee.data.prepareExportVideoRequest_(params, metadata);\n      return handle(call.video().export(call.projectsPath(), videoRequest));\n    case ee.data.ExportType.MAP:\n      var mapRequest = ee.data.prepareExportMapRequest_(params, metadata);\n      return handle(call.map().export(call.projectsPath(), mapRequest));\n    case ee.data.ExportType.VIDEO_MAP:\n      var videoMapRequest = ee.data.prepareExportVideoMapRequest_(params, metadata);\n      return handle(call.videoMap().export(call.projectsPath(), videoMapRequest));\n    case ee.data.ExportType.CLASSIFIER:\n      var classifierRequest = ee.data.prepareExportClassifierRequest_(params, metadata);\n      return handle(call.classifier().export(call.projectsPath(), classifierRequest));\n    default:\n      throw Error(\"Unable to start processing for task of type \" + taskType);\n  }\n};\ngoog.exportSymbol(\"ee.data.startProcessing\", ee.data.startProcessing);\nee.data.prepareExportImageRequest_ = function(taskConfig, metadata) {\n  var imageTask = ee.data.images.applyTransformsToImage(taskConfig), imageRequest = ee.rpc_convert_batch.taskToExportImageRequest(imageTask);\n  imageRequest.expression = ee.data.expressionAugmenter_(imageRequest.expression, metadata);\n  return imageRequest;\n};\nee.data.prepareExportVideoRequest_ = function(taskConfig, metadata) {\n  var videoTask = ee.data.images.applyTransformsToCollection(taskConfig), videoRequest = ee.rpc_convert_batch.taskToExportVideoRequest(videoTask);\n  videoRequest.expression = ee.data.expressionAugmenter_(videoRequest.expression, metadata);\n  return videoRequest;\n};\nee.data.prepareExportMapRequest_ = function(taskConfig, metadata) {\n  var scale = taskConfig.scale;\n  delete taskConfig.scale;\n  var mapTask = ee.data.images.applyTransformsToImage(taskConfig);\n  mapTask.scale = scale;\n  var mapRequest = ee.rpc_convert_batch.taskToExportMapRequest(mapTask);\n  mapRequest.expression = ee.data.expressionAugmenter_(mapRequest.expression, metadata);\n  return mapRequest;\n};\nee.data.prepareExportVideoMapRequest_ = function(taskConfig, metadata) {\n  var scale = taskConfig.scale;\n  delete taskConfig.scale;\n  var videoMapTask = ee.data.images.applyTransformsToCollection(taskConfig);\n  videoMapTask.scale = scale;\n  var videoMapRequest = ee.rpc_convert_batch.taskToExportVideoMapRequest(videoMapTask);\n  videoMapRequest.expression = ee.data.expressionAugmenter_(videoMapRequest.expression);\n  return videoMapRequest;\n};\nee.data.prepareExportClassifierRequest_ = function(taskConfig, metadata) {\n  var classifierRequest = ee.rpc_convert_batch.taskToExportClassifierRequest(taskConfig);\n  classifierRequest.expression = ee.data.expressionAugmenter_(classifierRequest.expression);\n  return classifierRequest;\n};\nee.data.startIngestion = function(taskId, request, opt_callback) {\n  var manifest = ee.rpc_convert.toImageManifest(request), convert = function(arg) {\n    return arg ? ee.rpc_convert.operationToProcessingResponse(arg) : null;\n  };\n  return convert(ee.data.ingestImage(taskId, manifest, opt_callback && function(arg, err) {\n    return opt_callback(convert(arg), err);\n  }));\n};\ngoog.exportSymbol(\"ee.data.startIngestion\", ee.data.startIngestion);\nee.data.ingestImage = function(taskId, imageManifest, callback) {\n  var request = new module$exports$eeapiclient$ee_api_client.ImportImageRequest({imageManifest:imageManifest, requestId:taskId, overwrite:null, description:null,}), call = new module$contents$ee$apiclient_Call(callback, taskId ? void 0 : 0);\n  return call.handle(call.image().import(call.projectsPath(), request));\n};\nee.data.ingestTable = function(taskId, tableManifest, callback) {\n  var request = new module$exports$eeapiclient$ee_api_client.ImportTableRequest({tableManifest:tableManifest, requestId:taskId, overwrite:null, description:null,}), call = new module$contents$ee$apiclient_Call(callback, taskId ? void 0 : 0);\n  return call.handle(call.table().import(call.projectsPath(), request));\n};\nee.data.startTableIngestion = function(taskId, request, opt_callback) {\n  var manifest = ee.rpc_convert.toTableManifest(request), convert = function(arg) {\n    return arg ? ee.rpc_convert.operationToProcessingResponse(arg) : null;\n  };\n  return convert(ee.data.ingestTable(taskId, manifest, opt_callback && function(arg, err) {\n    return opt_callback(convert(arg), err);\n  }));\n};\ngoog.exportSymbol(\"ee.data.startTableIngestion\", ee.data.startTableIngestion);\nee.data.getAsset = function(id, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback), name = ee.rpc_convert.assetIdToAssetName(id);\n  return call.handle(call.assets().get(name, {prettyPrint:!1}).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.getAsset\", ee.data.getAsset);\nee.data.getInfo = ee.data.getAsset;\ngoog.exportSymbol(\"ee.data.getInfo\", ee.data.getInfo);\nee.data.getList = function(params, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback), methodRoot = call.assets(), parent = ee.rpc_convert.assetIdToAssetName(params.id), isProjectAssetRoot = ee.rpc_convert.CLOUD_ASSET_ROOT_RE.test(params.id);\n  isProjectAssetRoot && (methodRoot = call.projects(), parent = ee.rpc_convert.projectParentFromPath(params.id));\n  if (Object.keys(params).every(function(k) {\n    return \"id\" === k || \"num\" === k;\n  })) {\n    return call.handle(methodRoot.listAssets(parent, {pageSize:params.num}).then(ee.rpc_convert.listAssetsToGetList));\n  }\n  if (isProjectAssetRoot) {\n    throw Error(\"getList on a project does not support filtering options. Please provide a full asset path. Got: \" + params.id);\n  }\n  var body = ee.rpc_convert.getListToListImages(params);\n  return call.handle(methodRoot.listImages(parent, body).then(ee.rpc_convert.listImagesToGetList));\n};\ngoog.exportSymbol(\"ee.data.getList\", ee.data.getList);\nee.data.listAssets = function(parent, params, opt_callback) {\n  params = void 0 === params ? {} : params;\n  var isProjectAssetRoot = ee.rpc_convert.CLOUD_ASSET_ROOT_RE.test(parent), call = new module$contents$ee$apiclient_Call(opt_callback), methodRoot = isProjectAssetRoot ? call.projects() : call.assets();\n  parent = isProjectAssetRoot ? ee.rpc_convert.projectParentFromPath(parent) : ee.rpc_convert.assetIdToAssetName(parent);\n  return call.handle(methodRoot.listAssets(parent, params));\n};\ngoog.exportSymbol(\"ee.data.listAssets\", ee.data.listAssets);\nee.data.listImages = function(parent, params, opt_callback) {\n  params = void 0 === params ? {} : params;\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().listImages(parent, params));\n};\ngoog.exportSymbol(\"ee.data.listImages\", ee.data.listImages);\nee.data.listBuckets = function(project, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.projects().listAssets(project || call.projectsPath()));\n};\ngoog.exportSymbol(\"ee.data.listBuckets\", ee.data.listBuckets);\nee.data.getAssetRoots = function(opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.projects().listAssets(call.projectsPath()).then(ee.rpc_convert.listAssetsToGetList));\n};\ngoog.exportSymbol(\"ee.data.getAssetRoots\", ee.data.getAssetRoots);\nee.data.createAssetHome = function(requestedId, opt_callback) {\n  var parent = ee.rpc_convert.projectParentFromPath(requestedId), assetId = parent === \"projects/\" + module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ ? requestedId : void 0, asset = new module$exports$eeapiclient$ee_api_client.EarthEngineAsset({type:\"Folder\"}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().create(parent, asset, {assetId:assetId}).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.createAssetHome\", ee.data.createAssetHome);\nee.data.createAsset = function(value, opt_path, opt_force, opt_properties, opt_callback) {\n  if (opt_force) {\n    throw Error(\"Asset overwrite not supported.\");\n  }\n  if (\"string\" === typeof value) {\n    throw Error(\"Asset cannot be specified as string.\");\n  }\n  var name = value.name || opt_path && ee.rpc_convert.assetIdToAssetName(opt_path);\n  if (!name) {\n    throw Error(\"Either asset name or opt_path must be specified.\");\n  }\n  var split = name.indexOf(\"/assets/\");\n  if (-1 === split) {\n    throw Error(\"Asset name must contain /assets/.\");\n  }\n  var asset = new module$exports$eeapiclient$ee_api_client.EarthEngineAsset(value), parent = name.slice(0, split), assetId = name.slice(split + 8);\n  asset.id = null;\n  asset.name = null;\n  opt_properties && !asset.properties && (asset.properties = opt_properties);\n  asset.type = ee.rpc_convert.assetTypeForCreate(asset.type);\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().create(parent, asset, {assetId:assetId}).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.createAsset\", ee.data.createAsset);\nee.data.createFolder = function(path, opt_force, opt_callback) {\n  return ee.data.createAsset({type:\"Folder\"}, path, opt_force, void 0, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.createFolder\", ee.data.createFolder);\nee.data.renameAsset = function(sourceId, destinationId, opt_callback) {\n  var sourceName = ee.rpc_convert.assetIdToAssetName(sourceId), destinationName = ee.rpc_convert.assetIdToAssetName(destinationId), request = new module$exports$eeapiclient$ee_api_client.MoveAssetRequest({destinationName:destinationName}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().move(sourceName, request).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.renameAsset\", ee.data.renameAsset);\nee.data.copyAsset = function(sourceId, destinationId, opt_overwrite, opt_callback) {\n  var sourceName = ee.rpc_convert.assetIdToAssetName(sourceId), destinationName = ee.rpc_convert.assetIdToAssetName(destinationId), request = new module$exports$eeapiclient$ee_api_client.CopyAssetRequest({destinationName:destinationName, overwrite:null != opt_overwrite ? opt_overwrite : null}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().copy(sourceName, request).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.copyAsset\", ee.data.copyAsset);\nee.data.deleteAsset = function(assetId, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().delete(ee.rpc_convert.assetIdToAssetName(assetId)));\n};\ngoog.exportSymbol(\"ee.data.deleteAsset\", ee.data.deleteAsset);\nee.data.getAssetAcl = function(assetId, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), request = new module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest(), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().getIamPolicy(resource, request, {prettyPrint:!1}).then(ee.rpc_convert.iamPolicyToAcl));\n};\ngoog.exportSymbol(\"ee.data.getAssetAcl\", ee.data.getAssetAcl);\nee.data.getIamPolicy = function(assetId, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), request = new module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest(), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().getIamPolicy(resource, request, {prettyPrint:!1}));\n};\nee.data.setIamPolicy = function(assetId, policy, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), request = new module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest({policy:policy}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().setIamPolicy(resource, request, {prettyPrint:!1}));\n};\nee.data.updateAsset = function(assetId, asset, updateFields, opt_callback) {\n  var updateMask = (updateFields || []).join(\",\"), request = new module$exports$eeapiclient$ee_api_client.UpdateAssetRequest({asset:asset, updateMask:updateMask}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().patch(ee.rpc_convert.assetIdToAssetName(assetId), request).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.updateAsset\", ee.data.updateAsset);\nee.data.setAssetAcl = function(assetId, aclUpdate, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), policy = ee.rpc_convert.aclToIamPolicy(aclUpdate), request = new module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest({policy:policy}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().setIamPolicy(resource, request, {prettyPrint:!1}));\n};\ngoog.exportSymbol(\"ee.data.setAssetAcl\", ee.data.setAssetAcl);\nee.data.setAssetProperties = function(assetId, properties, opt_callback) {\n  var asset = ee.rpc_convert.legacyPropertiesToAssetUpdate(properties), updateFields = asset.getClassMetadata().keys.filter(function(k) {\n    return \"properties\" !== k && asset.Serializable$has(k);\n  }).map(function(str) {\n    return str.replace(/([A-Z])/g, function(all, cap) {\n      return \"_\" + cap.toLowerCase();\n    });\n  }).concat(Object.keys(asset.properties || {}).map(function(k) {\n    return 'properties.\"' + k + '\"';\n  }));\n  ee.data.updateAsset(assetId, asset, updateFields, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.setAssetProperties\", ee.data.setAssetProperties);\nee.data.getAssetRootQuota = function(rootId, opt_callback) {\n  var name = ee.rpc_convert.assetIdToAssetName(rootId), call = new module$contents$ee$apiclient_Call(opt_callback), assetsCall = call.assets(), validateParams = assetsCall.$apiClient.$validateParameter;\n  assetsCall.$apiClient.$validateParameter = function(param, pattern) {\n    \"^projects\\\\/[^/]+\\\\/assets\\\\/.+$\" === pattern.source && (pattern = RegExp(\"^projects/[^/]+/assets/.*$\"));\n    return validateParams(param, pattern);\n  };\n  var getAssetRequest = assetsCall.get(name, {prettyPrint:!1});\n  return call.handle(getAssetRequest.then(function(asset) {\n    if (!(asset instanceof module$exports$eeapiclient$ee_api_client.EarthEngineAsset && asset.quota)) {\n      throw Error(rootId + \" is not a root folder.\");\n    }\n    return ee.rpc_convert.folderQuotaToAssetQuotaDetails(asset.quota);\n  }));\n};\ngoog.exportSymbol(\"ee.data.getAssetRootQuota\", ee.data.getAssetRootQuota);\nee.data.AssetType = {ALGORITHM:\"Algorithm\", CLASSIFIER:\"Classifier\", FEATURE_VIEW:\"FeatureView\", FOLDER:\"Folder\", FEATURE_COLLECTION:\"FeatureCollection\", IMAGE:\"Image\", IMAGE_COLLECTION:\"ImageCollection\", TABLE:\"Table\", UNKNOWN:\"Unknown\"};\nee.data.ExportType = {IMAGE:\"EXPORT_IMAGE\", MAP:\"EXPORT_TILES\", TABLE:\"EXPORT_FEATURES\", VIDEO:\"EXPORT_VIDEO\", VIDEO_MAP:\"EXPORT_VIDEO_MAP\", CLASSIFIER:\"EXPORT_CLASSIFIER\"};\nee.data.ExportState = {UNSUBMITTED:\"UNSUBMITTED\", READY:\"READY\", RUNNING:\"RUNNING\", COMPLETED:\"COMPLETED\", FAILED:\"FAILED\", CANCEL_REQUESTED:\"CANCEL_REQUESTED\", CANCELLED:\"CANCELLED\",};\nee.data.ExportDestination = {DRIVE:\"DRIVE\", GCS:\"GOOGLE_CLOUD_STORAGE\", ASSET:\"ASSET\", FEATURE_VIEW:\"FEATURE_VIEW\",};\nee.data.ThinningStrategy = {GLOBALLY_CONSISTENT:\"GLOBALLY_CONSISTENT\", HIGHER_DENSITY:\"HIGHER_DENSITY\",};\nee.data.Direction = {ASCENDING:\"ASCENDING\", DESCENDING:\"DESCENDING\",};\nee.data.SystemPropertyPrefix = \"system:\";\nee.data.SystemTimeProperty = {START:\"system:time_start\", END:\"system:time_end\"};\nee.data.SYSTEM_ASSET_SIZE_PROPERTY = \"system:asset_size\";\nee.data.AssetDetailsProperty = {TITLE:\"system:title\", DESCRIPTION:\"system:description\", TAGS:\"system:tags\"};\nee.data.ALLOWED_DESCRIPTION_HTML_TABLE_ELEMENTS_ = \"col colgroup caption table tbody td tfoot th thead tr\".split(\" \");\nee.data.ALLOWED_DESCRIPTION_HTML_ELEMENTS = ee.data.ALLOWED_DESCRIPTION_HTML_TABLE_ELEMENTS_.concat(\"a code em i li ol p strong sub sup ul\".split(\" \"));\nee.data.ShortAssetDescription = function() {\n};\nee.data.AssetAcl = function() {\n};\nee.data.AssetAclUpdate = function() {\n};\nee.data.AssetQuotaEntry = function() {\n};\nee.data.AssetQuotaDetails = function() {\n};\nee.data.FeatureViewDescription = function() {\n};\nee.data.FolderDescription = function() {\n};\nee.data.FeatureCollectionDescription = function() {\n};\nee.data.FeatureVisualizationParameters = function() {\n};\nee.data.GeoJSONFeature = function() {\n};\nee.data.GeoJSONGeometry = function() {\n};\nee.data.GeoJSONGeometryCrs = function() {\n};\nee.data.GeoJSONGeometryCrsProperties = function() {\n};\nee.data.ImageCollectionDescription = function() {\n};\nee.data.ImageDescription = function() {\n};\nee.data.TableDescription = function() {\n};\nee.data.TableDownloadParameters = function() {\n};\nee.data.ImageVisualizationParameters = function() {\n};\nee.data.FeatureViewVisualizationParameters = function() {\n};\nee.data.ThumbnailOptions = function() {\n};\n$jscomp.inherits(ee.data.ThumbnailOptions, ee.data.ImageVisualizationParameters);\nee.data.VideoThumbnailOptions = function() {\n};\n$jscomp.inherits(ee.data.VideoThumbnailOptions, ee.data.ThumbnailOptions);\nee.data.FilmstripThumbnailOptions = function() {\n};\n$jscomp.inherits(ee.data.FilmstripThumbnailOptions, ee.data.ThumbnailOptions);\nee.data.BandDescription = function() {\n};\nee.data.PixelTypeDescription = function() {\n};\nee.data.AlgorithmSignature = function() {\n};\nee.data.AlgorithmArgument = function() {\n};\nee.data.ThumbnailId = function() {\n};\nee.data.DownloadId = function() {\n};\nee.data.RawMapId = function() {\n};\nee.data.MapId = function() {\n};\n$jscomp.inherits(ee.data.MapId, ee.data.RawMapId);\nee.data.FeatureViewTilesKey = function() {\n};\nee.data.MapZoomRange = {MIN:0, MAX:24};\nee.data.TaskStatus = function() {\n};\nee.data.ProcessingResponse = function() {\n};\nee.data.TaskListResponse = function() {\n};\nee.data.TaskUpdateActions = {CANCEL:\"CANCEL\", UPDATE:\"UPDATE\"};\nee.data.AssetDescription = function() {\n};\nee.data.IngestionRequest = function() {\n};\nee.data.MissingData = function() {\n};\nee.data.PyramidingPolicy = {MEAN:\"MEAN\", MODE:\"MODE\", MIN:\"MIN\", MAX:\"MAX\", SAMPLE:\"SAMPLE\"};\nee.data.Band = function() {\n};\nee.data.Tileset = function() {\n};\nee.data.FileBand = function() {\n};\nee.data.FileSource = function() {\n};\nee.data.TableIngestionRequest = function() {\n};\nee.data.TableSource = function() {\n};\n$jscomp.inherits(ee.data.TableSource, ee.data.FileSource);\nee.data.AuthPrivateKey = function() {\n};\nee.ComputedObject = function(func, args, opt_varName) {\n  if (!(this instanceof ee.ComputedObject)) {\n    return ee.ComputedObject.construct(ee.ComputedObject, arguments);\n  }\n  if (opt_varName && (func || args)) {\n    throw Error('When \"opt_varName\" is specified, \"func\" and \"args\" must be null.');\n  }\n  if (func && !args) {\n    throw Error('When \"func\" is specified, \"args\" must not be null.');\n  }\n  this.func = func;\n  this.args = args;\n  this.varName = opt_varName || null;\n};\ngoog.inherits(ee.ComputedObject, ee.Encodable);\ngoog.exportSymbol(\"ee.ComputedObject\", ee.ComputedObject);\nee.ComputedObject.prototype.evaluate = function(callback) {\n  if (!callback || \"function\" !== typeof callback) {\n    throw Error(\"evaluate() requires a callback function.\");\n  }\n  ee.data.computeValue(this, callback);\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"evaluate\", ee.ComputedObject.prototype.evaluate);\nee.ComputedObject.prototype.getInfo = function(opt_callback) {\n  return ee.data.computeValue(this, opt_callback);\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"getInfo\", ee.ComputedObject.prototype.getInfo);\nee.ComputedObject.prototype.encode = function(encoder) {\n  if (this.isVariable()) {\n    return {type:\"ArgumentRef\", value:this.varName};\n  }\n  var encodedArgs = {}, name;\n  for (name in this.args) {\n    void 0 !== this.args[name] && (encodedArgs[name] = encoder(this.args[name]));\n  }\n  var result = {type:\"Invocation\", arguments:encodedArgs}, func = encoder(this.func);\n  result[\"string\" === typeof func ? \"functionName\" : \"function\"] = func;\n  return result;\n};\nee.ComputedObject.prototype.encodeCloudValue = function(serializer) {\n  if (this.isVariable()) {\n    var name = this.varName || serializer.unboundName;\n    if (!name) {\n      throw Error(\"A mapped function's arguments cannot be used in client-side operations\");\n    }\n    return ee.rpc_node.argumentReference(name);\n  }\n  var encodedArgs = {}, name$69;\n  for (name$69 in this.args) {\n    void 0 !== this.args[name$69] && (encodedArgs[name$69] = ee.rpc_node.reference(serializer.makeReference(this.args[name$69])));\n  }\n  return \"string\" === typeof this.func ? ee.rpc_node.functionByName(String(this.func), encodedArgs) : this.func.encodeCloudInvocation(serializer, encodedArgs);\n};\nee.ComputedObject.prototype.serialize = function(legacy) {\n  return (void 0 === legacy ? 0 : legacy) ? ee.Serializer.toJSON(this) : ee.Serializer.toCloudApiJSON(this);\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"serialize\", ee.ComputedObject.prototype.serialize);\nee.ComputedObject.prototype.toString = function() {\n  return \"ee.\" + this.name() + \"(\" + ee.Serializer.toReadableJSON(this) + \")\";\n};\ngoog.exportSymbol(\"ee.ComputedObject.prototype.toString\", ee.ComputedObject.prototype.toString);\nee.ComputedObject.prototype.isVariable = function() {\n  return null === this.func && null === this.args;\n};\nee.ComputedObject.prototype.name = function() {\n  return \"ComputedObject\";\n};\nee.ComputedObject.prototype.aside = function(func, var_args) {\n  var args = Array.from(arguments);\n  args[0] = this;\n  func.apply(goog.global, args);\n  return this;\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"aside\", ee.ComputedObject.prototype.aside);\nee.ComputedObject.prototype.castInternal = function(obj) {\n  if (obj instanceof this.constructor) {\n    return obj;\n  }\n  var klass = function() {\n  };\n  klass.prototype = this.constructor.prototype;\n  var result = new klass();\n  result.func = obj.func;\n  result.args = obj.args;\n  result.varName = obj.varName;\n  return result;\n};\nee.ComputedObject.construct = function(constructor, argsArray) {\n  function F() {\n    return constructor.apply(this, argsArray);\n  }\n  F.prototype = constructor.prototype;\n  return new F();\n};\nee.Types = {};\nee.Types.registeredClasses_ = {};\nee.Types.registerClasses = function(classes) {\n  ee.Types.registeredClasses_ = classes;\n};\nee.Types.nameToClass = function(name) {\n  return name in ee.Types.registeredClasses_ ? ee.Types.registeredClasses_[name] : null;\n};\nee.Types.classToName = function(klass) {\n  return klass.prototype instanceof ee.ComputedObject ? klass.prototype.name.call(null) : klass == Number ? \"Number\" : klass == String ? \"String\" : klass == Array ? \"Array\" : klass == Date ? \"Date\" : \"Object\";\n};\nee.Types.isSubtype = function(firstType, secondType) {\n  if (secondType == firstType) {\n    return !0;\n  }\n  switch(firstType) {\n    case \"Element\":\n      return \"Element\" == secondType || \"Image\" == secondType || \"Feature\" == secondType || \"Collection\" == secondType || \"ImageCollection\" == secondType || \"FeatureCollection\" == secondType;\n    case \"FeatureCollection\":\n    case \"Collection\":\n      return \"Collection\" == secondType || \"ImageCollection\" == secondType || \"FeatureCollection\" == secondType;\n    case \"Object\":\n      return !0;\n    default:\n      return !1;\n  }\n};\nee.Types.isNumber = function(obj) {\n  return \"number\" === typeof obj || obj instanceof ee.ComputedObject && \"Number\" == obj.name();\n};\nee.Types.isString = function(obj) {\n  return \"string\" === typeof obj || obj instanceof ee.ComputedObject && \"String\" == obj.name();\n};\nee.Types.isArray = function(obj) {\n  return Array.isArray(obj) || obj instanceof ee.ComputedObject && \"List\" == obj.name();\n};\nee.Types.isRegularObject = function(obj) {\n  if (goog.isObject(obj) && \"function\" !== typeof obj) {\n    var proto = Object.getPrototypeOf(obj);\n    return null !== proto && null === Object.getPrototypeOf(proto);\n  }\n  return !1;\n};\nee.Types.useKeywordArgs = function(args, signature, isInstance) {\n  isInstance = void 0 === isInstance ? !1 : isInstance;\n  if (1 === args.length && ee.Types.isRegularObject(args[0])) {\n    var formalArgs = signature.args;\n    isInstance && (formalArgs = formalArgs.slice(1));\n    if (formalArgs.length) {\n      return !(1 === formalArgs.length || formalArgs[1].optional) || \"Dictionary\" !== formalArgs[0].type;\n    }\n  }\n  return !1;\n};\nee.Function = function() {\n  if (!(this instanceof ee.Function)) {\n    return new ee.Function();\n  }\n};\ngoog.inherits(ee.Function, ee.Encodable);\ngoog.exportSymbol(\"ee.Function\", ee.Function);\nee.Function.promoter_ = goog.functions.identity;\nee.Function.registerPromoter = function(promoter) {\n  ee.Function.promoter_ = promoter;\n};\nee.Function.prototype.call = function(var_args) {\n  return this.apply(this.nameArgs(Array.prototype.slice.call(arguments, 0)));\n};\ngoog.exportProperty(ee.Function.prototype, \"call\", ee.Function.prototype.call);\nee.Function.prototype.apply = function(namedArgs) {\n  var result = new ee.ComputedObject(this, this.promoteArgs(namedArgs));\n  return ee.Function.promoter_(result, this.getReturnType());\n};\ngoog.exportProperty(ee.Function.prototype, \"apply\", ee.Function.prototype.apply);\nee.Function.prototype.callOrApply = function(thisValue, args) {\n  var isInstance = void 0 !== thisValue, signature = this.getSignature();\n  if (ee.Types.useKeywordArgs(args, signature, isInstance)) {\n    var namedArgs = module$contents$goog$object_clone(args[0]);\n    if (isInstance) {\n      var firstArgName = signature.args[0].name;\n      if (firstArgName in namedArgs) {\n        throw Error(\"Named args for \" + signature.name + \" can't contain keyword \" + firstArgName);\n      }\n      namedArgs[firstArgName] = thisValue;\n    }\n  } else {\n    namedArgs = this.nameArgs(isInstance ? [thisValue].concat(args) : args);\n  }\n  return this.apply(namedArgs);\n};\nee.Function.prototype.promoteArgs = function(args) {\n  for (var specs = this.getSignature().args, promotedArgs = {}, known = {}, i = 0; i < specs.length; i++) {\n    var name = specs[i].name;\n    if (name in args && void 0 !== args[name]) {\n      promotedArgs[name] = ee.Function.promoter_(args[name], specs[i].type);\n    } else {\n      if (!specs[i].optional) {\n        throw Error(\"Required argument (\" + name + \") missing to function: \" + this);\n      }\n    }\n    known[name] = !0;\n  }\n  var unknown = [], argName;\n  for (argName in args) {\n    known[argName] || unknown.push(argName);\n  }\n  if (0 < unknown.length) {\n    throw Error(\"Unrecognized arguments (\" + unknown + \") to function: \" + this);\n  }\n  return promotedArgs;\n};\nee.Function.prototype.nameArgs = function(args) {\n  var specs = this.getSignature().args;\n  if (specs.length < args.length) {\n    throw Error(\"Too many (\" + args.length + \") arguments to function: \" + this);\n  }\n  for (var namedArgs = {}, i = 0; i < args.length; i++) {\n    namedArgs[specs[i].name] = args[i];\n  }\n  return namedArgs;\n};\nee.Function.prototype.getReturnType = function() {\n  return this.getSignature().returns;\n};\nee.Function.prototype.toString = function(opt_name, opt_isInstance) {\n  var signature = this.getSignature(), buffer = [];\n  buffer.push(opt_name || signature.name);\n  buffer.push(\"(\");\n  buffer.push(module$contents$goog$array_map(signature.args.slice(opt_isInstance ? 1 : 0), function(elem) {\n    return elem.name;\n  }).join(\", \"));\n  buffer.push(\")\\n\");\n  buffer.push(\"\\n\");\n  signature.description ? buffer.push(signature.description) : buffer.push(\"Undocumented.\");\n  buffer.push(\"\\n\");\n  if (signature.args.length) {\n    buffer.push(\"\\nArgs:\\n\");\n    for (var i = 0; i < signature.args.length; i++) {\n      opt_isInstance && 0 == i ? buffer.push(\"  this:\") : buffer.push(\"\\n  \");\n      var arg = signature.args[i];\n      buffer.push(arg.name);\n      buffer.push(\" (\");\n      buffer.push(arg.type);\n      arg.optional && buffer.push(\", optional\");\n      buffer.push(\"): \");\n      arg.description ? buffer.push(arg.description) : buffer.push(\"Undocumented.\");\n    }\n  }\n  return buffer.join(\"\");\n};\nee.Function.prototype.serialize = function(legacy) {\n  return (void 0 === legacy ? 0 : legacy) ? ee.Serializer.toJSON(this) : ee.Serializer.toCloudApiJSON(this);\n};\nee.ApiFunction = function(name, opt_signature) {\n  if (void 0 === opt_signature) {\n    return ee.ApiFunction.lookup(name);\n  }\n  if (!(this instanceof ee.ApiFunction)) {\n    return ee.ComputedObject.construct(ee.ApiFunction, arguments);\n  }\n  this.signature_ = module$contents$goog$object_unsafeClone(opt_signature);\n  this.signature_.name = name;\n};\ngoog.inherits(ee.ApiFunction, ee.Function);\ngoog.exportSymbol(\"ee.ApiFunction\", ee.ApiFunction);\nee.ApiFunction._call = function(name, var_args) {\n  return ee.Function.prototype.call.apply(ee.ApiFunction.lookup(name), Array.prototype.slice.call(arguments, 1));\n};\ngoog.exportSymbol(\"ee.ApiFunction._call\", ee.ApiFunction._call);\nee.ApiFunction._apply = function(name, namedArgs) {\n  return ee.ApiFunction.lookup(name).apply(namedArgs);\n};\ngoog.exportSymbol(\"ee.ApiFunction._apply\", ee.ApiFunction._apply);\nee.ApiFunction.prototype.encode = function(encoder) {\n  return this.signature_.name;\n};\nee.ApiFunction.prototype.encodeCloudInvocation = function(serializer, args) {\n  return ee.rpc_node.functionByName(this.signature_.name, args);\n};\nee.ApiFunction.prototype.getSignature = function() {\n  return this.signature_;\n};\nee.ApiFunction.api_ = null;\nee.ApiFunction.boundSignatures_ = {};\nee.ApiFunction.allSignatures = function() {\n  ee.ApiFunction.initialize();\n  return module$contents$goog$object_map(ee.ApiFunction.api_, function(func) {\n    return func.getSignature();\n  });\n};\nee.ApiFunction.unboundFunctions = function() {\n  ee.ApiFunction.initialize();\n  return module$contents$goog$object_filter(ee.ApiFunction.api_, function(func, name) {\n    return !ee.ApiFunction.boundSignatures_[name];\n  });\n};\nee.ApiFunction.lookup = function(name) {\n  var func = ee.ApiFunction.lookupInternal(name);\n  if (!func) {\n    throw Error(\"Unknown built-in function name: \" + name);\n  }\n  return func;\n};\ngoog.exportSymbol(\"ee.ApiFunction.lookup\", ee.ApiFunction.lookup);\nee.ApiFunction.lookupInternal = function(name) {\n  ee.ApiFunction.initialize();\n  return ee.ApiFunction.api_[name] || null;\n};\nee.ApiFunction.initialize = function(opt_successCallback, opt_failureCallback) {\n  if (ee.ApiFunction.api_) {\n    opt_successCallback && opt_successCallback();\n  } else {\n    var callback = function(data, opt_error) {\n      opt_error ? opt_failureCallback && opt_failureCallback(Error(opt_error)) : (ee.ApiFunction.api_ = module$contents$goog$object_map(data, function(sig, name) {\n        sig.returns = sig.returns.replace(/<.*>/, \"\");\n        for (var i = 0; i < sig.args.length; i++) {\n          sig.args[i].type = sig.args[i].type.replace(/<.*>/, \"\");\n        }\n        return new ee.ApiFunction(name, sig);\n      }), opt_successCallback && opt_successCallback());\n    };\n    opt_successCallback ? ee.data.getAlgorithms(callback) : callback(ee.data.getAlgorithms());\n  }\n};\nee.ApiFunction.reset = function() {\n  ee.ApiFunction.api_ = null;\n  ee.ApiFunction.boundSignatures_ = {};\n};\nee.ApiFunction.importApi = function(target, prefix, typeName, opt_prepend) {\n  ee.ApiFunction.initialize();\n  var prepend = opt_prepend || \"\";\n  module$contents$goog$object_forEach(ee.ApiFunction.api_, function(apiFunc, name) {\n    var parts = name.split(\".\");\n    if (2 == parts.length && parts[0] == prefix) {\n      var fname = prepend + parts[1], signature = apiFunc.getSignature();\n      ee.ApiFunction.boundSignatures_[name] = !0;\n      var isInstance = !1;\n      if (signature.args.length) {\n        var firstArgType = signature.args[0].type;\n        isInstance = \"Object\" != firstArgType && ee.Types.isSubtype(firstArgType, typeName);\n      }\n      var destination = isInstance ? target.prototype : target;\n      fname in destination && !destination[fname].signature || (destination[fname] = function(var_args) {\n        return apiFunc.callOrApply(isInstance ? this : void 0, Array.prototype.slice.call(arguments, 0));\n      }, destination[fname].toString = goog.bind(apiFunc.toString, apiFunc, fname, isInstance), destination[fname].signature = signature);\n    }\n  });\n};\nee.ApiFunction.clearApi = function(target$jscomp$0) {\n  var clear = function(target) {\n    for (var name in target) {\n      \"function\" === typeof target[name] && target[name].signature && delete target[name];\n    }\n  };\n  clear(target$jscomp$0);\n  clear(target$jscomp$0.prototype || {});\n};\nee.arguments = {};\nee.arguments.extractFromFunction = function(fn, originalArgs) {\n  return ee.arguments.extractImpl_(fn, originalArgs, ee.arguments.JS_PARAM_DECL_MATCHER_FUNCTION_);\n};\nee.arguments.extractFromClassConstructor = function(fn, originalArgs) {\n  return ee.arguments.extractImpl_(fn, originalArgs, ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_CONSTRUCTOR_);\n};\nee.arguments.extractFromClassMethod = function(fn, originalArgs) {\n  return ee.arguments.extractImpl_(fn, originalArgs, ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_METHOD_);\n};\nee.arguments.extract = ee.arguments.extractFromFunction;\nee.arguments.extractImpl_ = function(fn, originalArgs, parameterMatcher) {\n  var paramNamesWithOptPrefix = ee.arguments.getParamNames_(fn, parameterMatcher), paramNames = module$contents$goog$array_map(paramNamesWithOptPrefix, function(param) {\n    return param.replace(/^opt_/, \"\");\n  }), fnName = ee.arguments.getFnName_(fn), fnNameSnippet = fnName ? \" to function \" + fnName : \"\", args = {}, firstArg = originalArgs[0], firstArgCouldBeDictionary = goog.isObject(firstArg) && \"function\" !== typeof firstArg && !Array.isArray(firstArg) && \"Object\" === Object.getPrototypeOf(firstArg).constructor.name;\n  if (1 < originalArgs.length || !firstArgCouldBeDictionary) {\n    if (originalArgs.length > paramNames.length) {\n      throw Error(\"Received too many arguments\" + fnNameSnippet + \". Expected at most \" + paramNames.length + \" but got \" + originalArgs.length + \".\");\n    }\n    for (var i = 0; i < originalArgs.length; i++) {\n      args[paramNames[i]] = originalArgs[i];\n    }\n  } else {\n    var seen = new goog.structs.Set(module$contents$goog$object_getKeys(firstArg)), expected = new goog.structs.Set(paramNames);\n    if (expected.intersection(seen).isEmpty()) {\n      args[paramNames[0]] = originalArgs[0];\n    } else {\n      var unexpected = seen.difference(expected);\n      if (0 !== unexpected.size) {\n        throw Error(\"Unexpected arguments\" + fnNameSnippet + \": \" + Array.from(unexpected.values()).join(\", \"));\n      }\n      args = module$contents$goog$object_clone(firstArg);\n    }\n  }\n  var provided = new goog.structs.Set(module$contents$goog$object_getKeys(args)), missing = (new goog.structs.Set(module$contents$goog$array_filter(paramNamesWithOptPrefix, function(param) {\n    return !goog.string.startsWith(param, \"opt_\");\n  }))).difference(provided);\n  if (0 !== missing.size) {\n    throw Error(\"Missing required arguments\" + fnNameSnippet + \": \" + Array.from(missing.values()).join(\", \"));\n  }\n  return args;\n};\nee.arguments.getParamNames_ = function(fn, parameterMatcher) {\n  var paramNames = [];\n  if (goog.global.EXPORTED_FN_INFO) {\n    var exportedFnInfo = goog.global.EXPORTED_FN_INFO[fn.toString()];\n    goog.isObject(exportedFnInfo) || ee.arguments.throwMatchFailedError_();\n    paramNames = exportedFnInfo.paramNames;\n    Array.isArray(paramNames) || ee.arguments.throwMatchFailedError_();\n  } else {\n    var fnMatchResult = fn.toString().replace(ee.arguments.JS_COMMENT_MATCHER_, \"\").match(parameterMatcher);\n    null === fnMatchResult && ee.arguments.throwMatchFailedError_();\n    paramNames = (fnMatchResult[1].split(\",\") || []).map(function(p) {\n      return p.replace(ee.arguments.JS_PARAM_DEFAULT_MATCHER_, \"\");\n    });\n  }\n  return paramNames;\n};\nee.arguments.getFnName_ = function(fn) {\n  return goog.global.EXPORTED_FN_INFO ? goog.global.EXPORTED_FN_INFO[fn.toString()].name.split(\".\").pop() + \"()\" : null;\n};\nee.arguments.throwMatchFailedError_ = function() {\n  throw Error(\"Failed to locate function parameters.\");\n};\nee.arguments.JS_COMMENT_MATCHER_ = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/)|(\\s))/mg;\nee.arguments.JS_PARAM_DECL_MATCHER_FUNCTION_ = /^function[^\\(]*\\(([^\\)]*)\\)/m;\nee.arguments.JS_PARAM_DECL_MATCHER_CLASS_CONSTRUCTOR_ = /^class[^\\{]*{\\S*?\\bconstructor\\(([^\\)]*)\\)/m;\nee.arguments.JS_PARAM_DECL_MATCHER_CLASS_METHOD_ = /[^\\(]*\\(([^\\)]*)\\)/m;\nee.arguments.JS_PARAM_DEFAULT_MATCHER_ = /=.*$/;\nee.Element = function(func, args, opt_varName) {\n  ee.ComputedObject.call(this, func, args, opt_varName);\n  ee.Element.initialize();\n};\ngoog.inherits(ee.Element, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Element\", ee.Element);\nee.Element.initialized_ = !1;\nee.Element.initialize = function() {\n  ee.Element.initialized_ || (ee.ApiFunction.importApi(ee.Element, \"Element\", \"Element\"), ee.Element.initialized_ = !0);\n};\nee.Element.reset = function() {\n  ee.ApiFunction.clearApi(ee.Element);\n  ee.Element.initialized_ = !1;\n};\nee.Element.prototype.name = function() {\n  return \"Element\";\n};\nee.Element.prototype.set = function(var_args) {\n  if (1 >= arguments.length) {\n    var properties = arguments[0];\n    ee.Types.isRegularObject(properties) && module$contents$goog$array_equals(module$contents$goog$object_getKeys(properties), [\"properties\"]) && goog.isObject(properties.properties) && (properties = properties.properties);\n    if (ee.Types.isRegularObject(properties)) {\n      var result = this;\n      for (var key in properties) {\n        var value = properties[key];\n        result = ee.ApiFunction._call(\"Element.set\", result, key, value);\n      }\n    } else {\n      if (properties instanceof ee.ComputedObject && ee.ApiFunction.lookupInternal(\"Element.setMulti\")) {\n        result = ee.ApiFunction._call(\"Element.setMulti\", this, properties);\n      } else {\n        throw Error(\"When Element.set() is passed one argument, it must be a dictionary.\");\n      }\n    }\n  } else {\n    if (0 != arguments.length % 2) {\n      throw Error(\"When Element.set() is passed multiple arguments, there must be an even number of them.\");\n    }\n    result = this;\n    for (var i = 0; i < arguments.length; i += 2) {\n      key = arguments[i], value = arguments[i + 1], result = ee.ApiFunction._call(\"Element.set\", result, key, value);\n    }\n  }\n  return this.castInternal(result);\n};\ngoog.exportProperty(ee.Element.prototype, \"set\", ee.Element.prototype.set);\nee.Geometry = function(geoJson, opt_proj, opt_geodesic, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry)) {\n    return ee.ComputedObject.construct(ee.Geometry, arguments);\n  }\n  if (!(\"type\" in geoJson)) {\n    var args = ee.arguments.extractFromFunction(ee.Geometry, arguments);\n    geoJson = args.geoJson;\n    opt_proj = args.proj;\n    opt_geodesic = args.geodesic;\n    opt_evenOdd = args.evenOdd;\n  }\n  ee.Geometry.initialize();\n  var options = null != opt_proj || null != opt_geodesic || null != opt_evenOdd;\n  if (geoJson instanceof ee.ComputedObject && !(geoJson instanceof ee.Geometry && geoJson.type_)) {\n    if (options) {\n      throw Error(\"Setting the CRS, geodesic, or evenOdd flag on a computed Geometry is not supported.  Use Geometry.transform().\");\n    }\n    ee.ComputedObject.call(this, geoJson.func, geoJson.args, geoJson.varName);\n  } else {\n    geoJson instanceof ee.Geometry && (geoJson = geoJson.encode());\n    if (!ee.Geometry.isValidGeometry_(geoJson)) {\n      throw Error(\"Invalid GeoJSON geometry: \" + JSON.stringify(geoJson));\n    }\n    ee.ComputedObject.call(this, null, null);\n    this.type_ = geoJson.type;\n    this.coordinates_ = null != geoJson.coordinates ? module$contents$goog$object_unsafeClone(geoJson.coordinates) : null;\n    this.geometries_ = geoJson.geometries || null;\n    if (null != opt_proj) {\n      this.proj_ = opt_proj;\n    } else {\n      if (\"crs\" in geoJson) {\n        if (goog.isObject(geoJson.crs) && \"name\" == geoJson.crs.type && goog.isObject(geoJson.crs.properties) && \"string\" === typeof geoJson.crs.properties.name) {\n          this.proj_ = geoJson.crs.properties.name;\n        } else {\n          throw Error(\"Invalid CRS declaration in GeoJSON: \" + (new goog.json.Serializer()).serialize(geoJson.crs));\n        }\n      }\n    }\n    this.geodesic_ = opt_geodesic;\n    void 0 === this.geodesic_ && \"geodesic\" in geoJson && (this.geodesic_ = !!geoJson.geodesic);\n    this.evenOdd_ = opt_evenOdd;\n    void 0 === this.evenOdd_ && \"evenOdd\" in geoJson && (this.evenOdd_ = !!geoJson.evenOdd);\n  }\n};\ngoog.inherits(ee.Geometry, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Geometry\", ee.Geometry);\nee.Geometry.initialized_ = !1;\nee.Geometry.initialize = function() {\n  ee.Geometry.initialized_ || (ee.ApiFunction.importApi(ee.Geometry, \"Geometry\", \"Geometry\"), ee.Geometry.initialized_ = !0);\n};\nee.Geometry.reset = function() {\n  ee.ApiFunction.clearApi(ee.Geometry);\n  ee.Geometry.initialized_ = !1;\n};\nee.Geometry.Point = function(coords, opt_proj) {\n  if (!(this instanceof ee.Geometry.Point)) {\n    return ee.Geometry.createInstance_(ee.Geometry.Point, arguments);\n  }\n  var init = ee.Geometry.construct_(ee.Geometry.Point, \"Point\", 1, arguments);\n  if (!(init instanceof ee.ComputedObject)) {\n    var xy = init.coordinates;\n    if (!Array.isArray(xy) || 2 != xy.length) {\n      throw Error(\"The Geometry.Point constructor requires 2 coordinates.\");\n    }\n  }\n  ee.Geometry.call(this, init);\n};\ngoog.inherits(ee.Geometry.Point, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"Point\", ee.Geometry.Point);\nee.Geometry.MultiPoint = function(coords, opt_proj) {\n  if (!(this instanceof ee.Geometry.MultiPoint)) {\n    return ee.Geometry.createInstance_(ee.Geometry.MultiPoint, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiPoint, \"MultiPoint\", 2, arguments));\n};\ngoog.inherits(ee.Geometry.MultiPoint, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"MultiPoint\", ee.Geometry.MultiPoint);\nee.Geometry.Rectangle = function(coords, opt_proj, opt_geodesic, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry.Rectangle)) {\n    return ee.Geometry.createInstance_(ee.Geometry.Rectangle, arguments);\n  }\n  var init = ee.Geometry.construct_(ee.Geometry.Rectangle, \"Rectangle\", 2, arguments);\n  if (!(init instanceof ee.ComputedObject)) {\n    var xy = init.coordinates;\n    if (2 != xy.length) {\n      throw Error(\"The Geometry.Rectangle constructor requires 2 points or 4 coordinates.\");\n    }\n    var x1 = xy[0][0], y1 = xy[0][1], x2 = xy[1][0], y2 = xy[1][1];\n    init.coordinates = [[[x1, y2], [x1, y1], [x2, y1], [x2, y2]]];\n    init.type = \"Polygon\";\n  }\n  ee.Geometry.call(this, init);\n};\ngoog.inherits(ee.Geometry.Rectangle, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"Rectangle\", ee.Geometry.Rectangle);\nee.Geometry.BBox = function(west, south, east, north) {\n  if (!(this instanceof ee.Geometry.BBox)) {\n    return ee.Geometry.createInstance_(ee.Geometry.BBox, arguments);\n  }\n  var coordinates = [west, south, east, north];\n  if (ee.Geometry.hasServerValue_(coordinates)) {\n    return (new ee.ApiFunction(\"GeometryConstructors.BBox\")).apply(coordinates);\n  }\n  if (!(Infinity > west)) {\n    throw Error(\"Geometry.BBox: west must not be \" + west);\n  }\n  if (!(-Infinity < east)) {\n    throw Error(\"Geometry.BBox: east must not be \" + east);\n  }\n  if (!(90 >= south)) {\n    throw Error(\"Geometry.BBox: south must be at most +90\\u00b0, but was \" + south + \"\\u00b0\");\n  }\n  if (!(-90 <= north)) {\n    throw Error(\"Geometry.BBox: north must be at least -90\\u00b0, but was \" + north + \"\\u00b0\");\n  }\n  south = Math.max(south, -90);\n  north = Math.min(north, 90);\n  360 <= east - west ? (west = -180, east = 180) : (west = ee.Geometry.canonicalizeLongitude_(west), east = ee.Geometry.canonicalizeLongitude_(east), east < west && (east += 360));\n  ee.Geometry.call(this, {type:\"Polygon\", coordinates:[[[west, north], [west, south], [east, south], [east, north]]],}, void 0, !1, !0);\n};\ngoog.inherits(ee.Geometry.BBox, ee.Geometry.Rectangle);\ngoog.exportProperty(ee.Geometry, \"BBox\", ee.Geometry.BBox);\nee.Geometry.canonicalizeLongitude_ = function(longitude) {\n  longitude %= 360;\n  180 < longitude ? longitude -= 360 : -180 > longitude && (longitude += 360);\n  return longitude;\n};\nee.Geometry.LineString = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n  if (!(this instanceof ee.Geometry.LineString)) {\n    return ee.Geometry.createInstance_(ee.Geometry.LineString, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.LineString, \"LineString\", 2, arguments));\n};\ngoog.inherits(ee.Geometry.LineString, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"LineString\", ee.Geometry.LineString);\nee.Geometry.LinearRing = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n  if (!(this instanceof ee.Geometry.LinearRing)) {\n    return ee.Geometry.createInstance_(ee.Geometry.LinearRing, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.LinearRing, \"LinearRing\", 2, arguments));\n};\ngoog.inherits(ee.Geometry.LinearRing, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"LinearRing\", ee.Geometry.LinearRing);\nee.Geometry.MultiLineString = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n  if (!(this instanceof ee.Geometry.MultiLineString)) {\n    return ee.Geometry.createInstance_(ee.Geometry.MultiLineString, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiLineString, \"MultiLineString\", 3, arguments));\n};\ngoog.inherits(ee.Geometry.MultiLineString, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"MultiLineString\", ee.Geometry.MultiLineString);\nee.Geometry.Polygon = function(coords, opt_proj, opt_geodesic, opt_maxError, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry.Polygon)) {\n    return ee.Geometry.createInstance_(ee.Geometry.Polygon, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.Polygon, \"Polygon\", 3, arguments));\n};\ngoog.inherits(ee.Geometry.Polygon, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"Polygon\", ee.Geometry.Polygon);\nee.Geometry.MultiPolygon = function(coords, opt_proj, opt_geodesic, opt_maxError, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry.MultiPolygon)) {\n    return ee.Geometry.createInstance_(ee.Geometry.MultiPolygon, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiPolygon, \"MultiPolygon\", 4, arguments));\n};\ngoog.inherits(ee.Geometry.MultiPolygon, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"MultiPolygon\", ee.Geometry.MultiPolygon);\nee.Geometry.prototype.encode = function(opt_encoder) {\n  if (!this.type_) {\n    if (!opt_encoder) {\n      throw Error(\"Must specify an encode function when encoding a computed geometry.\");\n    }\n    return ee.ComputedObject.prototype.encode.call(this, opt_encoder);\n  }\n  var result = {type:this.type_};\n  \"GeometryCollection\" == this.type_ ? result.geometries = this.geometries_ : result.coordinates = this.coordinates_;\n  null != this.proj_ && (result.crs = {type:\"name\", properties:{name:this.proj_}});\n  null != this.geodesic_ && (result.geodesic = this.geodesic_);\n  null != this.evenOdd_ && (result.evenOdd = this.evenOdd_);\n  return result;\n};\nee.Geometry.prototype.toGeoJSON = function() {\n  if (this.func) {\n    throw Error(\"Can't convert a computed Geometry to GeoJSON. Use evaluate() instead.\");\n  }\n  return this.encode();\n};\ngoog.exportProperty(ee.Geometry.prototype, \"toGeoJSON\", ee.Geometry.prototype.toGeoJSON);\nee.Geometry.prototype.toGeoJSONString = function() {\n  if (this.func) {\n    throw Error(\"Can't convert a computed Geometry to GeoJSON. Use evaluate() instead.\");\n  }\n  return (new goog.json.Serializer()).serialize(this.toGeoJSON());\n};\ngoog.exportProperty(ee.Geometry.prototype, \"toGeoJSONString\", ee.Geometry.prototype.toGeoJSONString);\nee.Geometry.prototype.serialize = function(legacy) {\n  return (void 0 === legacy ? 0 : legacy) ? ee.Serializer.toJSON(this) : ee.Serializer.toCloudApiJSON(this);\n};\ngoog.exportProperty(ee.Geometry.prototype, \"serialize\", ee.Geometry.prototype.serialize);\nee.Geometry.prototype.toString = function() {\n  return \"ee.Geometry(\" + this.toGeoJSONString() + \")\";\n};\nee.Geometry.prototype.encodeCloudValue = function(serializer) {\n  if (!this.type_) {\n    if (!serializer) {\n      throw Error(\"Must specify a serializer when encoding a computed geometry.\");\n    }\n    return ee.ComputedObject.prototype.encodeCloudValue.call(this, serializer);\n  }\n  var args = {}, func = \"\";\n  \"GeometryCollection\" === this.type_ ? (args.geometries = this.geometries_.map(function(geometry) {\n    return new ee.Geometry(geometry);\n  }), func = \"GeometryConstructors.MultiGeometry\") : (args.coordinates = this.coordinates_, func = \"GeometryConstructors.\" + this.type_);\n  null != this.proj_ && (args.crs = \"string\" === typeof this.proj_ ? (new ee.ApiFunction(\"Projection\")).call(this.proj_) : this.proj_);\n  var acceptsGeodesicArg = \"Point\" !== this.type_ && \"MultiPoint\" !== this.type_;\n  null != this.geodesic_ && acceptsGeodesicArg && (args.geodesic = this.geodesic_);\n  null != this.evenOdd_ && (args.evenOdd = this.evenOdd_);\n  return (new ee.ApiFunction(func)).apply(args).encodeCloudValue(serializer);\n};\nee.Geometry.isValidGeometry_ = function(geometry) {\n  var type = geometry.type;\n  if (\"GeometryCollection\" == type) {\n    var geometries = geometry.geometries;\n    if (!Array.isArray(geometries)) {\n      return !1;\n    }\n    for (var i = 0; i < geometries.length; i++) {\n      if (!ee.Geometry.isValidGeometry_(geometries[i])) {\n        return !1;\n      }\n    }\n    return !0;\n  }\n  var coords = geometry.coordinates, nesting = ee.Geometry.isValidCoordinates_(coords);\n  return \"Point\" == type && 1 == nesting || \"MultiPoint\" == type && (2 == nesting || 0 == coords.length) || \"LineString\" == type && 2 == nesting || \"LinearRing\" == type && 2 == nesting || \"MultiLineString\" == type && (3 == nesting || 0 == coords.length) || \"Polygon\" == type && 3 == nesting || \"MultiPolygon\" == type && (4 == nesting || 0 == coords.length);\n};\nee.Geometry.isValidCoordinates_ = function(shape) {\n  if (!Array.isArray(shape)) {\n    return -1;\n  }\n  if (Array.isArray(shape[0])) {\n    for (var count = ee.Geometry.isValidCoordinates_(shape[0]), i = 1; i < shape.length; i++) {\n      if (ee.Geometry.isValidCoordinates_(shape[i]) != count) {\n        return -1;\n      }\n    }\n    return count + 1;\n  }\n  for (i = 0; i < shape.length; i++) {\n    if (\"number\" !== typeof shape[i]) {\n      return -1;\n    }\n  }\n  return 0 == shape.length % 2 ? 1 : -1;\n};\nee.Geometry.coordinatesToLine_ = function(coordinates) {\n  if (\"number\" !== typeof coordinates[0] || 2 == coordinates.length) {\n    return coordinates;\n  }\n  if (0 != coordinates.length % 2) {\n    throw Error(\"Invalid number of coordinates: \" + coordinates.length);\n  }\n  for (var line = [], i = 0; i < coordinates.length; i += 2) {\n    line.push([coordinates[i], coordinates[i + 1]]);\n  }\n  return line;\n};\nee.Geometry.construct_ = function(jsConstructorFn, apiConstructorName, depth, originalArgs) {\n  var eeArgs = ee.Geometry.getEeApiArgs_(jsConstructorFn, originalArgs);\n  if (ee.Geometry.hasServerValue_(eeArgs.coordinates) || null != eeArgs.crs || null != eeArgs.maxError) {\n    return (new ee.ApiFunction(\"GeometryConstructors.\" + apiConstructorName)).apply(eeArgs);\n  }\n  eeArgs.type = apiConstructorName;\n  eeArgs.coordinates = ee.Geometry.fixDepth_(depth, eeArgs.coordinates);\n  var isPolygon = module$contents$goog$array_contains([\"Polygon\", \"Rectangle\", \"MultiPolygon\"], apiConstructorName);\n  isPolygon && null == eeArgs.evenOdd && (eeArgs.evenOdd = !0);\n  if (isPolygon && !1 === eeArgs.geodesic && !1 === eeArgs.evenOdd) {\n    throw Error(\"Planar interiors must be even/odd.\");\n  }\n  return eeArgs;\n};\nee.Geometry.getEeApiArgs_ = function(jsConstructorFn, originalArgs) {\n  if (module$contents$goog$array_every(originalArgs, ee.Types.isNumber)) {\n    return {coordinates:module$contents$goog$array_toArray(originalArgs)};\n  }\n  var args = ee.arguments.extractFromFunction(jsConstructorFn, originalArgs);\n  args.coordinates = args.coords;\n  delete args.coords;\n  args.crs = args.proj;\n  delete args.proj;\n  return module$contents$goog$object_filter(args, function(x) {\n    return null != x;\n  });\n};\nee.Geometry.hasServerValue_ = function(coordinates) {\n  return Array.isArray(coordinates) ? module$contents$goog$array_some(coordinates, ee.Geometry.hasServerValue_) : coordinates instanceof ee.ComputedObject;\n};\nee.Geometry.fixDepth_ = function(depth, coords) {\n  if (1 > depth || 4 < depth) {\n    throw Error(\"Unexpected nesting level.\");\n  }\n  module$contents$goog$array_every(coords, function(x) {\n    return \"number\" === typeof x;\n  }) && (coords = ee.Geometry.coordinatesToLine_(coords));\n  for (var item = coords, count = 0; Array.isArray(item);) {\n    item = item[0], count++;\n  }\n  for (; count < depth;) {\n    coords = [coords], count++;\n  }\n  if (ee.Geometry.isValidCoordinates_(coords) != depth) {\n    throw Error(\"Invalid geometry\");\n  }\n  for (item = coords; Array.isArray(item) && 1 == item.length;) {\n    item = item[0];\n  }\n  return Array.isArray(item) && 0 == item.length ? [] : coords;\n};\nee.Geometry.createInstance_ = function(klass, args) {\n  var f = function() {\n  };\n  f.prototype = klass.prototype;\n  var instance = new f(), result = klass.apply(instance, args);\n  return void 0 !== result ? result : instance;\n};\nee.Geometry.prototype.name = function() {\n  return \"Geometry\";\n};\nee.Filter = function(opt_filter) {\n  if (!(this instanceof ee.Filter)) {\n    return ee.ComputedObject.construct(ee.Filter, arguments);\n  }\n  if (opt_filter instanceof ee.Filter) {\n    return opt_filter;\n  }\n  ee.Filter.initialize();\n  if (Array.isArray(opt_filter)) {\n    if (0 == opt_filter.length) {\n      throw Error(\"Empty list specified for ee.Filter().\");\n    }\n    if (1 == opt_filter.length) {\n      return new ee.Filter(opt_filter[0]);\n    }\n    ee.ComputedObject.call(this, new ee.ApiFunction(\"Filter.and\"), {filters:opt_filter});\n    this.filter_ = opt_filter;\n  } else {\n    if (opt_filter instanceof ee.ComputedObject) {\n      ee.ComputedObject.call(this, opt_filter.func, opt_filter.args, opt_filter.varName), this.filter_ = [opt_filter];\n    } else {\n      if (void 0 === opt_filter) {\n        ee.ComputedObject.call(this, null, null), this.filter_ = [];\n      } else {\n        throw Error(\"Invalid argument specified for ee.Filter(): \" + opt_filter);\n      }\n    }\n  }\n};\ngoog.inherits(ee.Filter, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Filter\", ee.Filter);\nee.Filter.initialized_ = !1;\nee.Filter.initialize = function() {\n  ee.Filter.initialized_ || (ee.ApiFunction.importApi(ee.Filter, \"Filter\", \"Filter\"), ee.Filter.initialized_ = !0);\n};\nee.Filter.reset = function() {\n  ee.ApiFunction.clearApi(ee.Filter);\n  ee.Filter.initialized_ = !1;\n};\nee.Filter.functionNames_ = {equals:\"equals\", less_than:\"lessThan\", greater_than:\"greaterThan\", contains:\"stringContains\", starts_with:\"stringStartsWith\", ends_with:\"stringEndsWith\"};\nee.Filter.prototype.append_ = function(newFilter) {\n  var prev = this.filter_.slice(0);\n  newFilter instanceof ee.Filter ? module$contents$goog$array_extend(prev, newFilter.filter_) : newFilter instanceof Array ? module$contents$goog$array_extend(prev, newFilter) : prev.push(newFilter);\n  return new ee.Filter(prev);\n};\nee.Filter.prototype.not = function() {\n  return ee.ApiFunction._call(\"Filter.not\", this);\n};\ngoog.exportProperty(ee.Filter.prototype, \"not\", ee.Filter.prototype.not);\nee.Filter.eq = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.eq, arguments);\n  return ee.ApiFunction._call(\"Filter.equals\", args.name, args.value);\n};\ngoog.exportProperty(ee.Filter, \"eq\", ee.Filter.eq);\nee.Filter.neq = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.neq, arguments);\n  return ee.Filter.eq(args.name, args.value).not();\n};\ngoog.exportProperty(ee.Filter, \"neq\", ee.Filter.neq);\nee.Filter.lt = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.lt, arguments);\n  return ee.ApiFunction._call(\"Filter.lessThan\", args.name, args.value);\n};\ngoog.exportProperty(ee.Filter, \"lt\", ee.Filter.lt);\nee.Filter.gte = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.gte, arguments);\n  return ee.Filter.lt(args.name, args.value).not();\n};\ngoog.exportProperty(ee.Filter, \"gte\", ee.Filter.gte);\nee.Filter.gt = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.gt, arguments);\n  return ee.ApiFunction._call(\"Filter.greaterThan\", args.name, args.value);\n};\ngoog.exportProperty(ee.Filter, \"gt\", ee.Filter.gt);\nee.Filter.lte = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.lte, arguments);\n  return ee.Filter.gt(args.name, args.value).not();\n};\ngoog.exportProperty(ee.Filter, \"lte\", ee.Filter.lte);\nee.Filter.and = function(var_args) {\n  var args = Array.prototype.slice.call(arguments);\n  return ee.ApiFunction._call(\"Filter.and\", args);\n};\ngoog.exportProperty(ee.Filter, \"and\", ee.Filter.and);\nee.Filter.or = function(var_args) {\n  var args = Array.prototype.slice.call(arguments);\n  return ee.ApiFunction._call(\"Filter.or\", args);\n};\ngoog.exportProperty(ee.Filter, \"or\", ee.Filter.or);\nee.Filter.date = function(start, opt_end) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.date, arguments), range = ee.ApiFunction._call(\"DateRange\", args.start, args.end);\n  return ee.ApiFunction._apply(\"Filter.dateRangeContains\", {leftValue:range, rightField:\"system:time_start\"});\n};\ngoog.exportProperty(ee.Filter, \"date\", ee.Filter.date);\nee.Filter.inList = function(opt_leftField, opt_rightValue, opt_rightField, opt_leftValue) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.inList, arguments);\n  return ee.ApiFunction._apply(\"Filter.listContains\", {leftField:args.rightField, rightValue:args.leftValue, rightField:args.leftField, leftValue:args.rightValue});\n};\ngoog.exportProperty(ee.Filter, \"inList\", ee.Filter.inList);\nee.Filter.bounds = function(geometry, opt_errorMargin) {\n  return ee.ApiFunction._apply(\"Filter.intersects\", {leftField:\".all\", rightValue:ee.ApiFunction._call(\"Feature\", geometry), maxError:opt_errorMargin});\n};\ngoog.exportProperty(ee.Filter, \"bounds\", ee.Filter.bounds);\nee.Filter.prototype.name = function() {\n  return \"Filter\";\n};\nee.Filter.metadata = function(name, operator, value) {\n  operator = operator.toLowerCase();\n  var negated = !1;\n  goog.string.startsWith(operator, \"not_\") && (negated = !0, operator = operator.substring(4));\n  if (!(operator in ee.Filter.functionNames_)) {\n    throw Error(\"Unknown filtering operator: \" + operator);\n  }\n  var filter = ee.ApiFunction._call(\"Filter.\" + ee.Filter.functionNames_[operator], name, value);\n  return negated ? filter.not() : filter;\n};\ngoog.exportProperty(ee.Filter, \"metadata\", ee.Filter.metadata);\nee.Collection = function(func, args, opt_varName) {\n  ee.Element.call(this, func, args, opt_varName);\n  ee.Collection.initialize();\n};\ngoog.inherits(ee.Collection, ee.Element);\ngoog.exportSymbol(\"ee.Collection\", ee.Collection);\nee.Collection.initialized_ = !1;\nee.Collection.initialize = function() {\n  ee.Collection.initialized_ || (ee.ApiFunction.importApi(ee.Collection, \"Collection\", \"Collection\"), ee.ApiFunction.importApi(ee.Collection, \"AggregateFeatureCollection\", \"Collection\", \"aggregate_\"), ee.Collection.initialized_ = !0);\n};\nee.Collection.reset = function() {\n  ee.ApiFunction.clearApi(ee.Collection);\n  ee.Collection.initialized_ = !1;\n};\nee.Collection.prototype.filter = function(filter) {\n  filter = ee.arguments.extractFromFunction(ee.Collection.prototype.filter, arguments).filter;\n  if (!filter) {\n    throw Error(\"Empty filters.\");\n  }\n  return this.castInternal(ee.ApiFunction._call(\"Collection.filter\", this, filter));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filter\", ee.Collection.prototype.filter);\nee.Collection.prototype.filterMetadata = function(name, operator, value) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.filterMetadata, arguments);\n  return this.filter(ee.Filter.metadata(args.name, args.operator, args.value));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filterMetadata\", ee.Collection.prototype.filterMetadata);\nee.Collection.prototype.filterBounds = function(geometry) {\n  return this.filter(ee.Filter.bounds(geometry));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filterBounds\", ee.Collection.prototype.filterBounds);\nee.Collection.prototype.filterDate = function(start, opt_end) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.filterDate, arguments);\n  return this.filter(ee.Filter.date(args.start, args.end));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filterDate\", ee.Collection.prototype.filterDate);\nee.Collection.prototype.limit = function(max, opt_property, opt_ascending) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.limit, arguments);\n  return this.castInternal(ee.ApiFunction._call(\"Collection.limit\", this, args.max, args.property, args.ascending));\n};\ngoog.exportProperty(ee.Collection.prototype, \"limit\", ee.Collection.prototype.limit);\nee.Collection.prototype.sort = function(property, opt_ascending) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.sort, arguments);\n  return this.castInternal(ee.ApiFunction._call(\"Collection.limit\", this, void 0, args.property, args.ascending));\n};\ngoog.exportProperty(ee.Collection.prototype, \"sort\", ee.Collection.prototype.sort);\nee.Collection.prototype.name = function() {\n  return \"Collection\";\n};\nee.Collection.prototype.elementType = function() {\n  return ee.Element;\n};\nee.Collection.prototype.map = function(algorithm, opt_dropNulls) {\n  var elementType = this.elementType();\n  return this.castInternal(ee.ApiFunction._call(\"Collection.map\", this, function(e) {\n    return algorithm(new elementType(e));\n  }, opt_dropNulls));\n};\ngoog.exportProperty(ee.Collection.prototype, \"map\", ee.Collection.prototype.map);\nee.Collection.prototype.iterate = function(algorithm, opt_first) {\n  var first = void 0 !== opt_first ? opt_first : null, elementType = this.elementType();\n  return ee.ApiFunction._call(\"Collection.iterate\", this, function(e, p) {\n    return algorithm(new elementType(e), p);\n  }, first);\n};\ngoog.exportProperty(ee.Collection.prototype, \"iterate\", ee.Collection.prototype.iterate);\nee.Feature = function(geometry, opt_properties) {\n  if (!(this instanceof ee.Feature)) {\n    return ee.ComputedObject.construct(ee.Feature, arguments);\n  }\n  if (geometry instanceof ee.Feature) {\n    if (opt_properties) {\n      throw Error(\"Can't create Feature out of a Feature and properties.\");\n    }\n    return geometry;\n  }\n  if (2 < arguments.length) {\n    throw Error(\"The Feature constructor takes at most 2 arguments (\" + arguments.length + \" given)\");\n  }\n  ee.Feature.initialize();\n  if (geometry instanceof ee.Geometry || null === geometry) {\n    ee.Element.call(this, new ee.ApiFunction(\"Feature\"), {geometry:geometry, metadata:opt_properties || null});\n  } else {\n    if (geometry instanceof ee.ComputedObject) {\n      ee.Element.call(this, geometry.func, geometry.args, geometry.varName);\n    } else {\n      if (\"Feature\" == geometry.type) {\n        var properties = geometry.properties || {};\n        if (\"id\" in geometry) {\n          if (\"system:index\" in properties) {\n            throw Error('Can\\'t specify both \"id\" and \"system:index\".');\n          }\n          properties = module$contents$goog$object_clone(properties);\n          properties[\"system:index\"] = geometry.id;\n        }\n        ee.Element.call(this, new ee.ApiFunction(\"Feature\"), {geometry:new ee.Geometry(geometry.geometry), metadata:properties});\n      } else {\n        ee.Element.call(this, new ee.ApiFunction(\"Feature\"), {geometry:new ee.Geometry(geometry), metadata:opt_properties || null});\n      }\n    }\n  }\n};\ngoog.inherits(ee.Feature, ee.Element);\ngoog.exportSymbol(\"ee.Feature\", ee.Feature);\nee.Feature.initialized_ = !1;\nee.Feature.initialize = function() {\n  ee.Feature.initialized_ || (ee.ApiFunction.importApi(ee.Feature, \"Feature\", \"Feature\"), ee.Feature.initialized_ = !0);\n};\nee.Feature.reset = function() {\n  ee.ApiFunction.clearApi(ee.Feature);\n  ee.Feature.initialized_ = !1;\n};\nee.Feature.prototype.getInfo = function(opt_callback) {\n  return ee.Feature.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.Feature.prototype, \"getInfo\", ee.Feature.prototype.getInfo);\nee.Feature.prototype.getMap = function(opt_visParams, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Feature.prototype.getMap, arguments);\n  return ee.ApiFunction._call(\"Collection\", [this]).getMap(args.visParams, args.callback);\n};\ngoog.exportProperty(ee.Feature.prototype, \"getMap\", ee.Feature.prototype.getMap);\nee.Feature.prototype.name = function() {\n  return \"Feature\";\n};\nee.data.images = {};\nee.data.images.applyTransformsToImage = function(taskConfig) {\n  var resultParams = {}, image = ee.data.images.applyCrsAndTransform(taskConfig.element, taskConfig);\n  image = ee.data.images.applySelectionAndScale(image, taskConfig, resultParams);\n  resultParams.element = image;\n  return resultParams;\n};\nee.data.images.applyTransformsToCollection = function(taskConfig) {\n  var resultParams = {}, collection = taskConfig.element.map(function(image) {\n    var projected = ee.data.images.applyCrsAndTransform(image, taskConfig);\n    return ee.data.images.applySelectionAndScale(projected, taskConfig, resultParams);\n  });\n  resultParams.element = collection;\n  return resultParams;\n};\nee.data.images.applySelectionAndScale = function(image, params, outParams) {\n  var clipParams = {}, dimensions_consumed = !1, SCALING_KEYS = [\"maxDimension\", \"width\", \"height\", \"scale\"];\n  module$contents$goog$object_forEach(params, function(value, key) {\n    if (null != value) {\n      switch(key) {\n        case \"dimensions\":\n          var dims = \"string\" === typeof value ? value.split(\"x\").map(Number) : Array.isArray(value) ? value : \"number\" === typeof value ? [value] : [];\n          if (1 === dims.length) {\n            clipParams.maxDimension = dims[0];\n          } else {\n            if (2 === dims.length) {\n              clipParams.width = dims[0], clipParams.height = dims[1];\n            } else {\n              throw Error(\"Invalid dimensions \" + value);\n            }\n          }\n          break;\n        case \"dimensions_consumed\":\n          dimensions_consumed = !0;\n          break;\n        case \"bbox\":\n          null != clipParams.geometry && console.warn(\"Multiple request parameters converted to region.\");\n          clipParams.geometry = ee.data.images.bboxToGeometry(value);\n          break;\n        case \"region\":\n          null != clipParams.geometry && console.warn(\"Multiple request parameters converted to region.\");\n          clipParams.geometry = ee.data.images.regionToGeometry(value);\n          break;\n        case \"scale\":\n          clipParams.scale = Number(value);\n          break;\n        default:\n          outParams[key] = value;\n      }\n    }\n  });\n  module$contents$goog$object_isEmpty(clipParams) || (clipParams.input = image, image = SCALING_KEYS.some(function(key) {\n    return key in clipParams;\n  }) || dimensions_consumed ? ee.ApiFunction._apply(\"Image.clipToBoundsAndScale\", clipParams) : ee.ApiFunction._apply(\"Image.clip\", clipParams));\n  return image;\n};\nee.data.images.bboxToGeometry = function(bbox) {\n  if (bbox instanceof ee.Geometry.Rectangle) {\n    return bbox;\n  }\n  var bboxArray = bbox;\n  if (\"string\" === typeof bbox) {\n    try {\n      bboxArray = JSON.parse(bbox);\n    } catch ($jscomp$unused$catch) {\n      bboxArray = bbox.split(/\\s*,\\s*/).map(Number);\n    }\n  }\n  if (Array.isArray(bboxArray)) {\n    if (bboxArray.some(isNaN)) {\n      throw Error(\"Invalid bbox `{bboxArray}`, please specify a list of numbers.\");\n    }\n    return new ee.Geometry.Rectangle(bboxArray, null, !1);\n  }\n  throw Error('Invalid bbox \"{bbox}\" type, must be of type Array<number>');\n};\nee.data.images.regionToGeometry = function(region) {\n  if (region instanceof ee.Geometry) {\n    return region;\n  }\n  var regionObject = region;\n  if (\"string\" === typeof region) {\n    try {\n      regionObject = JSON.parse(region);\n    } catch (e) {\n      throw Error('Region string \"' + region + '\" is not valid GeoJSON.');\n    }\n  }\n  if (Array.isArray(regionObject)) {\n    return new ee.Geometry.Polygon(regionObject, null, !1);\n  }\n  if (goog.isObject(regionObject)) {\n    return new ee.Geometry(regionObject, null, !1);\n  }\n  throw Error(\"Region {region} was not convertible to an ee.Geometry.\");\n};\nee.data.images.applyCrsAndTransform = function(image, params) {\n  var crs = params.crs || \"\", crsTransform = params.crsTransform || params.crs_transform;\n  null != crsTransform && (crsTransform = ee.data.images.maybeConvertCrsTransformToArray_(crsTransform));\n  if (!crs && !crsTransform) {\n    return image;\n  }\n  if (crsTransform && !crs) {\n    throw Error('Must specify \"crs\" if \"crsTransform\" is specified.');\n  }\n  if (crsTransform) {\n    if (image = ee.ApiFunction._apply(\"Image.reproject\", {image:image, crs:crs, crsTransform:crsTransform}), null != params.dimensions && null == params.scale && null == params.region) {\n      var dimensions = params.dimensions;\n      \"string\" === typeof dimensions && (dimensions = dimensions.split(\"x\").map(Number));\n      if (2 === dimensions.length) {\n        delete params.dimensions;\n        params.dimensions_consumed = !0;\n        var projection = (new ee.ApiFunction(\"Projection\")).call(crs, crsTransform);\n        params.region = new ee.Geometry.Rectangle([0, 0, dimensions[0], dimensions[1]], projection, !1);\n      }\n    }\n  } else {\n    image = ee.ApiFunction._apply(\"Image.setDefaultProjection\", {image:image, crs:crs, crsTransform:[1, 0, 0, 0, -1, 0]});\n  }\n  return image;\n};\nee.data.images.maybeConvertCrsTransformToArray_ = function(crsTransform) {\n  var transformArray = crsTransform;\n  if (\"string\" === typeof transformArray) {\n    try {\n      transformArray = JSON.parse(transformArray);\n    } catch (e) {\n    }\n  }\n  if (Array.isArray(transformArray)) {\n    if (6 === transformArray.length && module$contents$goog$array_every(transformArray, function(x) {\n      return \"number\" === typeof x;\n    })) {\n      return transformArray;\n    }\n    throw Error(\"Invalid argument, crs transform must be a list of 6 numbers.\");\n  }\n  throw Error(\"Invalid argument, crs transform was not a string or array.\");\n};\nee.data.images.applyVisualization = function(image, params) {\n  var request = {}, visParams = ee.data.images.extractVisParams(params, request);\n  module$contents$goog$object_isEmpty(visParams) || (visParams.image = image, image = ee.ApiFunction._apply(\"Image.visualize\", visParams));\n  request.image = image;\n  return request;\n};\nee.data.images.extractVisParams = function(params, outParams) {\n  var keysToExtract = \"bands gain bias min max gamma palette opacity forceRgbOutput\".split(\" \"), visParams = {};\n  module$contents$goog$object_forEach(params, function(value, key) {\n    module$contents$goog$array_contains(keysToExtract, key) ? visParams[key] = value : outParams[key] = value;\n  });\n  return visParams;\n};\nee.data.images.buildDownloadIdImage = function(image, params) {\n  params = Object.assign({}, params);\n  var extractAndValidateTransforms = function(obj) {\n    var extracted = {};\n    [\"crs\", \"crs_transform\", \"dimensions\", \"region\"].forEach(function(key) {\n      key in obj && (extracted[key] = obj[key]);\n    });\n    null != obj.scale && null == obj.dimensions && (extracted.scale = obj.scale);\n    return extracted;\n  }, buildImagePerBand = function(band) {\n    var bandId = band.id;\n    if (void 0 === bandId) {\n      throw Error(\"Each band dictionary must have an id.\");\n    }\n    var bandImage = image.select(bandId), copyParams = extractAndValidateTransforms(params), bandParams = extractAndValidateTransforms(band);\n    bandParams = extractAndValidateTransforms(Object.assign(copyParams, bandParams));\n    bandImage = ee.data.images.applyCrsAndTransform(bandImage, bandParams);\n    return bandImage = ee.data.images.applySelectionAndScale(bandImage, bandParams, {});\n  };\n  if (\"ZIPPED_GEO_TIFF_PER_BAND\" === params.format && params.bands && params.bands.length) {\n    var images = params.bands.map(buildImagePerBand);\n    image = images.reduce(function(result, bandImage) {\n      return ee.ApiFunction._call(\"Image.addBands\", result, bandImage, null, !0);\n    }, images.shift());\n  } else {\n    var copyParams = extractAndValidateTransforms(params);\n    image = ee.data.images.applyCrsAndTransform(image, copyParams);\n    image = ee.data.images.applySelectionAndScale(image, copyParams, {});\n  }\n  return image;\n};\nee.Image = function(opt_args) {\n  if (!(this instanceof ee.Image)) {\n    return ee.ComputedObject.construct(ee.Image, arguments);\n  }\n  if (opt_args instanceof ee.Image) {\n    return opt_args;\n  }\n  ee.Image.initialize();\n  var argCount = arguments.length;\n  if (0 == argCount || 1 == argCount && void 0 === opt_args) {\n    ee.Element.call(this, new ee.ApiFunction(\"Image.mask\"), {image:new ee.Image(0), mask:new ee.Image(0)});\n  } else {\n    if (1 == argCount) {\n      if (ee.Types.isNumber(opt_args)) {\n        ee.Element.call(this, new ee.ApiFunction(\"Image.constant\"), {value:opt_args});\n      } else {\n        if (ee.Types.isString(opt_args)) {\n          ee.Element.call(this, new ee.ApiFunction(\"Image.load\"), {id:opt_args});\n        } else {\n          if (Array.isArray(opt_args)) {\n            return ee.Image.combine_(module$contents$goog$array_map(opt_args, function(elem) {\n              return new ee.Image(elem);\n            }));\n          }\n          if (opt_args instanceof ee.ComputedObject) {\n            \"Array\" == opt_args.name() ? ee.Element.call(this, new ee.ApiFunction(\"Image.constant\"), {value:opt_args}) : ee.Element.call(this, opt_args.func, opt_args.args, opt_args.varName);\n          } else {\n            throw Error(\"Unrecognized argument type to convert to an Image: \" + opt_args);\n          }\n        }\n      }\n    } else {\n      if (2 == argCount) {\n        var id = arguments[0], version = arguments[1];\n        if (ee.Types.isString(id) && ee.Types.isNumber(version)) {\n          ee.Element.call(this, new ee.ApiFunction(\"Image.load\"), {id:id, version:version});\n        } else {\n          throw Error(\"Unrecognized argument types to convert to an Image: \" + arguments);\n        }\n      } else {\n        throw Error(\"The Image constructor takes at most 2 arguments (\" + argCount + \" given)\");\n      }\n    }\n  }\n};\ngoog.inherits(ee.Image, ee.Element);\ngoog.exportSymbol(\"ee.Image\", ee.Image);\nee.Image.initialized_ = !1;\nee.Image.initialize = function() {\n  ee.Image.initialized_ || (ee.ApiFunction.importApi(ee.Image, \"Image\", \"Image\"), ee.Image.initialized_ = !0);\n};\nee.Image.reset = function() {\n  ee.ApiFunction.clearApi(ee.Image);\n  ee.Image.initialized_ = !1;\n};\nee.Image.prototype.getInfo = function(opt_callback) {\n  return ee.Image.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.Image.prototype, \"getInfo\", ee.Image.prototype.getInfo);\nee.Image.prototype.getMap = function(opt_visParams, opt_callback) {\n  var $jscomp$this = this, args = ee.arguments.extractFromFunction(ee.Image.prototype.getMap, arguments), request = ee.data.images.applyVisualization(this, args.visParams);\n  if (args.callback) {\n    var callback = args.callback;\n    ee.data.getMapId(request, function(data, error) {\n      var mapId = data ? Object.assign(data, {image:$jscomp$this}) : void 0;\n      callback(mapId, error);\n    });\n  } else {\n    var response = ee.data.getMapId(request);\n    response.image = this;\n    return response;\n  }\n};\ngoog.exportProperty(ee.Image.prototype, \"getMap\", ee.Image.prototype.getMap);\nee.Image.prototype.getDownloadURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Image.prototype.getDownloadURL, arguments), request = args.params ? module$contents$goog$object_clone(args.params) : {};\n  request.image = this;\n  if (args.callback) {\n    var callback = args.callback;\n    ee.data.getDownloadId(request, function(downloadId, error) {\n      downloadId ? callback(ee.data.makeDownloadUrl(downloadId)) : callback(null, error);\n    });\n  } else {\n    return ee.data.makeDownloadUrl(ee.data.getDownloadId(request));\n  }\n};\ngoog.exportProperty(ee.Image.prototype, \"getDownloadURL\", ee.Image.prototype.getDownloadURL);\nee.Image.prototype.getThumbId = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Image.prototype.getDownloadURL, arguments), request = args.params ? module$contents$goog$object_clone(args.params) : {}, extra = {}, image = ee.data.images.applyCrsAndTransform(this, request);\n  image = ee.data.images.applySelectionAndScale(image, request, extra);\n  request = ee.data.images.applyVisualization(image, extra);\n  return args.callback ? (ee.data.getThumbId(request, args.callback), null) : ee.data.getThumbId(request);\n};\ngoog.exportProperty(ee.Image.prototype, \"getThumbId\", ee.Image.prototype.getThumbId);\nee.Image.prototype.getThumbURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Image.prototype.getThumbURL, arguments);\n  if (args.callback) {\n    this.getThumbId(args.params, function(thumbId, opt_error) {\n      var thumbUrl = \"\";\n      if (void 0 === opt_error) {\n        try {\n          thumbUrl = ee.data.makeThumbUrl(thumbId);\n        } catch (e) {\n          opt_error = String(e.message);\n        }\n      }\n      args.callback(thumbUrl, opt_error);\n    });\n  } else {\n    return ee.data.makeThumbUrl(this.getThumbId(args.params));\n  }\n};\ngoog.exportProperty(ee.Image.prototype, \"getThumbURL\", ee.Image.prototype.getThumbURL);\nee.Image.rgb = function(r, g, b) {\n  var args = ee.arguments.extractFromFunction(ee.Image.rgb, arguments);\n  return ee.Image.combine_([args.r, args.g, args.b], [\"vis-red\", \"vis-green\", \"vis-blue\"]);\n};\ngoog.exportProperty(ee.Image, \"rgb\", ee.Image.rgb);\nee.Image.cat = function(var_args) {\n  var args = Array.prototype.slice.call(arguments);\n  return ee.Image.combine_(args, null);\n};\ngoog.exportProperty(ee.Image, \"cat\", ee.Image.cat);\nee.Image.combine_ = function(images, opt_names) {\n  if (0 == images.length) {\n    return ee.ApiFunction._call(\"Image.constant\", []);\n  }\n  for (var result = new ee.Image(images[0]), i = 1; i < images.length; i++) {\n    result = ee.ApiFunction._call(\"Image.addBands\", result, images[i]);\n  }\n  opt_names && (result = result.select([\".*\"], opt_names));\n  return result;\n};\nee.Image.prototype.select = function(var_args) {\n  var args = Array.prototype.slice.call(arguments), algorithmArgs = {input:this, bandSelectors:args[0] || []};\n  if (2 < args.length || ee.Types.isString(args[0]) || ee.Types.isNumber(args[0])) {\n    for (var i = 0; i < args.length; i++) {\n      if (!(ee.Types.isString(args[i]) || ee.Types.isNumber(args[i]) || args[i] instanceof ee.ComputedObject)) {\n        throw Error(\"Illegal argument to select(): \" + args[i]);\n      }\n    }\n    algorithmArgs.bandSelectors = args;\n  } else {\n    args[1] && (algorithmArgs.newNames = args[1]);\n  }\n  return ee.ApiFunction._apply(\"Image.select\", algorithmArgs);\n};\ngoog.exportProperty(ee.Image.prototype, \"select\", ee.Image.prototype.select);\nee.Image.prototype.expression = function(expression, opt_map) {\n  var originalArgs = ee.arguments.extractFromFunction(ee.Image.prototype.expression, arguments), vars = [\"DEFAULT_EXPRESSION_IMAGE\"], eeArgs = {DEFAULT_EXPRESSION_IMAGE:this};\n  if (originalArgs.map) {\n    var map = originalArgs.map, name$jscomp$0;\n    for (name$jscomp$0 in map) {\n      vars.push(name$jscomp$0), eeArgs[name$jscomp$0] = new ee.Image(map[name$jscomp$0]);\n    }\n  }\n  var body = ee.ApiFunction._call(\"Image.parseExpression\", originalArgs.expression, \"DEFAULT_EXPRESSION_IMAGE\", vars), func = new ee.Function();\n  func.encode = function(encoder) {\n    return body.encode(encoder);\n  };\n  func.encodeCloudInvocation = function(serializer, args) {\n    return ee.rpc_node.functionByReference(serializer.makeReference(body), args);\n  };\n  func.getSignature = function() {\n    return {name:\"\", args:module$contents$goog$array_map(vars, function(name) {\n      return {name:name, type:\"Image\", optional:!1};\n    }, this), returns:\"Image\"};\n  };\n  return func.apply(eeArgs);\n};\ngoog.exportProperty(ee.Image.prototype, \"expression\", ee.Image.prototype.expression);\nee.Image.prototype.clip = function(geometry) {\n  try {\n    geometry = new ee.Geometry(geometry);\n  } catch (e) {\n  }\n  return ee.ApiFunction._call(\"Image.clip\", this, geometry);\n};\ngoog.exportProperty(ee.Image.prototype, \"clip\", ee.Image.prototype.clip);\nee.Image.prototype.rename = function(var_args) {\n  var names = 1 != arguments.length || ee.Types.isString(arguments[0]) ? Array.from(arguments) : arguments[0];\n  return ee.ApiFunction._call(\"Image.rename\", this, names);\n};\ngoog.exportProperty(ee.Image.prototype, \"rename\", ee.Image.prototype.rename);\nee.Image.prototype.name = function() {\n  return \"Image\";\n};\nee.List = function(list) {\n  if (this instanceof ee.List) {\n    if (1 < arguments.length) {\n      throw Error(\"ee.List() only accepts 1 argument.\");\n    }\n    if (list instanceof ee.List) {\n      return list;\n    }\n  } else {\n    return ee.ComputedObject.construct(ee.List, arguments);\n  }\n  ee.List.initialize();\n  if (Array.isArray(list)) {\n    ee.ComputedObject.call(this, null, null), this.list_ = list;\n  } else {\n    if (list instanceof ee.ComputedObject) {\n      ee.ComputedObject.call(this, list.func, list.args, list.varName), this.list_ = null;\n    } else {\n      throw Error(\"Invalid argument specified for ee.List(): \" + list);\n    }\n  }\n};\ngoog.inherits(ee.List, ee.ComputedObject);\ngoog.exportSymbol(\"ee.List\", ee.List);\nee.List.initialized_ = !1;\nee.List.initialize = function() {\n  ee.List.initialized_ || (ee.ApiFunction.importApi(ee.List, \"List\", \"List\"), ee.List.initialized_ = !0);\n};\nee.List.reset = function() {\n  ee.ApiFunction.clearApi(ee.List);\n  ee.List.initialized_ = !1;\n};\nee.List.prototype.encode = function(encoder) {\n  return Array.isArray(this.list_) ? module$contents$goog$array_map(this.list_, function(elem) {\n    return encoder(elem);\n  }) : ee.List.superClass_.encode.call(this, encoder);\n};\nee.List.prototype.encodeCloudValue = function(serializer) {\n  return Array.isArray(this.list_) ? ee.rpc_node.reference(serializer.makeReference(this.list_)) : ee.List.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.List.prototype.name = function() {\n  return \"List\";\n};\nee.FeatureCollection = function(args, opt_column) {\n  if (!(this instanceof ee.FeatureCollection)) {\n    return ee.ComputedObject.construct(ee.FeatureCollection, arguments);\n  }\n  if (args instanceof ee.FeatureCollection) {\n    return args;\n  }\n  if (2 < arguments.length) {\n    throw Error(\"The FeatureCollection constructor takes at most 2 arguments (\" + arguments.length + \" given)\");\n  }\n  ee.FeatureCollection.initialize();\n  args instanceof ee.Geometry && (args = new ee.Feature(args));\n  args instanceof ee.Feature && (args = [args]);\n  if (ee.Types.isString(args)) {\n    var actualArgs = {tableId:args};\n    opt_column && (actualArgs.geometryColumn = opt_column);\n    ee.Collection.call(this, new ee.ApiFunction(\"Collection.loadTable\"), actualArgs);\n  } else {\n    if (Array.isArray(args)) {\n      ee.Collection.call(this, new ee.ApiFunction(\"Collection\"), {features:module$contents$goog$array_map(args, function(elem) {\n        return new ee.Feature(elem);\n      })});\n    } else {\n      if (args instanceof ee.List) {\n        ee.Collection.call(this, new ee.ApiFunction(\"Collection\"), {features:args});\n      } else {\n        if (args && \"object\" === typeof args && \"FeatureCollection\" === args.type) {\n          ee.Collection.call(this, new ee.ApiFunction(\"Collection\"), {features:args.features.map(function(f) {\n            return new ee.Feature(f);\n          })});\n        } else {\n          if (args instanceof ee.ComputedObject) {\n            ee.Collection.call(this, args.func, args.args, args.varName);\n          } else {\n            throw Error(\"Unrecognized argument type to convert to a FeatureCollection: \" + args);\n          }\n        }\n      }\n    }\n  }\n};\ngoog.inherits(ee.FeatureCollection, ee.Collection);\ngoog.exportSymbol(\"ee.FeatureCollection\", ee.FeatureCollection);\nee.FeatureCollection.initialized_ = !1;\nee.FeatureCollection.initialize = function() {\n  ee.FeatureCollection.initialized_ || (ee.ApiFunction.importApi(ee.FeatureCollection, \"FeatureCollection\", \"FeatureCollection\"), ee.FeatureCollection.initialized_ = !0);\n};\nee.FeatureCollection.reset = function() {\n  ee.ApiFunction.clearApi(ee.FeatureCollection);\n  ee.FeatureCollection.initialized_ = !1;\n};\nee.FeatureCollection.prototype.getMap = function(opt_visParams, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.getMap, arguments), painted = ee.ApiFunction._apply(\"Collection.draw\", {collection:this, color:(args.visParams || {}).color || \"000000\"});\n  if (args.callback) {\n    painted.getMap(void 0, args.callback);\n  } else {\n    return painted.getMap();\n  }\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"getMap\", ee.FeatureCollection.prototype.getMap);\nee.FeatureCollection.prototype.getInfo = function(opt_callback) {\n  return ee.FeatureCollection.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"getInfo\", ee.FeatureCollection.prototype.getInfo);\nee.FeatureCollection.prototype.getDownloadURL = function(opt_format, opt_selectors, opt_filename, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.getDownloadURL, arguments), request = {table:this};\n  args.format && (request.format = args.format.toUpperCase());\n  args.filename && (request.filename = args.filename);\n  args.selectors && (request.selectors = args.selectors);\n  if (args.callback) {\n    ee.data.getTableDownloadId(request, function(downloadId, error) {\n      downloadId ? args.callback(ee.data.makeTableDownloadUrl(downloadId)) : args.callback(null, error);\n    });\n  } else {\n    return ee.data.makeTableDownloadUrl(ee.data.getTableDownloadId(request));\n  }\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"getDownloadURL\", ee.FeatureCollection.prototype.getDownloadURL);\nee.FeatureCollection.prototype.select = function(propertySelectors, opt_newProperties, opt_retainGeometry) {\n  if (ee.Types.isString(propertySelectors)) {\n    var varargs = Array.prototype.slice.call(arguments);\n    return this.map(function(feature) {\n      return feature.select(varargs);\n    });\n  }\n  var args = ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.select, arguments);\n  return this.map(function(feature) {\n    return feature.select(args);\n  });\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"select\", ee.FeatureCollection.prototype.select);\nee.FeatureCollection.prototype.name = function() {\n  return \"FeatureCollection\";\n};\nee.FeatureCollection.prototype.elementType = function() {\n  return ee.Feature;\n};\nee.ImageCollection = function(args) {\n  if (!(this instanceof ee.ImageCollection)) {\n    return ee.ComputedObject.construct(ee.ImageCollection, arguments);\n  }\n  if (args instanceof ee.ImageCollection) {\n    return args;\n  }\n  if (1 != arguments.length) {\n    throw Error(\"The ImageCollection constructor takes exactly 1 argument (\" + arguments.length + \" given)\");\n  }\n  ee.ImageCollection.initialize();\n  args instanceof ee.Image && (args = [args]);\n  if (ee.Types.isString(args)) {\n    ee.Collection.call(this, new ee.ApiFunction(\"ImageCollection.load\"), {id:args});\n  } else {\n    if (Array.isArray(args)) {\n      ee.Collection.call(this, new ee.ApiFunction(\"ImageCollection.fromImages\"), {images:module$contents$goog$array_map(args, function(elem) {\n        return new ee.Image(elem);\n      })});\n    } else {\n      if (args instanceof ee.List) {\n        ee.Collection.call(this, new ee.ApiFunction(\"ImageCollection.fromImages\"), {images:args});\n      } else {\n        if (args instanceof ee.ComputedObject) {\n          ee.Collection.call(this, args.func, args.args, args.varName);\n        } else {\n          throw Error(\"Unrecognized argument type to convert to an ImageCollection: \" + args);\n        }\n      }\n    }\n  }\n};\ngoog.inherits(ee.ImageCollection, ee.Collection);\ngoog.exportSymbol(\"ee.ImageCollection\", ee.ImageCollection);\nee.ImageCollection.initialized_ = !1;\nee.ImageCollection.initialize = function() {\n  ee.ImageCollection.initialized_ || (ee.ApiFunction.importApi(ee.ImageCollection, \"ImageCollection\", \"ImageCollection\"), ee.ApiFunction.importApi(ee.ImageCollection, \"reduce\", \"ImageCollection\"), ee.ImageCollection.initialized_ = !0);\n};\nee.ImageCollection.reset = function() {\n  ee.ApiFunction.clearApi(ee.ImageCollection);\n  ee.ImageCollection.initialized_ = !1;\n};\nee.ImageCollection.prototype.getFilmstripThumbURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getFilmstripThumbURL, arguments);\n  return ee.ImageCollection.prototype.getThumbURL_(this, args, [\"png\", \"jpg\", \"jpeg\"], ee.ImageCollection.ThumbTypes.FILMSTRIP, opt_callback);\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getFilmstripThumbURL\", ee.ImageCollection.prototype.getFilmstripThumbURL);\nee.ImageCollection.prototype.getVideoThumbURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getVideoThumbURL, arguments);\n  return ee.ImageCollection.prototype.getThumbURL_(this, args, [\"gif\"], ee.ImageCollection.ThumbTypes.VIDEO, opt_callback);\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getVideoThumbURL\", ee.ImageCollection.prototype.getVideoThumbURL);\nee.ImageCollection.ThumbTypes = {FILMSTRIP:\"filmstrip\", VIDEO:\"video\", IMAGE:\"image\",};\nee.ImageCollection.prototype.getThumbURL_ = function(collection, args, validFormats, opt_thumbType, opt_callback) {\n  var extraParams = {}, clippedCollection = collection.map(function(image) {\n    var projected = ee.data.images.applyCrsAndTransform(image, args.params);\n    return ee.data.images.applySelectionAndScale(projected, args.params, extraParams);\n  }), request = {}, visParams = ee.data.images.extractVisParams(extraParams, request);\n  request.imageCollection = clippedCollection.map(function(image) {\n    visParams.image = image;\n    return ee.ApiFunction._apply(\"Image.visualize\", visParams);\n  });\n  null != args.params.dimensions && (request.dimensions = args.params.dimensions);\n  if (request.format) {\n    if (!module$contents$goog$array_some(validFormats, function(format) {\n      return goog.string.caseInsensitiveEquals(format, request.format);\n    })) {\n      throw Error(\"Invalid format specified.\");\n    }\n  } else {\n    request.format = validFormats[0];\n  }\n  var getThumbId = ee.data.getThumbId;\n  switch(opt_thumbType) {\n    case ee.ImageCollection.ThumbTypes.VIDEO:\n      getThumbId = ee.data.getVideoThumbId;\n      break;\n    case ee.ImageCollection.ThumbTypes.FILMSTRIP:\n      getThumbId = ee.data.getFilmstripThumbId;\n  }\n  if (args.callback) {\n    getThumbId(request, function(thumbId, opt_error) {\n      var thumbUrl = \"\";\n      if (void 0 === opt_error) {\n        try {\n          thumbUrl = ee.data.makeThumbUrl(thumbId);\n        } catch (e) {\n          opt_error = String(e.message);\n        }\n      }\n      args.callback(thumbUrl, opt_error);\n    });\n  } else {\n    return ee.data.makeThumbUrl(getThumbId(request));\n  }\n};\nee.ImageCollection.prototype.getMap = function(opt_visParams, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getMap, arguments), mosaic = ee.ApiFunction._call(\"ImageCollection.mosaic\", this);\n  if (args.callback) {\n    mosaic.getMap(args.visParams, args.callback);\n  } else {\n    return mosaic.getMap(args.visParams);\n  }\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getMap\", ee.ImageCollection.prototype.getMap);\nee.ImageCollection.prototype.getInfo = function(opt_callback) {\n  return ee.ImageCollection.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getInfo\", ee.ImageCollection.prototype.getInfo);\nee.ImageCollection.prototype.select = function(selectors, opt_names) {\n  var varargs = arguments;\n  return this.map(function(obj) {\n    return obj.select.apply(obj, varargs);\n  });\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"select\", ee.ImageCollection.prototype.select);\nee.ImageCollection.prototype.first = function() {\n  return new ee.Image(ee.ApiFunction._call(\"Collection.first\", this));\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"first\", ee.ImageCollection.prototype.first);\nee.ImageCollection.prototype.name = function() {\n  return \"ImageCollection\";\n};\nee.ImageCollection.prototype.elementType = function() {\n  return ee.Image;\n};\nee.batch = {};\nvar module$contents$ee$batch_Export = {image:{}, map:{}, table:{}, video:{}, videoMap:{}, classifier:{}}, module$contents$ee$batch_ExportTask = function(config) {\n  this.config_ = config;\n  this.id = null;\n};\nmodule$contents$ee$batch_ExportTask.create = function(exportArgs) {\n  var config = {element:module$contents$ee$batch_Export.extractElement(exportArgs)};\n  Object.assign(config, exportArgs);\n  config = module$contents$goog$object_filter(config, function(x) {\n    return null != x;\n  });\n  return new module$contents$ee$batch_ExportTask(config);\n};\nmodule$contents$ee$batch_ExportTask.prototype.start = function(opt_success, opt_error) {\n  var $jscomp$this = this;\n  goog.asserts.assert(this.config_, \"Task config must be specified for tasks to be started.\");\n  if (opt_success) {\n    var startProcessing = function() {\n      goog.asserts.assertString($jscomp$this.id);\n      ee.data.startProcessing($jscomp$this.id, $jscomp$this.config_, function(_, error) {\n        error ? opt_error(error) : opt_success();\n      });\n    };\n    this.id ? startProcessing() : ee.data.newTaskId(1, function(ids) {\n      var id = ids && ids[0];\n      id ? ($jscomp$this.id = id, startProcessing()) : opt_error(\"Failed to obtain task ID.\");\n    });\n  } else {\n    this.id = this.id || ee.data.newTaskId(1)[0], goog.asserts.assertString(this.id, \"Failed to obtain task ID.\"), ee.data.startProcessing(this.id, this.config_);\n  }\n};\ngoog.exportProperty(module$contents$ee$batch_ExportTask.prototype, \"start\", module$contents$ee$batch_ExportTask.prototype.start);\nmodule$contents$ee$batch_Export.image.toAsset = function(image, opt_description, opt_assetId, opt_pyramidingPolicy, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_shardSize) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toAsset, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.ASSET, ee.data.ExportType.IMAGE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.image.toAsset\", module$contents$ee$batch_Export.image.toAsset);\nmodule$contents$ee$batch_Export.image.toCloudStorage = function(image, opt_description, opt_bucket, opt_fileNamePrefix, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_shardSize, opt_fileDimensions, opt_skipEmptyTiles, opt_fileFormat, opt_formatOptions) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.IMAGE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.image.toCloudStorage\", module$contents$ee$batch_Export.image.toCloudStorage);\nmodule$contents$ee$batch_Export.image.toDrive = function(image, opt_description, opt_folder, opt_fileNamePrefix, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_shardSize, opt_fileDimensions, opt_skipEmptyTiles, opt_fileFormat, opt_formatOptions) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toDrive, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.DRIVE, ee.data.ExportType.IMAGE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.image.toDrive\", module$contents$ee$batch_Export.image.toDrive);\nmodule$contents$ee$batch_Export.map.toCloudStorage = function(image, opt_description, opt_bucket, opt_fileFormat, opt_path, opt_writePublicTiles, opt_scale, opt_maxZoom, opt_minZoom, opt_region, opt_skipEmptyTiles, opt_mapsApiKey, opt_bucketCorsUris) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.map.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.MAP);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.map.toCloudStorage\", module$contents$ee$batch_Export.map.toCloudStorage);\nmodule$contents$ee$batch_Export.table.toCloudStorage = function(collection, opt_description, opt_bucket, opt_fileNamePrefix, opt_fileFormat, opt_selectors, opt_maxVertices) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toCloudStorage\", module$contents$ee$batch_Export.table.toCloudStorage);\nmodule$contents$ee$batch_Export.table.toDrive = function(collection, opt_description, opt_folder, opt_fileNamePrefix, opt_fileFormat, opt_selectors, opt_maxVertices) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toDrive, arguments);\n  clientConfig.type = ee.data.ExportType.TABLE;\n  var serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.DRIVE, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toDrive\", module$contents$ee$batch_Export.table.toDrive);\nmodule$contents$ee$batch_Export.table.toAsset = function(collection, opt_description, opt_assetId, opt_maxVertices) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toAsset, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.ASSET, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toAsset\", module$contents$ee$batch_Export.table.toAsset);\nmodule$contents$ee$batch_Export.table.toFeatureView = function(collection, opt_description, opt_assetId) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toFeatureView, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.FEATURE_VIEW, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toFeatureView\", module$contents$ee$batch_Export.table.toFeatureView);\nmodule$contents$ee$batch_Export.video.toCloudStorage = function(collection, opt_description, opt_bucket, opt_fileNamePrefix, opt_framesPerSecond, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_maxFrames) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.video.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.VIDEO);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.video.toCloudStorage\", module$contents$ee$batch_Export.video.toCloudStorage);\nmodule$contents$ee$batch_Export.video.toDrive = function(collection, opt_description, opt_folder, opt_fileNamePrefix, opt_framesPerSecond, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_maxFrames) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.video.toDrive, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.DRIVE, ee.data.ExportType.VIDEO);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.video.toDrive\", module$contents$ee$batch_Export.video.toDrive);\nmodule$contents$ee$batch_Export.videoMap.toCloudStorage = function(collection, opt_description, opt_bucket, opt_fileNamePrefix, opt_framesPerSecond, opt_writePublicTiles, opt_minZoom, opt_maxZoom, opt_scale, opt_region, opt_skipEmptyTiles, opt_minTimeMachineZoomSubset, opt_maxTimeMachineZoomSubset, opt_tileWidth, opt_tileHeight, opt_tileStride, opt_videoFormat, opt_version, opt_mapsApiKey, opt_bucketCorsUris) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.videoMap.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.VIDEO_MAP);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.videoMap.toCloudStorage\", module$contents$ee$batch_Export.videoMap.toCloudStorage);\nmodule$contents$ee$batch_Export.classifier.toAsset = function(classifier, opt_description, opt_assetId) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.classifier.toAsset, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.ASSET, ee.data.ExportType.CLASSIFIER);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.classifier.toAsset\", module$contents$ee$batch_Export.classifier.toAsset);\nmodule$contents$ee$batch_Export.serializeRegion = function(region) {\n  if (region instanceof ee.Geometry) {\n    region = region.toGeoJSON();\n  } else {\n    if (\"string\" === typeof region) {\n      try {\n        region = goog.asserts.assertObject(JSON.parse(region));\n      } catch (x) {\n        throw Error(\"Invalid format for region property. Region must be GeoJSON LinearRing or Polygon specified as actual coordinates or serialized as a string. See Export documentation.\");\n      }\n    }\n  }\n  if (!(goog.isObject(region) && \"type\" in region)) {\n    try {\n      new ee.Geometry.LineString(region);\n    } catch (e) {\n      try {\n        new ee.Geometry.Polygon(region);\n      } catch (e2) {\n        throw Error(\"Invalid format for region property. Region must be GeoJSON LinearRing or Polygon specified as actual coordinates or serialized as a string. See Export documentation.\");\n      }\n    }\n  }\n  return JSON.stringify(region);\n};\nmodule$contents$ee$batch_Export.resolveRegionParam = function(params) {\n  params = module$contents$goog$object_clone(params);\n  if (!params.region) {\n    return goog.Promise.resolve(params);\n  }\n  var region = params.region;\n  if (region instanceof ee.ComputedObject) {\n    return region instanceof ee.Element && (region = region.geometry()), new goog.Promise(function(resolve, reject) {\n      region.getInfo(function(regionInfo, error) {\n        error ? reject(error) : (params.region = params.type === ee.data.ExportType.IMAGE ? new ee.Geometry(regionInfo) : module$contents$ee$batch_Export.serializeRegion(regionInfo), resolve(params));\n      });\n    });\n  }\n  params.region = params.type === ee.data.ExportType.IMAGE ? new ee.Geometry(region) : module$contents$ee$batch_Export.serializeRegion(region);\n  return goog.Promise.resolve(params);\n};\nmodule$contents$ee$batch_Export.extractElement = function(exportArgs) {\n  var isInArgs = function(key) {\n    return key in exportArgs;\n  }, eeElementKey = module$contents$ee$batch_Export.EE_ELEMENT_KEYS.find(isInArgs);\n  goog.asserts.assert(1 === module$contents$goog$array_count(module$contents$ee$batch_Export.EE_ELEMENT_KEYS, isInArgs), 'Expected a single \"image\", \"collection\" or \"classifier\" key.');\n  var element = exportArgs[eeElementKey];\n  if (element instanceof ee.Image) {\n    var result = element;\n  } else {\n    if (element instanceof ee.FeatureCollection) {\n      result = element;\n    } else {\n      if (element instanceof ee.ImageCollection) {\n        result = element;\n      } else {\n        if (element instanceof ee.Element) {\n          result = element;\n        } else {\n          if (element instanceof ee.ComputedObject) {\n            result = element;\n          } else {\n            throw Error(\"Unknown element type provided: \" + typeof element + \". Expected:  ee.Image, ee.ImageCollection, ee.FeatureCollection,  ee.Element or ee.ComputedObject.\");\n          }\n        }\n      }\n    }\n  }\n  delete exportArgs[eeElementKey];\n  return result;\n};\nmodule$contents$ee$batch_Export.convertToServerParams = function(originalArgs, destination, exportType, serializeRegion) {\n  serializeRegion = void 0 === serializeRegion ? !0 : serializeRegion;\n  var taskConfig = {type:exportType};\n  Object.assign(taskConfig, originalArgs);\n  switch(exportType) {\n    case ee.data.ExportType.IMAGE:\n      taskConfig = module$contents$ee$batch_Export.image.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.MAP:\n      taskConfig = module$contents$ee$batch_Export.map.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.TABLE:\n      taskConfig = module$contents$ee$batch_Export.table.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.VIDEO:\n      taskConfig = module$contents$ee$batch_Export.video.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.VIDEO_MAP:\n      taskConfig = module$contents$ee$batch_Export.videoMap.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.CLASSIFIER:\n      taskConfig = module$contents$ee$batch_Export.classifier.prepareTaskConfig_(taskConfig, destination);\n      break;\n    default:\n      throw Error(\"Unknown export type: \" + taskConfig.type);\n  }\n  serializeRegion && null != taskConfig.region && (taskConfig.region = module$contents$ee$batch_Export.serializeRegion(taskConfig.region));\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.prepareDestination_ = function(taskConfig, destination) {\n  switch(destination) {\n    case ee.data.ExportDestination.GCS:\n      taskConfig.outputBucket = taskConfig.bucket || \"\";\n      taskConfig.outputPrefix = taskConfig.fileNamePrefix || taskConfig.path || \"\";\n      delete taskConfig.fileNamePrefix;\n      delete taskConfig.path;\n      delete taskConfig.bucket;\n      break;\n    case ee.data.ExportDestination.ASSET:\n      taskConfig.assetId = taskConfig.assetId || \"\";\n      break;\n    case ee.data.ExportDestination.FEATURE_VIEW:\n      taskConfig.mapName = taskConfig.mapName || \"\";\n      break;\n    default:\n      var folderType = goog.typeOf(taskConfig.folder);\n      if (!module$contents$goog$array_contains([\"string\", \"undefined\"], folderType)) {\n        throw Error('Error: toDrive \"folder\" parameter must be a string, but is of type ' + folderType + \".\");\n      }\n      taskConfig.driveFolder = taskConfig.folder || \"\";\n      taskConfig.driveFileNamePrefix = taskConfig.fileNamePrefix || \"\";\n      delete taskConfig.folder;\n      delete taskConfig.fileNamePrefix;\n  }\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.image.prepareTaskConfig_ = function(taskConfig, destination) {\n  null == taskConfig.fileFormat && (taskConfig.fileFormat = \"GeoTIFF\");\n  taskConfig = module$contents$ee$batch_Export.reconcileImageFormat(taskConfig);\n  taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n  null != taskConfig.crsTransform && (taskConfig[module$contents$ee$batch_Export.CRS_TRANSFORM_KEY] = taskConfig.crsTransform, delete taskConfig.crsTransform);\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.table.prepareTaskConfig_ = function(taskConfig, destination) {\n  Array.isArray(taskConfig.selectors) && (taskConfig.selectors = taskConfig.selectors.join());\n  taskConfig = module$contents$ee$batch_Export.reconcileTableFormat(taskConfig);\n  return taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n};\nmodule$contents$ee$batch_Export.map.prepareTaskConfig_ = function(taskConfig, destination) {\n  taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n  return taskConfig = module$contents$ee$batch_Export.reconcileMapFormat(taskConfig);\n};\nmodule$contents$ee$batch_Export.video.prepareTaskConfig_ = function(taskConfig, destination) {\n  taskConfig = module$contents$ee$batch_Export.reconcileVideoFormat_(taskConfig);\n  taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n  null != taskConfig.crsTransform && (taskConfig[module$contents$ee$batch_Export.CRS_TRANSFORM_KEY] = taskConfig.crsTransform, delete taskConfig.crsTransform);\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.videoMap.prepareTaskConfig_ = function(taskConfig, destination) {\n  taskConfig = module$contents$ee$batch_Export.reconcileVideoFormat_(taskConfig);\n  taskConfig.version = taskConfig.version || module$contents$ee$batch_VideoMapVersion.V1;\n  taskConfig.stride = taskConfig.stride || 1;\n  taskConfig.tileDimensions = {width:taskConfig.tileWidth || 256, height:taskConfig.tileHeight || 256};\n  return taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n};\nmodule$contents$ee$batch_Export.classifier.prepareTaskConfig_ = function(taskConfig, destination) {\n  return taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n};\nvar module$contents$ee$batch_VideoFormat = {MP4:\"MP4\", GIF:\"GIF\", VP9:\"VP9\",}, module$contents$ee$batch_MapFormat = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", JPEG:\"JPEG\", PNG:\"PNG\",}, module$contents$ee$batch_ImageFormat = {GEO_TIFF:\"GEO_TIFF\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\",}, module$contents$ee$batch_TableFormat = {CSV:\"CSV\", GEO_JSON:\"GEO_JSON\", KML:\"KML\", KMZ:\"KMZ\", SHP:\"SHP\", TF_RECORD_TABLE:\"TF_RECORD_TABLE\",}, module$contents$ee$batch_VideoMapVersion = {V1:\"V1\", V2:\"V2\",}, module$contents$ee$batch_FORMAT_OPTIONS_MAP = \n{GEO_TIFF:[\"cloudOptimized\", \"fileDimensions\", \"shardSize\",], TF_RECORD_IMAGE:\"patchDimensions kernelSize compressed maxFileSize defaultValue tensorDepths sequenceData collapseBands maskedThreshold\".split(\" \")}, module$contents$ee$batch_FORMAT_PREFIX_MAP = {GEO_TIFF:\"tiff\", TF_RECORD_IMAGE:\"tfrecord\"};\nmodule$contents$ee$batch_Export.reconcileVideoFormat_ = function(taskConfig) {\n  taskConfig.videoOptions = taskConfig.framesPerSecond || 5.0;\n  taskConfig.maxFrames = taskConfig.maxFrames || 1000;\n  taskConfig.maxPixels = taskConfig.maxPixels || 1e8;\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_VideoFormat.MP4);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"MP4\":\n      formatString = module$contents$ee$batch_VideoFormat.MP4;\n      break;\n    case \"GIF\":\n    case \"JIF\":\n      formatString = module$contents$ee$batch_VideoFormat.GIF;\n      break;\n    case \"VP9\":\n    case \"WEBM\":\n      formatString = module$contents$ee$batch_VideoFormat.VP9;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'MP4', 'GIF', and 'WEBM'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.reconcileImageFormat = function(taskConfig) {\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_ImageFormat.GEO_TIFF);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"TIFF\":\n    case \"TIF\":\n    case \"GEO_TIFF\":\n    case \"GEOTIFF\":\n      formatString = module$contents$ee$batch_ImageFormat.GEO_TIFF;\n      break;\n    case \"TF_RECORD\":\n    case \"TF_RECORD_IMAGE\":\n    case \"TFRECORD\":\n      formatString = module$contents$ee$batch_ImageFormat.TF_RECORD_IMAGE;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'GEOTIFF', 'TFRECORD'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  if (null != taskConfig.formatOptions) {\n    var formatOptions = module$contents$ee$batch_Export.prefixImageFormatOptions_(taskConfig, formatString);\n    delete taskConfig.formatOptions;\n    Object.assign(taskConfig, formatOptions);\n  }\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.reconcileMapFormat = function(taskConfig) {\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_MapFormat.AUTO_JPEG_PNG);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"AUTO\":\n    case \"AUTO_JPEG_PNG\":\n    case \"AUTO_JPG_PNG\":\n      formatString = module$contents$ee$batch_MapFormat.AUTO_JPEG_PNG;\n      break;\n    case \"JPG\":\n    case \"JPEG\":\n      formatString = module$contents$ee$batch_MapFormat.JPEG;\n      break;\n    case \"PNG\":\n      formatString = module$contents$ee$batch_MapFormat.PNG;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'AUTO', 'PNG', and 'JPEG'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.reconcileTableFormat = function(taskConfig) {\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_TableFormat.CSV);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"CSV\":\n      formatString = module$contents$ee$batch_TableFormat.CSV;\n      break;\n    case \"JSON\":\n    case \"GEOJSON\":\n    case \"GEO_JSON\":\n      formatString = module$contents$ee$batch_TableFormat.GEO_JSON;\n      break;\n    case \"KML\":\n      formatString = module$contents$ee$batch_TableFormat.KML;\n      break;\n    case \"KMZ\":\n      formatString = module$contents$ee$batch_TableFormat.KMZ;\n      break;\n    case \"SHP\":\n      formatString = module$contents$ee$batch_TableFormat.SHP;\n      break;\n    case \"TF_RECORD\":\n    case \"TF_RECORD_TABLE\":\n    case \"TFRECORD\":\n      formatString = module$contents$ee$batch_TableFormat.TF_RECORD_TABLE;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'CSV', 'GeoJSON', 'KML', 'KMZ', 'SHP', and 'TFRecord'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.prefixImageFormatOptions_ = function(taskConfig, imageFormat) {\n  var formatOptions = taskConfig.formatOptions;\n  if (null == formatOptions) {\n    return {};\n  }\n  if (Object.keys(taskConfig).some(function(key) {\n    return module$contents$goog$object_containsKey(formatOptions, key);\n  })) {\n    throw Error(\"Parameter specified at least twice: once in config, and once in config format options.\");\n  }\n  for (var prefix = module$contents$ee$batch_FORMAT_PREFIX_MAP[imageFormat], validOptionKeys = module$contents$ee$batch_FORMAT_OPTIONS_MAP[imageFormat], prefixedOptions = {}, $jscomp$iter$27 = $jscomp.makeIterator(Object.entries(formatOptions)), $jscomp$key$ = $jscomp$iter$27.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$27.next()) {\n    var $jscomp$destructuring$var37 = $jscomp.makeIterator($jscomp$key$.value), key$jscomp$0 = $jscomp$destructuring$var37.next().value, value = $jscomp$destructuring$var37.next().value;\n    if (!module$contents$goog$array_contains(validOptionKeys, key$jscomp$0)) {\n      var validKeysMsg = validOptionKeys.join(\", \");\n      throw Error('\"' + key$jscomp$0 + '\" is not a valid option, the image format \"' + imageFormat + '\"\"may have the following options: ' + (validKeysMsg + '\".'));\n    }\n    var prefixedKey = prefix + key$jscomp$0[0].toUpperCase() + key$jscomp$0.substring(1);\n    Array.isArray(value) ? prefixedOptions[prefixedKey] = value.join() : prefixedOptions[prefixedKey] = value;\n  }\n  return prefixedOptions;\n};\nmodule$contents$ee$batch_Export.CRS_TRANSFORM_KEY = \"crs_transform\";\nmodule$contents$ee$batch_Export.EE_ELEMENT_KEYS = [\"image\", \"collection\", \"classifier\"];\nee.batch.Export = module$contents$ee$batch_Export;\nee.batch.ExportTask = module$contents$ee$batch_ExportTask;\nee.batch.ImageFormat = module$contents$ee$batch_ImageFormat;\nee.batch.MapFormat = module$contents$ee$batch_MapFormat;\nee.batch.ServerTaskConfig = {};\nee.batch.TableFormat = module$contents$ee$batch_TableFormat;\nee.batch.VideoFormat = module$contents$ee$batch_VideoFormat;\nee.Number = function(number) {\n  if (!(this instanceof ee.Number)) {\n    return ee.ComputedObject.construct(ee.Number, arguments);\n  }\n  if (number instanceof ee.Number) {\n    return number;\n  }\n  ee.Number.initialize();\n  if (\"number\" === typeof number) {\n    ee.ComputedObject.call(this, null, null), this.number_ = number;\n  } else {\n    if (number instanceof ee.ComputedObject) {\n      ee.ComputedObject.call(this, number.func, number.args, number.varName), this.number_ = null;\n    } else {\n      throw Error(\"Invalid argument specified for ee.Number(): \" + number);\n    }\n  }\n};\ngoog.inherits(ee.Number, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Number\", ee.Number);\nee.Number.initialized_ = !1;\nee.Number.initialize = function() {\n  ee.Number.initialized_ || (ee.ApiFunction.importApi(ee.Number, \"Number\", \"Number\"), ee.Number.initialized_ = !0);\n};\nee.Number.reset = function() {\n  ee.ApiFunction.clearApi(ee.Number);\n  ee.Number.initialized_ = !1;\n};\nee.Number.prototype.encode = function(encoder) {\n  return \"number\" === typeof this.number_ ? this.number_ : ee.Number.superClass_.encode.call(this, encoder);\n};\nee.Number.prototype.encodeCloudValue = function(serializer) {\n  return \"number\" === typeof this.number_ ? ee.rpc_node.reference(serializer.makeReference(this.number_)) : ee.Number.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.Number.prototype.name = function() {\n  return \"Number\";\n};\nee.String = function(string) {\n  if (!(this instanceof ee.String)) {\n    return ee.ComputedObject.construct(ee.String, arguments);\n  }\n  if (string instanceof ee.String) {\n    return string;\n  }\n  ee.String.initialize();\n  if (\"string\" === typeof string) {\n    ee.ComputedObject.call(this, null, null), this.string_ = string;\n  } else {\n    if (string instanceof ee.ComputedObject) {\n      this.string_ = null, string.func && \"String\" == string.func.getSignature().returns ? ee.ComputedObject.call(this, string.func, string.args, string.varName) : ee.ComputedObject.call(this, new ee.ApiFunction(\"String\"), {input:string}, null);\n    } else {\n      throw Error(\"Invalid argument specified for ee.String(): \" + string);\n    }\n  }\n};\ngoog.inherits(ee.String, ee.ComputedObject);\ngoog.exportSymbol(\"ee.String\", ee.String);\nee.String.initialized_ = !1;\nee.String.initialize = function() {\n  ee.String.initialized_ || (ee.ApiFunction.importApi(ee.String, \"String\", \"String\"), ee.String.initialized_ = !0);\n};\nee.String.reset = function() {\n  ee.ApiFunction.clearApi(ee.String);\n  ee.String.initialized_ = !1;\n};\nee.String.prototype.encode = function(encoder) {\n  return \"string\" === typeof this.string_ ? this.string_ : ee.String.superClass_.encode.call(this, encoder);\n};\nee.String.prototype.encodeCloudValue = function(serializer) {\n  return \"string\" === typeof this.string_ ? ee.rpc_node.reference(serializer.makeReference(this.string_)) : ee.String.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.String.prototype.name = function() {\n  return \"String\";\n};\nee.CustomFunction = function(signature, body) {\n  if (!(this instanceof ee.CustomFunction)) {\n    return ee.ComputedObject.construct(ee.CustomFunction, arguments);\n  }\n  for (var vars = [], args = signature.args, i = 0; i < args.length; i++) {\n    var arg = args[i];\n    vars.push(ee.CustomFunction.variable(ee.Types.nameToClass(arg.type), arg.name));\n  }\n  if (void 0 === body.apply(null, vars)) {\n    throw Error(\"User-defined methods must return a value.\");\n  }\n  this.signature_ = ee.CustomFunction.resolveNamelessArgs_(signature, vars, body);\n  this.body_ = body.apply(null, vars);\n};\ngoog.inherits(ee.CustomFunction, ee.Function);\ngoog.exportSymbol(\"ee.CustomFunction\", ee.CustomFunction);\nee.CustomFunction.prototype.encode = function(encoder) {\n  return {type:\"Function\", argumentNames:module$contents$goog$array_map(this.signature_.args, function(arg) {\n    return arg.name;\n  }), body:encoder(this.body_)};\n};\nee.CustomFunction.prototype.encodeCloudValue = function(serializer) {\n  return ee.rpc_node.functionDefinition(this.signature_.args.map(function(arg) {\n    return arg.name;\n  }), serializer.makeReference(this.body_));\n};\nee.CustomFunction.prototype.encodeCloudInvocation = function(serializer, args) {\n  return ee.rpc_node.functionByReference(serializer.makeReference(this), args);\n};\nee.CustomFunction.prototype.getSignature = function() {\n  return this.signature_;\n};\nee.CustomFunction.variable = function(type, name$jscomp$0) {\n  type = type || Object;\n  if (!(type.prototype instanceof ee.ComputedObject)) {\n    if (type && type != Object) {\n      if (type == String) {\n        type = ee.String;\n      } else {\n        if (type == Number) {\n          type = ee.Number;\n        } else {\n          if (type == Array) {\n            type = goog.global.ee.List;\n          } else {\n            throw Error(\"Variables must be of an EE type, e.g. ee.Image or ee.Number.\");\n          }\n        }\n      }\n    } else {\n      type = ee.ComputedObject;\n    }\n  }\n  var klass = function(name) {\n    this.args = this.func = null;\n    this.varName = name;\n  };\n  klass.prototype = type.prototype;\n  return new klass(name$jscomp$0);\n};\nee.CustomFunction.create = function(func, returnType, arg_types) {\n  var stringifyType = function(type) {\n    return \"string\" === typeof type ? type : ee.Types.classToName(type);\n  }, args = module$contents$goog$array_map(arg_types, function(argType) {\n    return {name:null, type:stringifyType(argType)};\n  }), signature = {name:\"\", returns:stringifyType(returnType), args:args};\n  return new ee.CustomFunction(signature, func);\n};\nee.CustomFunction.resolveNamelessArgs_ = function(signature, vars, body) {\n  for (var namelessArgIndices = [], i = 0; i < vars.length; i++) {\n    null === vars[i].varName && namelessArgIndices.push(i);\n  }\n  if (0 === namelessArgIndices.length) {\n    return signature;\n  }\n  for (var baseName = \"_MAPPING_VAR_\" + function(expression) {\n    var countNodes = function(nodes) {\n      return nodes.map(countNode).reduce(function(a, b) {\n        return a + b;\n      }, 0);\n    }, countNode = function(node) {\n      return node.functionDefinitionValue ? 1 : node.arrayValue ? countNodes(node.arrayValue.values) : node.dictionaryValue ? countNodes(Object.values(node.dictionaryValue.values)) : node.functionInvocationValue ? countNodes(Object.values(node.functionInvocationValue.arguments)) : 0;\n    };\n    return countNodes(Object.values(expression.values));\n  }(ee.Serializer.encodeCloudApiExpression(body.apply(null, vars), \"<unbound>\")) + \"_\", i$70 = 0; i$70 < namelessArgIndices.length; i$70++) {\n    var index = namelessArgIndices[i$70], name = baseName + i$70;\n    vars[index].varName = name;\n    signature.args[index].name = name;\n  }\n  return signature;\n};\nee.Date = function(date, opt_tz) {\n  if (!(this instanceof ee.Date)) {\n    return ee.ComputedObject.construct(ee.Date, arguments);\n  }\n  if (date instanceof ee.Date) {\n    return date;\n  }\n  ee.Date.initialize();\n  var jsArgs = ee.arguments.extractFromFunction(ee.Date, arguments);\n  date = jsArgs.date;\n  var tz = jsArgs.tz, func = new ee.ApiFunction(\"Date\"), args = {}, varName = null;\n  if (ee.Types.isString(date)) {\n    if (args.value = date, tz) {\n      if (ee.Types.isString(tz)) {\n        args.timeZone = tz;\n      } else {\n        throw Error(\"Invalid argument specified for ee.Date(..., opt_tz): \" + tz);\n      }\n    }\n  } else {\n    if (ee.Types.isNumber(date)) {\n      args.value = date;\n    } else {\n      if (goog.isDateLike(date)) {\n        args.value = Math.floor(date.getTime());\n      } else {\n        if (date instanceof ee.ComputedObject) {\n          date.func && \"Date\" == date.func.getSignature().returns ? (func = date.func, args = date.args, varName = date.varName) : args.value = date;\n        } else {\n          throw Error(\"Invalid argument specified for ee.Date(): \" + date);\n        }\n      }\n    }\n  }\n  ee.ComputedObject.call(this, func, args, varName);\n};\ngoog.inherits(ee.Date, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Date\", ee.Date);\nee.Date.initialized_ = !1;\nee.Date.initialize = function() {\n  ee.Date.initialized_ || (ee.ApiFunction.importApi(ee.Date, \"Date\", \"Date\"), ee.Date.initialized_ = !0);\n};\nee.Date.reset = function() {\n  ee.ApiFunction.clearApi(ee.Date);\n  ee.Date.initialized_ = !1;\n};\nee.Date.prototype.name = function() {\n  return \"Date\";\n};\nee.Deserializer = function() {\n};\ngoog.exportSymbol(\"ee.Deserializer\", ee.Deserializer);\nee.Deserializer.fromJSON = function(json) {\n  return ee.Deserializer.decode(JSON.parse(json));\n};\ngoog.exportSymbol(\"ee.Deserializer.fromJSON\", ee.Deserializer.fromJSON);\nee.Deserializer.decode = function(json) {\n  if (\"result\" in json && \"values\" in json) {\n    return ee.Deserializer.decodeCloudApi(json);\n  }\n  var namedValues = {};\n  if (goog.isObject(json) && \"CompoundValue\" === json.type) {\n    for (var scopes = json.scope, i = 0; i < scopes.length; i++) {\n      var key = scopes[i][0], value = scopes[i][1];\n      if (key in namedValues) {\n        throw Error('Duplicate scope key \"' + key + '\" in scope #' + i + \".\");\n      }\n      namedValues[key] = ee.Deserializer.decodeValue_(value, namedValues);\n    }\n    json = json.value;\n  }\n  return ee.Deserializer.decodeValue_(json, namedValues);\n};\ngoog.exportSymbol(\"ee.Deserializer.decode\", ee.Deserializer.decode);\nee.Deserializer.decodeValue_ = function(json, namedValues) {\n  if (null === json || \"number\" === typeof json || \"boolean\" === typeof json || \"string\" === typeof json) {\n    return json;\n  }\n  if (Array.isArray(json)) {\n    return module$contents$goog$array_map(json, function(element) {\n      return ee.Deserializer.decodeValue_(element, namedValues);\n    });\n  }\n  if (!goog.isObject(json) || \"function\" === typeof json) {\n    throw Error(\"Cannot decode object: \" + json);\n  }\n  var typeName = json.type;\n  switch(typeName) {\n    case \"ValueRef\":\n      if (json.value in namedValues) {\n        return namedValues[json.value];\n      }\n      throw Error(\"Unknown ValueRef: \" + json);\n    case \"ArgumentRef\":\n      var varName = json.value;\n      if (\"string\" !== typeof varName) {\n        throw Error(\"Invalid variable name: \" + varName);\n      }\n      return ee.CustomFunction.variable(Object, varName);\n    case \"Date\":\n      var microseconds = json.value;\n      if (\"number\" !== typeof microseconds) {\n        throw Error(\"Invalid date value: \" + microseconds);\n      }\n      return new ee.Date(microseconds / 1000);\n    case \"Bytes\":\n      return ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({bytesValue:json}), json);\n    case \"Invocation\":\n      var func = \"functionName\" in json ? ee.ApiFunction.lookup(json.functionName) : ee.Deserializer.decodeValue_(json[\"function\"], namedValues);\n      var args = module$contents$goog$object_map(json.arguments, function(element) {\n        return ee.Deserializer.decodeValue_(element, namedValues);\n      });\n      return ee.Deserializer.invocation_(func, args);\n    case \"Dictionary\":\n      return module$contents$goog$object_map(json.value, function(element) {\n        return ee.Deserializer.decodeValue_(element, namedValues);\n      });\n    case \"Function\":\n      var body = ee.Deserializer.decodeValue_(json.body, namedValues), signature = {name:\"\", args:module$contents$goog$array_map(json.argumentNames, function(argName) {\n        return {name:argName, type:\"Object\", optional:!1};\n      }), returns:\"Object\"};\n      return new ee.CustomFunction(signature, function() {\n        return body;\n      });\n    case \"Point\":\n    case \"MultiPoint\":\n    case \"LineString\":\n    case \"MultiLineString\":\n    case \"Polygon\":\n    case \"MultiPolygon\":\n    case \"LinearRing\":\n    case \"GeometryCollection\":\n      return new ee.Geometry(json);\n    case \"CompoundValue\":\n      throw Error(\"Nested CompoundValues are disallowed.\");\n    default:\n      throw Error(\"Unknown encoded object type: \" + typeName);\n  }\n};\nee.Deserializer.roundTrip_ = function(node, value) {\n  var Reencoder = function() {\n  };\n  $jscomp.inherits(Reencoder, ee.Encodable);\n  Reencoder.prototype.encode = function(encoder) {\n    return value;\n  };\n  Reencoder.prototype.encodeCloudValue = function(encoder) {\n    return node;\n  };\n  return new Reencoder();\n};\nee.Deserializer.invocation_ = function(func, args$jscomp$0) {\n  if (func instanceof ee.Function) {\n    return func.apply(args$jscomp$0);\n  }\n  if (func instanceof ee.ComputedObject) {\n    var ComputedFunction = function() {\n      return ee.Function.apply(this, arguments) || this;\n    };\n    $jscomp.inherits(ComputedFunction, ee.Function);\n    ComputedFunction.prototype.encode = function(encoder) {\n      return func.encode(encoder);\n    };\n    ComputedFunction.prototype.encodeCloudInvocation = function(serializer, args) {\n      return ee.rpc_node.functionByReference(serializer.makeReference(func), args);\n    };\n    return new ee.ComputedObject(new ComputedFunction(), args$jscomp$0);\n  }\n  throw Error(\"Invalid function value\");\n};\nee.Deserializer.fromCloudApiJSON = function(json) {\n  return ee.Deserializer.decodeCloudApi(JSON.parse(json));\n};\ngoog.exportSymbol(\"ee.Deserializer.fromCloudApiJSON\", ee.Deserializer.fromCloudApiJSON);\nee.Deserializer.decodeCloudApi = function(json) {\n  var expression = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.Expression, json), decoded = {}, lookup = function(reference, kind) {\n    if (!(reference in decoded)) {\n      if (!(reference in expression.values)) {\n        throw Error(\"Cannot find \" + kind + \" \" + reference);\n      }\n      decoded[reference] = decode(expression.values[reference]);\n    }\n    return decoded[reference];\n  }, decode = function(node) {\n    return null !== node.constantValue ? node.constantValue : null !== node.arrayValue ? node.arrayValue.values.map(decode) : null !== node.dictionaryValue ? module$contents$goog$object_map(node.dictionaryValue.values, decode) : null !== node.argumentReference ? ee.CustomFunction.variable(Object, node.argumentReference) : null !== node.functionDefinitionValue ? decodeFunctionDefinition(node.functionDefinitionValue) : null !== node.functionInvocationValue ? decodeFunctionInvocation(node.functionInvocationValue) : \n    null !== node.bytesValue ? ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({bytesValue:node.bytesValue}), node.bytesValue) : null !== node.integerValue ? ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({integerValue:node.integerValue}), node.integerValue) : null !== node.valueReference ? lookup(node.valueReference, \"reference\") : null;\n  }, decodeFunctionDefinition = function(defined) {\n    var body = lookup(defined.body, \"function body\"), signature = {args:defined.argumentNames.map(function(name) {\n      return {name:name, type:\"Object\", optional:!1};\n    }), name:\"\", returns:\"Object\"};\n    return new ee.CustomFunction(signature, function() {\n      return body;\n    });\n  }, decodeFunctionInvocation = function(invoked) {\n    var func = invoked.functionReference ? lookup(invoked.functionReference, \"function\") : ee.ApiFunction.lookup(invoked.functionName), args = module$contents$goog$object_map(invoked.arguments, decode);\n    return ee.Deserializer.invocation_(func, args);\n  };\n  return lookup(expression.result, \"result value\");\n};\ngoog.exportSymbol(\"ee.Deserializer.decodeCloudApi\", ee.Deserializer.decodeCloudApi);\nee.Dictionary = function(opt_dict) {\n  if (!(this instanceof ee.Dictionary)) {\n    return ee.ComputedObject.construct(ee.Dictionary, arguments);\n  }\n  if (opt_dict instanceof ee.Dictionary) {\n    return opt_dict;\n  }\n  ee.Dictionary.initialize();\n  ee.Types.isRegularObject(opt_dict) ? (ee.ComputedObject.call(this, null, null), this.dict_ = opt_dict) : (opt_dict instanceof ee.ComputedObject && opt_dict.func && \"Dictionary\" == opt_dict.func.getSignature().returns ? ee.ComputedObject.call(this, opt_dict.func, opt_dict.args, opt_dict.varName) : ee.ComputedObject.call(this, new ee.ApiFunction(\"Dictionary\"), {input:opt_dict}, null), this.dict_ = null);\n};\ngoog.inherits(ee.Dictionary, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Dictionary\", ee.Dictionary);\nee.Dictionary.initialized_ = !1;\nee.Dictionary.initialize = function() {\n  ee.Dictionary.initialized_ || (ee.ApiFunction.importApi(ee.Dictionary, \"Dictionary\", \"Dictionary\"), ee.Dictionary.initialized_ = !0);\n};\nee.Dictionary.reset = function() {\n  ee.ApiFunction.clearApi(ee.Dictionary);\n  ee.Dictionary.initialized_ = !1;\n};\nee.Dictionary.prototype.encode = function(encoder) {\n  return null !== this.dict_ ? encoder(this.dict_) : ee.Dictionary.superClass_.encode.call(this, encoder);\n};\nee.Dictionary.prototype.encodeCloudValue = function(serializer) {\n  return null !== this.dict_ ? ee.rpc_node.reference(serializer.makeReference(this.dict_)) : ee.Dictionary.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.Dictionary.prototype.name = function() {\n  return \"Dictionary\";\n};\nee.Terrain = {};\ngoog.exportSymbol(\"ee.Terrain\", ee.Terrain);\nee.Terrain.initialized_ = !1;\nee.Terrain.initialize = function() {\n  ee.Terrain.initialized_ || (ee.ApiFunction.importApi(ee.Terrain, \"Terrain\", \"Terrain\"), ee.Terrain.initialized_ = !0);\n};\nee.Terrain.reset = function() {\n  ee.ApiFunction.clearApi(ee.Terrain);\n  ee.Terrain.initialized_ = !1;\n};\nee.initialize = function(opt_baseurl, opt_tileurl, opt_successCallback, opt_errorCallback, opt_xsrfToken, opt_project) {\n  if (ee.ready_ != ee.InitState.READY || opt_baseurl || opt_tileurl) {\n    var isAsynchronous = null != opt_successCallback;\n    if (opt_errorCallback) {\n      if (isAsynchronous) {\n        ee.errorCallbacks_.push(opt_errorCallback);\n      } else {\n        throw Error(\"Can't pass an error callback without a success callback.\");\n      }\n    }\n    if (ee.ready_ == ee.InitState.LOADING && isAsynchronous) {\n      ee.successCallbacks_.push(opt_successCallback);\n    } else {\n      if (ee.ready_ = ee.InitState.LOADING, ee.data.initialize(opt_baseurl, opt_tileurl, opt_xsrfToken, opt_project), isAsynchronous) {\n        ee.successCallbacks_.push(opt_successCallback), ee.ApiFunction.initialize(ee.initializationSuccess_, ee.initializationFailure_);\n      } else {\n        try {\n          ee.ApiFunction.initialize(), ee.initializationSuccess_();\n        } catch (e) {\n          throw ee.initializationFailure_(e), e;\n        }\n      }\n    }\n  } else {\n    opt_successCallback && opt_successCallback();\n  }\n};\ngoog.exportSymbol(\"ee.initialize\", ee.initialize);\nee.reset = function() {\n  ee.ready_ = ee.InitState.NOT_READY;\n  ee.data.reset();\n  ee.ApiFunction.reset();\n  ee.Date.reset();\n  ee.Dictionary.reset();\n  ee.Element.reset();\n  ee.Image.reset();\n  ee.Feature.reset();\n  ee.Collection.reset();\n  ee.ImageCollection.reset();\n  ee.FeatureCollection.reset();\n  ee.Filter.reset();\n  ee.Geometry.reset();\n  ee.List.reset();\n  ee.Number.reset();\n  ee.String.reset();\n  ee.Terrain.reset();\n  ee.resetGeneratedClasses_();\n  module$contents$goog$object_clear(ee.Algorithms);\n};\ngoog.exportSymbol(\"ee.reset\", ee.reset);\nee.InitState = {NOT_READY:\"not_ready\", LOADING:\"loading\", READY:\"ready\"};\ngoog.exportSymbol(\"ee.InitState\", ee.InitState);\ngoog.exportSymbol(\"ee.InitState.NOT_READY\", ee.InitState.NOT_READY);\ngoog.exportSymbol(\"ee.InitState.LOADING\", ee.InitState.LOADING);\ngoog.exportSymbol(\"ee.InitState.READY\", ee.InitState.READY);\nee.ready_ = ee.InitState.NOT_READY;\nee.successCallbacks_ = [];\nee.errorCallbacks_ = [];\nee.TILE_SIZE = 256;\ngoog.exportSymbol(\"ee.TILE_SIZE\", ee.TILE_SIZE);\nee.generatedClasses_ = [];\nee.Algorithms = {};\ngoog.exportSymbol(\"ee.Algorithms\", ee.Algorithms);\nee.ready = function() {\n  return ee.ready_;\n};\nee.call = function(func, var_args) {\n  \"string\" === typeof func && (func = new ee.ApiFunction(func));\n  var args = Array.prototype.slice.call(arguments, 1);\n  return ee.Function.prototype.call.apply(func, args);\n};\ngoog.exportSymbol(\"ee.call\", ee.call);\nee.apply = function(func, namedArgs) {\n  \"string\" === typeof func && (func = new ee.ApiFunction(func));\n  return func.apply(namedArgs);\n};\ngoog.exportSymbol(\"ee.apply\", ee.apply);\nee.initializationSuccess_ = function() {\n  if (ee.ready_ == ee.InitState.LOADING) {\n    try {\n      ee.Date.initialize(), ee.Dictionary.initialize(), ee.Element.initialize(), ee.Image.initialize(), ee.Feature.initialize(), ee.Collection.initialize(), ee.ImageCollection.initialize(), ee.FeatureCollection.initialize(), ee.Filter.initialize(), ee.Geometry.initialize(), ee.List.initialize(), ee.Number.initialize(), ee.String.initialize(), ee.Terrain.initialize(), ee.initializeGeneratedClasses_(), ee.initializeUnboundMethods_();\n    } catch (e) {\n      ee.initializationFailure_(e);\n      return;\n    }\n    ee.ready_ = ee.InitState.READY;\n    for (ee.errorCallbacks_ = []; 0 < ee.successCallbacks_.length;) {\n      ee.successCallbacks_.shift()();\n    }\n  }\n};\nee.initializationFailure_ = function(e) {\n  if (ee.ready_ == ee.InitState.LOADING) {\n    for (ee.ready_ = ee.InitState.NOT_READY, ee.successCallbacks_ = []; 0 < ee.errorCallbacks_.length;) {\n      ee.errorCallbacks_.shift()(e);\n    }\n  }\n};\nee.promote_ = function(arg, klass) {\n  if (null === arg) {\n    return null;\n  }\n  if (void 0 !== arg) {\n    var exportedEE = goog.global.ee;\n    switch(klass) {\n      case \"Image\":\n        return new ee.Image(arg);\n      case \"Feature\":\n        return arg instanceof ee.Collection ? ee.ApiFunction._call(\"Feature\", ee.ApiFunction._call(\"Collection.geometry\", arg)) : new ee.Feature(arg);\n      case \"Element\":\n        if (arg instanceof ee.Element) {\n          return arg;\n        }\n        if (arg instanceof ee.Geometry) {\n          return new ee.Feature(arg);\n        }\n        if (arg instanceof ee.ComputedObject) {\n          return new ee.Element(arg.func, arg.args, arg.varName);\n        }\n        throw Error(\"Cannot convert \" + arg + \" to Element.\");\n      case \"Geometry\":\n        return arg instanceof ee.FeatureCollection ? ee.ApiFunction._call(\"Collection.geometry\", arg) : new ee.Geometry(arg);\n      case \"FeatureCollection\":\n      case \"Collection\":\n        return arg instanceof ee.Collection ? arg : new ee.FeatureCollection(arg);\n      case \"ImageCollection\":\n        return new ee.ImageCollection(arg);\n      case \"Filter\":\n        return new ee.Filter(arg);\n      case \"Algorithm\":\n        if (\"string\" === typeof arg) {\n          return new ee.ApiFunction(arg);\n        }\n        if (\"function\" === typeof arg) {\n          return ee.CustomFunction.create(arg, \"Object\", module$contents$goog$array_repeat(\"Object\", arg.length));\n        }\n        if (arg instanceof ee.Encodable) {\n          return arg;\n        }\n        throw Error(\"Argument is not a function: \" + arg);\n      case \"String\":\n        return ee.Types.isString(arg) || arg instanceof ee.String || arg instanceof ee.ComputedObject ? new ee.String(arg) : arg;\n      case \"Dictionary\":\n        return ee.Types.isRegularObject(arg) ? arg : new ee.Dictionary(arg);\n      case \"List\":\n        return new ee.List(arg);\n      case \"Number\":\n      case \"Float\":\n      case \"Long\":\n      case \"Integer\":\n      case \"Short\":\n      case \"Byte\":\n        return new ee.Number(arg);\n      default:\n        if (klass in exportedEE) {\n          var ctor = ee.ApiFunction.lookupInternal(klass);\n          if (arg instanceof exportedEE[klass]) {\n            return arg;\n          }\n          if (ctor) {\n            return new exportedEE[klass](arg);\n          }\n          if (\"string\" === typeof arg) {\n            if (arg in exportedEE[klass]) {\n              return exportedEE[klass][arg].call();\n            }\n            throw Error(\"Unknown algorithm: \" + klass + \".\" + arg);\n          }\n          return new exportedEE[klass](arg);\n        }\n        return arg;\n    }\n  }\n};\nee.initializeUnboundMethods_ = function() {\n  var unbound = ee.ApiFunction.unboundFunctions();\n  module$contents$goog$object_getKeys(unbound).sort().forEach(function(name) {\n    var func = unbound[name], signature = func.getSignature();\n    if (!signature.hidden) {\n      var nameParts = name.split(\".\"), target = ee.Algorithms;\n      for (target.signature = {}; 1 < nameParts.length;) {\n        var first = nameParts[0];\n        first in target || (target[first] = {signature:{}});\n        target = target[first];\n        nameParts = module$contents$goog$array_slice(nameParts, 1);\n      }\n      var bound = function(var_args) {\n        return func.callOrApply(void 0, Array.prototype.slice.call(arguments, 0));\n      };\n      bound.signature = signature;\n      bound.toString = goog.bind(func.toString, func);\n      target[nameParts[0]] = bound;\n    }\n  });\n};\nee.initializeGeneratedClasses_ = function() {\n  var signatures = ee.ApiFunction.allSignatures(), names = {}, returnTypes = {}, sig;\n  for (sig in signatures) {\n    var type = -1 != sig.indexOf(\".\") ? sig.slice(0, sig.indexOf(\".\")) : sig;\n    names[type] = !0;\n    var rtype = signatures[sig].returns.replace(/<.*>/, \"\");\n    returnTypes[rtype] = !0;\n  }\n  var exportedEE = goog.global.ee, name;\n  for (name in names) {\n    name in returnTypes && !(name in exportedEE) && (exportedEE[name] = ee.makeClass_(name), ee.generatedClasses_.push(name), signatures[name] ? (exportedEE[name].signature = signatures[name], exportedEE[name].signature.isConstructor = !0, ee.ApiFunction.boundSignatures_[name] = !0) : exportedEE[name].signature = {});\n  }\n  ee.Types.registerClasses(exportedEE);\n};\nee.resetGeneratedClasses_ = function() {\n  for (var exportedEE = goog.global.ee, i = 0; i < ee.generatedClasses_.length; i++) {\n    var name = ee.generatedClasses_[i];\n    ee.ApiFunction.clearApi(exportedEE[name]);\n    delete exportedEE[name];\n  }\n  ee.generatedClasses_ = [];\n  ee.Types.registerClasses(exportedEE);\n};\nee.makeClass_ = function(name) {\n  var target = function(var_args) {\n    var klass = goog.global.ee[name], args = Array.prototype.slice.call(arguments), onlyOneArg = 1 == args.length;\n    if (onlyOneArg && args[0] instanceof klass) {\n      return args[0];\n    }\n    if (!(this instanceof klass)) {\n      return ee.ComputedObject.construct(klass, args);\n    }\n    var ctor = ee.ApiFunction.lookupInternal(name), firstArgIsPrimitive = !(args[0] instanceof ee.ComputedObject), shouldUseConstructor = !1;\n    ctor && (onlyOneArg ? firstArgIsPrimitive ? shouldUseConstructor = !0 : args[0].func && args[0].func.getSignature().returns == ctor.getSignature().returns || (shouldUseConstructor = !0) : shouldUseConstructor = !0);\n    if (shouldUseConstructor) {\n      var namedArgs = ee.Types.useKeywordArgs(args, ctor.getSignature()) ? args[0] : ctor.nameArgs(args);\n      ee.ComputedObject.call(this, ctor, ctor.promoteArgs(namedArgs));\n    } else {\n      if (!onlyOneArg) {\n        throw Error(\"Too many arguments for ee.\" + name + \"(): \" + args);\n      }\n      if (firstArgIsPrimitive) {\n        throw Error(\"Invalid argument for ee.\" + name + \"(): \" + args + \". Must be a ComputedObject.\");\n      }\n      var theOneArg = args[0];\n      ee.ComputedObject.call(this, theOneArg.func, theOneArg.args, theOneArg.varName);\n    }\n  };\n  goog.inherits(target, ee.ComputedObject);\n  target.prototype.name = function() {\n    return name;\n  };\n  ee.ApiFunction.importApi(target, name, name);\n  return target;\n};\nee.Function.registerPromoter(ee.promote_);\nee.FloatTileOverlay = function(url, mapId, token) {\n  ee.AbstractOverlay.call(this, url, mapId, token);\n  this.tileSize = new google.maps.Size(ee.FloatTileOverlay.TILE_EDGE_LENGTH, ee.FloatTileOverlay.TILE_EDGE_LENGTH);\n  this.floatTiles_ = new goog.structs.Map();\n  this.floatTileDivs_ = new goog.structs.Map();\n};\n$jscomp.inherits(ee.FloatTileOverlay, ee.AbstractOverlay);\nee.FloatTileOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n  var tileId = this.getTileId(coord, zoom), src = [this.url, tileId].join(\"/\") + \"?token=\" + this.token, uniqueTileId = [tileId, this.tileCounter, this.token].join(\"/\");\n  this.tilesLoading.push(uniqueTileId);\n  this.tileCounter += 1;\n  var div = goog.dom.createDom(goog.dom.TagName.DIV), floatTile = this.loadFloatTile_(src, coord, uniqueTileId, div);\n  this.dispatchTileEvent_();\n  return div;\n};\nee.FloatTileOverlay.prototype.loadFloatTile_ = function(tileUrl, coord, tileId, div) {\n  var tileRequest = goog.net.XmlHttp();\n  tileRequest.open(\"GET\", tileUrl, !0);\n  tileRequest.responseType = \"arraybuffer\";\n  tileRequest.onreadystatechange = goog.bind(function() {\n    if (tileRequest.readyState === XMLHttpRequest.DONE && 200 === tileRequest.status) {\n      var tileResponse = tileRequest.response;\n      if (tileResponse) {\n        var floatBuffer = new Float32Array(tileResponse);\n        this.handleFloatTileLoaded_(floatBuffer, coord, tileId, div);\n      } else {\n        throw this.tilesFailed.add(tileId), Error(\"Unable to request floating point array buffers.\");\n      }\n    }\n  }, this);\n  tileRequest.send();\n};\nee.FloatTileOverlay.prototype.handleFloatTileLoaded_ = function(floatTile, coord, tileId, div) {\n  this.floatTiles_.set(coord, floatTile);\n  this.floatTileDivs_.set(coord, div);\n  module$contents$goog$array_remove(this.tilesLoading, tileId);\n  this.dispatchTileEvent_();\n};\nee.FloatTileOverlay.prototype.getAllFloatTiles = function() {\n  return this.floatTiles_;\n};\nee.FloatTileOverlay.prototype.getAllFloatTileDivs = function() {\n  return this.floatTileDivs_;\n};\nee.FloatTileOverlay.prototype.getLoadedFloatTilesCount = function() {\n  return this.floatTiles_.getCount();\n};\nee.FloatTileOverlay.prototype.dispatchTileEvent_ = function() {\n  this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length));\n};\nee.FloatTileOverlay.prototype.disposeInternal = function() {\n  this.floatTileDivs_ = this.floatTiles_ = null;\n  ee.AbstractOverlay.prototype.disposeInternal.call(this);\n};\ngoog.exportSymbol(\"ee.FloatTileOverlay\", ee.FloatTileOverlay);\nee.FloatTileOverlay.TILE_EDGE_LENGTH = 256;\nee.layers = {};\nvar module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats = function(uniqueId) {\n  this.statsByZoom_ = new Map();\n  this.uniqueId_ = uniqueId;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.addTileStats = function(start, end, zoom) {\n  this.getStatsForZoom_(zoom).tileLatencies.push(end - start);\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.incrementThrottleCounter = function(zoom) {\n  this.getStatsForZoom_(zoom).throttleCount++;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.incrementErrorCounter = function(zoom) {\n  this.getStatsForZoom_(zoom).errorCount++;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.clear = function() {\n  this.statsByZoom_.clear();\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.hasData = function() {\n  return 0 < this.statsByZoom_.size;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.getSummaryList = function() {\n  var $jscomp$this = this, summaryList = [];\n  this.statsByZoom_.forEach(function(stats, zoom) {\n    return summaryList.push({layerId:$jscomp$this.uniqueId_, zoomLevel:zoom, tileLatencies:stats.tileLatencies, throttleCount:stats.throttleCount, errorCount:stats.errorCount,});\n  });\n  return summaryList;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.getStatsForZoom_ = function(zoom) {\n  this.statsByZoom_.has(zoom) || this.statsByZoom_.set(zoom, {throttleCount:0, errorCount:0, tileLatencies:[],});\n  return this.statsByZoom_.get(zoom);\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.LayerStatsForZoomLevel = function() {\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.Summary = function() {\n};\nee.layers.AbstractOverlayStats = module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats;\ngoog.events.EventHandler = function(opt_scope) {\n  goog.Disposable.call(this);\n  this.handler_ = opt_scope;\n  this.keys_ = {};\n};\ngoog.inherits(goog.events.EventHandler, goog.Disposable);\ngoog.events.EventHandler.typeArray_ = [];\ngoog.events.EventHandler.prototype.listen = function(src, type, opt_fn, opt_options) {\n  return this.listen_(src, type, opt_fn, opt_options);\n};\ngoog.events.EventHandler.prototype.listenWithScope = function(src, type, fn, options, scope) {\n  return this.listen_(src, type, fn, options, scope);\n};\ngoog.events.EventHandler.prototype.listen_ = function(src, type, opt_fn, opt_options, opt_scope) {\n  Array.isArray(type) || (type && (goog.events.EventHandler.typeArray_[0] = type.toString()), type = goog.events.EventHandler.typeArray_);\n  for (var i = 0; i < type.length; i++) {\n    var listenerObj = goog.events.listen(src, type[i], opt_fn || this.handleEvent, opt_options || !1, opt_scope || this.handler_ || this);\n    if (!listenerObj) {\n      break;\n    }\n    this.keys_[listenerObj.key] = listenerObj;\n  }\n  return this;\n};\ngoog.events.EventHandler.prototype.listenOnce = function(src, type, opt_fn, opt_options) {\n  return this.listenOnce_(src, type, opt_fn, opt_options);\n};\ngoog.events.EventHandler.prototype.listenOnceWithScope = function(src, type, fn, capture, scope) {\n  return this.listenOnce_(src, type, fn, capture, scope);\n};\ngoog.events.EventHandler.prototype.listenOnce_ = function(src, type, opt_fn, opt_options, opt_scope) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      this.listenOnce_(src, type[i], opt_fn, opt_options, opt_scope);\n    }\n  } else {\n    var listenerObj = goog.events.listenOnce(src, type, opt_fn || this.handleEvent, opt_options, opt_scope || this.handler_ || this);\n    if (!listenerObj) {\n      return this;\n    }\n    this.keys_[listenerObj.key] = listenerObj;\n  }\n  return this;\n};\ngoog.events.EventHandler.prototype.listenWithWrapper = function(src, wrapper, listener, opt_capt) {\n  return this.listenWithWrapper_(src, wrapper, listener, opt_capt);\n};\ngoog.events.EventHandler.prototype.listenWithWrapperAndScope = function(src, wrapper, listener, capture, scope) {\n  return this.listenWithWrapper_(src, wrapper, listener, capture, scope);\n};\ngoog.events.EventHandler.prototype.listenWithWrapper_ = function(src, wrapper, listener, opt_capt, opt_scope) {\n  wrapper.listen(src, listener, opt_capt, opt_scope || this.handler_ || this, this);\n  return this;\n};\ngoog.events.EventHandler.prototype.getListenerCount = function() {\n  var count = 0, key;\n  for (key in this.keys_) {\n    Object.prototype.hasOwnProperty.call(this.keys_, key) && count++;\n  }\n  return count;\n};\ngoog.events.EventHandler.prototype.unlisten = function(src, type, opt_fn, opt_options, opt_scope) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      this.unlisten(src, type[i], opt_fn, opt_options, opt_scope);\n    }\n  } else {\n    var listener = goog.events.getListener(src, type, opt_fn || this.handleEvent, goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, opt_scope || this.handler_ || this);\n    listener && (goog.events.unlistenByKey(listener), delete this.keys_[listener.key]);\n  }\n  return this;\n};\ngoog.events.EventHandler.prototype.unlistenWithWrapper = function(src, wrapper, listener, opt_capt, opt_scope) {\n  wrapper.unlisten(src, listener, opt_capt, opt_scope || this.handler_ || this, this);\n  return this;\n};\ngoog.events.EventHandler.prototype.removeAll = function() {\n  module$contents$goog$object_forEach(this.keys_, function(listenerObj, key) {\n    this.keys_.hasOwnProperty(key) && goog.events.unlistenByKey(listenerObj);\n  }, this);\n  this.keys_ = {};\n};\ngoog.events.EventHandler.prototype.disposeInternal = function() {\n  goog.events.EventHandler.superClass_.disposeInternal.call(this);\n  this.removeAll();\n};\ngoog.events.EventHandler.prototype.handleEvent = function(e) {\n  throw Error(\"EventHandler.handleEvent not implemented\");\n};\ngoog.fs.DOMErrorLike = function() {\n};\ngoog.fs.Error = function(error, action) {\n  if (void 0 !== error.name) {\n    this.name = error.name, this.code = goog.fs.Error.getCodeFromName_(error.name);\n  } else {\n    var code = goog.asserts.assertNumber(error.code);\n    this.code = code;\n    this.name = goog.fs.Error.getNameFromCode_(code);\n  }\n  module$contents$goog$debug$Error_DebugError.call(this, goog.string.subs(\"%s %s\", this.name, action));\n};\ngoog.inherits(goog.fs.Error, module$contents$goog$debug$Error_DebugError);\ngoog.fs.Error.ErrorName = {ABORT:\"AbortError\", ENCODING:\"EncodingError\", INVALID_MODIFICATION:\"InvalidModificationError\", INVALID_STATE:\"InvalidStateError\", NOT_FOUND:\"NotFoundError\", NOT_READABLE:\"NotReadableError\", NO_MODIFICATION_ALLOWED:\"NoModificationAllowedError\", PATH_EXISTS:\"PathExistsError\", QUOTA_EXCEEDED:\"QuotaExceededError\", SECURITY:\"SecurityError\", SYNTAX:\"SyntaxError\", TYPE_MISMATCH:\"TypeMismatchError\"};\ngoog.fs.Error.ErrorCode = {NOT_FOUND:1, SECURITY:2, ABORT:3, NOT_READABLE:4, ENCODING:5, NO_MODIFICATION_ALLOWED:6, INVALID_STATE:7, SYNTAX:8, INVALID_MODIFICATION:9, QUOTA_EXCEEDED:10, TYPE_MISMATCH:11, PATH_EXISTS:12};\ngoog.fs.Error.getNameFromCode_ = function(code) {\n  var name = module$contents$goog$object_findKey(goog.fs.Error.NameToCodeMap_, function(c) {\n    return code == c;\n  });\n  if (void 0 === name) {\n    throw Error(\"Invalid code: \" + code);\n  }\n  return name;\n};\ngoog.fs.Error.getCodeFromName_ = function(name) {\n  return goog.fs.Error.NameToCodeMap_[name];\n};\nvar $jscomp$compprop4 = {};\ngoog.fs.Error.NameToCodeMap_ = ($jscomp$compprop4[goog.fs.Error.ErrorName.ABORT] = goog.fs.Error.ErrorCode.ABORT, $jscomp$compprop4[goog.fs.Error.ErrorName.ENCODING] = goog.fs.Error.ErrorCode.ENCODING, $jscomp$compprop4[goog.fs.Error.ErrorName.INVALID_MODIFICATION] = goog.fs.Error.ErrorCode.INVALID_MODIFICATION, $jscomp$compprop4[goog.fs.Error.ErrorName.INVALID_STATE] = goog.fs.Error.ErrorCode.INVALID_STATE, $jscomp$compprop4[goog.fs.Error.ErrorName.NOT_FOUND] = goog.fs.Error.ErrorCode.NOT_FOUND, \n$jscomp$compprop4[goog.fs.Error.ErrorName.NOT_READABLE] = goog.fs.Error.ErrorCode.NOT_READABLE, $jscomp$compprop4[goog.fs.Error.ErrorName.NO_MODIFICATION_ALLOWED] = goog.fs.Error.ErrorCode.NO_MODIFICATION_ALLOWED, $jscomp$compprop4[goog.fs.Error.ErrorName.PATH_EXISTS] = goog.fs.Error.ErrorCode.PATH_EXISTS, $jscomp$compprop4[goog.fs.Error.ErrorName.QUOTA_EXCEEDED] = goog.fs.Error.ErrorCode.QUOTA_EXCEEDED, $jscomp$compprop4[goog.fs.Error.ErrorName.SECURITY] = goog.fs.Error.ErrorCode.SECURITY, $jscomp$compprop4[goog.fs.Error.ErrorName.SYNTAX] = \ngoog.fs.Error.ErrorCode.SYNTAX, $jscomp$compprop4[goog.fs.Error.ErrorName.TYPE_MISMATCH] = goog.fs.Error.ErrorCode.TYPE_MISMATCH, $jscomp$compprop4);\ngoog.fs.ProgressEvent = function(event, target) {\n  goog.events.Event.call(this, event.type, target);\n  this.event_ = event;\n};\ngoog.inherits(goog.fs.ProgressEvent, goog.events.Event);\ngoog.fs.ProgressEvent.prototype.isLengthComputable = function() {\n  return this.event_.lengthComputable;\n};\ngoog.fs.ProgressEvent.prototype.getLoaded = function() {\n  return this.event_.loaded;\n};\ngoog.fs.ProgressEvent.prototype.getTotal = function() {\n  return this.event_.total;\n};\ngoog.fs.FileReader = function() {\n  goog.events.EventTarget.call(this);\n  this.reader_ = new FileReader();\n  this.reader_.onloadstart = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onprogress = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onload = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onabort = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onerror = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onloadend = goog.bind(this.dispatchProgressEvent_, this);\n};\ngoog.inherits(goog.fs.FileReader, goog.events.EventTarget);\ngoog.fs.FileReader.ReadyState = {INIT:0, LOADING:1, DONE:2};\ngoog.fs.FileReader.EventType = {LOAD_START:\"loadstart\", PROGRESS:\"progress\", LOAD:\"load\", ABORT:\"abort\", ERROR:\"error\", LOAD_END:\"loadend\"};\ngoog.fs.FileReader.prototype.abort = function() {\n  try {\n    this.reader_.abort();\n  } catch (e) {\n    throw new goog.fs.Error(e, \"aborting read\");\n  }\n};\ngoog.fs.FileReader.prototype.getReadyState = function() {\n  return this.reader_.readyState;\n};\ngoog.fs.FileReader.prototype.getResult = function() {\n  return this.reader_.result;\n};\ngoog.fs.FileReader.prototype.getError = function() {\n  return this.reader_.error && new goog.fs.Error(this.reader_.error, \"reading file\");\n};\ngoog.fs.FileReader.prototype.dispatchProgressEvent_ = function(event) {\n  this.dispatchEvent(new goog.fs.ProgressEvent(event, this));\n};\ngoog.fs.FileReader.prototype.disposeInternal = function() {\n  goog.fs.FileReader.superClass_.disposeInternal.call(this);\n  delete this.reader_;\n};\ngoog.fs.FileReader.prototype.readAsBinaryString = function(blob) {\n  this.reader_.readAsBinaryString(blob);\n};\ngoog.fs.FileReader.readAsBinaryString = function(blob) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsBinaryString(blob);\n  return d;\n};\ngoog.fs.FileReader.prototype.readAsArrayBuffer = function(blob) {\n  this.reader_.readAsArrayBuffer(blob);\n};\ngoog.fs.FileReader.readAsArrayBuffer = function(blob) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsArrayBuffer(blob);\n  return d;\n};\ngoog.fs.FileReader.prototype.readAsText = function(blob, opt_encoding) {\n  this.reader_.readAsText(blob, opt_encoding);\n};\ngoog.fs.FileReader.readAsText = function(blob, opt_encoding) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsText(blob, opt_encoding);\n  return d;\n};\ngoog.fs.FileReader.prototype.readAsDataUrl = function(blob) {\n  this.reader_.readAsDataURL(blob);\n};\ngoog.fs.FileReader.readAsDataUrl = function(blob) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsDataUrl(blob);\n  return d;\n};\ngoog.fs.FileReader.createDeferred_ = function(reader) {\n  var deferred = new goog.async.Deferred();\n  reader.listen(goog.fs.FileReader.EventType.LOAD_END, goog.partial(function(d, r, e) {\n    var result = r.getResult(), error = r.getError();\n    null == result || error ? d.errback(error) : d.callback(result);\n    r.dispose();\n  }, deferred, reader));\n  return deferred;\n};\ngoog.dom.vendor = {};\ngoog.dom.vendor.getVendorJsPrefix = function() {\n  return goog.userAgent.WEBKIT ? \"Webkit\" : goog.userAgent.GECKO ? \"Moz\" : goog.userAgent.IE ? \"ms\" : null;\n};\ngoog.dom.vendor.getVendorPrefix = function() {\n  return goog.userAgent.WEBKIT ? \"-webkit\" : goog.userAgent.GECKO ? \"-moz\" : goog.userAgent.IE ? \"-ms\" : null;\n};\ngoog.dom.vendor.getPrefixedPropertyName = function(propertyName, opt_object) {\n  if (opt_object && propertyName in opt_object) {\n    return propertyName;\n  }\n  var prefix = goog.dom.vendor.getVendorJsPrefix();\n  if (prefix) {\n    prefix = prefix.toLowerCase();\n    var prefixedPropertyName = prefix + goog.string.toTitleCase(propertyName);\n    return void 0 === opt_object || prefixedPropertyName in opt_object ? prefixedPropertyName : null;\n  }\n  return null;\n};\ngoog.dom.vendor.getPrefixedEventType = function(eventType) {\n  return ((goog.dom.vendor.getVendorJsPrefix() || \"\") + eventType).toLowerCase();\n};\ngoog.math.Box = function(top, right, bottom, left) {\n  this.top = top;\n  this.right = right;\n  this.bottom = bottom;\n  this.left = left;\n};\ngoog.math.Box.boundingBox = function(var_args) {\n  for (var box = new goog.math.Box(arguments[0].y, arguments[0].x, arguments[0].y, arguments[0].x), i = 1; i < arguments.length; i++) {\n    box.expandToIncludeCoordinate(arguments[i]);\n  }\n  return box;\n};\ngoog.math.Box.prototype.getWidth = function() {\n  return this.right - this.left;\n};\ngoog.math.Box.prototype.getHeight = function() {\n  return this.bottom - this.top;\n};\ngoog.math.Box.prototype.clone = function() {\n  return new goog.math.Box(this.top, this.right, this.bottom, this.left);\n};\ngoog.DEBUG && (goog.math.Box.prototype.toString = function() {\n  return \"(\" + this.top + \"t, \" + this.right + \"r, \" + this.bottom + \"b, \" + this.left + \"l)\";\n});\ngoog.math.Box.prototype.contains = function(other) {\n  return goog.math.Box.contains(this, other);\n};\ngoog.math.Box.prototype.expand = function(top, opt_right, opt_bottom, opt_left) {\n  goog.isObject(top) ? (this.top -= top.top, this.right += top.right, this.bottom += top.bottom, this.left -= top.left) : (this.top -= top, this.right += Number(opt_right), this.bottom += Number(opt_bottom), this.left -= Number(opt_left));\n  return this;\n};\ngoog.math.Box.prototype.expandToInclude = function(box) {\n  this.left = Math.min(this.left, box.left);\n  this.top = Math.min(this.top, box.top);\n  this.right = Math.max(this.right, box.right);\n  this.bottom = Math.max(this.bottom, box.bottom);\n};\ngoog.math.Box.prototype.expandToIncludeCoordinate = function(coord) {\n  this.top = Math.min(this.top, coord.y);\n  this.right = Math.max(this.right, coord.x);\n  this.bottom = Math.max(this.bottom, coord.y);\n  this.left = Math.min(this.left, coord.x);\n};\ngoog.math.Box.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.top == b.top && a.right == b.right && a.bottom == b.bottom && a.left == b.left : !1;\n};\ngoog.math.Box.contains = function(box, other) {\n  return box && other ? other instanceof goog.math.Box ? other.left >= box.left && other.right <= box.right && other.top >= box.top && other.bottom <= box.bottom : other.x >= box.left && other.x <= box.right && other.y >= box.top && other.y <= box.bottom : !1;\n};\ngoog.math.Box.relativePositionX = function(box, coord) {\n  return coord.x < box.left ? coord.x - box.left : coord.x > box.right ? coord.x - box.right : 0;\n};\ngoog.math.Box.relativePositionY = function(box, coord) {\n  return coord.y < box.top ? coord.y - box.top : coord.y > box.bottom ? coord.y - box.bottom : 0;\n};\ngoog.math.Box.distance = function(box, coord) {\n  var x = goog.math.Box.relativePositionX(box, coord), y = goog.math.Box.relativePositionY(box, coord);\n  return Math.sqrt(x * x + y * y);\n};\ngoog.math.Box.intersects = function(a, b) {\n  return a.left <= b.right && b.left <= a.right && a.top <= b.bottom && b.top <= a.bottom;\n};\ngoog.math.Box.intersectsWithPadding = function(a, b, padding) {\n  return a.left <= b.right + padding && b.left <= a.right + padding && a.top <= b.bottom + padding && b.top <= a.bottom + padding;\n};\ngoog.math.Box.prototype.ceil = function() {\n  this.top = Math.ceil(this.top);\n  this.right = Math.ceil(this.right);\n  this.bottom = Math.ceil(this.bottom);\n  this.left = Math.ceil(this.left);\n  return this;\n};\ngoog.math.Box.prototype.floor = function() {\n  this.top = Math.floor(this.top);\n  this.right = Math.floor(this.right);\n  this.bottom = Math.floor(this.bottom);\n  this.left = Math.floor(this.left);\n  return this;\n};\ngoog.math.Box.prototype.round = function() {\n  this.top = Math.round(this.top);\n  this.right = Math.round(this.right);\n  this.bottom = Math.round(this.bottom);\n  this.left = Math.round(this.left);\n  return this;\n};\ngoog.math.Box.prototype.translate = function(tx, opt_ty) {\n  tx instanceof goog.math.Coordinate ? (this.left += tx.x, this.right += tx.x, this.top += tx.y, this.bottom += tx.y) : (goog.asserts.assertNumber(tx), this.left += tx, this.right += tx, \"number\" === typeof opt_ty && (this.top += opt_ty, this.bottom += opt_ty));\n  return this;\n};\ngoog.math.Box.prototype.scale = function(sx, opt_sy) {\n  var sy = \"number\" === typeof opt_sy ? opt_sy : sx;\n  this.left *= sx;\n  this.right *= sx;\n  this.top *= sy;\n  this.bottom *= sy;\n  return this;\n};\ngoog.math.IRect = function() {\n};\ngoog.math.Rect = function(x, y, w, h) {\n  this.left = x;\n  this.top = y;\n  this.width = w;\n  this.height = h;\n};\ngoog.math.Rect.prototype.clone = function() {\n  return new goog.math.Rect(this.left, this.top, this.width, this.height);\n};\ngoog.math.Rect.prototype.toBox = function() {\n  return new goog.math.Box(this.top, this.left + this.width, this.top + this.height, this.left);\n};\ngoog.math.Rect.createFromPositionAndSize = function(position, size) {\n  return new goog.math.Rect(position.x, position.y, size.width, size.height);\n};\ngoog.math.Rect.createFromBox = function(box) {\n  return new goog.math.Rect(box.left, box.top, box.right - box.left, box.bottom - box.top);\n};\ngoog.DEBUG && (goog.math.Rect.prototype.toString = function() {\n  return \"(\" + this.left + \", \" + this.top + \" - \" + this.width + \"w x \" + this.height + \"h)\";\n});\ngoog.math.Rect.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.left == b.left && a.width == b.width && a.top == b.top && a.height == b.height : !1;\n};\ngoog.math.Rect.prototype.intersection = function(rect) {\n  var x0 = Math.max(this.left, rect.left), x1 = Math.min(this.left + this.width, rect.left + rect.width);\n  if (x0 <= x1) {\n    var y0 = Math.max(this.top, rect.top), y1 = Math.min(this.top + this.height, rect.top + rect.height);\n    if (y0 <= y1) {\n      return this.left = x0, this.top = y0, this.width = x1 - x0, this.height = y1 - y0, !0;\n    }\n  }\n  return !1;\n};\ngoog.math.Rect.intersection = function(a, b) {\n  var x0 = Math.max(a.left, b.left), x1 = Math.min(a.left + a.width, b.left + b.width);\n  if (x0 <= x1) {\n    var y0 = Math.max(a.top, b.top), y1 = Math.min(a.top + a.height, b.top + b.height);\n    if (y0 <= y1) {\n      return new goog.math.Rect(x0, y0, x1 - x0, y1 - y0);\n    }\n  }\n  return null;\n};\ngoog.math.Rect.intersects = function(a, b) {\n  return a.left <= b.left + b.width && b.left <= a.left + a.width && a.top <= b.top + b.height && b.top <= a.top + a.height;\n};\ngoog.math.Rect.prototype.intersects = function(rect) {\n  return goog.math.Rect.intersects(this, rect);\n};\ngoog.math.Rect.difference = function(a, b) {\n  var intersection = goog.math.Rect.intersection(a, b);\n  if (!intersection || !intersection.height || !intersection.width) {\n    return [a.clone()];\n  }\n  var result = [], top = a.top, height = a.height, ar = a.left + a.width, ab = a.top + a.height, br = b.left + b.width, bb = b.top + b.height;\n  b.top > a.top && (result.push(new goog.math.Rect(a.left, a.top, a.width, b.top - a.top)), top = b.top, height -= b.top - a.top);\n  bb < ab && (result.push(new goog.math.Rect(a.left, bb, a.width, ab - bb)), height = bb - top);\n  b.left > a.left && result.push(new goog.math.Rect(a.left, top, b.left - a.left, height));\n  br < ar && result.push(new goog.math.Rect(br, top, ar - br, height));\n  return result;\n};\ngoog.math.Rect.prototype.difference = function(rect) {\n  return goog.math.Rect.difference(this, rect);\n};\ngoog.math.Rect.prototype.boundingRect = function(rect) {\n  var right = Math.max(this.left + this.width, rect.left + rect.width), bottom = Math.max(this.top + this.height, rect.top + rect.height);\n  this.left = Math.min(this.left, rect.left);\n  this.top = Math.min(this.top, rect.top);\n  this.width = right - this.left;\n  this.height = bottom - this.top;\n};\ngoog.math.Rect.boundingRect = function(a, b) {\n  if (!a || !b) {\n    return null;\n  }\n  var newRect = new goog.math.Rect(a.left, a.top, a.width, a.height);\n  newRect.boundingRect(b);\n  return newRect;\n};\ngoog.math.Rect.prototype.contains = function(another) {\n  return another instanceof goog.math.Coordinate ? another.x >= this.left && another.x <= this.left + this.width && another.y >= this.top && another.y <= this.top + this.height : this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n};\ngoog.math.Rect.prototype.squaredDistance = function(point) {\n  var dx = point.x < this.left ? this.left - point.x : Math.max(point.x - (this.left + this.width), 0), dy = point.y < this.top ? this.top - point.y : Math.max(point.y - (this.top + this.height), 0);\n  return dx * dx + dy * dy;\n};\ngoog.math.Rect.prototype.distance = function(point) {\n  return Math.sqrt(this.squaredDistance(point));\n};\ngoog.math.Rect.prototype.getSize = function() {\n  return new goog.math.Size(this.width, this.height);\n};\ngoog.math.Rect.prototype.getTopLeft = function() {\n  return new goog.math.Coordinate(this.left, this.top);\n};\ngoog.math.Rect.prototype.getCenter = function() {\n  return new goog.math.Coordinate(this.left + this.width / 2, this.top + this.height / 2);\n};\ngoog.math.Rect.prototype.getBottomRight = function() {\n  return new goog.math.Coordinate(this.left + this.width, this.top + this.height);\n};\ngoog.math.Rect.prototype.ceil = function() {\n  this.left = Math.ceil(this.left);\n  this.top = Math.ceil(this.top);\n  this.width = Math.ceil(this.width);\n  this.height = Math.ceil(this.height);\n  return this;\n};\ngoog.math.Rect.prototype.floor = function() {\n  this.left = Math.floor(this.left);\n  this.top = Math.floor(this.top);\n  this.width = Math.floor(this.width);\n  this.height = Math.floor(this.height);\n  return this;\n};\ngoog.math.Rect.prototype.round = function() {\n  this.left = Math.round(this.left);\n  this.top = Math.round(this.top);\n  this.width = Math.round(this.width);\n  this.height = Math.round(this.height);\n  return this;\n};\ngoog.math.Rect.prototype.translate = function(tx, opt_ty) {\n  tx instanceof goog.math.Coordinate ? (this.left += tx.x, this.top += tx.y) : (this.left += goog.asserts.assertNumber(tx), \"number\" === typeof opt_ty && (this.top += opt_ty));\n  return this;\n};\ngoog.math.Rect.prototype.scale = function(sx, opt_sy) {\n  var sy = \"number\" === typeof opt_sy ? opt_sy : sx;\n  this.left *= sx;\n  this.width *= sx;\n  this.top *= sy;\n  this.height *= sy;\n  return this;\n};\ngoog.style = {};\ngoog.style.setStyle = function(element, style, opt_value) {\n  if (\"string\" === typeof style) {\n    goog.style.setStyle_(element, opt_value, style);\n  } else {\n    for (var key in style) {\n      goog.style.setStyle_(element, style[key], key);\n    }\n  }\n};\ngoog.style.setStyle_ = function(element, value, style) {\n  var propertyName = goog.style.getVendorJsStyleName_(element, style);\n  propertyName && (element.style[propertyName] = value);\n};\ngoog.style.styleNameCache_ = {};\ngoog.style.getVendorJsStyleName_ = function(element, style) {\n  var propertyName = goog.style.styleNameCache_[style];\n  if (!propertyName) {\n    var camelStyle = goog.string.toCamelCase(style);\n    propertyName = camelStyle;\n    if (void 0 === element.style[camelStyle]) {\n      var prefixedStyle = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(camelStyle);\n      void 0 !== element.style[prefixedStyle] && (propertyName = prefixedStyle);\n    }\n    goog.style.styleNameCache_[style] = propertyName;\n  }\n  return propertyName;\n};\ngoog.style.getVendorStyleName_ = function(element, style) {\n  var camelStyle = goog.string.toCamelCase(style);\n  if (void 0 === element.style[camelStyle]) {\n    var prefixedStyle = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(camelStyle);\n    if (void 0 !== element.style[prefixedStyle]) {\n      return goog.dom.vendor.getVendorPrefix() + \"-\" + style;\n    }\n  }\n  return style;\n};\ngoog.style.getStyle = function(element, property) {\n  var styleValue = element.style[goog.string.toCamelCase(property)];\n  return \"undefined\" !== typeof styleValue ? styleValue : element.style[goog.style.getVendorJsStyleName_(element, property)] || \"\";\n};\ngoog.style.getComputedStyle = function(element, property) {\n  var doc = goog.dom.getOwnerDocument(element);\n  if (doc.defaultView && doc.defaultView.getComputedStyle) {\n    var styles = doc.defaultView.getComputedStyle(element, null);\n    if (styles) {\n      return styles[property] || styles.getPropertyValue(property) || \"\";\n    }\n  }\n  return \"\";\n};\ngoog.style.getCascadedStyle = function(element, style) {\n  return element.currentStyle ? element.currentStyle[style] : null;\n};\ngoog.style.getStyle_ = function(element, style) {\n  return goog.style.getComputedStyle(element, style) || goog.style.getCascadedStyle(element, style) || element.style && element.style[style];\n};\ngoog.style.getComputedBoxSizing = function(element) {\n  return goog.style.getStyle_(element, \"boxSizing\") || goog.style.getStyle_(element, \"MozBoxSizing\") || goog.style.getStyle_(element, \"WebkitBoxSizing\") || null;\n};\ngoog.style.getComputedPosition = function(element) {\n  return goog.style.getStyle_(element, \"position\");\n};\ngoog.style.getBackgroundColor = function(element) {\n  return goog.style.getStyle_(element, \"backgroundColor\");\n};\ngoog.style.getComputedOverflowX = function(element) {\n  return goog.style.getStyle_(element, \"overflowX\");\n};\ngoog.style.getComputedOverflowY = function(element) {\n  return goog.style.getStyle_(element, \"overflowY\");\n};\ngoog.style.getComputedZIndex = function(element) {\n  return goog.style.getStyle_(element, \"zIndex\");\n};\ngoog.style.getComputedTextAlign = function(element) {\n  return goog.style.getStyle_(element, \"textAlign\");\n};\ngoog.style.getComputedCursor = function(element) {\n  return goog.style.getStyle_(element, \"cursor\");\n};\ngoog.style.getComputedTransform = function(element) {\n  var property = goog.style.getVendorStyleName_(element, \"transform\");\n  return goog.style.getStyle_(element, property) || goog.style.getStyle_(element, \"transform\");\n};\ngoog.style.setPosition = function(el, arg1, opt_arg2) {\n  if (arg1 instanceof goog.math.Coordinate) {\n    var x = arg1.x;\n    var y = arg1.y;\n  } else {\n    x = arg1, y = opt_arg2;\n  }\n  el.style.left = goog.style.getPixelStyleValue_(x, !1);\n  el.style.top = goog.style.getPixelStyleValue_(y, !1);\n};\ngoog.style.getPosition = function(element) {\n  return new goog.math.Coordinate(element.offsetLeft, element.offsetTop);\n};\ngoog.style.getClientViewportElement = function(opt_node) {\n  var doc = opt_node ? goog.dom.getOwnerDocument(opt_node) : goog.dom.getDocument();\n  return !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9) || goog.dom.getDomHelper(doc).isCss1CompatMode() ? doc.documentElement : doc.body;\n};\ngoog.style.getViewportPageOffset = function(doc) {\n  var body = doc.body, documentElement = doc.documentElement;\n  return new goog.math.Coordinate(body.scrollLeft || documentElement.scrollLeft, body.scrollTop || documentElement.scrollTop);\n};\ngoog.style.getBoundingClientRect_ = function(el) {\n  try {\n    return el.getBoundingClientRect();\n  } catch (e) {\n    return {left:0, top:0, right:0, bottom:0};\n  }\n};\ngoog.style.getOffsetParent = function(element) {\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(8)) {\n    return goog.asserts.assert(element && \"offsetParent\" in element), element.offsetParent;\n  }\n  for (var doc = goog.dom.getOwnerDocument(element), positionStyle = goog.style.getStyle_(element, \"position\"), skipStatic = \"fixed\" == positionStyle || \"absolute\" == positionStyle, parent = element.parentNode; parent && parent != doc; parent = parent.parentNode) {\n    if (parent.nodeType == goog.dom.NodeType.DOCUMENT_FRAGMENT && parent.host && (parent = parent.host), positionStyle = goog.style.getStyle_(parent, \"position\"), skipStatic = skipStatic && \"static\" == positionStyle && parent != doc.documentElement && parent != doc.body, !skipStatic && (parent.scrollWidth > parent.clientWidth || parent.scrollHeight > parent.clientHeight || \"fixed\" == positionStyle || \"absolute\" == positionStyle || \"relative\" == positionStyle)) {\n      return parent;\n    }\n  }\n  return null;\n};\ngoog.style.getVisibleRectForElement = function(element) {\n  for (var visibleRect = new goog.math.Box(0, Infinity, Infinity, 0), dom = goog.dom.getDomHelper(element), body = dom.getDocument().body, documentElement = dom.getDocument().documentElement, scrollEl = dom.getDocumentScrollElement(), el = element; el = goog.style.getOffsetParent(el);) {\n    if (!(goog.userAgent.IE && 0 == el.clientWidth || goog.userAgent.WEBKIT && 0 == el.clientHeight && el == body) && el != body && el != documentElement && \"visible\" != goog.style.getStyle_(el, \"overflow\")) {\n      var pos = goog.style.getPageOffset(el), client = goog.style.getClientLeftTop(el);\n      pos.x += client.x;\n      pos.y += client.y;\n      visibleRect.top = Math.max(visibleRect.top, pos.y);\n      visibleRect.right = Math.min(visibleRect.right, pos.x + el.clientWidth);\n      visibleRect.bottom = Math.min(visibleRect.bottom, pos.y + el.clientHeight);\n      visibleRect.left = Math.max(visibleRect.left, pos.x);\n    }\n  }\n  var scrollX = scrollEl.scrollLeft, scrollY = scrollEl.scrollTop;\n  visibleRect.left = Math.max(visibleRect.left, scrollX);\n  visibleRect.top = Math.max(visibleRect.top, scrollY);\n  var winSize = dom.getViewportSize();\n  visibleRect.right = Math.min(visibleRect.right, scrollX + winSize.width);\n  visibleRect.bottom = Math.min(visibleRect.bottom, scrollY + winSize.height);\n  return 0 <= visibleRect.top && 0 <= visibleRect.left && visibleRect.bottom > visibleRect.top && visibleRect.right > visibleRect.left ? visibleRect : null;\n};\ngoog.style.getContainerOffsetToScrollInto = function(element, opt_container, opt_center) {\n  var container = opt_container || goog.dom.getDocumentScrollElement(), elementPos = goog.style.getPageOffset(element), containerPos = goog.style.getPageOffset(container), containerBorder = goog.style.getBorderBox(container);\n  if (container == goog.dom.getDocumentScrollElement()) {\n    var relX = elementPos.x - container.scrollLeft, relY = elementPos.y - container.scrollTop;\n    goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(10) && (relX += containerBorder.left, relY += containerBorder.top);\n  } else {\n    relX = elementPos.x - containerPos.x - containerBorder.left, relY = elementPos.y - containerPos.y - containerBorder.top;\n  }\n  var elementSize = goog.style.getSizeWithDisplay_(element), spaceX = container.clientWidth - elementSize.width, spaceY = container.clientHeight - elementSize.height, scrollLeft = container.scrollLeft, scrollTop = container.scrollTop;\n  opt_center ? (scrollLeft += relX - spaceX / 2, scrollTop += relY - spaceY / 2) : (scrollLeft += Math.min(relX, Math.max(relX - spaceX, 0)), scrollTop += Math.min(relY, Math.max(relY - spaceY, 0)));\n  return new goog.math.Coordinate(scrollLeft, scrollTop);\n};\ngoog.style.scrollIntoContainerView = function(element, opt_container, opt_center) {\n  var container = opt_container || goog.dom.getDocumentScrollElement(), offset = goog.style.getContainerOffsetToScrollInto(element, container, opt_center);\n  container.scrollLeft = offset.x;\n  container.scrollTop = offset.y;\n};\ngoog.style.getClientLeftTop = function(el) {\n  return new goog.math.Coordinate(el.clientLeft, el.clientTop);\n};\ngoog.style.getPageOffset = function(el) {\n  var doc = goog.dom.getOwnerDocument(el);\n  goog.asserts.assertObject(el, \"Parameter is required\");\n  var pos = new goog.math.Coordinate(0, 0), viewportElement = goog.style.getClientViewportElement(doc);\n  if (el == viewportElement) {\n    return pos;\n  }\n  var box = goog.style.getBoundingClientRect_(el), scrollCoord = goog.dom.getDomHelper(doc).getDocumentScroll();\n  pos.x = box.left + scrollCoord.x;\n  pos.y = box.top + scrollCoord.y;\n  return pos;\n};\ngoog.style.getPageOffsetLeft = function(el) {\n  return goog.style.getPageOffset(el).x;\n};\ngoog.style.getPageOffsetTop = function(el) {\n  return goog.style.getPageOffset(el).y;\n};\ngoog.style.getFramedPageOffset = function(el, relativeWin) {\n  var position = new goog.math.Coordinate(0, 0), currentWin = goog.dom.getWindow(goog.dom.getOwnerDocument(el));\n  if (!goog.reflect.canAccessProperty(currentWin, \"parent\")) {\n    return position;\n  }\n  var currentEl = el;\n  do {\n    var offset = currentWin == relativeWin ? goog.style.getPageOffset(currentEl) : goog.style.getClientPositionForElement_(goog.asserts.assert(currentEl));\n    position.x += offset.x;\n    position.y += offset.y;\n  } while (currentWin && currentWin != relativeWin && currentWin != currentWin.parent && (currentEl = currentWin.frameElement) && (currentWin = currentWin.parent));\n  return position;\n};\ngoog.style.translateRectForAnotherFrame = function(rect, origBase, newBase) {\n  if (origBase.getDocument() != newBase.getDocument()) {\n    var body = origBase.getDocument().body, pos = goog.style.getFramedPageOffset(body, newBase.getWindow());\n    pos = goog.math.Coordinate.difference(pos, goog.style.getPageOffset(body));\n    !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9) || origBase.isCss1CompatMode() || (pos = goog.math.Coordinate.difference(pos, origBase.getDocumentScroll()));\n    rect.left += pos.x;\n    rect.top += pos.y;\n  }\n};\ngoog.style.getRelativePosition = function(a, b) {\n  var ap = goog.style.getClientPosition(a), bp = goog.style.getClientPosition(b);\n  return new goog.math.Coordinate(ap.x - bp.x, ap.y - bp.y);\n};\ngoog.style.getClientPositionForElement_ = function(el) {\n  var box = goog.style.getBoundingClientRect_(el);\n  return new goog.math.Coordinate(box.left, box.top);\n};\ngoog.style.getClientPosition = function(el) {\n  goog.asserts.assert(el);\n  if (el.nodeType == goog.dom.NodeType.ELEMENT) {\n    return goog.style.getClientPositionForElement_(el);\n  }\n  var targetEvent = el.changedTouches ? el.changedTouches[0] : el;\n  return new goog.math.Coordinate(targetEvent.clientX, targetEvent.clientY);\n};\ngoog.style.setPageOffset = function(el, x, opt_y) {\n  var cur = goog.style.getPageOffset(el);\n  x instanceof goog.math.Coordinate && (opt_y = x.y, x = x.x);\n  var dx = goog.asserts.assertNumber(x) - cur.x;\n  goog.style.setPosition(el, el.offsetLeft + dx, el.offsetTop + (Number(opt_y) - cur.y));\n};\ngoog.style.setSize = function(element, w, opt_h) {\n  if (w instanceof goog.math.Size) {\n    var h = w.height;\n    w = w.width;\n  } else {\n    if (void 0 == opt_h) {\n      throw Error(\"missing height argument\");\n    }\n    h = opt_h;\n  }\n  goog.style.setWidth(element, w);\n  goog.style.setHeight(element, h);\n};\ngoog.style.getPixelStyleValue_ = function(value, round) {\n  \"number\" == typeof value && (value = (round ? Math.round(value) : value) + \"px\");\n  return value;\n};\ngoog.style.setHeight = function(element, height) {\n  element.style.height = goog.style.getPixelStyleValue_(height, !0);\n};\ngoog.style.setWidth = function(element, width) {\n  element.style.width = goog.style.getPixelStyleValue_(width, !0);\n};\ngoog.style.getSize = function(element) {\n  return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_, element);\n};\ngoog.style.evaluateWithTemporaryDisplay_ = function(fn, element) {\n  if (\"none\" != goog.style.getStyle_(element, \"display\")) {\n    return fn(element);\n  }\n  var style = element.style, originalDisplay = style.display, originalVisibility = style.visibility, originalPosition = style.position;\n  style.visibility = \"hidden\";\n  style.position = \"absolute\";\n  style.display = \"inline\";\n  var retVal = fn(element);\n  style.display = originalDisplay;\n  style.position = originalPosition;\n  style.visibility = originalVisibility;\n  return retVal;\n};\ngoog.style.getSizeWithDisplay_ = function(element) {\n  var offsetWidth = element.offsetWidth, offsetHeight = element.offsetHeight, webkitOffsetsZero = goog.userAgent.WEBKIT && !offsetWidth && !offsetHeight;\n  if ((void 0 === offsetWidth || webkitOffsetsZero) && element.getBoundingClientRect) {\n    var clientRect = goog.style.getBoundingClientRect_(element);\n    return new goog.math.Size(clientRect.right - clientRect.left, clientRect.bottom - clientRect.top);\n  }\n  return new goog.math.Size(offsetWidth, offsetHeight);\n};\ngoog.style.getTransformedSize = function(element) {\n  if (!element.getBoundingClientRect) {\n    return null;\n  }\n  var clientRect = goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_, element);\n  return new goog.math.Size(clientRect.right - clientRect.left, clientRect.bottom - clientRect.top);\n};\ngoog.style.getBounds = function(element) {\n  var o = goog.style.getPageOffset(element), s = goog.style.getSize(element);\n  return new goog.math.Rect(o.x, o.y, s.width, s.height);\n};\ngoog.style.toCamelCase = function(selector) {\n  return goog.string.toCamelCase(String(selector));\n};\ngoog.style.toSelectorCase = function(selector) {\n  return goog.string.toSelectorCase(selector);\n};\ngoog.style.getOpacity = function(el) {\n  goog.asserts.assert(el);\n  var style = el.style, result = \"\";\n  if (\"opacity\" in style) {\n    result = style.opacity;\n  } else {\n    if (\"MozOpacity\" in style) {\n      result = style.MozOpacity;\n    } else {\n      if (\"filter\" in style) {\n        var match = style.filter.match(/alpha\\(opacity=([\\d.]+)\\)/);\n        match && (result = String(match[1] / 100));\n      }\n    }\n  }\n  return \"\" == result ? result : Number(result);\n};\ngoog.style.setOpacity = function(el, alpha) {\n  goog.asserts.assert(el);\n  var style = el.style;\n  \"opacity\" in style ? style.opacity = alpha : \"MozOpacity\" in style ? style.MozOpacity = alpha : \"filter\" in style && (style.filter = \"\" === alpha ? \"\" : \"alpha(opacity=\" + 100 * Number(alpha) + \")\");\n};\ngoog.style.setTransparentBackgroundImage = function(el, src) {\n  var style = el.style;\n  style.backgroundImage = \"url(\" + src + \")\";\n  style.backgroundPosition = \"top left\";\n  style.backgroundRepeat = \"no-repeat\";\n};\ngoog.style.clearTransparentBackgroundImage = function(el) {\n  var style = el.style;\n  \"filter\" in style ? style.filter = \"\" : style.backgroundImage = \"none\";\n};\ngoog.style.showElement = function(el, display) {\n  goog.style.setElementShown(el, display);\n};\ngoog.style.setElementShown = function(el, isShown) {\n  el.style.display = isShown ? \"\" : \"none\";\n};\ngoog.style.isElementShown = function(el) {\n  return \"none\" != el.style.display;\n};\ngoog.style.installSafeStyleSheet = function(safeStyleSheet, opt_node) {\n  var dh = goog.dom.getDomHelper(opt_node), doc = dh.getDocument();\n  if (goog.userAgent.IE && doc.createStyleSheet) {\n    var styleSheet = doc.createStyleSheet();\n    goog.style.setSafeStyleSheet(styleSheet, safeStyleSheet);\n    return styleSheet;\n  }\n  var head = dh.getElementsByTagNameAndClass(goog.dom.TagName.HEAD)[0];\n  if (!head) {\n    var body = dh.getElementsByTagNameAndClass(goog.dom.TagName.BODY)[0];\n    head = dh.createDom(goog.dom.TagName.HEAD);\n    body.parentNode.insertBefore(head, body);\n  }\n  var el = dh.createDom(goog.dom.TagName.STYLE), nonce = goog.dom.safe.getStyleNonce();\n  nonce && el.setAttribute(\"nonce\", nonce);\n  goog.style.setSafeStyleSheet(el, safeStyleSheet);\n  dh.appendChild(head, el);\n  return el;\n};\ngoog.style.uninstallStyles = function(styleSheet) {\n  goog.dom.removeNode(styleSheet.ownerNode || styleSheet.owningElement || styleSheet);\n};\ngoog.style.setSafeStyleSheet = function(element, safeStyleSheet) {\n  var stylesString = module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(safeStyleSheet);\n  goog.userAgent.IE && void 0 !== element.cssText ? element.cssText = stylesString : goog.global.trustedTypes ? goog.dom.setTextContent(element, stylesString) : element.innerHTML = stylesString;\n};\ngoog.style.setPreWrap = function(el) {\n  el.style.whiteSpace = goog.userAgent.GECKO ? \"-moz-pre-wrap\" : \"pre-wrap\";\n};\ngoog.style.setInlineBlock = function(el) {\n  var style = el.style;\n  style.position = \"relative\";\n  style.display = \"inline-block\";\n};\ngoog.style.isRightToLeft = function(el) {\n  return \"rtl\" == goog.style.getStyle_(el, \"direction\");\n};\ngoog.style.unselectableStyle_ = goog.userAgent.GECKO ? \"MozUserSelect\" : goog.userAgent.WEBKIT || goog.userAgent.EDGE ? \"WebkitUserSelect\" : null;\ngoog.style.isUnselectable = function(el) {\n  return goog.style.unselectableStyle_ ? \"none\" == el.style[goog.style.unselectableStyle_].toLowerCase() : goog.userAgent.IE ? \"on\" == el.getAttribute(\"unselectable\") : !1;\n};\ngoog.style.setUnselectable = function(el, unselectable, opt_noRecurse) {\n  var descendants = opt_noRecurse ? null : el.getElementsByTagName(\"*\"), name = goog.style.unselectableStyle_;\n  if (name) {\n    var value = unselectable ? \"none\" : \"\";\n    el.style && (el.style[name] = value);\n    if (descendants) {\n      for (var i = 0, descendant; descendant = descendants[i]; i++) {\n        descendant.style && (descendant.style[name] = value);\n      }\n    }\n  } else {\n    if (goog.userAgent.IE && (value = unselectable ? \"on\" : \"\", el.setAttribute(\"unselectable\", value), descendants)) {\n      for (i = 0; descendant = descendants[i]; i++) {\n        descendant.setAttribute(\"unselectable\", value);\n      }\n    }\n  }\n};\ngoog.style.getBorderBoxSize = function(element) {\n  return new goog.math.Size(element.offsetWidth, element.offsetHeight);\n};\ngoog.style.setBorderBoxSize = function(element, size) {\n  var doc = goog.dom.getOwnerDocument(element), isCss1CompatMode = goog.dom.getDomHelper(doc).isCss1CompatMode();\n  if (!goog.userAgent.IE || goog.userAgent.isVersionOrHigher(\"10\") || isCss1CompatMode) {\n    goog.style.setBoxSizingSize_(element, size, \"border-box\");\n  } else {\n    var style = element.style;\n    if (isCss1CompatMode) {\n      var paddingBox = goog.style.getPaddingBox(element), borderBox = goog.style.getBorderBox(element);\n      style.pixelWidth = size.width - borderBox.left - paddingBox.left - paddingBox.right - borderBox.right;\n      style.pixelHeight = size.height - borderBox.top - paddingBox.top - paddingBox.bottom - borderBox.bottom;\n    } else {\n      style.pixelWidth = size.width, style.pixelHeight = size.height;\n    }\n  }\n};\ngoog.style.getContentBoxSize = function(element) {\n  var doc = goog.dom.getOwnerDocument(element), ieCurrentStyle = goog.userAgent.IE && element.currentStyle;\n  if (ieCurrentStyle && goog.dom.getDomHelper(doc).isCss1CompatMode() && \"auto\" != ieCurrentStyle.width && \"auto\" != ieCurrentStyle.height && !ieCurrentStyle.boxSizing) {\n    var width = goog.style.getIePixelValue_(element, ieCurrentStyle.width, \"width\", \"pixelWidth\"), height = goog.style.getIePixelValue_(element, ieCurrentStyle.height, \"height\", \"pixelHeight\");\n    return new goog.math.Size(width, height);\n  }\n  var borderBoxSize = goog.style.getBorderBoxSize(element), paddingBox = goog.style.getPaddingBox(element), borderBox = goog.style.getBorderBox(element);\n  return new goog.math.Size(borderBoxSize.width - borderBox.left - paddingBox.left - paddingBox.right - borderBox.right, borderBoxSize.height - borderBox.top - paddingBox.top - paddingBox.bottom - borderBox.bottom);\n};\ngoog.style.setContentBoxSize = function(element, size) {\n  var doc = goog.dom.getOwnerDocument(element), isCss1CompatMode = goog.dom.getDomHelper(doc).isCss1CompatMode();\n  if (!goog.userAgent.IE || goog.userAgent.isVersionOrHigher(\"10\") || isCss1CompatMode) {\n    goog.style.setBoxSizingSize_(element, size, \"content-box\");\n  } else {\n    var style = element.style;\n    if (isCss1CompatMode) {\n      style.pixelWidth = size.width, style.pixelHeight = size.height;\n    } else {\n      var paddingBox = goog.style.getPaddingBox(element), borderBox = goog.style.getBorderBox(element);\n      style.pixelWidth = size.width + borderBox.left + paddingBox.left + paddingBox.right + borderBox.right;\n      style.pixelHeight = size.height + borderBox.top + paddingBox.top + paddingBox.bottom + borderBox.bottom;\n    }\n  }\n};\ngoog.style.setBoxSizingSize_ = function(element, size, boxSizing) {\n  var style = element.style;\n  goog.userAgent.GECKO ? style.MozBoxSizing = boxSizing : goog.userAgent.WEBKIT ? style.WebkitBoxSizing = boxSizing : style.boxSizing = boxSizing;\n  style.width = Math.max(size.width, 0) + \"px\";\n  style.height = Math.max(size.height, 0) + \"px\";\n};\ngoog.style.getIePixelValue_ = function(element, value, name, pixelName) {\n  if (/^\\d+px?$/.test(value)) {\n    return parseInt(value, 10);\n  }\n  var oldStyleValue = element.style[name], oldRuntimeValue = element.runtimeStyle[name];\n  element.runtimeStyle[name] = element.currentStyle[name];\n  element.style[name] = value;\n  var pixelValue = element.style[pixelName];\n  element.style[name] = oldStyleValue;\n  element.runtimeStyle[name] = oldRuntimeValue;\n  return +pixelValue;\n};\ngoog.style.getIePixelDistance_ = function(element, propName) {\n  var value = goog.style.getCascadedStyle(element, propName);\n  return value ? goog.style.getIePixelValue_(element, value, \"left\", \"pixelLeft\") : 0;\n};\ngoog.style.getBox_ = function(element, stylePrefix) {\n  if (goog.userAgent.IE) {\n    var left = goog.style.getIePixelDistance_(element, stylePrefix + \"Left\"), right = goog.style.getIePixelDistance_(element, stylePrefix + \"Right\"), top = goog.style.getIePixelDistance_(element, stylePrefix + \"Top\"), bottom = goog.style.getIePixelDistance_(element, stylePrefix + \"Bottom\");\n    return new goog.math.Box(top, right, bottom, left);\n  }\n  left = goog.style.getComputedStyle(element, stylePrefix + \"Left\");\n  right = goog.style.getComputedStyle(element, stylePrefix + \"Right\");\n  top = goog.style.getComputedStyle(element, stylePrefix + \"Top\");\n  bottom = goog.style.getComputedStyle(element, stylePrefix + \"Bottom\");\n  return new goog.math.Box(parseFloat(top), parseFloat(right), parseFloat(bottom), parseFloat(left));\n};\ngoog.style.getPaddingBox = function(element) {\n  return goog.style.getBox_(element, \"padding\");\n};\ngoog.style.getMarginBox = function(element) {\n  return goog.style.getBox_(element, \"margin\");\n};\ngoog.style.ieBorderWidthKeywords_ = {thin:2, medium:4, thick:6};\ngoog.style.getIePixelBorder_ = function(element, prop) {\n  if (\"none\" == goog.style.getCascadedStyle(element, prop + \"Style\")) {\n    return 0;\n  }\n  var width = goog.style.getCascadedStyle(element, prop + \"Width\");\n  return width in goog.style.ieBorderWidthKeywords_ ? goog.style.ieBorderWidthKeywords_[width] : goog.style.getIePixelValue_(element, width, \"left\", \"pixelLeft\");\n};\ngoog.style.getBorderBox = function(element) {\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n    var left = goog.style.getIePixelBorder_(element, \"borderLeft\"), right = goog.style.getIePixelBorder_(element, \"borderRight\"), top = goog.style.getIePixelBorder_(element, \"borderTop\"), bottom = goog.style.getIePixelBorder_(element, \"borderBottom\");\n    return new goog.math.Box(top, right, bottom, left);\n  }\n  left = goog.style.getComputedStyle(element, \"borderLeftWidth\");\n  right = goog.style.getComputedStyle(element, \"borderRightWidth\");\n  top = goog.style.getComputedStyle(element, \"borderTopWidth\");\n  bottom = goog.style.getComputedStyle(element, \"borderBottomWidth\");\n  return new goog.math.Box(parseFloat(top), parseFloat(right), parseFloat(bottom), parseFloat(left));\n};\ngoog.style.getFontFamily = function(el) {\n  var doc = goog.dom.getOwnerDocument(el), font = \"\";\n  if (doc.body.createTextRange && goog.dom.contains(doc, el)) {\n    var range = doc.body.createTextRange();\n    range.moveToElementText(el);\n    try {\n      font = range.queryCommandValue(\"FontName\");\n    } catch (e) {\n      font = \"\";\n    }\n  }\n  font || (font = goog.style.getStyle_(el, \"fontFamily\"));\n  var fontsArray = font.split(\",\");\n  1 < fontsArray.length && (font = fontsArray[0]);\n  return goog.string.stripQuotes(font, \"\\\"'\");\n};\ngoog.style.lengthUnitRegex_ = /[^\\d]+$/;\ngoog.style.getLengthUnits = function(value) {\n  var units = value.match(goog.style.lengthUnitRegex_);\n  return units && units[0] || null;\n};\ngoog.style.ABSOLUTE_CSS_LENGTH_UNITS_ = {cm:1, \"in\":1, mm:1, pc:1, pt:1};\ngoog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_ = {em:1, ex:1};\ngoog.style.getFontSize = function(el) {\n  var fontSize = goog.style.getStyle_(el, \"fontSize\"), sizeUnits = goog.style.getLengthUnits(fontSize);\n  if (fontSize && \"px\" == sizeUnits) {\n    return parseInt(fontSize, 10);\n  }\n  if (goog.userAgent.IE) {\n    if (String(sizeUnits) in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_) {\n      return goog.style.getIePixelValue_(el, fontSize, \"left\", \"pixelLeft\");\n    }\n    if (el.parentNode && el.parentNode.nodeType == goog.dom.NodeType.ELEMENT && String(sizeUnits) in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_) {\n      var parentElement = el.parentNode, parentSize = goog.style.getStyle_(parentElement, \"fontSize\");\n      return goog.style.getIePixelValue_(parentElement, fontSize == parentSize ? \"1em\" : fontSize, \"left\", \"pixelLeft\");\n    }\n  }\n  var sizeElement = goog.dom.createDom(goog.dom.TagName.SPAN, {style:\"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;\"});\n  goog.dom.appendChild(el, sizeElement);\n  fontSize = sizeElement.offsetHeight;\n  goog.dom.removeNode(sizeElement);\n  return fontSize;\n};\ngoog.style.parseStyleAttribute = function(value) {\n  var result = {};\n  value.split(/\\s*;\\s*/).forEach(function(pair) {\n    var keyValue = pair.match(/\\s*([\\w-]+)\\s*:(.+)/);\n    if (keyValue) {\n      var styleValue = goog.string.trim(keyValue[2]);\n      result[goog.string.toCamelCase(keyValue[1].toLowerCase())] = styleValue;\n    }\n  });\n  return result;\n};\ngoog.style.toStyleAttribute = function(obj) {\n  var buffer = [];\n  module$contents$goog$object_forEach(obj, function(value, key) {\n    buffer.push(goog.string.toSelectorCase(key), \":\", value, \";\");\n  });\n  return buffer.join(\"\");\n};\ngoog.style.setFloat = function(el, value) {\n  el.style[goog.userAgent.IE ? \"styleFloat\" : \"cssFloat\"] = value;\n};\ngoog.style.getFloat = function(el) {\n  return el.style[goog.userAgent.IE ? \"styleFloat\" : \"cssFloat\"] || \"\";\n};\ngoog.style.getScrollbarWidth = function(opt_className) {\n  var outerDiv = goog.dom.createElement(goog.dom.TagName.DIV);\n  opt_className && (outerDiv.className = opt_className);\n  outerDiv.style.cssText = \"overflow:auto;position:absolute;top:0;width:100px;height:100px\";\n  var innerDiv = goog.dom.createElement(goog.dom.TagName.DIV);\n  goog.style.setSize(innerDiv, \"200px\", \"200px\");\n  outerDiv.appendChild(innerDiv);\n  goog.dom.appendChild(goog.dom.getDocument().body, outerDiv);\n  var width = outerDiv.offsetWidth - outerDiv.clientWidth;\n  goog.dom.removeNode(outerDiv);\n  return width;\n};\ngoog.style.MATRIX_TRANSLATION_REGEX_ = RegExp(\"matrix\\\\([0-9\\\\.\\\\-]+, [0-9\\\\.\\\\-]+, [0-9\\\\.\\\\-]+, [0-9\\\\.\\\\-]+, ([0-9\\\\.\\\\-]+)p?x?, ([0-9\\\\.\\\\-]+)p?x?\\\\)\");\ngoog.style.getCssTranslation = function(element) {\n  var transform = goog.style.getComputedTransform(element);\n  if (!transform) {\n    return new goog.math.Coordinate(0, 0);\n  }\n  var matches = transform.match(goog.style.MATRIX_TRANSLATION_REGEX_);\n  return matches ? new goog.math.Coordinate(parseFloat(matches[1]), parseFloat(matches[2])) : new goog.math.Coordinate(0, 0);\n};\nee.layers.AbstractOverlay = function(tileSource, opt_options) {\n  goog.events.EventTarget.call(this);\n  var options = opt_options || {};\n  this.minZoom = options.minZoom || 0;\n  this.maxZoom = options.maxZoom || 20;\n  if (!window.google || !window.google.maps) {\n    throw Error(\"Google Maps API hasn't been initialized.\");\n  }\n  this.tileSize = options.tileSize || new google.maps.Size(ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH, ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH);\n  this.isPng = \"isPng\" in options ? options.isPng : !0;\n  this.name = options.name;\n  this.opacity = \"opacity\" in options ? options.opacity : 1;\n  this.stats = new module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats(tileSource.getUniqueId());\n  this.tilesById = new goog.structs.Map();\n  this.tileCounter = 0;\n  this.tileSource = tileSource;\n  this.handler = new goog.events.EventHandler(this);\n  this.projection = null;\n  this.radius = 0;\n  this.alt = null;\n};\n$jscomp.inherits(ee.layers.AbstractOverlay, goog.events.EventTarget);\nee.layers.AbstractOverlay.prototype.addTileCallback = function(callback) {\n  return goog.events.listen(this, ee.layers.AbstractOverlay.EventType.TILE_LOAD, callback);\n};\nee.layers.AbstractOverlay.prototype.removeTileCallback = function(callbackId) {\n  goog.events.unlistenByKey(callbackId);\n};\nee.layers.AbstractOverlay.prototype.getLoadingTilesCount = function() {\n  return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.THROTTLED) + this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADING) + this.getTileCountForStatus_(ee.layers.AbstractTile.Status.NEW);\n};\nee.layers.AbstractOverlay.prototype.getFailedTilesCount = function() {\n  return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.FAILED);\n};\nee.layers.AbstractOverlay.prototype.getLoadedTilesCount = function() {\n  return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADED);\n};\nee.layers.AbstractOverlay.prototype.setOpacity = function(opacity) {\n  this.opacity = opacity;\n  this.tilesById.forEach(function(tile) {\n    goog.style.setOpacity(tile.div, this.opacity);\n  }, this);\n};\nee.layers.AbstractOverlay.prototype.getStats = function() {\n  return this.stats;\n};\nee.layers.AbstractOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n  var maxCoord = 1 << zoom;\n  if (zoom < this.minZoom || 0 > coord.y || coord.y >= maxCoord) {\n    return ownerDocument.createElement(\"div\");\n  }\n  var x = coord.x % maxCoord;\n  0 > x && (x += maxCoord);\n  var normalizedCoord = new google.maps.Point(x, coord.y), uniqueId = this.getUniqueTileId_(coord, zoom), tile = this.createTile(normalizedCoord, zoom, ownerDocument, uniqueId);\n  tile.tileSize = this.tileSize;\n  goog.style.setOpacity(tile.div, this.opacity);\n  this.tilesById.set(uniqueId, tile);\n  this.registerStatusChangeListener_(tile);\n  this.dispatchEvent(new ee.layers.TileStartEvent(this.getLoadingTilesCount()));\n  this.tileSource.loadTile(tile, (new Date()).getTime() / 1000);\n  return tile.div;\n};\nee.layers.AbstractOverlay.prototype.releaseTile = function(tileDiv) {\n  var tile = this.tilesById.get(tileDiv.id);\n  this.tilesById.remove(tileDiv.id);\n  tile && (tile.abort(), module$contents$goog$dispose_dispose(tile));\n};\nee.layers.AbstractOverlay.prototype.registerStatusChangeListener_ = function(tile) {\n  this.handler.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n    var Status = ee.layers.AbstractTile.Status;\n    switch(tile.getStatus()) {\n      case Status.LOADED:\n        this.stats.addTileStats(tile.loadingStartTs_, (new Date()).getTime(), tile.zoom);\n        this.dispatchEvent(new ee.layers.TileLoadEvent(this.getLoadingTilesCount()));\n        break;\n      case Status.THROTTLED:\n        this.stats.incrementThrottleCounter(tile.zoom);\n        this.dispatchEvent(new ee.layers.TileThrottleEvent(tile.sourceUrl));\n        break;\n      case Status.FAILED:\n        this.stats.incrementErrorCounter(tile.zoom);\n        this.dispatchEvent(new ee.layers.TileFailEvent(tile.sourceUrl, tile.errorMessage_));\n        break;\n      case Status.ABORTED:\n        this.dispatchEvent(new ee.layers.TileAbortEvent(this.getLoadingTilesCount()));\n    }\n  });\n};\nee.layers.AbstractOverlay.prototype.getUniqueTileId_ = function(coord, z) {\n  var tileId = [coord.x, coord.y, z, this.tileCounter++].join(\"-\"), sourceId = this.tileSource.getUniqueId();\n  return [tileId, sourceId].join(\"-\");\n};\nee.layers.AbstractOverlay.prototype.disposeInternal = function() {\n  goog.events.EventTarget.prototype.disposeInternal.call(this);\n  this.tilesById.forEach(module$contents$goog$dispose_dispose);\n  this.tilesById.clear();\n  this.tilesById = null;\n  module$contents$goog$dispose_dispose(this.handler);\n  this.tileSource = this.handler = null;\n};\nee.layers.AbstractOverlay.prototype.getTileCountForStatus_ = function(status) {\n  return module$contents$goog$array_count(this.tilesById.getValues(), function(tile) {\n    return tile.getStatus() == status;\n  });\n};\ngoog.exportSymbol(\"ee.layers.AbstractOverlay\", ee.layers.AbstractOverlay);\ngoog.exportProperty(ee.layers.AbstractOverlay.prototype, \"removeTileCallback\", ee.layers.AbstractOverlay.prototype.removeTileCallback);\ngoog.exportProperty(ee.layers.AbstractOverlay.prototype, \"addTileCallback\", ee.layers.AbstractOverlay.prototype.addTileCallback);\nee.layers.AbstractOverlay.EventType = {TILE_FAIL:\"tile-fail\", TILE_ABORT:\"tile-abort\", TILE_THROTTLE:\"tile-throttle\", TILE_LOAD:\"tile-load\", TILE_START:\"tile-start\",};\nee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH = 256;\nee.layers.TileLoadEvent = function(loadingTileCount) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_LOAD);\n  this.loadingTileCount = loadingTileCount;\n};\n$jscomp.inherits(ee.layers.TileLoadEvent, goog.events.Event);\nee.layers.TileStartEvent = function(loadingTileCount) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_START);\n  this.loadingTileCount = loadingTileCount;\n};\n$jscomp.inherits(ee.layers.TileStartEvent, goog.events.Event);\nee.layers.TileThrottleEvent = function(tileUrl) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_THROTTLE);\n  this.tileUrl = tileUrl;\n};\n$jscomp.inherits(ee.layers.TileThrottleEvent, goog.events.Event);\nee.layers.TileFailEvent = function(tileUrl, opt_errorMessage) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_FAIL);\n  this.tileUrl = tileUrl;\n  this.errorMessage = opt_errorMessage;\n};\n$jscomp.inherits(ee.layers.TileFailEvent, goog.events.Event);\nee.layers.TileAbortEvent = function(loadingTileCount) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_ABORT);\n  this.loadingTileCount = loadingTileCount;\n};\n$jscomp.inherits(ee.layers.TileAbortEvent, goog.events.Event);\nee.layers.AbstractTile = function(coord, zoom, ownerDocument, uniqueId) {\n  goog.events.EventTarget.call(this);\n  this.coord = coord;\n  this.zoom = zoom;\n  this.div = ownerDocument.createElement(\"div\");\n  this.div.id = uniqueId;\n  this.maxRetries = ee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_;\n  this.renderer = function() {\n  };\n  this.status_ = ee.layers.AbstractTile.Status.NEW;\n  this.retryAttemptCount_ = 0;\n  this.isRetrying_ = !1;\n};\n$jscomp.inherits(ee.layers.AbstractTile, goog.events.EventTarget);\nee.layers.AbstractTile.prototype.startLoad = function() {\n  var $jscomp$this = this;\n  if (!this.isRetrying_ && this.getStatus() == ee.layers.AbstractTile.Status.LOADING) {\n    throw Error(\"startLoad() can only be invoked once. Use retryLoad() after the first attempt.\");\n  }\n  this.setStatus(ee.layers.AbstractTile.Status.LOADING);\n  this.loadingStartTs_ = (new Date()).getTime();\n  this.xhrIo_ = new goog.net.XhrIo();\n  this.xhrIo_.setResponseType(goog.net.XhrIo.ResponseType.BLOB);\n  this.xhrIo_.listen(goog.net.EventType.COMPLETE, function(event) {\n    var blob = $jscomp$this.xhrIo_.getResponse(), status = $jscomp$this.xhrIo_.getStatus(), HttpStatus = goog.net.HttpStatus;\n    status == HttpStatus.TOO_MANY_REQUESTS && $jscomp$this.setStatus(ee.layers.AbstractTile.Status.THROTTLED);\n    if (HttpStatus.isSuccess(status)) {\n      var sourceResponseHeaders = {};\n      module$contents$goog$object_forEach($jscomp$this.xhrIo_.getResponseHeaders(), function(value, name) {\n        sourceResponseHeaders[name.toLowerCase()] = value;\n      });\n      $jscomp$this.sourceResponseHeaders = sourceResponseHeaders;\n      $jscomp$this.sourceData = blob;\n      $jscomp$this.finishLoad();\n    } else {\n      if (blob) {\n        var reader = new goog.fs.FileReader();\n        reader.listen(goog.fs.FileReader.EventType.LOAD_END, function() {\n          $jscomp$this.retryLoad(reader.getResult());\n        }, void 0);\n        reader.readAsText(blob);\n      } else {\n        $jscomp$this.retryLoad(\"Failed to load tile.\");\n      }\n    }\n  }, !1);\n  this.xhrIo_.listenOnce(goog.net.EventType.READY, goog.partial(module$contents$goog$dispose_dispose, this.xhrIo_));\n  this.sourceUrl && this.sourceUrl.endsWith(\"&profiling=1\") && (this.sourceUrl = this.sourceUrl.replace(\"&profiling=1\", \"\"), this.xhrIo_.headers.set(module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER, \"1\"));\n  this.xhrIo_.send(this.sourceUrl, \"GET\");\n};\nee.layers.AbstractTile.prototype.finishLoad = function() {\n  this.renderer(this);\n  this.setStatus(ee.layers.AbstractTile.Status.LOADED);\n};\nee.layers.AbstractTile.prototype.cancelLoad = function() {\n  module$contents$goog$dispose_dispose(this.xhrIo_);\n};\nee.layers.AbstractTile.prototype.retryLoad = function(opt_errorMessage) {\n  var parseError = function(error) {\n    try {\n      if (error = JSON.parse(error), error.error && error.error.message) {\n        return error.error.message;\n      }\n    } catch (e) {\n    }\n    return error;\n  };\n  this.retryAttemptCount_ >= this.maxRetries ? (this.errorMessage_ = parseError(opt_errorMessage), this.setStatus(ee.layers.AbstractTile.Status.FAILED)) : (this.cancelLoad(), setTimeout(goog.bind(function() {\n    this.isDisposed() || (this.isRetrying_ = !0, this.startLoad(), this.isRetrying_ = !1);\n  }, this), 1000 * Math.pow(2, this.retryAttemptCount_++)));\n};\nee.layers.AbstractTile.prototype.abort = function() {\n  this.cancelLoad();\n  this.getStatus() != ee.layers.AbstractTile.Status.ABORTED && this.getStatus() != ee.layers.AbstractTile.Status.REMOVED && this.setStatus(this.isDone() ? ee.layers.AbstractTile.Status.REMOVED : ee.layers.AbstractTile.Status.ABORTED);\n};\nee.layers.AbstractTile.prototype.isDone = function() {\n  return this.status_ in ee.layers.AbstractTile.DONE_STATUS_SET_;\n};\nee.layers.AbstractTile.prototype.getStatus = function() {\n  return this.status_;\n};\nee.layers.AbstractTile.prototype.setStatus = function(status) {\n  this.status_ = status;\n  this.dispatchEvent(ee.layers.AbstractTile.EventType.STATUS_CHANGED);\n};\nee.layers.AbstractTile.prototype.disposeInternal = function() {\n  goog.events.EventTarget.prototype.disposeInternal.call(this);\n  this.cancelLoad();\n  this.div.remove();\n  this.renderer = null;\n};\nee.layers.AbstractTile.EventType = {STATUS_CHANGED:\"status-changed\"};\nee.layers.AbstractTile.Status = {NEW:\"new\", LOADING:\"loading\", THROTTLED:\"throttled\", LOADED:\"loaded\", FAILED:\"failed\", ABORTED:\"aborted\", REMOVED:\"removed\",};\nee.layers.AbstractTile.DONE_STATUS_SET_ = module$contents$goog$object_createSet(ee.layers.AbstractTile.Status.ABORTED, ee.layers.AbstractTile.Status.FAILED, ee.layers.AbstractTile.Status.LOADED, ee.layers.AbstractTile.Status.REMOVED);\nee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_ = 5;\nvar module$exports$ee$layers$AbstractTileSource = function() {\n  goog.Disposable.call(this);\n};\n$jscomp.inherits(module$exports$ee$layers$AbstractTileSource, goog.Disposable);\nee.layers.BinaryOverlay = function(tileSource, opt_options) {\n  ee.layers.AbstractOverlay.call(this, tileSource, opt_options);\n  this.buffersByCoord_ = new goog.structs.Map();\n  this.divsByCoord_ = new goog.structs.Map();\n};\n$jscomp.inherits(ee.layers.BinaryOverlay, ee.layers.AbstractOverlay);\nee.layers.BinaryOverlay.prototype.createTile = function(coord, zoom, ownerDocument, uniqueId) {\n  var tile = new ee.layers.BinaryTile(coord, zoom, ownerDocument, uniqueId);\n  this.handler.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n    tile.getStatus() == ee.layers.AbstractTile.Status.LOADED && (this.buffersByCoord_.set(coord, new Float32Array(tile.buffer_)), this.divsByCoord_.set(coord, tile.div));\n  });\n  return tile;\n};\nee.layers.BinaryOverlay.prototype.getBuffersByCoord = function() {\n  return this.buffersByCoord_;\n};\nee.layers.BinaryOverlay.prototype.getDivsByCoord = function() {\n  return this.divsByCoord_;\n};\nee.layers.BinaryOverlay.prototype.disposeInternal = function() {\n  ee.layers.AbstractOverlay.prototype.disposeInternal.call(this);\n  this.divsByCoord_ = this.buffersByCoord_ = null;\n};\ngoog.exportSymbol(\"ee.layers.BinaryOverlay\", ee.layers.BinaryOverlay);\nee.layers.BinaryTile = function(coord, zoom, ownerDocument, uniqueId) {\n  ee.layers.AbstractTile.call(this, coord, zoom, ownerDocument, uniqueId);\n};\n$jscomp.inherits(ee.layers.BinaryTile, ee.layers.AbstractTile);\nee.layers.BinaryTile.prototype.finishLoad = function() {\n  var reader = new goog.fs.FileReader();\n  reader.listen(goog.fs.FileReader.EventType.LOAD_END, function() {\n    this.buffer_ = reader.getResult();\n    ee.layers.AbstractTile.prototype.finishLoad.call(this);\n  }, void 0, this);\n  reader.readAsArrayBuffer(this.sourceData);\n};\ngoog.net.ImageLoader = function(opt_parent) {\n  goog.events.EventTarget.call(this);\n  this.imageIdToRequestMap_ = {};\n  this.imageIdToImageMap_ = {};\n  this.handler_ = new goog.events.EventHandler(this);\n  this.parent_ = opt_parent;\n  this.completionFired_ = !1;\n};\ngoog.inherits(goog.net.ImageLoader, goog.events.EventTarget);\ngoog.net.ImageLoader.CorsRequestType = {ANONYMOUS:\"anonymous\", USE_CREDENTIALS:\"use-credentials\",};\ngoog.net.ImageLoader.IMAGE_LOAD_EVENTS_ = [goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"11\") ? goog.net.EventType.READY_STATE_CHANGE : goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR,];\ngoog.net.ImageLoader.prototype.addImage = function(id, image, opt_corsRequestType) {\n  var src = \"string\" === typeof image ? image : image.src;\n  src && (this.completionFired_ = !1, this.imageIdToRequestMap_[id] = {src:src, corsRequestType:void 0 !== opt_corsRequestType ? opt_corsRequestType : null,});\n};\ngoog.net.ImageLoader.prototype.removeImage = function(id) {\n  delete this.imageIdToRequestMap_[id];\n  var image = this.imageIdToImageMap_[id];\n  image && (delete this.imageIdToImageMap_[id], this.handler_.unlisten(image, goog.net.ImageLoader.IMAGE_LOAD_EVENTS_, this.onNetworkEvent_));\n};\ngoog.net.ImageLoader.prototype.start = function() {\n  var imageIdToRequestMap = this.imageIdToRequestMap_;\n  module$contents$goog$object_getKeys(imageIdToRequestMap).forEach(function(id) {\n    var imageRequest = imageIdToRequestMap[id];\n    imageRequest && (delete imageIdToRequestMap[id], this.loadImage_(imageRequest, id));\n  }, this);\n};\ngoog.net.ImageLoader.prototype.loadImage_ = function(imageRequest, id) {\n  if (!this.isDisposed()) {\n    var image = this.parent_ ? goog.dom.getDomHelper(this.parent_).createDom(goog.dom.TagName.IMG) : new Image();\n    imageRequest.corsRequestType && (image.crossOrigin = imageRequest.corsRequestType);\n    this.handler_.listen(image, goog.net.ImageLoader.IMAGE_LOAD_EVENTS_, this.onNetworkEvent_);\n    this.imageIdToImageMap_[id] = image;\n    image.id = id;\n    image.src = imageRequest.src;\n  }\n};\ngoog.net.ImageLoader.prototype.onNetworkEvent_ = function(evt) {\n  var image = evt.currentTarget;\n  if (image) {\n    if (evt.type == goog.net.EventType.READY_STATE_CHANGE) {\n      if (image.readyState == goog.net.EventType.COMPLETE) {\n        evt.type = goog.events.EventType.LOAD;\n      } else {\n        return;\n      }\n    }\n    \"undefined\" == typeof image.naturalWidth && (evt.type == goog.events.EventType.LOAD ? (image.naturalWidth = image.width, image.naturalHeight = image.height) : (image.naturalWidth = 0, image.naturalHeight = 0));\n    this.removeImage(image.id);\n    this.dispatchEvent({type:evt.type, target:image});\n    this.isDisposed() || this.maybeFireCompletionEvent_();\n  }\n};\ngoog.net.ImageLoader.prototype.maybeFireCompletionEvent_ = function() {\n  module$contents$goog$object_isEmpty(this.imageIdToImageMap_) && module$contents$goog$object_isEmpty(this.imageIdToRequestMap_) && !this.completionFired_ && (this.completionFired_ = !0, this.dispatchEvent(goog.net.EventType.COMPLETE));\n};\ngoog.net.ImageLoader.prototype.disposeInternal = function() {\n  delete this.imageIdToRequestMap_;\n  delete this.imageIdToImageMap_;\n  module$contents$goog$dispose_dispose(this.handler_);\n  goog.net.ImageLoader.superClass_.disposeInternal.call(this);\n};\nee.layers.ImageOverlay = function(tileSource, opt_options) {\n  ee.layers.AbstractOverlay.call(this, tileSource, opt_options);\n};\n$jscomp.inherits(ee.layers.ImageOverlay, ee.layers.AbstractOverlay);\nee.layers.ImageOverlay.prototype.createTile = function(coord, zoom, ownerDocument, uniqueId) {\n  return new ee.layers.ImageTile(coord, zoom, ownerDocument, uniqueId);\n};\ngoog.exportSymbol(\"ee.layers.ImageOverlay\", ee.layers.ImageOverlay);\nee.layers.ImageTile = function(coord, zoom, ownerDocument, uniqueId) {\n  ee.layers.AbstractTile.call(this, coord, zoom, ownerDocument, uniqueId);\n  this.renderer = ee.layers.ImageTile.defaultRenderer_;\n  this.imageLoaderListenerKey_ = this.imageLoader_ = this.imageEl = null;\n  this.objectUrl_ = \"\";\n};\n$jscomp.inherits(ee.layers.ImageTile, ee.layers.AbstractTile);\nee.layers.ImageTile.prototype.finishLoad = function() {\n  try {\n    var safeUrl = goog.html.SafeUrl.fromBlob(this.sourceData);\n    this.objectUrl_ = goog.html.SafeUrl.unwrap(safeUrl);\n    var imageUrl = this.objectUrl_ !== goog.html.SafeUrl.INNOCUOUS_STRING ? this.objectUrl_ : this.sourceUrl;\n  } catch (e) {\n    imageUrl = this.sourceUrl;\n  }\n  this.imageLoader_ = new goog.net.ImageLoader();\n  this.imageLoader_.addImage(this.div.id + \"-image\", imageUrl);\n  this.imageLoaderListenerKey_ = goog.events.listenOnce(this.imageLoader_, ee.layers.ImageTile.IMAGE_LOADER_EVENTS_, function(event) {\n    event.type == goog.events.EventType.LOAD ? (this.imageEl = event.target, ee.layers.AbstractTile.prototype.finishLoad.call(this)) : this.retryLoad();\n  }, void 0, this);\n  this.imageLoader_.start();\n};\nee.layers.ImageTile.prototype.cancelLoad = function() {\n  ee.layers.AbstractTile.prototype.cancelLoad.call(this);\n  this.imageLoader_ && (goog.events.unlistenByKey(this.imageLoaderListenerKey_), module$contents$goog$dispose_dispose(this.imageLoader_));\n};\nee.layers.ImageTile.prototype.disposeInternal = function() {\n  ee.layers.AbstractTile.prototype.disposeInternal.call(this);\n  this.objectUrl_ && URL.revokeObjectURL(this.objectUrl_);\n};\nee.layers.ImageTile.defaultRenderer_ = function(tile) {\n  tile.div.appendChild(tile.imageEl);\n};\nee.layers.ImageTile.IMAGE_LOADER_EVENTS_ = [goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR];\ngoog.string.path = {};\ngoog.string.path.baseName = function(path) {\n  var i = path.lastIndexOf(\"/\") + 1;\n  return path.slice(i);\n};\ngoog.string.path.basename = goog.string.path.baseName;\ngoog.string.path.dirname = function(path) {\n  var i = path.lastIndexOf(\"/\") + 1, head = path.slice(0, i);\n  /^\\/+$/.test(head) || (head = head.replace(/\\/+$/, \"\"));\n  return head;\n};\ngoog.string.path.extension = function(path) {\n  var baseName = goog.string.path.baseName(path).replace(/\\.+/g, \".\"), separatorIndex = baseName.lastIndexOf(\".\");\n  return 0 >= separatorIndex ? \"\" : baseName.substr(separatorIndex + 1);\n};\ngoog.string.path.join = function(var_args) {\n  for (var path = arguments[0], i = 1; i < arguments.length; i++) {\n    var arg = arguments[i];\n    path = goog.string.startsWith(arg, \"/\") ? arg : \"\" == path || goog.string.endsWith(path, \"/\") ? path + arg : path + (\"/\" + arg);\n  }\n  return path;\n};\ngoog.string.path.normalizePath = function(path) {\n  if (\"\" == path) {\n    return \".\";\n  }\n  var initialSlashes = \"\";\n  goog.string.startsWith(path, \"/\") && (initialSlashes = \"/\", goog.string.startsWith(path, \"//\") && !goog.string.startsWith(path, \"///\") && (initialSlashes = \"//\"));\n  for (var parts = path.split(\"/\"), newParts = [], i = 0; i < parts.length; i++) {\n    var part = parts[i];\n    \"\" != part && \".\" != part && (\"..\" != part || !initialSlashes && !newParts.length || \"..\" == module$contents$goog$array_peek(newParts) ? newParts.push(part) : newParts.pop());\n  }\n  return initialSlashes + newParts.join(\"/\") || \".\";\n};\ngoog.string.path.split = function(path) {\n  var head = goog.string.path.dirname(path), tail = goog.string.path.baseName(path);\n  return [head, tail];\n};\nvar module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource = function(bucket, path, maxZoom, opt_suffix) {\n  module$exports$ee$layers$AbstractTileSource.call(this);\n  this.bucket_ = bucket;\n  this.path_ = path;\n  this.suffix_ = opt_suffix || \"\";\n  this.maxZoom_ = maxZoom;\n};\n$jscomp.inherits(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource, module$exports$ee$layers$AbstractTileSource);\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.loadTile = function(tile, opt_priority) {\n  if (tile.zoom <= this.maxZoom_) {\n    tile.sourceUrl = this.getTileUrl_(tile.coord, tile.zoom);\n  } else {\n    var zoomSteps = tile.zoom - this.maxZoom_, zoomFactor = Math.pow(2, zoomSteps), upperCoord = new google.maps.Point(Math.floor(tile.coord.x / zoomFactor), Math.floor(tile.coord.y / zoomFactor));\n    tile.sourceUrl = this.getTileUrl_(upperCoord, tile.zoom - zoomSteps);\n    tile.renderer = goog.partial(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.zoomTileRenderer_, this.maxZoom_);\n  }\n  var originalRetryLoad = goog.bind(tile.retryLoad, tile);\n  tile.retryLoad = goog.bind(function(opt_errorMessage) {\n    opt_errorMessage && (opt_errorMessage.includes(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.MISSING_TILE_ERROR_) || opt_errorMessage.includes(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.ACCESS_DENIED_ERROR_)) ? tile.setStatus(ee.layers.AbstractTile.Status.LOADED) : originalRetryLoad(opt_errorMessage);\n  }, tile);\n  tile.startLoad();\n};\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.getUniqueId = function() {\n  return [this.bucket_, this.path_, this.maxZoom_, this.suffix_].join(\"-\");\n};\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.getTileUrl_ = function(coord, zoom) {\n  var url = goog.string.path.join(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.BASE_URL, this.bucket_, this.path_, String(zoom), String(coord.x), String(coord.y));\n  this.suffix_ && (url += this.suffix_);\n  return url;\n};\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.zoomTileRenderer_ = function(maxZoom, tile) {\n  if (!tile.imageEl) {\n    throw Error(\"Tile must have an image element to be rendered.\");\n  }\n  var zoomFactor = Math.pow(2, tile.zoom - maxZoom), sideLength = tile.tileSize.width, canv = tile.div.ownerDocument.createElement(\"canvas\");\n  canv.setAttribute(\"width\", sideLength);\n  canv.setAttribute(\"height\", sideLength);\n  tile.div.appendChild(canv);\n  var context = canv.getContext(\"2d\");\n  context.imageSmoothingEnabled = !1;\n  context.mozImageSmoothingEnabled = !1;\n  context.webkitImageSmoothingEnabled = !1;\n  context.drawImage(tile.imageEl, sideLength / zoomFactor * (tile.coord.x % zoomFactor), sideLength / zoomFactor * (tile.coord.y % zoomFactor), sideLength / zoomFactor, sideLength / zoomFactor, 0, 0, sideLength, sideLength);\n};\ngoog.exportSymbol(\"ee.layers.CloudStorageTileSource\", module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource);\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.BASE_URL = \"https://storage.googleapis.com\";\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.MISSING_TILE_ERROR_ = \"The specified key does not exist.\";\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.ACCESS_DENIED_ERROR_ = \"AccessDenied\";\nee.layers.CloudStorageTileSource = module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource;\ngoog.structs.Queue = function() {\n  this.front_ = [];\n  this.back_ = [];\n};\ngoog.structs.Queue.prototype.maybeFlip_ = function() {\n  0 === this.front_.length && (this.front_ = this.back_, this.front_.reverse(), this.back_ = []);\n};\ngoog.structs.Queue.prototype.enqueue = function(element) {\n  this.back_.push(element);\n};\ngoog.structs.Queue.prototype.dequeue = function() {\n  this.maybeFlip_();\n  return this.front_.pop();\n};\ngoog.structs.Queue.prototype.peek = function() {\n  this.maybeFlip_();\n  return module$contents$goog$array_peek(this.front_);\n};\ngoog.structs.Queue.prototype.getCount = function() {\n  return this.front_.length + this.back_.length;\n};\ngoog.structs.Queue.prototype.isEmpty = function() {\n  return 0 === this.front_.length && 0 === this.back_.length;\n};\ngoog.structs.Queue.prototype.clear = function() {\n  this.front_ = [];\n  this.back_ = [];\n};\ngoog.structs.Queue.prototype.contains = function(obj) {\n  return module$contents$goog$array_contains(this.front_, obj) || module$contents$goog$array_contains(this.back_, obj);\n};\ngoog.structs.Queue.prototype.remove = function(obj) {\n  return module$contents$goog$array_removeLast(this.front_, obj) || module$contents$goog$array_remove(this.back_, obj);\n};\ngoog.structs.Queue.prototype.getValues = function() {\n  for (var res = [], i = this.front_.length - 1; 0 <= i; --i) {\n    res.push(this.front_[i]);\n  }\n  var len = this.back_.length;\n  for (i = 0; i < len; ++i) {\n    res.push(this.back_[i]);\n  }\n  return res;\n};\ngoog.structs.Pool = function(opt_minCount, opt_maxCount) {\n  goog.Disposable.call(this);\n  this.minCount_ = opt_minCount || 0;\n  this.maxCount_ = opt_maxCount || 10;\n  if (this.minCount_ > this.maxCount_) {\n    throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n  }\n  this.freeQueue_ = new goog.structs.Queue();\n  this.inUseSet_ = new goog.structs.Set();\n  this.delay = 0;\n  this.lastAccess = null;\n  this.adjustForMinMax();\n};\ngoog.inherits(goog.structs.Pool, goog.Disposable);\ngoog.structs.Pool.ERROR_MIN_MAX_ = \"[goog.structs.Pool] Min can not be greater than max\";\ngoog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_ = \"[goog.structs.Pool] Objects not released\";\ngoog.structs.Pool.prototype.setMinimumCount = function(min) {\n  if (min > this.maxCount_) {\n    throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n  }\n  this.minCount_ = min;\n  this.adjustForMinMax();\n};\ngoog.structs.Pool.prototype.setMaximumCount = function(max) {\n  if (max < this.minCount_) {\n    throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n  }\n  this.maxCount_ = max;\n  this.adjustForMinMax();\n};\ngoog.structs.Pool.prototype.setDelay = function(delay) {\n  this.delay = delay;\n};\ngoog.structs.Pool.prototype.getObject = function() {\n  var time = Date.now();\n  if (!(null != this.lastAccess && time - this.lastAccess < this.delay)) {\n    var obj = this.removeFreeObject_();\n    obj && (this.lastAccess = time, this.inUseSet_.add(obj));\n    return obj;\n  }\n};\ngoog.structs.Pool.prototype.releaseObject = function(obj) {\n  return this.inUseSet_.remove(obj) ? (this.addFreeObject(obj), !0) : !1;\n};\ngoog.structs.Pool.prototype.removeFreeObject_ = function() {\n  for (var obj; 0 < this.getFreeCount() && (obj = this.freeQueue_.dequeue(), !this.objectCanBeReused(obj));) {\n    this.adjustForMinMax();\n  }\n  !obj && this.getCount() < this.maxCount_ && (obj = this.createObject());\n  return obj;\n};\ngoog.structs.Pool.prototype.addFreeObject = function(obj) {\n  this.inUseSet_.remove(obj);\n  this.objectCanBeReused(obj) && this.getCount() < this.maxCount_ ? this.freeQueue_.enqueue(obj) : this.disposeObject(obj);\n};\ngoog.structs.Pool.prototype.adjustForMinMax = function() {\n  for (var freeQueue = this.freeQueue_; this.getCount() < this.minCount_;) {\n    freeQueue.enqueue(this.createObject());\n  }\n  for (; this.getCount() > this.maxCount_ && 0 < this.getFreeCount();) {\n    this.disposeObject(freeQueue.dequeue());\n  }\n};\ngoog.structs.Pool.prototype.createObject = function() {\n  return {};\n};\ngoog.structs.Pool.prototype.disposeObject = function(obj) {\n  if (\"function\" == typeof obj.dispose) {\n    obj.dispose();\n  } else {\n    for (var i in obj) {\n      obj[i] = null;\n    }\n  }\n};\ngoog.structs.Pool.prototype.objectCanBeReused = function(obj) {\n  return \"function\" == typeof obj.canBeReused ? obj.canBeReused() : !0;\n};\ngoog.structs.Pool.prototype.contains = function(obj) {\n  return this.freeQueue_.contains(obj) || this.inUseSet_.contains(obj);\n};\ngoog.structs.Pool.prototype.getCount = function() {\n  return this.freeQueue_.getCount() + this.inUseSet_.getCount();\n};\ngoog.structs.Pool.prototype.getInUseCount = function() {\n  return this.inUseSet_.getCount();\n};\ngoog.structs.Pool.prototype.getFreeCount = function() {\n  return this.freeQueue_.getCount();\n};\ngoog.structs.Pool.prototype.isEmpty = function() {\n  return this.freeQueue_.isEmpty() && this.inUseSet_.isEmpty();\n};\ngoog.structs.Pool.prototype.disposeInternal = function() {\n  goog.structs.Pool.superClass_.disposeInternal.call(this);\n  if (0 < this.getInUseCount()) {\n    throw Error(goog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_);\n  }\n  delete this.inUseSet_;\n  for (var freeQueue = this.freeQueue_; !freeQueue.isEmpty();) {\n    this.disposeObject(freeQueue.dequeue());\n  }\n  delete this.freeQueue_;\n};\ngoog.structs.Node = function(key, value) {\n  this.key_ = key;\n  this.value_ = value;\n};\ngoog.structs.Node.prototype.getKey = function() {\n  return this.key_;\n};\ngoog.structs.Node.prototype.getValue = function() {\n  return this.value_;\n};\ngoog.structs.Node.prototype.clone = function() {\n  return new goog.structs.Node(this.key_, this.value_);\n};\ngoog.structs.Heap = function(opt_heap) {\n  this.nodes_ = [];\n  opt_heap && this.insertAll(opt_heap);\n};\ngoog.structs.Heap.prototype.insert = function(key, value) {\n  var node = new goog.structs.Node(key, value), nodes = this.nodes_;\n  nodes.push(node);\n  this.moveUp_(nodes.length - 1);\n};\ngoog.structs.Heap.prototype.insertAll = function(heap) {\n  if (heap instanceof goog.structs.Heap) {\n    var keys = heap.getKeys();\n    var values = heap.getValues();\n    if (0 >= this.getCount()) {\n      for (var nodes = this.nodes_, i = 0; i < keys.length; i++) {\n        nodes.push(new goog.structs.Node(keys[i], values[i]));\n      }\n      return;\n    }\n  } else {\n    keys = module$contents$goog$object_getKeys(heap), values = module$contents$goog$object_getValues(heap);\n  }\n  for (i = 0; i < keys.length; i++) {\n    this.insert(keys[i], values[i]);\n  }\n};\ngoog.structs.Heap.prototype.remove = function() {\n  var nodes = this.nodes_, count = nodes.length, rootNode = nodes[0];\n  if (!(0 >= count)) {\n    return 1 == count ? module$contents$goog$array_clear(nodes) : (nodes[0] = nodes.pop(), this.moveDown_(0)), rootNode.getValue();\n  }\n};\ngoog.structs.Heap.prototype.peek = function() {\n  var nodes = this.nodes_;\n  if (0 != nodes.length) {\n    return nodes[0].getValue();\n  }\n};\ngoog.structs.Heap.prototype.peekKey = function() {\n  return this.nodes_[0] && this.nodes_[0].getKey();\n};\ngoog.structs.Heap.prototype.moveDown_ = function(index) {\n  for (var nodes = this.nodes_, count = nodes.length, node = nodes[index]; index < count >> 1;) {\n    var leftChildIndex = this.getLeftChildIndex_(index), rightChildIndex = this.getRightChildIndex_(index), smallerChildIndex = rightChildIndex < count && nodes[rightChildIndex].getKey() < nodes[leftChildIndex].getKey() ? rightChildIndex : leftChildIndex;\n    if (nodes[smallerChildIndex].getKey() > node.getKey()) {\n      break;\n    }\n    nodes[index] = nodes[smallerChildIndex];\n    index = smallerChildIndex;\n  }\n  nodes[index] = node;\n};\ngoog.structs.Heap.prototype.moveUp_ = function(index) {\n  for (var nodes = this.nodes_, node = nodes[index]; 0 < index;) {\n    var parentIndex = this.getParentIndex_(index);\n    if (nodes[parentIndex].getKey() > node.getKey()) {\n      nodes[index] = nodes[parentIndex], index = parentIndex;\n    } else {\n      break;\n    }\n  }\n  nodes[index] = node;\n};\ngoog.structs.Heap.prototype.getLeftChildIndex_ = function(index) {\n  return 2 * index + 1;\n};\ngoog.structs.Heap.prototype.getRightChildIndex_ = function(index) {\n  return 2 * index + 2;\n};\ngoog.structs.Heap.prototype.getParentIndex_ = function(index) {\n  return index - 1 >> 1;\n};\ngoog.structs.Heap.prototype.getValues = function() {\n  for (var nodes = this.nodes_, rv = [], l = nodes.length, i = 0; i < l; i++) {\n    rv.push(nodes[i].getValue());\n  }\n  return rv;\n};\ngoog.structs.Heap.prototype.getKeys = function() {\n  for (var nodes = this.nodes_, rv = [], l = nodes.length, i = 0; i < l; i++) {\n    rv.push(nodes[i].getKey());\n  }\n  return rv;\n};\ngoog.structs.Heap.prototype.containsValue = function(val) {\n  return module$contents$goog$array_some(this.nodes_, function(node) {\n    return node.getValue() == val;\n  });\n};\ngoog.structs.Heap.prototype.containsKey = function(key) {\n  return module$contents$goog$array_some(this.nodes_, function(node) {\n    return node.getKey() == key;\n  });\n};\ngoog.structs.Heap.prototype.clone = function() {\n  return new goog.structs.Heap(this);\n};\ngoog.structs.Heap.prototype.getCount = function() {\n  return this.nodes_.length;\n};\ngoog.structs.Heap.prototype.isEmpty = function() {\n  return 0 === this.nodes_.length;\n};\ngoog.structs.Heap.prototype.clear = function() {\n  module$contents$goog$array_clear(this.nodes_);\n};\ngoog.structs.PriorityQueue = function() {\n  goog.structs.Heap.call(this);\n};\ngoog.inherits(goog.structs.PriorityQueue, goog.structs.Heap);\ngoog.structs.PriorityQueue.prototype.enqueue = function(priority, value) {\n  this.insert(priority, value);\n};\ngoog.structs.PriorityQueue.prototype.dequeue = function() {\n  return this.remove();\n};\ngoog.structs.PriorityPool = function(opt_minCount, opt_maxCount) {\n  this.delayTimeout_ = void 0;\n  this.requestQueue_ = new goog.structs.PriorityQueue();\n  goog.structs.Pool.call(this, opt_minCount, opt_maxCount);\n};\ngoog.inherits(goog.structs.PriorityPool, goog.structs.Pool);\ngoog.structs.PriorityPool.DEFAULT_PRIORITY_ = 100;\ngoog.structs.PriorityPool.prototype.setDelay = function(delay) {\n  goog.structs.PriorityPool.superClass_.setDelay.call(this, delay);\n  null != this.lastAccess && (goog.global.clearTimeout(this.delayTimeout_), this.delayTimeout_ = goog.global.setTimeout(goog.bind(this.handleQueueRequests_, this), this.delay + this.lastAccess - Date.now()), this.handleQueueRequests_());\n};\ngoog.structs.PriorityPool.prototype.getObject = function(opt_callback, opt_priority) {\n  if (!opt_callback) {\n    var result = goog.structs.PriorityPool.superClass_.getObject.call(this);\n    result && this.delay && (this.delayTimeout_ = goog.global.setTimeout(goog.bind(this.handleQueueRequests_, this), this.delay));\n    return result;\n  }\n  this.requestQueue_.enqueue(void 0 !== opt_priority ? opt_priority : goog.structs.PriorityPool.DEFAULT_PRIORITY_, opt_callback);\n  this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.handleQueueRequests_ = function() {\n  for (var requestQueue = this.requestQueue_; 0 < requestQueue.getCount();) {\n    var obj = this.getObject();\n    if (obj) {\n      requestQueue.dequeue().apply(this, [obj]);\n    } else {\n      break;\n    }\n  }\n};\ngoog.structs.PriorityPool.prototype.addFreeObject = function(obj) {\n  goog.structs.PriorityPool.superClass_.addFreeObject.call(this, obj);\n  this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.adjustForMinMax = function() {\n  goog.structs.PriorityPool.superClass_.adjustForMinMax.call(this);\n  this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.disposeInternal = function() {\n  goog.structs.PriorityPool.superClass_.disposeInternal.call(this);\n  goog.global.clearTimeout(this.delayTimeout_);\n  this.requestQueue_.clear();\n  this.requestQueue_ = null;\n};\nvar module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource = function(mapId, opt_profiler) {\n  module$exports$ee$layers$AbstractTileSource.call(this);\n  this.mapId_ = mapId;\n  this.profiler_ = opt_profiler || null;\n};\n$jscomp.inherits(module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource, module$exports$ee$layers$AbstractTileSource);\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.loadTile = function(tile, opt_priority) {\n  var ProfilerHeader = module$contents$ee$apiclient_apiclient.PROFILE_HEADER.toLowerCase(), key = goog.events.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n    switch(tile.getStatus()) {\n      case ee.layers.AbstractTile.Status.LOADED:\n        var profileId = tile.sourceResponseHeaders[ProfilerHeader];\n        this.profiler_ && profileId && this.profiler_.addTile(tile.div.id, profileId);\n        break;\n      case ee.layers.AbstractTile.Status.FAILED:\n      case ee.layers.AbstractTile.Status.ABORTED:\n        this.profiler_ && \"\" !== tile.div.id && this.profiler_.removeTile(tile.div.id), goog.events.unlistenByKey(key);\n    }\n  }, void 0, this);\n  tile.sourceUrl = this.getTileUrl_(tile.coord, tile.zoom);\n  var handleAvailableToken = goog.bind(this.handleAvailableToken_, this, tile);\n  module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_().getObject(handleAvailableToken, opt_priority);\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.getUniqueId = function() {\n  return this.mapId_.mapid + \"-\" + this.mapId_.token;\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.handleAvailableToken_ = function(tile, token) {\n  var tokenPool = module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_();\n  if (tile.isDisposed() || tile.getStatus() == ee.layers.AbstractTile.Status.ABORTED) {\n    tokenPool.releaseObject(token);\n  } else {\n    var key = goog.events.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n      tile.isDone() && (goog.events.unlistenByKey(key), tokenPool.releaseObject(token));\n    });\n    tile.startLoad();\n  }\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.getTileUrl_ = function(coord, zoom) {\n  var url = ee.data.getTileUrl(this.mapId_, coord.x, coord.y, zoom);\n  return this.profiler_ && this.profiler_.isEnabled() ? url + \"&profiling=1\" : url;\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_ = function() {\n  module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_ || (module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_ = new goog.structs.PriorityPool(0, module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_COUNT_));\n  return module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_;\n};\ngoog.exportSymbol(\"ee.layers.EarthEngineTileSource\", module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource);\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_ = null;\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_COUNT_ = 4;\nee.layers.EarthEngineTileSource = module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource;\ngoog.singleton = {};\nvar module$contents$goog$singleton_instantiatedSingletons = [], module$contents$goog$singleton_Singleton = function() {\n};\ngoog.singleton.getInstance = function(ctor) {\n  (0,goog.asserts.assert)(!Object.isSealed(ctor), \"Cannot use getInstance() with a sealed constructor.\");\n  if (ctor.instance_ && ctor.hasOwnProperty(\"instance_\")) {\n    return ctor.instance_;\n  }\n  goog.DEBUG && module$contents$goog$singleton_instantiatedSingletons.push(ctor);\n  var instance = new ctor();\n  ctor.instance_ = instance;\n  (0,goog.asserts.assert)(ctor.hasOwnProperty(\"instance_\"), \"Could not instantiate singleton.\");\n  return instance;\n};\ngoog.singleton.instantiatedSingletons = module$contents$goog$singleton_instantiatedSingletons;\nee.MapTileManager = function() {\n  goog.events.EventTarget.call(this);\n  this.tokenPool_ = new ee.MapTileManager.TokenPool_(0, 60);\n  this.requests_ = new goog.structs.Map();\n};\n$jscomp.inherits(ee.MapTileManager, goog.events.EventTarget);\nee.MapTileManager.prototype.getOutstandingCount = function() {\n  return this.requests_.getCount();\n};\nee.MapTileManager.prototype.send = function(id, url, opt_priority, opt_imageCompletedCallback, opt_maxRetries) {\n  if (this.requests_.get(id)) {\n    throw Error(ee.MapTileManager.ERROR_ID_IN_USE_);\n  }\n  var request = new ee.MapTileManager.Request_(id, url, opt_imageCompletedCallback, goog.bind(this.releaseRequest_, this), void 0 !== opt_maxRetries ? opt_maxRetries : ee.MapTileManager.MAX_RETRIES);\n  this.requests_.set(id, request);\n  var callback = goog.bind(this.handleAvailableToken_, this, request);\n  this.tokenPool_.getObject(callback, opt_priority);\n  return request;\n};\nee.MapTileManager.prototype.abort = function(id) {\n  var request = this.requests_.get(id);\n  request && (request.setAborted(!0), this.releaseRequest_(request));\n};\nee.MapTileManager.prototype.handleAvailableToken_ = function(request, token) {\n  if (request.getImageLoader() || request.getAborted()) {\n    this.releaseObject_(token);\n  } else {\n    if (request.setToken(token), token.setActive(!0), request.setImageLoader(new goog.net.ImageLoader()), !request.retry()) {\n      throw Error(\"Cannot dispatch first request!\");\n    }\n  }\n};\nee.MapTileManager.prototype.releaseRequest_ = function(request) {\n  this.requests_.remove(request.getId());\n  request.getImageLoader() && (this.releaseObject_(request.getToken()), request.getImageLoader().dispose());\n  request.fireImageEventCallback();\n};\nee.MapTileManager.prototype.releaseObject_ = function(token) {\n  token.setActive(!1);\n  if (!this.tokenPool_.releaseObject(token)) {\n    throw Error(\"Object not released\");\n  }\n};\nee.MapTileManager.prototype.disposeInternal = function() {\n  goog.events.EventTarget.prototype.disposeInternal.call(this);\n  this.tokenPool_.dispose();\n  this.tokenPool_ = null;\n  var requests = this.requests_;\n  module$contents$goog$array_forEach(requests.getValues(), function(value) {\n    value.dispose();\n  });\n  requests.clear();\n  this.requests_ = null;\n};\nee.MapTileManager.getInstance = function() {\n  return goog.singleton.getInstance(ee.MapTileManager);\n};\ngoog.exportSymbol(\"ee.MapTileManager\", ee.MapTileManager);\nee.MapTileManager.MAX_RETRIES = 1;\nee.MapTileManager.ERROR_ID_IN_USE_ = \"[ee.MapTileManager] ID in use\";\nee.MapTileManager.Request_ = function(id, url, opt_imageEventCallback, opt_requestCompleteCallback, opt_maxRetries) {\n  goog.Disposable.call(this);\n  this.id_ = id;\n  this.url_ = url;\n  this.maxRetries_ = void 0 !== opt_maxRetries ? opt_maxRetries : ee.MapTileManager.MAX_RETRIES;\n  this.imageEventCallback_ = opt_imageEventCallback;\n  this.requestCompleteCallback_ = opt_requestCompleteCallback;\n};\n$jscomp.inherits(ee.MapTileManager.Request_, goog.Disposable);\nee.MapTileManager.Request_.prototype.getImageLoader = function() {\n  return this.imageLoader_;\n};\nee.MapTileManager.Request_.prototype.setImageLoader = function(imageLoader) {\n  this.imageLoader_ = imageLoader;\n};\nee.MapTileManager.Request_.prototype.getToken = function() {\n  return this.token_;\n};\nee.MapTileManager.Request_.prototype.setToken = function(token) {\n  this.token_ = token;\n};\nee.MapTileManager.Request_.prototype.addImageEventListener = function() {\n  goog.events.listenOnce(this.imageLoader_, ee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_, goog.bind(this.handleImageEvent_, this));\n};\nee.MapTileManager.Request_.prototype.fireImageEventCallback = function() {\n  this.imageEventCallback_ && this.imageEventCallback_(this.event_, this.profileId_);\n};\nee.MapTileManager.Request_.prototype.getId = function() {\n  return this.id_;\n};\nee.MapTileManager.Request_.prototype.getUrl = function() {\n  return this.url_;\n};\nee.MapTileManager.Request_.prototype.getMaxRetries = function() {\n  return this.maxRetries_;\n};\nee.MapTileManager.Request_.prototype.getAttemptCount = function() {\n  return this.attemptCount_;\n};\nee.MapTileManager.Request_.prototype.increaseAttemptCount = function() {\n  this.attemptCount_++;\n};\nee.MapTileManager.Request_.prototype.hasReachedMaxRetries = function() {\n  return this.attemptCount_ > this.maxRetries_;\n};\nee.MapTileManager.Request_.prototype.setAborted = function(aborted) {\n  aborted && !this.aborted_ && (this.aborted_ = aborted, this.event_ = new goog.events.Event(goog.net.EventType.ABORT));\n};\nee.MapTileManager.Request_.prototype.getAborted = function() {\n  return this.aborted_;\n};\nee.MapTileManager.Request_.prototype.handleImageEvent_ = function(e) {\n  if (this.getAborted()) {\n    this.markCompleted_();\n  } else {\n    switch(e.type) {\n      case goog.events.EventType.LOAD:\n        this.handleSuccess_(e);\n        this.markCompleted_();\n        break;\n      case goog.net.EventType.ERROR:\n      case goog.net.EventType.ABORT:\n        this.handleError_(e);\n    }\n  }\n};\nee.MapTileManager.Request_.prototype.markCompleted_ = function() {\n  this.requestCompleteCallback_ && this.requestCompleteCallback_(this);\n};\nee.MapTileManager.Request_.prototype.handleSuccess_ = function(e) {\n  this.event_ = e;\n};\nee.MapTileManager.Request_.prototype.handleError_ = function(e) {\n  this.retry() || (this.event_ = e, this.markCompleted_());\n};\nee.MapTileManager.Request_.prototype.disposeInternal = function() {\n  goog.Disposable.prototype.disposeInternal.call(this);\n  delete this.imageEventCallback_;\n  delete this.requestCompleteCallback_;\n};\nee.MapTileManager.Request_.prototype.retry = function() {\n  if (this.hasReachedMaxRetries()) {\n    return !1;\n  }\n  this.increaseAttemptCount();\n  this.imageLoader_.removeImage(this.id_);\n  setTimeout(goog.bind(this.start_, this), 0);\n  return !0;\n};\nee.MapTileManager.Request_.prototype.start_ = function() {\n  if (!this.getAborted()) {\n    var actuallyLoadImage = goog.bind(function(imageUrl) {\n      this.getAborted() || (this.imageLoader_.addImage(this.id_, imageUrl), this.addImageEventListener(), this.imageLoader_.start());\n    }, this), sourceUrl = this.getUrl();\n    if (goog.Uri.parse(sourceUrl).getQueryData().containsKey(\"profiling\")) {\n      var xhrIo = new goog.net.XhrIo();\n      xhrIo.setResponseType(goog.net.XhrIo.ResponseType.BLOB);\n      xhrIo.listen(goog.net.EventType.COMPLETE, goog.bind(function(event) {\n        this.profileId_ = xhrIo.getResponseHeader(module$contents$ee$apiclient_apiclient.PROFILE_HEADER) || null;\n        if (200 <= xhrIo.getStatus() && 300 > xhrIo.getStatus()) {\n          try {\n            var objectUrl = goog.html.SafeUrl.unwrap(goog.html.SafeUrl.fromBlob(xhrIo.getResponse()));\n            var ok = objectUrl !== goog.html.SafeUrl.INNOCUOUS_STRING;\n          } catch (e) {\n          }\n        }\n        actuallyLoadImage(ok ? objectUrl : sourceUrl);\n      }, this));\n      xhrIo.listenOnce(goog.net.EventType.READY, goog.bind(xhrIo.dispose, xhrIo));\n      xhrIo.send(sourceUrl, \"GET\");\n    } else {\n      actuallyLoadImage(sourceUrl);\n    }\n  }\n};\nee.MapTileManager.Request_.prototype.attemptCount_ = 0;\nee.MapTileManager.Request_.prototype.aborted_ = !1;\nee.MapTileManager.Request_.prototype.imageLoader_ = null;\nee.MapTileManager.Request_.prototype.token_ = null;\nee.MapTileManager.Request_.prototype.event_ = null;\nee.MapTileManager.Request_.prototype.profileId_ = null;\nee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_ = [goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR];\nee.MapTileManager.Token_ = function() {\n  goog.Disposable.call(this);\n  this.active_ = !1;\n};\n$jscomp.inherits(ee.MapTileManager.Token_, goog.Disposable);\nee.MapTileManager.Token_.prototype.setActive = function(val) {\n  this.active_ = val;\n};\nee.MapTileManager.Token_.prototype.isActive = function() {\n  return this.active_;\n};\nee.MapTileManager.TokenPool_ = function(opt_minCount, opt_maxCount) {\n  goog.structs.PriorityPool.call(this, opt_minCount, opt_maxCount);\n};\n$jscomp.inherits(ee.MapTileManager.TokenPool_, goog.structs.PriorityPool);\nee.MapTileManager.TokenPool_.prototype.createObject = function() {\n  return new ee.MapTileManager.Token_();\n};\nee.MapTileManager.TokenPool_.prototype.disposeObject = function(obj) {\n  obj.dispose();\n};\nee.MapTileManager.TokenPool_.prototype.objectCanBeReused = function(obj) {\n  return !obj.isDisposed() && !obj.isActive();\n};\nee.MapLayerOverlay = function(url, mapId, token, init, opt_profiler) {\n  ee.AbstractOverlay.call(this, url, mapId, token, init, opt_profiler);\n  this.minZoom = init.minZoom || 0;\n  this.maxZoom = init.maxZoom || 20;\n  if (!window.google || !window.google.maps) {\n    throw Error(\"Google Maps API hasn't been initialized.\");\n  }\n  this.tileSize = init.tileSize || new google.maps.Size(256, 256);\n  this.isPng = void 0 !== init.isPng ? init.isPng : !0;\n  this.name = init.name;\n  this.tiles_ = new goog.structs.Set();\n  this.opacity_ = 1.0;\n  this.visible_ = !0;\n  this.profiler_ = opt_profiler || null;\n};\n$jscomp.inherits(ee.MapLayerOverlay, ee.AbstractOverlay);\nee.MapLayerOverlay.prototype.addTileCallback = function(callback) {\n  return goog.events.listen(this, ee.AbstractOverlay.EventType.TILE_LOADED, callback);\n};\nee.MapLayerOverlay.prototype.removeTileCallback = function(callbackId) {\n  goog.events.unlistenByKey(callbackId);\n};\nee.MapLayerOverlay.prototype.dispatchTileEvent_ = function() {\n  this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length));\n};\nee.MapLayerOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n  var maxCoord;\n  if (zoom < this.minZoom || 0 > coord.y || coord.y >= 1 << zoom) {\n    var img = ownerDocument.createElement(\"IMG\");\n    img.style.width = \"0px\";\n    img.style.height = \"0px\";\n    return img;\n  }\n  var profiling = this.profiler_ && this.profiler_.isEnabled(), tileId = this.getTileId(coord, zoom), src = [this.url, tileId].join(\"/\") + \"?token=\" + this.token;\n  profiling && (src += \"&profiling=1\");\n  var uniqueTileId = [tileId, this.tileCounter, this.token].join(\"/\");\n  this.tileCounter += 1;\n  var div = goog.dom.createDom(goog.dom.TagName.DIV, {id:uniqueTileId}), priority = (new Date()).getTime() / 1000;\n  this.tilesLoading.push(uniqueTileId);\n  ee.MapTileManager.getInstance().send(uniqueTileId, src, priority, goog.bind(this.handleImageCompleted_, this, div, uniqueTileId));\n  this.dispatchTileEvent_();\n  return div;\n};\nee.MapLayerOverlay.prototype.getLoadedTilesCount = function() {\n  return this.tiles_.getCount();\n};\nee.MapLayerOverlay.prototype.getLoadingTilesCount = function() {\n  return this.tilesLoading.length;\n};\nee.MapLayerOverlay.prototype.releaseTile = function(tileDiv) {\n  ee.MapTileManager.getInstance().abort(tileDiv.id);\n  this.tiles_.remove(goog.dom.getFirstElementChild(tileDiv));\n  \"\" !== tileDiv.id && (this.tilesFailed.remove(tileDiv.id), this.profiler_ && this.profiler_.removeTile(tileDiv.id));\n};\nee.MapLayerOverlay.prototype.setOpacity = function(opacity) {\n  this.opacity_ = opacity;\n  var iter = this.tiles_.__iterator__();\n  goog.iter.forEach(iter, function(tile) {\n    goog.style.setOpacity(tile, opacity);\n  });\n};\nee.MapLayerOverlay.prototype.handleImageCompleted_ = function(div, tileId, e, profileId) {\n  if (e.type == goog.net.EventType.ERROR) {\n    module$contents$goog$array_remove(this.tilesLoading, tileId), this.tilesFailed.add(tileId), this.dispatchEvent(e);\n  } else {\n    module$contents$goog$array_remove(this.tilesLoading, tileId);\n    if (e.target && e.type == goog.events.EventType.LOAD) {\n      var tile = e.target;\n      this.tiles_.add(tile);\n      1.0 != this.opacity_ && goog.style.setOpacity(tile, this.opacity_);\n      div.appendChild(tile);\n    }\n    this.dispatchTileEvent_();\n  }\n  this.profiler_ && null !== profileId && this.profiler_.addTile(tileId, profileId);\n};\ngoog.exportSymbol(\"ee.MapLayerOverlay\", ee.MapLayerOverlay);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"removeTileCallback\", ee.MapLayerOverlay.prototype.removeTileCallback);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"addTileCallback\", ee.MapLayerOverlay.prototype.addTileCallback);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"getTile\", ee.MapLayerOverlay.prototype.getTile);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"setOpacity\", ee.MapLayerOverlay.prototype.setOpacity);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"releaseTile\", ee.MapLayerOverlay.prototype.releaseTile);\ngoog.async.Delay = function(listener, opt_interval, opt_handler) {\n  goog.Disposable.call(this);\n  this.listener_ = listener;\n  this.interval_ = opt_interval || 0;\n  this.handler_ = opt_handler;\n  this.callback_ = goog.bind(this.doAction_, this);\n};\ngoog.inherits(goog.async.Delay, goog.Disposable);\ngoog.async.Delay.prototype.id_ = 0;\ngoog.async.Delay.prototype.disposeInternal = function() {\n  goog.async.Delay.superClass_.disposeInternal.call(this);\n  this.stop();\n  delete this.listener_;\n  delete this.handler_;\n};\ngoog.async.Delay.prototype.start = function(opt_interval) {\n  this.stop();\n  this.id_ = goog.Timer.callOnce(this.callback_, void 0 !== opt_interval ? opt_interval : this.interval_);\n};\ngoog.async.Delay.prototype.startIfNotActive = function(opt_interval) {\n  this.isActive() || this.start(opt_interval);\n};\ngoog.async.Delay.prototype.stop = function() {\n  this.isActive() && goog.Timer.clear(this.id_);\n  this.id_ = 0;\n};\ngoog.async.Delay.prototype.fire = function() {\n  this.stop();\n  this.doAction_();\n};\ngoog.async.Delay.prototype.fireIfActive = function() {\n  this.isActive() && this.fire();\n};\ngoog.async.Delay.prototype.isActive = function() {\n  return 0 != this.id_;\n};\ngoog.async.Delay.prototype.doAction_ = function() {\n  this.id_ = 0;\n  this.listener_ && this.listener_.call(this.handler_);\n};\nee.data.Profiler = function(format) {\n  goog.events.EventTarget.call(this);\n  this.format_ = format;\n  this.isEnabled_ = !1;\n  this.lastRefreshToken_ = null;\n  this.profileIds_ = Object.create(null);\n  this.tileProfileIds_ = Object.create(null);\n  this.showInternal_ = !1;\n  this.profileError_ = null;\n  this.throttledRefresh_ = new goog.async.Delay(goog.bind(this.refresh_, this), ee.data.Profiler.DELAY_BEFORE_REFRESH_);\n  this.profileData_ = ee.data.Profiler.getEmptyProfile_(format);\n  this.MAX_RETRY_COUNT_ = 5;\n};\n$jscomp.inherits(ee.data.Profiler, goog.events.EventTarget);\nee.data.Profiler.prototype.isEnabled = function() {\n  return this.isEnabled_;\n};\nee.data.Profiler.prototype.setEnabled = function(value) {\n  this.isEnabled_ = !!value;\n  this.dispatchEvent(new goog.events.Event(ee.data.Profiler.EventType.STATE_CHANGED));\n};\nee.data.Profiler.prototype.isLoading = function() {\n  return null !== this.lastRefreshToken_;\n};\nee.data.Profiler.prototype.isError = function() {\n  return null != this.profileError_;\n};\nee.data.Profiler.prototype.getStatusText = function() {\n  if (this.profileError_) {\n    return this.profileError_;\n  }\n  if (this.lastRefreshToken_) {\n    return \"Loading...\";\n  }\n  var profiles = 0, nonTileProfiles = 0, tileProfiles = 0;\n  module$contents$goog$object_forEach(this.profileIds_, function(refCount) {\n    profiles++;\n    Infinity === refCount ? nonTileProfiles++ : tileProfiles++;\n  }, this);\n  return \"Viewing \" + profiles + \" profiles, \" + nonTileProfiles + \" from API calls and \" + tileProfiles + \" from map tiles.\";\n};\nee.data.Profiler.prototype.getProfileData = function() {\n  return this.profileData_;\n};\nee.data.Profiler.prototype.clearAndDrop = function() {\n  this.profileIds_ = Object.create(null);\n  this.tileProfileIds_ = Object.create(null);\n  this.refresh_();\n};\nee.data.Profiler.prototype.getProfileHook = function() {\n  var profileIds = this.profileIds_;\n  return this.isEnabled_ ? goog.bind(function(profileId) {\n    profileIds[profileId] = Infinity;\n    this.throttledRefresh_.start();\n  }, this) : null;\n};\nee.data.Profiler.prototype.removeProfile_ = function(profileId) {\n  var count = this.profileIds_[profileId];\n  1 < count ? this.profileIds_[profileId]-- : void 0 !== count && (delete this.profileIds_[profileId], this.throttledRefresh_.start());\n};\nee.data.Profiler.prototype.refresh_ = function(retryAttempt) {\n  var $jscomp$this = this;\n  retryAttempt = void 0 === retryAttempt ? 0 : retryAttempt;\n  var marker = {};\n  this.lastRefreshToken_ = marker;\n  var handleResponse = function(result, error) {\n    marker == $jscomp$this.lastRefreshToken_ && (error && \"number\" === typeof retryAttempt && retryAttempt < $jscomp$this.MAX_RETRY_COUNT_ ? goog.Timer.callOnce(goog.bind($jscomp$this.refresh_, $jscomp$this, retryAttempt + 1), 2 * ee.data.Profiler.DELAY_BEFORE_REFRESH_) : ($jscomp$this.profileError_ = error || null, $jscomp$this.profileData_ = error ? ee.data.Profiler.getEmptyProfile_($jscomp$this.format_) : result, $jscomp$this.lastRefreshToken_ = null, $jscomp$this.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED), \n    $jscomp$this.dispatchEvent(ee.data.Profiler.EventType.DATA_CHANGED)));\n  }, ids = module$contents$goog$object_getKeys(this.profileIds_);\n  0 === ids.length ? handleResponse(ee.data.Profiler.getEmptyProfile_(this.format_), void 0) : (ee.ApiFunction._apply(this.showInternal_ ? \"Profile.getProfilesInternal\" : \"Profile.getProfiles\", {ids:ids, format:this.format_.toString(),}).getInfo(handleResponse), this.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED));\n};\nee.data.Profiler.prototype.addTile = function(tileId, profileId) {\n  this.tileProfileIds_[tileId] || (this.tileProfileIds_[tileId] = profileId, this.profileIds_[profileId] = (this.profileIds_[profileId] || 0) + 1, this.throttledRefresh_.start());\n};\nee.data.Profiler.prototype.removeTile = function(tileId) {\n  var profileId = this.tileProfileIds_[tileId];\n  profileId && (delete this.tileProfileIds_[tileId], this.removeProfile_(profileId));\n};\nee.data.Profiler.prototype.getShowInternal = function() {\n  return this.showInternal_;\n};\nee.data.Profiler.prototype.setShowInternal = function(value) {\n  this.showInternal_ = !!value;\n  this.throttledRefresh_.fire();\n};\nee.data.Profiler.prototype.setParentEventTarget = function(parent) {\n  throw Error(\"not applicable\");\n};\nee.data.Profiler.getEmptyProfile_ = function(format) {\n  switch(format) {\n    case ee.data.Profiler.Format.TEXT:\n      return \"\";\n    case ee.data.Profiler.Format.JSON:\n      return ee.data.Profiler.EMPTY_JSON_PROFILE_;\n    default:\n      throw Error(\"Invalid Profiler data format: \" + format);\n  }\n};\nee.data.Profiler.DELAY_BEFORE_REFRESH_ = 500;\nee.data.Profiler.EMPTY_JSON_PROFILE_ = {cols:[], rows:[]};\nee.data.Profiler.EventType = {STATE_CHANGED:\"statechanged\", DATA_CHANGED:\"datachanged\"};\nee.data.Profiler.Format = function(format) {\n  this.format_ = format;\n};\nee.data.Profiler.Format.prototype.toString = function() {\n  return this.format_;\n};\nee.data.Profiler.Format.TEXT = new ee.data.Profiler.Format(\"text\");\nee.data.Profiler.Format.JSON = new ee.data.Profiler.Format(\"json\");\n(function() {\n  var exportedFnInfo = {}, orderedFnNames = \"ee.ApiFunction._apply ee.ApiFunction.lookup ee.ApiFunction._call ee.batch.Export.table.toFeatureView ee.batch.Export.video.toCloudStorage ee.batch.Export.videoMap.toCloudStorage ee.batch.Export.image.toAsset ee.batch.Export.table.toAsset ee.batch.Export.classifier.toAsset ee.batch.Export.video.toDrive ee.batch.Export.image.toCloudStorage ee.batch.Export.image.toDrive ee.batch.Export.map.toCloudStorage ee.batch.Export.table.toCloudStorage ee.batch.Export.table.toDrive ee.Collection.prototype.limit ee.Collection.prototype.map ee.Collection.prototype.filterMetadata ee.Collection.prototype.sort ee.Collection.prototype.filterDate ee.Collection.prototype.filter ee.Collection.prototype.iterate ee.Collection.prototype.filterBounds ee.ComputedObject.prototype.aside ee.ComputedObject.prototype.evaluate ee.ComputedObject.prototype.getInfo ee.ComputedObject.prototype.serialize ee.data.deleteAsset ee.data.startIngestion ee.data.getVideoThumbId ee.data.getList ee.data.getFilmstripThumbId ee.data.listAssets ee.data.makeThumbUrl ee.data.authenticateViaOauth ee.data.startTableIngestion ee.data.getDownloadId ee.data.getAssetAcl ee.data.listImages ee.data.getAssetRoots ee.data.setAssetAcl ee.data.updateAsset ee.data.getTableDownloadId ee.data.getAsset ee.data.getInfo ee.data.makeDownloadUrl ee.data.listBuckets ee.data.makeTableDownloadUrl ee.data.setAssetProperties ee.data.authenticateViaPopup ee.data.createAssetHome ee.data.getAssetRootQuota ee.data.newTaskId ee.data.authenticateViaPrivateKey ee.data.cancelOperation ee.data.createAsset ee.data.getOperation ee.data.getTaskStatus ee.data.createFolder ee.data.getMapId ee.data.listOperations ee.data.renameAsset ee.data.getFeatureViewTilesKey ee.data.updateTask ee.data.cancelTask ee.data.getTaskListWithLimit ee.data.getThumbId ee.data.computeValue ee.data.startProcessing ee.data.authenticate ee.data.getTaskList ee.data.copyAsset ee.data.getTileUrl ee.Date ee.Deserializer.fromCloudApiJSON ee.Deserializer.decode ee.Deserializer.fromJSON ee.Deserializer.decodeCloudApi ee.Dictionary ee.call ee.reset ee.TILE_SIZE ee.InitState ee.apply ee.initialize ee.Algorithms ee.Element.prototype.set ee.Feature.prototype.getInfo ee.Feature ee.Feature.prototype.getMap ee.FeatureCollection.prototype.select ee.FeatureCollection.prototype.getDownloadURL ee.FeatureCollection ee.FeatureCollection.prototype.getMap ee.FeatureCollection.prototype.getInfo ee.Filter ee.Filter.or ee.Filter.lt ee.Filter.date ee.Filter.eq ee.Filter.gte ee.Filter.lte ee.Filter.neq ee.Filter.and ee.Filter.metadata ee.Filter.inList ee.Filter.bounds ee.Filter.gt ee.Filter.prototype.not ee.Function.prototype.apply ee.Function.prototype.call ee.Geometry.LineString ee.Geometry ee.Geometry.prototype.toGeoJSONString ee.Geometry.BBox ee.Geometry.MultiPolygon ee.Geometry.MultiLineString ee.Geometry.Point ee.Geometry.prototype.serialize ee.Geometry.Rectangle ee.Geometry.LinearRing ee.Geometry.prototype.toGeoJSON ee.Geometry.MultiPoint ee.Geometry.Polygon ee.Image.prototype.rename ee.Image.prototype.getDownloadURL ee.Image.prototype.select ee.Image.prototype.getMap ee.Image.prototype.getThumbURL ee.Image ee.Image.prototype.getThumbId ee.Image.prototype.expression ee.Image.prototype.clip ee.Image.rgb ee.Image.cat ee.Image.prototype.getInfo ee.ImageCollection.prototype.getFilmstripThumbURL ee.ImageCollection.prototype.getInfo ee.ImageCollection.prototype.getVideoThumbURL ee.ImageCollection.prototype.first ee.ImageCollection ee.ImageCollection.prototype.getMap ee.ImageCollection.prototype.select ee.List ee.Number ee.Serializer.encodeCloudApiPretty ee.Serializer.toCloudApiJSON ee.Serializer.encode ee.Serializer.toJSON ee.Serializer.encodeCloudApi ee.Serializer.toReadableCloudApiJSON ee.Serializer.toReadableJSON ee.String ee.Terrain\".split(\" \"), \n  orderedParamLists = [[\"name\", \"namedArgs\"], [\"name\"], [\"name\", \"var_args\"], [\"collection\", \"opt_description\", \"opt_assetId\"], \"collection opt_description opt_bucket opt_fileNamePrefix opt_framesPerSecond opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_maxFrames\".split(\" \"), \"collection opt_description opt_bucket opt_fileNamePrefix opt_framesPerSecond opt_writePublicTiles opt_minZoom opt_maxZoom opt_scale opt_region opt_skipEmptyTiles opt_minTimeMachineZoomSubset opt_maxTimeMachineZoomSubset opt_tileWidth opt_tileHeight opt_tileStride opt_videoFormat opt_version opt_mapsApiKey opt_bucketCorsUris\".split(\" \"), \n  \"image opt_description opt_assetId opt_pyramidingPolicy opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize\".split(\" \"), [\"collection\", \"opt_description\", \"opt_assetId\", \"opt_maxVertices\"], [\"classifier\", \"opt_description\", \"opt_assetId\"], \"collection opt_description opt_folder opt_fileNamePrefix opt_framesPerSecond opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_maxFrames\".split(\" \"), \"image opt_description opt_bucket opt_fileNamePrefix opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize opt_fileDimensions opt_skipEmptyTiles opt_fileFormat opt_formatOptions\".split(\" \"), \n  \"image opt_description opt_folder opt_fileNamePrefix opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize opt_fileDimensions opt_skipEmptyTiles opt_fileFormat opt_formatOptions\".split(\" \"), \"image opt_description opt_bucket opt_fileFormat opt_path opt_writePublicTiles opt_scale opt_maxZoom opt_minZoom opt_region opt_skipEmptyTiles opt_mapsApiKey opt_bucketCorsUris\".split(\" \"), \"collection opt_description opt_bucket opt_fileNamePrefix opt_fileFormat opt_selectors opt_maxVertices\".split(\" \"), \n  \"collection opt_description opt_folder opt_fileNamePrefix opt_fileFormat opt_selectors opt_maxVertices\".split(\" \"), [\"max\", \"opt_property\", \"opt_ascending\"], [\"algorithm\", \"opt_dropNulls\"], [\"name\", \"operator\", \"value\"], [\"property\", \"opt_ascending\"], [\"start\", \"opt_end\"], [\"filter\"], [\"algorithm\", \"opt_first\"], [\"geometry\"], [\"func\", \"var_args\"], [\"callback\"], [\"opt_callback\"], [\"legacy\"], [\"assetId\", \"opt_callback\"], [\"taskId\", \"request\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"params\", \n  \"opt_callback\"], [\"params\", \"opt_callback\"], [\"parent\", \"params\", \"opt_callback\"], [\"id\"], \"clientId success opt_error opt_extraScopes opt_onImmediateFailed opt_suppressDefaultScopes\".split(\" \"), [\"taskId\", \"request\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"assetId\", \"opt_callback\"], [\"parent\", \"params\", \"opt_callback\"], [\"opt_callback\"], [\"assetId\", \"aclUpdate\", \"opt_callback\"], [\"assetId\", \"asset\", \"updateFields\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"id\", \"opt_callback\"], [\"id\", \n  \"opt_callback\"], [\"id\"], [\"project\", \"opt_callback\"], [\"id\"], [\"assetId\", \"properties\", \"opt_callback\"], [\"opt_success\", \"opt_error\"], [\"requestedId\", \"opt_callback\"], [\"rootId\", \"opt_callback\"], [\"opt_count\", \"opt_callback\"], [\"privateKey\", \"opt_success\", \"opt_error\", \"opt_extraScopes\", \"opt_suppressDefaultScopes\"], [\"operationName\", \"opt_callback\"], [\"value\", \"opt_path\", \"opt_force\", \"opt_properties\", \"opt_callback\"], [\"operationName\", \"opt_callback\"], [\"taskId\", \"opt_callback\"], [\"path\", \"opt_force\", \n  \"opt_callback\"], [\"params\", \"opt_callback\"], [\"opt_limit\", \"opt_callback\"], [\"sourceId\", \"destinationId\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"taskId\", \"action\", \"opt_callback\"], [\"taskId\", \"opt_callback\"], [\"opt_limit\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"obj\", \"opt_callback\"], [\"taskId\", \"params\", \"opt_callback\"], [\"clientId\", \"success\", \"opt_error\", \"opt_extraScopes\", \"opt_onImmediateFailed\"], [\"opt_callback\"], [\"sourceId\", \"destinationId\", \"opt_overwrite\", \"opt_callback\"], \n  [\"id\", \"x\", \"y\", \"z\"], [\"date\", \"opt_tz\"], [\"json\"], [\"json\"], [\"json\"], [\"json\"], [\"opt_dict\"], [\"func\", \"var_args\"], [], [], [], [\"func\", \"namedArgs\"], \"opt_baseurl opt_tileurl opt_successCallback opt_errorCallback opt_xsrfToken opt_project\".split(\" \"), [], [\"var_args\"], [\"opt_callback\"], [\"geometry\", \"opt_properties\"], [\"opt_visParams\", \"opt_callback\"], [\"propertySelectors\", \"opt_newProperties\", \"opt_retainGeometry\"], [\"opt_format\", \"opt_selectors\", \"opt_filename\", \"opt_callback\"], [\"args\", \n  \"opt_column\"], [\"opt_visParams\", \"opt_callback\"], [\"opt_callback\"], [\"opt_filter\"], [\"var_args\"], [\"name\", \"value\"], [\"start\", \"opt_end\"], [\"name\", \"value\"], [\"name\", \"value\"], [\"name\", \"value\"], [\"name\", \"value\"], [\"var_args\"], [\"name\", \"operator\", \"value\"], [\"opt_leftField\", \"opt_rightValue\", \"opt_rightField\", \"opt_leftValue\"], [\"geometry\", \"opt_errorMargin\"], [\"name\", \"value\"], [], [\"namedArgs\"], [\"var_args\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\"], [\"geoJson\", \"opt_proj\", \"opt_geodesic\", \n  \"opt_evenOdd\"], [], [\"west\", \"south\", \"east\", \"north\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\", \"opt_evenOdd\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\"], [\"coords\", \"opt_proj\"], [\"legacy\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_evenOdd\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\"], [], [\"coords\", \"opt_proj\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\", \"opt_evenOdd\"], [\"var_args\"], [\"params\", \"opt_callback\"], [\"var_args\"], [\"opt_visParams\", \n  \"opt_callback\"], [\"params\", \"opt_callback\"], [\"opt_args\"], [\"params\", \"opt_callback\"], [\"expression\", \"opt_map\"], [\"geometry\"], [\"r\", \"g\", \"b\"], [\"var_args\"], [\"opt_callback\"], [\"params\", \"opt_callback\"], [\"opt_callback\"], [\"params\", \"opt_callback\"], [], [\"args\"], [\"opt_visParams\", \"opt_callback\"], [\"selectors\", \"opt_names\"], [\"list\"], [\"number\"], [\"obj\"], [\"obj\"], [\"obj\", \"opt_isCompound\"], [\"obj\"], [\"obj\"], [\"obj\"], [\"obj\"], [\"string\"], []];\n  [ee.ApiFunction._apply, ee.ApiFunction.lookup, ee.ApiFunction._call, module$contents$ee$batch_Export.table.toFeatureView, module$contents$ee$batch_Export.video.toCloudStorage, module$contents$ee$batch_Export.videoMap.toCloudStorage, module$contents$ee$batch_Export.image.toAsset, module$contents$ee$batch_Export.table.toAsset, module$contents$ee$batch_Export.classifier.toAsset, module$contents$ee$batch_Export.video.toDrive, module$contents$ee$batch_Export.image.toCloudStorage, module$contents$ee$batch_Export.image.toDrive, \n  module$contents$ee$batch_Export.map.toCloudStorage, module$contents$ee$batch_Export.table.toCloudStorage, module$contents$ee$batch_Export.table.toDrive, ee.Collection.prototype.limit, ee.Collection.prototype.map, ee.Collection.prototype.filterMetadata, ee.Collection.prototype.sort, ee.Collection.prototype.filterDate, ee.Collection.prototype.filter, ee.Collection.prototype.iterate, ee.Collection.prototype.filterBounds, ee.ComputedObject.prototype.aside, ee.ComputedObject.prototype.evaluate, ee.ComputedObject.prototype.getInfo, \n  ee.ComputedObject.prototype.serialize, ee.data.deleteAsset, ee.data.startIngestion, ee.data.getVideoThumbId, ee.data.getList, ee.data.getFilmstripThumbId, ee.data.listAssets, ee.data.makeThumbUrl, ee.data.authenticateViaOauth, ee.data.startTableIngestion, ee.data.getDownloadId, ee.data.getAssetAcl, ee.data.listImages, ee.data.getAssetRoots, ee.data.setAssetAcl, ee.data.updateAsset, ee.data.getTableDownloadId, ee.data.getAsset, ee.data.getInfo, ee.data.makeDownloadUrl, ee.data.listBuckets, ee.data.makeTableDownloadUrl, \n  ee.data.setAssetProperties, ee.data.authenticateViaPopup, ee.data.createAssetHome, ee.data.getAssetRootQuota, ee.data.newTaskId, ee.data.authenticateViaPrivateKey, ee.data.cancelOperation, ee.data.createAsset, ee.data.getOperation, ee.data.getTaskStatus, ee.data.createFolder, ee.data.getMapId, ee.data.listOperations, ee.data.renameAsset, ee.data.getFeatureViewTilesKey, ee.data.updateTask, ee.data.cancelTask, ee.data.getTaskListWithLimit, ee.data.getThumbId, ee.data.computeValue, ee.data.startProcessing, \n  ee.data.authenticate, ee.data.getTaskList, ee.data.copyAsset, ee.data.getTileUrl, ee.Date, ee.Deserializer.fromCloudApiJSON, ee.Deserializer.decode, ee.Deserializer.fromJSON, ee.Deserializer.decodeCloudApi, ee.Dictionary, ee.call, ee.reset, ee.TILE_SIZE, ee.InitState, ee.apply, ee.initialize, ee.Algorithms, ee.Element.prototype.set, ee.Feature.prototype.getInfo, ee.Feature, ee.Feature.prototype.getMap, ee.FeatureCollection.prototype.select, ee.FeatureCollection.prototype.getDownloadURL, ee.FeatureCollection, \n  ee.FeatureCollection.prototype.getMap, ee.FeatureCollection.prototype.getInfo, ee.Filter, ee.Filter.or, ee.Filter.lt, ee.Filter.date, ee.Filter.eq, ee.Filter.gte, ee.Filter.lte, ee.Filter.neq, ee.Filter.and, ee.Filter.metadata, ee.Filter.inList, ee.Filter.bounds, ee.Filter.gt, ee.Filter.prototype.not, ee.Function.prototype.apply, ee.Function.prototype.call, ee.Geometry.LineString, ee.Geometry, ee.Geometry.prototype.toGeoJSONString, ee.Geometry.BBox, ee.Geometry.MultiPolygon, ee.Geometry.MultiLineString, \n  ee.Geometry.Point, ee.Geometry.prototype.serialize, ee.Geometry.Rectangle, ee.Geometry.LinearRing, ee.Geometry.prototype.toGeoJSON, ee.Geometry.MultiPoint, ee.Geometry.Polygon, ee.Image.prototype.rename, ee.Image.prototype.getDownloadURL, ee.Image.prototype.select, ee.Image.prototype.getMap, ee.Image.prototype.getThumbURL, ee.Image, ee.Image.prototype.getThumbId, ee.Image.prototype.expression, ee.Image.prototype.clip, ee.Image.rgb, ee.Image.cat, ee.Image.prototype.getInfo, ee.ImageCollection.prototype.getFilmstripThumbURL, \n  ee.ImageCollection.prototype.getInfo, ee.ImageCollection.prototype.getVideoThumbURL, ee.ImageCollection.prototype.first, ee.ImageCollection, ee.ImageCollection.prototype.getMap, ee.ImageCollection.prototype.select, ee.List, ee.Number, ee.Serializer.encodeCloudApiPretty, ee.Serializer.toCloudApiJSON, ee.Serializer.encode, ee.Serializer.toJSON, ee.Serializer.encodeCloudApi, ee.Serializer.toReadableCloudApiJSON, ee.Serializer.toReadableJSON, ee.String, ee.Terrain].forEach(function(fn, i) {\n    fn && (exportedFnInfo[fn.toString()] = {name:orderedFnNames[i], paramNames:orderedParamLists[i]});\n  });\n  goog.global.EXPORTED_FN_INFO = exportedFnInfo;\n})();\n\ngoog.global = window;\ngoog.Timer.defaultTimerObject = window;\nmodule.exports = ee;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9lYXJ0aGVuZ2luZS9idWlsZC9icm93c2VyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0NBQWdDLEdBQUc7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0xBQWtMLHFCQUFNLElBQUkscUJBQU0sV0FBVyw0QkFBNEI7QUFDek87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsc0JBQXNCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLHlDQUF5QztBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHlDQUF5QztBQUNwRyxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5Rix5Q0FBeUM7QUFDbEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG9EQUFvRDtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOE1BQThNLHVCQUF1QjtBQUNyTztBQUNBLDRLQUE0SztBQUM1SztBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNEJBQTRCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDJDQUEyQztBQUNoRTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0QkFBNEI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywwQkFBMEI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxz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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsdUNBQXVDO0FBQ3hEO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsSUFBSTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLGtCQUFrQjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQ0FBZ0M7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHLGFBQWE7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UscUJBQXFCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxtREFBbUQ7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsbURBQW1EO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdCQUFnQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLFFBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Ysd0ZBQXdGLE9BQU87QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0RixRQUFRO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLGlIQUFpSCxPQUFPO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Ysd0dBQXdHLE9BQU87QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRix3RkFBd0YsT0FBTztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRix3RkFBd0YsT0FBTztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdGQUF3RixPQUFPO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0RixRQUFRO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsUUFBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxZQUFZO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsVUFBVTtBQUNoQztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcscUZBQXFGLHdCQUF3QjtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGFBQWE7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxnQkFBZ0I7QUFDL0Qsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHFCQUFxQixtQkFBbUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esd0ZBQXdGLGdCQUFnQjtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpSEFBaUgsT0FBTztBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0lBQWdJLE9BQU87QUFDdkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFNBQVMsa0JBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxrQkFBa0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGdCQUFnQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0EsSUFBSTtBQUNKLDJCQUEyQixZQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLE9BQU87QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNCQUFzQjtBQUNyRDtBQUNBO0FBQ0Esc0JBQXNCLG9CQUFvQjtBQUMxQywrSkFBK0osMEJBQTBCO0FBQ3pMO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsc0JBQXNCO0FBQ25GO0FBQ0E7QUFDQSxxQkFBcUIsZUFBZTtBQUNwQyxnQ0FBZ0Msc0JBQXNCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLE9BQU87QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEZBQThGO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3RkFBd0Y7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBCQUEwQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdCQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsd0NBQXdDO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSwyQ0FBMkMseUJBQXlCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLFVBQVUsV0FBVztBQUNyQixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGNBQWM7QUFDcEU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsNkNBQTZDLDZDQUE2QyxpREFBaUQsd0RBQXdELCtDQUErQztBQUM1UyxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGLG1GQUFtRjtBQUNuRixtRkFBbUY7QUFDbkYsdUZBQXVGO0FBQ3ZGLDhGQUE4RjtBQUM5Rix3RkFBd0Y7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdU5BQXVOLGlDQUFpQztBQUN4UDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHLHNDQUFzQztBQUM5STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLGtDQUFrQyxRQUFRO0FBQzFDO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxzQkFBc0I7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBCQUEwQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sMkJBQTJCLFFBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxvQkFBb0I7QUFDakU7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLG9CQUFvQjtBQUMzRjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtDQUFrQztBQUMzQztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkJBQTZCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLHNCQUFzQjtBQUNoRztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsWUFBWTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWixHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVCQUF1QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhFQUE4RTtBQUM5RixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHNCQUFzQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsa0JBQWtCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsR0FBRztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxLQUFLO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1S0FBdUssbUJBQW1CO0FBQzFMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxpREFBaUQsTUFBTTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0JBQWtCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHLHlCQUF5QjtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMlBBQTJQLG1CQUFtQjtBQUM5UTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsRUFBRSw4QkFBOEIsS0FBSztBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxzQ0FBc0MsRUFBRTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSw2Q0FBNkM7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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VyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxJQUFJO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNIQUFzSCw4Q0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHLHlGQUF5RjtBQUNyTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEdBQThHLHNCQUFzQjtBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELEVBQUU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtIQUFrSCxpQkFBaUI7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLGlCQUFpQjtBQUM3RjtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EsMkRBQTJELDhIQUE4SDtBQUN6TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixzQkFBc0IsYUFBYTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixhQUFhO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsaUJBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpS0FBaUssVUFBVTtBQUMzSyw0RUFBNEUsYUFBYTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsbUJBQW1CO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGtCQUFrQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDJCQUEyQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1EQUFtRDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywwQkFBMEI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx1QkFBdUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1DQUFtQztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDZCQUE2QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNCQUFzQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFdBQVc7QUFDekIsa0RBQWtELEtBQUs7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxlQUFlO0FBQzdCLHlDQUF5QyxXQUFXO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsZUFBZSxrQ0FBa0M7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxNQUFNO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxpQkFBaUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsR0FBRztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsaUJBQWlCO0FBQ3JGO0FBQ0E7QUFDQSx3Q0FBd0MsR0FBRztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsR0FBRztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEhBQTBILHdEQUF3RDtBQUNsTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUiwwQ0FBMEMsTUFBTTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNGQUFzRixxQkFBcUI7QUFDM0cseUJBQXlCLDBCQUEwQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxpQ0FBaUM7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFVBQVU7QUFDVixrREFBa0QsUUFBUTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVFQUF1RTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDZDQUE2QztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkNBQTZDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixPQUFPO0FBQ2pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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STtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0VBQW9FLHlCQUF5QjtBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHlCQUF5QixtSEFBbUgsNkJBQTZCO0FBQzVLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0dBQWdHLEtBQUs7QUFDckcsb0dBQW9HLEtBQUs7QUFDekcsc0dBQXNHLEtBQUs7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LFVBQVU7QUFDeEY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsYUFBYSx1RUFBdUUsY0FBYztBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQSxJQUFJO0FBQ0osZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseUNBQXlDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDRGQUE0RjtBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDZLQUE2SyxnSEFBZ0gsb0JBQW9CO0FBQ2pUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxnT0FBZ08sYUFBYTtBQUM3TyxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGlCQUFpQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxxQkFBcUI7QUFDdkQ7QUFDQSw2Q0FBNkMsYUFBYTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNkRBQTZELGtCQUFrQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNlRBQTZUO0FBQzdUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGlDQUFpQztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG1KQUFtSjtBQUNoTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsOERBQThELGlEQUFpRDtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsc0JBQXNCO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1OQUFtTix5QkFBeUI7QUFDNU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5UEFBeVAsb0NBQW9DO0FBQzdSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLHNGQUFzRjtBQUM3SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0QkFBNEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHNCQUFzQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGtCQUFrQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFFBQVE7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDJGQUEyRjtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxpQ0FBaUM7QUFDekU7QUFDQTtBQUNBLFNBQVMsNERBQTREO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHFCQUFxQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxpQkFBaUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLGNBQWMsaUJBQWlCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLG1CQUFtQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxVQUFVO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsT0FBTztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLE9BQU87QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyw0QkFBNEI7QUFDMUU7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGdCQUFnQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsbU1BQW1NLHlDQUF5QztBQUM1TztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsd0RBQXdEO0FBQ3BHLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9wb19wcm9maWxlci8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL2VhcnRoZW5naW5lL2J1aWxkL2Jyb3dzZXIuanM/OWRmZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXG4gQ29weXJpZ2h0IFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy5cbiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuKi9cbnZhciBpc0Nocm9tZTg3LCAkanNjb21wID0gJGpzY29tcCB8fCB7fTtcbiRqc2NvbXAuc2NvcGUgPSB7fTtcbiRqc2NvbXAuYXJyYXlJdGVyYXRvckltcGwgPSBmdW5jdGlvbihhcnJheSkge1xuICB2YXIgaW5kZXggPSAwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGluZGV4IDwgYXJyYXkubGVuZ3RoID8ge2RvbmU6ITEsIHZhbHVlOmFycmF5W2luZGV4KytdLH0gOiB7ZG9uZTohMH07XG4gIH07XG59O1xuJGpzY29tcC5hcnJheUl0ZXJhdG9yID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgcmV0dXJuIHtuZXh0OiRqc2NvbXAuYXJyYXlJdGVyYXRvckltcGwoYXJyYXkpfTtcbn07XG4kanNjb21wLkFTU1VNRV9FUzUgPSAhMTtcbiRqc2NvbXAuQVNTVU1FX05PX05BVElWRV9NQVAgPSAhMTtcbiRqc2NvbXAuQVNTVU1FX05PX05BVElWRV9TRVQgPSAhMTtcbiRqc2NvbXAuU0lNUExFX0ZST1VORF9QT0xZRklMTCA9ICExO1xuJGpzY29tcC5JU09MQVRFX1BPTFlGSUxMUyA9ICExO1xuJGpzY29tcC5GT1JDRV9QT0xZRklMTF9QUk9NSVNFID0gITE7XG4kanNjb21wLkZPUkNFX1BPTFlGSUxMX1BST01JU0VfV0hFTl9OT19VTkhBTkRMRURfUkVKRUNUSU9OID0gITE7XG4kanNjb21wLmRlZmluZVByb3BlcnR5ID0gJGpzY29tcC5BU1NVTUVfRVM1IHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbih0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKSB7XG4gIGlmICh0YXJnZXQgPT0gQXJyYXkucHJvdG90eXBlIHx8IHRhcmdldCA9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICB0YXJnZXRbcHJvcGVydHldID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgcmV0dXJuIHRhcmdldDtcbn07XG4kanNjb21wLmdldEdsb2JhbCA9IGZ1bmN0aW9uKHBhc3NlZEluVGhpcykge1xuICBmb3IgKHZhciBwb3NzaWJsZUdsb2JhbHMgPSBbXCJvYmplY3RcIiA9PSB0eXBlb2YgZ2xvYmFsVGhpcyAmJiBnbG9iYWxUaGlzLCBwYXNzZWRJblRoaXMsIFwib2JqZWN0XCIgPT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3csIFwib2JqZWN0XCIgPT0gdHlwZW9mIHNlbGYgJiYgc2VsZiwgXCJvYmplY3RcIiA9PSB0eXBlb2YgZ2xvYmFsICYmIGdsb2JhbCxdLCBpID0gMDsgaSA8IHBvc3NpYmxlR2xvYmFscy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBtYXliZUdsb2JhbCA9IHBvc3NpYmxlR2xvYmFsc1tpXTtcbiAgICBpZiAobWF5YmVHbG9iYWwgJiYgbWF5YmVHbG9iYWwuTWF0aCA9PSBNYXRoKSB7XG4gICAgICByZXR1cm4gbWF5YmVHbG9iYWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGdsb2JhbCBvYmplY3RcIik7XG4gIH0oKTtcbn07XG4kanNjb21wLmdsb2JhbCA9ICRqc2NvbXAuZ2V0R2xvYmFsKHRoaXMpO1xuJGpzY29tcC5JU19TWU1CT0xfTkFUSVZFID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT09IHR5cGVvZiBTeW1ib2woXCJ4XCIpO1xuJGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTID0gISRqc2NvbXAuSVNPTEFURV9QT0xZRklMTFMgfHwgJGpzY29tcC5JU19TWU1CT0xfTkFUSVZFO1xuJGpzY29tcC5wb2x5ZmlsbHMgPSB7fTtcbiRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sID0ge307XG4kanNjb21wLlBPTFlGSUxMX1BSRUZJWCA9IFwiJGpzY3AkXCI7XG52YXIgJGpzY29tcCRsb29rdXBQb2x5ZmlsbGVkVmFsdWUgPSBmdW5jdGlvbih0YXJnZXQsIHByb3BlcnR5KSB7XG4gIHZhciBvYmZ1c2NhdGVkTmFtZSA9ICRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW3Byb3BlcnR5XTtcbiAgaWYgKG51bGwgPT0gb2JmdXNjYXRlZE5hbWUpIHtcbiAgICByZXR1cm4gdGFyZ2V0W3Byb3BlcnR5XTtcbiAgfVxuICB2YXIgcG9seWZpbGwgPSB0YXJnZXRbb2JmdXNjYXRlZE5hbWVdO1xuICByZXR1cm4gdm9pZCAwICE9PSBwb2x5ZmlsbCA/IHBvbHlmaWxsIDogdGFyZ2V0W3Byb3BlcnR5XTtcbn07XG4kanNjb21wLnBvbHlmaWxsID0gZnVuY3Rpb24odGFyZ2V0LCBwb2x5ZmlsbCwgZnJvbUxhbmcsIHRvTGFuZykge1xuICBwb2x5ZmlsbCAmJiAoJGpzY29tcC5JU09MQVRFX1BPTFlGSUxMUyA/ICRqc2NvbXAucG9seWZpbGxJc29sYXRlZCh0YXJnZXQsIHBvbHlmaWxsLCBmcm9tTGFuZywgdG9MYW5nKSA6ICRqc2NvbXAucG9seWZpbGxVbmlzb2xhdGVkKHRhcmdldCwgcG9seWZpbGwsIGZyb21MYW5nLCB0b0xhbmcpKTtcbn07XG4kanNjb21wLnBvbHlmaWxsVW5pc29sYXRlZCA9IGZ1bmN0aW9uKHRhcmdldCwgcG9seWZpbGwsIGZyb21MYW5nLCB0b0xhbmcpIHtcbiAgZm9yICh2YXIgb2JqID0gJGpzY29tcC5nbG9iYWwsIHNwbGl0ID0gdGFyZ2V0LnNwbGl0KFwiLlwiKSwgaSA9IDA7IGkgPCBzcGxpdC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICB2YXIga2V5ID0gc3BsaXRbaV07XG4gICAgaWYgKCEoa2V5IGluIG9iaikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb2JqID0gb2JqW2tleV07XG4gIH1cbiAgdmFyIHByb3BlcnR5ID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0gMV0sIG9yaWcgPSBvYmpbcHJvcGVydHldLCBpbXBsID0gcG9seWZpbGwob3JpZyk7XG4gIGltcGwgIT0gb3JpZyAmJiBudWxsICE9IGltcGwgJiYgJGpzY29tcC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3BlcnR5LCB7Y29uZmlndXJhYmxlOiEwLCB3cml0YWJsZTohMCwgdmFsdWU6aW1wbH0pO1xufTtcbiRqc2NvbXAucG9seWZpbGxJc29sYXRlZCA9IGZ1bmN0aW9uKHRhcmdldCwgcG9seWZpbGwsIGZyb21MYW5nLCB0b0xhbmcpIHtcbiAgdmFyIHNwbGl0ID0gdGFyZ2V0LnNwbGl0KFwiLlwiKSwgaXNTaW1wbGVOYW1lID0gMSA9PT0gc3BsaXQubGVuZ3RoLCByb290ID0gc3BsaXRbMF07XG4gIHZhciBvd25lck9iamVjdCA9ICFpc1NpbXBsZU5hbWUgJiYgcm9vdCBpbiAkanNjb21wLnBvbHlmaWxscyA/ICRqc2NvbXAucG9seWZpbGxzIDogJGpzY29tcC5nbG9iYWw7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsaXQubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHNwbGl0W2ldO1xuICAgIGlmICghKGtleSBpbiBvd25lck9iamVjdCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb3duZXJPYmplY3QgPSBvd25lck9iamVjdFtrZXldO1xuICB9XG4gIHZhciBwcm9wZXJ0eSA9IHNwbGl0W3NwbGl0Lmxlbmd0aCAtIDFdLCBuYXRpdmVJbXBsID0gJGpzY29tcC5JU19TWU1CT0xfTkFUSVZFICYmIFwiZXM2XCIgPT09IGZyb21MYW5nID8gb3duZXJPYmplY3RbcHJvcGVydHldIDogbnVsbCwgaW1wbCA9IHBvbHlmaWxsKG5hdGl2ZUltcGwpO1xuICBpZiAobnVsbCAhPSBpbXBsKSB7XG4gICAgaWYgKGlzU2ltcGxlTmFtZSkge1xuICAgICAgJGpzY29tcC5kZWZpbmVQcm9wZXJ0eSgkanNjb21wLnBvbHlmaWxscywgcHJvcGVydHksIHtjb25maWd1cmFibGU6ITAsIHdyaXRhYmxlOiEwLCB2YWx1ZTppbXBsfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbXBsICE9PSBuYXRpdmVJbXBsKSB7XG4gICAgICAgIGlmICh2b2lkIDAgPT09ICRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW3Byb3BlcnR5XSkge1xuICAgICAgICAgIHZhciBCSU5fSUQgPSAxZTkgKiBNYXRoLnJhbmRvbSgpID4+PiAwO1xuICAgICAgICAgICRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW3Byb3BlcnR5XSA9ICRqc2NvbXAuSVNfU1lNQk9MX05BVElWRSA/ICRqc2NvbXAuZ2xvYmFsLlN5bWJvbChwcm9wZXJ0eSkgOiAkanNjb21wLlBPTFlGSUxMX1BSRUZJWCArIEJJTl9JRCArIFwiJFwiICsgcHJvcGVydHk7XG4gICAgICAgIH1cbiAgICAgICAgJGpzY29tcC5kZWZpbmVQcm9wZXJ0eShvd25lck9iamVjdCwgJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2xbcHJvcGVydHldLCB7Y29uZmlndXJhYmxlOiEwLCB3cml0YWJsZTohMCwgdmFsdWU6aW1wbH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiRqc2NvbXAuaW5pdFN5bWJvbCA9IGZ1bmN0aW9uKCkge1xufTtcbiRqc2NvbXAucG9seWZpbGwoXCJTeW1ib2xcIiwgZnVuY3Rpb24ob3JpZykge1xuICBpZiAob3JpZykge1xuICAgIHJldHVybiBvcmlnO1xuICB9XG4gIHZhciBTeW1ib2xDbGFzcyA9IGZ1bmN0aW9uKGlkLCBvcHRfZGVzY3JpcHRpb24pIHtcbiAgICB0aGlzLiRqc2NvbXAkc3ltYm9sJGlkXyA9IGlkO1xuICAgICRqc2NvbXAuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZXNjcmlwdGlvblwiLCB7Y29uZmlndXJhYmxlOiEwLCB3cml0YWJsZTohMCwgdmFsdWU6b3B0X2Rlc2NyaXB0aW9ufSk7XG4gIH07XG4gIFN5bWJvbENsYXNzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLiRqc2NvbXAkc3ltYm9sJGlkXztcbiAgfTtcbiAgdmFyIFNZTUJPTF9QUkVGSVggPSBcImpzY29tcF9zeW1ib2xfXCIgKyAoMWU5ICogTWF0aC5yYW5kb20oKSA+Pj4gMCkgKyBcIl9cIiwgY291bnRlciA9IDAsIHN5bWJvbFBvbHlmaWxsID0gZnVuY3Rpb24ob3B0X2Rlc2NyaXB0aW9uKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBzeW1ib2xQb2x5ZmlsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTeW1ib2xDbGFzcyhTWU1CT0xfUFJFRklYICsgKG9wdF9kZXNjcmlwdGlvbiB8fCBcIlwiKSArIFwiX1wiICsgY291bnRlcisrLCBvcHRfZGVzY3JpcHRpb24pO1xuICB9O1xuICByZXR1cm4gc3ltYm9sUG9seWZpbGw7XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJTeW1ib2wuaXRlcmF0b3JcIiwgZnVuY3Rpb24ob3JpZykge1xuICBpZiAob3JpZykge1xuICAgIHJldHVybiBvcmlnO1xuICB9XG4gIGZvciAodmFyIHN5bWJvbEl0ZXJhdG9yID0gU3ltYm9sKFwiU3ltYm9sLml0ZXJhdG9yXCIpLCBhcnJheUxpa2VzID0gXCJBcnJheSBJbnQ4QXJyYXkgVWludDhBcnJheSBVaW50OENsYW1wZWRBcnJheSBJbnQxNkFycmF5IFVpbnQxNkFycmF5IEludDMyQXJyYXkgVWludDMyQXJyYXkgRmxvYXQzMkFycmF5IEZsb2F0NjRBcnJheVwiLnNwbGl0KFwiIFwiKSwgaSA9IDA7IGkgPCBhcnJheUxpa2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIEFycmF5TGlrZUN0b3IgPSAkanNjb21wLmdsb2JhbFthcnJheUxpa2VzW2ldXTtcbiAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBBcnJheUxpa2VDdG9yICYmIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgQXJyYXlMaWtlQ3Rvci5wcm90b3R5cGVbc3ltYm9sSXRlcmF0b3JdICYmICRqc2NvbXAuZGVmaW5lUHJvcGVydHkoQXJyYXlMaWtlQ3Rvci5wcm90b3R5cGUsIHN5bWJvbEl0ZXJhdG9yLCB7Y29uZmlndXJhYmxlOiEwLCB3cml0YWJsZTohMCwgdmFsdWU6ZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJGpzY29tcC5pdGVyYXRvclByb3RvdHlwZSgkanNjb21wLmFycmF5SXRlcmF0b3JJbXBsKHRoaXMpKTtcbiAgICB9fSk7XG4gIH1cbiAgcmV0dXJuIHN5bWJvbEl0ZXJhdG9yO1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLml0ZXJhdG9yUHJvdG90eXBlID0gZnVuY3Rpb24obmV4dCkge1xuICB2YXIgaXRlcmF0b3IgPSB7bmV4dDpuZXh0fTtcbiAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICByZXR1cm4gaXRlcmF0b3I7XG59O1xuJGpzY29tcC5jcmVhdGVUZW1wbGF0ZVRhZ0ZpcnN0QXJnID0gZnVuY3Rpb24oYXJyYXlTdHJpbmdzKSB7XG4gIHJldHVybiBhcnJheVN0cmluZ3MucmF3ID0gYXJyYXlTdHJpbmdzO1xufTtcbiRqc2NvbXAuY3JlYXRlVGVtcGxhdGVUYWdGaXJzdEFyZ1dpdGhSYXcgPSBmdW5jdGlvbihhcnJheVN0cmluZ3MsIHJhd0FycmF5U3RyaW5ncykge1xuICBhcnJheVN0cmluZ3MucmF3ID0gcmF3QXJyYXlTdHJpbmdzO1xuICByZXR1cm4gYXJyYXlTdHJpbmdzO1xufTtcbiRqc2NvbXAubWFrZUl0ZXJhdG9yID0gZnVuY3Rpb24oaXRlcmFibGUpIHtcbiAgdmFyIGl0ZXJhdG9yRnVuY3Rpb24gPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLml0ZXJhdG9yICYmIGl0ZXJhYmxlW1N5bWJvbC5pdGVyYXRvcl07XG4gIHJldHVybiBpdGVyYXRvckZ1bmN0aW9uID8gaXRlcmF0b3JGdW5jdGlvbi5jYWxsKGl0ZXJhYmxlKSA6ICRqc2NvbXAuYXJyYXlJdGVyYXRvcihpdGVyYWJsZSk7XG59O1xuJGpzY29tcC5hcnJheUZyb21JdGVyYXRvciA9IGZ1bmN0aW9uKGl0ZXJhdG9yKSB7XG4gIGZvciAodmFyIGksIGFyciA9IFtdOyAhKGkgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7KSB7XG4gICAgYXJyLnB1c2goaS52YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGFycjtcbn07XG4kanNjb21wLmFycmF5RnJvbUl0ZXJhYmxlID0gZnVuY3Rpb24oaXRlcmFibGUpIHtcbiAgcmV0dXJuIGl0ZXJhYmxlIGluc3RhbmNlb2YgQXJyYXkgPyBpdGVyYWJsZSA6ICRqc2NvbXAuYXJyYXlGcm9tSXRlcmF0b3IoJGpzY29tcC5tYWtlSXRlcmF0b3IoaXRlcmFibGUpKTtcbn07XG4kanNjb21wLm9iamVjdENyZWF0ZSA9ICRqc2NvbXAuQVNTVU1FX0VTNSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIE9iamVjdC5jcmVhdGUgPyBPYmplY3QuY3JlYXRlIDogZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gIHZhciBjdG9yID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIGN0b3IucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICByZXR1cm4gbmV3IGN0b3IoKTtcbn07XG4kanNjb21wLmdldENvbnN0cnVjdEltcGxlbWVudGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHJlZmxlY3RDb25zdHJ1Y3RXb3JrcygpIHtcbiAgICBmdW5jdGlvbiBCYXNlKCkge1xuICAgIH1cbiAgICBuZXcgQmFzZSgpO1xuICAgIFJlZmxlY3QuY29uc3RydWN0KEJhc2UsIFtdLCBmdW5jdGlvbiBEZXJpdmVkKCkge1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgQmFzZSgpIGluc3RhbmNlb2YgQmFzZTtcbiAgfVxuICBpZiAoJGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTICYmIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFJlZmxlY3QgJiYgUmVmbGVjdC5jb25zdHJ1Y3QpIHtcbiAgICBpZiAocmVmbGVjdENvbnN0cnVjdFdvcmtzKCkpIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgICB9XG4gICAgdmFyIGJyb2tlbkNvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICAgIHJldHVybiBmdW5jdGlvbih0YXJnZXQsIGFyZ0xpc3QsIG9wdF9uZXdUYXJnZXQpIHtcbiAgICAgIHZhciBvdXQgPSBicm9rZW5Db25zdHJ1Y3QodGFyZ2V0LCBhcmdMaXN0KTtcbiAgICAgIG9wdF9uZXdUYXJnZXQgJiYgUmVmbGVjdC5zZXRQcm90b3R5cGVPZihvdXQsIG9wdF9uZXdUYXJnZXQucHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gY29uc3RydWN0KHRhcmdldCwgYXJnTGlzdCwgb3B0X25ld1RhcmdldCkge1xuICAgIHZvaWQgMCA9PT0gb3B0X25ld1RhcmdldCAmJiAob3B0X25ld1RhcmdldCA9IHRhcmdldCk7XG4gICAgdmFyIG9iaiA9ICRqc2NvbXAub2JqZWN0Q3JlYXRlKG9wdF9uZXdUYXJnZXQucHJvdG90eXBlIHx8IE9iamVjdC5wcm90b3R5cGUpO1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIG9iaiwgYXJnTGlzdCkgfHwgb2JqO1xuICB9O1xufTtcbiRqc2NvbXAuY29uc3RydWN0ID0ge3ZhbHVlT2Y6JGpzY29tcC5nZXRDb25zdHJ1Y3RJbXBsZW1lbnRhdGlvbn0udmFsdWVPZigpO1xuJGpzY29tcC51bmRlcnNjb3JlUHJvdG9DYW5CZVNldCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgeCA9IHthOiEwfSwgeSA9IHt9O1xuICB0cnkge1xuICAgIHJldHVybiB5Ll9fcHJvdG9fXyA9IHgsIHkuYTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiAhMTtcbn07XG4kanNjb21wLnNldFByb3RvdHlwZU9mID0gJGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mIDogJGpzY29tcC51bmRlcnNjb3JlUHJvdG9DYW5CZVNldCgpID8gZnVuY3Rpb24odGFyZ2V0LCBwcm90bykge1xuICB0YXJnZXQuX19wcm90b19fID0gcHJvdG87XG4gIGlmICh0YXJnZXQuX19wcm90b19fICE9PSBwcm90bykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IodGFyZ2V0ICsgXCIgaXMgbm90IGV4dGVuc2libGVcIik7XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn0gOiBudWxsO1xuJGpzY29tcC5pbmhlcml0cyA9IGZ1bmN0aW9uKGNoaWxkQ3RvciwgcGFyZW50Q3Rvcikge1xuICBjaGlsZEN0b3IucHJvdG90eXBlID0gJGpzY29tcC5vYmplY3RDcmVhdGUocGFyZW50Q3Rvci5wcm90b3R5cGUpO1xuICBjaGlsZEN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY2hpbGRDdG9yO1xuICBpZiAoJGpzY29tcC5zZXRQcm90b3R5cGVPZikge1xuICAgIHZhciBzZXRQcm90b3R5cGVPZiA9ICRqc2NvbXAuc2V0UHJvdG90eXBlT2Y7XG4gICAgc2V0UHJvdG90eXBlT2YoY2hpbGRDdG9yLCBwYXJlbnRDdG9yKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBwIGluIHBhcmVudEN0b3IpIHtcbiAgICAgIGlmIChcInByb3RvdHlwZVwiICE9IHApIHtcbiAgICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHBhcmVudEN0b3IsIHApO1xuICAgICAgICAgIGRlc2NyaXB0b3IgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNoaWxkQ3RvciwgcCwgZGVzY3JpcHRvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hpbGRDdG9yW3BdID0gcGFyZW50Q3RvcltwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBjaGlsZEN0b3Iuc3VwZXJDbGFzc18gPSBwYXJlbnRDdG9yLnByb3RvdHlwZTtcbn07XG4kanNjb21wLmdlbmVyYXRvciA9IHt9O1xuJGpzY29tcC5nZW5lcmF0b3IuZW5zdXJlSXRlcmF0b3JSZXN1bHRJc09iamVjdF8gPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgaWYgKCEocmVzdWx0IGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJdGVyYXRvciByZXN1bHQgXCIgKyByZXN1bHQgKyBcIiBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICB9XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlzUnVubmluZ18gPSAhMTtcbiAgdGhpcy55aWVsZEFsbEl0ZXJhdG9yXyA9IG51bGw7XG4gIHRoaXMueWllbGRSZXN1bHQgPSB2b2lkIDA7XG4gIHRoaXMubmV4dEFkZHJlc3MgPSAxO1xuICB0aGlzLmZpbmFsbHlBZGRyZXNzXyA9IHRoaXMuY2F0Y2hBZGRyZXNzXyA9IDA7XG4gIHRoaXMuZmluYWxseUNvbnRleHRzXyA9IHRoaXMuYWJydXB0Q29tcGxldGlvbl8gPSBudWxsO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnN0YXJ0XyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5pc1J1bm5pbmdfKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gIH1cbiAgdGhpcy5pc1J1bm5pbmdfID0gITA7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuc3RvcF8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pc1J1bm5pbmdfID0gITE7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuanVtcFRvRXJyb3JIYW5kbGVyXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm5leHRBZGRyZXNzID0gdGhpcy5jYXRjaEFkZHJlc3NfIHx8IHRoaXMuZmluYWxseUFkZHJlc3NfO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLm5leHRfID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy55aWVsZFJlc3VsdCA9IHZhbHVlO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnRocm93XyA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhpcy5hYnJ1cHRDb21wbGV0aW9uXyA9IHtleGNlcHRpb246ZSwgaXNFeGNlcHRpb246ITB9O1xuICB0aGlzLmp1bXBUb0Vycm9ySGFuZGxlcl8oKTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLmFicnVwdENvbXBsZXRpb25fID0ge3JldHVybjp2YWx1ZX07XG4gIHRoaXMubmV4dEFkZHJlc3MgPSB0aGlzLmZpbmFsbHlBZGRyZXNzXztcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5qdW1wVGhyb3VnaEZpbmFsbHlCbG9ja3MgPSBmdW5jdGlvbihuZXh0QWRkcmVzcykge1xuICB0aGlzLmFicnVwdENvbXBsZXRpb25fID0ge2p1bXBUbzpuZXh0QWRkcmVzc307XG4gIHRoaXMubmV4dEFkZHJlc3MgPSB0aGlzLmZpbmFsbHlBZGRyZXNzXztcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS55aWVsZCA9IGZ1bmN0aW9uKHZhbHVlLCByZXN1bWVBZGRyZXNzKSB7XG4gIHRoaXMubmV4dEFkZHJlc3MgPSByZXN1bWVBZGRyZXNzO1xuICByZXR1cm4ge3ZhbHVlOnZhbHVlfTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS55aWVsZEFsbCA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bWVBZGRyZXNzKSB7XG4gIHZhciBpdGVyYXRvciA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKGl0ZXJhYmxlKSwgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAkanNjb21wLmdlbmVyYXRvci5lbnN1cmVJdGVyYXRvclJlc3VsdElzT2JqZWN0XyhyZXN1bHQpO1xuICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICB0aGlzLnlpZWxkUmVzdWx0ID0gcmVzdWx0LnZhbHVlLCB0aGlzLm5leHRBZGRyZXNzID0gcmVzdW1lQWRkcmVzcztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy55aWVsZEFsbEl0ZXJhdG9yXyA9IGl0ZXJhdG9yLCB0aGlzLnlpZWxkKHJlc3VsdC52YWx1ZSwgcmVzdW1lQWRkcmVzcyk7XG4gIH1cbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5qdW1wVG8gPSBmdW5jdGlvbihuZXh0QWRkcmVzcykge1xuICB0aGlzLm5leHRBZGRyZXNzID0gbmV4dEFkZHJlc3M7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuanVtcFRvRW5kID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubmV4dEFkZHJlc3MgPSAwO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnNldENhdGNoRmluYWxseUJsb2NrcyA9IGZ1bmN0aW9uKGNhdGNoQWRkcmVzcywgZmluYWxseUFkZHJlc3MpIHtcbiAgdGhpcy5jYXRjaEFkZHJlc3NfID0gY2F0Y2hBZGRyZXNzO1xuICB2b2lkIDAgIT0gZmluYWxseUFkZHJlc3MgJiYgKHRoaXMuZmluYWxseUFkZHJlc3NfID0gZmluYWxseUFkZHJlc3MpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnNldEZpbmFsbHlCbG9jayA9IGZ1bmN0aW9uKGZpbmFsbHlBZGRyZXNzKSB7XG4gIHRoaXMuY2F0Y2hBZGRyZXNzXyA9IDA7XG4gIHRoaXMuZmluYWxseUFkZHJlc3NfID0gZmluYWxseUFkZHJlc3MgfHwgMDtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5sZWF2ZVRyeUJsb2NrID0gZnVuY3Rpb24obmV4dEFkZHJlc3MsIGNhdGNoQWRkcmVzcykge1xuICB0aGlzLm5leHRBZGRyZXNzID0gbmV4dEFkZHJlc3M7XG4gIHRoaXMuY2F0Y2hBZGRyZXNzXyA9IGNhdGNoQWRkcmVzcyB8fCAwO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmVudGVyQ2F0Y2hCbG9jayA9IGZ1bmN0aW9uKG5leHRDYXRjaEJsb2NrQWRkcmVzcykge1xuICB0aGlzLmNhdGNoQWRkcmVzc18gPSBuZXh0Q2F0Y2hCbG9ja0FkZHJlc3MgfHwgMDtcbiAgdmFyIGV4Y2VwdGlvbiA9IHRoaXMuYWJydXB0Q29tcGxldGlvbl8uZXhjZXB0aW9uO1xuICB0aGlzLmFicnVwdENvbXBsZXRpb25fID0gbnVsbDtcbiAgcmV0dXJuIGV4Y2VwdGlvbjtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5lbnRlckZpbmFsbHlCbG9jayA9IGZ1bmN0aW9uKG5leHRDYXRjaEFkZHJlc3MsIG5leHRGaW5hbGx5QWRkcmVzcywgZmluYWxseURlcHRoKSB7XG4gIGZpbmFsbHlEZXB0aCA/IHRoaXMuZmluYWxseUNvbnRleHRzX1tmaW5hbGx5RGVwdGhdID0gdGhpcy5hYnJ1cHRDb21wbGV0aW9uXyA6IHRoaXMuZmluYWxseUNvbnRleHRzXyA9IFt0aGlzLmFicnVwdENvbXBsZXRpb25fXTtcbiAgdGhpcy5jYXRjaEFkZHJlc3NfID0gbmV4dENhdGNoQWRkcmVzcyB8fCAwO1xuICB0aGlzLmZpbmFsbHlBZGRyZXNzXyA9IG5leHRGaW5hbGx5QWRkcmVzcyB8fCAwO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmxlYXZlRmluYWxseUJsb2NrID0gZnVuY3Rpb24obmV4dEFkZHJlc3MsIGZpbmFsbHlEZXB0aCkge1xuICB2YXIgcHJlc2VydmVkQ29udGV4dCA9IHRoaXMuZmluYWxseUNvbnRleHRzXy5zcGxpY2UoZmluYWxseURlcHRoIHx8IDApWzBdLCBhYnJ1cHRDb21wbGV0aW9uID0gdGhpcy5hYnJ1cHRDb21wbGV0aW9uXyA9IHRoaXMuYWJydXB0Q29tcGxldGlvbl8gfHwgcHJlc2VydmVkQ29udGV4dDtcbiAgaWYgKGFicnVwdENvbXBsZXRpb24pIHtcbiAgICBpZiAoYWJydXB0Q29tcGxldGlvbi5pc0V4Y2VwdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuanVtcFRvRXJyb3JIYW5kbGVyXygpO1xuICAgIH1cbiAgICB2b2lkIDAgIT0gYWJydXB0Q29tcGxldGlvbi5qdW1wVG8gJiYgdGhpcy5maW5hbGx5QWRkcmVzc18gPCBhYnJ1cHRDb21wbGV0aW9uLmp1bXBUbyA/ICh0aGlzLm5leHRBZGRyZXNzID0gYWJydXB0Q29tcGxldGlvbi5qdW1wVG8sIHRoaXMuYWJydXB0Q29tcGxldGlvbl8gPSBudWxsKSA6IHRoaXMubmV4dEFkZHJlc3MgPSB0aGlzLmZpbmFsbHlBZGRyZXNzXztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm5leHRBZGRyZXNzID0gbmV4dEFkZHJlc3M7XG4gIH1cbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5mb3JJbiA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICByZXR1cm4gbmV3ICRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQuUHJvcGVydHlJdGVyYXRvcihvYmplY3QpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQuUHJvcGVydHlJdGVyYXRvciA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICB0aGlzLm9iamVjdF8gPSBvYmplY3Q7XG4gIHRoaXMucHJvcGVydGllc18gPSBbXTtcbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgdGhpcy5wcm9wZXJ0aWVzXy5wdXNoKHByb3BlcnR5KTtcbiAgfVxuICB0aGlzLnByb3BlcnRpZXNfLnJldmVyc2UoKTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LlByb3BlcnR5SXRlcmF0b3IucHJvdG90eXBlLmdldE5leHQgPSBmdW5jdGlvbigpIHtcbiAgZm9yICg7IDAgPCB0aGlzLnByb3BlcnRpZXNfLmxlbmd0aDspIHtcbiAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnByb3BlcnRpZXNfLnBvcCgpO1xuICAgIGlmIChwcm9wZXJ0eSBpbiB0aGlzLm9iamVjdF8pIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXyA9IGZ1bmN0aW9uKHByb2dyYW0pIHtcbiAgdGhpcy5jb250ZXh0XyA9IG5ldyAkanNjb21wLmdlbmVyYXRvci5Db250ZXh0KCk7XG4gIHRoaXMucHJvZ3JhbV8gPSBwcm9ncmFtO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLm5leHRfID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5jb250ZXh0Xy5zdGFydF8oKTtcbiAgaWYgKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8pIHtcbiAgICByZXR1cm4gdGhpcy55aWVsZEFsbFN0ZXBfKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8ubmV4dCwgdmFsdWUsIHRoaXMuY29udGV4dF8ubmV4dF8pO1xuICB9XG4gIHRoaXMuY29udGV4dF8ubmV4dF8odmFsdWUpO1xuICByZXR1cm4gdGhpcy5uZXh0U3RlcF8oKTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5FbmdpbmVfLnByb3RvdHlwZS5yZXR1cm5fID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5jb250ZXh0Xy5zdGFydF8oKTtcbiAgdmFyIHlpZWxkQWxsSXRlcmF0b3IgPSB0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfO1xuICBpZiAoeWllbGRBbGxJdGVyYXRvcikge1xuICAgIHJldHVybiB0aGlzLnlpZWxkQWxsU3RlcF8oXCJyZXR1cm5cIiBpbiB5aWVsZEFsbEl0ZXJhdG9yID8geWllbGRBbGxJdGVyYXRvcltcInJldHVyblwiXSA6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiB7dmFsdWU6diwgZG9uZTohMH07XG4gICAgfSwgdmFsdWUsIHRoaXMuY29udGV4dF8ucmV0dXJuKTtcbiAgfVxuICB0aGlzLmNvbnRleHRfLnJldHVybih2YWx1ZSk7XG4gIHJldHVybiB0aGlzLm5leHRTdGVwXygpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLnRocm93XyA9IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICB0aGlzLmNvbnRleHRfLnN0YXJ0XygpO1xuICBpZiAodGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXykge1xuICAgIHJldHVybiB0aGlzLnlpZWxkQWxsU3RlcF8odGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yX1tcInRocm93XCJdLCBleGNlcHRpb24sIHRoaXMuY29udGV4dF8ubmV4dF8pO1xuICB9XG4gIHRoaXMuY29udGV4dF8udGhyb3dfKGV4Y2VwdGlvbik7XG4gIHJldHVybiB0aGlzLm5leHRTdGVwXygpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLnlpZWxkQWxsU3RlcF8gPSBmdW5jdGlvbihhY3Rpb24sIHZhbHVlLCBuZXh0QWN0aW9uKSB7XG4gIHRyeSB7XG4gICAgdmFyIHJlc3VsdCA9IGFjdGlvbi5jYWxsKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8sIHZhbHVlKTtcbiAgICAkanNjb21wLmdlbmVyYXRvci5lbnN1cmVJdGVyYXRvclJlc3VsdElzT2JqZWN0XyhyZXN1bHQpO1xuICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHRfLnN0b3BfKCksIHJlc3VsdDtcbiAgICB9XG4gICAgdmFyIHJlc3VsdFZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8gPSBudWxsLCB0aGlzLmNvbnRleHRfLnRocm93XyhlKSwgdGhpcy5uZXh0U3RlcF8oKTtcbiAgfVxuICB0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfID0gbnVsbDtcbiAgbmV4dEFjdGlvbi5jYWxsKHRoaXMuY29udGV4dF8sIHJlc3VsdFZhbHVlKTtcbiAgcmV0dXJuIHRoaXMubmV4dFN0ZXBfKCk7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXy5wcm90b3R5cGUubmV4dFN0ZXBfID0gZnVuY3Rpb24oKSB7XG4gIGZvciAoOyB0aGlzLmNvbnRleHRfLm5leHRBZGRyZXNzOykge1xuICAgIHRyeSB7XG4gICAgICB2YXIgeWllbGRWYWx1ZSA9IHRoaXMucHJvZ3JhbV8odGhpcy5jb250ZXh0Xyk7XG4gICAgICBpZiAoeWllbGRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0Xy5zdG9wXygpLCB7dmFsdWU6eWllbGRWYWx1ZS52YWx1ZSwgZG9uZTohMX07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5jb250ZXh0Xy55aWVsZFJlc3VsdCA9IHZvaWQgMCwgdGhpcy5jb250ZXh0Xy50aHJvd18oZSk7XG4gICAgfVxuICB9XG4gIHRoaXMuY29udGV4dF8uc3RvcF8oKTtcbiAgaWYgKHRoaXMuY29udGV4dF8uYWJydXB0Q29tcGxldGlvbl8pIHtcbiAgICB2YXIgYWJydXB0Q29tcGxldGlvbiA9IHRoaXMuY29udGV4dF8uYWJydXB0Q29tcGxldGlvbl87XG4gICAgdGhpcy5jb250ZXh0Xy5hYnJ1cHRDb21wbGV0aW9uXyA9IG51bGw7XG4gICAgaWYgKGFicnVwdENvbXBsZXRpb24uaXNFeGNlcHRpb24pIHtcbiAgICAgIHRocm93IGFicnVwdENvbXBsZXRpb24uZXhjZXB0aW9uO1xuICAgIH1cbiAgICByZXR1cm4ge3ZhbHVlOmFicnVwdENvbXBsZXRpb24ucmV0dXJuLCBkb25lOiEwfTtcbiAgfVxuICByZXR1cm4ge3ZhbHVlOnZvaWQgMCwgZG9uZTohMH07XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuR2VuZXJhdG9yXyA9IGZ1bmN0aW9uKGVuZ2luZSkge1xuICB0aGlzLm5leHQgPSBmdW5jdGlvbihvcHRfdmFsdWUpIHtcbiAgICByZXR1cm4gZW5naW5lLm5leHRfKG9wdF92YWx1ZSk7XG4gIH07XG4gIHRoaXMudGhyb3cgPSBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICByZXR1cm4gZW5naW5lLnRocm93XyhleGNlcHRpb24pO1xuICB9O1xuICB0aGlzLnJldHVybiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuZ2luZS5yZXR1cm5fKHZhbHVlKTtcbiAgfTtcbiAgdGhpc1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuY3JlYXRlR2VuZXJhdG9yID0gZnVuY3Rpb24oZ2VuZXJhdG9yLCBwcm9ncmFtKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgJGpzY29tcC5nZW5lcmF0b3IuR2VuZXJhdG9yXyhuZXcgJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXyhwcm9ncmFtKSk7XG4gICRqc2NvbXAuc2V0UHJvdG90eXBlT2YgJiYgZ2VuZXJhdG9yLnByb3RvdHlwZSAmJiAkanNjb21wLnNldFByb3RvdHlwZU9mKHJlc3VsdCwgZ2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yID0gZnVuY3Rpb24oZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIHBhc3NWYWx1ZVRvR2VuZXJhdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRvci5uZXh0KHZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBwYXNzRXJyb3JUb0dlbmVyYXRvcihlcnJvcikge1xuICAgIHJldHVybiBnZW5lcmF0b3IudGhyb3coZXJyb3IpO1xuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVHZW5lcmF0b3JSZWNvcmQoZ2VuUmVjKSB7XG4gICAgICBnZW5SZWMuZG9uZSA/IHJlc29sdmUoZ2VuUmVjLnZhbHVlKSA6IFByb21pc2UucmVzb2x2ZShnZW5SZWMudmFsdWUpLnRoZW4ocGFzc1ZhbHVlVG9HZW5lcmF0b3IsIHBhc3NFcnJvclRvR2VuZXJhdG9yKS50aGVuKGhhbmRsZUdlbmVyYXRvclJlY29yZCwgcmVqZWN0KTtcbiAgICB9XG4gICAgaGFuZGxlR2VuZXJhdG9yUmVjb3JkKGdlbmVyYXRvci5uZXh0KCkpO1xuICB9KTtcbn07XG4kanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbmVyYXRvckZ1bmN0aW9uKSB7XG4gIHJldHVybiAkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3IoZ2VuZXJhdG9yRnVuY3Rpb24oKSk7XG59O1xuJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbSA9IGZ1bmN0aW9uKHByb2dyYW0pIHtcbiAgcmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvcihuZXcgJGpzY29tcC5nZW5lcmF0b3IuR2VuZXJhdG9yXyhuZXcgJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXyhwcm9ncmFtKSkpO1xufTtcbiRqc2NvbXAuZ2V0UmVzdEFyZ3VtZW50cyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBzdGFydEluZGV4ID0gTnVtYmVyKHRoaXMpLCByZXN0QXJncyA9IFtdLCBpID0gc3RhcnRJbmRleDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHJlc3RBcmdzW2kgLSBzdGFydEluZGV4XSA9IGFyZ3VtZW50c1tpXTtcbiAgfVxuICByZXR1cm4gcmVzdEFyZ3M7XG59O1xuJGpzY29tcC5wb2x5ZmlsbChcIlJlZmxlY3RcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiB7fTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIlJlZmxlY3QuY29uc3RydWN0XCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuICRqc2NvbXAuY29uc3RydWN0O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiUmVmbGVjdC5zZXRQcm90b3R5cGVPZlwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIGlmIChvcmlnKSB7XG4gICAgcmV0dXJuIG9yaWc7XG4gIH1cbiAgaWYgKCRqc2NvbXAuc2V0UHJvdG90eXBlT2YpIHtcbiAgICB2YXIgc2V0UHJvdG90eXBlT2YgPSAkanNjb21wLnNldFByb3RvdHlwZU9mO1xuICAgIHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHByb3RvKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBwcm90byksICEwO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn0sIFwiZXM2XCIsIFwiZXM1XCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIlByb21pc2VcIiwgZnVuY3Rpb24oTmF0aXZlUHJvbWlzZSkge1xuICBmdW5jdGlvbiBwbGF0Zm9ybVN1cHBvcnRzUHJvbWlzZVJlamVjdGlvbkV2ZW50cygpIHtcbiAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mICRqc2NvbXAuZ2xvYmFsLlByb21pc2VSZWplY3Rpb25FdmVudDtcbiAgfVxuICBmdW5jdGlvbiBnbG9iYWxQcm9taXNlSXNOYXRpdmUoKSB7XG4gICAgcmV0dXJuICRqc2NvbXAuZ2xvYmFsLlByb21pc2UgJiYgLTEgIT09ICRqc2NvbXAuZ2xvYmFsLlByb21pc2UudG9TdHJpbmcoKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKTtcbiAgfVxuICBmdW5jdGlvbiBzaG91bGRGb3JjZVBvbHlmaWxsUHJvbWlzZSgpIHtcbiAgICByZXR1cm4gKCRqc2NvbXAuRk9SQ0VfUE9MWUZJTExfUFJPTUlTRSB8fCAkanNjb21wLkZPUkNFX1BPTFlGSUxMX1BST01JU0VfV0hFTl9OT19VTkhBTkRMRURfUkVKRUNUSU9OICYmICFwbGF0Zm9ybVN1cHBvcnRzUHJvbWlzZVJlamVjdGlvbkV2ZW50cygpKSAmJiBnbG9iYWxQcm9taXNlSXNOYXRpdmUoKTtcbiAgfVxuICBmdW5jdGlvbiBBc3luY0V4ZWN1dG9yKCkge1xuICAgIHRoaXMuYmF0Y2hfID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHN3aXRjaCh0eXBlb2YgdmFsdWUpIHtcbiAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgcmV0dXJuIG51bGwgIT0gdmFsdWU7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZXNvbHZpbmdQcm9taXNlKG9wdF92YWx1ZSkge1xuICAgIHJldHVybiBvcHRfdmFsdWUgaW5zdGFuY2VvZiBQb2x5ZmlsbFByb21pc2UgPyBvcHRfdmFsdWUgOiBuZXcgUG9seWZpbGxQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVzb2x2ZShvcHRfdmFsdWUpO1xuICAgIH0pO1xuICB9XG4gIGlmIChOYXRpdmVQcm9taXNlICYmICFzaG91bGRGb3JjZVBvbHlmaWxsUHJvbWlzZSgpKSB7XG4gICAgcmV0dXJuIE5hdGl2ZVByb21pc2U7XG4gIH1cbiAgQXN5bmNFeGVjdXRvci5wcm90b3R5cGUuYXN5bmNFeGVjdXRlID0gZnVuY3Rpb24oZikge1xuICAgIGlmIChudWxsID09IHRoaXMuYmF0Y2hfKSB7XG4gICAgICB0aGlzLmJhdGNoXyA9IFtdO1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdGhpcy5hc3luY0V4ZWN1dGVGdW5jdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5leGVjdXRlQmF0Y2hfKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5iYXRjaF8ucHVzaChmKTtcbiAgfTtcbiAgdmFyIG5hdGl2ZVNldFRpbWVvdXQgPSAkanNjb21wLmdsb2JhbC5zZXRUaW1lb3V0O1xuICBBc3luY0V4ZWN1dG9yLnByb3RvdHlwZS5hc3luY0V4ZWN1dGVGdW5jdGlvbiA9IGZ1bmN0aW9uKGYpIHtcbiAgICBuYXRpdmVTZXRUaW1lb3V0KGYsIDApO1xuICB9O1xuICBBc3luY0V4ZWN1dG9yLnByb3RvdHlwZS5leGVjdXRlQmF0Y2hfID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICg7IHRoaXMuYmF0Y2hfICYmIHRoaXMuYmF0Y2hfLmxlbmd0aDspIHtcbiAgICAgIHZhciBleGVjdXRpbmdCYXRjaCA9IHRoaXMuYmF0Y2hfO1xuICAgICAgdGhpcy5iYXRjaF8gPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhlY3V0aW5nQmF0Y2gubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGYgPSBleGVjdXRpbmdCYXRjaFtpXTtcbiAgICAgICAgZXhlY3V0aW5nQmF0Y2hbaV0gPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGYoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aGlzLmFzeW5jVGhyb3dfKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmJhdGNoXyA9IG51bGw7XG4gIH07XG4gIEFzeW5jRXhlY3V0b3IucHJvdG90eXBlLmFzeW5jVGhyb3dfID0gZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgdGhpcy5hc3luY0V4ZWN1dGVGdW5jdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICB9KTtcbiAgfTtcbiAgdmFyIFByb21pc2VTdGF0ZSA9IHtQRU5ESU5HOjAsIEZVTEZJTExFRDoxLCBSRUpFQ1RFRDoyfSwgUG9seWZpbGxQcm9taXNlID0gZnVuY3Rpb24oZXhlY3V0b3IpIHtcbiAgICB0aGlzLnN0YXRlXyA9IFByb21pc2VTdGF0ZS5QRU5ESU5HO1xuICAgIHRoaXMucmVzdWx0XyA9IHZvaWQgMDtcbiAgICB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18gPSBbXTtcbiAgICB0aGlzLmlzUmVqZWN0aW9uSGFuZGxlZF8gPSAhMTtcbiAgICB2YXIgcmVzb2x2ZUFuZFJlamVjdCA9IHRoaXMuY3JlYXRlUmVzb2x2ZUFuZFJlamVjdF8oKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IocmVzb2x2ZUFuZFJlamVjdC5yZXNvbHZlLCByZXNvbHZlQW5kUmVqZWN0LnJlamVjdCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVzb2x2ZUFuZFJlamVjdC5yZWplY3QoZSk7XG4gICAgfVxuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLmNyZWF0ZVJlc29sdmVBbmRSZWplY3RfID0gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gZmlyc3RDYWxsV2lucyhtZXRob2QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih4KSB7XG4gICAgICAgIGFscmVhZHlDYWxsZWQgfHwgKGFscmVhZHlDYWxsZWQgPSAhMCwgbWV0aG9kLmNhbGwodGhpc1Byb21pc2UsIHgpKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciB0aGlzUHJvbWlzZSA9IHRoaXMsIGFscmVhZHlDYWxsZWQgPSAhMTtcbiAgICByZXR1cm4ge3Jlc29sdmU6Zmlyc3RDYWxsV2lucyh0aGlzLnJlc29sdmVUb18pLCByZWplY3Q6Zmlyc3RDYWxsV2lucyh0aGlzLnJlamVjdF8pfTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5yZXNvbHZlVG9fID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YWx1ZSA9PT0gdGhpcyA/IHRoaXMucmVqZWN0XyhuZXcgVHlwZUVycm9yKFwiQSBQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSkgOiB2YWx1ZSBpbnN0YW5jZW9mIFBvbHlmaWxsUHJvbWlzZSA/IHRoaXMuc2V0dGxlU2FtZUFzUHJvbWlzZV8odmFsdWUpIDogaXNPYmplY3QodmFsdWUpID8gdGhpcy5yZXNvbHZlVG9Ob25Qcm9taXNlT2JqXyh2YWx1ZSkgOiB0aGlzLmZ1bGZpbGxfKHZhbHVlKTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5yZXNvbHZlVG9Ob25Qcm9taXNlT2JqXyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0aGVuTWV0aG9kID0gdm9pZCAwO1xuICAgIHRyeSB7XG4gICAgICB0aGVuTWV0aG9kID0gb2JqLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMucmVqZWN0XyhlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdGhlbk1ldGhvZCA/IHRoaXMuc2V0dGxlU2FtZUFzVGhlbmFibGVfKHRoZW5NZXRob2QsIG9iaikgOiB0aGlzLmZ1bGZpbGxfKG9iaik7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUucmVqZWN0XyA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIHRoaXMuc2V0dGxlXyhQcm9taXNlU3RhdGUuUkVKRUNURUQsIHJlYXNvbik7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuZnVsZmlsbF8gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuc2V0dGxlXyhQcm9taXNlU3RhdGUuRlVMRklMTEVELCB2YWx1ZSk7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuc2V0dGxlXyA9IGZ1bmN0aW9uKHNldHRsZWRTdGF0ZSwgdmFsdWVPclJlYXNvbikge1xuICAgIGlmICh0aGlzLnN0YXRlXyAhPSBQcm9taXNlU3RhdGUuUEVORElORykge1xuICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc2V0dGxlKFwiICsgc2V0dGxlZFN0YXRlICsgXCIsIFwiICsgdmFsdWVPclJlYXNvbiArIFwiKTogUHJvbWlzZSBhbHJlYWR5IHNldHRsZWQgaW4gc3RhdGVcIiArIHRoaXMuc3RhdGVfKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZV8gPSBzZXR0bGVkU3RhdGU7XG4gICAgdGhpcy5yZXN1bHRfID0gdmFsdWVPclJlYXNvbjtcbiAgICB0aGlzLnN0YXRlXyA9PT0gUHJvbWlzZVN0YXRlLlJFSkVDVEVEICYmIHRoaXMuc2NoZWR1bGVVbmhhbmRsZWRSZWplY3Rpb25DaGVja18oKTtcbiAgICB0aGlzLmV4ZWN1dGVPblNldHRsZWRDYWxsYmFja3NfKCk7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuc2NoZWR1bGVVbmhhbmRsZWRSZWplY3Rpb25DaGVja18gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgbmF0aXZlU2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLm5vdGlmeVVuaGFuZGxlZFJlamVjdGlvbl8oKSkge1xuICAgICAgICB2YXIgbmF0aXZlQ29uc29sZSA9ICRqc2NvbXAuZ2xvYmFsLmNvbnNvbGU7XG4gICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBuYXRpdmVDb25zb2xlICYmIG5hdGl2ZUNvbnNvbGUuZXJyb3Ioc2VsZi5yZXN1bHRfKTtcbiAgICAgIH1cbiAgICB9LCAxKTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25fID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaXNSZWplY3Rpb25IYW5kbGVkXykge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICB2YXIgTmF0aXZlQ3VzdG9tRXZlbnQgPSAkanNjb21wLmdsb2JhbC5DdXN0b21FdmVudCwgTmF0aXZlRXZlbnQgPSAkanNjb21wLmdsb2JhbC5FdmVudCwgbmF0aXZlRGlzcGF0Y2hFdmVudCA9ICRqc2NvbXAuZ2xvYmFsLmRpc3BhdGNoRXZlbnQ7XG4gICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBuYXRpdmVEaXNwYXRjaEV2ZW50KSB7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBOYXRpdmVDdXN0b21FdmVudCkge1xuICAgICAgdmFyIGV2ZW50ID0gbmV3IE5hdGl2ZUN1c3RvbUV2ZW50KFwidW5oYW5kbGVkcmVqZWN0aW9uXCIsIHtjYW5jZWxhYmxlOiEwfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE5hdGl2ZUV2ZW50ID8gZXZlbnQgPSBuZXcgTmF0aXZlRXZlbnQoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIiwge2NhbmNlbGFibGU6ITB9KSA6IChldmVudCA9ICRqc2NvbXAuZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIiksIGV2ZW50LmluaXRDdXN0b21FdmVudChcInVuaGFuZGxlZHJlamVjdGlvblwiLCAhMSwgITAsIGV2ZW50KSk7XG4gICAgfVxuICAgIGV2ZW50LnByb21pc2UgPSB0aGlzO1xuICAgIGV2ZW50LnJlYXNvbiA9IHRoaXMucmVzdWx0XztcbiAgICByZXR1cm4gbmF0aXZlRGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuZXhlY3V0ZU9uU2V0dGxlZENhbGxiYWNrc18gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAobnVsbCAhPSB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18pIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vblNldHRsZWRDYWxsYmFja3NfLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGFzeW5jRXhlY3V0b3IuYXN5bmNFeGVjdXRlKHRoaXMub25TZXR0bGVkQ2FsbGJhY2tzX1tpXSk7XG4gICAgICB9XG4gICAgICB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18gPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgdmFyIGFzeW5jRXhlY3V0b3IgPSBuZXcgQXN5bmNFeGVjdXRvcigpO1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLnNldHRsZVNhbWVBc1Byb21pc2VfID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgIHZhciBtZXRob2RzID0gdGhpcy5jcmVhdGVSZXNvbHZlQW5kUmVqZWN0XygpO1xuICAgIHByb21pc2UuY2FsbFdoZW5TZXR0bGVkXyhtZXRob2RzLnJlc29sdmUsIG1ldGhvZHMucmVqZWN0KTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5zZXR0bGVTYW1lQXNUaGVuYWJsZV8gPSBmdW5jdGlvbih0aGVuTWV0aG9kLCB0aGVuYWJsZSkge1xuICAgIHZhciBtZXRob2RzID0gdGhpcy5jcmVhdGVSZXNvbHZlQW5kUmVqZWN0XygpO1xuICAgIHRyeSB7XG4gICAgICB0aGVuTWV0aG9kLmNhbGwodGhlbmFibGUsIG1ldGhvZHMucmVzb2x2ZSwgbWV0aG9kcy5yZWplY3QpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBtZXRob2RzLnJlamVjdChlcnJvcik7XG4gICAgfVxuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrKHBhcmFtRiwgZGVmYXVsdEYpIHtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHBhcmFtRiA/IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXNvbHZlQ2hpbGQocGFyYW1GKHgpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZWplY3RDaGlsZChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0gOiBkZWZhdWx0RjtcbiAgICB9XG4gICAgdmFyIHJlc29sdmVDaGlsZCwgcmVqZWN0Q2hpbGQsIGNoaWxkUHJvbWlzZSA9IG5ldyBQb2x5ZmlsbFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZXNvbHZlQ2hpbGQgPSByZXNvbHZlO1xuICAgICAgcmVqZWN0Q2hpbGQgPSByZWplY3Q7XG4gICAgfSk7XG4gICAgdGhpcy5jYWxsV2hlblNldHRsZWRfKGNyZWF0ZUNhbGxiYWNrKG9uRnVsZmlsbGVkLCByZXNvbHZlQ2hpbGQpLCBjcmVhdGVDYWxsYmFjayhvblJlamVjdGVkLCByZWplY3RDaGlsZCkpO1xuICAgIHJldHVybiBjaGlsZFByb21pc2U7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbihvblJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbih2b2lkIDAsIG9uUmVqZWN0ZWQpO1xuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLmNhbGxXaGVuU2V0dGxlZF8gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgc3dpdGNoKHRoaXNQcm9taXNlLnN0YXRlXykge1xuICAgICAgICBjYXNlIFByb21pc2VTdGF0ZS5GVUxGSUxMRUQ6XG4gICAgICAgICAgb25GdWxmaWxsZWQodGhpc1Byb21pc2UucmVzdWx0Xyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUHJvbWlzZVN0YXRlLlJFSkVDVEVEOlxuICAgICAgICAgIG9uUmVqZWN0ZWQodGhpc1Byb21pc2UucmVzdWx0Xyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIHN0YXRlOiBcIiArIHRoaXNQcm9taXNlLnN0YXRlXyk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB0aGlzUHJvbWlzZSA9IHRoaXM7XG4gICAgbnVsbCA9PSB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18gPyBhc3luY0V4ZWN1dG9yLmFzeW5jRXhlY3V0ZShjYWxsYmFjaykgOiB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18ucHVzaChjYWxsYmFjayk7XG4gICAgdGhpcy5pc1JlamVjdGlvbkhhbmRsZWRfID0gITA7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5yZXNvbHZlID0gcmVzb2x2aW5nUHJvbWlzZTtcbiAgUG9seWZpbGxQcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKG9wdF9yZWFzb24pIHtcbiAgICByZXR1cm4gbmV3IFBvbHlmaWxsUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlamVjdChvcHRfcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnJhY2UgPSBmdW5jdGlvbih0aGVuYWJsZXNPclZhbHVlcykge1xuICAgIHJldHVybiBuZXcgUG9seWZpbGxQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZm9yICh2YXIgaXRlcmF0b3IgPSAkanNjb21wLm1ha2VJdGVyYXRvcih0aGVuYWJsZXNPclZhbHVlcyksIGl0ZXJSZWMgPSBpdGVyYXRvci5uZXh0KCk7ICFpdGVyUmVjLmRvbmU7IGl0ZXJSZWMgPSBpdGVyYXRvci5uZXh0KCkpIHtcbiAgICAgICAgcmVzb2x2aW5nUHJvbWlzZShpdGVyUmVjLnZhbHVlKS5jYWxsV2hlblNldHRsZWRfKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5hbGwgPSBmdW5jdGlvbih0aGVuYWJsZXNPclZhbHVlcykge1xuICAgIHZhciBpdGVyYXRvciA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKHRoZW5hYmxlc09yVmFsdWVzKSwgaXRlclJlYyA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICByZXR1cm4gaXRlclJlYy5kb25lID8gcmVzb2x2aW5nUHJvbWlzZShbXSkgOiBuZXcgUG9seWZpbGxQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmVBbGwsIHJlamVjdEFsbCkge1xuICAgICAgZnVuY3Rpb24gb25GdWxmaWxsZWQoaSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaXRoUmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0c0FycmF5W2ldID0gaXRoUmVzdWx0O1xuICAgICAgICAgIHVucmVzb2x2ZWRDb3VudC0tO1xuICAgICAgICAgIDAgPT0gdW5yZXNvbHZlZENvdW50ICYmIHJlc29sdmVBbGwocmVzdWx0c0FycmF5KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHRzQXJyYXkgPSBbXSwgdW5yZXNvbHZlZENvdW50ID0gMDtcbiAgICAgIGRvIHtcbiAgICAgICAgcmVzdWx0c0FycmF5LnB1c2godm9pZCAwKSwgdW5yZXNvbHZlZENvdW50KyssIHJlc29sdmluZ1Byb21pc2UoaXRlclJlYy52YWx1ZSkuY2FsbFdoZW5TZXR0bGVkXyhvbkZ1bGZpbGxlZChyZXN1bHRzQXJyYXkubGVuZ3RoIC0gMSksIHJlamVjdEFsbCksIGl0ZXJSZWMgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICB9IHdoaWxlICghaXRlclJlYy5kb25lKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIFBvbHlmaWxsUHJvbWlzZTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5jaGVja0VzNkNvbmZvcm1hbmNlVmlhUHJveHkgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcHJveGllZCA9IHt9LCBwcm94eSA9IE9iamVjdC5jcmVhdGUobmV3ICRqc2NvbXAuZ2xvYmFsLlByb3h5KHByb3hpZWQsIHtnZXQ6ZnVuY3Rpb24odGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0ID09IHByb3hpZWQgJiYgXCJxXCIgPT0ga2V5ICYmIHJlY2VpdmVyID09IHByb3h5O1xuICAgIH19KSk7XG4gICAgcmV0dXJuICEwID09PSBwcm94eS5xO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbn07XG4kanNjb21wLlVTRV9QUk9YWV9GT1JfRVM2X0NPTkZPUk1BTkNFX0NIRUNLUyA9ICExO1xuJGpzY29tcC5FUzZfQ09ORk9STUFOQ0UgPSAkanNjb21wLlVTRV9QUk9YWV9GT1JfRVM2X0NPTkZPUk1BTkNFX0NIRUNLUyAmJiAkanNjb21wLmNoZWNrRXM2Q29uZm9ybWFuY2VWaWFQcm94eSgpO1xuJGpzY29tcC5vd25zID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn07XG4kanNjb21wLnBvbHlmaWxsKFwiV2Vha01hcFwiLCBmdW5jdGlvbihOYXRpdmVXZWFrTWFwKSB7XG4gIGZ1bmN0aW9uIGlzQ29uZm9ybWFudCgpIHtcbiAgICBpZiAoIU5hdGl2ZVdlYWtNYXAgfHwgIU9iamVjdC5zZWFsKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB2YXIgeCA9IE9iamVjdC5zZWFsKHt9KSwgeSA9IE9iamVjdC5zZWFsKHt9KSwgbWFwID0gbmV3IE5hdGl2ZVdlYWtNYXAoW1t4LCAyXSwgW3ksIDNdXSk7XG4gICAgICBpZiAoMiAhPSBtYXAuZ2V0KHgpIHx8IDMgIT0gbWFwLmdldCh5KSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICBtYXAuZGVsZXRlKHgpO1xuICAgICAgbWFwLnNldCh5LCA0KTtcbiAgICAgIHJldHVybiAhbWFwLmhhcyh4KSAmJiA0ID09IG1hcC5nZXQoeSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIFdlYWtNYXBNZW1iZXJzaGlwKCkge1xuICB9XG4gIGZ1bmN0aW9uIGlzVmFsaWRLZXkoa2V5KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Yga2V5O1xuICAgIHJldHVybiBcIm9iamVjdFwiID09PSB0eXBlICYmIG51bGwgIT09IGtleSB8fCBcImZ1bmN0aW9uXCIgPT09IHR5cGU7XG4gIH1cbiAgZnVuY3Rpb24gaW5zZXJ0KHRhcmdldCkge1xuICAgIGlmICghJGpzY29tcC5vd25zKHRhcmdldCwgcHJvcCkpIHtcbiAgICAgIHZhciBvYmogPSBuZXcgV2Vha01hcE1lbWJlcnNoaXAoKTtcbiAgICAgICRqc2NvbXAuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCB7dmFsdWU6b2JqfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHBhdGNoKG5hbWUpIHtcbiAgICBpZiAoISRqc2NvbXAuSVNPTEFURV9QT0xZRklMTFMpIHtcbiAgICAgIHZhciBwcmV2ID0gT2JqZWN0W25hbWVdO1xuICAgICAgcHJldiAmJiAoT2JqZWN0W25hbWVdID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBXZWFrTWFwTWVtYmVyc2hpcCkge1xuICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSh0YXJnZXQpICYmIGluc2VydCh0YXJnZXQpO1xuICAgICAgICByZXR1cm4gcHJldih0YXJnZXQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmICgkanNjb21wLlVTRV9QUk9YWV9GT1JfRVM2X0NPTkZPUk1BTkNFX0NIRUNLUykge1xuICAgIGlmIChOYXRpdmVXZWFrTWFwICYmICRqc2NvbXAuRVM2X0NPTkZPUk1BTkNFKSB7XG4gICAgICByZXR1cm4gTmF0aXZlV2Vha01hcDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzQ29uZm9ybWFudCgpKSB7XG4gICAgICByZXR1cm4gTmF0aXZlV2Vha01hcDtcbiAgICB9XG4gIH1cbiAgdmFyIHByb3AgPSBcIiRqc2NvbXBfaGlkZGVuX1wiICsgTWF0aC5yYW5kb20oKTtcbiAgcGF0Y2goXCJmcmVlemVcIik7XG4gIHBhdGNoKFwicHJldmVudEV4dGVuc2lvbnNcIik7XG4gIHBhdGNoKFwic2VhbFwiKTtcbiAgdmFyIGluZGV4ID0gMCwgUG9seWZpbGxXZWFrTWFwID0gZnVuY3Rpb24ob3B0X2l0ZXJhYmxlKSB7XG4gICAgdGhpcy5pZF8gPSAoaW5kZXggKz0gTWF0aC5yYW5kb20oKSArIDEpLnRvU3RyaW5nKCk7XG4gICAgaWYgKG9wdF9pdGVyYWJsZSkge1xuICAgICAgZm9yICh2YXIgaXRlciA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKG9wdF9pdGVyYWJsZSksIGVudHJ5OyAhKGVudHJ5ID0gaXRlci5uZXh0KCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBpdGVtID0gZW50cnkudmFsdWU7XG4gICAgICAgIHRoaXMuc2V0KGl0ZW1bMF0sIGl0ZW1bMV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgUG9seWZpbGxXZWFrTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgaWYgKCFpc1ZhbGlkS2V5KGtleSkpIHtcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBXZWFrTWFwIGtleVwiKTtcbiAgICB9XG4gICAgaW5zZXJ0KGtleSk7XG4gICAgaWYgKCEkanNjb21wLm93bnMoa2V5LCBwcm9wKSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJXZWFrTWFwIGtleSBmYWlsOiBcIiArIGtleSk7XG4gICAgfVxuICAgIGtleVtwcm9wXVt0aGlzLmlkX10gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgUG9seWZpbGxXZWFrTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gaXNWYWxpZEtleShrZXkpICYmICRqc2NvbXAub3ducyhrZXksIHByb3ApID8ga2V5W3Byb3BdW3RoaXMuaWRfXSA6IHZvaWQgMDtcbiAgfTtcbiAgUG9seWZpbGxXZWFrTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gaXNWYWxpZEtleShrZXkpICYmICRqc2NvbXAub3ducyhrZXksIHByb3ApICYmICRqc2NvbXAub3ducyhrZXlbcHJvcF0sIHRoaXMuaWRfKTtcbiAgfTtcbiAgUG9seWZpbGxXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gaXNWYWxpZEtleShrZXkpICYmICRqc2NvbXAub3ducyhrZXksIHByb3ApICYmICRqc2NvbXAub3ducyhrZXlbcHJvcF0sIHRoaXMuaWRfKSA/IGRlbGV0ZSBrZXlbcHJvcF1bdGhpcy5pZF9dIDogITE7XG4gIH07XG4gIHJldHVybiBQb2x5ZmlsbFdlYWtNYXA7XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAuTWFwRW50cnkgPSBmdW5jdGlvbigpIHtcbn07XG4kanNjb21wLnBvbHlmaWxsKFwiTWFwXCIsIGZ1bmN0aW9uKE5hdGl2ZU1hcCkge1xuICBmdW5jdGlvbiBpc0NvbmZvcm1hbnQoKSB7XG4gICAgaWYgKCRqc2NvbXAuQVNTVU1FX05PX05BVElWRV9NQVAgfHwgIU5hdGl2ZU1hcCB8fCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIE5hdGl2ZU1hcCB8fCAhTmF0aXZlTWFwLnByb3RvdHlwZS5lbnRyaWVzIHx8IFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgT2JqZWN0LnNlYWwpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHZhciBrZXkgPSBPYmplY3Quc2VhbCh7eDo0fSksIG1hcCA9IG5ldyBOYXRpdmVNYXAoJGpzY29tcC5tYWtlSXRlcmF0b3IoW1trZXksIFwic1wiXV0pKTtcbiAgICAgIGlmIChcInNcIiAhPSBtYXAuZ2V0KGtleSkgfHwgMSAhPSBtYXAuc2l6ZSB8fCBtYXAuZ2V0KHt4OjR9KSB8fCBtYXAuc2V0KHt4OjR9LCBcInRcIikgIT0gbWFwIHx8IDIgIT0gbWFwLnNpemUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXIgPSBtYXAuZW50cmllcygpLCBpdGVtID0gaXRlci5uZXh0KCk7XG4gICAgICBpZiAoaXRlbS5kb25lIHx8IGl0ZW0udmFsdWVbMF0gIT0ga2V5IHx8IFwic1wiICE9IGl0ZW0udmFsdWVbMV0pIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgaXRlbSA9IGl0ZXIubmV4dCgpO1xuICAgICAgcmV0dXJuIGl0ZW0uZG9uZSB8fCA0ICE9IGl0ZW0udmFsdWVbMF0ueCB8fCBcInRcIiAhPSBpdGVtLnZhbHVlWzFdIHx8ICFpdGVyLm5leHQoKS5kb25lID8gITEgOiAhMDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgaWYgKCRqc2NvbXAuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTKSB7XG4gICAgaWYgKE5hdGl2ZU1hcCAmJiAkanNjb21wLkVTNl9DT05GT1JNQU5DRSkge1xuICAgICAgcmV0dXJuIE5hdGl2ZU1hcDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzQ29uZm9ybWFudCgpKSB7XG4gICAgICByZXR1cm4gTmF0aXZlTWFwO1xuICAgIH1cbiAgfVxuICB2YXIgaWRNYXAgPSBuZXcgV2Vha01hcCgpLCBQb2x5ZmlsbE1hcCA9IGZ1bmN0aW9uKG9wdF9pdGVyYWJsZSkge1xuICAgIHRoaXMuZGF0YV8gPSB7fTtcbiAgICB0aGlzLmhlYWRfID0gY3JlYXRlSGVhZCgpO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgaWYgKG9wdF9pdGVyYWJsZSkge1xuICAgICAgZm9yICh2YXIgaXRlciA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKG9wdF9pdGVyYWJsZSksIGVudHJ5OyAhKGVudHJ5ID0gaXRlci5uZXh0KCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBpdGVtID0gZW50cnkudmFsdWU7XG4gICAgICAgIHRoaXMuc2V0KGl0ZW1bMF0sIGl0ZW1bMV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgUG9seWZpbGxNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBrZXkgPSAwID09PSBrZXkgPyAwIDoga2V5O1xuICAgIHZhciByID0gbWF5YmVHZXRFbnRyeSh0aGlzLCBrZXkpO1xuICAgIHIubGlzdCB8fCAoci5saXN0ID0gdGhpcy5kYXRhX1tyLmlkXSA9IFtdKTtcbiAgICByLmVudHJ5ID8gci5lbnRyeS52YWx1ZSA9IHZhbHVlIDogKHIuZW50cnkgPSB7bmV4dDp0aGlzLmhlYWRfLCBwcmV2aW91czp0aGlzLmhlYWRfLnByZXZpb3VzLCBoZWFkOnRoaXMuaGVhZF8sIGtleTprZXksIHZhbHVlOnZhbHVlLH0sIHIubGlzdC5wdXNoKHIuZW50cnkpLCB0aGlzLmhlYWRfLnByZXZpb3VzLm5leHQgPSByLmVudHJ5LCB0aGlzLmhlYWRfLnByZXZpb3VzID0gci5lbnRyeSwgdGhpcy5zaXplKyspO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBQb2x5ZmlsbE1hcC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIHIgPSBtYXliZUdldEVudHJ5KHRoaXMsIGtleSk7XG4gICAgcmV0dXJuIHIuZW50cnkgJiYgci5saXN0ID8gKHIubGlzdC5zcGxpY2Uoci5pbmRleCwgMSksIHIubGlzdC5sZW5ndGggfHwgZGVsZXRlIHRoaXMuZGF0YV9bci5pZF0sIHIuZW50cnkucHJldmlvdXMubmV4dCA9IHIuZW50cnkubmV4dCwgci5lbnRyeS5uZXh0LnByZXZpb3VzID0gci5lbnRyeS5wcmV2aW91cywgci5lbnRyeS5oZWFkID0gbnVsbCwgdGhpcy5zaXplLS0sICEwKSA6ICExO1xuICB9O1xuICBQb2x5ZmlsbE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRhdGFfID0ge307XG4gICAgdGhpcy5oZWFkXyA9IHRoaXMuaGVhZF8ucHJldmlvdXMgPSBjcmVhdGVIZWFkKCk7XG4gICAgdGhpcy5zaXplID0gMDtcbiAgfTtcbiAgUG9seWZpbGxNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiAhIW1heWJlR2V0RW50cnkodGhpcywga2V5KS5lbnRyeTtcbiAgfTtcbiAgUG9seWZpbGxNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBlbnRyeSA9IG1heWJlR2V0RW50cnkodGhpcywga2V5KS5lbnRyeTtcbiAgICByZXR1cm4gZW50cnkgJiYgZW50cnkudmFsdWU7XG4gIH07XG4gIFBvbHlmaWxsTWFwLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG1ha2VJdGVyYXRvcih0aGlzLCBmdW5jdGlvbihlbnRyeSkge1xuICAgICAgcmV0dXJuIFtlbnRyeS5rZXksIGVudHJ5LnZhbHVlXTtcbiAgICB9KTtcbiAgfTtcbiAgUG9seWZpbGxNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbWFrZUl0ZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICByZXR1cm4gZW50cnkua2V5O1xuICAgIH0pO1xuICB9O1xuICBQb2x5ZmlsbE1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG1ha2VJdGVyYXRvcih0aGlzLCBmdW5jdGlvbihlbnRyeSkge1xuICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICAgIH0pO1xuICB9O1xuICBQb2x5ZmlsbE1hcC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBvcHRfdGhpc0FyZykge1xuICAgIGZvciAodmFyIGl0ZXIgPSB0aGlzLmVudHJpZXMoKSwgaXRlbTsgIShpdGVtID0gaXRlci5uZXh0KCkpLmRvbmU7KSB7XG4gICAgICB2YXIgZW50cnkgPSBpdGVtLnZhbHVlO1xuICAgICAgY2FsbGJhY2suY2FsbChvcHRfdGhpc0FyZywgZW50cnlbMV0sIGVudHJ5WzBdLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIFBvbHlmaWxsTWFwLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gUG9seWZpbGxNYXAucHJvdG90eXBlLmVudHJpZXM7XG4gIHZhciBtYXliZUdldEVudHJ5ID0gZnVuY3Rpb24obWFwLCBrZXkpIHtcbiAgICB2YXIgaWQgPSBnZXRJZChrZXkpLCBsaXN0ID0gbWFwLmRhdGFfW2lkXTtcbiAgICBpZiAobGlzdCAmJiAkanNjb21wLm93bnMobWFwLmRhdGFfLCBpZCkpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgZW50cnkgPSBsaXN0W2luZGV4XTtcbiAgICAgICAgaWYgKGtleSAhPT0ga2V5ICYmIGVudHJ5LmtleSAhPT0gZW50cnkua2V5IHx8IGtleSA9PT0gZW50cnkua2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHtpZDppZCwgbGlzdDpsaXN0LCBpbmRleDppbmRleCwgZW50cnk6ZW50cnl9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7aWQ6aWQsIGxpc3Q6bGlzdCwgaW5kZXg6LTEsIGVudHJ5OnZvaWQgMH07XG4gIH0sIG1ha2VJdGVyYXRvciA9IGZ1bmN0aW9uKG1hcCwgZnVuYykge1xuICAgIHZhciBlbnRyeSA9IG1hcC5oZWFkXztcbiAgICByZXR1cm4gJGpzY29tcC5pdGVyYXRvclByb3RvdHlwZShmdW5jdGlvbigpIHtcbiAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICBmb3IgKDsgZW50cnkuaGVhZCAhPSBtYXAuaGVhZF87KSB7XG4gICAgICAgICAgZW50cnkgPSBlbnRyeS5wcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDsgZW50cnkubmV4dCAhPSBlbnRyeS5oZWFkOykge1xuICAgICAgICAgIHJldHVybiBlbnRyeSA9IGVudHJ5Lm5leHQsIHtkb25lOiExLCB2YWx1ZTpmdW5jKGVudHJ5KX07XG4gICAgICAgIH1cbiAgICAgICAgZW50cnkgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtkb25lOiEwLCB2YWx1ZTp2b2lkIDB9O1xuICAgIH0pO1xuICB9LCBjcmVhdGVIZWFkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhlYWQgPSB7fTtcbiAgICByZXR1cm4gaGVhZC5wcmV2aW91cyA9IGhlYWQubmV4dCA9IGhlYWQuaGVhZCA9IGhlYWQ7XG4gIH0sIG1hcEluZGV4ID0gMCwgZ2V0SWQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgdHlwZSA9IG9iaiAmJiB0eXBlb2Ygb2JqO1xuICAgIGlmIChcIm9iamVjdFwiID09IHR5cGUgfHwgXCJmdW5jdGlvblwiID09IHR5cGUpIHtcbiAgICAgIGlmICghaWRNYXAuaGFzKG9iaikpIHtcbiAgICAgICAgdmFyIGlkID0gXCJcIiArICsrbWFwSW5kZXg7XG4gICAgICAgIGlkTWFwLnNldChvYmosIGlkKTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlkTWFwLmdldChvYmopO1xuICAgIH1cbiAgICByZXR1cm4gXCJwX1wiICsgb2JqO1xuICB9O1xuICByZXR1cm4gUG9seWZpbGxNYXA7XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAuZmluZEludGVybmFsID0gZnVuY3Rpb24oYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gIGFycmF5IGluc3RhbmNlb2YgU3RyaW5nICYmIChhcnJheSA9IFN0cmluZyhhcnJheSkpO1xuICBmb3IgKHZhciBsZW4gPSBhcnJheS5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpXTtcbiAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaSwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4ge2k6aSwgdjp2YWx1ZX07XG4gICAgfVxuICB9XG4gIHJldHVybiB7aTotMSwgdjp2b2lkIDB9O1xufTtcbiRqc2NvbXAucG9seWZpbGwoXCJBcnJheS5wcm90b3R5cGUuZmluZFwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKGNhbGxiYWNrLCBvcHRfdGhpc0FyZykge1xuICAgIHJldHVybiAkanNjb21wLmZpbmRJbnRlcm5hbCh0aGlzLCBjYWxsYmFjaywgb3B0X3RoaXNBcmcpLnY7XG4gIH07XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAuY2hlY2tTdHJpbmdBcmdzID0gZnVuY3Rpb24odGhpc0FyZywgYXJnLCBmdW5jKSB7XG4gIGlmIChudWxsID09IHRoaXNBcmcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlICd0aGlzJyB2YWx1ZSBmb3IgU3RyaW5nLnByb3RvdHlwZS5cIiArIGZ1bmMgKyBcIiBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZFwiKTtcbiAgfVxuICBpZiAoYXJnIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IHRvIFN0cmluZy5wcm90b3R5cGUuXCIgKyBmdW5jICsgXCIgbXVzdCBub3QgYmUgYSByZWd1bGFyIGV4cHJlc3Npb25cIik7XG4gIH1cbiAgcmV0dXJuIHRoaXNBcmcgKyBcIlwiO1xufTtcbiRqc2NvbXAucG9seWZpbGwoXCJTdHJpbmcucHJvdG90eXBlLnJlcGVhdFwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKGNvcGllcykge1xuICAgIHZhciBzdHJpbmcgPSAkanNjb21wLmNoZWNrU3RyaW5nQXJncyh0aGlzLCBudWxsLCBcInJlcGVhdFwiKTtcbiAgICBpZiAoMCA+IGNvcGllcyB8fCAxMzQyMTc3Mjc5IDwgY29waWVzKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgY291bnQgdmFsdWVcIik7XG4gICAgfVxuICAgIGNvcGllcyB8PSAwO1xuICAgIGZvciAodmFyIHJlc3VsdCA9IFwiXCI7IGNvcGllczspIHtcbiAgICAgIGlmIChjb3BpZXMgJiAxICYmIChyZXN1bHQgKz0gc3RyaW5nKSwgY29waWVzID4+Pj0gMSkge1xuICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLml0ZXJhdG9yRnJvbUFycmF5ID0gZnVuY3Rpb24oYXJyYXksIHRyYW5zZm9ybSkge1xuICBhcnJheSBpbnN0YW5jZW9mIFN0cmluZyAmJiAoYXJyYXkgKz0gXCJcIik7XG4gIHZhciBpID0gMCwgZG9uZSA9ICExLCBpdGVyID0ge25leHQ6ZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFkb25lICYmIGkgPCBhcnJheS5sZW5ndGgpIHtcbiAgICAgIHZhciBpbmRleCA9IGkrKztcbiAgICAgIHJldHVybiB7dmFsdWU6dHJhbnNmb3JtKGluZGV4LCBhcnJheVtpbmRleF0pLCBkb25lOiExfTtcbiAgICB9XG4gICAgZG9uZSA9ICEwO1xuICAgIHJldHVybiB7ZG9uZTohMCwgdmFsdWU6dm9pZCAwfTtcbiAgfX07XG4gIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpdGVyO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG4kanNjb21wLnBvbHlmaWxsKFwiQXJyYXkucHJvdG90eXBlLmtleXNcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGpzY29tcC5pdGVyYXRvckZyb21BcnJheSh0aGlzLCBmdW5jdGlvbihpKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9KTtcbiAgfTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LmZyb21cIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbihhcnJheUxpa2UsIG9wdF9tYXBGbiwgb3B0X3RoaXNBcmcpIHtcbiAgICBvcHRfbWFwRm4gPSBudWxsICE9IG9wdF9tYXBGbiA/IG9wdF9tYXBGbiA6IGZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH07XG4gICAgdmFyIHJlc3VsdCA9IFtdLCBpdGVyYXRvckZ1bmN0aW9uID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvciAmJiBhcnJheUxpa2VbU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBpdGVyYXRvckZ1bmN0aW9uKSB7XG4gICAgICBhcnJheUxpa2UgPSBpdGVyYXRvckZ1bmN0aW9uLmNhbGwoYXJyYXlMaWtlKTtcbiAgICAgIGZvciAodmFyIG5leHQsIGsgPSAwOyAhKG5leHQgPSBhcnJheUxpa2UubmV4dCgpKS5kb25lOykge1xuICAgICAgICByZXN1bHQucHVzaChvcHRfbWFwRm4uY2FsbChvcHRfdGhpc0FyZywgbmV4dC52YWx1ZSwgaysrKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGxlbiA9IGFycmF5TGlrZS5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LnB1c2gob3B0X21hcEZuLmNhbGwob3B0X3RoaXNBcmcsIGFycmF5TGlrZVtpXSwgaSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiQXJyYXkucHJvdG90eXBlLnZhbHVlc1wiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkanNjb21wLml0ZXJhdG9yRnJvbUFycmF5KHRoaXMsIGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgIHJldHVybiB2O1xuICAgIH0pO1xuICB9O1xufSwgXCJlczhcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiT2JqZWN0LnNldFByb3RvdHlwZU9mXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgfHwgJGpzY29tcC5zZXRQcm90b3R5cGVPZjtcbn0sIFwiZXM2XCIsIFwiZXM1XCIpO1xuJGpzY29tcC5hc3NpZ24gPSAkanNjb21wLlRSVVNUX0VTNl9QT0xZRklMTFMgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uKHRhcmdldCwgdmFyX2FyZ3MpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgJGpzY29tcC5vd25zKHNvdXJjZSwga2V5KSAmJiAodGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuJGpzY29tcC5wb2x5ZmlsbChcIk9iamVjdC5hc3NpZ25cIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyB8fCAkanNjb21wLmFzc2lnbjtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIlN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGhcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbihzZWFyY2hTdHJpbmcsIG9wdF9wb3NpdGlvbikge1xuICAgIHZhciBzdHJpbmcgPSAkanNjb21wLmNoZWNrU3RyaW5nQXJncyh0aGlzLCBzZWFyY2hTdHJpbmcsIFwiZW5kc1dpdGhcIik7XG4gICAgc2VhcmNoU3RyaW5nICs9IFwiXCI7XG4gICAgdm9pZCAwID09PSBvcHRfcG9zaXRpb24gJiYgKG9wdF9wb3NpdGlvbiA9IHN0cmluZy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihvcHRfcG9zaXRpb24gfCAwLCBzdHJpbmcubGVuZ3RoKSksIGogPSBzZWFyY2hTdHJpbmcubGVuZ3RoOyAwIDwgaiAmJiAwIDwgaTspIHtcbiAgICAgIGlmIChzdHJpbmdbLS1pXSAhPSBzZWFyY2hTdHJpbmdbLS1qXSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwID49IGo7XG4gIH07XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGhcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbihzZWFyY2hTdHJpbmcsIG9wdF9wb3NpdGlvbikge1xuICAgIHZhciBzdHJpbmcgPSAkanNjb21wLmNoZWNrU3RyaW5nQXJncyh0aGlzLCBzZWFyY2hTdHJpbmcsIFwic3RhcnRzV2l0aFwiKTtcbiAgICBzZWFyY2hTdHJpbmcgKz0gXCJcIjtcbiAgICBmb3IgKHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoLCBzZWFyY2hMZW4gPSBzZWFyY2hTdHJpbmcubGVuZ3RoLCBpID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ob3B0X3Bvc2l0aW9uIHwgMCwgc3RyaW5nLmxlbmd0aCkpLCBqID0gMDsgaiA8IHNlYXJjaExlbiAmJiBpIDwgc3RyTGVuOykge1xuICAgICAgaWYgKHN0cmluZ1tpKytdICE9IHNlYXJjaFN0cmluZ1tqKytdKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGogPj0gc2VhcmNoTGVuO1xuICB9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiTnVtYmVyLmlzRmluaXRlXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiBcIm51bWJlclwiICE9PSB0eXBlb2YgeCA/ICExIDogIWlzTmFOKHgpICYmIEluZmluaXR5ICE9PSB4ICYmIC1JbmZpbml0eSAhPT0geDtcbiAgfTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIk9iamVjdC5lbnRyaWVzXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdLCBrZXk7XG4gICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAkanNjb21wLm93bnMob2JqLCBrZXkpICYmIHJlc3VsdC5wdXNoKFtrZXksIG9ialtrZXldXSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59LCBcImVzOFwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJPYmplY3QuaXNcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBsZWZ0ID09PSByaWdodCA/IDAgIT09IGxlZnQgfHwgMSAvIGxlZnQgPT09IDEgLyByaWdodCA6IGxlZnQgIT09IGxlZnQgJiYgcmlnaHQgIT09IHJpZ2h0O1xuICB9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oc2VhcmNoRWxlbWVudCwgb3B0X2Zyb21JbmRleCkge1xuICAgIHZhciBhcnJheSA9IHRoaXM7XG4gICAgYXJyYXkgaW5zdGFuY2VvZiBTdHJpbmcgJiYgKGFycmF5ID0gU3RyaW5nKGFycmF5KSk7XG4gICAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aCwgaSA9IG9wdF9mcm9tSW5kZXggfHwgMDtcbiAgICBmb3IgKDAgPiBpICYmIChpID0gTWF0aC5tYXgoaSArIGxlbiwgMCkpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBlbGVtZW50ID0gYXJyYXlbaV07XG4gICAgICBpZiAoZWxlbWVudCA9PT0gc2VhcmNoRWxlbWVudCB8fCBPYmplY3QuaXMoZWxlbWVudCwgc2VhcmNoRWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH07XG59LCBcImVzN1wiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oc2VhcmNoU3RyaW5nLCBvcHRfcG9zaXRpb24pIHtcbiAgICByZXR1cm4gLTEgIT09ICRqc2NvbXAuY2hlY2tTdHJpbmdBcmdzKHRoaXMsIHNlYXJjaFN0cmluZywgXCJpbmNsdWRlc1wiKS5pbmRleE9mKHNlYXJjaFN0cmluZywgb3B0X3Bvc2l0aW9uIHx8IDApO1xuICB9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiU3RyaW5nLnByb3RvdHlwZS50cmltTGVmdFwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL15bXFxzXFx4YTBdKy8sIFwiXCIpO1xuICB9XG4gIHJldHVybiBvcmlnIHx8IHBvbHlmaWxsO1xufSwgXCJlc18yMDE5XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRqc2NvbXAuaXRlcmF0b3JGcm9tQXJyYXkodGhpcywgZnVuY3Rpb24oaSwgdikge1xuICAgICAgcmV0dXJuIFtpLCB2XTtcbiAgICB9KTtcbiAgfTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIlNldFwiLCBmdW5jdGlvbihOYXRpdmVTZXQpIHtcbiAgZnVuY3Rpb24gaXNDb25mb3JtYW50KCkge1xuICAgIGlmICgkanNjb21wLkFTU1VNRV9OT19OQVRJVkVfU0VUIHx8ICFOYXRpdmVTZXQgfHwgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBOYXRpdmVTZXQgfHwgIU5hdGl2ZVNldC5wcm90b3R5cGUuZW50cmllcyB8fCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIE9iamVjdC5zZWFsKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB2YXIgdmFsdWUgPSBPYmplY3Quc2VhbCh7eDo0fSksIHNldCA9IG5ldyBOYXRpdmVTZXQoJGpzY29tcC5tYWtlSXRlcmF0b3IoW3ZhbHVlXSkpO1xuICAgICAgaWYgKCFzZXQuaGFzKHZhbHVlKSB8fCAxICE9IHNldC5zaXplIHx8IHNldC5hZGQodmFsdWUpICE9IHNldCB8fCAxICE9IHNldC5zaXplIHx8IHNldC5hZGQoe3g6NH0pICE9IHNldCB8fCAyICE9IHNldC5zaXplKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyID0gc2V0LmVudHJpZXMoKSwgaXRlbSA9IGl0ZXIubmV4dCgpO1xuICAgICAgaWYgKGl0ZW0uZG9uZSB8fCBpdGVtLnZhbHVlWzBdICE9IHZhbHVlIHx8IGl0ZW0udmFsdWVbMV0gIT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgaXRlbSA9IGl0ZXIubmV4dCgpO1xuICAgICAgcmV0dXJuIGl0ZW0uZG9uZSB8fCBpdGVtLnZhbHVlWzBdID09IHZhbHVlIHx8IDQgIT0gaXRlbS52YWx1ZVswXS54IHx8IGl0ZW0udmFsdWVbMV0gIT0gaXRlbS52YWx1ZVswXSA/ICExIDogaXRlci5uZXh0KCkuZG9uZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgaWYgKCRqc2NvbXAuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTKSB7XG4gICAgaWYgKE5hdGl2ZVNldCAmJiAkanNjb21wLkVTNl9DT05GT1JNQU5DRSkge1xuICAgICAgcmV0dXJuIE5hdGl2ZVNldDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzQ29uZm9ybWFudCgpKSB7XG4gICAgICByZXR1cm4gTmF0aXZlU2V0O1xuICAgIH1cbiAgfVxuICB2YXIgUG9seWZpbGxTZXQgPSBmdW5jdGlvbihvcHRfaXRlcmFibGUpIHtcbiAgICB0aGlzLm1hcF8gPSBuZXcgTWFwKCk7XG4gICAgaWYgKG9wdF9pdGVyYWJsZSkge1xuICAgICAgZm9yICh2YXIgaXRlciA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKG9wdF9pdGVyYWJsZSksIGVudHJ5OyAhKGVudHJ5ID0gaXRlci5uZXh0KCkpLmRvbmU7KSB7XG4gICAgICAgIHRoaXMuYWRkKGVudHJ5LnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zaXplID0gdGhpcy5tYXBfLnNpemU7XG4gIH07XG4gIFBvbHlmaWxsU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhbHVlID0gMCA9PT0gdmFsdWUgPyAwIDogdmFsdWU7XG4gICAgdGhpcy5tYXBfLnNldCh2YWx1ZSwgdmFsdWUpO1xuICAgIHRoaXMuc2l6ZSA9IHRoaXMubWFwXy5zaXplO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBQb2x5ZmlsbFNldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5tYXBfLmRlbGV0ZSh2YWx1ZSk7XG4gICAgdGhpcy5zaXplID0gdGhpcy5tYXBfLnNpemU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgUG9seWZpbGxTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5tYXBfLmNsZWFyKCk7XG4gICAgdGhpcy5zaXplID0gMDtcbiAgfTtcbiAgUG9seWZpbGxTZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwXy5oYXModmFsdWUpO1xuICB9O1xuICBQb2x5ZmlsbFNldC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hcF8uZW50cmllcygpO1xuICB9O1xuICBQb2x5ZmlsbFNldC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwXy52YWx1ZXMoKTtcbiAgfTtcbiAgUG9seWZpbGxTZXQucHJvdG90eXBlLmtleXMgPSBQb2x5ZmlsbFNldC5wcm90b3R5cGUudmFsdWVzO1xuICBQb2x5ZmlsbFNldC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IFBvbHlmaWxsU2V0LnByb3RvdHlwZS52YWx1ZXM7XG4gIFBvbHlmaWxsU2V0LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIG9wdF90aGlzQXJnKSB7XG4gICAgdmFyIHNldCA9IHRoaXM7XG4gICAgdGhpcy5tYXBfLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKG9wdF90aGlzQXJnLCB2YWx1ZSwgdmFsdWUsIHNldCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBQb2x5ZmlsbFNldDtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIk9iamVjdC52YWx1ZXNcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0gW10sIGtleTtcbiAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICRqc2NvbXAub3ducyhvYmosIGtleSkgJiYgcmVzdWx0LnB1c2gob2JqW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufSwgXCJlczhcIiwgXCJlczNcIik7XG4kanNjb21wLnN0cmluZ1BhZGRpbmcgPSBmdW5jdGlvbihwYWRTdHJpbmcsIHBhZExlbmd0aCkge1xuICB2YXIgcGFkZGluZyA9IHZvaWQgMCAhPT0gcGFkU3RyaW5nID8gU3RyaW5nKHBhZFN0cmluZykgOiBcIiBcIjtcbiAgcmV0dXJuIDAgPCBwYWRMZW5ndGggJiYgcGFkZGluZyA/IHBhZGRpbmcucmVwZWF0KE1hdGguY2VpbChwYWRMZW5ndGggLyBwYWRkaW5nLmxlbmd0aCkpLnN1YnN0cmluZygwLCBwYWRMZW5ndGgpIDogXCJcIjtcbn07XG4kanNjb21wLnBvbHlmaWxsKFwiU3RyaW5nLnByb3RvdHlwZS5wYWRTdGFydFwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKHRhcmdldExlbmd0aCwgb3B0X3BhZFN0cmluZykge1xuICAgIHZhciBzdHJpbmcgPSAkanNjb21wLmNoZWNrU3RyaW5nQXJncyh0aGlzLCBudWxsLCBcInBhZFN0YXJ0XCIpO1xuICAgIHJldHVybiAkanNjb21wLnN0cmluZ1BhZGRpbmcob3B0X3BhZFN0cmluZywgdGFyZ2V0TGVuZ3RoIC0gc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7XG4gIH07XG59LCBcImVzOFwiLCBcImVzM1wiKTtcbnZhciBnb29nID0gZ29vZyB8fCB7fTtcbmdvb2cuZ2xvYmFsID0gdGhpcyB8fCBzZWxmO1xuZ29vZy5leHBvcnRQYXRoXyA9IGZ1bmN0aW9uKG5hbWUsIG9iamVjdCwgb3ZlcndyaXRlSW1wbGljaXQsIG9iamVjdFRvRXhwb3J0VG8pIHtcbiAgdmFyIHBhcnRzID0gbmFtZS5zcGxpdChcIi5cIiksIGN1ciA9IG9iamVjdFRvRXhwb3J0VG8gfHwgZ29vZy5nbG9iYWw7XG4gIHBhcnRzWzBdIGluIGN1ciB8fCBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBjdXIuZXhlY1NjcmlwdCB8fCBjdXIuZXhlY1NjcmlwdChcInZhciBcIiArIHBhcnRzWzBdKTtcbiAgZm9yICh2YXIgcGFydDsgcGFydHMubGVuZ3RoICYmIChwYXJ0ID0gcGFydHMuc2hpZnQoKSk7KSB7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCB8fCB2b2lkIDAgPT09IG9iamVjdCkge1xuICAgICAgY3VyID0gY3VyW3BhcnRdICYmIGN1cltwYXJ0XSAhPT0gT2JqZWN0LnByb3RvdHlwZVtwYXJ0XSA/IGN1cltwYXJ0XSA6IGN1cltwYXJ0XSA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIW92ZXJ3cml0ZUltcGxpY2l0ICYmIGdvb2cuaXNPYmplY3Qob2JqZWN0KSAmJiBnb29nLmlzT2JqZWN0KGN1cltwYXJ0XSkpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmplY3QpIHtcbiAgICAgICAgICBvYmplY3QuaGFzT3duUHJvcGVydHkocHJvcCkgJiYgKGN1cltwYXJ0XVtwcm9wXSA9IG9iamVjdFtwcm9wXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cltwYXJ0XSA9IG9iamVjdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLmRlZmluZSA9IGZ1bmN0aW9uKG5hbWUsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgZGVmaW5lcywgdW5jb21waWxlZERlZmluZXM7XG4gIHJldHVybiBkZWZhdWx0VmFsdWU7XG59O1xuZ29vZy5GRUFUVVJFU0VUX1lFQVIgPSAyMDEyO1xuZ29vZy5ERUJVRyA9ICEwO1xuZ29vZy5MT0NBTEUgPSBcImVuXCI7XG5nb29nLmdldExvY2FsZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5MT0NBTEU7XG59O1xuZ29vZy5UUlVTVEVEX1NJVEUgPSAhMDtcbmdvb2cuRElTQUxMT1dfVEVTVF9PTkxZX0NPREUgPSAhZ29vZy5ERUJVRztcbmdvb2cuRU5BQkxFX0NIUk9NRV9BUFBfU0FGRV9TQ1JJUFRfTE9BRElORyA9ICExO1xuZ29vZy5wcm92aWRlID0gZnVuY3Rpb24obmFtZSkge1xuICBpZiAoZ29vZy5pc0luTW9kdWxlTG9hZGVyXygpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJnb29nLnByb3ZpZGUgY2Fubm90IGJlIHVzZWQgd2l0aGluIGEgbW9kdWxlLlwiKTtcbiAgfVxuICBnb29nLmNvbnN0cnVjdE5hbWVzcGFjZV8obmFtZSk7XG59O1xuZ29vZy5jb25zdHJ1Y3ROYW1lc3BhY2VfID0gZnVuY3Rpb24obmFtZSwgb2JqZWN0LCBvdmVyd3JpdGVJbXBsaWNpdCkge1xuICB2YXIgbmFtZXNwYWNlO1xuICBnb29nLmV4cG9ydFBhdGhfKG5hbWUsIG9iamVjdCwgb3ZlcndyaXRlSW1wbGljaXQpO1xufTtcbmdvb2cuTk9OQ0VfUEFUVEVSTl8gPSAvXltcXHcrL18tXStbPV17MCwyfSQvO1xuZ29vZy5nZXRTY3JpcHROb25jZV8gPSBmdW5jdGlvbihvcHRfd2luZG93KSB7XG4gIHZhciBkb2MgPSAob3B0X3dpbmRvdyB8fCBnb29nLmdsb2JhbCkuZG9jdW1lbnQsIHNjcmlwdCA9IGRvYy5xdWVyeVNlbGVjdG9yICYmIGRvYy5xdWVyeVNlbGVjdG9yKFwic2NyaXB0W25vbmNlXVwiKTtcbiAgaWYgKHNjcmlwdCkge1xuICAgIHZhciBub25jZSA9IHNjcmlwdC5ub25jZSB8fCBzY3JpcHQuZ2V0QXR0cmlidXRlKFwibm9uY2VcIik7XG4gICAgaWYgKG5vbmNlICYmIGdvb2cuTk9OQ0VfUEFUVEVSTl8udGVzdChub25jZSkpIHtcbiAgICAgIHJldHVybiBub25jZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59O1xuZ29vZy5WQUxJRF9NT0RVTEVfUkVfID0gL15bYS16QS1aXyRdW2EtekEtWjAtOS5fJF0qJC87XG5nb29nLm1vZHVsZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgaWYgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBuYW1lIHx8ICFuYW1lIHx8IC0xID09IG5hbWUuc2VhcmNoKGdvb2cuVkFMSURfTU9EVUxFX1JFXykpIHtcbiAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgbW9kdWxlIGlkZW50aWZpZXJcIik7XG4gIH1cbiAgaWYgKCFnb29nLmlzSW5Hb29nTW9kdWxlTG9hZGVyXygpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJNb2R1bGUgXCIgKyBuYW1lICsgXCIgaGFzIGJlZW4gbG9hZGVkIGluY29ycmVjdGx5LiBOb3RlLCBtb2R1bGVzIGNhbm5vdCBiZSBsb2FkZWQgYXMgbm9ybWFsIHNjcmlwdHMuIFRoZXkgcmVxdWlyZSBzb21lIGtpbmQgb2YgcHJlLXByb2Nlc3Npbmcgc3RlcC4gWW91J3JlIGxpa2VseSB0cnlpbmcgdG8gbG9hZCBhIG1vZHVsZSB2aWEgYSBzY3JpcHQgdGFnIG9yIGFzIGEgcGFydCBvZiBhIGNvbmNhdGVuYXRlZCBidW5kbGUgd2l0aG91dCByZXdyaXRpbmcgdGhlIG1vZHVsZS4gRm9yIG1vcmUgaW5mbyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1saWJyYXJ5L3dpa2kvZ29vZy5tb2R1bGU6LWFuLUVTNi1tb2R1bGUtbGlrZS1hbHRlcm5hdGl2ZS10by1nb29nLnByb3ZpZGUuXCIpO1xuICB9XG4gIGlmIChnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5tb2R1bGVOYW1lKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJnb29nLm1vZHVsZSBtYXkgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgbW9kdWxlLlwiKTtcbiAgfVxuICBnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5tb2R1bGVOYW1lID0gbmFtZTtcbn07XG5nb29nLm1vZHVsZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiBnb29nLm1vZHVsZS5nZXRJbnRlcm5hbF8obmFtZSk7XG59O1xuZ29vZy5tb2R1bGUuZ2V0SW50ZXJuYWxfID0gZnVuY3Rpb24obmFtZSkge1xuICB2YXIgbnM7XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuTW9kdWxlVHlwZSA9IHtFUzY6XCJlczZcIiwgR09PRzpcImdvb2dcIn07XG5nb29nLm1vZHVsZUxvYWRlclN0YXRlXyA9IG51bGw7XG5nb29nLmlzSW5Nb2R1bGVMb2FkZXJfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmlzSW5Hb29nTW9kdWxlTG9hZGVyXygpIHx8IGdvb2cuaXNJbkVzNk1vZHVsZUxvYWRlcl8oKTtcbn07XG5nb29nLmlzSW5Hb29nTW9kdWxlTG9hZGVyXyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISFnb29nLm1vZHVsZUxvYWRlclN0YXRlXyAmJiBnb29nLm1vZHVsZUxvYWRlclN0YXRlXy50eXBlID09IGdvb2cuTW9kdWxlVHlwZS5HT09HO1xufTtcbmdvb2cuaXNJbkVzNk1vZHVsZUxvYWRlcl8gPSBmdW5jdGlvbigpIHtcbiAgaWYgKGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfICYmIGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLnR5cGUgPT0gZ29vZy5Nb2R1bGVUeXBlLkVTNikge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICB2YXIganNjb21wID0gZ29vZy5nbG9iYWwuJGpzY29tcDtcbiAgcmV0dXJuIGpzY29tcCA/IFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YganNjb21wLmdldEN1cnJlbnRNb2R1bGVQYXRoID8gITEgOiAhIWpzY29tcC5nZXRDdXJyZW50TW9kdWxlUGF0aCgpIDogITE7XG59O1xuZ29vZy5tb2R1bGUuZGVjbGFyZUxlZ2FjeU5hbWVzcGFjZSA9IGZ1bmN0aW9uKCkge1xuICBnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5kZWNsYXJlTGVnYWN5TmFtZXNwYWNlID0gITA7XG59O1xuZ29vZy5kZWNsYXJlTW9kdWxlSWQgPSBmdW5jdGlvbihuYW1lc3BhY2UpIHtcbiAgaWYgKGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfKSB7XG4gICAgZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8ubW9kdWxlTmFtZSA9IG5hbWVzcGFjZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIganNjb21wID0gZ29vZy5nbG9iYWwuJGpzY29tcDtcbiAgICBpZiAoIWpzY29tcCB8fCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGpzY29tcC5nZXRDdXJyZW50TW9kdWxlUGF0aCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ01vZHVsZSB3aXRoIG5hbWVzcGFjZSBcIicgKyBuYW1lc3BhY2UgKyAnXCIgaGFzIGJlZW4gbG9hZGVkIGluY29ycmVjdGx5LicpO1xuICAgIH1cbiAgICB2YXIgZXhwb3J0cyA9IGpzY29tcC5yZXF1aXJlKGpzY29tcC5nZXRDdXJyZW50TW9kdWxlUGF0aCgpKTtcbiAgICBnb29nLmxvYWRlZE1vZHVsZXNfW25hbWVzcGFjZV0gPSB7ZXhwb3J0czpleHBvcnRzLCB0eXBlOmdvb2cuTW9kdWxlVHlwZS5FUzYsIG1vZHVsZUlkOm5hbWVzcGFjZX07XG4gIH1cbn07XG5nb29nLnNldFRlc3RPbmx5ID0gZnVuY3Rpb24ob3B0X21lc3NhZ2UpIHtcbiAgaWYgKGdvb2cuRElTQUxMT1dfVEVTVF9PTkxZX0NPREUpIHtcbiAgICB0aHJvdyBvcHRfbWVzc2FnZSA9IG9wdF9tZXNzYWdlIHx8IFwiXCIsIEVycm9yKFwiSW1wb3J0aW5nIHRlc3Qtb25seSBjb2RlIGludG8gbm9uLWRlYnVnIGVudmlyb25tZW50XCIgKyAob3B0X21lc3NhZ2UgPyBcIjogXCIgKyBvcHRfbWVzc2FnZSA6IFwiLlwiKSk7XG4gIH1cbn07XG5nb29nLmZvcndhcmREZWNsYXJlID0gZnVuY3Rpb24obmFtZSkge1xufTtcbmdvb2cuZ2V0T2JqZWN0QnlOYW1lID0gZnVuY3Rpb24obmFtZSwgb3B0X29iaikge1xuICBmb3IgKHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoXCIuXCIpLCBjdXIgPSBvcHRfb2JqIHx8IGdvb2cuZ2xvYmFsLCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGN1ciA9IGN1cltwYXJ0c1tpXV0sIG51bGwgPT0gY3VyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGN1cjtcbn07XG5nb29nLmFkZERlcGVuZGVuY3kgPSBmdW5jdGlvbihyZWxQYXRoLCBwcm92aWRlcywgcmVxdWlyZXMsIG9wdF9sb2FkRmxhZ3MpIHtcbn07XG5nb29nLkVOQUJMRV9ERUJVR19MT0FERVIgPSAhMDtcbmdvb2cubG9nVG9Db25zb2xlXyA9IGZ1bmN0aW9uKG1zZykge1xuICBnb29nLmdsb2JhbC5jb25zb2xlICYmIGdvb2cuZ2xvYmFsLmNvbnNvbGUuZXJyb3IobXNnKTtcbn07XG5nb29nLnJlcXVpcmUgPSBmdW5jdGlvbihuYW1lc3BhY2UpIHtcbiAgdmFyIG1vZHVsZUxvYWRlclN0YXRlO1xufTtcbmdvb2cucmVxdWlyZVR5cGUgPSBmdW5jdGlvbihuYW1lc3BhY2UpIHtcbiAgcmV0dXJuIHt9O1xufTtcbmdvb2cuYmFzZVBhdGggPSBcIlwiO1xuZ29vZy5udWxsRnVuY3Rpb24gPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmFic3RyYWN0TWV0aG9kID0gZnVuY3Rpb24oKSB7XG4gIHRocm93IEVycm9yKFwidW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBtZXRob2RcIik7XG59O1xuZ29vZy5hZGRTaW5nbGV0b25HZXR0ZXIgPSBmdW5jdGlvbihjdG9yKSB7XG4gIGN0b3IuaW5zdGFuY2VfID0gdm9pZCAwO1xuICBjdG9yLmdldEluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGN0b3IuaW5zdGFuY2VfKSB7XG4gICAgICByZXR1cm4gY3Rvci5pbnN0YW5jZV87XG4gICAgfVxuICAgIGdvb2cuREVCVUcgJiYgKGdvb2cuaW5zdGFudGlhdGVkU2luZ2xldG9uc19bZ29vZy5pbnN0YW50aWF0ZWRTaW5nbGV0b25zXy5sZW5ndGhdID0gY3Rvcik7XG4gICAgcmV0dXJuIGN0b3IuaW5zdGFuY2VfID0gbmV3IGN0b3IoKTtcbiAgfTtcbn07XG5nb29nLmluc3RhbnRpYXRlZFNpbmdsZXRvbnNfID0gW107XG5nb29nLkxPQURfTU9EVUxFX1VTSU5HX0VWQUwgPSAhMDtcbmdvb2cuU0VBTF9NT0RVTEVfRVhQT1JUUyA9IGdvb2cuREVCVUc7XG5nb29nLmxvYWRlZE1vZHVsZXNfID0ge307XG5nb29nLkRFUEVOREVOQ0lFU19FTkFCTEVEID0gITE7XG5nb29nLlRSQU5TUElMRSA9IFwiZGV0ZWN0XCI7XG5nb29nLkFTU1VNRV9FU19NT0RVTEVTX1RSQU5TUElMRUQgPSAhMTtcbmdvb2cuVFJBTlNQSUxFX1RPX0xBTkdVQUdFID0gXCJcIjtcbmdvb2cuVFJBTlNQSUxFUiA9IFwidHJhbnNwaWxlLmpzXCI7XG5nb29nLlRSVVNURURfVFlQRVNfUE9MSUNZX05BTUUgPSBcImdvb2dcIjtcbmdvb2cuaGFzQmFkTGV0U2NvcGluZyA9IG51bGw7XG5nb29nLmxvYWRNb2R1bGUgPSBmdW5jdGlvbihtb2R1bGVEZWYpIHtcbiAgdmFyIHByZXZpb3VzU3RhdGUgPSBnb29nLm1vZHVsZUxvYWRlclN0YXRlXztcbiAgdHJ5IHtcbiAgICBnb29nLm1vZHVsZUxvYWRlclN0YXRlXyA9IHttb2R1bGVOYW1lOlwiXCIsIGRlY2xhcmVMZWdhY3lOYW1lc3BhY2U6ITEsIHR5cGU6Z29vZy5Nb2R1bGVUeXBlLkdPT0d9O1xuICAgIHZhciBvcmlnRXhwb3J0cyA9IHt9LCBleHBvcnRzID0gb3JpZ0V4cG9ydHM7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1vZHVsZURlZikge1xuICAgICAgZXhwb3J0cyA9IG1vZHVsZURlZi5jYWxsKHZvaWQgMCwgZXhwb3J0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgbW9kdWxlRGVmKSB7XG4gICAgICAgIGV4cG9ydHMgPSBnb29nLmxvYWRNb2R1bGVGcm9tU291cmNlXy5jYWxsKHZvaWQgMCwgZXhwb3J0cywgbW9kdWxlRGVmKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBtb2R1bGUgZGVmaW5pdGlvblwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIG1vZHVsZU5hbWUgPSBnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5tb2R1bGVOYW1lO1xuICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgbW9kdWxlTmFtZSAmJiBtb2R1bGVOYW1lKSB7XG4gICAgICBnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5kZWNsYXJlTGVnYWN5TmFtZXNwYWNlID8gZ29vZy5jb25zdHJ1Y3ROYW1lc3BhY2VfKG1vZHVsZU5hbWUsIGV4cG9ydHMsIG9yaWdFeHBvcnRzICE9PSBleHBvcnRzKSA6IGdvb2cuU0VBTF9NT0RVTEVfRVhQT1JUUyAmJiBPYmplY3Quc2VhbCAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBleHBvcnRzICYmIG51bGwgIT0gZXhwb3J0cyAmJiBPYmplY3Quc2VhbChleHBvcnRzKSwgZ29vZy5sb2FkZWRNb2R1bGVzX1ttb2R1bGVOYW1lXSA9IHtleHBvcnRzOmV4cG9ydHMsIHR5cGU6Z29vZy5Nb2R1bGVUeXBlLkdPT0csIG1vZHVsZUlkOmdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWV9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBtb2R1bGUgbmFtZSBcIicgKyBtb2R1bGVOYW1lICsgJ1wiJyk7XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfID0gcHJldmlvdXNTdGF0ZTtcbiAgfVxufTtcbmdvb2cubG9hZE1vZHVsZUZyb21Tb3VyY2VfID0gZnVuY3Rpb24oZXhwb3J0cywgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwKSB7XG4gIGV2YWwoZ29vZy5DTE9TVVJFX0VWQUxfUFJFRklMVEVSXy5jcmVhdGVTY3JpcHQoSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwKSk7XG4gIHJldHVybiBleHBvcnRzO1xufTtcbmdvb2cubm9ybWFsaXplUGF0aF8gPSBmdW5jdGlvbihwYXRoKSB7XG4gIGZvciAodmFyIGNvbXBvbmVudHMgPSBwYXRoLnNwbGl0KFwiL1wiKSwgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDspIHtcbiAgICBcIi5cIiA9PSBjb21wb25lbnRzW2ldID8gY29tcG9uZW50cy5zcGxpY2UoaSwgMSkgOiBpICYmIFwiLi5cIiA9PSBjb21wb25lbnRzW2ldICYmIGNvbXBvbmVudHNbaSAtIDFdICYmIFwiLi5cIiAhPSBjb21wb25lbnRzW2kgLSAxXSA/IGNvbXBvbmVudHMuc3BsaWNlKC0taSwgMikgOiBpKys7XG4gIH1cbiAgcmV0dXJuIGNvbXBvbmVudHMuam9pbihcIi9cIik7XG59O1xuZ29vZy5sb2FkRmlsZVN5bmNfID0gZnVuY3Rpb24oc3JjKSB7XG4gIGlmIChnb29nLmdsb2JhbC5DTE9TVVJFX0xPQURfRklMRV9TWU5DKSB7XG4gICAgcmV0dXJuIGdvb2cuZ2xvYmFsLkNMT1NVUkVfTE9BRF9GSUxFX1NZTkMoc3JjKTtcbiAgfVxuICB0cnkge1xuICAgIHZhciB4aHIgPSBuZXcgZ29vZy5nbG9iYWwuWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbihcImdldFwiLCBzcmMsICExKTtcbiAgICB4aHIuc2VuZCgpO1xuICAgIHJldHVybiAwID09IHhoci5zdGF0dXMgfHwgMjAwID09IHhoci5zdGF0dXMgPyB4aHIucmVzcG9uc2VUZXh0IDogbnVsbDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5nb29nLnRyYW5zcGlsZV8gPSBmdW5jdGlvbihjb2RlJGpzY29tcCQwLCBwYXRoJGpzY29tcCQwLCB0YXJnZXQpIHtcbiAgdmFyIGpzY29tcCA9IGdvb2cuZ2xvYmFsLiRqc2NvbXA7XG4gIGpzY29tcCB8fCAoZ29vZy5nbG9iYWwuJGpzY29tcCA9IGpzY29tcCA9IHt9KTtcbiAgdmFyIHRyYW5zcGlsZSA9IGpzY29tcC50cmFuc3BpbGU7XG4gIGlmICghdHJhbnNwaWxlKSB7XG4gICAgdmFyIHRyYW5zcGlsZXJQYXRoID0gZ29vZy5iYXNlUGF0aCArIGdvb2cuVFJBTlNQSUxFUiwgdHJhbnNwaWxlckNvZGUgPSBnb29nLmxvYWRGaWxlU3luY18odHJhbnNwaWxlclBhdGgpO1xuICAgIGlmICh0cmFuc3BpbGVyQ29kZSkge1xuICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAoMCxldmFsKSh0cmFuc3BpbGVyQ29kZSArIFwiXFxuLy8jIHNvdXJjZVVSTD1cIiArIHRyYW5zcGlsZXJQYXRoKTtcbiAgICAgIH0pLmNhbGwoZ29vZy5nbG9iYWwpO1xuICAgICAgaWYgKGdvb2cuZ2xvYmFsLiRnd3RFeHBvcnQgJiYgZ29vZy5nbG9iYWwuJGd3dEV4cG9ydC4kanNjb21wICYmICFnb29nLmdsb2JhbC4kZ3d0RXhwb3J0LiRqc2NvbXAudHJhbnNwaWxlKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdUaGUgdHJhbnNwaWxlciBkaWQgbm90IHByb3Blcmx5IGV4cG9ydCB0aGUgXCJ0cmFuc3BpbGVcIiBtZXRob2QuICRnd3RFeHBvcnQ6ICcgKyBKU09OLnN0cmluZ2lmeShnb29nLmdsb2JhbC4kZ3d0RXhwb3J0KSk7XG4gICAgICB9XG4gICAgICBnb29nLmdsb2JhbC4kanNjb21wLnRyYW5zcGlsZSA9IGdvb2cuZ2xvYmFsLiRnd3RFeHBvcnQuJGpzY29tcC50cmFuc3BpbGU7XG4gICAgICBqc2NvbXAgPSBnb29nLmdsb2JhbC4kanNjb21wO1xuICAgICAgdHJhbnNwaWxlID0ganNjb21wLnRyYW5zcGlsZTtcbiAgICB9XG4gIH1cbiAgaWYgKCF0cmFuc3BpbGUpIHtcbiAgICB2YXIgc3VmZml4ID0gXCIgcmVxdWlyZXMgdHJhbnNwaWxhdGlvbiBidXQgbm8gdHJhbnNwaWxlciB3YXMgZm91bmQuXCI7XG4gICAgc3VmZml4ICs9ICcgUGxlYXNlIGFkZCBcIi8vamF2YXNjcmlwdC9jbG9zdXJlOnRyYW5zcGlsZXJcIiBhcyBhIGRhdGEgZGVwZW5kZW5jeSB0byBlbnN1cmUgaXQgaXMgaW5jbHVkZWQuJztcbiAgICB0cmFuc3BpbGUgPSBqc2NvbXAudHJhbnNwaWxlID0gZnVuY3Rpb24oY29kZSwgcGF0aCkge1xuICAgICAgZ29vZy5sb2dUb0NvbnNvbGVfKHBhdGggKyBzdWZmaXgpO1xuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdHJhbnNwaWxlKGNvZGUkanNjb21wJDAsIHBhdGgkanNjb21wJDAsIHRhcmdldCk7XG59O1xuZ29vZy50eXBlT2YgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgcyA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIFwib2JqZWN0XCIgIT0gcyA/IHMgOiB2YWx1ZSA/IEFycmF5LmlzQXJyYXkodmFsdWUpID8gXCJhcnJheVwiIDogcyA6IFwibnVsbFwiO1xufTtcbmdvb2cuaXNBcnJheUxpa2UgPSBmdW5jdGlvbih2YWwpIHtcbiAgdmFyIHR5cGUgPSBnb29nLnR5cGVPZih2YWwpO1xuICByZXR1cm4gXCJhcnJheVwiID09IHR5cGUgfHwgXCJvYmplY3RcIiA9PSB0eXBlICYmIFwibnVtYmVyXCIgPT0gdHlwZW9mIHZhbC5sZW5ndGg7XG59O1xuZ29vZy5pc0RhdGVMaWtlID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBnb29nLmlzT2JqZWN0KHZhbCkgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiB2YWwuZ2V0RnVsbFllYXI7XG59O1xuZ29vZy5pc09iamVjdCA9IGZ1bmN0aW9uKHZhbCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIHJldHVybiBcIm9iamVjdFwiID09IHR5cGUgJiYgbnVsbCAhPSB2YWwgfHwgXCJmdW5jdGlvblwiID09IHR5cGU7XG59O1xuZ29vZy5nZXRVaWQgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGdvb2cuVUlEX1BST1BFUlRZXykgJiYgb2JqW2dvb2cuVUlEX1BST1BFUlRZX10gfHwgKG9ialtnb29nLlVJRF9QUk9QRVJUWV9dID0gKytnb29nLnVpZENvdW50ZXJfKTtcbn07XG5nb29nLmhhc1VpZCA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gISFvYmpbZ29vZy5VSURfUFJPUEVSVFlfXTtcbn07XG5nb29nLnJlbW92ZVVpZCA9IGZ1bmN0aW9uKG9iaikge1xuICBudWxsICE9PSBvYmogJiYgXCJyZW1vdmVBdHRyaWJ1dGVcIiBpbiBvYmogJiYgb2JqLnJlbW92ZUF0dHJpYnV0ZShnb29nLlVJRF9QUk9QRVJUWV8pO1xuICB0cnkge1xuICAgIGRlbGV0ZSBvYmpbZ29vZy5VSURfUFJPUEVSVFlfXTtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgfVxufTtcbmdvb2cuVUlEX1BST1BFUlRZXyA9IFwiY2xvc3VyZV91aWRfXCIgKyAoMWU5ICogTWF0aC5yYW5kb20oKSA+Pj4gMCk7XG5nb29nLnVpZENvdW50ZXJfID0gMDtcbmdvb2cuY2xvbmVPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgdmFyIHR5cGUgPSBnb29nLnR5cGVPZihvYmopO1xuICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlIHx8IFwiYXJyYXlcIiA9PSB0eXBlKSB7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9iai5jbG9uZSkge1xuICAgICAgcmV0dXJuIG9iai5jbG9uZSgpO1xuICAgIH1cbiAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIE1hcCAmJiBvYmogaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgIHJldHVybiBuZXcgTWFwKG9iaik7XG4gICAgfVxuICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgU2V0ICYmIG9iaiBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgcmV0dXJuIG5ldyBTZXQob2JqKTtcbiAgICB9XG4gICAgdmFyIGNsb25lID0gXCJhcnJheVwiID09IHR5cGUgPyBbXSA6IHt9LCBrZXk7XG4gICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICBjbG9uZVtrZXldID0gZ29vZy5jbG9uZU9iamVjdChvYmpba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufTtcbmdvb2cuYmluZE5hdGl2ZV8gPSBmdW5jdGlvbihmbiwgc2VsZk9iaiwgdmFyX2FyZ3MpIHtcbiAgcmV0dXJuIGZuLmNhbGwuYXBwbHkoZm4uYmluZCwgYXJndW1lbnRzKTtcbn07XG5nb29nLmJpbmRKc18gPSBmdW5jdGlvbihmbiwgc2VsZk9iaiwgdmFyX2FyZ3MpIHtcbiAgaWYgKCFmbikge1xuICAgIHRocm93IEVycm9yKCk7XG4gIH1cbiAgaWYgKDIgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgdmFyIGJvdW5kQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5ld0FyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkobmV3QXJncywgYm91bmRBcmdzKTtcbiAgICAgIHJldHVybiBmbi5hcHBseShzZWxmT2JqLCBuZXdBcmdzKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkoc2VsZk9iaiwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG5nb29nLmJpbmQgPSBmdW5jdGlvbihmbiwgc2VsZk9iaiwgdmFyX2FyZ3MpIHtcbiAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgJiYgLTEgIT0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKFwibmF0aXZlIGNvZGVcIikgPyBnb29nLmJpbmQgPSBnb29nLmJpbmROYXRpdmVfIDogZ29vZy5iaW5kID0gZ29vZy5iaW5kSnNfO1xuICByZXR1cm4gZ29vZy5iaW5kLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuZ29vZy5wYXJ0aWFsID0gZnVuY3Rpb24oZm4sIHZhcl9hcmdzKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdBcmdzID0gYXJncy5zbGljZSgpO1xuICAgIG5ld0FyZ3MucHVzaC5hcHBseShuZXdBcmdzLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBuZXdBcmdzKTtcbiAgfTtcbn07XG5nb29nLm1peGluID0gZnVuY3Rpb24odGFyZ2V0LCBzb3VyY2UpIHtcbiAgZm9yICh2YXIgeCBpbiBzb3VyY2UpIHtcbiAgICB0YXJnZXRbeF0gPSBzb3VyY2VbeF07XG4gIH1cbn07XG5nb29nLm5vdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gRGF0ZS5ub3coKTtcbn07XG5nb29nLmdsb2JhbEV2YWwgPSBmdW5jdGlvbihzY3JpcHQpIHtcbiAgKDAsZXZhbCkoc2NyaXB0KTtcbn07XG5nb29nLmdldENzc05hbWUgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9wdF9tb2RpZmllcikge1xuICBpZiAoXCIuXCIgPT0gU3RyaW5nKGNsYXNzTmFtZSkuY2hhckF0KDApKSB7XG4gICAgdGhyb3cgRXJyb3IoJ2NsYXNzTmFtZSBwYXNzZWQgaW4gZ29vZy5nZXRDc3NOYW1lIG11c3Qgbm90IHN0YXJ0IHdpdGggXCIuXCIuIFlvdSBwYXNzZWQ6ICcgKyBjbGFzc05hbWUpO1xuICB9XG4gIHZhciBnZXRNYXBwaW5nID0gZnVuY3Rpb24oY3NzTmFtZSkge1xuICAgIHJldHVybiBnb29nLmNzc05hbWVNYXBwaW5nX1tjc3NOYW1lXSB8fCBjc3NOYW1lO1xuICB9LCByZW5hbWVCeVBhcnRzID0gZnVuY3Rpb24oY3NzTmFtZSkge1xuICAgIGZvciAodmFyIHBhcnRzID0gY3NzTmFtZS5zcGxpdChcIi1cIiksIG1hcHBlZCA9IFtdLCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBtYXBwZWQucHVzaChnZXRNYXBwaW5nKHBhcnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBtYXBwZWQuam9pbihcIi1cIik7XG4gIH07XG4gIHZhciByZW5hbWUgPSBnb29nLmNzc05hbWVNYXBwaW5nXyA/IFwiQllfV0hPTEVcIiA9PSBnb29nLmNzc05hbWVNYXBwaW5nU3R5bGVfID8gZ2V0TWFwcGluZyA6IHJlbmFtZUJ5UGFydHMgOiBmdW5jdGlvbihhKSB7XG4gICAgcmV0dXJuIGE7XG4gIH07XG4gIHZhciByZXN1bHQgPSBvcHRfbW9kaWZpZXIgPyBjbGFzc05hbWUgKyBcIi1cIiArIHJlbmFtZShvcHRfbW9kaWZpZXIpIDogcmVuYW1lKGNsYXNzTmFtZSk7XG4gIHJldHVybiBnb29nLmdsb2JhbC5DTE9TVVJFX0NTU19OQU1FX01BUF9GTiA/IGdvb2cuZ2xvYmFsLkNMT1NVUkVfQ1NTX05BTUVfTUFQX0ZOKHJlc3VsdCkgOiByZXN1bHQ7XG59O1xuZ29vZy5zZXRDc3NOYW1lTWFwcGluZyA9IGZ1bmN0aW9uKG1hcHBpbmcsIG9wdF9zdHlsZSkge1xuICBnb29nLmNzc05hbWVNYXBwaW5nXyA9IG1hcHBpbmc7XG4gIGdvb2cuY3NzTmFtZU1hcHBpbmdTdHlsZV8gPSBvcHRfc3R5bGU7XG59O1xuZ29vZy5nZXRNc2cgPSBmdW5jdGlvbihzdHIsIG9wdF92YWx1ZXMsIG9wdF9vcHRpb25zKSB7XG4gIG9wdF9vcHRpb25zICYmIG9wdF9vcHRpb25zLmh0bWwgJiYgKHN0ciA9IHN0ci5yZXBsYWNlKC88L2csIFwiJmx0O1wiKSk7XG4gIG9wdF9vcHRpb25zICYmIG9wdF9vcHRpb25zLnVuZXNjYXBlSHRtbEVudGl0aWVzICYmIChzdHIgPSBzdHIucmVwbGFjZSgvJmx0Oy9nLCBcIjxcIikucmVwbGFjZSgvJmd0Oy9nLCBcIj5cIikucmVwbGFjZSgvJmFwb3M7L2csIFwiJ1wiKS5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJykucmVwbGFjZSgvJmFtcDsvZywgXCImXCIpKTtcbiAgb3B0X3ZhbHVlcyAmJiAoc3RyID0gc3RyLnJlcGxhY2UoL1xce1xcJChbXn1dKyl9L2csIGZ1bmN0aW9uKG1hdGNoLCBrZXkpIHtcbiAgICByZXR1cm4gbnVsbCAhPSBvcHRfdmFsdWVzICYmIGtleSBpbiBvcHRfdmFsdWVzID8gb3B0X3ZhbHVlc1trZXldIDogbWF0Y2g7XG4gIH0pKTtcbiAgcmV0dXJuIHN0cjtcbn07XG5nb29nLmdldE1zZ1dpdGhGYWxsYmFjayA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGE7XG59O1xuZ29vZy5leHBvcnRTeW1ib2wgPSBmdW5jdGlvbihwdWJsaWNQYXRoLCBvYmplY3QsIG9iamVjdFRvRXhwb3J0VG8pIHtcbiAgZ29vZy5leHBvcnRQYXRoXyhwdWJsaWNQYXRoLCBvYmplY3QsICEwLCBvYmplY3RUb0V4cG9ydFRvKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5ID0gZnVuY3Rpb24ob2JqZWN0LCBwdWJsaWNOYW1lLCBzeW1ib2wpIHtcbiAgb2JqZWN0W3B1YmxpY05hbWVdID0gc3ltYm9sO1xufTtcbmdvb2cuaW5oZXJpdHMgPSBmdW5jdGlvbihjaGlsZEN0b3IsIHBhcmVudEN0b3IpIHtcbiAgZnVuY3Rpb24gdGVtcEN0b3IoKSB7XG4gIH1cbiAgdGVtcEN0b3IucHJvdG90eXBlID0gcGFyZW50Q3Rvci5wcm90b3R5cGU7XG4gIGNoaWxkQ3Rvci5zdXBlckNsYXNzXyA9IHBhcmVudEN0b3IucHJvdG90eXBlO1xuICBjaGlsZEN0b3IucHJvdG90eXBlID0gbmV3IHRlbXBDdG9yKCk7XG4gIGNoaWxkQ3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjaGlsZEN0b3I7XG4gIGNoaWxkQ3Rvci5iYXNlID0gZnVuY3Rpb24obWUsIG1ldGhvZE5hbWUsIHZhcl9hcmdzKSB7XG4gICAgZm9yICh2YXIgYXJncyA9IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAyKSwgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDJdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGFyZW50Q3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0uYXBwbHkobWUsIGFyZ3MpO1xuICB9O1xufTtcbmdvb2cuc2NvcGUgPSBmdW5jdGlvbihmbikge1xuICBpZiAoZ29vZy5pc0luTW9kdWxlTG9hZGVyXygpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJnb29nLnNjb3BlIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aGluIGEgbW9kdWxlLlwiKTtcbiAgfVxuICBmbi5jYWxsKGdvb2cuZ2xvYmFsKTtcbn07XG5nb29nLmRlZmluZUNsYXNzID0gZnVuY3Rpb24oc3VwZXJDbGFzcywgZGVmKSB7XG4gIHZhciBjb25zdHJ1Y3RvciA9IGRlZi5jb25zdHJ1Y3Rvciwgc3RhdGljcyA9IGRlZi5zdGF0aWNzO1xuICBjb25zdHJ1Y3RvciAmJiBjb25zdHJ1Y3RvciAhPSBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yIHx8IChjb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IEVycm9yKFwiY2Fubm90IGluc3RhbnRpYXRlIGFuIGludGVyZmFjZSAobm8gY29uc3RydWN0b3IgZGVmaW5lZCkuXCIpO1xuICB9KTtcbiAgdmFyIGNscyA9IGdvb2cuZGVmaW5lQ2xhc3MuY3JlYXRlU2VhbGluZ0NvbnN0cnVjdG9yXyhjb25zdHJ1Y3Rvciwgc3VwZXJDbGFzcyk7XG4gIHN1cGVyQ2xhc3MgJiYgZ29vZy5pbmhlcml0cyhjbHMsIHN1cGVyQ2xhc3MpO1xuICBkZWxldGUgZGVmLmNvbnN0cnVjdG9yO1xuICBkZWxldGUgZGVmLnN0YXRpY3M7XG4gIGdvb2cuZGVmaW5lQ2xhc3MuYXBwbHlQcm9wZXJ0aWVzXyhjbHMucHJvdG90eXBlLCBkZWYpO1xuICBudWxsICE9IHN0YXRpY3MgJiYgKHN0YXRpY3MgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IHN0YXRpY3MoY2xzKSA6IGdvb2cuZGVmaW5lQ2xhc3MuYXBwbHlQcm9wZXJ0aWVzXyhjbHMsIHN0YXRpY3MpKTtcbiAgcmV0dXJuIGNscztcbn07XG5nb29nLmRlZmluZUNsYXNzLlNFQUxfQ0xBU1NfSU5TVEFOQ0VTID0gZ29vZy5ERUJVRztcbmdvb2cuZGVmaW5lQ2xhc3MuY3JlYXRlU2VhbGluZ0NvbnN0cnVjdG9yXyA9IGZ1bmN0aW9uKGN0ciwgc3VwZXJDbGFzcykge1xuICByZXR1cm4gZ29vZy5kZWZpbmVDbGFzcy5TRUFMX0NMQVNTX0lOU1RBTkNFUyA/IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnN0YW5jZSA9IGN0ci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgaW5zdGFuY2VbZ29vZy5VSURfUFJPUEVSVFlfXSA9IGluc3RhbmNlW2dvb2cuVUlEX1BST1BFUlRZX107XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9IDogY3RyO1xufTtcbmdvb2cuZGVmaW5lQ2xhc3MuT0JKRUNUX1BST1RPVFlQRV9GSUVMRFNfID0gXCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIik7XG5nb29nLmRlZmluZUNsYXNzLmFwcGx5UHJvcGVydGllc18gPSBmdW5jdGlvbih0YXJnZXQsIHNvdXJjZSkge1xuICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSAmJiAodGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XSk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBnb29nLmRlZmluZUNsYXNzLk9CSkVDVF9QUk9UT1RZUEVfRklFTERTXy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IGdvb2cuZGVmaW5lQ2xhc3MuT0JKRUNUX1BST1RPVFlQRV9GSUVMRFNfW2ldLCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpICYmICh0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldKTtcbiAgfVxufTtcbmdvb2cuaWRlbnRpdHlfID0gZnVuY3Rpb24ocykge1xuICByZXR1cm4gcztcbn07XG5nb29nLmNyZWF0ZVRydXN0ZWRUeXBlc1BvbGljeSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIHBvbGljeSA9IG51bGwsIHBvbGljeUZhY3RvcnkgPSBnb29nLmdsb2JhbC50cnVzdGVkVHlwZXM7XG4gIGlmICghcG9saWN5RmFjdG9yeSB8fCAhcG9saWN5RmFjdG9yeS5jcmVhdGVQb2xpY3kpIHtcbiAgICByZXR1cm4gcG9saWN5O1xuICB9XG4gIHRyeSB7XG4gICAgcG9saWN5ID0gcG9saWN5RmFjdG9yeS5jcmVhdGVQb2xpY3kobmFtZSwge2NyZWF0ZUhUTUw6Z29vZy5pZGVudGl0eV8sIGNyZWF0ZVNjcmlwdDpnb29nLmlkZW50aXR5XywgY3JlYXRlU2NyaXB0VVJMOmdvb2cuaWRlbnRpdHlffSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBnb29nLmxvZ1RvQ29uc29sZV8oZS5tZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gcG9saWN5O1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZShvYmopIHtcbiAgb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygb2JqLmRpc3Bvc2UgJiYgb2JqLmRpc3Bvc2UoKTtcbn1cbmdvb2cuZGlzcG9zZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VBbGxfZGlzcG9zZUFsbCh2YXJfYXJncykge1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIGRpc3Bvc2FibGUgPSBhcmd1bWVudHNbaV07XG4gICAgZ29vZy5pc0FycmF5TGlrZShkaXNwb3NhYmxlKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VBbGxfZGlzcG9zZUFsbC5hcHBseShudWxsLCBkaXNwb3NhYmxlKSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZShkaXNwb3NhYmxlKTtcbiAgfVxufVxuZ29vZy5kaXNwb3NlQWxsID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZUFsbF9kaXNwb3NlQWxsO1xuZ29vZy5kaXNwb3NhYmxlID0ge307XG5nb29nLmRpc3Bvc2FibGUuSURpc3Bvc2FibGUgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLkRpc3Bvc2FibGUgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5EaXNwb3NhYmxlLk1PTklUT1JJTkdfTU9ERSAhPSBnb29nLkRpc3Bvc2FibGUuTW9uaXRvcmluZ01vZGUuT0ZGICYmIChnb29nLkRpc3Bvc2FibGUuSU5DTFVERV9TVEFDS19PTl9DUkVBVElPTiAmJiAodGhpcy5jcmVhdGlvblN0YWNrID0gRXJyb3IoKS5zdGFjayksIGdvb2cuRGlzcG9zYWJsZS5pbnN0YW5jZXNfW2dvb2cuZ2V0VWlkKHRoaXMpXSA9IHRoaXMpO1xuICB0aGlzLmRpc3Bvc2VkXyA9IHRoaXMuZGlzcG9zZWRfO1xuICB0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc18gPSB0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc187XG59O1xuZ29vZy5EaXNwb3NhYmxlLk1vbml0b3JpbmdNb2RlID0ge09GRjowLCBQRVJNQU5FTlQ6MSwgSU5URVJBQ1RJVkU6Mn07XG5nb29nLkRpc3Bvc2FibGUuTU9OSVRPUklOR19NT0RFID0gMDtcbmdvb2cuRGlzcG9zYWJsZS5JTkNMVURFX1NUQUNLX09OX0NSRUFUSU9OID0gITA7XG5nb29nLkRpc3Bvc2FibGUuaW5zdGFuY2VzXyA9IHt9O1xuZ29vZy5EaXNwb3NhYmxlLmdldFVuZGlzcG9zZWRPYmplY3RzID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXQgPSBbXSwgaWQ7XG4gIGZvciAoaWQgaW4gZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc18pIHtcbiAgICBnb29nLkRpc3Bvc2FibGUuaW5zdGFuY2VzXy5oYXNPd25Qcm9wZXJ0eShpZCkgJiYgcmV0LnB1c2goZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc19bTnVtYmVyKGlkKV0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuZ29vZy5EaXNwb3NhYmxlLmNsZWFyVW5kaXNwb3NlZE9iamVjdHMgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc18gPSB7fTtcbn07XG5nb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmRpc3Bvc2VkXyA9ICExO1xuZ29vZy5EaXNwb3NhYmxlLnByb3RvdHlwZS5pc0Rpc3Bvc2VkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmRpc3Bvc2VkXztcbn07XG5nb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmdldERpc3Bvc2VkID0gZ29vZy5EaXNwb3NhYmxlLnByb3RvdHlwZS5pc0Rpc3Bvc2VkO1xuZ29vZy5EaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5kaXNwb3NlZF8gJiYgKHRoaXMuZGlzcG9zZWRfID0gITAsIHRoaXMuZGlzcG9zZUludGVybmFsKCksIGdvb2cuRGlzcG9zYWJsZS5NT05JVE9SSU5HX01PREUgIT0gZ29vZy5EaXNwb3NhYmxlLk1vbml0b3JpbmdNb2RlLk9GRikpIHtcbiAgICB2YXIgdWlkID0gZ29vZy5nZXRVaWQodGhpcyk7XG4gICAgaWYgKGdvb2cuRGlzcG9zYWJsZS5NT05JVE9SSU5HX01PREUgPT0gZ29vZy5EaXNwb3NhYmxlLk1vbml0b3JpbmdNb2RlLlBFUk1BTkVOVCAmJiAhZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc18uaGFzT3duUHJvcGVydHkodWlkKSkge1xuICAgICAgdGhyb3cgRXJyb3IodGhpcyArIFwiIGRpZCBub3QgY2FsbCB0aGUgZ29vZy5EaXNwb3NhYmxlIGJhc2UgY29uc3RydWN0b3Igb3Igd2FzIGRpc3Bvc2VkIG9mIGFmdGVyIGEgY2xlYXJVbmRpc3Bvc2VkT2JqZWN0cyBjYWxsXCIpO1xuICAgIH1cbiAgICBpZiAoZ29vZy5EaXNwb3NhYmxlLk1PTklUT1JJTkdfTU9ERSAhPSBnb29nLkRpc3Bvc2FibGUuTW9uaXRvcmluZ01vZGUuT0ZGICYmIHRoaXMub25EaXNwb3NlQ2FsbGJhY2tzXyAmJiAwIDwgdGhpcy5vbkRpc3Bvc2VDYWxsYmFja3NfLmxlbmd0aCkge1xuICAgICAgdGhyb3cgRXJyb3IodGhpcyArIFwiIGRpZCBub3QgZW1wdHkgaXRzIG9uRGlzcG9zZUNhbGxiYWNrcyBxdWV1ZS4gVGhpcyBwcm9iYWJseSBtZWFucyBpdCBvdmVycm9kZSBkaXNwb3NlKCkgb3IgZGlzcG9zZUludGVybmFsKCkgd2l0aG91dCBjYWxsaW5nIHRoZSBzdXBlcmNsYXNzJyBtZXRob2QuXCIpO1xuICAgIH1cbiAgICBkZWxldGUgZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc19bdWlkXTtcbiAgfVxufTtcbmdvb2cuRGlzcG9zYWJsZS5wcm90b3R5cGUucmVnaXN0ZXJEaXNwb3NhYmxlID0gZnVuY3Rpb24oZGlzcG9zYWJsZSkge1xuICB0aGlzLmFkZE9uRGlzcG9zZUNhbGxiYWNrKGdvb2cucGFydGlhbChtb2R1bGUkY29udGVudHMkZ29vZyRkaXNwb3NlX2Rpc3Bvc2UsIGRpc3Bvc2FibGUpKTtcbn07XG5nb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmFkZE9uRGlzcG9zZUNhbGxiYWNrID0gZnVuY3Rpb24oY2FsbGJhY2ssIG9wdF9zY29wZSkge1xuICB0aGlzLmRpc3Bvc2VkXyA/IHZvaWQgMCAhPT0gb3B0X3Njb3BlID8gY2FsbGJhY2suY2FsbChvcHRfc2NvcGUpIDogY2FsbGJhY2soKSA6ICh0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc18gfHwgKHRoaXMub25EaXNwb3NlQ2FsbGJhY2tzXyA9IFtdKSwgdGhpcy5vbkRpc3Bvc2VDYWxsYmFja3NfLnB1c2godm9pZCAwICE9PSBvcHRfc2NvcGUgPyBnb29nLmJpbmQoY2FsbGJhY2ssIG9wdF9zY29wZSkgOiBjYWxsYmFjaykpO1xufTtcbmdvb2cuRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc18pIHtcbiAgICBmb3IgKDsgdGhpcy5vbkRpc3Bvc2VDYWxsYmFja3NfLmxlbmd0aDspIHtcbiAgICAgIHRoaXMub25EaXNwb3NlQ2FsbGJhY2tzXy5zaGlmdCgpKCk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5EaXNwb3NhYmxlLmlzRGlzcG9zZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG9iai5pc0Rpc3Bvc2VkID8gb2JqLmlzRGlzcG9zZWQoKSA6ICExO1xufTtcbmdvb2cuZXZlbnRzID0ge307XG5nb29nLmV2ZW50cy5FdmVudElkID0gZnVuY3Rpb24oZXZlbnRJZCkge1xuICB0aGlzLmlkID0gZXZlbnRJZDtcbn07XG5nb29nLmV2ZW50cy5FdmVudElkLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pZDtcbn07XG5nb29nLmV2ZW50cy5FdmVudCA9IGZ1bmN0aW9uKHR5cGUsIG9wdF90YXJnZXQpIHtcbiAgdGhpcy50eXBlID0gdHlwZSBpbnN0YW5jZW9mIGdvb2cuZXZlbnRzLkV2ZW50SWQgPyBTdHJpbmcodHlwZSkgOiB0eXBlO1xuICB0aGlzLmN1cnJlbnRUYXJnZXQgPSB0aGlzLnRhcmdldCA9IG9wdF90YXJnZXQ7XG4gIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkXyA9ICExO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50LnByb3RvdHlwZS5oYXNQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkXztcbn07XG5nb29nLmV2ZW50cy5FdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkXyA9ICEwO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSAhMDtcbn07XG5nb29nLmV2ZW50cy5FdmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbihlKSB7XG4gIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnQucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbihlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn07XG5nb29nLmRlYnVnID0ge307XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yKG1zZywgY2F1c2UpIHtcbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvcik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHN0YWNrID0gRXJyb3IoKS5zdGFjaztcbiAgICBzdGFjayAmJiAodGhpcy5zdGFjayA9IHN0YWNrKTtcbiAgfVxuICBtc2cgJiYgKHRoaXMubWVzc2FnZSA9IFN0cmluZyhtc2cpKTtcbiAgdm9pZCAwICE9PSBjYXVzZSAmJiAodGhpcy5jYXVzZSA9IGNhdXNlKTtcbiAgdGhpcy5yZXBvcnRFcnJvclRvU2VydmVyID0gITA7XG59XG5nb29nLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IsIEVycm9yKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IucHJvdG90eXBlLm5hbWUgPSBcIkN1c3RvbUVycm9yXCI7XG5nb29nLmRlYnVnLkVycm9yID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvcjtcbmdvb2cuZG9tID0ge307XG5nb29nLmRvbS5Ob2RlVHlwZSA9IHtFTEVNRU5UOjEsIEFUVFJJQlVURToyLCBURVhUOjMsIENEQVRBX1NFQ1RJT046NCwgRU5USVRZX1JFRkVSRU5DRTo1LCBFTlRJVFk6NiwgUFJPQ0VTU0lOR19JTlNUUlVDVElPTjo3LCBDT01NRU5UOjgsIERPQ1VNRU5UOjksIERPQ1VNRU5UX1RZUEU6MTAsIERPQ1VNRU5UX0ZSQUdNRU5UOjExLCBOT1RBVElPTjoxMn07XG5nb29nLmFzc2VydHMgPSB7fTtcbmdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyA9IGdvb2cuREVCVUc7XG5nb29nLmFzc2VydHMuQXNzZXJ0aW9uRXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlUGF0dGVybiwgbWVzc2FnZUFyZ3MpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvci5jYWxsKHRoaXMsIGdvb2cuYXNzZXJ0cy5zdWJzXyhtZXNzYWdlUGF0dGVybiwgbWVzc2FnZUFyZ3MpKTtcbiAgdGhpcy5tZXNzYWdlUGF0dGVybiA9IG1lc3NhZ2VQYXR0ZXJuO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5hc3NlcnRzLkFzc2VydGlvbkVycm9yLCBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yKTtcbmdvb2cuYXNzZXJ0cy5Bc3NlcnRpb25FcnJvci5wcm90b3R5cGUubmFtZSA9IFwiQXNzZXJ0aW9uRXJyb3JcIjtcbmdvb2cuYXNzZXJ0cy5ERUZBVUxUX0VSUk9SX0hBTkRMRVIgPSBmdW5jdGlvbihlKSB7XG4gIHRocm93IGU7XG59O1xuZ29vZy5hc3NlcnRzLmVycm9ySGFuZGxlcl8gPSBnb29nLmFzc2VydHMuREVGQVVMVF9FUlJPUl9IQU5ETEVSO1xuZ29vZy5hc3NlcnRzLnN1YnNfID0gZnVuY3Rpb24ocGF0dGVybiwgc3Vicykge1xuICBmb3IgKHZhciBzcGxpdFBhcnRzID0gcGF0dGVybi5zcGxpdChcIiVzXCIpLCByZXR1cm5TdHJpbmcgPSBcIlwiLCBzdWJMYXN0ID0gc3BsaXRQYXJ0cy5sZW5ndGggLSAxLCBpID0gMDsgaSA8IHN1Ykxhc3Q7IGkrKykge1xuICAgIHJldHVyblN0cmluZyArPSBzcGxpdFBhcnRzW2ldICsgKGkgPCBzdWJzLmxlbmd0aCA/IHN1YnNbaV0gOiBcIiVzXCIpO1xuICB9XG4gIHJldHVybiByZXR1cm5TdHJpbmcgKyBzcGxpdFBhcnRzW3N1Ykxhc3RdO1xufTtcbmdvb2cuYXNzZXJ0cy5kb0Fzc2VydEZhaWx1cmVfID0gZnVuY3Rpb24oZGVmYXVsdE1lc3NhZ2UsIGRlZmF1bHRBcmdzLCBnaXZlbk1lc3NhZ2UsIGdpdmVuQXJncykge1xuICB2YXIgbWVzc2FnZSA9IFwiQXNzZXJ0aW9uIGZhaWxlZFwiO1xuICBpZiAoZ2l2ZW5NZXNzYWdlKSB7XG4gICAgbWVzc2FnZSArPSBcIjogXCIgKyBnaXZlbk1lc3NhZ2U7XG4gICAgdmFyIGFyZ3MgPSBnaXZlbkFyZ3M7XG4gIH0gZWxzZSB7XG4gICAgZGVmYXVsdE1lc3NhZ2UgJiYgKG1lc3NhZ2UgKz0gXCI6IFwiICsgZGVmYXVsdE1lc3NhZ2UsIGFyZ3MgPSBkZWZhdWx0QXJncyk7XG4gIH1cbiAgdmFyIGUgPSBuZXcgZ29vZy5hc3NlcnRzLkFzc2VydGlvbkVycm9yKFwiXCIgKyBtZXNzYWdlLCBhcmdzIHx8IFtdKTtcbiAgZ29vZy5hc3NlcnRzLmVycm9ySGFuZGxlcl8oZSk7XG59O1xuZ29vZy5hc3NlcnRzLnNldEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uKGVycm9ySGFuZGxlcikge1xuICBnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgKGdvb2cuYXNzZXJ0cy5lcnJvckhhbmRsZXJfID0gZXJyb3JIYW5kbGVyKTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTICYmICFjb25kaXRpb24gJiYgZ29vZy5hc3NlcnRzLmRvQXNzZXJ0RmFpbHVyZV8oXCJcIiwgbnVsbCwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gY29uZGl0aW9uO1xufTtcbmdvb2cuYXNzZXJ0cy5hc3NlcnRFeGlzdHMgPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBudWxsID09IHZhbHVlICYmIGdvb2cuYXNzZXJ0cy5kb0Fzc2VydEZhaWx1cmVfKFwiRXhwZWN0ZWQgdG8gZXhpc3Q6ICVzLlwiLCBbdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuZmFpbCA9IGZ1bmN0aW9uKG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICBnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgZ29vZy5hc3NlcnRzLmVycm9ySGFuZGxlcl8obmV3IGdvb2cuYXNzZXJ0cy5Bc3NlcnRpb25FcnJvcihcIkZhaWx1cmVcIiArIChvcHRfbWVzc2FnZSA/IFwiOiBcIiArIG9wdF9tZXNzYWdlIDogXCJcIiksIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpKTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0TnVtYmVyID0gZnVuY3Rpb24odmFsdWUsIG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICBnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgXCJudW1iZXJcIiAhPT0gdHlwZW9mIHZhbHVlICYmIGdvb2cuYXNzZXJ0cy5kb0Fzc2VydEZhaWx1cmVfKFwiRXhwZWN0ZWQgbnVtYmVyIGJ1dCBnb3QgJXM6ICVzLlwiLCBbZ29vZy50eXBlT2YodmFsdWUpLCB2YWx1ZV0sIG9wdF9tZXNzYWdlLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmdvb2cuYXNzZXJ0cy5hc3NlcnRTdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBcInN0cmluZ1wiICE9PSB0eXBlb2YgdmFsdWUgJiYgZ29vZy5hc3NlcnRzLmRvQXNzZXJ0RmFpbHVyZV8oXCJFeHBlY3RlZCBzdHJpbmcgYnV0IGdvdCAlczogJXMuXCIsIFtnb29nLnR5cGVPZih2YWx1ZSksIHZhbHVlXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydEZ1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUsIG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICBnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiYgZ29vZy5hc3NlcnRzLmRvQXNzZXJ0RmFpbHVyZV8oXCJFeHBlY3RlZCBmdW5jdGlvbiBidXQgZ290ICVzOiAlcy5cIiwgW2dvb2cudHlwZU9mKHZhbHVlKSwgdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0T2JqZWN0ID0gZnVuY3Rpb24odmFsdWUsIG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICBnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgIWdvb2cuaXNPYmplY3QodmFsdWUpICYmIGdvb2cuYXNzZXJ0cy5kb0Fzc2VydEZhaWx1cmVfKFwiRXhwZWN0ZWQgb2JqZWN0IGJ1dCBnb3QgJXM6ICVzLlwiLCBbZ29vZy50eXBlT2YodmFsdWUpLCB2YWx1ZV0sIG9wdF9tZXNzYWdlLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmdvb2cuYXNzZXJ0cy5hc3NlcnRBcnJheSA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiBnb29nLmFzc2VydHMuZG9Bc3NlcnRGYWlsdXJlXyhcIkV4cGVjdGVkIGFycmF5IGJ1dCBnb3QgJXM6ICVzLlwiLCBbZ29vZy50eXBlT2YodmFsdWUpLCB2YWx1ZV0sIG9wdF9tZXNzYWdlLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmdvb2cuYXNzZXJ0cy5hc3NlcnRCb29sZWFuID0gZnVuY3Rpb24odmFsdWUsIG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICBnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgXCJib29sZWFuXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBnb29nLmFzc2VydHMuZG9Bc3NlcnRGYWlsdXJlXyhcIkV4cGVjdGVkIGJvb2xlYW4gYnV0IGdvdCAlczogJXMuXCIsIFtnb29nLnR5cGVPZih2YWx1ZSksIHZhbHVlXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydEVsZW1lbnQgPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gICFnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgfHwgZ29vZy5pc09iamVjdCh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuRUxFTUVOVCB8fCBnb29nLmFzc2VydHMuZG9Bc3NlcnRGYWlsdXJlXyhcIkV4cGVjdGVkIEVsZW1lbnQgYnV0IGdvdCAlczogJXMuXCIsIFtnb29nLnR5cGVPZih2YWx1ZSksIHZhbHVlXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydEluc3RhbmNlb2YgPSBmdW5jdGlvbih2YWx1ZSwgdHlwZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gICFnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgfHwgdmFsdWUgaW5zdGFuY2VvZiB0eXBlIHx8IGdvb2cuYXNzZXJ0cy5kb0Fzc2VydEZhaWx1cmVfKFwiRXhwZWN0ZWQgaW5zdGFuY2VvZiAlcyBidXQgZ290ICVzLlwiLCBbZ29vZy5hc3NlcnRzLmdldFR5cGVfKHR5cGUpLCBnb29nLmFzc2VydHMuZ2V0VHlwZV8odmFsdWUpXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMykpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydEZpbml0ZSA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgIWdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyB8fCBcIm51bWJlclwiID09IHR5cGVvZiB2YWx1ZSAmJiBpc0Zpbml0ZSh2YWx1ZSkgfHwgZ29vZy5hc3NlcnRzLmRvQXNzZXJ0RmFpbHVyZV8oXCJFeHBlY3RlZCAlcyB0byBiZSBhIGZpbml0ZSBudW1iZXIgYnV0IGl0IGlzIG5vdC5cIiwgW3ZhbHVlXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmdldFR5cGVfID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24gPyB2YWx1ZS5kaXNwbGF5TmFtZSB8fCB2YWx1ZS5uYW1lIHx8IFwidW5rbm93biB0eXBlIG5hbWVcIiA6IHZhbHVlIGluc3RhbmNlb2YgT2JqZWN0ID8gdmFsdWUuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpIDogbnVsbCA9PT0gdmFsdWUgPyBcIm51bGxcIiA6IHR5cGVvZiB2YWx1ZTtcbn07XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeSA9IHt9O1xuZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkuRW50cnlQb2ludE1vbml0b3IgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmRlYnVnLkVudHJ5UG9pbnRNb25pdG9yID0gZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkuRW50cnlQb2ludE1vbml0b3I7XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWZMaXN0XyA9IFtdO1xuZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkubW9uaXRvcnNfID0gW107XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5tb25pdG9yc01heUV4aXN0XyA9ICExO1xuZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkucmVnaXN0ZXIgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICBnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWZMaXN0X1tnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWZMaXN0Xy5sZW5ndGhdID0gY2FsbGJhY2s7XG4gIGlmIChnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5tb25pdG9yc01heUV4aXN0Xykge1xuICAgIGZvciAodmFyIG1vbml0b3JzID0gZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkubW9uaXRvcnNfLCBpID0gMDsgaSA8IG1vbml0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayhnb29nLmJpbmQobW9uaXRvcnNbaV0ud3JhcCwgbW9uaXRvcnNbaV0pKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5tb25pdG9yQWxsID0gZnVuY3Rpb24obW9uaXRvcikge1xuICBnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5tb25pdG9yc01heUV4aXN0XyA9ICEwO1xuICBmb3IgKHZhciB0cmFuc2Zvcm1lciA9IGdvb2cuYmluZChtb25pdG9yLndyYXAsIG1vbml0b3IpLCBpID0gMDsgaSA8IGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZkxpc3RfLmxlbmd0aDsgaSsrKSB7XG4gICAgZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkucmVmTGlzdF9baV0odHJhbnNmb3JtZXIpO1xuICB9XG4gIGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5Lm1vbml0b3JzXy5wdXNoKG1vbml0b3IpO1xufTtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnVubW9uaXRvckFsbElmUG9zc2libGUgPSBmdW5jdGlvbihtb25pdG9yKSB7XG4gIHZhciBtb25pdG9ycyA9IGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5Lm1vbml0b3JzXztcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChtb25pdG9yID09IG1vbml0b3JzW21vbml0b3JzLmxlbmd0aCAtIDFdLCBcIk9ubHkgdGhlIG1vc3QgcmVjZW50IG1vbml0b3IgY2FuIGJlIHVud3JhcHBlZC5cIik7XG4gIGZvciAodmFyIHRyYW5zZm9ybWVyID0gZ29vZy5iaW5kKG1vbml0b3IudW53cmFwLCBtb25pdG9yKSwgaSA9IDA7IGkgPCBnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWZMaXN0Xy5sZW5ndGg7IGkrKykge1xuICAgIGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZkxpc3RfW2ldKHRyYW5zZm9ybWVyKTtcbiAgfVxuICBtb25pdG9ycy5sZW5ndGgtLTtcbn07XG5nb29nLmFycmF5ID0ge307XG5nb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTID0gZ29vZy5UUlVTVEVEX1NJVEU7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlMgPSAyMDEyIDwgZ29vZy5GRUFUVVJFU0VUX1lFQVI7XG5nb29nLmFycmF5LkFTU1VNRV9OQVRJVkVfRlVOQ1RJT05TID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlM7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9wZWVrKGFycmF5KSB7XG4gIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbn1cbmdvb2cuYXJyYXkucGVlayA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3BlZWs7XG5nb29nLmFycmF5Lmxhc3QgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9wZWVrO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luZGV4T2YgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUuaW5kZXhPZikgPyBmdW5jdGlvbihhcnIsIG9iaiwgb3B0X2Zyb21JbmRleCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFyciwgb2JqLCBvcHRfZnJvbUluZGV4KTtcbn0gOiBmdW5jdGlvbihhcnIsIG9iaiwgb3B0X2Zyb21JbmRleCkge1xuICB2YXIgZnJvbUluZGV4ID0gbnVsbCA9PSBvcHRfZnJvbUluZGV4ID8gMCA6IDAgPiBvcHRfZnJvbUluZGV4ID8gTWF0aC5tYXgoMCwgYXJyLmxlbmd0aCArIG9wdF9mcm9tSW5kZXgpIDogb3B0X2Zyb21JbmRleDtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcnIpIHtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiAhPT0gdHlwZW9mIG9iaiB8fCAxICE9IG9iai5sZW5ndGggPyAtMSA6IGFyci5pbmRleE9mKG9iaiwgZnJvbUluZGV4KTtcbiAgfVxuICBmb3IgKHZhciBpID0gZnJvbUluZGV4OyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyICYmIGFycltpXSA9PT0gb2JqKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcbmdvb2cuYXJyYXkuaW5kZXhPZiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luZGV4T2Y7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbGFzdEluZGV4T2YgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YpID8gZnVuY3Rpb24oYXJyLCBvYmosIG9wdF9mcm9tSW5kZXgpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYXJyLCBvYmosIG51bGwgPT0gb3B0X2Zyb21JbmRleCA/IGFyci5sZW5ndGggLSAxIDogb3B0X2Zyb21JbmRleCk7XG59IDogZnVuY3Rpb24oYXJyLCBvYmosIG9wdF9mcm9tSW5kZXgpIHtcbiAgdmFyIGZyb21JbmRleCA9IG51bGwgPT0gb3B0X2Zyb21JbmRleCA/IGFyci5sZW5ndGggLSAxIDogb3B0X2Zyb21JbmRleDtcbiAgMCA+IGZyb21JbmRleCAmJiAoZnJvbUluZGV4ID0gTWF0aC5tYXgoMCwgYXJyLmxlbmd0aCArIGZyb21JbmRleCkpO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFycikge1xuICAgIHJldHVybiBcInN0cmluZ1wiICE9PSB0eXBlb2Ygb2JqIHx8IDEgIT0gb2JqLmxlbmd0aCA/IC0xIDogYXJyLmxhc3RJbmRleE9mKG9iaiwgZnJvbUluZGV4KTtcbiAgfVxuICBmb3IgKHZhciBpID0gZnJvbUluZGV4OyAwIDw9IGk7IGktLSkge1xuICAgIGlmIChpIGluIGFyciAmJiBhcnJbaV0gPT09IG9iaikge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn07XG5nb29nLmFycmF5Lmxhc3RJbmRleE9mID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbGFzdEluZGV4T2Y7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaCA9IGdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgJiYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TIHx8IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSA/IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYXJyLCBmLCBvcHRfb2JqKTtcbn0gOiBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgbCA9IGFyci5sZW5ndGgsIGFycjIgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLnNwbGl0KFwiXCIpIDogYXJyLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGkgaW4gYXJyMiAmJiBmLmNhbGwob3B0X29iaiwgYXJyMltpXSwgaSwgYXJyKTtcbiAgfVxufTtcbmdvb2cuYXJyYXkuZm9yRWFjaCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2g7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoUmlnaHQoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGwgPSBhcnIubGVuZ3RoLCBhcnIyID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5zcGxpdChcIlwiKSA6IGFyciwgaSA9IGwgLSAxOyAwIDw9IGk7IC0taSkge1xuICAgIGkgaW4gYXJyMiAmJiBmLmNhbGwob3B0X29iaiwgYXJyMltpXSwgaSwgYXJyKTtcbiAgfVxufVxuZ29vZy5hcnJheS5mb3JFYWNoUmlnaHQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoUmlnaHQ7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmlsdGVyID0gZ29vZy5OQVRJVkVfQVJSQVlfUFJPVE9UWVBFUyAmJiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlMgfHwgQXJyYXkucHJvdG90eXBlLmZpbHRlcikgPyBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFyciwgZiwgb3B0X29iaik7XG59IDogZnVuY3Rpb24oYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGwgPSBhcnIubGVuZ3RoLCByZXMgPSBbXSwgcmVzTGVuZ3RoID0gMCwgYXJyMiA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcnIgPyBhcnIuc3BsaXQoXCJcIikgOiBhcnIsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyMikge1xuICAgICAgdmFyIHZhbCA9IGFycjJbaV07XG4gICAgICBmLmNhbGwob3B0X29iaiwgdmFsLCBpLCBhcnIpICYmIChyZXNbcmVzTGVuZ3RoKytdID0gdmFsKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5nb29nLmFycmF5LmZpbHRlciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbHRlcjtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUubWFwKSA/IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJyLCBmLCBvcHRfb2JqKTtcbn0gOiBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgbCA9IGFyci5sZW5ndGgsIHJlcyA9IEFycmF5KGwpLCBhcnIyID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5zcGxpdChcIlwiKSA6IGFyciwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpIGluIGFycjIgJiYgKHJlc1tpXSA9IGYuY2FsbChvcHRfb2JqLCBhcnIyW2ldLCBpLCBhcnIpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmdvb2cuYXJyYXkubWFwID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwO1xuZ29vZy5hcnJheS5yZWR1Y2UgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUucmVkdWNlKSA/IGZ1bmN0aW9uKGFyciwgZiwgdmFsLCBvcHRfb2JqKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnIubGVuZ3RoKTtcbiAgb3B0X29iaiAmJiAoZiA9IGdvb2cuYmluZChmLCBvcHRfb2JqKSk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoYXJyLCBmLCB2YWwpO1xufSA6IGZ1bmN0aW9uKGFyciwgZiwgdmFsJGpzY29tcCQwLCBvcHRfb2JqKSB7XG4gIHZhciBydmFsID0gdmFsJGpzY29tcCQwO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKGFyciwgZnVuY3Rpb24odmFsLCBpbmRleCkge1xuICAgIHJ2YWwgPSBmLmNhbGwob3B0X29iaiwgcnZhbCwgdmFsLCBpbmRleCwgYXJyKTtcbiAgfSk7XG4gIHJldHVybiBydmFsO1xufTtcbmdvb2cuYXJyYXkucmVkdWNlUmlnaHQgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpID8gZnVuY3Rpb24oYXJyLCBmLCB2YWwsIG9wdF9vYmopIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gZik7XG4gIG9wdF9vYmogJiYgKGYgPSBnb29nLmJpbmQoZiwgb3B0X29iaikpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoYXJyLCBmLCB2YWwpO1xufSA6IGZ1bmN0aW9uKGFyciwgZiwgdmFsJGpzY29tcCQwLCBvcHRfb2JqKSB7XG4gIHZhciBydmFsID0gdmFsJGpzY29tcCQwO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoUmlnaHQoYXJyLCBmdW5jdGlvbih2YWwsIGluZGV4KSB7XG4gICAgcnZhbCA9IGYuY2FsbChvcHRfb2JqLCBydmFsLCB2YWwsIGluZGV4LCBhcnIpO1xuICB9KTtcbiAgcmV0dXJuIHJ2YWw7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvbWUgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUuc29tZSkgPyBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChhcnIsIGYsIG9wdF9vYmopO1xufSA6IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBmb3IgKHZhciBsID0gYXJyLmxlbmd0aCwgYXJyMiA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcnIgPyBhcnIuc3BsaXQoXCJcIikgOiBhcnIsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyMiAmJiBmLmNhbGwob3B0X29iaiwgYXJyMltpXSwgaSwgYXJyKSkge1xuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5hcnJheS5zb21lID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29tZTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9ldmVyeSA9IGdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgJiYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TIHx8IEFycmF5LnByb3RvdHlwZS5ldmVyeSkgPyBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoYXJyLCBmLCBvcHRfb2JqKTtcbn0gOiBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgbCA9IGFyci5sZW5ndGgsIGFycjIgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLnNwbGl0KFwiXCIpIDogYXJyLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChpIGluIGFycjIgJiYgIWYuY2FsbChvcHRfb2JqLCBhcnIyW2ldLCBpLCBhcnIpKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn07XG5nb29nLmFycmF5LmV2ZXJ5ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXZlcnk7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb3VudChhcnIkanNjb21wJDAsIGYsIG9wdF9vYmopIHtcbiAgdmFyIGNvdW50ID0gMDtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaChhcnIkanNjb21wJDAsIGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4LCBhcnIpIHtcbiAgICBmLmNhbGwob3B0X29iaiwgZWxlbWVudCwgaW5kZXgsIGFycikgJiYgKytjb3VudDtcbiAgfSwgb3B0X29iaik7XG4gIHJldHVybiBjb3VudDtcbn1cbmdvb2cuYXJyYXkuY291bnQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb3VudDtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmQoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIHZhciBpID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZEluZGV4KGFyciwgZiwgb3B0X29iaik7XG4gIHJldHVybiAwID4gaSA/IG51bGwgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLmNoYXJBdChpKSA6IGFycltpXTtcbn1cbmdvb2cuYXJyYXkuZmluZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmQ7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXgoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGwgPSBhcnIubGVuZ3RoLCBhcnIyID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5zcGxpdChcIlwiKSA6IGFyciwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoaSBpbiBhcnIyICYmIGYuY2FsbChvcHRfb2JqLCBhcnIyW2ldLCBpLCBhcnIpKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuZ29vZy5hcnJheS5maW5kSW5kZXggPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXg7XG5nb29nLmFycmF5LmZpbmRSaWdodCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmRSaWdodChhcnIsIGYsIG9wdF9vYmopIHtcbiAgdmFyIGkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXhSaWdodChhcnIsIGYsIG9wdF9vYmopO1xuICByZXR1cm4gMCA+IGkgPyBudWxsIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5jaGFyQXQoaSkgOiBhcnJbaV07XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZEluZGV4UmlnaHQoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGwgPSBhcnIubGVuZ3RoLCBhcnIyID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5zcGxpdChcIlwiKSA6IGFyciwgaSA9IGwgLSAxOyAwIDw9IGk7IGktLSkge1xuICAgIGlmIChpIGluIGFycjIgJiYgZi5jYWxsKG9wdF9vYmosIGFycjJbaV0sIGksIGFycikpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5nb29nLmFycmF5LmZpbmRJbmRleFJpZ2h0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZEluZGV4UmlnaHQ7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhhcnIsIG9iaikge1xuICByZXR1cm4gMCA8PSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbmRleE9mKGFyciwgb2JqKTtcbn1cbmdvb2cuYXJyYXkuY29udGFpbnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucztcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzRW1wdHkoYXJyKSB7XG4gIHJldHVybiAwID09IGFyci5sZW5ndGg7XG59XG5nb29nLmFycmF5LmlzRW1wdHkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc0VtcHR5O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY2xlYXIoYXJyKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IGFyci5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSkge1xuICAgICAgZGVsZXRlIGFycltpXTtcbiAgICB9XG4gIH1cbiAgYXJyLmxlbmd0aCA9IDA7XG59XG5nb29nLmFycmF5LmNsZWFyID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY2xlYXI7XG5nb29nLmFycmF5Lmluc2VydCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luc2VydChhcnIsIG9iaikge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhhcnIsIG9iaikgfHwgYXJyLnB1c2gob2JqKTtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRBdChhcnIsIG9iaiwgb3B0X2kpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc3BsaWNlKGFyciwgb3B0X2ksIDAsIG9iaik7XG59XG5nb29nLmFycmF5Lmluc2VydEF0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5zZXJ0QXQ7XG5nb29nLmFycmF5Lmluc2VydEFycmF5QXQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRBcnJheUF0KGFyciwgZWxlbWVudHNUb0FkZCwgb3B0X2kpIHtcbiAgZ29vZy5wYXJ0aWFsKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NwbGljZSwgYXJyLCBvcHRfaSwgMCkuYXBwbHkobnVsbCwgZWxlbWVudHNUb0FkZCk7XG59O1xuZ29vZy5hcnJheS5pbnNlcnRCZWZvcmUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRCZWZvcmUoYXJyLCBvYmosIG9wdF9vYmoyKSB7XG4gIHZhciBpO1xuICAyID09IGFyZ3VtZW50cy5sZW5ndGggfHwgMCA+IChpID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5kZXhPZihhcnIsIG9wdF9vYmoyKSkgPyBhcnIucHVzaChvYmopIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5zZXJ0QXQoYXJyLCBvYmosIGkpO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZShhcnIsIG9iaikge1xuICB2YXIgaSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luZGV4T2YoYXJyLCBvYmopLCBydjtcbiAgKHJ2ID0gMCA8PSBpKSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChhcnIsIGkpO1xuICByZXR1cm4gcnY7XG59XG5nb29nLmFycmF5LnJlbW92ZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUxhc3QoYXJyLCBvYmopIHtcbiAgdmFyIGkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9sYXN0SW5kZXhPZihhcnIsIG9iaik7XG4gIHJldHVybiAwIDw9IGkgPyAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQoYXJyLCBpKSwgITApIDogITE7XG59XG5nb29nLmFycmF5LnJlbW92ZUxhc3QgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVMYXN0O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQoYXJyLCBpKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnIubGVuZ3RoKTtcbiAgcmV0dXJuIDEgPT0gQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyciwgaSwgMSkubGVuZ3RoO1xufVxuZ29vZy5hcnJheS5yZW1vdmVBdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUF0O1xuZ29vZy5hcnJheS5yZW1vdmVJZiA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUlmKGFyciwgZiwgb3B0X29iaikge1xuICB2YXIgaSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmRJbmRleChhcnIsIGYsIG9wdF9vYmopO1xuICByZXR1cm4gMCA8PSBpID8gKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUF0KGFyciwgaSksICEwKSA6ICExO1xufTtcbmdvb2cuYXJyYXkucmVtb3ZlQWxsSWYgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBbGxJZihhcnIsIGYsIG9wdF9vYmopIHtcbiAgdmFyIHJlbW92ZWRDb3VudCA9IDA7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2hSaWdodChhcnIsIGZ1bmN0aW9uKHZhbCwgaW5kZXgpIHtcbiAgICBmLmNhbGwob3B0X29iaiwgdmFsLCBpbmRleCwgYXJyKSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChhcnIsIGluZGV4KSAmJiByZW1vdmVkQ291bnQrKztcbiAgfSk7XG4gIHJldHVybiByZW1vdmVkQ291bnQ7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29uY2F0KHZhcl9hcmdzKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBhcmd1bWVudHMpO1xufVxuZ29vZy5hcnJheS5jb25jYXQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXQ7XG5nb29nLmFycmF5LmpvaW4gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9qb2luKHZhcl9hcmdzKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBhcmd1bWVudHMpO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXkob2JqZWN0KSB7XG4gIHZhciBsZW5ndGggPSBvYmplY3QubGVuZ3RoO1xuICBpZiAoMCA8IGxlbmd0aCkge1xuICAgIGZvciAodmFyIHJ2ID0gQXJyYXkobGVuZ3RoKSwgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcnZbaV0gPSBvYmplY3RbaV07XG4gICAgfVxuICAgIHJldHVybiBydjtcbiAgfVxuICByZXR1cm4gW107XG59XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY2xvbmUgPSBnb29nLmFycmF5LnRvQXJyYXkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV90b0FycmF5O1xuZ29vZy5hcnJheS5jbG9uZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXk7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9leHRlbmQoYXJyMSwgdmFyX2FyZ3MpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYXJyMiA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAoZ29vZy5pc0FycmF5TGlrZShhcnIyKSkge1xuICAgICAgdmFyIGxlbjEgPSBhcnIxLmxlbmd0aCB8fCAwLCBsZW4yID0gYXJyMi5sZW5ndGggfHwgMDtcbiAgICAgIGFycjEubGVuZ3RoID0gbGVuMSArIGxlbjI7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjI7IGorKykge1xuICAgICAgICBhcnIxW2xlbjEgKyBqXSA9IGFycjJbal07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycjEucHVzaChhcnIyKTtcbiAgICB9XG4gIH1cbn1cbmdvb2cuYXJyYXkuZXh0ZW5kID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXh0ZW5kO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc3BsaWNlKGFyciwgaW5kZXgsIGhvd01hbnksIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnIubGVuZ3RoKTtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoYXJyLCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zbGljZShhcmd1bWVudHMsIDEpKTtcbn1cbmdvb2cuYXJyYXkuc3BsaWNlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc3BsaWNlO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc2xpY2UoYXJyLCBzdGFydCwgb3B0X2VuZCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIHJldHVybiAyID49IGFyZ3VtZW50cy5sZW5ndGggPyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIsIHN0YXJ0KSA6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyciwgc3RhcnQsIG9wdF9lbmQpO1xufVxuZ29vZy5hcnJheS5zbGljZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NsaWNlO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlRHVwbGljYXRlcyhhcnIsIG9wdF9ydiwgb3B0X2hhc2hGbikge1xuICBmb3IgKHZhciByZXR1cm5BcnJheSA9IG9wdF9ydiB8fCBhcnIsIGRlZmF1bHRIYXNoRm4gPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuIGdvb2cuaXNPYmplY3QoaXRlbSkgPyBcIm9cIiArIGdvb2cuZ2V0VWlkKGl0ZW0pIDogKHR5cGVvZiBpdGVtKS5jaGFyQXQoMCkgKyBpdGVtO1xuICB9LCBoYXNoRm4gPSBvcHRfaGFzaEZuIHx8IGRlZmF1bHRIYXNoRm4sIGN1cnNvckluc2VydCA9IDAsIGN1cnNvclJlYWQgPSAwLCBzZWVuID0ge307IGN1cnNvclJlYWQgPCBhcnIubGVuZ3RoOykge1xuICAgIHZhciBjdXJyZW50ID0gYXJyW2N1cnNvclJlYWQrK10sIGtleSA9IGhhc2hGbihjdXJyZW50KTtcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2Vlbiwga2V5KSB8fCAoc2VlbltrZXldID0gITAsIHJldHVybkFycmF5W2N1cnNvckluc2VydCsrXSA9IGN1cnJlbnQpO1xuICB9XG4gIHJldHVybkFycmF5Lmxlbmd0aCA9IGN1cnNvckluc2VydDtcbn1cbmdvb2cuYXJyYXkucmVtb3ZlRHVwbGljYXRlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUR1cGxpY2F0ZXM7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWFyY2goYXJyLCB0YXJnZXQsIG9wdF9jb21wYXJlRm4pIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlYXJjaF8oYXJyLCBvcHRfY29tcGFyZUZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlLCAhMSwgdGFyZ2V0KTtcbn1cbmdvb2cuYXJyYXkuYmluYXJ5U2VhcmNoID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5U2VhcmNoO1xuZ29vZy5hcnJheS5iaW5hcnlTZWxlY3QgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWxlY3QoYXJyLCBldmFsdWF0b3IsIG9wdF9vYmopIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlYXJjaF8oYXJyLCBldmFsdWF0b3IsICEwLCB2b2lkIDAsIG9wdF9vYmopO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlYXJjaF8oYXJyLCBjb21wYXJlRm4sIGlzRXZhbHVhdG9yLCBvcHRfdGFyZ2V0LCBvcHRfc2VsZk9iaikge1xuICBmb3IgKHZhciBsZWZ0ID0gMCwgcmlnaHQgPSBhcnIubGVuZ3RoLCBmb3VuZDsgbGVmdCA8IHJpZ2h0Oykge1xuICAgIHZhciBtaWRkbGUgPSBsZWZ0ICsgKHJpZ2h0IC0gbGVmdCA+Pj4gMSksIGNvbXBhcmVSZXN1bHQgPSB2b2lkIDA7XG4gICAgY29tcGFyZVJlc3VsdCA9IGlzRXZhbHVhdG9yID8gY29tcGFyZUZuLmNhbGwob3B0X3NlbGZPYmosIGFyclttaWRkbGVdLCBtaWRkbGUsIGFycikgOiBjb21wYXJlRm4ob3B0X3RhcmdldCwgYXJyW21pZGRsZV0pO1xuICAgIDAgPCBjb21wYXJlUmVzdWx0ID8gbGVmdCA9IG1pZGRsZSArIDEgOiAocmlnaHQgPSBtaWRkbGUsIGZvdW5kID0gIWNvbXBhcmVSZXN1bHQpO1xuICB9XG4gIHJldHVybiBmb3VuZCA/IGxlZnQgOiAtbGVmdCAtIDE7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0KGFyciwgb3B0X2NvbXBhcmVGbikge1xuICBhcnIuc29ydChvcHRfY29tcGFyZUZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlKTtcbn1cbmdvb2cuYXJyYXkuc29ydCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnQ7XG5nb29nLmFycmF5LnN0YWJsZVNvcnQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zdGFibGVTb3J0KGFyciwgb3B0X2NvbXBhcmVGbikge1xuICBmb3IgKHZhciBjb21wQXJyID0gQXJyYXkoYXJyLmxlbmd0aCksIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29tcEFycltpXSA9IHtpbmRleDppLCB2YWx1ZTphcnJbaV19O1xuICB9XG4gIHZhciB2YWx1ZUNvbXBhcmVGbiA9IG9wdF9jb21wYXJlRm4gfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmU7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnQoY29tcEFyciwgZnVuY3Rpb24gc3RhYmxlQ29tcGFyZUZuKG9iajEsIG9iajIpIHtcbiAgICByZXR1cm4gdmFsdWVDb21wYXJlRm4ob2JqMS52YWx1ZSwgb2JqMi52YWx1ZSkgfHwgb2JqMS5pbmRleCAtIG9iajIuaW5kZXg7XG4gIH0pO1xuICBmb3IgKHZhciBpJDI4ID0gMDsgaSQyOCA8IGFyci5sZW5ndGg7IGkkMjgrKykge1xuICAgIGFycltpJDI4XSA9IGNvbXBBcnJbaSQyOF0udmFsdWU7XG4gIH1cbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0QnlLZXkoYXJyLCBrZXlGbiwgb3B0X2NvbXBhcmVGbikge1xuICB2YXIga2V5Q29tcGFyZUZuID0gb3B0X2NvbXBhcmVGbiB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9kZWZhdWx0Q29tcGFyZTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29ydChhcnIsIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4ga2V5Q29tcGFyZUZuKGtleUZuKGEpLCBrZXlGbihiKSk7XG4gIH0pO1xufVxuZ29vZy5hcnJheS5zb3J0QnlLZXkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0QnlLZXk7XG5nb29nLmFycmF5LnNvcnRPYmplY3RzQnlLZXkgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0T2JqZWN0c0J5S2V5KGFyciwga2V5LCBvcHRfY29tcGFyZUZuKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnRCeUtleShhcnIsIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfSwgb3B0X2NvbXBhcmVGbik7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNTb3J0ZWQoYXJyLCBvcHRfY29tcGFyZUZuLCBvcHRfc3RyaWN0KSB7XG4gIGZvciAodmFyIGNvbXBhcmUgPSBvcHRfY29tcGFyZUZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlLCBpID0gMTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjb21wYXJlUmVzdWx0ID0gY29tcGFyZShhcnJbaSAtIDFdLCBhcnJbaV0pO1xuICAgIGlmICgwIDwgY29tcGFyZVJlc3VsdCB8fCAwID09IGNvbXBhcmVSZXN1bHQgJiYgb3B0X3N0cmljdCkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59XG5nb29nLmFycmF5LmlzU29ydGVkID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNTb3J0ZWQ7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9lcXVhbHMoYXJyMSwgYXJyMiwgb3B0X2VxdWFsc0ZuKSB7XG4gIGlmICghZ29vZy5pc0FycmF5TGlrZShhcnIxKSB8fCAhZ29vZy5pc0FycmF5TGlrZShhcnIyKSB8fCBhcnIxLmxlbmd0aCAhPSBhcnIyLmxlbmd0aCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICBmb3IgKHZhciBsID0gYXJyMS5sZW5ndGgsIGVxdWFsc0ZuID0gb3B0X2VxdWFsc0ZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlRXF1YWxpdHksIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKCFlcXVhbHNGbihhcnIxW2ldLCBhcnIyW2ldKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59XG5nb29nLmFycmF5LmVxdWFscyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2VxdWFscztcbmdvb2cuYXJyYXkuY29tcGFyZTMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb21wYXJlMyhhcnIxLCBhcnIyLCBvcHRfY29tcGFyZUZuKSB7XG4gIGZvciAodmFyIGNvbXBhcmUgPSBvcHRfY29tcGFyZUZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlLCBsID0gTWF0aC5taW4oYXJyMS5sZW5ndGgsIGFycjIubGVuZ3RoKSwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgcmVzdWx0ID0gY29tcGFyZShhcnIxW2ldLCBhcnIyW2ldKTtcbiAgICBpZiAoMCAhPSByZXN1bHQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9kZWZhdWx0Q29tcGFyZShhcnIxLmxlbmd0aCwgYXJyMi5sZW5ndGgpO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlKGEsIGIpIHtcbiAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xufVxuZ29vZy5hcnJheS5kZWZhdWx0Q29tcGFyZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlO1xuZ29vZy5hcnJheS5pbnZlcnNlRGVmYXVsdENvbXBhcmUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnZlcnNlRGVmYXVsdENvbXBhcmUoYSwgYikge1xuICByZXR1cm4gLW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlKGEsIGIpO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlRXF1YWxpdHkoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cbmdvb2cuYXJyYXkuZGVmYXVsdENvbXBhcmVFcXVhbGl0eSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlRXF1YWxpdHk7XG5nb29nLmFycmF5LmJpbmFyeUluc2VydCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeUluc2VydChhcnJheSwgdmFsdWUsIG9wdF9jb21wYXJlRm4pIHtcbiAgdmFyIGluZGV4ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5U2VhcmNoKGFycmF5LCB2YWx1ZSwgb3B0X2NvbXBhcmVGbik7XG4gIHJldHVybiAwID4gaW5kZXggPyAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5zZXJ0QXQoYXJyYXksIHZhbHVlLCAtKGluZGV4ICsgMSkpLCAhMCkgOiAhMTtcbn07XG5nb29nLmFycmF5LmJpbmFyeVJlbW92ZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVJlbW92ZShhcnJheSwgdmFsdWUsIG9wdF9jb21wYXJlRm4pIHtcbiAgdmFyIGluZGV4ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5U2VhcmNoKGFycmF5LCB2YWx1ZSwgb3B0X2NvbXBhcmVGbik7XG4gIHJldHVybiAwIDw9IGluZGV4ID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQoYXJyYXksIGluZGV4KSA6ICExO1xufTtcbmdvb2cuYXJyYXkuYnVja2V0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYnVja2V0KGFycmF5LCBzb3J0ZXIsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgYnVja2V0cyA9IHt9LCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sIGtleSA9IHNvcnRlci5jYWxsKG9wdF9vYmosIHZhbHVlLCBpLCBhcnJheSk7XG4gICAgdm9pZCAwICE9PSBrZXkgJiYgKGJ1Y2tldHNba2V5XSB8fCAoYnVja2V0c1trZXldID0gW10pKS5wdXNoKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gYnVja2V0cztcbn07XG5nb29nLmFycmF5LmJ1Y2tldFRvTWFwID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYnVja2V0VG9NYXAoYXJyYXksIHNvcnRlcikge1xuICBmb3IgKHZhciBidWNrZXRzID0gbmV3IE1hcCgpLCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sIGtleSA9IHNvcnRlcih2YWx1ZSwgaSwgYXJyYXkpO1xuICAgIGlmICh2b2lkIDAgIT09IGtleSkge1xuICAgICAgdmFyIGJ1Y2tldCA9IGJ1Y2tldHMuZ2V0KGtleSk7XG4gICAgICBidWNrZXQgfHwgKGJ1Y2tldCA9IFtdLCBidWNrZXRzLnNldChrZXksIGJ1Y2tldCkpO1xuICAgICAgYnVja2V0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYnVja2V0cztcbn07XG5nb29nLmFycmF5LnRvT2JqZWN0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9PYmplY3QoYXJyLCBrZXlGdW5jLCBvcHRfb2JqKSB7XG4gIHZhciByZXQgPSB7fTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaChhcnIsIGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4KSB7XG4gICAgcmV0W2tleUZ1bmMuY2FsbChvcHRfb2JqLCBlbGVtZW50LCBpbmRleCwgYXJyKV0gPSBlbGVtZW50O1xuICB9KTtcbiAgcmV0dXJuIHJldDtcbn07XG5nb29nLmFycmF5LnRvTWFwID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9NYXAoYXJyLCBrZXlGdW5jKSB7XG4gIGZvciAodmFyIG1hcCA9IG5ldyBNYXAoKSwgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZWxlbWVudCA9IGFycltpXTtcbiAgICBtYXAuc2V0KGtleUZ1bmMoZWxlbWVudCwgaSwgYXJyKSwgZWxlbWVudCk7XG4gIH1cbiAgcmV0dXJuIG1hcDtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yYW5nZShzdGFydE9yRW5kLCBvcHRfZW5kLCBvcHRfc3RlcCkge1xuICB2YXIgYXJyYXkgPSBbXSwgc3RhcnQgPSAwLCBlbmQgPSBzdGFydE9yRW5kLCBzdGVwID0gb3B0X3N0ZXAgfHwgMTtcbiAgdm9pZCAwICE9PSBvcHRfZW5kICYmIChzdGFydCA9IHN0YXJ0T3JFbmQsIGVuZCA9IG9wdF9lbmQpO1xuICBpZiAoMCA+IHN0ZXAgKiAoZW5kIC0gc3RhcnQpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmICgwIDwgc3RlcCkge1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBzdGVwKSB7XG4gICAgICBhcnJheS5wdXNoKGkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpJDI5ID0gc3RhcnQ7IGkkMjkgPiBlbmQ7IGkkMjkgKz0gc3RlcCkge1xuICAgICAgYXJyYXkucHVzaChpJDI5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuZ29vZy5hcnJheS5yYW5nZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JhbmdlO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVwZWF0KHZhbHVlLCBuKSB7XG4gIGZvciAodmFyIGFycmF5ID0gW10sIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgYXJyYXlbaV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5nb29nLmFycmF5LnJlcGVhdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlcGVhdDtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZsYXR0ZW4odmFyX2FyZ3MpIHtcbiAgZm9yICh2YXIgcmVzdWx0ID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBhcmd1bWVudHNbaV07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgZWxlbWVudC5sZW5ndGg7IGMgKz0gODE5Mikge1xuICAgICAgICBmb3IgKHZhciBjaHVuayA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NsaWNlKGVsZW1lbnQsIGMsIGMgKyA4MTkyKSwgcmVjdXJzZVJlc3VsdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZsYXR0ZW4uYXBwbHkobnVsbCwgY2h1bmspLCByID0gMDsgciA8IHJlY3Vyc2VSZXN1bHQubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICByZXN1bHQucHVzaChyZWN1cnNlUmVzdWx0W3JdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucHVzaChlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmdvb2cuYXJyYXkuZmxhdHRlbiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZsYXR0ZW47XG5nb29nLmFycmF5LnJvdGF0ZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JvdGF0ZShhcnJheSwgbikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyYXkubGVuZ3RoKTtcbiAgYXJyYXkubGVuZ3RoICYmIChuICU9IGFycmF5Lmxlbmd0aCwgMCA8IG4gPyBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShhcnJheSwgYXJyYXkuc3BsaWNlKC1uLCBuKSkgOiAwID4gbiAmJiBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhcnJheSwgYXJyYXkuc3BsaWNlKDAsIC1uKSkpO1xuICByZXR1cm4gYXJyYXk7XG59O1xuZ29vZy5hcnJheS5tb3ZlSXRlbSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21vdmVJdGVtKGFyciwgZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoMCA8PSBmcm9tSW5kZXggJiYgZnJvbUluZGV4IDwgYXJyLmxlbmd0aCk7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoMCA8PSB0b0luZGV4ICYmIHRvSW5kZXggPCBhcnIubGVuZ3RoKTtcbiAgdmFyIHJlbW92ZWRJdGVtcyA9IEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcnIsIGZyb21JbmRleCwgMSk7XG4gIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcnIsIHRvSW5kZXgsIDAsIHJlbW92ZWRJdGVtc1swXSk7XG59O1xuZ29vZy5hcnJheS56aXAgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV96aXAodmFyX2FyZ3MpIHtcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGZvciAodmFyIHJlc3VsdCA9IFtdLCBtaW5MZW4gPSBhcmd1bWVudHNbMF0ubGVuZ3RoLCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyZ3VtZW50c1tpXS5sZW5ndGggPCBtaW5MZW4gJiYgKG1pbkxlbiA9IGFyZ3VtZW50c1tpXS5sZW5ndGgpO1xuICB9XG4gIGZvciAodmFyIGkkMzAgPSAwOyBpJDMwIDwgbWluTGVuOyBpJDMwKyspIHtcbiAgICBmb3IgKHZhciB2YWx1ZSA9IFtdLCBqID0gMDsgaiA8IGFyZ3VtZW50cy5sZW5ndGg7IGorKykge1xuICAgICAgdmFsdWUucHVzaChhcmd1bWVudHNbal1baSQzMF0pO1xuICAgIH1cbiAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLmFycmF5LnNodWZmbGUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zaHVmZmxlKGFyciwgb3B0X3JhbmRGbikge1xuICBmb3IgKHZhciByYW5kRm4gPSBvcHRfcmFuZEZuIHx8IE1hdGgucmFuZG9tLCBpID0gYXJyLmxlbmd0aCAtIDE7IDAgPCBpOyBpLS0pIHtcbiAgICB2YXIgaiA9IE1hdGguZmxvb3IocmFuZEZuKCkgKiAoaSArIDEpKSwgdG1wID0gYXJyW2ldO1xuICAgIGFycltpXSA9IGFycltqXTtcbiAgICBhcnJbal0gPSB0bXA7XG4gIH1cbn07XG5nb29nLmFycmF5LmNvcHlCeUluZGV4ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29weUJ5SW5kZXgoYXJyLCBpbmRleF9hcnIpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKGluZGV4X2FyciwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICByZXN1bHQucHVzaChhcnJbaW5kZXhdKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5hcnJheS5jb25jYXRNYXAgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXRNYXAoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXQuYXBwbHkoW10sIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChhcnIsIGYsIG9wdF9vYmopKTtcbn07XG5nb29nLmRlYnVnLmVycm9yY29udGV4dCA9IHt9O1xuZ29vZy5kZWJ1Zy5lcnJvcmNvbnRleHQuYWRkRXJyb3JDb250ZXh0ID0gZnVuY3Rpb24oZXJyLCBjb250ZXh0S2V5LCBjb250ZXh0VmFsdWUpIHtcbiAgZXJyW2dvb2cuZGVidWcuZXJyb3Jjb250ZXh0LkNPTlRFWFRfS0VZX10gfHwgKGVycltnb29nLmRlYnVnLmVycm9yY29udGV4dC5DT05URVhUX0tFWV9dID0ge30pO1xuICBlcnJbZ29vZy5kZWJ1Zy5lcnJvcmNvbnRleHQuQ09OVEVYVF9LRVlfXVtjb250ZXh0S2V5XSA9IGNvbnRleHRWYWx1ZTtcbn07XG5nb29nLmRlYnVnLmVycm9yY29udGV4dC5nZXRFcnJvckNvbnRleHQgPSBmdW5jdGlvbihlcnIpIHtcbiAgcmV0dXJuIGVycltnb29nLmRlYnVnLmVycm9yY29udGV4dC5DT05URVhUX0tFWV9dIHx8IHt9O1xufTtcbmdvb2cuZGVidWcuZXJyb3Jjb250ZXh0LkNPTlRFWFRfS0VZXyA9IFwiX19jbG9zdXJlX19lcnJvcl9fY29udGV4dF9fOTg0MzgyXCI7XG5nb29nLmRlYnVnLkxPR0dJTkdfRU5BQkxFRCA9IGdvb2cuREVCVUc7XG5nb29nLmRlYnVnLkZPUkNFX1NMT1BQWV9TVEFDS1MgPSAhMTtcbmdvb2cuZGVidWcuQ0hFQ0tfRk9SX1RIUk9XTl9FVkVOVCA9ICExO1xuZ29vZy5kZWJ1Zy5jYXRjaEVycm9ycyA9IGZ1bmN0aW9uKGxvZ0Z1bmMsIG9wdF9jYW5jZWwsIG9wdF90YXJnZXQpIHtcbiAgdmFyIHRhcmdldCA9IG9wdF90YXJnZXQgfHwgZ29vZy5nbG9iYWwsIG9sZEVycm9ySGFuZGxlciA9IHRhcmdldC5vbmVycm9yLCByZXRWYWwgPSAhIW9wdF9jYW5jZWw7XG4gIHRhcmdldC5vbmVycm9yID0gZnVuY3Rpb24obWVzc2FnZSwgdXJsLCBsaW5lLCBvcHRfY29sLCBvcHRfZXJyb3IpIHtcbiAgICBvbGRFcnJvckhhbmRsZXIgJiYgb2xkRXJyb3JIYW5kbGVyKG1lc3NhZ2UsIHVybCwgbGluZSwgb3B0X2NvbCwgb3B0X2Vycm9yKTtcbiAgICBsb2dGdW5jKHttZXNzYWdlOm1lc3NhZ2UsIGZpbGVOYW1lOnVybCwgbGluZTpsaW5lLCBsaW5lTnVtYmVyOmxpbmUsIGNvbDpvcHRfY29sLCBlcnJvcjpvcHRfZXJyb3J9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xuICB9O1xufTtcbmdvb2cuZGVidWcuZXhwb3NlID0gZnVuY3Rpb24ob2JqLCBvcHRfc2hvd0ZuKSB7XG4gIGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBvYmopIHtcbiAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgfVxuICBpZiAobnVsbCA9PSBvYmopIHtcbiAgICByZXR1cm4gXCJOVUxMXCI7XG4gIH1cbiAgdmFyIHN0ciA9IFtdLCB4O1xuICBmb3IgKHggaW4gb2JqKSB7XG4gICAgaWYgKG9wdF9zaG93Rm4gfHwgXCJmdW5jdGlvblwiICE9PSB0eXBlb2Ygb2JqW3hdKSB7XG4gICAgICB2YXIgcyA9IHggKyBcIiA9IFwiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcyArPSBvYmpbeF07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHMgKz0gXCIqKiogXCIgKyBlICsgXCIgKioqXCI7XG4gICAgICB9XG4gICAgICBzdHIucHVzaChzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0ci5qb2luKFwiXFxuXCIpO1xufTtcbmdvb2cuZGVidWcuZGVlcEV4cG9zZSA9IGZ1bmN0aW9uKG9iaiRqc2NvbXAkMCwgb3B0X3Nob3dGbikge1xuICB2YXIgc3RyJGpzY29tcCQwID0gW10sIHVpZHNUb0NsZWFudXAgPSBbXSwgYW5jZXN0b3JVaWRzID0ge30sIGhlbHBlciA9IGZ1bmN0aW9uKG9iaiwgc3BhY2UpIHtcbiAgICB2YXIgbmVzdHNwYWNlID0gc3BhY2UgKyBcIiAgXCIsIGluZGVudE11bHRpbGluZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXG4vZywgXCJcXG5cIiArIHNwYWNlKTtcbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICBpZiAodm9pZCAwID09PSBvYmopIHtcbiAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCJ1bmRlZmluZWRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobnVsbCA9PT0gb2JqKSB7XG4gICAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCJOVUxMXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2Ygb2JqKSB7XG4gICAgICAgICAgICBzdHIkanNjb21wJDAucHVzaCgnXCInICsgaW5kZW50TXVsdGlsaW5lKG9iaikgKyAnXCInKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9iaikge1xuICAgICAgICAgICAgICBzdHIkanNjb21wJDAucHVzaChpbmRlbnRNdWx0aWxpbmUoU3RyaW5nKG9iaikpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChnb29nLmlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgICAgICAgICBnb29nLmhhc1VpZChvYmopIHx8IHVpZHNUb0NsZWFudXAucHVzaChvYmopO1xuICAgICAgICAgICAgICAgIHZhciB1aWQgPSBnb29nLmdldFVpZChvYmopO1xuICAgICAgICAgICAgICAgIGlmIChhbmNlc3RvclVpZHNbdWlkXSkge1xuICAgICAgICAgICAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCIqKiogcmVmZXJlbmNlIGxvb3AgZGV0ZWN0ZWQgKGlkPVwiICsgdWlkICsgXCIpICoqKlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgYW5jZXN0b3JVaWRzW3VpZF0gPSAhMDtcbiAgICAgICAgICAgICAgICAgIHN0ciRqc2NvbXAkMC5wdXNoKFwie1wiKTtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRfc2hvd0ZuIHx8IFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIG9ialt4XSkge1xuICAgICAgICAgICAgICAgICAgICAgIHN0ciRqc2NvbXAkMC5wdXNoKFwiXFxuXCIpLCBzdHIkanNjb21wJDAucHVzaChuZXN0c3BhY2UpLCBzdHIkanNjb21wJDAucHVzaCh4ICsgXCIgPSBcIiksIGhlbHBlcihvYmpbeF0sIG5lc3RzcGFjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHN0ciRqc2NvbXAkMC5wdXNoKFwiXFxuXCIgKyBzcGFjZSArIFwifVwiKTtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhbmNlc3RvclVpZHNbdWlkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RyJGpzY29tcCQwLnB1c2gob2JqKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN0ciRqc2NvbXAkMC5wdXNoKFwiKioqIFwiICsgZSArIFwiICoqKlwiKTtcbiAgICB9XG4gIH07XG4gIGhlbHBlcihvYmokanNjb21wJDAsIFwiXCIpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHVpZHNUb0NsZWFudXAubGVuZ3RoOyBpKyspIHtcbiAgICBnb29nLnJlbW92ZVVpZCh1aWRzVG9DbGVhbnVwW2ldKTtcbiAgfVxuICByZXR1cm4gc3RyJGpzY29tcCQwLmpvaW4oXCJcIik7XG59O1xuZ29vZy5kZWJ1Zy5leHBvc2VBcnJheSA9IGZ1bmN0aW9uKGFycikge1xuICBmb3IgKHZhciBzdHIgPSBbXSwgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBBcnJheS5pc0FycmF5KGFycltpXSkgPyBzdHIucHVzaChnb29nLmRlYnVnLmV4cG9zZUFycmF5KGFycltpXSkpIDogc3RyLnB1c2goYXJyW2ldKTtcbiAgfVxuICByZXR1cm4gXCJbIFwiICsgc3RyLmpvaW4oXCIsIFwiKSArIFwiIF1cIjtcbn07XG5nb29nLmRlYnVnLm5vcm1hbGl6ZUVycm9yT2JqZWN0ID0gZnVuY3Rpb24oZXJyKSB7XG4gIHZhciBocmVmID0gZ29vZy5nZXRPYmplY3RCeU5hbWUoXCJ3aW5kb3cubG9jYXRpb24uaHJlZlwiKTtcbiAgbnVsbCA9PSBlcnIgJiYgKGVyciA9ICdVbmtub3duIEVycm9yIG9mIHR5cGUgXCJudWxsL3VuZGVmaW5lZFwiJyk7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyKSB7XG4gICAgcmV0dXJuIHttZXNzYWdlOmVyciwgbmFtZTpcIlVua25vd24gZXJyb3JcIiwgbGluZU51bWJlcjpcIk5vdCBhdmFpbGFibGVcIiwgZmlsZU5hbWU6aHJlZiwgc3RhY2s6XCJOb3QgYXZhaWxhYmxlXCJ9O1xuICB9XG4gIHZhciB0aHJld0Vycm9yID0gITE7XG4gIHRyeSB7XG4gICAgdmFyIGxpbmVOdW1iZXIgPSBlcnIubGluZU51bWJlciB8fCBlcnIubGluZSB8fCBcIk5vdCBhdmFpbGFibGVcIjtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxpbmVOdW1iZXIgPSBcIk5vdCBhdmFpbGFibGVcIiwgdGhyZXdFcnJvciA9ICEwO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIGZpbGVOYW1lID0gZXJyLmZpbGVOYW1lIHx8IGVyci5maWxlbmFtZSB8fCBlcnIuc291cmNlVVJMIHx8IGdvb2cuZ2xvYmFsLiRnb29nRGVidWdGbmFtZSB8fCBocmVmO1xuICB9IGNhdGNoIChlJDMxKSB7XG4gICAgZmlsZU5hbWUgPSBcIk5vdCBhdmFpbGFibGVcIiwgdGhyZXdFcnJvciA9ICEwO1xuICB9XG4gIHZhciBzdGFjayA9IGdvb2cuZGVidWcuc2VyaWFsaXplRXJyb3JTdGFja18oZXJyKTtcbiAgaWYgKCEoIXRocmV3RXJyb3IgJiYgZXJyLmxpbmVOdW1iZXIgJiYgZXJyLmZpbGVOYW1lICYmIGVyci5zdGFjayAmJiBlcnIubWVzc2FnZSAmJiBlcnIubmFtZSkpIHtcbiAgICB2YXIgbWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgIGlmIChudWxsID09IG1lc3NhZ2UpIHtcbiAgICAgIGlmIChlcnIuY29uc3RydWN0b3IgJiYgZXJyLmNvbnN0cnVjdG9yIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgdmFyIGN0b3JOYW1lID0gZXJyLmNvbnN0cnVjdG9yLm5hbWUgPyBlcnIuY29uc3RydWN0b3IubmFtZSA6IGdvb2cuZGVidWcuZ2V0RnVuY3Rpb25OYW1lKGVyci5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIG1lc3NhZ2UgPSAnVW5rbm93biBFcnJvciBvZiB0eXBlIFwiJyArIGN0b3JOYW1lICsgJ1wiJztcbiAgICAgICAgaWYgKGdvb2cuZGVidWcuQ0hFQ0tfRk9SX1RIUk9XTl9FVkVOVCAmJiBcIkV2ZW50XCIgPT0gY3Rvck5hbWUpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UgKyAnIHdpdGggRXZlbnQudHlwZSBcIicgKyAoZXJyLnR5cGUgfHwgXCJcIikgKyAnXCInO1xuICAgICAgICAgIH0gY2F0Y2ggKGUkMzIpIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIlVua25vd24gRXJyb3Igb2YgdW5rbm93biB0eXBlXCI7XG4gICAgICB9XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBlcnIudG9TdHJpbmcgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyAhPT0gZXJyLnRvU3RyaW5nICYmIChtZXNzYWdlICs9IFwiOiBcIiArIGVyci50b1N0cmluZygpKTtcbiAgICB9XG4gICAgcmV0dXJuIHttZXNzYWdlOm1lc3NhZ2UsIG5hbWU6ZXJyLm5hbWUgfHwgXCJVbmtub3duRXJyb3JcIiwgbGluZU51bWJlcjpsaW5lTnVtYmVyLCBmaWxlTmFtZTpmaWxlTmFtZSwgc3RhY2s6c3RhY2sgfHwgXCJOb3QgYXZhaWxhYmxlXCJ9O1xuICB9XG4gIGVyci5zdGFjayA9IHN0YWNrO1xuICByZXR1cm4ge21lc3NhZ2U6ZXJyLm1lc3NhZ2UsIG5hbWU6ZXJyLm5hbWUsIGxpbmVOdW1iZXI6ZXJyLmxpbmVOdW1iZXIsIGZpbGVOYW1lOmVyci5maWxlTmFtZSwgc3RhY2s6ZXJyLnN0YWNrfTtcbn07XG5nb29nLmRlYnVnLnNlcmlhbGl6ZUVycm9yU3RhY2tfID0gZnVuY3Rpb24oZSwgc2Vlbikge1xuICBzZWVuIHx8IChzZWVuID0ge30pO1xuICBzZWVuW2dvb2cuZGVidWcuc2VyaWFsaXplRXJyb3JBc0tleV8oZSldID0gITA7XG4gIHZhciBzdGFjayA9IGUuc3RhY2sgfHwgXCJcIiwgY2F1c2UgPSBlLmNhdXNlO1xuICBjYXVzZSAmJiAhc2Vlbltnb29nLmRlYnVnLnNlcmlhbGl6ZUVycm9yQXNLZXlfKGNhdXNlKV0gJiYgKHN0YWNrICs9IFwiXFxuQ2F1c2VkIGJ5OiBcIiwgY2F1c2Uuc3RhY2sgJiYgMCA9PSBjYXVzZS5zdGFjay5pbmRleE9mKGNhdXNlLnRvU3RyaW5nKCkpIHx8IChzdGFjayArPSBcInN0cmluZ1wiID09PSB0eXBlb2YgY2F1c2UgPyBjYXVzZSA6IGNhdXNlLm1lc3NhZ2UgKyBcIlxcblwiKSwgc3RhY2sgKz0gZ29vZy5kZWJ1Zy5zZXJpYWxpemVFcnJvclN0YWNrXyhjYXVzZSwgc2VlbikpO1xuICByZXR1cm4gc3RhY2s7XG59O1xuZ29vZy5kZWJ1Zy5zZXJpYWxpemVFcnJvckFzS2V5XyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIGtleVByZWZpeCA9IFwiXCI7XG4gIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGUudG9TdHJpbmcgJiYgKGtleVByZWZpeCA9IFwiXCIgKyBlKTtcbiAgcmV0dXJuIGtleVByZWZpeCArIGUuc3RhY2s7XG59O1xuZ29vZy5kZWJ1Zy5lbmhhbmNlRXJyb3IgPSBmdW5jdGlvbihlcnIsIG9wdF9tZXNzYWdlKSB7XG4gIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHZhciBlcnJvciA9IGVycjtcbiAgfSBlbHNlIHtcbiAgICBlcnJvciA9IEVycm9yKGVyciksIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlICYmIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVycm9yLCBnb29nLmRlYnVnLmVuaGFuY2VFcnJvcik7XG4gIH1cbiAgZXJyb3Iuc3RhY2sgfHwgKGVycm9yLnN0YWNrID0gZ29vZy5kZWJ1Zy5nZXRTdGFja3RyYWNlKGdvb2cuZGVidWcuZW5oYW5jZUVycm9yKSk7XG4gIGlmIChvcHRfbWVzc2FnZSkge1xuICAgIGZvciAodmFyIHggPSAwOyBlcnJvcltcIm1lc3NhZ2VcIiArIHhdOykge1xuICAgICAgKyt4O1xuICAgIH1cbiAgICBlcnJvcltcIm1lc3NhZ2VcIiArIHhdID0gU3RyaW5nKG9wdF9tZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gZXJyb3I7XG59O1xuZ29vZy5kZWJ1Zy5lbmhhbmNlRXJyb3JXaXRoQ29udGV4dCA9IGZ1bmN0aW9uKGVyciwgb3B0X2NvbnRleHQpIHtcbiAgdmFyIGVycm9yID0gZ29vZy5kZWJ1Zy5lbmhhbmNlRXJyb3IoZXJyKTtcbiAgaWYgKG9wdF9jb250ZXh0KSB7XG4gICAgZm9yICh2YXIga2V5IGluIG9wdF9jb250ZXh0KSB7XG4gICAgICBnb29nLmRlYnVnLmVycm9yY29udGV4dC5hZGRFcnJvckNvbnRleHQoZXJyb3IsIGtleSwgb3B0X2NvbnRleHRba2V5XSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBlcnJvcjtcbn07XG5nb29nLmRlYnVnLmdldFN0YWNrdHJhY2VTaW1wbGUgPSBmdW5jdGlvbihvcHRfZGVwdGgpIHtcbiAgaWYgKCFnb29nLmRlYnVnLkZPUkNFX1NMT1BQWV9TVEFDS1MpIHtcbiAgICB2YXIgc3RhY2sgPSBnb29nLmRlYnVnLmdldE5hdGl2ZVN0YWNrVHJhY2VfKGdvb2cuZGVidWcuZ2V0U3RhY2t0cmFjZVNpbXBsZSk7XG4gICAgaWYgKHN0YWNrKSB7XG4gICAgICByZXR1cm4gc3RhY2s7XG4gICAgfVxuICB9XG4gIGZvciAodmFyIHNiID0gW10sIGZuID0gYXJndW1lbnRzLmNhbGxlZS5jYWxsZXIsIGRlcHRoID0gMDsgZm4gJiYgKCFvcHRfZGVwdGggfHwgZGVwdGggPCBvcHRfZGVwdGgpOykge1xuICAgIHNiLnB1c2goZ29vZy5kZWJ1Zy5nZXRGdW5jdGlvbk5hbWUoZm4pKTtcbiAgICBzYi5wdXNoKFwiKClcXG5cIik7XG4gICAgdHJ5IHtcbiAgICAgIGZuID0gZm4uY2FsbGVyO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNiLnB1c2goXCJbZXhjZXB0aW9uIHRyeWluZyB0byBnZXQgY2FsbGVyXVxcblwiKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZXB0aCsrO1xuICAgIGlmIChkZXB0aCA+PSBnb29nLmRlYnVnLk1BWF9TVEFDS19ERVBUSCkge1xuICAgICAgc2IucHVzaChcIlsuLi5sb25nIHN0YWNrLi4uXVwiKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBvcHRfZGVwdGggJiYgZGVwdGggPj0gb3B0X2RlcHRoID8gc2IucHVzaChcIlsuLi5yZWFjaGVkIG1heCBkZXB0aCBsaW1pdC4uLl1cIikgOiBzYi5wdXNoKFwiW2VuZF1cIik7XG4gIHJldHVybiBzYi5qb2luKFwiXCIpO1xufTtcbmdvb2cuZGVidWcuTUFYX1NUQUNLX0RFUFRIID0gNTA7XG5nb29nLmRlYnVnLmdldE5hdGl2ZVN0YWNrVHJhY2VfID0gZnVuY3Rpb24oZm4pIHtcbiAgdmFyIHRlbXBFcnIgPSBFcnJvcigpO1xuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICByZXR1cm4gRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGVtcEVyciwgZm4pLCBTdHJpbmcodGVtcEVyci5zdGFjayk7XG4gIH1cbiAgdHJ5IHtcbiAgICB0aHJvdyB0ZW1wRXJyO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGVtcEVyciA9IGU7XG4gIH1cbiAgdmFyIHN0YWNrID0gdGVtcEVyci5zdGFjaztcbiAgcmV0dXJuIHN0YWNrID8gU3RyaW5nKHN0YWNrKSA6IG51bGw7XG59O1xuZ29vZy5kZWJ1Zy5nZXRTdGFja3RyYWNlID0gZnVuY3Rpb24oZm4pIHtcbiAgdmFyIHN0YWNrO1xuICBnb29nLmRlYnVnLkZPUkNFX1NMT1BQWV9TVEFDS1MgfHwgKHN0YWNrID0gZ29vZy5kZWJ1Zy5nZXROYXRpdmVTdGFja1RyYWNlXyhmbiB8fCBnb29nLmRlYnVnLmdldFN0YWNrdHJhY2UpKTtcbiAgc3RhY2sgfHwgKHN0YWNrID0gZ29vZy5kZWJ1Zy5nZXRTdGFja3RyYWNlSGVscGVyXyhmbiB8fCBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciwgW10pKTtcbiAgcmV0dXJuIHN0YWNrO1xufTtcbmdvb2cuZGVidWcuZ2V0U3RhY2t0cmFjZUhlbHBlcl8gPSBmdW5jdGlvbihmbiwgdmlzaXRlZCkge1xuICB2YXIgc2IgPSBbXTtcbiAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKHZpc2l0ZWQsIGZuKSkge1xuICAgIHNiLnB1c2goXCJbLi4uY2lyY3VsYXIgcmVmZXJlbmNlLi4uXVwiKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZm4gJiYgdmlzaXRlZC5sZW5ndGggPCBnb29nLmRlYnVnLk1BWF9TVEFDS19ERVBUSCkge1xuICAgICAgc2IucHVzaChnb29nLmRlYnVnLmdldEZ1bmN0aW9uTmFtZShmbikgKyBcIihcIik7XG4gICAgICBmb3IgKHZhciBhcmdzID0gZm4uYXJndW1lbnRzLCBpID0gMDsgYXJncyAmJiBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAwIDwgaSAmJiBzYi5wdXNoKFwiLCBcIik7XG4gICAgICAgIHZhciBhcmcgPSBhcmdzW2ldO1xuICAgICAgICBzd2l0Y2godHlwZW9mIGFyZykge1xuICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIHZhciBhcmdEZXNjID0gYXJnID8gXCJvYmplY3RcIiA6IFwibnVsbFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgYXJnRGVzYyA9IGFyZztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIGFyZ0Rlc2MgPSBTdHJpbmcoYXJnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICBhcmdEZXNjID0gYXJnID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIGFyZ0Rlc2MgPSAoYXJnRGVzYyA9IGdvb2cuZGVidWcuZ2V0RnVuY3Rpb25OYW1lKGFyZykpID8gYXJnRGVzYyA6IFwiW2ZuXVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFyZ0Rlc2MgPSB0eXBlb2YgYXJnO1xuICAgICAgICB9XG4gICAgICAgIDQwIDwgYXJnRGVzYy5sZW5ndGggJiYgKGFyZ0Rlc2MgPSBhcmdEZXNjLnN1YnN0cigwLCA0MCkgKyBcIi4uLlwiKTtcbiAgICAgICAgc2IucHVzaChhcmdEZXNjKTtcbiAgICAgIH1cbiAgICAgIHZpc2l0ZWQucHVzaChmbik7XG4gICAgICBzYi5wdXNoKFwiKVxcblwiKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNiLnB1c2goZ29vZy5kZWJ1Zy5nZXRTdGFja3RyYWNlSGVscGVyXyhmbi5jYWxsZXIsIHZpc2l0ZWQpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgc2IucHVzaChcIltleGNlcHRpb24gdHJ5aW5nIHRvIGdldCBjYWxsZXJdXFxuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmbiA/IHNiLnB1c2goXCJbLi4ubG9uZyBzdGFjay4uLl1cIikgOiBzYi5wdXNoKFwiW2VuZF1cIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBzYi5qb2luKFwiXCIpO1xufTtcbmdvb2cuZGVidWcuZ2V0RnVuY3Rpb25OYW1lID0gZnVuY3Rpb24oZm4pIHtcbiAgaWYgKGdvb2cuZGVidWcuZm5OYW1lQ2FjaGVfW2ZuXSkge1xuICAgIHJldHVybiBnb29nLmRlYnVnLmZuTmFtZUNhY2hlX1tmbl07XG4gIH1cbiAgdmFyIGZ1bmN0aW9uU291cmNlID0gU3RyaW5nKGZuKTtcbiAgaWYgKCFnb29nLmRlYnVnLmZuTmFtZUNhY2hlX1tmdW5jdGlvblNvdXJjZV0pIHtcbiAgICB2YXIgbWF0Y2hlcyA9IC9mdW5jdGlvblxccysoW15cXChdKykvbS5leGVjKGZ1bmN0aW9uU291cmNlKTtcbiAgICBnb29nLmRlYnVnLmZuTmFtZUNhY2hlX1tmdW5jdGlvblNvdXJjZV0gPSBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IFwiW0Fub255bW91c11cIjtcbiAgfVxuICByZXR1cm4gZ29vZy5kZWJ1Zy5mbk5hbWVDYWNoZV9bZnVuY3Rpb25Tb3VyY2VdO1xufTtcbmdvb2cuZGVidWcubWFrZVdoaXRlc3BhY2VWaXNpYmxlID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvIC9nLCBcIltfXVwiKS5yZXBsYWNlKC9cXGYvZywgXCJbZl1cIikucmVwbGFjZSgvXFxuL2csIFwiW25dXFxuXCIpLnJlcGxhY2UoL1xcci9nLCBcIltyXVwiKS5yZXBsYWNlKC9cXHQvZywgXCJbdF1cIik7XG59O1xuZ29vZy5kZWJ1Zy5ydW50aW1lVHlwZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gdmFsdWUuZGlzcGxheU5hbWUgfHwgdmFsdWUubmFtZSB8fCBcInVua25vd24gdHlwZSBuYW1lXCIgOiB2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCA/IHZhbHVlLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8IHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA6IG51bGwgPT09IHZhbHVlID8gXCJudWxsXCIgOiB0eXBlb2YgdmFsdWU7XG59O1xuZ29vZy5kZWJ1Zy5mbk5hbWVDYWNoZV8gPSB7fTtcbmdvb2cuZGVidWcuZnJlZXplSW50ZXJuYWxfID0gZ29vZy5ERUJVRyAmJiBPYmplY3QuZnJlZXplIHx8IGZ1bmN0aW9uKGFyZykge1xuICByZXR1cm4gYXJnO1xufTtcbmdvb2cuZGVidWcuZnJlZXplID0gZnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5kZWJ1Zy5mcmVlemVJbnRlcm5hbF8oYXJnKTtcbiAgfSgpO1xufTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJGZWF0dXJlID0ge0hBU19XM0NfQlVUVE9OOiEwLCBIQVNfVzNDX0VWRU5UX1NVUFBPUlQ6ITAsIFNFVF9LRVlfQ09ERV9UT19QUkVWRU5UX0RFRkFVTFQ6ITEsIEhBU19OQVZJR0FUT1JfT05MSU5FX1BST1BFUlRZOiEwLCBIQVNfSFRNTDVfTkVUV09SS19FVkVOVF9TVVBQT1JUOiEwLCBIVE1MNV9ORVRXT1JLX0VWRU5UU19GSVJFX09OX0JPRFk6ITEsIFRPVUNIX0VOQUJMRUQ6XCJvbnRvdWNoc3RhcnRcIiBpbiBnb29nLmdsb2JhbCB8fCAhIShnb29nLmdsb2JhbC5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgXCJvbnRvdWNoc3RhcnRcIiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHx8ICEoIWdvb2cuZ2xvYmFsLm5hdmlnYXRvciB8fCAhZ29vZy5nbG9iYWwubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzICYmICFnb29nLmdsb2JhbC5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyksIFBPSU5URVJfRVZFTlRTOlwiUG9pbnRlckV2ZW50XCIgaW4gXG5nb29nLmdsb2JhbCwgTVNQT0lOVEVSX0VWRU5UUzpcIk1TUG9pbnRlckV2ZW50XCIgaW4gZ29vZy5nbG9iYWwgJiYgISghZ29vZy5nbG9iYWwubmF2aWdhdG9yIHx8ICFnb29nLmdsb2JhbC5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCksIFBBU1NJVkVfRVZFTlRTOmZ1bmN0aW9uKGZuKSB7XG4gIHJldHVybiB7dmFsdWVPZjpmbn0udmFsdWVPZigpO1xufShmdW5jdGlvbigpIHtcbiAgaWYgKCFnb29nLmdsb2JhbC5hZGRFdmVudExpc3RlbmVyIHx8ICFPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIHBhc3NpdmUgPSAhMSwgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJwYXNzaXZlXCIsIHtnZXQ6ZnVuY3Rpb24oKSB7XG4gICAgcGFzc2l2ZSA9ICEwO1xuICB9fSk7XG4gIHRyeSB7XG4gICAgZ29vZy5nbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgZ29vZy5udWxsRnVuY3Rpb24sIG9wdGlvbnMpLCBnb29nLmdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidGVzdFwiLCBnb29nLm51bGxGdW5jdGlvbiwgb3B0aW9ucyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxuICByZXR1cm4gcGFzc2l2ZTtcbn0pfTtcbnZhciBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50ID0ge307XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50LlVTRV9DTElFTlRfSElOVFMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICExO1xufSgpO1xuZ29vZy5zdHJpbmcgPSB7fTtcbmdvb2cuc3RyaW5nLmludGVybmFsID0ge307XG5nb29nLnN0cmluZy5pbnRlcm5hbC5zdGFydHNXaXRoID0gZnVuY3Rpb24oc3RyLCBwcmVmaXgpIHtcbiAgcmV0dXJuIDAgPT0gc3RyLmxhc3RJbmRleE9mKHByZWZpeCwgMCk7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuZW5kc1dpdGggPSBmdW5jdGlvbihzdHIsIHN1ZmZpeCkge1xuICB2YXIgbCA9IHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICByZXR1cm4gMCA8PSBsICYmIHN0ci5pbmRleE9mKHN1ZmZpeCwgbCkgPT0gbDtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoID0gZnVuY3Rpb24oc3RyLCBwcmVmaXgpIHtcbiAgcmV0dXJuIDAgPT0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlQ29tcGFyZShwcmVmaXgsIHN0ci5zdWJzdHIoMCwgcHJlZml4Lmxlbmd0aCkpO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZUVuZHNXaXRoID0gZnVuY3Rpb24oc3RyLCBzdWZmaXgpIHtcbiAgcmV0dXJuIDAgPT0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlQ29tcGFyZShzdWZmaXgsIHN0ci5zdWJzdHIoc3RyLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgsIHN1ZmZpeC5sZW5ndGgpKTtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVFcXVhbHMgPSBmdW5jdGlvbihzdHIxLCBzdHIyKSB7XG4gIHJldHVybiBzdHIxLnRvTG93ZXJDYXNlKCkgPT0gc3RyMi50b0xvd2VyQ2FzZSgpO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLmlzRW1wdHlPcldoaXRlc3BhY2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIC9eW1xcc1xceGEwXSokLy50ZXN0KHN0cik7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwudHJpbSA9IGdvb2cuVFJVU1RFRF9TSVRFICYmIFN0cmluZy5wcm90b3R5cGUudHJpbSA/IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnRyaW0oKTtcbn0gOiBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIC9eW1xcc1xceGEwXSooW1xcc1xcU10qPylbXFxzXFx4YTBdKiQvLmV4ZWMoc3RyKVsxXTtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVDb21wYXJlID0gZnVuY3Rpb24oc3RyMSwgc3RyMikge1xuICB2YXIgdGVzdDEgPSBTdHJpbmcoc3RyMSkudG9Mb3dlckNhc2UoKSwgdGVzdDIgPSBTdHJpbmcoc3RyMikudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIHRlc3QxIDwgdGVzdDIgPyAtMSA6IHRlc3QxID09IHRlc3QyID8gMCA6IDE7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwubmV3TGluZVRvQnIgPSBmdW5jdGlvbihzdHIsIG9wdF94bWwpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXFxyXFxufFxccnxcXG4pL2csIG9wdF94bWwgPyBcIjxiciAvPlwiIDogXCI8YnI+XCIpO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLmh0bWxFc2NhcGUgPSBmdW5jdGlvbihzdHIsIG9wdF9pc0xpa2VseVRvQ29udGFpbkh0bWxDaGFycykge1xuICBpZiAob3B0X2lzTGlrZWx5VG9Db250YWluSHRtbENoYXJzKSB7XG4gICAgc3RyID0gc3RyLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuQU1QX1JFXywgXCImYW1wO1wiKS5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLkxUX1JFXywgXCImbHQ7XCIpLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuR1RfUkVfLCBcIiZndDtcIikucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5RVU9UX1JFXywgXCImcXVvdDtcIikucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5TSU5HTEVfUVVPVEVfUkVfLCBcIiYjMzk7XCIpLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuTlVMTF9SRV8sIFwiJiMwO1wiKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWdvb2cuc3RyaW5nLmludGVybmFsLkFMTF9SRV8udGVzdChzdHIpKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICAtMSAhPSBzdHIuaW5kZXhPZihcIiZcIikgJiYgKHN0ciA9IHN0ci5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLkFNUF9SRV8sIFwiJmFtcDtcIikpO1xuICAgIC0xICE9IHN0ci5pbmRleE9mKFwiPFwiKSAmJiAoc3RyID0gc3RyLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuTFRfUkVfLCBcIiZsdDtcIikpO1xuICAgIC0xICE9IHN0ci5pbmRleE9mKFwiPlwiKSAmJiAoc3RyID0gc3RyLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuR1RfUkVfLCBcIiZndDtcIikpO1xuICAgIC0xICE9IHN0ci5pbmRleE9mKCdcIicpICYmIChzdHIgPSBzdHIucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5RVU9UX1JFXywgXCImcXVvdDtcIikpO1xuICAgIC0xICE9IHN0ci5pbmRleE9mKFwiJ1wiKSAmJiAoc3RyID0gc3RyLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuU0lOR0xFX1FVT1RFX1JFXywgXCImIzM5O1wiKSk7XG4gICAgLTEgIT0gc3RyLmluZGV4T2YoXCJcXHgwMFwiKSAmJiAoc3RyID0gc3RyLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuTlVMTF9SRV8sIFwiJiMwO1wiKSk7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5BTVBfUkVfID0gLyYvZztcbmdvb2cuc3RyaW5nLmludGVybmFsLkxUX1JFXyA9IC88L2c7XG5nb29nLnN0cmluZy5pbnRlcm5hbC5HVF9SRV8gPSAvPi9nO1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuUVVPVF9SRV8gPSAvXCIvZztcbmdvb2cuc3RyaW5nLmludGVybmFsLlNJTkdMRV9RVU9URV9SRV8gPSAvJy9nO1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuTlVMTF9SRV8gPSAvXFx4MDAvZztcbmdvb2cuc3RyaW5nLmludGVybmFsLkFMTF9SRV8gPSAvW1xceDAwJjw+XCInXS87XG5nb29nLnN0cmluZy5pbnRlcm5hbC53aGl0ZXNwYWNlRXNjYXBlID0gZnVuY3Rpb24oc3RyLCBvcHRfeG1sKSB7XG4gIHJldHVybiBnb29nLnN0cmluZy5pbnRlcm5hbC5uZXdMaW5lVG9CcihzdHIucmVwbGFjZSgvICAvZywgXCIgJiMxNjA7XCIpLCBvcHRfeG1sKTtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5jb250YWlucyA9IGZ1bmN0aW9uKHN0ciwgc3ViU3RyaW5nKSB7XG4gIHJldHVybiAtMSAhPSBzdHIuaW5kZXhPZihzdWJTdHJpbmcpO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZUNvbnRhaW5zID0gZnVuY3Rpb24oc3RyLCBzdWJTdHJpbmcpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zKHN0ci50b0xvd2VyQ2FzZSgpLCBzdWJTdHJpbmcudG9Mb3dlckNhc2UoKSk7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZVZlcnNpb25zID0gZnVuY3Rpb24odmVyc2lvbjEsIHZlcnNpb24yKSB7XG4gIGZvciAodmFyIG9yZGVyID0gMCwgdjFTdWJzID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwudHJpbShTdHJpbmcodmVyc2lvbjEpKS5zcGxpdChcIi5cIiksIHYyU3VicyA9IGdvb2cuc3RyaW5nLmludGVybmFsLnRyaW0oU3RyaW5nKHZlcnNpb24yKSkuc3BsaXQoXCIuXCIpLCBzdWJDb3VudCA9IE1hdGgubWF4KHYxU3Vicy5sZW5ndGgsIHYyU3Vicy5sZW5ndGgpLCBzdWJJZHggPSAwOyAwID09IG9yZGVyICYmIHN1YklkeCA8IHN1YkNvdW50OyBzdWJJZHgrKykge1xuICAgIHZhciB2MVN1YiA9IHYxU3Vic1tzdWJJZHhdIHx8IFwiXCIsIHYyU3ViID0gdjJTdWJzW3N1YklkeF0gfHwgXCJcIjtcbiAgICBkbyB7XG4gICAgICB2YXIgdjFDb21wID0gLyhcXGQqKShcXEQqKSguKikvLmV4ZWModjFTdWIpIHx8IFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSwgdjJDb21wID0gLyhcXGQqKShcXEQqKSguKikvLmV4ZWModjJTdWIpIHx8IFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXTtcbiAgICAgIGlmICgwID09IHYxQ29tcFswXS5sZW5ndGggJiYgMCA9PSB2MkNvbXBbMF0ubGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgb3JkZXIgPSBnb29nLnN0cmluZy5pbnRlcm5hbC5jb21wYXJlRWxlbWVudHNfKDAgPT0gdjFDb21wWzFdLmxlbmd0aCA/IDAgOiBwYXJzZUludCh2MUNvbXBbMV0sIDEwKSwgMCA9PSB2MkNvbXBbMV0ubGVuZ3RoID8gMCA6IHBhcnNlSW50KHYyQ29tcFsxXSwgMTApKSB8fCBnb29nLnN0cmluZy5pbnRlcm5hbC5jb21wYXJlRWxlbWVudHNfKDAgPT0gdjFDb21wWzJdLmxlbmd0aCwgMCA9PSB2MkNvbXBbMl0ubGVuZ3RoKSB8fCBnb29nLnN0cmluZy5pbnRlcm5hbC5jb21wYXJlRWxlbWVudHNfKHYxQ29tcFsyXSwgdjJDb21wWzJdKTtcbiAgICAgIHYxU3ViID0gdjFDb21wWzNdO1xuICAgICAgdjJTdWIgPSB2MkNvbXBbM107XG4gICAgfSB3aGlsZSAoMCA9PSBvcmRlcik7XG4gIH1cbiAgcmV0dXJuIG9yZGVyO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVFbGVtZW50c18gPSBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn07XG5nb29nLmxhYnMgPSB7fTtcbmdvb2cubGFicy51c2VyQWdlbnQgPSB7fTtcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbCA9IHt9O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXROYXRpdmVVc2VyQWdlbnRTdHJpbmcoKSB7XG4gIHZhciBuYXZpZ2F0b3IgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldE5hdmlnYXRvcigpO1xuICBpZiAobmF2aWdhdG9yKSB7XG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgaWYgKHVzZXJBZ2VudCkge1xuICAgICAgcmV0dXJuIHVzZXJBZ2VudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldE5hdGl2ZVVzZXJBZ2VudERhdGEoKSB7XG4gIGlmICghbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudC5VU0VfQ0xJRU5UX0hJTlRTKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIG5hdmlnYXRvciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF2aWdhdG9yKCk7XG4gIHJldHVybiBuYXZpZ2F0b3IgPyBuYXZpZ2F0b3IudXNlckFnZW50RGF0YSB8fCBudWxsIDogbnVsbDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF2aWdhdG9yKCkge1xuICByZXR1cm4gZ29vZy5nbG9iYWwubmF2aWdhdG9yO1xufVxudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfdXNlckFnZW50SW50ZXJuYWwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldE5hdGl2ZVVzZXJBZ2VudFN0cmluZygpLCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3VzZXJBZ2VudERhdGFJbnRlcm5hbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF0aXZlVXNlckFnZW50RGF0YSgpO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnQoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3VzZXJBZ2VudEludGVybmFsO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF91c2VyQWdlbnREYXRhSW50ZXJuYWw7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50RGF0YUJyYW5kKHN0cikge1xuICB2YXIgZGF0YSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpO1xuICByZXR1cm4gZGF0YSA/IGRhdGEuYnJhbmRzLnNvbWUoZnVuY3Rpb24oJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjApIHtcbiAgICB2YXIgYnJhbmQgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMC5icmFuZDtcbiAgICByZXR1cm4gYnJhbmQgJiYgKDAsZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29udGFpbnMpKGJyYW5kLCBzdHIpO1xuICB9KSA6ICExO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChzdHIpIHtcbiAgcmV0dXJuICgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zKShtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudCgpLCBzdHIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudElnbm9yZUNhc2Uoc3RyKSB7XG4gIHJldHVybiAoMCxnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVDb250YWlucykobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnQoKSwgc3RyKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZXh0cmFjdFZlcnNpb25UdXBsZXModXNlckFnZW50KSB7XG4gIGZvciAodmFyIHZlcnNpb25SZWdFeHAgPSBSZWdFeHAoXCIoXFxcXHdbXFxcXHcgXSspLyhbXlxcXFxzXSspXFxcXHMqKD86XFxcXCgoLio/KVxcXFwpKT9cIiwgXCJnXCIpLCBkYXRhID0gW10sIG1hdGNoOyBtYXRjaCA9IHZlcnNpb25SZWdFeHAuZXhlYyh1c2VyQWdlbnQpOykge1xuICAgIGRhdGEucHVzaChbbWF0Y2hbMV0sIG1hdGNoWzJdLCBtYXRjaFszXSB8fCB2b2lkIDBdKTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5BU1NVTUVfQ0xJRU5UX0hJTlRTX1NVUFBPUlQgPSAhMTtcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5leHRyYWN0VmVyc2lvblR1cGxlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZXh0cmFjdFZlcnNpb25UdXBsZXM7XG5nb29nLmxhYnMudXNlckFnZW50LnV0aWwuZ2V0TmF0aXZlVXNlckFnZW50U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXROYXRpdmVVc2VyQWdlbnRTdHJpbmc7XG5nb29nLmxhYnMudXNlckFnZW50LnV0aWwuZ2V0VXNlckFnZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnQ7XG5nb29nLmxhYnMudXNlckFnZW50LnV0aWwuZ2V0VXNlckFnZW50RGF0YSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YTtcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5tYXRjaFVzZXJBZ2VudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQ7XG5nb29nLmxhYnMudXNlckFnZW50LnV0aWwubWF0Y2hVc2VyQWdlbnREYXRhQnJhbmQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50RGF0YUJyYW5kO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLm1hdGNoVXNlckFnZW50SWdub3JlQ2FzZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnRJZ25vcmVDYXNlO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLnJlc2V0VXNlckFnZW50RGF0YSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfcmVzZXRVc2VyQWdlbnREYXRhKCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3VzZXJBZ2VudERhdGFJbnRlcm5hbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF0aXZlVXNlckFnZW50RGF0YSgpO1xufTtcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5zZXRVc2VyQWdlbnQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3NldFVzZXJBZ2VudCh1c2VyQWdlbnQpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF91c2VyQWdlbnRJbnRlcm5hbCA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiB1c2VyQWdlbnQgPyB1c2VyQWdlbnQgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldE5hdGl2ZVVzZXJBZ2VudFN0cmluZygpO1xufTtcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5zZXRVc2VyQWdlbnREYXRhID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9zZXRVc2VyQWdlbnREYXRhKHVzZXJBZ2VudERhdGEpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF91c2VyQWdlbnREYXRhSW50ZXJuYWwgPSB1c2VyQWdlbnREYXRhO1xufTtcbnZhciBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUgPSB7QXN5bmNWYWx1ZTpmdW5jdGlvbigpIHtcbn19O1xubW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLkFzeW5jVmFsdWUucHJvdG90eXBlLmdldElmTG9hZGVkID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLkFzeW5jVmFsdWUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuSGlnaEVudHJvcHlWYWx1ZSA9IGZ1bmN0aW9uKGtleSkge1xuICB0aGlzLmtleV8gPSBrZXk7XG4gIHRoaXMucHJvbWlzZV8gPSB0aGlzLnZhbHVlXyA9IHZvaWQgMDtcbiAgdGhpcy5wZW5kaW5nXyA9ICExO1xufTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5IaWdoRW50cm9weVZhbHVlLnByb3RvdHlwZS5nZXRJZkxvYWRlZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZV87XG4gIH1cbn07XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuSGlnaEVudHJvcHlWYWx1ZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJGpzY29tcCRhc3luYyR0aGlzID0gdGhpcywgdXNlckFnZW50RGF0YTtcbiAgcmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvclByb2dyYW0oZnVuY3Rpb24oJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCkge1xuICAgIGlmICgxID09ICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQubmV4dEFkZHJlc3MpIHtcbiAgICAgIHVzZXJBZ2VudERhdGEgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKTtcbiAgICAgIGlmICghdXNlckFnZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5yZXR1cm4odm9pZCAwKTtcbiAgICAgIH1cbiAgICAgICRqc2NvbXAkYXN5bmMkdGhpcy5wcm9taXNlXyB8fCAoJGpzY29tcCRhc3luYyR0aGlzLnBlbmRpbmdfID0gITAsICRqc2NvbXAkYXN5bmMkdGhpcy5wcm9taXNlXyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGF0YVZhbHVlcztcbiAgICAgICAgcmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvclByb2dyYW0oZnVuY3Rpb24oJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCQxKSB7XG4gICAgICAgICAgaWYgKDEgPT0gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCQxLm5leHRBZGRyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCQxLnNldEZpbmFsbHlCbG9jaygyKSwgJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCQxLnlpZWxkKHVzZXJBZ2VudERhdGEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoWyRqc2NvbXAkYXN5bmMkdGhpcy5rZXlfXSksIDQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoMiAhPSAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEubmV4dEFkZHJlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhVmFsdWVzID0gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCQxLnlpZWxkUmVzdWx0LCAkanNjb21wJGFzeW5jJHRoaXMudmFsdWVfID0gZGF0YVZhbHVlc1skanNjb21wJGFzeW5jJHRoaXMua2V5X10sICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQkMS5yZXR1cm4oJGpzY29tcCRhc3luYyR0aGlzLnZhbHVlXyk7XG4gICAgICAgICAgfVxuICAgICAgICAgICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQkMS5lbnRlckZpbmFsbHlCbG9jaygpO1xuICAgICAgICAgICRqc2NvbXAkYXN5bmMkdGhpcy5wZW5kaW5nXyA9ICExO1xuICAgICAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEubGVhdmVGaW5hbGx5QmxvY2soMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSgpKTtcbiAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnlpZWxkKCRqc2NvbXAkYXN5bmMkdGhpcy5wcm9taXNlXywgMik7XG4gICAgfVxuICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnJldHVybigkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnlpZWxkUmVzdWx0KTtcbiAgfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLkhpZ2hFbnRyb3B5VmFsdWUucHJvdG90eXBlLnJlc2V0Rm9yVGVzdGluZyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5wZW5kaW5nXykge1xuICAgIHRocm93IEVycm9yKFwiVW5zYWZlIGNhbGwgdG8gcmVzZXRGb3JUZXN0aW5nXCIpO1xuICB9XG4gIHRoaXMudmFsdWVfID0gdGhpcy5wcm9taXNlXyA9IHZvaWQgMDtcbiAgdGhpcy5wZW5kaW5nXyA9ICExO1xufTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uID0gZnVuY3Rpb24odmVyc2lvblN0cmluZykge1xuICB0aGlzLnZlcnNpb25TdHJpbmdfID0gdmVyc2lvblN0cmluZztcbn07XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuVmVyc2lvbi5wcm90b3R5cGUudG9WZXJzaW9uU3RyaW5nRm9yTG9nZ2luZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy52ZXJzaW9uU3RyaW5nXztcbn07XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuVmVyc2lvbi5wcm90b3R5cGUuaXNBdExlYXN0ID0gZnVuY3Rpb24odmVyc2lvbikge1xuICByZXR1cm4gMCA8PSAoMCxnb29nLnN0cmluZy5pbnRlcm5hbC5jb21wYXJlVmVyc2lvbnMpKHRoaXMudmVyc2lvblN0cmluZ18sIHZlcnNpb24pO1xufTtcbnZhciBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YSA9IHt9O1xubW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weURhdGEuZnVsbFZlcnNpb25MaXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5IaWdoRW50cm9weVZhbHVlKFwiZnVsbFZlcnNpb25MaXN0XCIpO1xubW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weURhdGEucGxhdGZvcm1WZXJzaW9uID0gbmV3IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5IaWdoRW50cm9weVZhbHVlKFwicGxhdGZvcm1WZXJzaW9uXCIpO1xubW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weURhdGEucmVzZXRBbGxGb3JUZXN0aW5nID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhX3Jlc2V0QWxsRm9yVGVzdGluZygpIHtcbiAgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weURhdGEuZnVsbFZlcnNpb25MaXN0LnJlc2V0Rm9yVGVzdGluZygpO1xuICBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5wbGF0Zm9ybVZlcnNpb24ucmVzZXRGb3JUZXN0aW5nKCk7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyID0ge307XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9CcmFuZCA9IHtBTkRST0lEX0JST1dTRVI6XCJBbmRyb2lkIEJyb3dzZXJcIiwgQ0hST01JVU06XCJDaHJvbWl1bVwiLCBFREdFOlwiTWljcm9zb2Z0IEVkZ2VcIiwgRklSRUZPWDpcIkZpcmVmb3hcIiwgSUU6XCJJbnRlcm5ldCBFeHBsb3JlclwiLCBPUEVSQTpcIk9wZXJhXCIsIFNBRkFSSTpcIlNhZmFyaVwiLCBTSUxLOlwiU2lsa1wiLH07XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuQnJhbmQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl91c2VVc2VyQWdlbnRCcmFuZCgpIHtcbiAgdmFyIHVzZXJBZ2VudERhdGEgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKTtcbiAgcmV0dXJuICEhdXNlckFnZW50RGF0YSAmJiAwIDwgdXNlckFnZW50RGF0YS5icmFuZHMubGVuZ3RoO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkgPyAhMSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJPcGVyYVwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hJRSgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpID8gITEgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiVHJpZGVudFwiKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiTVNJRVwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hFZGdlSHRtbCgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpID8gITEgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiRWRnZVwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hFZGdlQ2hyb21pdW0oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudEJyYW5kKCkgPyBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50RGF0YUJyYW5kKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuRURHRSkgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiRWRnL1wiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYUNocm9taXVtKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl91c2VVc2VyQWdlbnRCcmFuZCgpID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudERhdGFCcmFuZChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLk9QRVJBKSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJPUFJcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRmlyZWZveCgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpID8gITEgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiRmlyZWZveFwiKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiRnhpT1NcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoU2FmYXJpKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl91c2VVc2VyQWdlbnRCcmFuZCgpID8gITEgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiU2FmYXJpXCIpICYmICEobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENocm9tZSgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hDb2FzdCgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYSgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hFZGdlSHRtbCgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hFZGdlQ2hyb21pdW0oKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmFDaHJvbWl1bSgpIHx8IFxuICBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRmlyZWZveCgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNTaWxrKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkFuZHJvaWRcIikpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENvYXN0KCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkgPyAhMSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJDb2FzdFwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hJb3NXZWJ2aWV3KCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkgPyAhMSA6IChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiaVBhZFwiKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiaVBob25lXCIpKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaFNhZmFyaSgpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lKCkgJiYgIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hDb2FzdCgpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRmlyZWZveCgpICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJBcHBsZVdlYktpdFwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hDaHJvbWUoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudEJyYW5kKCkgPyBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50RGF0YUJyYW5kKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuQ0hST01JVU0pIDogKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJDaHJvbWVcIikgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkNyaU9TXCIpKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sKCk7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQW5kcm9pZEJyb3dzZXIoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQW5kcm9pZFwiKSAmJiAhKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hDaHJvbWUoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRmlyZWZveCgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYSgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNTaWxrKCkpO1xufVxudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNPcGVyYSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYTtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc09wZXJhID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNJRSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hJRTtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc0lFID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNFZGdlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzRWRnZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hFZGdlSHRtbDtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzRWRnZUNocm9taXVtID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VDaHJvbWl1bTtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc0VkZ2VDaHJvbWl1bSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hFZGdlQ2hyb21pdW07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc09wZXJhQ2hyb21pdW0gPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmFDaHJvbWl1bTtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc09wZXJhQ2hyb21pdW0gPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmFDaHJvbWl1bTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzRmlyZWZveCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hGaXJlZm94O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzRmlyZWZveCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hGaXJlZm94O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNTYWZhcmkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoU2FmYXJpO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzU2FmYXJpID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaFNhZmFyaTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzQ29hc3QgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ29hc3Q7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNDb2FzdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hDb2FzdDtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzSW9zV2VidmlldyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hJb3NXZWJ2aWV3O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzSW9zV2VidmlldyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hJb3NXZWJ2aWV3O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNDaHJvbWUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzQ2hyb21lID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENocm9tZTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzQW5kcm9pZEJyb3dzZXIgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQW5kcm9pZEJyb3dzZXI7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNBbmRyb2lkQnJvd3NlciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hBbmRyb2lkQnJvd3NlcjtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNTaWxrKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIlNpbGtcIik7XG59XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNTaWxrID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1NpbGs7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2NyZWF0ZVZlcnNpb25NYXAodmVyc2lvblR1cGxlcykge1xuICB2YXIgdmVyc2lvbk1hcCA9IHt9O1xuICB2ZXJzaW9uVHVwbGVzLmZvckVhY2goZnVuY3Rpb24odHVwbGUpIHtcbiAgICB2ZXJzaW9uTWFwW3R1cGxlWzBdXSA9IHR1cGxlWzFdO1xuICB9KTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtleXMpIHtcbiAgICByZXR1cm4gdmVyc2lvbk1hcFtrZXlzLmZpbmQoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4ga2V5IGluIHZlcnNpb25NYXA7XG4gICAgfSldIHx8IFwiXCI7XG4gIH07XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2dldFZlcnNpb24oKSB7XG4gIHZhciB1c2VyQWdlbnRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudCgpO1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFKCkpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRJRVZlcnNpb24odXNlckFnZW50U3RyaW5nKTtcbiAgfVxuICB2YXIgdmVyc2lvblR1cGxlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZXh0cmFjdFZlcnNpb25UdXBsZXModXNlckFnZW50U3RyaW5nKSwgbG9va1VwVmFsdWVXaXRoS2V5cyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfY3JlYXRlVmVyc2lvbk1hcCh2ZXJzaW9uVHVwbGVzKTtcbiAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYSgpKSB7XG4gICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiVmVyc2lvblwiLCBcIk9wZXJhXCJdKTtcbiAgfVxuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sKCkpIHtcbiAgICByZXR1cm4gbG9va1VwVmFsdWVXaXRoS2V5cyhbXCJFZGdlXCJdKTtcbiAgfVxuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VDaHJvbWl1bSgpKSB7XG4gICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiRWRnXCJdKTtcbiAgfVxuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENocm9tZSgpKSB7XG4gICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiQ2hyb21lXCIsIFwiQ3JpT1NcIiwgXCJIZWFkbGVzc0Nocm9tZVwiXSk7XG4gIH1cbiAgdmFyIHR1cGxlID0gdmVyc2lvblR1cGxlc1syXTtcbiAgcmV0dXJuIHR1cGxlICYmIHR1cGxlWzFdIHx8IFwiXCI7XG59XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuZ2V0VmVyc2lvbiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZ2V0VmVyc2lvbjtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc1ZlcnNpb25PckhpZ2hlciA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNWZXJzaW9uT3JIaWdoZXIodmVyc2lvbikge1xuICByZXR1cm4gMCA8PSAoMCxnb29nLnN0cmluZy5pbnRlcm5hbC5jb21wYXJlVmVyc2lvbnMpKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZ2V0VmVyc2lvbigpLCB2ZXJzaW9uKTtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2dldElFVmVyc2lvbih1c2VyQWdlbnQpIHtcbiAgdmFyIHJ2ID0gL3J2OiAqKFtcXGRcXC5dKikvLmV4ZWModXNlckFnZW50KTtcbiAgaWYgKHJ2ICYmIHJ2WzFdKSB7XG4gICAgcmV0dXJuIHJ2WzFdO1xuICB9XG4gIHZhciB2ZXJzaW9uID0gXCJcIiwgbXNpZSA9IC9NU0lFICsoW1xcZFxcLl0rKS8uZXhlYyh1c2VyQWdlbnQpO1xuICBpZiAobXNpZSAmJiBtc2llWzFdKSB7XG4gICAgdmFyIHRyaWRlbnRWZXJzaW9uID0gL1RyaWRlbnRcXC8oXFxkLlxcZCkvLmV4ZWModXNlckFnZW50KTtcbiAgICBpZiAoXCI3LjBcIiA9PSBtc2llWzFdKSB7XG4gICAgICBpZiAodHJpZGVudFZlcnNpb24gJiYgdHJpZGVudFZlcnNpb25bMV0pIHtcbiAgICAgICAgc3dpdGNoKHRyaWRlbnRWZXJzaW9uWzFdKSB7XG4gICAgICAgICAgY2FzZSBcIjQuMFwiOlxuICAgICAgICAgICAgdmVyc2lvbiA9IFwiOC4wXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiNS4wXCI6XG4gICAgICAgICAgICB2ZXJzaW9uID0gXCI5LjBcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCI2LjBcIjpcbiAgICAgICAgICAgIHZlcnNpb24gPSBcIjEwLjBcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCI3LjBcIjpcbiAgICAgICAgICAgIHZlcnNpb24gPSBcIjExLjBcIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVyc2lvbiA9IFwiNy4wXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlcnNpb24gPSBtc2llWzFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmVyc2lvbjtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZ2V0RnVsbFZlcnNpb25Gcm9tVXNlckFnZW50U3RyaW5nKGJyb3dzZXIpIHtcbiAgdmFyIHVzZXJBZ2VudFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50KCk7XG4gIGlmIChicm93c2VyID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLklFKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hJRSgpID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRJRVZlcnNpb24odXNlckFnZW50U3RyaW5nKSA6IFwiXCI7XG4gIH1cbiAgdmFyIHZlcnNpb25UdXBsZXMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2V4dHJhY3RWZXJzaW9uVHVwbGVzKHVzZXJBZ2VudFN0cmluZyksIGxvb2tVcFZhbHVlV2l0aEtleXMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2NyZWF0ZVZlcnNpb25NYXAodmVyc2lvblR1cGxlcyk7XG4gIHN3aXRjaChicm93c2VyKSB7XG4gICAgY2FzZSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLk9QRVJBOlxuICAgICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYSgpKSB7XG4gICAgICAgIHJldHVybiBsb29rVXBWYWx1ZVdpdGhLZXlzKFtcIlZlcnNpb25cIiwgXCJPcGVyYVwiXSk7XG4gICAgICB9XG4gICAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhQ2hyb21pdW0oKSkge1xuICAgICAgICByZXR1cm4gbG9va1VwVmFsdWVXaXRoS2V5cyhbXCJPUFJcIl0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLkVER0U6XG4gICAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sKCkpIHtcbiAgICAgICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiRWRnZVwiXSk7XG4gICAgICB9XG4gICAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VDaHJvbWl1bSgpKSB7XG4gICAgICAgIHJldHVybiBsb29rVXBWYWx1ZVdpdGhLZXlzKFtcIkVkZ1wiXSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuQ0hST01JVU06XG4gICAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENocm9tZSgpKSB7XG4gICAgICAgIHJldHVybiBsb29rVXBWYWx1ZVdpdGhLZXlzKFtcIkNocm9tZVwiLCBcIkNyaU9TXCIsIFwiSGVhZGxlc3NDaHJvbWVcIl0pO1xuICAgICAgfVxuICB9XG4gIGlmIChicm93c2VyID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLkZJUkVGT1ggJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEZpcmVmb3goKSB8fCBicm93c2VyID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLlNBRkFSSSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoU2FmYXJpKCkgfHwgYnJvd3NlciA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9CcmFuZC5BTkRST0lEX0JST1dTRVIgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEFuZHJvaWRCcm93c2VyKCkpIHtcbiAgICB2YXIgdHVwbGUgPSB2ZXJzaW9uVHVwbGVzWzJdO1xuICAgIHJldHVybiB0dXBsZSAmJiB0dXBsZVsxXSB8fCBcIlwiO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl92ZXJzaW9uT2YoYnJvd3Nlcikge1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl91c2VVc2VyQWdlbnRCcmFuZCgpKSB7XG4gICAgdmFyIG1hdGNoaW5nQnJhbmQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKS5icmFuZHMuZmluZChmdW5jdGlvbigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMikge1xuICAgICAgcmV0dXJuICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyLmJyYW5kID09PSBicm93c2VyO1xuICAgIH0pO1xuICAgIGlmICghbWF0Y2hpbmdCcmFuZCB8fCAhbWF0Y2hpbmdCcmFuZC52ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICB2YXIgdmVyc2lvblBhcnRzID0gbWF0Y2hpbmdCcmFuZC52ZXJzaW9uLnNwbGl0KFwiLlwiKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZnVsbFZlcnNpb24gPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2dldEZ1bGxWZXJzaW9uRnJvbVVzZXJBZ2VudFN0cmluZyhicm93c2VyKTtcbiAgICBpZiAoXCJcIiA9PT0gZnVsbFZlcnNpb24pIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIHZlcnNpb25QYXJ0cyA9IGZ1bGxWZXJzaW9uLnNwbGl0KFwiLlwiKTtcbiAgfVxuICByZXR1cm4gMCA9PT0gdmVyc2lvblBhcnRzLmxlbmd0aCA/IE5hTiA6IE51bWJlcih2ZXJzaW9uUGFydHNbMF0pO1xufVxuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLnZlcnNpb25PZiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfdmVyc2lvbk9mO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfSGlnaEVudHJvcHlCcmFuZFZlcnNpb24gPSBmdW5jdGlvbihicmFuZCkge1xuICB0aGlzLmJyYW5kXyA9IGJyYW5kO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfSGlnaEVudHJvcHlCcmFuZFZlcnNpb24ucHJvdG90eXBlLmdldElmTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzLCBsb2FkZWRWZXJzaW9uTGlzdCA9IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhLmZ1bGxWZXJzaW9uTGlzdC5nZXRJZkxvYWRlZCgpO1xuICBpZiAodm9pZCAwICE9PSBsb2FkZWRWZXJzaW9uTGlzdCkge1xuICAgIHZhciBtYXRjaGluZ0JyYW5kID0gbG9hZGVkVmVyc2lvbkxpc3QuZmluZChmdW5jdGlvbigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyNCkge1xuICAgICAgcmV0dXJuICRqc2NvbXAkdGhpcy5icmFuZF8gPT09ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI0LmJyYW5kO1xuICAgIH0pO1xuICAgIGdvb2cuYXNzZXJ0cy5hc3NlcnRFeGlzdHMobWF0Y2hpbmdCcmFuZCk7XG4gICAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuVmVyc2lvbihtYXRjaGluZ0JyYW5kLnZlcnNpb24pO1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9IaWdoRW50cm9weUJyYW5kVmVyc2lvbi5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJGpzY29tcCRhc3luYyR0aGlzID0gdGhpcywgbG9hZGVkVmVyc2lvbkxpc3QsIG1hdGNoaW5nQnJhbmQ7XG4gIHJldHVybiAkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JQcm9ncmFtKGZ1bmN0aW9uKCRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQpIHtcbiAgICBpZiAoMSA9PSAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0Lm5leHRBZGRyZXNzKSB7XG4gICAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC55aWVsZChtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5mdWxsVmVyc2lvbkxpc3QubG9hZCgpLCAyKTtcbiAgICB9XG4gICAgbG9hZGVkVmVyc2lvbkxpc3QgPSAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnlpZWxkUmVzdWx0O1xuICAgIG1hdGNoaW5nQnJhbmQgPSBsb2FkZWRWZXJzaW9uTGlzdC5maW5kKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI2KSB7XG4gICAgICByZXR1cm4gJGpzY29tcCRhc3luYyR0aGlzLmJyYW5kXyA9PT0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjYuYnJhbmQ7XG4gICAgfSk7XG4gICAgZ29vZy5hc3NlcnRzLmFzc2VydEV4aXN0cyhtYXRjaGluZ0JyYW5kKTtcbiAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5yZXR1cm4obmV3IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uKG1hdGNoaW5nQnJhbmQudmVyc2lvbikpO1xuICB9KTtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9Vc2VyQWdlbnRTdHJpbmdGYWxsYmFja0JyYW5kVmVyc2lvbiA9IGZ1bmN0aW9uKHZlcnNpb25TdHJpbmcpIHtcbiAgdGhpcy52ZXJzaW9uXyA9IG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuVmVyc2lvbih2ZXJzaW9uU3RyaW5nKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX1VzZXJBZ2VudFN0cmluZ0ZhbGxiYWNrQnJhbmRWZXJzaW9uLnByb3RvdHlwZS5nZXRJZkxvYWRlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy52ZXJzaW9uXztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX1VzZXJBZ2VudFN0cmluZ0ZhbGxiYWNrQnJhbmRWZXJzaW9uLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJGFzeW5jJHRoaXMgPSB0aGlzO1xuICByZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbShmdW5jdGlvbigkanNjb21wJGdlbmVyYXRvciRjb250ZXh0KSB7XG4gICAgcmV0dXJuICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQucmV0dXJuKCRqc2NvbXAkYXN5bmMkdGhpcy52ZXJzaW9uXyk7XG4gIH0pO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZnVsbFZlcnNpb25PZihicm93c2VyKSB7XG4gIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl91c2VVc2VyQWdlbnRCcmFuZCgpIHx8IDEwMSA+IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfdmVyc2lvbk9mKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuQ0hST01JVU0pKSB7XG4gICAgdmFyIGZ1bGxWZXJzaW9uRnJvbVVzZXJBZ2VudFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZ2V0RnVsbFZlcnNpb25Gcm9tVXNlckFnZW50U3RyaW5nKGJyb3dzZXIpO1xuICAgIHJldHVybiBcIlwiID09PSBmdWxsVmVyc2lvbkZyb21Vc2VyQWdlbnRTdHJpbmcgPyB2b2lkIDAgOiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9Vc2VyQWdlbnRTdHJpbmdGYWxsYmFja0JyYW5kVmVyc2lvbihmdWxsVmVyc2lvbkZyb21Vc2VyQWdlbnRTdHJpbmcpO1xuICB9XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKS5icmFuZHMuZmluZChmdW5jdGlvbigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyOCkge1xuICAgIHJldHVybiAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyOC5icmFuZCA9PT0gYnJvd3NlcjtcbiAgfSkgPyBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9IaWdoRW50cm9weUJyYW5kVmVyc2lvbihicm93c2VyKSA6IHZvaWQgMDtcbn1cbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5mdWxsVmVyc2lvbk9mID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9mdWxsVmVyc2lvbk9mO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmdldFZlcnNpb25TdHJpbmdGb3JMb2dnaW5nID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRWZXJzaW9uU3RyaW5nRm9yTG9nZ2luZyhicm93c2VyKSB7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudEJyYW5kKCkpIHtcbiAgICB2YXIgZnVsbFZlcnNpb25PYmogPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2Z1bGxWZXJzaW9uT2YoYnJvd3Nlcik7XG4gICAgaWYgKGZ1bGxWZXJzaW9uT2JqKSB7XG4gICAgICB2YXIgZnVsbFZlcnNpb24gPSBmdWxsVmVyc2lvbk9iai5nZXRJZkxvYWRlZCgpO1xuICAgICAgaWYgKGZ1bGxWZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBmdWxsVmVyc2lvbi50b1ZlcnNpb25TdHJpbmdGb3JMb2dnaW5nKCk7XG4gICAgICB9XG4gICAgICB2YXIgbWF0Y2hpbmdCcmFuZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpLmJyYW5kcy5maW5kKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxMCkge1xuICAgICAgICByZXR1cm4gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjEwLmJyYW5kID09PSBicm93c2VyO1xuICAgICAgfSk7XG4gICAgICBnb29nLmFzc2VydHMuYXNzZXJ0RXhpc3RzKG1hdGNoaW5nQnJhbmQpO1xuICAgICAgcmV0dXJuIG1hdGNoaW5nQnJhbmQudmVyc2lvbjtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZ2V0RnVsbFZlcnNpb25Gcm9tVXNlckFnZW50U3RyaW5nKGJyb3dzZXIpO1xufTtcbmdvb2cubGFicy51c2VyQWdlbnQuZW5naW5lID0ge307XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNQcmVzdG8oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiUHJlc3RvXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzVHJpZGVudCgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJUcmlkZW50XCIpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJNU0lFXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzRWRnZSgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJFZGdlXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzV2ViS2l0KCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudElnbm9yZUNhc2UoXCJXZWJLaXRcIikgJiYgIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc0VkZ2UoKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc0dlY2tvKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkdlY2tvXCIpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNXZWJLaXQoKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzVHJpZGVudCgpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNFZGdlKCk7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfZ2V0VmVyc2lvbigpIHtcbiAgdmFyIHVzZXJBZ2VudFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50KCk7XG4gIGlmICh1c2VyQWdlbnRTdHJpbmcpIHtcbiAgICB2YXIgdHVwbGVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9leHRyYWN0VmVyc2lvblR1cGxlcyh1c2VyQWdlbnRTdHJpbmcpLCBlbmdpbmVUdXBsZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9nZXRFbmdpbmVUdXBsZSh0dXBsZXMpO1xuICAgIGlmIChlbmdpbmVUdXBsZSkge1xuICAgICAgcmV0dXJuIFwiR2Vja29cIiA9PSBlbmdpbmVUdXBsZVswXSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9nZXRWZXJzaW9uRm9yS2V5KHR1cGxlcywgXCJGaXJlZm94XCIpIDogZW5naW5lVHVwbGVbMV07XG4gICAgfVxuICAgIHZhciBicm93c2VyVHVwbGUgPSB0dXBsZXNbMF0sIGluZm87XG4gICAgaWYgKGJyb3dzZXJUdXBsZSAmJiAoaW5mbyA9IGJyb3dzZXJUdXBsZVsyXSkpIHtcbiAgICAgIHZhciBtYXRjaCA9IC9UcmlkZW50XFwvKFteXFxzO10rKS8uZXhlYyhpbmZvKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4gbWF0Y2hbMV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2dldEVuZ2luZVR1cGxlKHR1cGxlcykge1xuICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc0VkZ2UoKSkge1xuICAgIHJldHVybiB0dXBsZXNbMV07XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0dXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdHVwbGUgPSB0dXBsZXNbaV07XG4gICAgaWYgKFwiRWRnZVwiID09IHR1cGxlWzBdKSB7XG4gICAgICByZXR1cm4gdHVwbGU7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfZ2V0VmVyc2lvbkZvcktleSh0dXBsZXMsIGtleSkge1xuICB2YXIgcGFpciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmQodHVwbGVzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgcmV0dXJuIGtleSA9PSBwYWlyWzBdO1xuICB9KTtcbiAgcmV0dXJuIHBhaXIgJiYgcGFpclsxXSB8fCBcIlwiO1xufVxuZ29vZy5sYWJzLnVzZXJBZ2VudC5lbmdpbmUuZ2V0VmVyc2lvbiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9nZXRWZXJzaW9uO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5lbmdpbmUuaXNFZGdlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzRWRnZTtcbmdvb2cubGFicy51c2VyQWdlbnQuZW5naW5lLmlzR2Vja28gPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNHZWNrbztcbmdvb2cubGFicy51c2VyQWdlbnQuZW5naW5lLmlzUHJlc3RvID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzUHJlc3RvO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5lbmdpbmUuaXNUcmlkZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzVHJpZGVudDtcbmdvb2cubGFicy51c2VyQWdlbnQuZW5naW5lLmlzVmVyc2lvbk9ySGlnaGVyID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzVmVyc2lvbk9ySGlnaGVyKHZlcnNpb24pIHtcbiAgcmV0dXJuIDAgPD0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZVZlcnNpb25zKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9nZXRWZXJzaW9uKCksIHZlcnNpb24pO1xufTtcbmdvb2cubGFicy51c2VyQWdlbnQuZW5naW5lLmlzV2ViS2l0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzV2ViS2l0O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybSA9IHt9O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNBbmRyb2lkKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkFuZHJvaWRcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwb2QoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiaVBvZFwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSXBob25lKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcImlQaG9uZVwiKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcImlQb2RcIikgJiYgIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJpUGFkXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGFkKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcImlQYWRcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lvcygpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSXBob25lKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGFkKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcG9kKCk7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc01hY2ludG9zaCgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJNYWNpbnRvc2hcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0xpbnV4KCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkxpbnV4XCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNXaW5kb3dzKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIldpbmRvd3NcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0Nocm9tZU9TKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkNyT1NcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0thaU9TKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudElnbm9yZUNhc2UoXCJLYWlPU1wiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2dldFZlcnNpb24oKSB7XG4gIHZhciB1c2VyQWdlbnRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudCgpLCB2ZXJzaW9uID0gXCJcIjtcbiAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzV2luZG93cygpKSB7XG4gICAgdmFyIHJlID0gL1dpbmRvd3MgKD86TlR8UGhvbmUpIChbMC05Ll0rKS87XG4gICAgdmFyIG1hdGNoID0gcmUuZXhlYyh1c2VyQWdlbnRTdHJpbmcpO1xuICAgIHZlcnNpb24gPSBtYXRjaCA/IG1hdGNoWzFdIDogXCIwLjBcIjtcbiAgfSBlbHNlIHtcbiAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJb3MoKSkge1xuICAgICAgcmUgPSAvKD86aVBob25lfGlQb2R8aVBhZHxDUFUpXFxzK09TXFxzKyhcXFMrKS87XG4gICAgICB2YXIgbWF0Y2gkMzMgPSByZS5leGVjKHVzZXJBZ2VudFN0cmluZyk7XG4gICAgICB2ZXJzaW9uID0gbWF0Y2gkMzMgJiYgbWF0Y2gkMzNbMV0ucmVwbGFjZSgvXy9nLCBcIi5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc01hY2ludG9zaCgpKSB7XG4gICAgICAgIHJlID0gL01hYyBPUyBYIChbMC05Xy5dKykvO1xuICAgICAgICB2YXIgbWF0Y2gkMzQgPSByZS5leGVjKHVzZXJBZ2VudFN0cmluZyk7XG4gICAgICAgIHZlcnNpb24gPSBtYXRjaCQzNCA/IG1hdGNoJDM0WzFdLnJlcGxhY2UoL18vZywgXCIuXCIpIDogXCIxMFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzS2FpT1MoKSkge1xuICAgICAgICAgIHJlID0gLyg/OkthaU9TKVxcLyhcXFMrKS9pO1xuICAgICAgICAgIHZhciBtYXRjaCQzNSA9IHJlLmV4ZWModXNlckFnZW50U3RyaW5nKTtcbiAgICAgICAgICB2ZXJzaW9uID0gbWF0Y2gkMzUgJiYgbWF0Y2gkMzVbMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzQW5kcm9pZCgpKSB7XG4gICAgICAgICAgICByZSA9IC9BbmRyb2lkXFxzKyhbXlxcKTtdKykoXFwpfDspLztcbiAgICAgICAgICAgIHZhciBtYXRjaCQzNiA9IHJlLmV4ZWModXNlckFnZW50U3RyaW5nKTtcbiAgICAgICAgICAgIHZlcnNpb24gPSBtYXRjaCQzNiAmJiBtYXRjaCQzNlsxXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzQ2hyb21lT1MoKSkge1xuICAgICAgICAgICAgICByZSA9IC8oPzpDck9TXFxzKyg/Omk2ODZ8eDg2XzY0KVxccysoWzAtOS5dKykpLztcbiAgICAgICAgICAgICAgdmFyIG1hdGNoJDM3ID0gcmUuZXhlYyh1c2VyQWdlbnRTdHJpbmcpO1xuICAgICAgICAgICAgICB2ZXJzaW9uID0gbWF0Y2gkMzcgJiYgbWF0Y2gkMzdbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2ZXJzaW9uIHx8IFwiXCI7XG59XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fUGxhdGZvcm1WZXJzaW9uID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fUGxhdGZvcm1WZXJzaW9uLnByb3RvdHlwZS5nZXRJZkxvYWRlZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkpIHtcbiAgICB2YXIgbG9hZGVkUGxhdGZvcm1WZXJzaW9uID0gbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weURhdGEucGxhdGZvcm1WZXJzaW9uLmdldElmTG9hZGVkKCk7XG4gICAgaWYgKHZvaWQgMCAhPT0gbG9hZGVkUGxhdGZvcm1WZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uKGxvYWRlZFBsYXRmb3JtVmVyc2lvbik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLlZlcnNpb24obW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fZ2V0VmVyc2lvbigpKTtcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX1BsYXRmb3JtVmVyc2lvbi5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0O1xuICByZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbShmdW5jdGlvbigkanNjb21wJGdlbmVyYXRvciRjb250ZXh0KSB7XG4gICAgaWYgKDEgPT0gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5uZXh0QWRkcmVzcykge1xuICAgICAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKSkge1xuICAgICAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5yZXR1cm4obmV3IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2dldFZlcnNpb24oKSkpO1xuICAgICAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5qdW1wVG8oMCk7XG4gICAgICB9XG4gICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuVmVyc2lvbjtcbiAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnlpZWxkKG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhLnBsYXRmb3JtVmVyc2lvbi5sb2FkKCksIDMpO1xuICAgIH1cbiAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5yZXR1cm4obmV3IEpTQ29tcGlsZXJfdGVtcF9jb25zdCgkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnlpZWxkUmVzdWx0KSk7XG4gIH0pO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV92ZXJzaW9uID0gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX1BsYXRmb3JtVmVyc2lvbigpO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5nZXRWZXJzaW9uID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fZ2V0VmVyc2lvbjtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNBbmRyb2lkID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNBbmRyb2lkO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0Nocm9tZU9TID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNDaHJvbWVPUztcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNDaHJvbWVjYXN0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNDaHJvbWVjYXN0KCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkNyS2V5XCIpO1xufTtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNJb3MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lvcztcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNJcGFkID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGFkO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0lwaG9uZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSXBob25lO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0lwb2QgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwb2Q7XG5nb29nLmxhYnMudXNlckFnZW50LnBsYXRmb3JtLmlzS2FpT1MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0thaU9TO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0xpbnV4ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNMaW51eDtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNNYWNpbnRvc2ggPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc01hY2ludG9zaDtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNWZXJzaW9uT3JIaWdoZXIgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc1ZlcnNpb25PckhpZ2hlcih2ZXJzaW9uKSB7XG4gIHJldHVybiAwIDw9IGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucyhtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9nZXRWZXJzaW9uKCksIHZlcnNpb24pO1xufTtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNXaW5kb3dzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNXaW5kb3dzO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS52ZXJzaW9uID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fdmVyc2lvbjtcbmdvb2cucmVmbGVjdCA9IHt9O1xuZ29vZy5yZWZsZWN0Lm9iamVjdCA9IGZ1bmN0aW9uKHR5cGUsIG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0O1xufTtcbmdvb2cucmVmbGVjdC5vYmplY3RQcm9wZXJ0eSA9IGZ1bmN0aW9uKHByb3AsIG9iamVjdCkge1xuICByZXR1cm4gcHJvcDtcbn07XG5nb29nLnJlZmxlY3Quc2lua1ZhbHVlID0gZnVuY3Rpb24oeCkge1xuICBnb29nLnJlZmxlY3Quc2lua1ZhbHVlW1wiIFwiXSh4KTtcbiAgcmV0dXJuIHg7XG59O1xuZ29vZy5yZWZsZWN0LnNpbmtWYWx1ZVtcIiBcIl0gPSBnb29nLm51bGxGdW5jdGlvbjtcbmdvb2cucmVmbGVjdC5jYW5BY2Nlc3NQcm9wZXJ0eSA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkge1xuICB0cnkge1xuICAgIHJldHVybiBnb29nLnJlZmxlY3Quc2lua1ZhbHVlKG9ialtwcm9wXSksICEwO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmdvb2cucmVmbGVjdC5jYWNoZSA9IGZ1bmN0aW9uKGNhY2hlT2JqLCBrZXksIHZhbHVlRm4sIG9wdF9rZXlGbikge1xuICB2YXIgc3RvcmVkS2V5ID0gb3B0X2tleUZuID8gb3B0X2tleUZuKGtleSkgOiBrZXk7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY2FjaGVPYmosIHN0b3JlZEtleSkgPyBjYWNoZU9ialtzdG9yZWRLZXldIDogY2FjaGVPYmpbc3RvcmVkS2V5XSA9IHZhbHVlRm4oa2V5KTtcbn07XG5nb29nLnVzZXJBZ2VudCA9IHt9O1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lFID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfRURHRSA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX0dFQ0tPID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfV0VCS0lUID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfTU9CSUxFX1dFQktJVCA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX09QRVJBID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfQU5ZX1ZFUlNJT04gPSAhMTtcbmdvb2cudXNlckFnZW50LkJST1dTRVJfS05PV05fID0gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lFIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9FREdFIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9HRUNLTyB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfTU9CSUxFX1dFQktJVCB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfV0VCS0lUIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9PUEVSQTtcbmdvb2cudXNlckFnZW50LmdldFVzZXJBZ2VudFN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnQoKTtcbn07XG5nb29nLnVzZXJBZ2VudC5nZXROYXZpZ2F0b3JUeXBlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5nbG9iYWwubmF2aWdhdG9yIHx8IG51bGw7XG59O1xuZ29vZy51c2VyQWdlbnQuZ2V0TmF2aWdhdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLnVzZXJBZ2VudC5nZXROYXZpZ2F0b3JUeXBlZCgpO1xufTtcbmdvb2cudXNlckFnZW50Lk9QRVJBID0gZ29vZy51c2VyQWdlbnQuQlJPV1NFUl9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfT1BFUkEgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmEoKTtcbmdvb2cudXNlckFnZW50LklFID0gZ29vZy51c2VyQWdlbnQuQlJPV1NFUl9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSUUgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoSUUoKTtcbmdvb2cudXNlckFnZW50LkVER0UgPSBnb29nLnVzZXJBZ2VudC5CUk9XU0VSX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9FREdFIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzRWRnZSgpO1xuZ29vZy51c2VyQWdlbnQuRURHRV9PUl9JRSA9IGdvb2cudXNlckFnZW50LkVER0UgfHwgZ29vZy51c2VyQWdlbnQuSUU7XG5nb29nLnVzZXJBZ2VudC5HRUNLTyA9IGdvb2cudXNlckFnZW50LkJST1dTRVJfS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0dFQ0tPIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzR2Vja28oKTtcbmdvb2cudXNlckFnZW50LldFQktJVCA9IGdvb2cudXNlckFnZW50LkJST1dTRVJfS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX1dFQktJVCB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfTU9CSUxFX1dFQktJVCA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc1dlYktpdCgpO1xuZ29vZy51c2VyQWdlbnQuaXNNb2JpbGVfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLnVzZXJBZ2VudC5XRUJLSVQgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIk1vYmlsZVwiKTtcbn07XG5nb29nLnVzZXJBZ2VudC5NT0JJTEUgPSBnb29nLnVzZXJBZ2VudC5BU1NVTUVfTU9CSUxFX1dFQktJVCB8fCBnb29nLnVzZXJBZ2VudC5pc01vYmlsZV8oKTtcbmdvb2cudXNlckFnZW50LlNBRkFSSSA9IGdvb2cudXNlckFnZW50LldFQktJVDtcbmdvb2cudXNlckFnZW50LmRldGVybWluZVBsYXRmb3JtXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbmF2aWdhdG9yID0gZ29vZy51c2VyQWdlbnQuZ2V0TmF2aWdhdG9yVHlwZWQoKTtcbiAgcmV0dXJuIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IucGxhdGZvcm0gfHwgXCJcIjtcbn07XG5nb29nLnVzZXJBZ2VudC5QTEFURk9STSA9IGdvb2cudXNlckFnZW50LmRldGVybWluZVBsYXRmb3JtXygpO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX01BQyA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX1dJTkRPV1MgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9MSU5VWCA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX1gxMSA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX0FORFJPSUQgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9JUEhPTkUgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9JUEFEID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBPRCA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX0tBSU9TID0gITE7XG5nb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPSBnb29nLnVzZXJBZ2VudC5BU1NVTUVfTUFDIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9XSU5ET1dTIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9MSU5VWCB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfWDExIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9BTkRST0lEIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9JUEhPTkUgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQQUQgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQT0Q7XG5nb29nLnVzZXJBZ2VudC5NQUMgPSBnb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfTUFDIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNNYWNpbnRvc2goKTtcbmdvb2cudXNlckFnZW50LldJTkRPV1MgPSBnb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfV0lORE9XUyA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzV2luZG93cygpO1xuZ29vZy51c2VyQWdlbnQuaXNMZWdhY3lMaW51eF8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzTGludXgoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0Nocm9tZU9TKCk7XG59O1xuZ29vZy51c2VyQWdlbnQuTElOVVggPSBnb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfTElOVVggOiBnb29nLnVzZXJBZ2VudC5pc0xlZ2FjeUxpbnV4XygpO1xuZ29vZy51c2VyQWdlbnQuaXNYMTFfID0gZnVuY3Rpb24oKSB7XG4gIHZhciBuYXZpZ2F0b3IgPSBnb29nLnVzZXJBZ2VudC5nZXROYXZpZ2F0b3JUeXBlZCgpO1xuICByZXR1cm4gISFuYXZpZ2F0b3IgJiYgZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29udGFpbnMobmF2aWdhdG9yLmFwcFZlcnNpb24gfHwgXCJcIiwgXCJYMTFcIik7XG59O1xuZ29vZy51c2VyQWdlbnQuWDExID0gZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX1gxMSA6IGdvb2cudXNlckFnZW50LmlzWDExXygpO1xuZ29vZy51c2VyQWdlbnQuQU5EUk9JRCA9IGdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9BTkRST0lEIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNBbmRyb2lkKCk7XG5nb29nLnVzZXJBZ2VudC5JUEhPTkUgPSBnb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBIT05FIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGhvbmUoKTtcbmdvb2cudXNlckFnZW50LklQQUQgPSBnb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBBRCA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSXBhZCgpO1xuZ29vZy51c2VyQWdlbnQuSVBPRCA9IGdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9JUE9EIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcG9kKCk7XG5nb29nLnVzZXJBZ2VudC5JT1MgPSBnb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBIT05FIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9JUEFEIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9JUE9EIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJb3MoKTtcbmdvb2cudXNlckFnZW50LktBSU9TID0gZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0tBSU9TIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNLYWlPUygpO1xuZ29vZy51c2VyQWdlbnQuZGV0ZXJtaW5lVmVyc2lvbl8gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHZlcnNpb24gPSBcIlwiLCBhcnIgPSBnb29nLnVzZXJBZ2VudC5nZXRWZXJzaW9uUmVnZXhSZXN1bHRfKCk7XG4gIGFyciAmJiAodmVyc2lvbiA9IGFyciA/IGFyclsxXSA6IFwiXCIpO1xuICBpZiAoZ29vZy51c2VyQWdlbnQuSUUpIHtcbiAgICB2YXIgZG9jTW9kZSA9IGdvb2cudXNlckFnZW50LmdldERvY3VtZW50TW9kZV8oKTtcbiAgICBpZiAobnVsbCAhPSBkb2NNb2RlICYmIGRvY01vZGUgPiBwYXJzZUZsb2F0KHZlcnNpb24pKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKGRvY01vZGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmVyc2lvbjtcbn07XG5nb29nLnVzZXJBZ2VudC5nZXRWZXJzaW9uUmVnZXhSZXN1bHRfID0gZnVuY3Rpb24oKSB7XG4gIHZhciB1c2VyQWdlbnQgPSBnb29nLnVzZXJBZ2VudC5nZXRVc2VyQWdlbnRTdHJpbmcoKTtcbiAgaWYgKGdvb2cudXNlckFnZW50LkdFQ0tPKSB7XG4gICAgcmV0dXJuIC9ydjooW15cXCk7XSspKFxcKXw7KS8uZXhlYyh1c2VyQWdlbnQpO1xuICB9XG4gIGlmIChnb29nLnVzZXJBZ2VudC5FREdFKSB7XG4gICAgcmV0dXJuIC9FZGdlXFwvKFtcXGRcXC5dKykvLmV4ZWModXNlckFnZW50KTtcbiAgfVxuICBpZiAoZ29vZy51c2VyQWdlbnQuSUUpIHtcbiAgICByZXR1cm4gL1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLy5leGVjKHVzZXJBZ2VudCk7XG4gIH1cbiAgaWYgKGdvb2cudXNlckFnZW50LldFQktJVCkge1xuICAgIHJldHVybiAvV2ViS2l0XFwvKFxcUyspLy5leGVjKHVzZXJBZ2VudCk7XG4gIH1cbiAgaWYgKGdvb2cudXNlckFnZW50Lk9QRVJBKSB7XG4gICAgcmV0dXJuIC8oPzpWZXJzaW9uKVsgXFwvXT8oXFxTKykvLmV4ZWModXNlckFnZW50KTtcbiAgfVxufTtcbmdvb2cudXNlckFnZW50LmdldERvY3VtZW50TW9kZV8gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGRvYyA9IGdvb2cuZ2xvYmFsLmRvY3VtZW50O1xuICByZXR1cm4gZG9jID8gZG9jLmRvY3VtZW50TW9kZSA6IHZvaWQgMDtcbn07XG5nb29nLnVzZXJBZ2VudC5WRVJTSU9OID0gZ29vZy51c2VyQWdlbnQuZGV0ZXJtaW5lVmVyc2lvbl8oKTtcbmdvb2cudXNlckFnZW50LmNvbXBhcmUgPSBmdW5jdGlvbih2MSwgdjIpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucyh2MSwgdjIpO1xufTtcbmdvb2cudXNlckFnZW50LmlzVmVyc2lvbk9ySGlnaGVyQ2FjaGVfID0ge307XG5nb29nLnVzZXJBZ2VudC5pc1ZlcnNpb25PckhpZ2hlciA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcbiAgcmV0dXJuIGdvb2cudXNlckFnZW50LkFTU1VNRV9BTllfVkVSU0lPTiB8fCBnb29nLnJlZmxlY3QuY2FjaGUoZ29vZy51c2VyQWdlbnQuaXNWZXJzaW9uT3JIaWdoZXJDYWNoZV8sIHZlcnNpb24sIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAwIDw9IGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucyhnb29nLnVzZXJBZ2VudC5WRVJTSU9OLCB2ZXJzaW9uKTtcbiAgfSk7XG59O1xuZ29vZy51c2VyQWdlbnQuaXNEb2N1bWVudE1vZGVPckhpZ2hlciA9IGZ1bmN0aW9uKGRvY3VtZW50TW9kZSkge1xuICByZXR1cm4gTnVtYmVyKGdvb2cudXNlckFnZW50LkRPQ1VNRU5UX01PREUpID49IGRvY3VtZW50TW9kZTtcbn07XG5nb29nLnVzZXJBZ2VudC5pc0RvY3VtZW50TW9kZSA9IGdvb2cudXNlckFnZW50LmlzRG9jdW1lbnRNb2RlT3JIaWdoZXI7XG5nb29nLnVzZXJBZ2VudC5ET0NVTUVOVF9NT0RFID0gZnVuY3Rpb24oKSB7XG4gIGlmIChnb29nLmdsb2JhbC5kb2N1bWVudCAmJiBnb29nLnVzZXJBZ2VudC5JRSkge1xuICAgIHZhciBkb2N1bWVudE1vZGUgPSBnb29nLnVzZXJBZ2VudC5nZXREb2N1bWVudE1vZGVfKCk7XG4gICAgcmV0dXJuIGRvY3VtZW50TW9kZSA/IGRvY3VtZW50TW9kZSA6IHBhcnNlSW50KGdvb2cudXNlckFnZW50LlZFUlNJT04sIDEwKSB8fCB2b2lkIDA7XG4gIH1cbn0oKTtcbmdvb2cuZXZlbnRzLk1vdXNlRXZlbnRzID0ge307XG5nb29nLmV2ZW50cy5nZXRWZW5kb3JQcmVmaXhlZE5hbWVfID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gIHJldHVybiBnb29nLnVzZXJBZ2VudC5XRUJLSVQgPyBcIndlYmtpdFwiICsgZXZlbnROYW1lIDogZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUeXBlID0ge0NMSUNLOlwiY2xpY2tcIiwgUklHSFRDTElDSzpcInJpZ2h0Y2xpY2tcIiwgREJMQ0xJQ0s6XCJkYmxjbGlja1wiLCBBVVhDTElDSzpcImF1eGNsaWNrXCIsIE1PVVNFRE9XTjpcIm1vdXNlZG93blwiLCBNT1VTRVVQOlwibW91c2V1cFwiLCBNT1VTRU9WRVI6XCJtb3VzZW92ZXJcIiwgTU9VU0VPVVQ6XCJtb3VzZW91dFwiLCBNT1VTRU1PVkU6XCJtb3VzZW1vdmVcIiwgTU9VU0VFTlRFUjpcIm1vdXNlZW50ZXJcIiwgTU9VU0VMRUFWRTpcIm1vdXNlbGVhdmVcIiwgTU9VU0VDQU5DRUw6XCJtb3VzZWNhbmNlbFwiLCBTRUxFQ1RJT05DSEFOR0U6XCJzZWxlY3Rpb25jaGFuZ2VcIiwgU0VMRUNUU1RBUlQ6XCJzZWxlY3RzdGFydFwiLCBXSEVFTDpcIndoZWVsXCIsIEtFWVBSRVNTOlwia2V5cHJlc3NcIiwgS0VZRE9XTjpcImtleWRvd25cIiwgS0VZVVA6XCJrZXl1cFwiLCBCTFVSOlwiYmx1clwiLCBGT0NVUzpcImZvY3VzXCIsIERFQUNUSVZBVEU6XCJkZWFjdGl2YXRlXCIsIEZPQ1VTSU46XCJmb2N1c2luXCIsIEZPQ1VTT1VUOlwiZm9jdXNvdXRcIiwgXG5DSEFOR0U6XCJjaGFuZ2VcIiwgUkVTRVQ6XCJyZXNldFwiLCBTRUxFQ1Q6XCJzZWxlY3RcIiwgU1VCTUlUOlwic3VibWl0XCIsIElOUFVUOlwiaW5wdXRcIiwgUFJPUEVSVFlDSEFOR0U6XCJwcm9wZXJ0eWNoYW5nZVwiLCBEUkFHU1RBUlQ6XCJkcmFnc3RhcnRcIiwgRFJBRzpcImRyYWdcIiwgRFJBR0VOVEVSOlwiZHJhZ2VudGVyXCIsIERSQUdPVkVSOlwiZHJhZ292ZXJcIiwgRFJBR0xFQVZFOlwiZHJhZ2xlYXZlXCIsIERST1A6XCJkcm9wXCIsIERSQUdFTkQ6XCJkcmFnZW5kXCIsIFRPVUNIU1RBUlQ6XCJ0b3VjaHN0YXJ0XCIsIFRPVUNITU9WRTpcInRvdWNobW92ZVwiLCBUT1VDSEVORDpcInRvdWNoZW5kXCIsIFRPVUNIQ0FOQ0VMOlwidG91Y2hjYW5jZWxcIiwgQkVGT1JFVU5MT0FEOlwiYmVmb3JldW5sb2FkXCIsIENPTlNPTEVNRVNTQUdFOlwiY29uc29sZW1lc3NhZ2VcIiwgQ09OVEVYVE1FTlU6XCJjb250ZXh0bWVudVwiLCBERVZJQ0VDSEFOR0U6XCJkZXZpY2VjaGFuZ2VcIiwgREVWSUNFTU9USU9OOlwiZGV2aWNlbW90aW9uXCIsIERFVklDRU9SSUVOVEFUSU9OOlwiZGV2aWNlb3JpZW50YXRpb25cIiwgXG5ET01DT05URU5UTE9BREVEOlwiRE9NQ29udGVudExvYWRlZFwiLCBFUlJPUjpcImVycm9yXCIsIEhFTFA6XCJoZWxwXCIsIExPQUQ6XCJsb2FkXCIsIExPU0VDQVBUVVJFOlwibG9zZWNhcHR1cmVcIiwgT1JJRU5UQVRJT05DSEFOR0U6XCJvcmllbnRhdGlvbmNoYW5nZVwiLCBSRUFEWVNUQVRFQ0hBTkdFOlwicmVhZHlzdGF0ZWNoYW5nZVwiLCBSRVNJWkU6XCJyZXNpemVcIiwgU0NST0xMOlwic2Nyb2xsXCIsIFVOTE9BRDpcInVubG9hZFwiLCBDQU5QTEFZOlwiY2FucGxheVwiLCBDQU5QTEFZVEhST1VHSDpcImNhbnBsYXl0aHJvdWdoXCIsIERVUkFUSU9OQ0hBTkdFOlwiZHVyYXRpb25jaGFuZ2VcIiwgRU1QVElFRDpcImVtcHRpZWRcIiwgRU5ERUQ6XCJlbmRlZFwiLCBMT0FERUREQVRBOlwibG9hZGVkZGF0YVwiLCBMT0FERURNRVRBREFUQTpcImxvYWRlZG1ldGFkYXRhXCIsIFBBVVNFOlwicGF1c2VcIiwgUExBWTpcInBsYXlcIiwgUExBWUlORzpcInBsYXlpbmdcIiwgUFJPR1JFU1M6XCJwcm9ncmVzc1wiLCBSQVRFQ0hBTkdFOlwicmF0ZWNoYW5nZVwiLCBcblNFRUtFRDpcInNlZWtlZFwiLCBTRUVLSU5HOlwic2Vla2luZ1wiLCBTVEFMTEVEOlwic3RhbGxlZFwiLCBTVVNQRU5EOlwic3VzcGVuZFwiLCBUSU1FVVBEQVRFOlwidGltZXVwZGF0ZVwiLCBWT0xVTUVDSEFOR0U6XCJ2b2x1bWVjaGFuZ2VcIiwgV0FJVElORzpcIndhaXRpbmdcIiwgU09VUkNFT1BFTjpcInNvdXJjZW9wZW5cIiwgU09VUkNFRU5ERUQ6XCJzb3VyY2VlbmRlZFwiLCBTT1VSQ0VDTE9TRUQ6XCJzb3VyY2VjbG9zZWRcIiwgQUJPUlQ6XCJhYm9ydFwiLCBVUERBVEU6XCJ1cGRhdGVcIiwgVVBEQVRFU1RBUlQ6XCJ1cGRhdGVzdGFydFwiLCBVUERBVEVFTkQ6XCJ1cGRhdGVlbmRcIiwgSEFTSENIQU5HRTpcImhhc2hjaGFuZ2VcIiwgUEFHRUhJREU6XCJwYWdlaGlkZVwiLCBQQUdFU0hPVzpcInBhZ2VzaG93XCIsIFBPUFNUQVRFOlwicG9wc3RhdGVcIiwgQ09QWTpcImNvcHlcIiwgUEFTVEU6XCJwYXN0ZVwiLCBDVVQ6XCJjdXRcIiwgQkVGT1JFQ09QWTpcImJlZm9yZWNvcHlcIiwgQkVGT1JFQ1VUOlwiYmVmb3JlY3V0XCIsIEJFRk9SRVBBU1RFOlwiYmVmb3JlcGFzdGVcIiwgXG5PTkxJTkU6XCJvbmxpbmVcIiwgT0ZGTElORTpcIm9mZmxpbmVcIiwgTUVTU0FHRTpcIm1lc3NhZ2VcIiwgQ09OTkVDVDpcImNvbm5lY3RcIiwgSU5TVEFMTDpcImluc3RhbGxcIiwgQUNUSVZBVEU6XCJhY3RpdmF0ZVwiLCBGRVRDSDpcImZldGNoXCIsIEZPUkVJR05GRVRDSDpcImZvcmVpZ25mZXRjaFwiLCBNRVNTQUdFRVJST1I6XCJtZXNzYWdlZXJyb3JcIiwgU1RBVEVDSEFOR0U6XCJzdGF0ZWNoYW5nZVwiLCBVUERBVEVGT1VORDpcInVwZGF0ZWZvdW5kXCIsIENPTlRST0xMRVJDSEFOR0U6XCJjb250cm9sbGVyY2hhbmdlXCIsIEFOSU1BVElPTlNUQVJUOmdvb2cuZXZlbnRzLmdldFZlbmRvclByZWZpeGVkTmFtZV8oXCJBbmltYXRpb25TdGFydFwiKSwgQU5JTUFUSU9ORU5EOmdvb2cuZXZlbnRzLmdldFZlbmRvclByZWZpeGVkTmFtZV8oXCJBbmltYXRpb25FbmRcIiksIEFOSU1BVElPTklURVJBVElPTjpnb29nLmV2ZW50cy5nZXRWZW5kb3JQcmVmaXhlZE5hbWVfKFwiQW5pbWF0aW9uSXRlcmF0aW9uXCIpLCBUUkFOU0lUSU9ORU5EOmdvb2cuZXZlbnRzLmdldFZlbmRvclByZWZpeGVkTmFtZV8oXCJUcmFuc2l0aW9uRW5kXCIpLCBcblBPSU5URVJET1dOOlwicG9pbnRlcmRvd25cIiwgUE9JTlRFUlVQOlwicG9pbnRlcnVwXCIsIFBPSU5URVJDQU5DRUw6XCJwb2ludGVyY2FuY2VsXCIsIFBPSU5URVJNT1ZFOlwicG9pbnRlcm1vdmVcIiwgUE9JTlRFUk9WRVI6XCJwb2ludGVyb3ZlclwiLCBQT0lOVEVST1VUOlwicG9pbnRlcm91dFwiLCBQT0lOVEVSRU5URVI6XCJwb2ludGVyZW50ZXJcIiwgUE9JTlRFUkxFQVZFOlwicG9pbnRlcmxlYXZlXCIsIEdPVFBPSU5URVJDQVBUVVJFOlwiZ290cG9pbnRlcmNhcHR1cmVcIiwgTE9TVFBPSU5URVJDQVBUVVJFOlwibG9zdHBvaW50ZXJjYXB0dXJlXCIsIE1TR0VTVFVSRUNIQU5HRTpcIk1TR2VzdHVyZUNoYW5nZVwiLCBNU0dFU1RVUkVFTkQ6XCJNU0dlc3R1cmVFbmRcIiwgTVNHRVNUVVJFSE9MRDpcIk1TR2VzdHVyZUhvbGRcIiwgTVNHRVNUVVJFU1RBUlQ6XCJNU0dlc3R1cmVTdGFydFwiLCBNU0dFU1RVUkVUQVA6XCJNU0dlc3R1cmVUYXBcIiwgTVNHT1RQT0lOVEVSQ0FQVFVSRTpcIk1TR290UG9pbnRlckNhcHR1cmVcIiwgTVNJTkVSVElBU1RBUlQ6XCJNU0luZXJ0aWFTdGFydFwiLCBcbk1TTE9TVFBPSU5URVJDQVBUVVJFOlwiTVNMb3N0UG9pbnRlckNhcHR1cmVcIiwgTVNQT0lOVEVSQ0FOQ0VMOlwiTVNQb2ludGVyQ2FuY2VsXCIsIE1TUE9JTlRFUkRPV046XCJNU1BvaW50ZXJEb3duXCIsIE1TUE9JTlRFUkVOVEVSOlwiTVNQb2ludGVyRW50ZXJcIiwgTVNQT0lOVEVSSE9WRVI6XCJNU1BvaW50ZXJIb3ZlclwiLCBNU1BPSU5URVJMRUFWRTpcIk1TUG9pbnRlckxlYXZlXCIsIE1TUE9JTlRFUk1PVkU6XCJNU1BvaW50ZXJNb3ZlXCIsIE1TUE9JTlRFUk9VVDpcIk1TUG9pbnRlck91dFwiLCBNU1BPSU5URVJPVkVSOlwiTVNQb2ludGVyT3ZlclwiLCBNU1BPSU5URVJVUDpcIk1TUG9pbnRlclVwXCIsIFRFWFQ6XCJ0ZXh0XCIsIFRFWFRJTlBVVDpnb29nLnVzZXJBZ2VudC5JRSA/IFwidGV4dGlucHV0XCIgOiBcInRleHRJbnB1dFwiLCBDT01QT1NJVElPTlNUQVJUOlwiY29tcG9zaXRpb25zdGFydFwiLCBDT01QT1NJVElPTlVQREFURTpcImNvbXBvc2l0aW9udXBkYXRlXCIsIENPTVBPU0lUSU9ORU5EOlwiY29tcG9zaXRpb25lbmRcIiwgXG5CRUZPUkVJTlBVVDpcImJlZm9yZWlucHV0XCIsIEVYSVQ6XCJleGl0XCIsIExPQURBQk9SVDpcImxvYWRhYm9ydFwiLCBMT0FEQ09NTUlUOlwibG9hZGNvbW1pdFwiLCBMT0FEUkVESVJFQ1Q6XCJsb2FkcmVkaXJlY3RcIiwgTE9BRFNUQVJUOlwibG9hZHN0YXJ0XCIsIExPQURTVE9QOlwibG9hZHN0b3BcIiwgUkVTUE9OU0lWRTpcInJlc3BvbnNpdmVcIiwgU0laRUNIQU5HRUQ6XCJzaXplY2hhbmdlZFwiLCBVTlJFU1BPTlNJVkU6XCJ1bnJlc3BvbnNpdmVcIiwgVklTSUJJTElUWUNIQU5HRTpcInZpc2liaWxpdHljaGFuZ2VcIiwgU1RPUkFHRTpcInN0b3JhZ2VcIiwgRE9NU1VCVFJFRU1PRElGSUVEOlwiRE9NU3VidHJlZU1vZGlmaWVkXCIsIERPTU5PREVJTlNFUlRFRDpcIkRPTU5vZGVJbnNlcnRlZFwiLCBET01OT0RFUkVNT1ZFRDpcIkRPTU5vZGVSZW1vdmVkXCIsIERPTU5PREVSRU1PVkVERlJPTURPQ1VNRU5UOlwiRE9NTm9kZVJlbW92ZWRGcm9tRG9jdW1lbnRcIiwgRE9NTk9ERUlOU0VSVEVESU5UT0RPQ1VNRU5UOlwiRE9NTm9kZUluc2VydGVkSW50b0RvY3VtZW50XCIsIFxuRE9NQVRUUk1PRElGSUVEOlwiRE9NQXR0ck1vZGlmaWVkXCIsIERPTUNIQVJBQ1RFUkRBVEFNT0RJRklFRDpcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLCBCRUZPUkVQUklOVDpcImJlZm9yZXByaW50XCIsIEFGVEVSUFJJTlQ6XCJhZnRlcnByaW50XCIsIEJFRk9SRUlOU1RBTExQUk9NUFQ6XCJiZWZvcmVpbnN0YWxscHJvbXB0XCIsIEFQUElOU1RBTExFRDpcImFwcGluc3RhbGxlZFwifTtcbmdvb2cuZXZlbnRzLmdldFBvaW50ZXJGYWxsYmFja0V2ZW50TmFtZV8gPSBmdW5jdGlvbihwb2ludGVyRXZlbnROYW1lLCBtc1BvaW50ZXJFdmVudE5hbWUsIGZhbGxiYWNrRXZlbnROYW1lKSB7XG4gIHJldHVybiBnb29nLmV2ZW50cy5Ccm93c2VyRmVhdHVyZS5QT0lOVEVSX0VWRU5UUyA/IHBvaW50ZXJFdmVudE5hbWUgOiBnb29nLmV2ZW50cy5Ccm93c2VyRmVhdHVyZS5NU1BPSU5URVJfRVZFTlRTID8gbXNQb2ludGVyRXZlbnROYW1lIDogZmFsbGJhY2tFdmVudE5hbWU7XG59O1xuZ29vZy5ldmVudHMuUG9pbnRlckZhbGxiYWNrRXZlbnRUeXBlID0ge1BPSU5URVJET1dOOmdvb2cuZXZlbnRzLmdldFBvaW50ZXJGYWxsYmFja0V2ZW50TmFtZV8oZ29vZy5ldmVudHMuRXZlbnRUeXBlLlBPSU5URVJET1dOLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTVNQT0lOVEVSRE9XTiwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFRE9XTiksIFBPSU5URVJVUDpnb29nLmV2ZW50cy5nZXRQb2ludGVyRmFsbGJhY2tFdmVudE5hbWVfKGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5QT0lOVEVSVVAsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NU1BPSU5URVJVUCwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFVVApLCBQT0lOVEVSQ0FOQ0VMOmdvb2cuZXZlbnRzLmdldFBvaW50ZXJGYWxsYmFja0V2ZW50TmFtZV8oZ29vZy5ldmVudHMuRXZlbnRUeXBlLlBPSU5URVJDQU5DRUwsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NU1BPSU5URVJDQU5DRUwsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRUNBTkNFTCksIFxuUE9JTlRFUk1PVkU6Z29vZy5ldmVudHMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lXyhnb29nLmV2ZW50cy5FdmVudFR5cGUuUE9JTlRFUk1PVkUsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NU1BPSU5URVJNT1ZFLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VNT1ZFKSwgUE9JTlRFUk9WRVI6Z29vZy5ldmVudHMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lXyhnb29nLmV2ZW50cy5FdmVudFR5cGUuUE9JTlRFUk9WRVIsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NU1BPSU5URVJPVkVSLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VPVkVSKSwgUE9JTlRFUk9VVDpnb29nLmV2ZW50cy5nZXRQb2ludGVyRmFsbGJhY2tFdmVudE5hbWVfKGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5QT0lOVEVST1VULCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTVNQT0lOVEVST1VULCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VPVVQpLCBQT0lOVEVSRU5URVI6Z29vZy5ldmVudHMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lXyhnb29nLmV2ZW50cy5FdmVudFR5cGUuUE9JTlRFUkVOVEVSLCBcbmdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NU1BPSU5URVJFTlRFUiwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFRU5URVIpLCBQT0lOVEVSTEVBVkU6Z29vZy5ldmVudHMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lXyhnb29nLmV2ZW50cy5FdmVudFR5cGUuUE9JTlRFUkxFQVZFLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTVNQT0lOVEVSTEVBVkUsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRUxFQVZFKX07XG5nb29nLmV2ZW50cy5Qb2ludGVyVG91Y2hGYWxsYmFja0V2ZW50VHlwZSA9IHtQT0lOVEVSRE9XTjpnb29nLmV2ZW50cy5nZXRQb2ludGVyRmFsbGJhY2tFdmVudE5hbWVfKGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5QT0lOVEVSRE9XTiwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1TUE9JTlRFUkRPV04sIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5UT1VDSFNUQVJUKSwgUE9JTlRFUlVQOmdvb2cuZXZlbnRzLmdldFBvaW50ZXJGYWxsYmFja0V2ZW50TmFtZV8oZ29vZy5ldmVudHMuRXZlbnRUeXBlLlBPSU5URVJVUCwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1TUE9JTlRFUlVQLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuVE9VQ0hFTkQpLCBQT0lOVEVSQ0FOQ0VMOmdvb2cuZXZlbnRzLmdldFBvaW50ZXJGYWxsYmFja0V2ZW50TmFtZV8oZ29vZy5ldmVudHMuRXZlbnRUeXBlLlBPSU5URVJDQU5DRUwsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NU1BPSU5URVJDQU5DRUwsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5UT1VDSENBTkNFTCksIFxuUE9JTlRFUk1PVkU6Z29vZy5ldmVudHMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lXyhnb29nLmV2ZW50cy5FdmVudFR5cGUuUE9JTlRFUk1PVkUsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NU1BPSU5URVJNT1ZFLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuVE9VQ0hNT1ZFKX07XG5nb29nLmV2ZW50cy5Qb2ludGVyQXNNb3VzZUV2ZW50VHlwZSA9IHtNT1VTRURPV046Z29vZy5ldmVudHMuUG9pbnRlckZhbGxiYWNrRXZlbnRUeXBlLlBPSU5URVJET1dOLCBNT1VTRVVQOmdvb2cuZXZlbnRzLlBvaW50ZXJGYWxsYmFja0V2ZW50VHlwZS5QT0lOVEVSVVAsIE1PVVNFQ0FOQ0VMOmdvb2cuZXZlbnRzLlBvaW50ZXJGYWxsYmFja0V2ZW50VHlwZS5QT0lOVEVSQ0FOQ0VMLCBNT1VTRU1PVkU6Z29vZy5ldmVudHMuUG9pbnRlckZhbGxiYWNrRXZlbnRUeXBlLlBPSU5URVJNT1ZFLCBNT1VTRU9WRVI6Z29vZy5ldmVudHMuUG9pbnRlckZhbGxiYWNrRXZlbnRUeXBlLlBPSU5URVJPVkVSLCBNT1VTRU9VVDpnb29nLmV2ZW50cy5Qb2ludGVyRmFsbGJhY2tFdmVudFR5cGUuUE9JTlRFUk9VVCwgTU9VU0VFTlRFUjpnb29nLmV2ZW50cy5Qb2ludGVyRmFsbGJhY2tFdmVudFR5cGUuUE9JTlRFUkVOVEVSLCBNT1VTRUxFQVZFOmdvb2cuZXZlbnRzLlBvaW50ZXJGYWxsYmFja0V2ZW50VHlwZS5QT0lOVEVSTEVBVkV9O1xuZ29vZy5ldmVudHMuTW91c2VBc01vdXNlRXZlbnRUeXBlID0ge01PVVNFRE9XTjpnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VET1dOLCBNT1VTRVVQOmdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRVVQLCBNT1VTRUNBTkNFTDpnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VDQU5DRUwsIE1PVVNFTU9WRTpnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VNT1ZFLCBNT1VTRU9WRVI6Z29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFT1ZFUiwgTU9VU0VPVVQ6Z29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFT1VULCBNT1VTRUVOVEVSOmdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRUVOVEVSLCBNT1VTRUxFQVZFOmdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRUxFQVZFfTtcbmdvb2cuZXZlbnRzLlBvaW50ZXJBc1RvdWNoRXZlbnRUeXBlID0ge1RPVUNIQ0FOQ0VMOmdvb2cuZXZlbnRzLlBvaW50ZXJUb3VjaEZhbGxiYWNrRXZlbnRUeXBlLlBPSU5URVJDQU5DRUwsIFRPVUNIRU5EOmdvb2cuZXZlbnRzLlBvaW50ZXJUb3VjaEZhbGxiYWNrRXZlbnRUeXBlLlBPSU5URVJVUCwgVE9VQ0hNT1ZFOmdvb2cuZXZlbnRzLlBvaW50ZXJUb3VjaEZhbGxiYWNrRXZlbnRUeXBlLlBPSU5URVJNT1ZFLCBUT1VDSFNUQVJUOmdvb2cuZXZlbnRzLlBvaW50ZXJUb3VjaEZhbGxiYWNrRXZlbnRUeXBlLlBPSU5URVJET1dOfTtcbmdvb2cuZXZlbnRzLlVTRV9MQVlFUl9YWV9BU19PRkZTRVRfWFkgPSAhMTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudCA9IGZ1bmN0aW9uKG9wdF9lLCBvcHRfY3VycmVudFRhcmdldCkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIG9wdF9lID8gb3B0X2UudHlwZSA6IFwiXCIpO1xuICB0aGlzLnJlbGF0ZWRUYXJnZXQgPSB0aGlzLmN1cnJlbnRUYXJnZXQgPSB0aGlzLnRhcmdldCA9IG51bGw7XG4gIHRoaXMuYnV0dG9uID0gdGhpcy5zY3JlZW5ZID0gdGhpcy5zY3JlZW5YID0gdGhpcy5jbGllbnRZID0gdGhpcy5jbGllbnRYID0gdGhpcy5vZmZzZXRZID0gdGhpcy5vZmZzZXRYID0gMDtcbiAgdGhpcy5rZXkgPSBcIlwiO1xuICB0aGlzLmNoYXJDb2RlID0gdGhpcy5rZXlDb2RlID0gMDtcbiAgdGhpcy5tZXRhS2V5ID0gdGhpcy5zaGlmdEtleSA9IHRoaXMuYWx0S2V5ID0gdGhpcy5jdHJsS2V5ID0gITE7XG4gIHRoaXMuc3RhdGUgPSBudWxsO1xuICB0aGlzLnBsYXRmb3JtTW9kaWZpZXJLZXkgPSAhMTtcbiAgdGhpcy5wb2ludGVySWQgPSAwO1xuICB0aGlzLnBvaW50ZXJUeXBlID0gXCJcIjtcbiAgdGhpcy5ldmVudF8gPSBudWxsO1xuICBvcHRfZSAmJiB0aGlzLmluaXQob3B0X2UsIG9wdF9jdXJyZW50VGFyZ2V0KTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudCwgZ29vZy5ldmVudHMuRXZlbnQpO1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50Lk1vdXNlQnV0dG9uID0ge0xFRlQ6MCwgTUlERExFOjEsIFJJR0hUOjJ9O1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LlBvaW50ZXJUeXBlID0ge01PVVNFOlwibW91c2VcIiwgUEVOOlwicGVuXCIsIFRPVUNIOlwidG91Y2hcIn07XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuSUVCdXR0b25NYXAgPSBnb29nLmRlYnVnLmZyZWV6ZShbMSwgNCwgMl0pO1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LklFX0JVVFRPTl9NQVAgPSBnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuSUVCdXR0b25NYXA7XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuSUVfUE9JTlRFUl9UWVBFX01BUCA9IGdvb2cuZGVidWcuZnJlZXplKHsyOmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5Qb2ludGVyVHlwZS5UT1VDSCwgMzpnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuUG9pbnRlclR5cGUuUEVOLCA0Omdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5Qb2ludGVyVHlwZS5NT1VTRX0pO1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oZSwgb3B0X2N1cnJlbnRUYXJnZXQpIHtcbiAgdmFyIHR5cGUgPSB0aGlzLnR5cGUgPSBlLnR5cGUsIHJlbGV2YW50VG91Y2ggPSBlLmNoYW5nZWRUb3VjaGVzICYmIGUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID8gZS5jaGFuZ2VkVG91Y2hlc1swXSA6IG51bGw7XG4gIHRoaXMudGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBvcHRfY3VycmVudFRhcmdldDtcbiAgdmFyIHJlbGF0ZWRUYXJnZXQgPSBlLnJlbGF0ZWRUYXJnZXQ7XG4gIHJlbGF0ZWRUYXJnZXQgPyBnb29nLnVzZXJBZ2VudC5HRUNLTyAmJiAoZ29vZy5yZWZsZWN0LmNhbkFjY2Vzc1Byb3BlcnR5KHJlbGF0ZWRUYXJnZXQsIFwibm9kZU5hbWVcIikgfHwgKHJlbGF0ZWRUYXJnZXQgPSBudWxsKSkgOiB0eXBlID09IGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRU9WRVIgPyByZWxhdGVkVGFyZ2V0ID0gZS5mcm9tRWxlbWVudCA6IHR5cGUgPT0gZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFT1VUICYmIChyZWxhdGVkVGFyZ2V0ID0gZS50b0VsZW1lbnQpO1xuICB0aGlzLnJlbGF0ZWRUYXJnZXQgPSByZWxhdGVkVGFyZ2V0O1xuICByZWxldmFudFRvdWNoID8gKHRoaXMuY2xpZW50WCA9IHZvaWQgMCAhPT0gcmVsZXZhbnRUb3VjaC5jbGllbnRYID8gcmVsZXZhbnRUb3VjaC5jbGllbnRYIDogcmVsZXZhbnRUb3VjaC5wYWdlWCwgdGhpcy5jbGllbnRZID0gdm9pZCAwICE9PSByZWxldmFudFRvdWNoLmNsaWVudFkgPyByZWxldmFudFRvdWNoLmNsaWVudFkgOiByZWxldmFudFRvdWNoLnBhZ2VZLCB0aGlzLnNjcmVlblggPSByZWxldmFudFRvdWNoLnNjcmVlblggfHwgMCwgdGhpcy5zY3JlZW5ZID0gcmVsZXZhbnRUb3VjaC5zY3JlZW5ZIHx8IDApIDogKGdvb2cuZXZlbnRzLlVTRV9MQVlFUl9YWV9BU19PRkZTRVRfWFkgPyAodGhpcy5vZmZzZXRYID0gdm9pZCAwICE9PSBlLmxheWVyWCA/IGUubGF5ZXJYIDogZS5vZmZzZXRYLCB0aGlzLm9mZnNldFkgPSB2b2lkIDAgIT09IGUubGF5ZXJZID8gZS5sYXllclkgOiBlLm9mZnNldFkpIDogKHRoaXMub2Zmc2V0WCA9IGdvb2cudXNlckFnZW50LldFQktJVCB8fCB2b2lkIDAgIT09IFxuICBlLm9mZnNldFggPyBlLm9mZnNldFggOiBlLmxheWVyWCwgdGhpcy5vZmZzZXRZID0gZ29vZy51c2VyQWdlbnQuV0VCS0lUIHx8IHZvaWQgMCAhPT0gZS5vZmZzZXRZID8gZS5vZmZzZXRZIDogZS5sYXllclkpLCB0aGlzLmNsaWVudFggPSB2b2lkIDAgIT09IGUuY2xpZW50WCA/IGUuY2xpZW50WCA6IGUucGFnZVgsIHRoaXMuY2xpZW50WSA9IHZvaWQgMCAhPT0gZS5jbGllbnRZID8gZS5jbGllbnRZIDogZS5wYWdlWSwgdGhpcy5zY3JlZW5YID0gZS5zY3JlZW5YIHx8IDAsIHRoaXMuc2NyZWVuWSA9IGUuc2NyZWVuWSB8fCAwKTtcbiAgdGhpcy5idXR0b24gPSBlLmJ1dHRvbjtcbiAgdGhpcy5rZXlDb2RlID0gZS5rZXlDb2RlIHx8IDA7XG4gIHRoaXMua2V5ID0gZS5rZXkgfHwgXCJcIjtcbiAgdGhpcy5jaGFyQ29kZSA9IGUuY2hhckNvZGUgfHwgKFwia2V5cHJlc3NcIiA9PSB0eXBlID8gZS5rZXlDb2RlIDogMCk7XG4gIHRoaXMuY3RybEtleSA9IGUuY3RybEtleTtcbiAgdGhpcy5hbHRLZXkgPSBlLmFsdEtleTtcbiAgdGhpcy5zaGlmdEtleSA9IGUuc2hpZnRLZXk7XG4gIHRoaXMubWV0YUtleSA9IGUubWV0YUtleTtcbiAgdGhpcy5wbGF0Zm9ybU1vZGlmaWVyS2V5ID0gZ29vZy51c2VyQWdlbnQuTUFDID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5O1xuICB0aGlzLnBvaW50ZXJJZCA9IGUucG9pbnRlcklkIHx8IDA7XG4gIHRoaXMucG9pbnRlclR5cGUgPSBnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuZ2V0UG9pbnRlclR5cGVfKGUpO1xuICB0aGlzLnN0YXRlID0gZS5zdGF0ZTtcbiAgdGhpcy5ldmVudF8gPSBlO1xuICBlLmRlZmF1bHRQcmV2ZW50ZWQgJiYgZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LnN1cGVyQ2xhc3NfLnByZXZlbnREZWZhdWx0LmNhbGwodGhpcyk7XG59O1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LnByb3RvdHlwZS5pc0J1dHRvbiA9IGZ1bmN0aW9uKGJ1dHRvbikge1xuICByZXR1cm4gdGhpcy5ldmVudF8uYnV0dG9uID09IGJ1dHRvbjtcbn07XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQucHJvdG90eXBlLmlzTW91c2VBY3Rpb25CdXR0b24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaXNCdXR0b24oZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50Lk1vdXNlQnV0dG9uLkxFRlQpICYmICEoZ29vZy51c2VyQWdlbnQuTUFDICYmIHRoaXMuY3RybEtleSk7XG59O1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LnN1cGVyQ2xhc3NfLnN0b3BQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO1xuICB0aGlzLmV2ZW50Xy5zdG9wUHJvcGFnYXRpb24gPyB0aGlzLmV2ZW50Xy5zdG9wUHJvcGFnYXRpb24oKSA6IHRoaXMuZXZlbnRfLmNhbmNlbEJ1YmJsZSA9ICEwO1xufTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LnN1cGVyQ2xhc3NfLnByZXZlbnREZWZhdWx0LmNhbGwodGhpcyk7XG4gIHZhciBiZSA9IHRoaXMuZXZlbnRfO1xuICBiZS5wcmV2ZW50RGVmYXVsdCA/IGJlLnByZXZlbnREZWZhdWx0KCkgOiBiZS5yZXR1cm5WYWx1ZSA9ICExO1xufTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5wcm90b3R5cGUuZ2V0QnJvd3NlckV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50Xztcbn07XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuZ2V0UG9pbnRlclR5cGVfID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGUucG9pbnRlclR5cGUgPyBlLnBvaW50ZXJUeXBlIDogZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LklFX1BPSU5URVJfVFlQRV9NQVBbZS5wb2ludGVyVHlwZV0gfHwgXCJcIjtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5JTVBMRU1FTlRFRF9CWV9QUk9QID0gXCJjbG9zdXJlX2xpc3RlbmFibGVfXCIgKyAoMWU2ICogTWF0aC5yYW5kb20oKSB8IDApO1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5hZGRJbXBsZW1lbnRhdGlvbiA9IGZ1bmN0aW9uKGNscykge1xuICBjbHMucHJvdG90eXBlW2dvb2cuZXZlbnRzLkxpc3RlbmFibGUuSU1QTEVNRU5URURfQllfUFJPUF0gPSAhMDtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeSA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gISghb2JqIHx8ICFvYmpbZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5JTVBMRU1FTlRFRF9CWV9QUk9QXSk7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLmxpc3Rlbk9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUudW5saXN0ZW4gPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUudW5saXN0ZW5CeUtleSA9IGZ1bmN0aW9uKGtleSkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbihlKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24ob3B0X3R5cGUpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS5nZXRQYXJlbnRFdmVudFRhcmdldCA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLmZpcmVMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlLCBjYXB0dXJlLCBldmVudE9iamVjdCkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUsIGNhcHR1cmUpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS5nZXRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLmhhc0xpc3RlbmVyID0gZnVuY3Rpb24ob3B0X3R5cGUsIG9wdF9jYXB0dXJlKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZUtleSA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGVLZXkuY291bnRlcl8gPSAwO1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZUtleS5yZXNlcnZlS2V5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiArK2dvb2cuZXZlbnRzLkxpc3RlbmFibGVLZXkuY291bnRlcl87XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXIgPSBmdW5jdGlvbihsaXN0ZW5lciwgcHJveHksIHNyYywgdHlwZSwgY2FwdHVyZSwgb3B0X2hhbmRsZXIpIHtcbiAgZ29vZy5ldmVudHMuTGlzdGVuZXIuRU5BQkxFX01PTklUT1JJTkcgJiYgKHRoaXMuY3JlYXRpb25TdGFjayA9IEVycm9yKCkuc3RhY2spO1xuICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMucHJveHkgPSBwcm94eTtcbiAgdGhpcy5zcmMgPSBzcmM7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG4gIHRoaXMuY2FwdHVyZSA9ICEhY2FwdHVyZTtcbiAgdGhpcy5oYW5kbGVyID0gb3B0X2hhbmRsZXI7XG4gIHRoaXMua2V5ID0gZ29vZy5ldmVudHMuTGlzdGVuYWJsZUtleS5yZXNlcnZlS2V5KCk7XG4gIHRoaXMucmVtb3ZlZCA9IHRoaXMuY2FsbE9uY2UgPSAhMTtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lci5FTkFCTEVfTU9OSVRPUklORyA9ICExO1xuZ29vZy5ldmVudHMuTGlzdGVuZXIucHJvdG90eXBlLm1hcmtBc1JlbW92ZWQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZW1vdmVkID0gITA7XG4gIHRoaXMuaGFuZGxlciA9IHRoaXMuc3JjID0gdGhpcy5wcm94eSA9IHRoaXMubGlzdGVuZXIgPSBudWxsO1xufTtcbmdvb2cub2JqZWN0ID0ge307XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaChvYmosIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGYuY2FsbChvcHRfb2JqLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICB9XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZmlsdGVyKG9iaiwgZiwgb3B0X29iaikge1xuICB2YXIgcmVzID0ge30sIGtleTtcbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgZi5jYWxsKG9wdF9vYmosIG9ialtrZXldLCBrZXksIG9iaikgJiYgKHJlc1trZXldID0gb2JqW2tleV0pO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKG9iaiwgZiwgb3B0X29iaikge1xuICB2YXIgcmVzID0ge30sIGtleTtcbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgcmVzW2tleV0gPSBmLmNhbGwob3B0X29iaiwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3NvbWUob2JqLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoZi5jYWxsKG9wdF9vYmosIG9ialtrZXldLCBrZXksIG9iaikpIHtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldENvdW50KG9iaikge1xuICB2YXIgcnYgPSAwLCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIHJ2Kys7XG4gIH1cbiAgcmV0dXJuIHJ2O1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zKG9iaiwgdmFsKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnNWYWx1ZShvYmosIHZhbCk7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0VmFsdWVzKG9iaikge1xuICB2YXIgcmVzID0gW10sIGkgPSAwLCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIHJlc1tpKytdID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKG9iaikge1xuICB2YXIgcmVzID0gW10sIGkgPSAwLCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIHJlc1tpKytdID0ga2V5O1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnNLZXkob2JqLCBrZXkpIHtcbiAgcmV0dXJuIG51bGwgIT09IG9iaiAmJiBrZXkgaW4gb2JqO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zVmFsdWUob2JqLCB2YWwpIHtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChvYmpba2V5XSA9PSB2YWwpIHtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZpbmRLZXkob2JqLCBmLCB0aGlzT2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoZi5jYWxsKHRoaXNPYmosIG9ialtrZXldLCBrZXksIG9iaikpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eShvYmopIHtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICByZXR1cm4gITA7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xlYXIob2JqKSB7XG4gIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgZGVsZXRlIG9ialtpXTtcbiAgfVxufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3JlbW92ZShvYmosIGtleSkge1xuICB2YXIgcnY7XG4gIChydiA9IGtleSBpbiBvYmopICYmIGRlbGV0ZSBvYmpba2V5XTtcbiAgcmV0dXJuIHJ2O1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3NldChvYmosIGtleSwgdmFsdWUpIHtcbiAgb2JqW2tleV0gPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbG9uZShvYmopIHtcbiAgdmFyIHJlcyA9IHt9LCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIHJlc1trZXldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF91bnNhZmVDbG9uZShvYmopIHtcbiAgaWYgKCFvYmogfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9iaikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9iai5jbG9uZSkge1xuICAgIHJldHVybiBvYmouY2xvbmUoKTtcbiAgfVxuICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIE1hcCAmJiBvYmogaW5zdGFuY2VvZiBNYXApIHtcbiAgICByZXR1cm4gbmV3IE1hcChvYmopO1xuICB9XG4gIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgU2V0ICYmIG9iaiBpbnN0YW5jZW9mIFNldCkge1xuICAgIHJldHVybiBuZXcgU2V0KG9iaik7XG4gIH1cbiAgdmFyIGNsb25lID0gQXJyYXkuaXNBcnJheShvYmopID8gW10gOiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBBcnJheUJ1ZmZlciB8fCBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgfHwgIUFycmF5QnVmZmVyLmlzVmlldyhvYmopIHx8IG9iaiBpbnN0YW5jZW9mIERhdGFWaWV3ID8ge30gOiBuZXcgb2JqLmNvbnN0cnVjdG9yKG9iai5sZW5ndGgpLCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGNsb25lW2tleV0gPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfdW5zYWZlQ2xvbmUob2JqW2tleV0pO1xuICB9XG4gIHJldHVybiBjbG9uZTtcbn1cbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfUFJPVE9UWVBFX0ZJRUxEUyA9IFwiY29uc3RydWN0b3IgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSB0b0xvY2FsZVN0cmluZyB0b1N0cmluZyB2YWx1ZU9mXCIuc3BsaXQoXCIgXCIpO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2V4dGVuZCh0YXJnZXQsIHZhcl9hcmdzKSB7XG4gIGZvciAodmFyIGtleSwgc291cmNlLCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X1BST1RPVFlQRV9GSUVMRFMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGtleSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9QUk9UT1RZUEVfRklFTERTW2pdLCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpICYmICh0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jcmVhdGUodmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGlmICgxID09IGFyZ0xlbmd0aCAmJiBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NyZWF0ZS5hcHBseShudWxsLCBhcmd1bWVudHNbMF0pO1xuICB9XG4gIGlmIChhcmdMZW5ndGggJSAyKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVbmV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50c1wiKTtcbiAgfVxuICBmb3IgKHZhciBydiA9IHt9LCBpID0gMDsgaSA8IGFyZ0xlbmd0aDsgaSArPSAyKSB7XG4gICAgcnZbYXJndW1lbnRzW2ldXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gIH1cbiAgcmV0dXJuIHJ2O1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NyZWF0ZVNldCh2YXJfYXJncykge1xuICB2YXIgYXJnTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgaWYgKDEgPT0gYXJnTGVuZ3RoICYmIEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSkge1xuICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY3JlYXRlU2V0LmFwcGx5KG51bGwsIGFyZ3VtZW50c1swXSk7XG4gIH1cbiAgZm9yICh2YXIgcnYgPSB7fSwgaSA9IDA7IGkgPCBhcmdMZW5ndGg7IGkrKykge1xuICAgIHJ2W2FyZ3VtZW50c1tpXV0gPSAhMDtcbiAgfVxuICByZXR1cm4gcnY7XG59XG5nb29nLm9iamVjdC5hZGQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfYWRkKG9iaiwga2V5LCB2YWwpIHtcbiAgaWYgKG51bGwgIT09IG9iaiAmJiBrZXkgaW4gb2JqKSB7XG4gICAgdGhyb3cgRXJyb3IoJ1RoZSBvYmplY3QgYWxyZWFkeSBjb250YWlucyB0aGUga2V5IFwiJyArIGtleSArICdcIicpO1xuICB9XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9zZXQob2JqLCBrZXksIHZhbCk7XG59O1xuZ29vZy5vYmplY3QuY2xlYXIgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xlYXI7XG5nb29nLm9iamVjdC5jbG9uZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbG9uZTtcbmdvb2cub2JqZWN0LmNvbnRhaW5zID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zO1xuZ29vZy5vYmplY3QuY29udGFpbnNLZXkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnNLZXk7XG5nb29nLm9iamVjdC5jb250YWluc1ZhbHVlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zVmFsdWU7XG5nb29nLm9iamVjdC5jcmVhdGUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY3JlYXRlO1xuZ29vZy5vYmplY3QuY3JlYXRlSW1tdXRhYmxlVmlldyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jcmVhdGVJbW11dGFibGVWaWV3KG9iaikge1xuICB2YXIgcmVzdWx0ID0gb2JqO1xuICBPYmplY3QuaXNGcm96ZW4gJiYgIU9iamVjdC5pc0Zyb3plbihvYmopICYmIChyZXN1bHQgPSBPYmplY3QuY3JlYXRlKG9iaiksIE9iamVjdC5mcmVlemUocmVzdWx0KSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5vYmplY3QuY3JlYXRlU2V0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NyZWF0ZVNldDtcbmdvb2cub2JqZWN0LmVxdWFscyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9lcXVhbHMoYSwgYikge1xuICBmb3IgKHZhciBrIGluIGEpIHtcbiAgICBpZiAoIShrIGluIGIpIHx8IGFba10gIT09IGJba10pIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgZm9yICh2YXIgayQzOCBpbiBiKSB7XG4gICAgaWYgKCEoayQzOCBpbiBhKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59O1xuZ29vZy5vYmplY3QuZXZlcnkgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZXZlcnkob2JqLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoIWYuY2FsbChvcHRfb2JqLCBvYmpba2V5XSwga2V5LCBvYmopKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn07XG5nb29nLm9iamVjdC5leHRlbmQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZXh0ZW5kO1xuZ29vZy5vYmplY3QuZmlsdGVyID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZpbHRlcjtcbmdvb2cub2JqZWN0LmZpbmRLZXkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZmluZEtleTtcbmdvb2cub2JqZWN0LmZpbmRWYWx1ZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maW5kVmFsdWUob2JqLCBmLCB0aGlzT2JqKSB7XG4gIHZhciBrZXkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZmluZEtleShvYmosIGYsIHRoaXNPYmopO1xuICByZXR1cm4ga2V5ICYmIG9ialtrZXldO1xufTtcbmdvb2cub2JqZWN0LmZvckVhY2ggPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaDtcbmdvb2cub2JqZWN0LmdldCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXQob2JqLCBrZXksIHZhbCkge1xuICByZXR1cm4gbnVsbCAhPT0gb2JqICYmIGtleSBpbiBvYmogPyBvYmpba2V5XSA6IHZhbDtcbn07XG5nb29nLm9iamVjdC5nZXRBbGxQcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEFsbFByb3BlcnR5TmFtZXMob2JqLCBpbmNsdWRlT2JqZWN0UHJvdG90eXBlLCBpbmNsdWRlRnVuY3Rpb25Qcm90b3R5cGUpIHtcbiAgaWYgKCFvYmopIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCAhT2JqZWN0LmdldFByb3RvdHlwZU9mKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKG9iaik7XG4gIH1cbiAgZm9yICh2YXIgdmlzaXRlZFNldCA9IHt9LCBwcm90byA9IG9iajsgcHJvdG8gJiYgKHByb3RvICE9PSBPYmplY3QucHJvdG90eXBlIHx8IGluY2x1ZGVPYmplY3RQcm90b3R5cGUpICYmIChwcm90byAhPT0gRnVuY3Rpb24ucHJvdG90eXBlIHx8IGluY2x1ZGVGdW5jdGlvblByb3RvdHlwZSk7KSB7XG4gICAgZm9yICh2YXIgbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm90byksIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZpc2l0ZWRTZXRbbmFtZXNbaV1dID0gITA7XG4gICAgfVxuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEtleXModmlzaXRlZFNldCk7XG59O1xuZ29vZy5vYmplY3QuZ2V0QW55S2V5ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEFueUtleShvYmopIHtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIHJldHVybiBrZXk7XG4gIH1cbn07XG5nb29nLm9iamVjdC5nZXRBbnlWYWx1ZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRBbnlWYWx1ZShvYmopIHtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxufTtcbmdvb2cub2JqZWN0LmdldENvdW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldENvdW50O1xuZ29vZy5vYmplY3QuZ2V0S2V5cyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzO1xuZ29vZy5vYmplY3QuZ2V0U3VwZXJDbGFzcyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRTdXBlckNsYXNzKGNvbnN0cnVjdG9yKSB7XG4gIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjb25zdHJ1Y3Rvci5wcm90b3R5cGUpO1xuICByZXR1cm4gcHJvdG8gJiYgcHJvdG8uY29uc3RydWN0b3I7XG59O1xuZ29vZy5vYmplY3QuZ2V0VmFsdWVCeUtleXMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0VmFsdWVCeUtleXMob2JqLCB2YXJfYXJncykge1xuICBmb3IgKHZhciBpc0FycmF5TGlrZSA9IGdvb2cuaXNBcnJheUxpa2UodmFyX2FyZ3MpLCBrZXlzID0gaXNBcnJheUxpa2UgPyB2YXJfYXJncyA6IGFyZ3VtZW50cywgaSA9IGlzQXJyYXlMaWtlID8gMCA6IDE7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG51bGwgPT0gb2JqKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG9iaiA9IG9ialtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb2JqO1xufTtcbmdvb2cub2JqZWN0LmdldFZhbHVlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRWYWx1ZXM7XG5nb29nLm9iamVjdC5pc0VtcHR5ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2lzRW1wdHk7XG5nb29nLm9iamVjdC5pc0ltbXV0YWJsZVZpZXcgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNJbW11dGFibGVWaWV3KG9iaikge1xuICByZXR1cm4gISFPYmplY3QuaXNGcm96ZW4gJiYgT2JqZWN0LmlzRnJvemVuKG9iaik7XG59O1xuZ29vZy5vYmplY3QubWFwID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X21hcDtcbmdvb2cub2JqZWN0LnJlbW92ZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9yZW1vdmU7XG5nb29nLm9iamVjdC5zZXQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3Rfc2V0O1xuZ29vZy5vYmplY3Quc2V0SWZVbmRlZmluZWQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3Rfc2V0SWZVbmRlZmluZWQob2JqLCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBrZXkgaW4gb2JqID8gb2JqW2tleV0gOiBvYmpba2V5XSA9IHZhbHVlO1xufTtcbmdvb2cub2JqZWN0LnNldFdpdGhSZXR1cm5WYWx1ZUlmTm90U2V0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3NldFdpdGhSZXR1cm5WYWx1ZUlmTm90U2V0KG9iaiwga2V5LCBmKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG4gIHZhciB2YWwgPSBmKCk7XG4gIHJldHVybiBvYmpba2V5XSA9IHZhbDtcbn07XG5nb29nLm9iamVjdC5zb21lID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3NvbWU7XG5nb29nLm9iamVjdC50cmFuc3Bvc2UgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfdHJhbnNwb3NlKG9iaikge1xuICB2YXIgdHJhbnNwb3NlZCA9IHt9LCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIHRyYW5zcG9zZWRbb2JqW2tleV1dID0ga2V5O1xuICB9XG4gIHJldHVybiB0cmFuc3Bvc2VkO1xufTtcbmdvb2cub2JqZWN0LnVuc2FmZUNsb25lID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3Vuc2FmZUNsb25lO1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAgPSBmdW5jdGlvbihzcmMpIHtcbiAgdGhpcy5zcmMgPSBzcmM7XG4gIHRoaXMubGlzdGVuZXJzID0ge307XG4gIHRoaXMudHlwZUNvdW50XyA9IDA7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAucHJvdG90eXBlLmdldFR5cGVDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50eXBlQ291bnRfO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLnByb3RvdHlwZS5nZXRMaXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb3VudCA9IDAsIHR5cGU7XG4gIGZvciAodHlwZSBpbiB0aGlzLmxpc3RlbmVycykge1xuICAgIGNvdW50ICs9IHRoaXMubGlzdGVuZXJzW3R5cGVdLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gY291bnQ7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBjYWxsT25jZSwgb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG4gIHZhciB0eXBlU3RyID0gdHlwZS50b1N0cmluZygpLCBsaXN0ZW5lckFycmF5ID0gdGhpcy5saXN0ZW5lcnNbdHlwZVN0cl07XG4gIGxpc3RlbmVyQXJyYXkgfHwgKGxpc3RlbmVyQXJyYXkgPSB0aGlzLmxpc3RlbmVyc1t0eXBlU3RyXSA9IFtdLCB0aGlzLnR5cGVDb3VudF8rKyk7XG4gIHZhciBpbmRleCA9IGdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLmZpbmRMaXN0ZW5lckluZGV4XyhsaXN0ZW5lckFycmF5LCBsaXN0ZW5lciwgb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKTtcbiAgaWYgKC0xIDwgaW5kZXgpIHtcbiAgICB2YXIgbGlzdGVuZXJPYmogPSBsaXN0ZW5lckFycmF5W2luZGV4XTtcbiAgICBjYWxsT25jZSB8fCAobGlzdGVuZXJPYmouY2FsbE9uY2UgPSAhMSk7XG4gIH0gZWxzZSB7XG4gICAgbGlzdGVuZXJPYmogPSBuZXcgZ29vZy5ldmVudHMuTGlzdGVuZXIobGlzdGVuZXIsIG51bGwsIHRoaXMuc3JjLCB0eXBlU3RyLCAhIW9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSksIGxpc3RlbmVyT2JqLmNhbGxPbmNlID0gY2FsbE9uY2UsIGxpc3RlbmVyQXJyYXkucHVzaChsaXN0ZW5lck9iaik7XG4gIH1cbiAgcmV0dXJuIGxpc3RlbmVyT2JqO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG4gIHZhciB0eXBlU3RyID0gdHlwZS50b1N0cmluZygpO1xuICBpZiAoISh0eXBlU3RyIGluIHRoaXMubGlzdGVuZXJzKSkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB2YXIgbGlzdGVuZXJBcnJheSA9IHRoaXMubGlzdGVuZXJzW3R5cGVTdHJdLCBpbmRleCA9IGdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLmZpbmRMaXN0ZW5lckluZGV4XyhsaXN0ZW5lckFycmF5LCBsaXN0ZW5lciwgb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKTtcbiAgcmV0dXJuIC0xIDwgaW5kZXggPyAobGlzdGVuZXJBcnJheVtpbmRleF0ubWFya0FzUmVtb3ZlZCgpLCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChsaXN0ZW5lckFycmF5LCBpbmRleCksIDAgPT0gbGlzdGVuZXJBcnJheS5sZW5ndGggJiYgKGRlbGV0ZSB0aGlzLmxpc3RlbmVyc1t0eXBlU3RyXSwgdGhpcy50eXBlQ291bnRfLS0pLCAhMCkgOiAhMTtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5wcm90b3R5cGUucmVtb3ZlQnlLZXkgPSBmdW5jdGlvbihsaXN0ZW5lcikge1xuICB2YXIgdHlwZSA9IGxpc3RlbmVyLnR5cGU7XG4gIGlmICghKHR5cGUgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciByZW1vdmVkID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlKHRoaXMubGlzdGVuZXJzW3R5cGVdLCBsaXN0ZW5lcik7XG4gIHJlbW92ZWQgJiYgKGxpc3RlbmVyLm1hcmtBc1JlbW92ZWQoKSwgMCA9PSB0aGlzLmxpc3RlbmVyc1t0eXBlXS5sZW5ndGggJiYgKGRlbGV0ZSB0aGlzLmxpc3RlbmVyc1t0eXBlXSwgdGhpcy50eXBlQ291bnRfLS0pKTtcbiAgcmV0dXJuIHJlbW92ZWQ7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uKG9wdF90eXBlKSB7XG4gIHZhciB0eXBlU3RyID0gb3B0X3R5cGUgJiYgb3B0X3R5cGUudG9TdHJpbmcoKSwgY291bnQgPSAwLCB0eXBlO1xuICBmb3IgKHR5cGUgaW4gdGhpcy5saXN0ZW5lcnMpIHtcbiAgICBpZiAoIXR5cGVTdHIgfHwgdHlwZSA9PSB0eXBlU3RyKSB7XG4gICAgICBmb3IgKHZhciBsaXN0ZW5lckFycmF5ID0gdGhpcy5saXN0ZW5lcnNbdHlwZV0sIGkgPSAwOyBpIDwgbGlzdGVuZXJBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICArK2NvdW50LCBsaXN0ZW5lckFycmF5W2ldLm1hcmtBc1JlbW92ZWQoKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc1t0eXBlXTtcbiAgICAgIHRoaXMudHlwZUNvdW50Xy0tO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY291bnQ7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAucHJvdG90eXBlLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUsIGNhcHR1cmUpIHtcbiAgdmFyIGxpc3RlbmVyQXJyYXkgPSB0aGlzLmxpc3RlbmVyc1t0eXBlLnRvU3RyaW5nKCldLCBydiA9IFtdO1xuICBpZiAobGlzdGVuZXJBcnJheSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGxpc3RlbmVyT2JqID0gbGlzdGVuZXJBcnJheVtpXTtcbiAgICAgIGxpc3RlbmVyT2JqLmNhcHR1cmUgPT0gY2FwdHVyZSAmJiBydi5wdXNoKGxpc3RlbmVyT2JqKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLnByb3RvdHlwZS5nZXRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xuICB2YXIgbGlzdGVuZXJBcnJheSA9IHRoaXMubGlzdGVuZXJzW3R5cGUudG9TdHJpbmcoKV0sIGkgPSAtMTtcbiAgbGlzdGVuZXJBcnJheSAmJiAoaSA9IGdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLmZpbmRMaXN0ZW5lckluZGV4XyhsaXN0ZW5lckFycmF5LCBsaXN0ZW5lciwgY2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpKTtcbiAgcmV0dXJuIC0xIDwgaSA/IGxpc3RlbmVyQXJyYXlbaV0gOiBudWxsO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLnByb3RvdHlwZS5oYXNMaXN0ZW5lciA9IGZ1bmN0aW9uKG9wdF90eXBlLCBvcHRfY2FwdHVyZSkge1xuICB2YXIgaGFzVHlwZSA9IHZvaWQgMCAhPT0gb3B0X3R5cGUsIHR5cGVTdHIgPSBoYXNUeXBlID8gb3B0X3R5cGUudG9TdHJpbmcoKSA6IFwiXCIsIGhhc0NhcHR1cmUgPSB2b2lkIDAgIT09IG9wdF9jYXB0dXJlO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3NvbWUodGhpcy5saXN0ZW5lcnMsIGZ1bmN0aW9uKGxpc3RlbmVyQXJyYXksIHR5cGUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVyQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmICghKGhhc1R5cGUgJiYgbGlzdGVuZXJBcnJheVtpXS50eXBlICE9IHR5cGVTdHIgfHwgaGFzQ2FwdHVyZSAmJiBsaXN0ZW5lckFycmF5W2ldLmNhcHR1cmUgIT0gb3B0X2NhcHR1cmUpKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICExO1xuICB9KTtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5maW5kTGlzdGVuZXJJbmRleF8gPSBmdW5jdGlvbihsaXN0ZW5lckFycmF5LCBsaXN0ZW5lciwgb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJBcnJheS5sZW5ndGg7ICsraSkge1xuICAgIHZhciBsaXN0ZW5lck9iaiA9IGxpc3RlbmVyQXJyYXlbaV07XG4gICAgaWYgKCFsaXN0ZW5lck9iai5yZW1vdmVkICYmIGxpc3RlbmVyT2JqLmxpc3RlbmVyID09IGxpc3RlbmVyICYmIGxpc3RlbmVyT2JqLmNhcHR1cmUgPT0gISFvcHRfdXNlQ2FwdHVyZSAmJiBsaXN0ZW5lck9iai5oYW5kbGVyID09IG9wdF9saXN0ZW5lclNjb3BlKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcbmdvb2cuZXZlbnRzLktleSA9IHt9O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZVR5cGUgPSB7fTtcbmdvb2cuZXZlbnRzLkxJU1RFTkVSX01BUF9QUk9QXyA9IFwiY2xvc3VyZV9sbV9cIiArICgxZTYgKiBNYXRoLnJhbmRvbSgpIHwgMCk7XG5nb29nLmV2ZW50cy5vblN0cmluZ18gPSBcIm9uXCI7XG5nb29nLmV2ZW50cy5vblN0cmluZ01hcF8gPSB7fTtcbmdvb2cuZXZlbnRzLkNhcHR1cmVTaW11bGF0aW9uTW9kZSA9IHtPRkZfQU5EX0ZBSUw6MCwgT0ZGX0FORF9TSUxFTlQ6MSwgT046Mn07XG5nb29nLmV2ZW50cy5DQVBUVVJFX1NJTVVMQVRJT05fTU9ERSA9IDI7XG5nb29nLmV2ZW50cy5saXN0ZW5lckNvdW50RXN0aW1hdGVfID0gMDtcbmdvb2cuZXZlbnRzLmxpc3RlbiA9IGZ1bmN0aW9uKHNyYywgdHlwZSwgbGlzdGVuZXIsIG9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcikge1xuICBpZiAob3B0X29wdGlvbnMgJiYgb3B0X29wdGlvbnMub25jZSkge1xuICAgIHJldHVybiBnb29nLmV2ZW50cy5saXN0ZW5PbmNlKHNyYywgdHlwZSwgbGlzdGVuZXIsIG9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcik7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGdvb2cuZXZlbnRzLmxpc3RlbihzcmMsIHR5cGVbaV0sIGxpc3RlbmVyLCBvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsaXN0ZW5lciA9IGdvb2cuZXZlbnRzLndyYXBMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIHJldHVybiBnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShzcmMpID8gc3JjLmxpc3Rlbih0eXBlLCBsaXN0ZW5lciwgZ29vZy5pc09iamVjdChvcHRfb3B0aW9ucykgPyAhIW9wdF9vcHRpb25zLmNhcHR1cmUgOiAhIW9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcikgOiBnb29nLmV2ZW50cy5saXN0ZW5fKHNyYywgdHlwZSwgbGlzdGVuZXIsICExLCBvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpO1xufTtcbmdvb2cuZXZlbnRzLmxpc3Rlbl8gPSBmdW5jdGlvbihzcmMsIHR5cGUsIGxpc3RlbmVyLCBjYWxsT25jZSwgb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKSB7XG4gIGlmICghdHlwZSkge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlXCIpO1xuICB9XG4gIHZhciBjYXB0dXJlID0gZ29vZy5pc09iamVjdChvcHRfb3B0aW9ucykgPyAhIW9wdF9vcHRpb25zLmNhcHR1cmUgOiAhIW9wdF9vcHRpb25zLCBsaXN0ZW5lck1hcCA9IGdvb2cuZXZlbnRzLmdldExpc3RlbmVyTWFwXyhzcmMpO1xuICBsaXN0ZW5lck1hcCB8fCAoc3JjW2dvb2cuZXZlbnRzLkxJU1RFTkVSX01BUF9QUk9QX10gPSBsaXN0ZW5lck1hcCA9IG5ldyBnb29nLmV2ZW50cy5MaXN0ZW5lck1hcChzcmMpKTtcbiAgdmFyIGxpc3RlbmVyT2JqID0gbGlzdGVuZXJNYXAuYWRkKHR5cGUsIGxpc3RlbmVyLCBjYWxsT25jZSwgY2FwdHVyZSwgb3B0X2hhbmRsZXIpO1xuICBpZiAobGlzdGVuZXJPYmoucHJveHkpIHtcbiAgICByZXR1cm4gbGlzdGVuZXJPYmo7XG4gIH1cbiAgdmFyIHByb3h5ID0gZ29vZy5ldmVudHMuZ2V0UHJveHkoKTtcbiAgbGlzdGVuZXJPYmoucHJveHkgPSBwcm94eTtcbiAgcHJveHkuc3JjID0gc3JjO1xuICBwcm94eS5saXN0ZW5lciA9IGxpc3RlbmVyT2JqO1xuICBpZiAoc3JjLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICBnb29nLmV2ZW50cy5Ccm93c2VyRmVhdHVyZS5QQVNTSVZFX0VWRU5UUyB8fCAob3B0X29wdGlvbnMgPSBjYXB0dXJlKSwgdm9pZCAwID09PSBvcHRfb3B0aW9ucyAmJiAob3B0X29wdGlvbnMgPSAhMSksIHNyYy5hZGRFdmVudExpc3RlbmVyKHR5cGUudG9TdHJpbmcoKSwgcHJveHksIG9wdF9vcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoc3JjLmF0dGFjaEV2ZW50KSB7XG4gICAgICBzcmMuYXR0YWNoRXZlbnQoZ29vZy5ldmVudHMuZ2V0T25TdHJpbmdfKHR5cGUudG9TdHJpbmcoKSksIHByb3h5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNyYy5hZGRMaXN0ZW5lciAmJiBzcmMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgZ29vZy5hc3NlcnRzLmFzc2VydChcImNoYW5nZVwiID09PSB0eXBlLCBcIk1lZGlhUXVlcnlMaXN0IG9ubHkgaGFzIGEgY2hhbmdlIGV2ZW50XCIpLCBzcmMuYWRkTGlzdGVuZXIocHJveHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBnb29nLmV2ZW50cy5saXN0ZW5lckNvdW50RXN0aW1hdGVfKys7XG4gIHJldHVybiBsaXN0ZW5lck9iajtcbn07XG5nb29nLmV2ZW50cy5nZXRQcm94eSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcHJveHlDYWxsYmFja0Z1bmN0aW9uID0gZ29vZy5ldmVudHMuaGFuZGxlQnJvd3NlckV2ZW50XywgZiA9IGZ1bmN0aW9uKGV2ZW50T2JqZWN0KSB7XG4gICAgcmV0dXJuIHByb3h5Q2FsbGJhY2tGdW5jdGlvbi5jYWxsKGYuc3JjLCBmLmxpc3RlbmVyLCBldmVudE9iamVjdCk7XG4gIH07XG4gIHJldHVybiBmO1xufTtcbmdvb2cuZXZlbnRzLmxpc3Rlbk9uY2UgPSBmdW5jdGlvbihzcmMsIHR5cGUsIGxpc3RlbmVyLCBvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGdvb2cuZXZlbnRzLmxpc3Rlbk9uY2Uoc3JjLCB0eXBlW2ldLCBsaXN0ZW5lciwgb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGlzdGVuZXIgPSBnb29nLmV2ZW50cy53cmFwTGlzdGVuZXIobGlzdGVuZXIpO1xuICByZXR1cm4gZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkoc3JjKSA/IHNyYy5saXN0ZW5PbmNlKHR5cGUsIGxpc3RlbmVyLCBnb29nLmlzT2JqZWN0KG9wdF9vcHRpb25zKSA/ICEhb3B0X29wdGlvbnMuY2FwdHVyZSA6ICEhb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKSA6IGdvb2cuZXZlbnRzLmxpc3Rlbl8oc3JjLCB0eXBlLCBsaXN0ZW5lciwgITAsIG9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcik7XG59O1xuZ29vZy5ldmVudHMubGlzdGVuV2l0aFdyYXBwZXIgPSBmdW5jdGlvbihzcmMsIHdyYXBwZXIsIGxpc3RlbmVyLCBvcHRfY2FwdCwgb3B0X2hhbmRsZXIpIHtcbiAgd3JhcHBlci5saXN0ZW4oc3JjLCBsaXN0ZW5lciwgb3B0X2NhcHQsIG9wdF9oYW5kbGVyKTtcbn07XG5nb29nLmV2ZW50cy51bmxpc3RlbiA9IGZ1bmN0aW9uKHNyYywgdHlwZSwgbGlzdGVuZXIsIG9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcikge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS5sZW5ndGg7IGkrKykge1xuICAgICAgZ29vZy5ldmVudHMudW5saXN0ZW4oc3JjLCB0eXBlW2ldLCBsaXN0ZW5lciwgb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGNhcHR1cmUgPSBnb29nLmlzT2JqZWN0KG9wdF9vcHRpb25zKSA/ICEhb3B0X29wdGlvbnMuY2FwdHVyZSA6ICEhb3B0X29wdGlvbnM7XG4gIGxpc3RlbmVyID0gZ29vZy5ldmVudHMud3JhcExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgaWYgKGdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KHNyYykpIHtcbiAgICByZXR1cm4gc3JjLnVubGlzdGVuKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlLCBvcHRfaGFuZGxlcik7XG4gIH1cbiAgaWYgKCFzcmMpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIGxpc3RlbmVyTWFwID0gZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXJNYXBfKHNyYyk7XG4gIGlmIChsaXN0ZW5lck1hcCkge1xuICAgIHZhciBsaXN0ZW5lck9iaiA9IGxpc3RlbmVyTWFwLmdldExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlLCBvcHRfaGFuZGxlcik7XG4gICAgaWYgKGxpc3RlbmVyT2JqKSB7XG4gICAgICByZXR1cm4gZ29vZy5ldmVudHMudW5saXN0ZW5CeUtleShsaXN0ZW5lck9iaik7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5ID0gZnVuY3Rpb24oa2V5KSB7XG4gIGlmIChcIm51bWJlclwiID09PSB0eXBlb2Yga2V5IHx8ICFrZXkgfHwga2V5LnJlbW92ZWQpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIHNyYyA9IGtleS5zcmM7XG4gIGlmIChnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShzcmMpKSB7XG4gICAgcmV0dXJuIHNyYy51bmxpc3RlbkJ5S2V5KGtleSk7XG4gIH1cbiAgdmFyIHR5cGUgPSBrZXkudHlwZSwgcHJveHkgPSBrZXkucHJveHk7XG4gIHNyYy5yZW1vdmVFdmVudExpc3RlbmVyID8gc3JjLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgcHJveHksIGtleS5jYXB0dXJlKSA6IHNyYy5kZXRhY2hFdmVudCA/IHNyYy5kZXRhY2hFdmVudChnb29nLmV2ZW50cy5nZXRPblN0cmluZ18odHlwZSksIHByb3h5KSA6IHNyYy5hZGRMaXN0ZW5lciAmJiBzcmMucmVtb3ZlTGlzdGVuZXIgJiYgc3JjLnJlbW92ZUxpc3RlbmVyKHByb3h5KTtcbiAgZ29vZy5ldmVudHMubGlzdGVuZXJDb3VudEVzdGltYXRlXy0tO1xuICB2YXIgbGlzdGVuZXJNYXAgPSBnb29nLmV2ZW50cy5nZXRMaXN0ZW5lck1hcF8oc3JjKTtcbiAgbGlzdGVuZXJNYXAgPyAobGlzdGVuZXJNYXAucmVtb3ZlQnlLZXkoa2V5KSwgMCA9PSBsaXN0ZW5lck1hcC5nZXRUeXBlQ291bnQoKSAmJiAobGlzdGVuZXJNYXAuc3JjID0gbnVsbCwgc3JjW2dvb2cuZXZlbnRzLkxJU1RFTkVSX01BUF9QUk9QX10gPSBudWxsKSkgOiBrZXkubWFya0FzUmVtb3ZlZCgpO1xuICByZXR1cm4gITA7XG59O1xuZ29vZy5ldmVudHMudW5saXN0ZW5XaXRoV3JhcHBlciA9IGZ1bmN0aW9uKHNyYywgd3JhcHBlciwgbGlzdGVuZXIsIG9wdF9jYXB0LCBvcHRfaGFuZGxlcikge1xuICB3cmFwcGVyLnVubGlzdGVuKHNyYywgbGlzdGVuZXIsIG9wdF9jYXB0LCBvcHRfaGFuZGxlcik7XG59O1xuZ29vZy5ldmVudHMucmVtb3ZlQWxsID0gZnVuY3Rpb24ob2JqLCBvcHRfdHlwZSkge1xuICBpZiAoIW9iaikge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmIChnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShvYmopKSB7XG4gICAgcmV0dXJuIG9iai5yZW1vdmVBbGxMaXN0ZW5lcnMob3B0X3R5cGUpO1xuICB9XG4gIHZhciBsaXN0ZW5lck1hcCA9IGdvb2cuZXZlbnRzLmdldExpc3RlbmVyTWFwXyhvYmopO1xuICBpZiAoIWxpc3RlbmVyTWFwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgdmFyIGNvdW50ID0gMCwgdHlwZVN0ciA9IG9wdF90eXBlICYmIG9wdF90eXBlLnRvU3RyaW5nKCksIHR5cGU7XG4gIGZvciAodHlwZSBpbiBsaXN0ZW5lck1hcC5saXN0ZW5lcnMpIHtcbiAgICBpZiAoIXR5cGVTdHIgfHwgdHlwZSA9PSB0eXBlU3RyKSB7XG4gICAgICBmb3IgKHZhciBsaXN0ZW5lcnMgPSBsaXN0ZW5lck1hcC5saXN0ZW5lcnNbdHlwZV0uY29uY2F0KCksIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGdvb2cuZXZlbnRzLnVubGlzdGVuQnlLZXkobGlzdGVuZXJzW2ldKSAmJiArK2NvdW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY291bnQ7XG59O1xuZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24ob2JqLCB0eXBlLCBjYXB0dXJlKSB7XG4gIGlmIChnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShvYmopKSB7XG4gICAgcmV0dXJuIG9iai5nZXRMaXN0ZW5lcnModHlwZSwgY2FwdHVyZSk7XG4gIH1cbiAgaWYgKCFvYmopIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgdmFyIGxpc3RlbmVyTWFwID0gZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXJNYXBfKG9iaik7XG4gIHJldHVybiBsaXN0ZW5lck1hcCA/IGxpc3RlbmVyTWFwLmdldExpc3RlbmVycyh0eXBlLCBjYXB0dXJlKSA6IFtdO1xufTtcbmdvb2cuZXZlbnRzLmdldExpc3RlbmVyID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBsaXN0ZW5lciwgb3B0X2NhcHQsIG9wdF9oYW5kbGVyKSB7XG4gIGxpc3RlbmVyID0gZ29vZy5ldmVudHMud3JhcExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdmFyIGNhcHR1cmUgPSAhIW9wdF9jYXB0O1xuICBpZiAoZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkoc3JjKSkge1xuICAgIHJldHVybiBzcmMuZ2V0TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUsIG9wdF9oYW5kbGVyKTtcbiAgfVxuICBpZiAoIXNyYykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBsaXN0ZW5lck1hcCA9IGdvb2cuZXZlbnRzLmdldExpc3RlbmVyTWFwXyhzcmMpO1xuICByZXR1cm4gbGlzdGVuZXJNYXAgPyBsaXN0ZW5lck1hcC5nZXRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSwgb3B0X2hhbmRsZXIpIDogbnVsbDtcbn07XG5nb29nLmV2ZW50cy5oYXNMaXN0ZW5lciA9IGZ1bmN0aW9uKG9iaiwgb3B0X3R5cGUsIG9wdF9jYXB0dXJlKSB7XG4gIGlmIChnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShvYmopKSB7XG4gICAgcmV0dXJuIG9iai5oYXNMaXN0ZW5lcihvcHRfdHlwZSwgb3B0X2NhcHR1cmUpO1xuICB9XG4gIHZhciBsaXN0ZW5lck1hcCA9IGdvb2cuZXZlbnRzLmdldExpc3RlbmVyTWFwXyhvYmopO1xuICByZXR1cm4gISFsaXN0ZW5lck1hcCAmJiBsaXN0ZW5lck1hcC5oYXNMaXN0ZW5lcihvcHRfdHlwZSwgb3B0X2NhcHR1cmUpO1xufTtcbmdvb2cuZXZlbnRzLmV4cG9zZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHN0ciA9IFtdLCBrZXk7XG4gIGZvciAoa2V5IGluIGUpIHtcbiAgICBlW2tleV0gJiYgZVtrZXldLmlkID8gc3RyLnB1c2goa2V5ICsgXCIgPSBcIiArIGVba2V5XSArIFwiIChcIiArIGVba2V5XS5pZCArIFwiKVwiKSA6IHN0ci5wdXNoKGtleSArIFwiID0gXCIgKyBlW2tleV0pO1xuICB9XG4gIHJldHVybiBzdHIuam9pbihcIlxcblwiKTtcbn07XG5nb29nLmV2ZW50cy5nZXRPblN0cmluZ18gPSBmdW5jdGlvbih0eXBlKSB7XG4gIHJldHVybiB0eXBlIGluIGdvb2cuZXZlbnRzLm9uU3RyaW5nTWFwXyA/IGdvb2cuZXZlbnRzLm9uU3RyaW5nTWFwX1t0eXBlXSA6IGdvb2cuZXZlbnRzLm9uU3RyaW5nTWFwX1t0eXBlXSA9IGdvb2cuZXZlbnRzLm9uU3RyaW5nXyArIHR5cGU7XG59O1xuZ29vZy5ldmVudHMuZmlyZUxpc3RlbmVycyA9IGZ1bmN0aW9uKG9iaiwgdHlwZSwgY2FwdHVyZSwgZXZlbnRPYmplY3QpIHtcbiAgcmV0dXJuIGdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KG9iaikgPyBvYmouZmlyZUxpc3RlbmVycyh0eXBlLCBjYXB0dXJlLCBldmVudE9iamVjdCkgOiBnb29nLmV2ZW50cy5maXJlTGlzdGVuZXJzXyhvYmosIHR5cGUsIGNhcHR1cmUsIGV2ZW50T2JqZWN0KTtcbn07XG5nb29nLmV2ZW50cy5maXJlTGlzdGVuZXJzXyA9IGZ1bmN0aW9uKG9iaiwgdHlwZSwgY2FwdHVyZSwgZXZlbnRPYmplY3QpIHtcbiAgdmFyIHJldHZhbCA9ICEwLCBsaXN0ZW5lck1hcCA9IGdvb2cuZXZlbnRzLmdldExpc3RlbmVyTWFwXyhvYmopO1xuICBpZiAobGlzdGVuZXJNYXApIHtcbiAgICB2YXIgbGlzdGVuZXJBcnJheSA9IGxpc3RlbmVyTWFwLmxpc3RlbmVyc1t0eXBlLnRvU3RyaW5nKCldO1xuICAgIGlmIChsaXN0ZW5lckFycmF5KSB7XG4gICAgICBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJBcnJheS5jb25jYXQoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lckFycmF5W2ldO1xuICAgICAgICBpZiAobGlzdGVuZXIgJiYgbGlzdGVuZXIuY2FwdHVyZSA9PSBjYXB0dXJlICYmICFsaXN0ZW5lci5yZW1vdmVkKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGdvb2cuZXZlbnRzLmZpcmVMaXN0ZW5lcihsaXN0ZW5lciwgZXZlbnRPYmplY3QpO1xuICAgICAgICAgIHJldHZhbCA9IHJldHZhbCAmJiAhMSAhPT0gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXR2YWw7XG59O1xuZ29vZy5ldmVudHMuZmlyZUxpc3RlbmVyID0gZnVuY3Rpb24obGlzdGVuZXIsIGV2ZW50T2JqZWN0KSB7XG4gIHZhciBsaXN0ZW5lckZuID0gbGlzdGVuZXIubGlzdGVuZXIsIGxpc3RlbmVySGFuZGxlciA9IGxpc3RlbmVyLmhhbmRsZXIgfHwgbGlzdGVuZXIuc3JjO1xuICBsaXN0ZW5lci5jYWxsT25jZSAmJiBnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGxpc3RlbmVyKTtcbiAgcmV0dXJuIGxpc3RlbmVyRm4uY2FsbChsaXN0ZW5lckhhbmRsZXIsIGV2ZW50T2JqZWN0KTtcbn07XG5nb29nLmV2ZW50cy5nZXRUb3RhbExpc3RlbmVyQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuZXZlbnRzLmxpc3RlbmVyQ291bnRFc3RpbWF0ZV87XG59O1xuZ29vZy5ldmVudHMuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKHNyYywgZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KHNyYyksIFwiQ2FuIG5vdCB1c2UgZ29vZy5ldmVudHMuZGlzcGF0Y2hFdmVudCB3aXRoIG5vbi1nb29nLmV2ZW50cy5MaXN0ZW5hYmxlIGluc3RhbmNlLlwiKTtcbiAgcmV0dXJuIHNyYy5kaXNwYXRjaEV2ZW50KGUpO1xufTtcbmdvb2cuZXZlbnRzLnByb3RlY3RCcm93c2VyRXZlbnRFbnRyeVBvaW50ID0gZnVuY3Rpb24oZXJyb3JIYW5kbGVyKSB7XG4gIGdvb2cuZXZlbnRzLmhhbmRsZUJyb3dzZXJFdmVudF8gPSBlcnJvckhhbmRsZXIucHJvdGVjdEVudHJ5UG9pbnQoZ29vZy5ldmVudHMuaGFuZGxlQnJvd3NlckV2ZW50Xyk7XG59O1xuZ29vZy5ldmVudHMuaGFuZGxlQnJvd3NlckV2ZW50XyA9IGZ1bmN0aW9uKGxpc3RlbmVyLCBvcHRfZXZ0KSB7XG4gIHJldHVybiBsaXN0ZW5lci5yZW1vdmVkID8gITAgOiBnb29nLmV2ZW50cy5maXJlTGlzdGVuZXIobGlzdGVuZXIsIG5ldyBnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQob3B0X2V2dCwgdGhpcykpO1xufTtcbmdvb2cuZXZlbnRzLm1hcmtJZUV2ZW50XyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHVzZVJldHVyblZhbHVlID0gITE7XG4gIGlmICgwID09IGUua2V5Q29kZSkge1xuICAgIHRyeSB7XG4gICAgICBlLmtleUNvZGUgPSAtMTtcbiAgICAgIHJldHVybjtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgdXNlUmV0dXJuVmFsdWUgPSAhMDtcbiAgICB9XG4gIH1cbiAgaWYgKHVzZVJldHVyblZhbHVlIHx8IHZvaWQgMCA9PSBlLnJldHVyblZhbHVlKSB7XG4gICAgZS5yZXR1cm5WYWx1ZSA9ICEwO1xuICB9XG59O1xuZ29vZy5ldmVudHMuaXNNYXJrZWRJZUV2ZW50XyA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIDAgPiBlLmtleUNvZGUgfHwgdm9pZCAwICE9IGUucmV0dXJuVmFsdWU7XG59O1xuZ29vZy5ldmVudHMudW5pcXVlSWRDb3VudGVyXyA9IDA7XG5nb29nLmV2ZW50cy5nZXRVbmlxdWVJZCA9IGZ1bmN0aW9uKGlkZW50aWZpZXIpIHtcbiAgcmV0dXJuIGlkZW50aWZpZXIgKyBcIl9cIiArIGdvb2cuZXZlbnRzLnVuaXF1ZUlkQ291bnRlcl8rKztcbn07XG5nb29nLmV2ZW50cy5nZXRMaXN0ZW5lck1hcF8gPSBmdW5jdGlvbihzcmMpIHtcbiAgdmFyIGxpc3RlbmVyTWFwID0gc3JjW2dvb2cuZXZlbnRzLkxJU1RFTkVSX01BUF9QUk9QX107XG4gIHJldHVybiBsaXN0ZW5lck1hcCBpbnN0YW5jZW9mIGdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwID8gbGlzdGVuZXJNYXAgOiBudWxsO1xufTtcbmdvb2cuZXZlbnRzLkxJU1RFTkVSX1dSQVBQRVJfUFJPUF8gPSBcIl9fY2xvc3VyZV9ldmVudHNfZm5fXCIgKyAoMWU5ICogTWF0aC5yYW5kb20oKSA+Pj4gMCk7XG5nb29nLmV2ZW50cy53cmFwTGlzdGVuZXIgPSBmdW5jdGlvbihsaXN0ZW5lcikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGxpc3RlbmVyLCBcIkxpc3RlbmVyIGNhbiBub3QgYmUgbnVsbC5cIik7XG4gIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBsaXN0ZW5lcikge1xuICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgfVxuICBnb29nLmFzc2VydHMuYXNzZXJ0KGxpc3RlbmVyLmhhbmRsZUV2ZW50LCBcIkFuIG9iamVjdCBsaXN0ZW5lciBtdXN0IGhhdmUgaGFuZGxlRXZlbnQgbWV0aG9kLlwiKTtcbiAgbGlzdGVuZXJbZ29vZy5ldmVudHMuTElTVEVORVJfV1JBUFBFUl9QUk9QX10gfHwgKGxpc3RlbmVyW2dvb2cuZXZlbnRzLkxJU1RFTkVSX1dSQVBQRVJfUFJPUF9dID0gZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiBsaXN0ZW5lci5oYW5kbGVFdmVudChlKTtcbiAgfSk7XG4gIHJldHVybiBsaXN0ZW5lcltnb29nLmV2ZW50cy5MSVNURU5FUl9XUkFQUEVSX1BST1BfXTtcbn07XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbih0cmFuc2Zvcm1lcikge1xuICBnb29nLmV2ZW50cy5oYW5kbGVCcm93c2VyRXZlbnRfID0gdHJhbnNmb3JtZXIoZ29vZy5ldmVudHMuaGFuZGxlQnJvd3NlckV2ZW50Xyk7XG59KTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuRGlzcG9zYWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXyA9IG5ldyBnb29nLmV2ZW50cy5MaXN0ZW5lck1hcCh0aGlzKTtcbiAgdGhpcy5hY3R1YWxFdmVudFRhcmdldF8gPSB0aGlzO1xuICB0aGlzLnBhcmVudEV2ZW50VGFyZ2V0XyA9IG51bGw7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmV2ZW50cy5FdmVudFRhcmdldCwgZ29vZy5EaXNwb3NhYmxlKTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUuYWRkSW1wbGVtZW50YXRpb24oZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuTUFYX0FOQ0VTVE9SU18gPSAxMDAwO1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmdldFBhcmVudEV2ZW50VGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnBhcmVudEV2ZW50VGFyZ2V0Xztcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuc2V0UGFyZW50RXZlbnRUYXJnZXQgPSBmdW5jdGlvbihwYXJlbnQpIHtcbiAgdGhpcy5wYXJlbnRFdmVudFRhcmdldF8gPSBwYXJlbnQ7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBoYW5kbGVyLCBvcHRfY2FwdHVyZSwgb3B0X2hhbmRsZXJTY29wZSkge1xuICBnb29nLmV2ZW50cy5saXN0ZW4odGhpcywgdHlwZSwgaGFuZGxlciwgb3B0X2NhcHR1cmUsIG9wdF9oYW5kbGVyU2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgaGFuZGxlciwgb3B0X2NhcHR1cmUsIG9wdF9oYW5kbGVyU2NvcGUpIHtcbiAgZ29vZy5ldmVudHMudW5saXN0ZW4odGhpcywgdHlwZSwgaGFuZGxlciwgb3B0X2NhcHR1cmUsIG9wdF9oYW5kbGVyU2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oZSkge1xuICB0aGlzLmFzc2VydEluaXRpYWxpemVkXygpO1xuICB2YXIgYW5jZXN0b3IgPSB0aGlzLmdldFBhcmVudEV2ZW50VGFyZ2V0KCk7XG4gIGlmIChhbmNlc3Rvcikge1xuICAgIHZhciBhbmNlc3RvcnNUcmVlID0gW107XG4gICAgZm9yICh2YXIgYW5jZXN0b3JDb3VudCA9IDE7IGFuY2VzdG9yOyBhbmNlc3RvciA9IGFuY2VzdG9yLmdldFBhcmVudEV2ZW50VGFyZ2V0KCkpIHtcbiAgICAgIGFuY2VzdG9yc1RyZWUucHVzaChhbmNlc3RvciksIGdvb2cuYXNzZXJ0cy5hc3NlcnQoKythbmNlc3RvckNvdW50IDwgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuTUFYX0FOQ0VTVE9SU18sIFwiaW5maW5pdGUgbG9vcFwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnRJbnRlcm5hbF8odGhpcy5hY3R1YWxFdmVudFRhcmdldF8sIGUsIGFuY2VzdG9yc1RyZWUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIHRoaXMucGFyZW50RXZlbnRUYXJnZXRfID0gbnVsbDtcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xuICB0aGlzLmFzc2VydEluaXRpYWxpemVkXygpO1xuICByZXR1cm4gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18uYWRkKFN0cmluZyh0eXBlKSwgbGlzdGVuZXIsICExLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5saXN0ZW5PbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xuICByZXR1cm4gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18uYWRkKFN0cmluZyh0eXBlKSwgbGlzdGVuZXIsICEwLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS51bmxpc3RlbiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbiAgcmV0dXJuIHRoaXMuZXZlbnRUYXJnZXRMaXN0ZW5lcnNfLnJlbW92ZShTdHJpbmcodHlwZSksIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS51bmxpc3RlbkJ5S2V5ID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5yZW1vdmVCeUtleShrZXkpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbihvcHRfdHlwZSkge1xuICByZXR1cm4gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18gPyB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5yZW1vdmVBbGwob3B0X3R5cGUpIDogMDtcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuZmlyZUxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUsIGNhcHR1cmUsIGV2ZW50T2JqZWN0KSB7XG4gIHZhciBsaXN0ZW5lckFycmF5ID0gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18ubGlzdGVuZXJzW1N0cmluZyh0eXBlKV07XG4gIGlmICghbGlzdGVuZXJBcnJheSkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJBcnJheS5jb25jYXQoKTtcbiAgZm9yICh2YXIgcnYgPSAhMCwgaSA9IDA7IGkgPCBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJBcnJheVtpXTtcbiAgICBpZiAobGlzdGVuZXIgJiYgIWxpc3RlbmVyLnJlbW92ZWQgJiYgbGlzdGVuZXIuY2FwdHVyZSA9PSBjYXB0dXJlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJGbiA9IGxpc3RlbmVyLmxpc3RlbmVyLCBsaXN0ZW5lckhhbmRsZXIgPSBsaXN0ZW5lci5oYW5kbGVyIHx8IGxpc3RlbmVyLnNyYztcbiAgICAgIGxpc3RlbmVyLmNhbGxPbmNlICYmIHRoaXMudW5saXN0ZW5CeUtleShsaXN0ZW5lcik7XG4gICAgICBydiA9ICExICE9PSBsaXN0ZW5lckZuLmNhbGwobGlzdGVuZXJIYW5kbGVyLCBldmVudE9iamVjdCkgJiYgcnY7XG4gICAgfVxuICB9XG4gIHJldHVybiBydiAmJiAhZXZlbnRPYmplY3QuZGVmYXVsdFByZXZlbnRlZDtcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSwgY2FwdHVyZSkge1xuICByZXR1cm4gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18uZ2V0TGlzdGVuZXJzKFN0cmluZyh0eXBlKSwgY2FwdHVyZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmdldExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5nZXRMaXN0ZW5lcihTdHJpbmcodHlwZSksIGxpc3RlbmVyLCBjYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmhhc0xpc3RlbmVyID0gZnVuY3Rpb24ob3B0X3R5cGUsIG9wdF9jYXB0dXJlKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5oYXNMaXN0ZW5lcih2b2lkIDAgIT09IG9wdF90eXBlID8gU3RyaW5nKG9wdF90eXBlKSA6IHZvaWQgMCwgb3B0X2NhcHR1cmUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5zZXRUYXJnZXRGb3JUZXN0aW5nID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHRoaXMuYWN0dWFsRXZlbnRUYXJnZXRfID0gdGFyZ2V0O1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hc3NlcnRJbml0aWFsaXplZF8gPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCh0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXywgXCJFdmVudCB0YXJnZXQgaXMgbm90IGluaXRpYWxpemVkLiBEaWQgeW91IGNhbGwgdGhlIHN1cGVyY2xhc3MgKGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KSBjb25zdHJ1Y3Rvcj9cIik7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudEludGVybmFsXyA9IGZ1bmN0aW9uKHRhcmdldCwgZSwgb3B0X2FuY2VzdG9yc1RyZWUpIHtcbiAgdmFyIHR5cGUgPSBlLnR5cGUgfHwgZTtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBlKSB7XG4gICAgZSA9IG5ldyBnb29nLmV2ZW50cy5FdmVudChlLCB0YXJnZXQpO1xuICB9IGVsc2Uge1xuICAgIGlmIChlIGluc3RhbmNlb2YgZ29vZy5ldmVudHMuRXZlbnQpIHtcbiAgICAgIGUudGFyZ2V0ID0gZS50YXJnZXQgfHwgdGFyZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgb2xkRXZlbnQgPSBlO1xuICAgICAgZSA9IG5ldyBnb29nLmV2ZW50cy5FdmVudCh0eXBlLCB0YXJnZXQpO1xuICAgICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2V4dGVuZChlLCBvbGRFdmVudCk7XG4gICAgfVxuICB9XG4gIHZhciBydiA9ICEwO1xuICBpZiAob3B0X2FuY2VzdG9yc1RyZWUpIHtcbiAgICBmb3IgKHZhciBpID0gb3B0X2FuY2VzdG9yc1RyZWUubGVuZ3RoIC0gMTsgIWUuaGFzUHJvcGFnYXRpb25TdG9wcGVkKCkgJiYgMCA8PSBpOyBpLS0pIHtcbiAgICAgIHZhciBjdXJyZW50VGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0ID0gb3B0X2FuY2VzdG9yc1RyZWVbaV07XG4gICAgICBydiA9IGN1cnJlbnRUYXJnZXQuZmlyZUxpc3RlbmVycyh0eXBlLCAhMCwgZSkgJiYgcnY7XG4gICAgfVxuICB9XG4gIGUuaGFzUHJvcGFnYXRpb25TdG9wcGVkKCkgfHwgKGN1cnJlbnRUYXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQgPSB0YXJnZXQsIHJ2ID0gY3VycmVudFRhcmdldC5maXJlTGlzdGVuZXJzKHR5cGUsICEwLCBlKSAmJiBydiwgZS5oYXNQcm9wYWdhdGlvblN0b3BwZWQoKSB8fCAocnYgPSBjdXJyZW50VGFyZ2V0LmZpcmVMaXN0ZW5lcnModHlwZSwgITEsIGUpICYmIHJ2KSk7XG4gIGlmIChvcHRfYW5jZXN0b3JzVHJlZSkge1xuICAgIGZvciAoaSA9IDA7ICFlLmhhc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICYmIGkgPCBvcHRfYW5jZXN0b3JzVHJlZS5sZW5ndGg7IGkrKykge1xuICAgICAgY3VycmVudFRhcmdldCA9IGUuY3VycmVudFRhcmdldCA9IG9wdF9hbmNlc3RvcnNUcmVlW2ldLCBydiA9IGN1cnJlbnRUYXJnZXQuZmlyZUxpc3RlbmVycyh0eXBlLCAhMSwgZSkgJiYgcnY7XG4gICAgfVxuICB9XG4gIHJldHVybiBydjtcbn07XG5nb29nLnN0cnVjdHMgPSB7fTtcbmdvb2cuc3RydWN0cy5Db2xsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5jb2xsZWN0aW9ucyA9IHt9O1xuZ29vZy5jb2xsZWN0aW9ucy5pdGVycyA9IHt9O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfZ2V0SXRlcmF0b3IoaXRlcmFibGUpIHtcbiAgcmV0dXJuIGl0ZXJhYmxlW2dvb2cuZ2xvYmFsLlN5bWJvbC5pdGVyYXRvcl0oKTtcbn1cbmdvb2cuY29sbGVjdGlvbnMuaXRlcnMuZ2V0SXRlcmF0b3IgPSBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19nZXRJdGVyYXRvcjtcbmdvb2cuY29sbGVjdGlvbnMuaXRlcnMuZm9yRWFjaCA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmKSB7XG4gIGZvciAodmFyICRqc2NvbXAkaXRlciQ1ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoaXRlcmFibGUpLCAkanNjb21wJGtleSRlbGVtID0gJGpzY29tcCRpdGVyJDUubmV4dCgpOyAhJGpzY29tcCRrZXkkZWxlbS5kb25lOyAkanNjb21wJGtleSRlbGVtID0gJGpzY29tcCRpdGVyJDUubmV4dCgpKSB7XG4gICAgZigkanNjb21wJGtleSRlbGVtLnZhbHVlKTtcbiAgfVxufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19NYXBJdGVyYXRvciA9IGZ1bmN0aW9uKGNoaWxkSXRlciwgbWFwRm4pIHtcbiAgdGhpcy5jaGlsZEl0ZXJhdG9yXyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX2dldEl0ZXJhdG9yKGNoaWxkSXRlcik7XG4gIHRoaXMubWFwRm5fID0gbWFwRm47XG4gIHRoaXMubmV4dEluZGV4XyA9IDA7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfTWFwSXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNoaWxkUmVzdWx0ID0gdGhpcy5jaGlsZEl0ZXJhdG9yXy5uZXh0KCk7XG4gIHJldHVybiB7dmFsdWU6Y2hpbGRSZXN1bHQuZG9uZSA/IHZvaWQgMCA6IHRoaXMubWFwRm5fLmNhbGwodm9pZCAwLCBjaGlsZFJlc3VsdC52YWx1ZSwgdGhpcy5uZXh0SW5kZXhfKyspLCBkb25lOmNoaWxkUmVzdWx0LmRvbmUsfTtcbn07XG5nb29nLmNvbGxlY3Rpb25zLml0ZXJzLm1hcCA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfTWFwSXRlcmF0b3IoaXRlcmFibGUsIGYpO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19GaWx0ZXJJdGVyYXRvciA9IGZ1bmN0aW9uKGNoaWxkSXRlciwgZmlsdGVyRm4pIHtcbiAgdGhpcy5jaGlsZEl0ZXJfID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfZ2V0SXRlcmF0b3IoY2hpbGRJdGVyKTtcbiAgdGhpcy5maWx0ZXJGbl8gPSBmaWx0ZXJGbjtcbiAgdGhpcy5uZXh0SW5kZXhfID0gMDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19GaWx0ZXJJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19GaWx0ZXJJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKDs7KSB7XG4gICAgdmFyIGNoaWxkUmVzdWx0ID0gdGhpcy5jaGlsZEl0ZXJfLm5leHQoKTtcbiAgICBpZiAoY2hpbGRSZXN1bHQuZG9uZSkge1xuICAgICAgcmV0dXJuIHtkb25lOiEwLCB2YWx1ZTp2b2lkIDB9O1xuICAgIH1cbiAgICBpZiAodGhpcy5maWx0ZXJGbl8uY2FsbCh2b2lkIDAsIGNoaWxkUmVzdWx0LnZhbHVlLCB0aGlzLm5leHRJbmRleF8rKykpIHtcbiAgICAgIHJldHVybiBjaGlsZFJlc3VsdDtcbiAgICB9XG4gIH1cbn07XG5nb29nLmNvbGxlY3Rpb25zLml0ZXJzLmZpbHRlciA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfRmlsdGVySXRlcmF0b3IoaXRlcmFibGUsIGYpO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19Db25jYXRJdGVyYXRvciA9IGZ1bmN0aW9uKGl0ZXJhdG9ycykge1xuICB0aGlzLml0ZXJhdG9yc18gPSBpdGVyYXRvcnM7XG4gIHRoaXMuaXRlckluZGV4XyA9IDA7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfQ29uY2F0SXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfQ29uY2F0SXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgZm9yICg7IHRoaXMuaXRlckluZGV4XyA8IHRoaXMuaXRlcmF0b3JzXy5sZW5ndGg7KSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMuaXRlcmF0b3JzX1t0aGlzLml0ZXJJbmRleF9dLm5leHQoKTtcbiAgICBpZiAoIXJlc3VsdC5kb25lKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB0aGlzLml0ZXJJbmRleF8rKztcbiAgfVxuICByZXR1cm4ge2RvbmU6ITB9O1xufTtcbmdvb2cuY29sbGVjdGlvbnMuaXRlcnMuY29uY2F0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfQ29uY2F0SXRlcmF0b3IoJGpzY29tcC5nZXRSZXN0QXJndW1lbnRzLmFwcGx5KDAsIGFyZ3VtZW50cykubWFwKG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX2dldEl0ZXJhdG9yKSk7XG59O1xuZ29vZy5mdW5jdGlvbnMgPSB7fTtcbmdvb2cuZnVuY3Rpb25zLmNvbnN0YW50ID0gZnVuY3Rpb24ocmV0VmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiByZXRWYWx1ZTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5GQUxTRSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gITE7XG59O1xuZ29vZy5mdW5jdGlvbnMuVFJVRSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gITA7XG59O1xuZ29vZy5mdW5jdGlvbnMuTlVMTCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLmZ1bmN0aW9ucy5VTkRFRklORUQgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmZ1bmN0aW9ucy5FTVBUWSA9IGdvb2cuZnVuY3Rpb25zLlVOREVGSU5FRDtcbmdvb2cuZnVuY3Rpb25zLmlkZW50aXR5ID0gZnVuY3Rpb24ob3B0X3JldHVyblZhbHVlLCB2YXJfYXJncykge1xuICByZXR1cm4gb3B0X3JldHVyblZhbHVlO1xufTtcbmdvb2cuZnVuY3Rpb25zLmVycm9yID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgRXJyb3IobWVzc2FnZSk7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMuZmFpbCA9IGZ1bmN0aW9uKGVycikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgZXJyO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLmxvY2sgPSBmdW5jdGlvbihmLCBvcHRfbnVtQXJncykge1xuICBvcHRfbnVtQXJncyA9IG9wdF9udW1BcmdzIHx8IDA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDAsIG9wdF9udW1BcmdzKSk7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMubnRoID0gZnVuY3Rpb24obikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50c1tuXTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5wYXJ0aWFsUmlnaHQgPSBmdW5jdGlvbihmbiwgdmFyX2FyZ3MpIHtcbiAgdmFyIHJpZ2h0QXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZiA9PT0gZ29vZy5nbG9iYWwgJiYgKHNlbGYgPSB2b2lkIDApO1xuICAgIHZhciBuZXdBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICBuZXdBcmdzLnB1c2guYXBwbHkobmV3QXJncywgcmlnaHRBcmdzKTtcbiAgICByZXR1cm4gZm4uYXBwbHkoc2VsZiwgbmV3QXJncyk7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMud2l0aFJldHVyblZhbHVlID0gZnVuY3Rpb24oZiwgcmV0VmFsdWUpIHtcbiAgcmV0dXJuIGdvb2cuZnVuY3Rpb25zLnNlcXVlbmNlKGYsIGdvb2cuZnVuY3Rpb25zLmNvbnN0YW50KHJldFZhbHVlKSk7XG59O1xuZ29vZy5mdW5jdGlvbnMuZXF1YWxUbyA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRfdXNlTG9vc2VDb21wYXJpc29uKSB7XG4gIHJldHVybiBmdW5jdGlvbihvdGhlcikge1xuICAgIHJldHVybiBvcHRfdXNlTG9vc2VDb21wYXJpc29uID8gdmFsdWUgPT0gb3RoZXIgOiB2YWx1ZSA9PT0gb3RoZXI7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMuY29tcG9zZSA9IGZ1bmN0aW9uKGZuLCB2YXJfYXJncykge1xuICB2YXIgZnVuY3Rpb25zID0gYXJndW1lbnRzLCBsZW5ndGggPSBmdW5jdGlvbnMubGVuZ3RoO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBsZW5ndGggJiYgKHJlc3VsdCA9IGZ1bmN0aW9uc1tsZW5ndGggLSAxXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICBmb3IgKHZhciBpID0gbGVuZ3RoIC0gMjsgMCA8PSBpOyBpLS0pIHtcbiAgICAgIHJlc3VsdCA9IGZ1bmN0aW9uc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMuc2VxdWVuY2UgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgZnVuY3Rpb25zID0gYXJndW1lbnRzLCBsZW5ndGggPSBmdW5jdGlvbnMubGVuZ3RoO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgcmVzdWx0LCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHQgPSBmdW5jdGlvbnNbaV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5hbmQgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgZnVuY3Rpb25zID0gYXJndW1lbnRzLCBsZW5ndGggPSBmdW5jdGlvbnMubGVuZ3RoO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFmdW5jdGlvbnNbaV0uYXBwbHkodGhpcywgYXJndW1lbnRzKSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhMDtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5vciA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBmdW5jdGlvbnMgPSBhcmd1bWVudHMsIGxlbmd0aCA9IGZ1bmN0aW9ucy5sZW5ndGg7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZnVuY3Rpb25zW2ldLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMubm90ID0gZnVuY3Rpb24oZikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICFmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMuY3JlYXRlID0gZnVuY3Rpb24oY29uc3RydWN0b3IsIHZhcl9hcmdzKSB7XG4gIHZhciB0ZW1wID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIHRlbXAucHJvdG90eXBlID0gY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB2YXIgb2JqID0gbmV3IHRlbXAoKTtcbiAgY29uc3RydWN0b3IuYXBwbHkob2JqLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgcmV0dXJuIG9iajtcbn07XG5nb29nLmZ1bmN0aW9ucy5DQUNIRV9SRVRVUk5fVkFMVUUgPSAhMDtcbmdvb2cuZnVuY3Rpb25zLmNhY2hlUmV0dXJuVmFsdWUgPSBmdW5jdGlvbihmbikge1xuICB2YXIgY2FsbGVkID0gITEsIHZhbHVlO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFnb29nLmZ1bmN0aW9ucy5DQUNIRV9SRVRVUk5fVkFMVUUpIHtcbiAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICBjYWxsZWQgfHwgKHZhbHVlID0gZm4oKSwgY2FsbGVkID0gITApO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5vbmNlID0gZnVuY3Rpb24oZikge1xuICB2YXIgaW5uZXIgPSBmO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGlubmVyKSB7XG4gICAgICB2YXIgdG1wID0gaW5uZXI7XG4gICAgICBpbm5lciA9IG51bGw7XG4gICAgICB0bXAoKTtcbiAgICB9XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMuZGVib3VuY2UgPSBmdW5jdGlvbihmLCBpbnRlcnZhbCwgb3B0X3Njb3BlKSB7XG4gIHZhciB0aW1lb3V0ID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gICAgZ29vZy5nbG9iYWwuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHRpbWVvdXQgPSBnb29nLmdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgZi5hcHBseShvcHRfc2NvcGUsIGFyZ3MpO1xuICAgIH0sIGludGVydmFsKTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy50aHJvdHRsZSA9IGZ1bmN0aW9uKGYsIGludGVydmFsLCBvcHRfc2NvcGUpIHtcbiAgdmFyIHRpbWVvdXQgPSAwLCBzaG91bGRGaXJlID0gITEsIHN0b3JlZEFyZ3MgPSBbXSwgaGFuZGxlVGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgIHRpbWVvdXQgPSAwO1xuICAgIHNob3VsZEZpcmUgJiYgKHNob3VsZEZpcmUgPSAhMSwgZmlyZSgpKTtcbiAgfSwgZmlyZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRpbWVvdXQgPSBnb29nLmdsb2JhbC5zZXRUaW1lb3V0KGhhbmRsZVRpbWVvdXQsIGludGVydmFsKTtcbiAgICB2YXIgYXJncyA9IHN0b3JlZEFyZ3M7XG4gICAgc3RvcmVkQXJncyA9IFtdO1xuICAgIGYuYXBwbHkob3B0X3Njb3BlLCBhcmdzKTtcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gICAgc3RvcmVkQXJncyA9IGFyZ3VtZW50cztcbiAgICB0aW1lb3V0ID8gc2hvdWxkRmlyZSA9ICEwIDogZmlyZSgpO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLnJhdGVMaW1pdCA9IGZ1bmN0aW9uKGYsIGludGVydmFsLCBvcHRfc2NvcGUpIHtcbiAgdmFyIHRpbWVvdXQgPSAwLCBoYW5kbGVUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGltZW91dCA9IDA7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbih2YXJfYXJncykge1xuICAgIHRpbWVvdXQgfHwgKHRpbWVvdXQgPSBnb29nLmdsb2JhbC5zZXRUaW1lb3V0KGhhbmRsZVRpbWVvdXQsIGludGVydmFsKSwgZi5hcHBseShvcHRfc2NvcGUsIGFyZ3VtZW50cykpO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLmlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbDtcbn07XG5nb29nLm1hdGggPSB7fTtcbmdvb2cubWF0aC5yYW5kb21JbnQgPSBmdW5jdGlvbihhKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhKTtcbn07XG5nb29nLm1hdGgudW5pZm9ybVJhbmRvbSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgKyBNYXRoLnJhbmRvbSgpICogKGIgLSBhKTtcbn07XG5nb29nLm1hdGguY2xhbXAgPSBmdW5jdGlvbih2YWx1ZSwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xufTtcbmdvb2cubWF0aC5tb2R1bG8gPSBmdW5jdGlvbihhLCBiKSB7XG4gIHZhciByID0gYSAlIGI7XG4gIHJldHVybiAwID4gciAqIGIgPyByICsgYiA6IHI7XG59O1xuZ29vZy5tYXRoLmxlcnAgPSBmdW5jdGlvbihhLCBiLCB4KSB7XG4gIHJldHVybiBhICsgeCAqIChiIC0gYSk7XG59O1xuZ29vZy5tYXRoLm5lYXJseUVxdWFscyA9IGZ1bmN0aW9uKGEsIGIsIG9wdF90b2xlcmFuY2UpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSAob3B0X3RvbGVyYW5jZSB8fCAwLjAwMDAwMSk7XG59O1xuZ29vZy5tYXRoLnN0YW5kYXJkQW5nbGUgPSBmdW5jdGlvbihhbmdsZSkge1xuICByZXR1cm4gZ29vZy5tYXRoLm1vZHVsbyhhbmdsZSwgMzYwKTtcbn07XG5nb29nLm1hdGguc3RhbmRhcmRBbmdsZUluUmFkaWFucyA9IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gIHJldHVybiBnb29nLm1hdGgubW9kdWxvKGFuZ2xlLCAyICogTWF0aC5QSSk7XG59O1xuZ29vZy5tYXRoLnRvUmFkaWFucyA9IGZ1bmN0aW9uKGFuZ2xlRGVncmVlcykge1xuICByZXR1cm4gYW5nbGVEZWdyZWVzICogTWF0aC5QSSAvIDE4MDtcbn07XG5nb29nLm1hdGgudG9EZWdyZWVzID0gZnVuY3Rpb24oYW5nbGVSYWRpYW5zKSB7XG4gIHJldHVybiAxODAgKiBhbmdsZVJhZGlhbnMgLyBNYXRoLlBJO1xufTtcbmdvb2cubWF0aC5hbmdsZUR4ID0gZnVuY3Rpb24oZGVncmVlcywgcmFkaXVzKSB7XG4gIHJldHVybiByYWRpdXMgKiBNYXRoLmNvcyhnb29nLm1hdGgudG9SYWRpYW5zKGRlZ3JlZXMpKTtcbn07XG5nb29nLm1hdGguYW5nbGVEeSA9IGZ1bmN0aW9uKGRlZ3JlZXMsIHJhZGl1cykge1xuICByZXR1cm4gcmFkaXVzICogTWF0aC5zaW4oZ29vZy5tYXRoLnRvUmFkaWFucyhkZWdyZWVzKSk7XG59O1xuZ29vZy5tYXRoLmFuZ2xlID0gZnVuY3Rpb24oeDEsIHkxLCB4MiwgeTIpIHtcbiAgcmV0dXJuIGdvb2cubWF0aC5zdGFuZGFyZEFuZ2xlKGdvb2cubWF0aC50b0RlZ3JlZXMoTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKSkpO1xufTtcbmdvb2cubWF0aC5hbmdsZURpZmZlcmVuY2UgPSBmdW5jdGlvbihzdGFydEFuZ2xlLCBlbmRBbmdsZSkge1xuICB2YXIgZCA9IGdvb2cubWF0aC5zdGFuZGFyZEFuZ2xlKGVuZEFuZ2xlKSAtIGdvb2cubWF0aC5zdGFuZGFyZEFuZ2xlKHN0YXJ0QW5nbGUpO1xuICAxODAgPCBkID8gZCAtPSAzNjAgOiAtMTgwID49IGQgJiYgKGQgPSAzNjAgKyBkKTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5tYXRoLnNpZ24gPSBmdW5jdGlvbih4KSB7XG4gIHJldHVybiAwIDwgeCA/IDEgOiAwID4geCA/IC0xIDogeDtcbn07XG5nb29nLm1hdGgubG9uZ2VzdENvbW1vblN1YnNlcXVlbmNlID0gZnVuY3Rpb24oYXJyYXkxLCBhcnJheTIsIG9wdF9jb21wYXJlRm4sIG9wdF9jb2xsZWN0b3JGbikge1xuICBmb3IgKHZhciBjb21wYXJlID0gb3B0X2NvbXBhcmVGbiB8fCBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT0gYjtcbiAgfSwgY29sbGVjdCA9IG9wdF9jb2xsZWN0b3JGbiB8fCBmdW5jdGlvbihpMSwgaTIpIHtcbiAgICByZXR1cm4gYXJyYXkxW2kxXTtcbiAgfSwgbGVuZ3RoMSA9IGFycmF5MS5sZW5ndGgsIGxlbmd0aDIgPSBhcnJheTIubGVuZ3RoLCBhcnIgPSBbXSwgaSA9IDA7IGkgPCBsZW5ndGgxICsgMTsgaSsrKSB7XG4gICAgYXJyW2ldID0gW10sIGFycltpXVswXSA9IDA7XG4gIH1cbiAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW5ndGgyICsgMTsgaisrKSB7XG4gICAgYXJyWzBdW2pdID0gMDtcbiAgfVxuICBmb3IgKGkgPSAxOyBpIDw9IGxlbmd0aDE7IGkrKykge1xuICAgIGZvciAoaiA9IDE7IGogPD0gbGVuZ3RoMjsgaisrKSB7XG4gICAgICBjb21wYXJlKGFycmF5MVtpIC0gMV0sIGFycmF5MltqIC0gMV0pID8gYXJyW2ldW2pdID0gYXJyW2kgLSAxXVtqIC0gMV0gKyAxIDogYXJyW2ldW2pdID0gTWF0aC5tYXgoYXJyW2kgLSAxXVtqXSwgYXJyW2ldW2ogLSAxXSk7XG4gICAgfVxuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaSA9IGxlbmd0aDE7XG4gIGZvciAoaiA9IGxlbmd0aDI7IDAgPCBpICYmIDAgPCBqOykge1xuICAgIGNvbXBhcmUoYXJyYXkxW2kgLSAxXSwgYXJyYXkyW2ogLSAxXSkgPyAocmVzdWx0LnVuc2hpZnQoY29sbGVjdChpIC0gMSwgaiAtIDEpKSwgaS0tLCBqLS0pIDogYXJyW2kgLSAxXVtqXSA+IGFycltpXVtqIC0gMV0gPyBpLS0gOiBqLS07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLm1hdGguc3VtID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChhcmd1bWVudHMsIGZ1bmN0aW9uKHN1bSwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3VtICsgdmFsdWU7XG4gIH0sIDApO1xufTtcbmdvb2cubWF0aC5hdmVyYWdlID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgcmV0dXJuIGdvb2cubWF0aC5zdW0uYXBwbHkobnVsbCwgYXJndW1lbnRzKSAvIGFyZ3VtZW50cy5sZW5ndGg7XG59O1xuZ29vZy5tYXRoLnNhbXBsZVZhcmlhbmNlID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIHNhbXBsZVNpemUgPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAoMiA+IHNhbXBsZVNpemUpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICB2YXIgbWVhbiA9IGdvb2cubWF0aC5hdmVyYWdlLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBnb29nLm1hdGguc3VtLmFwcGx5KG51bGwsIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhcmd1bWVudHMsIGZ1bmN0aW9uKHZhbCkge1xuICAgIHJldHVybiBNYXRoLnBvdyh2YWwgLSBtZWFuLCAyKTtcbiAgfSkpIC8gKHNhbXBsZVNpemUgLSAxKTtcbn07XG5nb29nLm1hdGguc3RhbmRhcmREZXZpYXRpb24gPSBmdW5jdGlvbih2YXJfYXJncykge1xuICByZXR1cm4gTWF0aC5zcXJ0KGdvb2cubWF0aC5zYW1wbGVWYXJpYW5jZS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbn07XG5nb29nLm1hdGguaXNJbnQgPSBmdW5jdGlvbihudW0pIHtcbiAgcmV0dXJuIGlzRmluaXRlKG51bSkgJiYgMCA9PSBudW0gJSAxO1xufTtcbmdvb2cubWF0aC5pc0Zpbml0ZU51bWJlciA9IGZ1bmN0aW9uKG51bSkge1xuICByZXR1cm4gaXNGaW5pdGUobnVtKTtcbn07XG5nb29nLm1hdGguaXNOZWdhdGl2ZVplcm8gPSBmdW5jdGlvbihudW0pIHtcbiAgcmV0dXJuIDAgPT0gbnVtICYmIDAgPiAxIC8gbnVtO1xufTtcbmdvb2cubWF0aC5sb2cxMEZsb29yID0gZnVuY3Rpb24obnVtKSB7XG4gIGlmICgwIDwgbnVtKSB7XG4gICAgdmFyIHggPSBNYXRoLnJvdW5kKE1hdGgubG9nKG51bSkgKiBNYXRoLkxPRzEwRSk7XG4gICAgcmV0dXJuIHggLSAocGFyc2VGbG9hdChcIjFlXCIgKyB4KSA+IG51bSA/IDEgOiAwKTtcbiAgfVxuICByZXR1cm4gMCA9PSBudW0gPyAtSW5maW5pdHkgOiBOYU47XG59O1xuZ29vZy5tYXRoLnNhZmVGbG9vciA9IGZ1bmN0aW9uKG51bSwgb3B0X2Vwc2lsb24pIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCh2b2lkIDAgPT09IG9wdF9lcHNpbG9uIHx8IDAgPCBvcHRfZXBzaWxvbik7XG4gIHJldHVybiBNYXRoLmZsb29yKG51bSArIChvcHRfZXBzaWxvbiB8fCAyZS0xNSkpO1xufTtcbmdvb2cubWF0aC5zYWZlQ2VpbCA9IGZ1bmN0aW9uKG51bSwgb3B0X2Vwc2lsb24pIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCh2b2lkIDAgPT09IG9wdF9lcHNpbG9uIHx8IDAgPCBvcHRfZXBzaWxvbik7XG4gIHJldHVybiBNYXRoLmNlaWwobnVtIC0gKG9wdF9lcHNpbG9uIHx8IDJlLTE1KSk7XG59O1xuZ29vZy5pdGVyID0ge307XG5nb29nLml0ZXIuSXRlcmFibGUgPSB7fTtcbmdvb2cuaXRlci5TdG9wSXRlcmF0aW9uID0gXCJTdG9wSXRlcmF0aW9uXCIgaW4gZ29vZy5nbG9iYWwgPyBnb29nLmdsb2JhbC5TdG9wSXRlcmF0aW9uIDoge21lc3NhZ2U6XCJTdG9wSXRlcmF0aW9uXCIsIHN0YWNrOlwiXCJ9O1xuZ29vZy5pdGVyLkl0ZXJhdG9yID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5pdGVyLkl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gIHRocm93IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uO1xufTtcbmdvb2cuaXRlci5JdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xufTtcbmdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORSA9IGdvb2cuZGVidWcuZnJlZXplKHtkb25lOiEwLCB2YWx1ZTp2b2lkIDB9KTtcbmdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHt2YWx1ZTp2YWx1ZSwgZG9uZTohMX07XG59O1xuZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0ID0gZnVuY3Rpb24oZXM2TmV4dFZhbHVlKSB7XG4gIGlmIChlczZOZXh0VmFsdWUuZG9uZSkge1xuICAgIHRocm93IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uO1xuICB9XG4gIHJldHVybiBlczZOZXh0VmFsdWUudmFsdWU7XG59O1xuZ29vZy5pdGVyLmNoZWNrTm9JbXBsaWNpdFN0b3BJdGVyYXRpb25JbkVzNiA9IGZ1bmN0aW9uKGV4KSB7XG4gIGlmIChleCA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICB0aHJvdyBFcnJvcihcIkVTNiBJdGVyYXRpb24gcHJvdG9jb2wgZG9lcyBOT1QgYWRqdXN0IGNvbnRyb2wgZmxvdyB3aGVuIFN0b3BJdGVyYXRpb24gaXMgdGhyb3duIGZyb20gY2FsbGJhY2sgaGVscGVyIGZ1bmN0aW9ucy4gSWYgeW91ciBjb2RlIHJlbGllcyBvbiB0aGlzIGJlaGF2aW9yLCBjb25zaWRlciB0aHJvd2luZyBhIGRpZmZlcmVudCBlcnJvciBhbmQgY2F0Y2hpbmcgaXQgdG8gdGVybWluYXRlIGl0ZXJhdGlvbi5cIik7XG4gIH1cbiAgdGhyb3cgZXg7XG59O1xuZ29vZy5pdGVyLkl0ZXJhdG9yLnByb3RvdHlwZS5fX2l0ZXJhdG9yX18gPSBmdW5jdGlvbihvcHRfa2V5cykge1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLml0ZXIudG9JdGVyYXRvciA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7XG4gIGlmIChpdGVyYWJsZSBpbnN0YW5jZW9mIGdvb2cuaXRlci5JdGVyYXRvcikge1xuICAgIHJldHVybiBpdGVyYWJsZTtcbiAgfVxuICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBpdGVyYWJsZS5fX2l0ZXJhdG9yX18pIHtcbiAgICByZXR1cm4gaXRlcmFibGUuX19pdGVyYXRvcl9fKCExKTtcbiAgfVxuICBpZiAoZ29vZy5pc0FycmF5TGlrZShpdGVyYWJsZSkpIHtcbiAgICB2YXIgaSA9IDAsIG5ld0l0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gICAgbmV3SXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmIChpID49IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgaW4gaXRlcmFibGUpIHtcbiAgICAgICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQoaXRlcmFibGVbaSsrXSk7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGl0ZXJOZXh0ID0gbmV3SXRlci5uZXh0O1xuICAgIG5ld0l0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKG5ld0l0ZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBuZXdJdGVyO1xuICB9XG4gIHRocm93IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xufTtcbmdvb2cuaXRlci5mb3JFYWNoID0gZnVuY3Rpb24oaXRlcmFibGUsIGYsIG9wdF9vYmopIHtcbiAgaWYgKGdvb2cuaXNBcnJheUxpa2UoaXRlcmFibGUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2goaXRlcmFibGUsIGYsIG9wdF9vYmopO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBnb29nLml0ZXIuY2hlY2tOb0ltcGxpY2l0U3RvcEl0ZXJhdGlvbkluRXM2KGV4KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChpdGVyYWJsZSA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKTs7KSB7XG4gICAgICB2YXIgdmFsID0gdm9pZCAwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsID0gaXRlcmFibGUubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgICAgfSBjYXRjaCAoZXgkMzkpIHtcbiAgICAgICAgaWYgKGV4JDM5ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGV4JDM5O1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgZi5jYWxsKG9wdF9vYmosIHZhbCwgdm9pZCAwLCBpdGVyYWJsZSk7XG4gICAgICB9IGNhdGNoIChleCQ0MCkge1xuICAgICAgICBnb29nLml0ZXIuY2hlY2tOb0ltcGxpY2l0U3RvcEl0ZXJhdGlvbkluRXM2KGV4JDQwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLml0ZXIuZmlsdGVyID0gZnVuY3Rpb24oaXRlcmFibGUsIGYsIG9wdF9vYmopIHtcbiAgdmFyIGl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpLCBuZXdJdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICBuZXdJdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgdmFsID0gdm9pZCAwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsID0gaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXg7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZi5jYWxsKG9wdF9vYmosIHZhbCwgdm9pZCAwLCBpdGVyYXRvcikpIHtcbiAgICAgICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQodmFsKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXgkNDEpIHtcbiAgICAgICAgZ29vZy5pdGVyLmNoZWNrTm9JbXBsaWNpdFN0b3BJdGVyYXRpb25JbkVzNihleCQ0MSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgaXRlck5leHQgPSBuZXdJdGVyLm5leHQ7XG4gIG5ld0l0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChuZXdJdGVyKSk7XG4gIH07XG4gIHJldHVybiBuZXdJdGVyO1xufTtcbmdvb2cuaXRlci5maWx0ZXJGYWxzZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIHJldHVybiBnb29nLml0ZXIuZmlsdGVyKGl0ZXJhYmxlLCBnb29nLmZ1bmN0aW9ucy5ub3QoZiksIG9wdF9vYmopO1xufTtcbmdvb2cuaXRlci5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0T3JTdG9wLCBvcHRfc3RvcCwgb3B0X3N0ZXApIHtcbiAgdmFyIHN0YXJ0ID0gMCwgc3RvcCA9IHN0YXJ0T3JTdG9wLCBzdGVwID0gb3B0X3N0ZXAgfHwgMTtcbiAgMSA8IGFyZ3VtZW50cy5sZW5ndGggJiYgKHN0YXJ0ID0gc3RhcnRPclN0b3AsIHN0b3AgPSArb3B0X3N0b3ApO1xuICBpZiAoMCA9PSBzdGVwKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJSYW5nZSBzdGVwIGFyZ3VtZW50IG11c3Qgbm90IGJlIHplcm9cIik7XG4gIH1cbiAgdmFyIG5ld0l0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIG5ld0l0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgwIDwgc3RlcCAmJiBzdGFydCA+PSBzdG9wIHx8IDAgPiBzdGVwICYmIHN0YXJ0IDw9IHN0b3ApIHtcbiAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgfVxuICAgIHZhciBydiA9IHN0YXJ0O1xuICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHJ2KTtcbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gbmV3SXRlci5uZXh0O1xuICBuZXdJdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwobmV3SXRlcikpO1xuICB9O1xuICByZXR1cm4gbmV3SXRlcjtcbn07XG5nb29nLml0ZXIuam9pbiA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBkZWxpbWluYXRvcikge1xuICByZXR1cm4gZ29vZy5pdGVyLnRvQXJyYXkoaXRlcmFibGUpLmpvaW4oZGVsaW1pbmF0b3IpO1xufTtcbmdvb2cuaXRlci5tYXAgPSBmdW5jdGlvbihpdGVyYWJsZSwgZiwgb3B0X29iaikge1xuICB2YXIgaXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSksIG5ld0l0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIG5ld0l0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgdmFsID0gaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICB9XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHZhciBtYXBwZWRWYWwgPSBmLmNhbGwob3B0X29iaiwgdmFsLCB2b2lkIDAsIGl0ZXJhdG9yKTtcbiAgICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChtYXBwZWRWYWwpO1xuICAgIH0gY2F0Y2ggKGV4JDQyKSB7XG4gICAgICBnb29nLml0ZXIuY2hlY2tOb0ltcGxpY2l0U3RvcEl0ZXJhdGlvbkluRXM2KGV4JDQyKTtcbiAgICB9XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IG5ld0l0ZXIubmV4dDtcbiAgbmV3SXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKG5ld0l0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIG5ld0l0ZXI7XG59O1xuZ29vZy5pdGVyLnJlZHVjZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCB2YWwkanNjb21wJDAsIG9wdF9vYmopIHtcbiAgdmFyIHJ2YWwgPSB2YWwkanNjb21wJDA7XG4gIGdvb2cuaXRlci5mb3JFYWNoKGl0ZXJhYmxlLCBmdW5jdGlvbih2YWwpIHtcbiAgICBydmFsID0gZi5jYWxsKG9wdF9vYmosIHJ2YWwsIHZhbCk7XG4gIH0pO1xuICByZXR1cm4gcnZhbDtcbn07XG5nb29nLml0ZXIuc29tZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAoaXRlcmFibGUgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSk7Oykge1xuICAgIHZhciB2YWwgPSB2b2lkIDA7XG4gICAgdHJ5IHtcbiAgICAgIHZhbCA9IGl0ZXJhYmxlLm5leHRWYWx1ZU9yVGhyb3coKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlmIChmLmNhbGwob3B0X29iaiwgdmFsLCB2b2lkIDAsIGl0ZXJhYmxlKSkge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXgkNDMpIHtcbiAgICAgIGdvb2cuaXRlci5jaGVja05vSW1wbGljaXRTdG9wSXRlcmF0aW9uSW5FczYoZXgkNDMpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuaXRlci5ldmVyeSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAoaXRlcmFibGUgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSk7Oykge1xuICAgIHZhciB2YWwgPSB2b2lkIDA7XG4gICAgdHJ5IHtcbiAgICAgIHZhbCA9IGl0ZXJhYmxlLm5leHRWYWx1ZU9yVGhyb3coKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlmICghZi5jYWxsKG9wdF9vYmosIHZhbCwgdm9pZCAwLCBpdGVyYWJsZSkpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4JDQ0KSB7XG4gICAgICBnb29nLml0ZXIuY2hlY2tOb0ltcGxpY2l0U3RvcEl0ZXJhdGlvbkluRXM2KGV4JDQ0KTtcbiAgICB9XG4gIH1cbn07XG5nb29nLml0ZXIuY2hhaW4gPSBmdW5jdGlvbih2YXJfYXJncykge1xuICByZXR1cm4gZ29vZy5pdGVyLmNoYWluRnJvbUl0ZXJhYmxlKGFyZ3VtZW50cyk7XG59O1xuZ29vZy5pdGVyLmNoYWluRnJvbUl0ZXJhYmxlID0gZnVuY3Rpb24oaXRlcmFibGUpIHtcbiAgdmFyIGl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpLCBjdXJyZW50ID0gbnVsbDtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgaWYgKG51bGwgPT0gY3VycmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBpdCA9IGl0ZXJhdG9yLm5leHRWYWx1ZU9yVGhyb3coKTtcbiAgICAgICAgICBjdXJyZW50ID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXQpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIGlmIChleCA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdmFsdWUgPSBjdXJyZW50Lm5leHRWYWx1ZU9yVGhyb3coKTtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGV4JDQ1KSB7XG4gICAgICAgIGlmIChleCQ0NSAhPT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgICB0aHJvdyBleCQ0NTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLmRyb3BXaGlsZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgbmV3SXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKSwgZHJvcHBpbmcgPSAhMDtcbiAgbmV3SXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIHZhbCA9IHZvaWQgMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbCA9IGl0ZXJhdG9yLm5leHRWYWx1ZU9yVGhyb3coKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGlmIChleCA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGV4O1xuICAgICAgfVxuICAgICAgaWYgKCFkcm9wcGluZyB8fCAhZi5jYWxsKG9wdF9vYmosIHZhbCwgdm9pZCAwLCBpdGVyYXRvcikpIHtcbiAgICAgICAgcmV0dXJuIGRyb3BwaW5nID0gITEsIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgaXRlck5leHQgPSBuZXdJdGVyLm5leHQ7XG4gIG5ld0l0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChuZXdJdGVyKSk7XG4gIH07XG4gIHJldHVybiBuZXdJdGVyO1xufTtcbmdvb2cuaXRlci50YWtlV2hpbGUgPSBmdW5jdGlvbihpdGVyYWJsZSwgZiwgb3B0X29iaikge1xuICB2YXIgaXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSksIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgdmFsID0gaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICB9XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmLmNhbGwob3B0X29iaiwgdmFsLCB2b2lkIDAsIGl0ZXJhdG9yKSA/IGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHZhbCkgOiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgfSBjYXRjaCAoZXgkNDYpIHtcbiAgICAgIGdvb2cuaXRlci5jaGVja05vSW1wbGljaXRTdG9wSXRlcmF0aW9uSW5FczYoZXgkNDYpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gaXRlci5uZXh0O1xuICBpdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwoaXRlcikpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIudG9BcnJheSA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7XG4gIGlmIChnb29nLmlzQXJyYXlMaWtlKGl0ZXJhYmxlKSkge1xuICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV90b0FycmF5KGl0ZXJhYmxlKTtcbiAgfVxuICBpdGVyYWJsZSA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKTtcbiAgdmFyIGFycmF5ID0gW107XG4gIGdvb2cuaXRlci5mb3JFYWNoKGl0ZXJhYmxlLCBmdW5jdGlvbih2YWwpIHtcbiAgICBhcnJheS5wdXNoKHZhbCk7XG4gIH0pO1xuICByZXR1cm4gYXJyYXk7XG59O1xuZ29vZy5pdGVyLmVxdWFscyA9IGZ1bmN0aW9uKGl0ZXJhYmxlMSwgaXRlcmFibGUyLCBvcHRfZXF1YWxzRm4pIHtcbiAgdmFyIHBhaXJzID0gZ29vZy5pdGVyLnppcExvbmdlc3Qoe30sIGl0ZXJhYmxlMSwgaXRlcmFibGUyKSwgZXF1YWxzRm4gPSBvcHRfZXF1YWxzRm4gfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmVFcXVhbGl0eTtcbiAgcmV0dXJuIGdvb2cuaXRlci5ldmVyeShwYWlycywgZnVuY3Rpb24ocGFpcikge1xuICAgIHJldHVybiBlcXVhbHNGbihwYWlyWzBdLCBwYWlyWzFdKTtcbiAgfSk7XG59O1xuZ29vZy5pdGVyLm5leHRPclZhbHVlID0gZnVuY3Rpb24oaXRlcmFibGUsIGRlZmF1bHRWYWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSkubmV4dFZhbHVlT3JUaHJvdygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgIT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cbn07XG5nb29nLml0ZXIucHJvZHVjdCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIGlmIChBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGFyZ3VtZW50cywgZnVuY3Rpb24oYXJyKSB7XG4gICAgcmV0dXJuICFhcnIubGVuZ3RoO1xuICB9KSB8fCAhYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIH1cbiAgdmFyIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCksIGFycmF5cyA9IGFyZ3VtZW50cywgaW5kaWNlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlcGVhdCgwLCBhcnJheXMubGVuZ3RoKTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGluZGljZXMpIHtcbiAgICAgIGZvciAodmFyIHJldFZhbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChpbmRpY2VzLCBmdW5jdGlvbih2YWx1ZUluZGV4LCBhcnJheUluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnJheXNbYXJyYXlJbmRleF1bdmFsdWVJbmRleF07XG4gICAgICB9KSwgaSA9IGluZGljZXMubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pIHtcbiAgICAgICAgZ29vZy5hc3NlcnRzLmFzc2VydChpbmRpY2VzKTtcbiAgICAgICAgaWYgKGluZGljZXNbaV0gPCBhcnJheXNbaV0ubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGluZGljZXNbaV0rKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoMCA9PSBpKSB7XG4gICAgICAgICAgaW5kaWNlcyA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaW5kaWNlc1tpXSA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQocmV0VmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gaXRlci5uZXh0O1xuICBpdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwoaXRlcikpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuY3ljbGUgPSBmdW5jdGlvbihpdGVyYWJsZSkge1xuICB2YXIgYmFzZUl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpLCBjYWNoZSA9IFtdLCBjYWNoZUluZGV4ID0gMCwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKSwgdXNlQ2FjaGUgPSAhMTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJldHVybkVsZW1lbnQgPSBudWxsO1xuICAgIGlmICghdXNlQ2FjaGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiByZXR1cm5FbGVtZW50ID0gYmFzZUl0ZXJhdG9yLm5leHRWYWx1ZU9yVGhyb3coKSwgY2FjaGUucHVzaChyZXR1cm5FbGVtZW50KSwgZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQocmV0dXJuRWxlbWVudCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlICE9IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZSA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24gJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNFbXB0eShjYWNoZSkpIHtcbiAgICAgICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgICB9XG4gICAgICAgIHVzZUNhY2hlID0gITA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybkVsZW1lbnQgPSBjYWNoZVtjYWNoZUluZGV4XTtcbiAgICBjYWNoZUluZGV4ID0gKGNhY2hlSW5kZXggKyAxKSAlIGNhY2hlLmxlbmd0aDtcbiAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQocmV0dXJuRWxlbWVudCk7XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLmNvdW50ID0gZnVuY3Rpb24ob3B0X3N0YXJ0LCBvcHRfc3RlcCkge1xuICB2YXIgY291bnRlciA9IG9wdF9zdGFydCB8fCAwLCBzdGVwID0gdm9pZCAwICE9PSBvcHRfc3RlcCA/IG9wdF9zdGVwIDogMSwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJldHVyblZhbHVlID0gY291bnRlcjtcbiAgICBjb3VudGVyICs9IHN0ZXA7XG4gICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHJldHVyblZhbHVlKTtcbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gaXRlci5uZXh0O1xuICBpdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwoaXRlcikpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIucmVwZWF0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZCh2YWx1ZSk7XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLmFjY3VtdWxhdGUgPSBmdW5jdGlvbihpdGVyYWJsZSkge1xuICB2YXIgaXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSksIHRvdGFsID0gMCwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRvdGFsICs9IGl0ZXJhdG9yLm5leHRWYWx1ZU9yVGhyb3coKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXg7XG4gICAgfVxuICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZCh0b3RhbCk7XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLnppcCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICBpZiAoMCA8IGFyZ3MubGVuZ3RoKSB7XG4gICAgdmFyIGl0ZXJhdG9ycyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChhcmdzLCBnb29nLml0ZXIudG9JdGVyYXRvciksIGFsbERvbmUgPSAhMTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChhbGxEb25lKSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBhcnIgPSBbXSwgaSA9IDAsIGl0ID0gdm9pZCAwOyBpdCA9IGl0ZXJhdG9yc1tpKytdOykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFyci5wdXNoKGl0Lm5leHRWYWx1ZU9yVGhyb3coKSk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGFsbERvbmUgPSAhMCwgZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKGFycik7XG4gICAgfTtcbiAgICB2YXIgaXRlck5leHQgPSBpdGVyLm5leHQ7XG4gICAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwoaXRlcikpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLnppcExvbmdlc3QgPSBmdW5jdGlvbihmaWxsVmFsdWUsIHZhcl9hcmdzKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgaWYgKDAgPCBhcmdzLmxlbmd0aCkge1xuICAgIHZhciBpdGVyYXRvcnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoYXJncywgZ29vZy5pdGVyLnRvSXRlcmF0b3IpLCBhbGxEb25lID0gITE7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoYWxsRG9uZSkge1xuICAgICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaXRlcmF0b3JzSGF2ZVZhbHVlcyA9ICExLCBhcnIgPSBbXSwgaSA9IDAsIGl0ID0gdm9pZCAwOyBpdCA9IGl0ZXJhdG9yc1tpKytdOykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFyci5wdXNoKGl0Lm5leHRWYWx1ZU9yVGhyb3coKSksIGl0ZXJhdG9yc0hhdmVWYWx1ZXMgPSAhMDtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBpZiAoZXggIT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXJyLnB1c2goZmlsbFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yc0hhdmVWYWx1ZXMgPyBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChhcnIpIDogKGFsbERvbmUgPSAhMCwgZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FKTtcbiAgICB9O1xuICAgIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgICBpdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChpdGVyKSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuY29tcHJlc3MgPSBmdW5jdGlvbihpdGVyYWJsZSwgc2VsZWN0b3JzKSB7XG4gIHZhciB2YWx1ZUl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpLCBzZWxlY3Rvckl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3Ioc2VsZWN0b3JzKSwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKSwgYWxsRG9uZSA9ICExO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoYWxsRG9uZSkge1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICB9XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIHZhbCA9IHZvaWQgMCwgc2VsZWN0b3JWYWwgPSB2b2lkIDA7XG4gICAgICB0cnkge1xuICAgICAgICB2YWwgPSB2YWx1ZUl0ZXJhdG9yLm5leHRWYWx1ZU9yVGhyb3coKSwgc2VsZWN0b3JWYWwgPSBzZWxlY3Rvckl0ZXJhdG9yLm5leHRWYWx1ZU9yVGhyb3coKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGlmIChleCA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gYWxsRG9uZSA9ICEwLCBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXg7XG4gICAgICB9XG4gICAgICBpZiAoc2VsZWN0b3JWYWwpIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgaXRlck5leHQgPSBpdGVyLm5leHQ7XG4gIGl0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChpdGVyKSk7XG4gIH07XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci5Hcm91cEJ5SXRlcmF0b3JfID0gZnVuY3Rpb24oaXRlcmFibGUsIG9wdF9rZXlGdW5jKSB7XG4gIHRoaXMuaXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSk7XG4gIHRoaXMua2V5RnVuYyA9IG9wdF9rZXlGdW5jIHx8IGdvb2cuZnVuY3Rpb25zLmlkZW50aXR5O1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5pdGVyLkdyb3VwQnlJdGVyYXRvcl8sIGdvb2cuaXRlci5JdGVyYXRvcik7XG5nb29nLml0ZXIuR3JvdXBCeUl0ZXJhdG9yXy5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKDsgdGhpcy5jdXJyZW50S2V5ID09IHRoaXMudGFyZ2V0S2V5Oykge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHRoaXMuaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICB9XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50S2V5ID0gdGhpcy5rZXlGdW5jKHRoaXMuY3VycmVudFZhbHVlKTtcbiAgfVxuICB0aGlzLnRhcmdldEtleSA9IHRoaXMuY3VycmVudEtleTtcbiAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKFt0aGlzLmN1cnJlbnRLZXksIHRoaXMuZ3JvdXBJdGVtc18odGhpcy50YXJnZXRLZXkpXSk7XG59O1xuZ29vZy5pdGVyLkdyb3VwQnlJdGVyYXRvcl8ucHJvdG90eXBlLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChnb29nLml0ZXIuR3JvdXBCeUl0ZXJhdG9yXy5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMpKTtcbn07XG5nb29nLml0ZXIuR3JvdXBCeUl0ZXJhdG9yXy5wcm90b3R5cGUuZ3JvdXBJdGVtc18gPSBmdW5jdGlvbih0YXJnZXRLZXkpIHtcbiAgZm9yICh2YXIgYXJyID0gW107IHRoaXMuY3VycmVudEtleSA9PSB0YXJnZXRLZXk7KSB7XG4gICAgYXJyLnB1c2godGhpcy5jdXJyZW50VmFsdWUpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHRoaXMuaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggIT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgIHRocm93IGV4O1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudEtleSA9IHRoaXMua2V5RnVuYyh0aGlzLmN1cnJlbnRWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGFycjtcbn07XG5nb29nLml0ZXIuZ3JvdXBCeSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBvcHRfa2V5RnVuYykge1xuICByZXR1cm4gbmV3IGdvb2cuaXRlci5Hcm91cEJ5SXRlcmF0b3JfKGl0ZXJhYmxlLCBvcHRfa2V5RnVuYyk7XG59O1xuZ29vZy5pdGVyLnN0YXJNYXAgPSBmdW5jdGlvbihpdGVyYWJsZSwgZiwgb3B0X29iaikge1xuICB2YXIgaXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSksIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgYXJncyA9IGdvb2cuaXRlci50b0FycmF5KGl0ZXJhdG9yLm5leHRWYWx1ZU9yVGhyb3coKSksIHZhbHVlID0gZi5hcHBseShvcHRfb2JqLCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXQoYXJncywgdm9pZCAwLCBpdGVyYXRvcikpO1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHZhbHVlKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXg7XG4gICAgfVxuICB9O1xuICB2YXIgaXRlck5leHQgPSBpdGVyLm5leHQ7XG4gIGl0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChpdGVyKSk7XG4gIH07XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci50ZWUgPSBmdW5jdGlvbihpdGVyYWJsZSwgb3B0X251bSkge1xuICBmdW5jdGlvbiBhZGROZXh0SXRlcmF0b3JWYWx1ZVRvQnVmZmVycygpIHtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgdmFsID0gaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpLCBpID0gMCwgYnVmZmVyID0gdm9pZCAwOyBidWZmZXIgPSBidWZmZXJzW2krK107KSB7XG4gICAgICAgIGJ1ZmZlci5wdXNoKHZhbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gITA7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChleCA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXg7XG4gICAgfVxuICB9XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgYnVmZmVycyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yYW5nZShcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0X251bSA/IG9wdF9udW0gOiAyKSwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9KTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChidWZmZXJzLCBmdW5jdGlvbiBjcmVhdGVJdGVyYXRvcihidWZmZXIpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc0VtcHR5KGJ1ZmZlcikgJiYgIWFkZE5leHRJdGVyYXRvclZhbHVlVG9CdWZmZXJzKCkpIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgIH1cbiAgICAgIGdvb2cuYXNzZXJ0cy5hc3NlcnQoIW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzRW1wdHkoYnVmZmVyKSk7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQoYnVmZmVyLnNoaWZ0KCkpO1xuICAgIH07XG4gICAgdmFyIGl0ZXJOZXh0ID0gaXRlci5uZXh0O1xuICAgIGl0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBpdGVyO1xuICB9KTtcbn07XG5nb29nLml0ZXIuZW51bWVyYXRlID0gZnVuY3Rpb24oaXRlcmFibGUsIG9wdF9zdGFydCkge1xuICByZXR1cm4gZ29vZy5pdGVyLnppcChnb29nLml0ZXIuY291bnQob3B0X3N0YXJ0KSwgaXRlcmFibGUpO1xufTtcbmdvb2cuaXRlci5saW1pdCA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBsaW1pdFNpemUpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChnb29nLm1hdGguaXNJbnQobGltaXRTaXplKSAmJiAwIDw9IGxpbWl0U2l6ZSk7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKSwgcmVtYWluaW5nID0gbGltaXRTaXplO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoMCA8IHJlbWFpbmluZy0tKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQoaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGlmIChleCA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICB9O1xuICB2YXIgaXRlck5leHQgPSBpdGVyLm5leHQ7XG4gIGl0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChpdGVyKSk7XG4gIH07XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci5jb25zdW1lID0gZnVuY3Rpb24oaXRlcmFibGUsIGNvdW50KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZ29vZy5tYXRoLmlzSW50KGNvdW50KSAmJiAwIDw9IGNvdW50KTtcbiAgZm9yICh2YXIgaXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSk7IDAgPCBjb3VudC0tOykge1xuICAgIGdvb2cuaXRlci5uZXh0T3JWYWx1ZShpdGVyYXRvciwgbnVsbCk7XG4gIH1cbiAgcmV0dXJuIGl0ZXJhdG9yO1xufTtcbmdvb2cuaXRlci5zbGljZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBzdGFydCwgb3B0X2VuZCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGdvb2cubWF0aC5pc0ludChzdGFydCkgJiYgMCA8PSBzdGFydCk7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci5jb25zdW1lKGl0ZXJhYmxlLCBzdGFydCk7XG4gIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfZW5kICYmIChnb29nLmFzc2VydHMuYXNzZXJ0KGdvb2cubWF0aC5pc0ludChvcHRfZW5kKSAmJiBvcHRfZW5kID49IHN0YXJ0KSwgaXRlcmF0b3IgPSBnb29nLml0ZXIubGltaXQoaXRlcmF0b3IsIG9wdF9lbmQgLSBzdGFydCkpO1xuICByZXR1cm4gaXRlcmF0b3I7XG59O1xuZ29vZy5pdGVyLmhhc0R1cGxpY2F0ZXNfID0gZnVuY3Rpb24oYXJyKSB7XG4gIHZhciBkZWR1cGVkID0gW107XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUR1cGxpY2F0ZXMoYXJyLCBkZWR1cGVkKTtcbiAgcmV0dXJuIGFyci5sZW5ndGggIT0gZGVkdXBlZC5sZW5ndGg7XG59O1xuZ29vZy5pdGVyLnBlcm11dGF0aW9ucyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBvcHRfbGVuZ3RoKSB7XG4gIHZhciBlbGVtZW50cyA9IGdvb2cuaXRlci50b0FycmF5KGl0ZXJhYmxlKSwgcHJvZHVjdCA9IGdvb2cuaXRlci5wcm9kdWN0LmFwcGx5KHZvaWQgMCwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVwZWF0KGVsZW1lbnRzLCBcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0X2xlbmd0aCA/IG9wdF9sZW5ndGggOiBlbGVtZW50cy5sZW5ndGgpKTtcbiAgcmV0dXJuIGdvb2cuaXRlci5maWx0ZXIocHJvZHVjdCwgZnVuY3Rpb24oYXJyKSB7XG4gICAgcmV0dXJuICFnb29nLml0ZXIuaGFzRHVwbGljYXRlc18oYXJyKTtcbiAgfSk7XG59O1xuZ29vZy5pdGVyLmNvbWJpbmF0aW9ucyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBsZW5ndGgpIHtcbiAgZnVuY3Rpb24gZ2V0SW5kZXhGcm9tRWxlbWVudHMoaW5kZXgpIHtcbiAgICByZXR1cm4gZWxlbWVudHNbaW5kZXhdO1xuICB9XG4gIHZhciBlbGVtZW50cyA9IGdvb2cuaXRlci50b0FycmF5KGl0ZXJhYmxlKSwgaW5kZXhlcyA9IGdvb2cuaXRlci5yYW5nZShlbGVtZW50cy5sZW5ndGgpLCBpbmRleEl0ZXJhdG9yID0gZ29vZy5pdGVyLnBlcm11dGF0aW9ucyhpbmRleGVzLCBsZW5ndGgpLCBzb3J0ZWRJbmRleEl0ZXJhdG9yID0gZ29vZy5pdGVyLmZpbHRlcihpbmRleEl0ZXJhdG9yLCBmdW5jdGlvbihhcnIpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNTb3J0ZWQoYXJyKTtcbiAgfSksIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgbmV4dEFyciA9IHNvcnRlZEluZGV4SXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChuZXh0QXJyLCBnZXRJbmRleEZyb21FbGVtZW50cykpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICB9XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLmNvbWJpbmF0aW9uc1dpdGhSZXBsYWNlbWVudCA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBsZW5ndGgpIHtcbiAgZnVuY3Rpb24gZ2V0SW5kZXhGcm9tRWxlbWVudHMoaW5kZXgpIHtcbiAgICByZXR1cm4gZWxlbWVudHNbaW5kZXhdO1xuICB9XG4gIHZhciBlbGVtZW50cyA9IGdvb2cuaXRlci50b0FycmF5KGl0ZXJhYmxlKSwgaW5kZXhlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JhbmdlKGVsZW1lbnRzLmxlbmd0aCksIGluZGV4SXRlcmF0b3IgPSBnb29nLml0ZXIucHJvZHVjdC5hcHBseSh2b2lkIDAsIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlcGVhdChpbmRleGVzLCBsZW5ndGgpKSwgc29ydGVkSW5kZXhJdGVyYXRvciA9IGdvb2cuaXRlci5maWx0ZXIoaW5kZXhJdGVyYXRvciwgZnVuY3Rpb24oYXJyKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzU29ydGVkKGFycik7XG4gIH0pLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChzb3J0ZWRJbmRleEl0ZXJhdG9yLm5leHRWYWx1ZU9yVGhyb3coKSwgZ2V0SW5kZXhGcm9tRWxlbWVudHMpKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXg7XG4gICAgfVxuICB9O1xuICB2YXIgaXRlck5leHQgPSBpdGVyLm5leHQ7XG4gIGl0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChpdGVyKSk7XG4gIH07XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci5lczYgPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGUgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGUucHJvdG90eXBlLl9faXRlcmF0b3JfXyA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZS5wcm90b3R5cGUudG9Hb29nID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlLnByb3RvdHlwZS50b0VzNiA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZS5vZiA9IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgaWYgKGl0ZXIgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsIHx8IGl0ZXIgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltR29vZ0l0ZXJhdG9yIHx8IGl0ZXIgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IpIHtcbiAgICByZXR1cm4gaXRlcjtcbiAgfVxuICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBpdGVyLm5leHRWYWx1ZU9yVGhyb3cpIHtcbiAgICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZUltcGwoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfd3JhcEdvb2coaXRlcik7XG4gICAgfSk7XG4gIH1cbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgaXRlcltTeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIH0pO1xuICB9XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGl0ZXIuX19pdGVyYXRvcl9fKSB7XG4gICAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X3dyYXBHb29nKGl0ZXIuX19pdGVyYXRvcl9fKCkpO1xuICAgIH0pO1xuICB9XG4gIHRocm93IEVycm9yKFwiTm90IGFuIGl0ZXJhdG9yIG9yIGl0ZXJhYmxlLlwiKTtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfd3JhcEdvb2cgPSBmdW5jdGlvbihpdGVyKSB7XG4gIGlmICghKGl0ZXIgaW5zdGFuY2VvZiBnb29nLml0ZXIuSXRlcmF0b3IpKSB7XG4gICAgcmV0dXJuIGl0ZXI7XG4gIH1cbiAgdmFyIGRvbmUgPSAhMTtcbiAgcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIHZhbHVlOyAhZG9uZTspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlID0gaXRlci5uZXh0VmFsdWVPclRocm93KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBjYXRjaCAoZXJyJDQ3KSB7XG4gICAgICAgIGlmIChlcnIkNDcgIT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgICAgdGhyb3cgZXJyJDQ3O1xuICAgICAgICB9XG4gICAgICAgIGRvbmUgPSAhMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHt2YWx1ZTp2YWx1ZSwgZG9uZTpkb25lfTtcbiAgfSx9O1xufSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlSW1wbCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgdGhpcy5mdW5jXyA9IGZ1bmM7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlSW1wbC5wcm90b3R5cGUuX19pdGVyYXRvcl9fID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvcih0aGlzLmZ1bmNfKCkpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZUltcGwucHJvdG90eXBlLnRvR29vZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1Hb29nSXRlcmF0b3IodGhpcy5mdW5jXygpKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUVzNkl0ZXJhdG9yKHRoaXMuZnVuY18oKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlSW1wbC5wcm90b3R5cGUudG9FczYgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IodGhpcy5mdW5jXygpKTtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvciA9IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgZ29vZy5pdGVyLkl0ZXJhdG9yLmNhbGwodGhpcyk7XG4gIHRoaXMuaXRlcl8gPSBpdGVyO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvciwgZ29vZy5pdGVyLkl0ZXJhdG9yKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1Hb29nSXRlcmF0b3IucHJvdG90eXBlLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaXRlcl8ubmV4dCgpO1xuICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICB0aHJvdyBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbjtcbiAgfVxuICByZXR1cm4gcmVzdWx0LnZhbHVlO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1Hb29nSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaXRlcl8ubmV4dCgpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1Hb29nSXRlcmF0b3IucHJvdG90eXBlLnRvR29vZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltR29vZ0l0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUVzNkl0ZXJhdG9yKHRoaXMuaXRlcl8pO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1Hb29nSXRlcmF0b3IucHJvdG90eXBlLnRvRXM2ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUVzNkl0ZXJhdG9yKHRoaXMuaXRlcl8pO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IgPSBmdW5jdGlvbihpdGVyKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZUltcGwuY2FsbCh0aGlzLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaXRlcjtcbiAgfSk7XG4gIHRoaXMuaXRlcl8gPSBpdGVyO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUVzNkl0ZXJhdG9yLCBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1FczZJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pdGVyXy5uZXh0KCk7XG59O1xuZ29vZy5pdGVyLmVzNi5TaGltSXRlcmFibGUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGU7XG5nb29nLml0ZXIuZXM2LlNoaW1FczZJdGVyYXRvciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1FczZJdGVyYXRvcjtcbmdvb2cuaXRlci5lczYuU2hpbUdvb2dJdGVyYXRvciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1Hb29nSXRlcmF0b3I7XG5nb29nLnN0cnVjdHMuTWFwID0gZnVuY3Rpb24ob3B0X21hcCwgdmFyX2FyZ3MpIHtcbiAgdGhpcy5tYXBfID0ge307XG4gIHRoaXMua2V5c18gPSBbXTtcbiAgdGhpcy52ZXJzaW9uXyA9IHRoaXMuc2l6ZSA9IDA7XG4gIHZhciBhcmdMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAoMSA8IGFyZ0xlbmd0aCkge1xuICAgIGlmIChhcmdMZW5ndGggJSAyKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlVuZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzXCIpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ0xlbmd0aDsgaSArPSAyKSB7XG4gICAgICB0aGlzLnNldChhcmd1bWVudHNbaV0sIGFyZ3VtZW50c1tpICsgMV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvcHRfbWFwICYmIHRoaXMuYWRkQWxsKG9wdF9tYXApO1xuICB9XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc2l6ZTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5nZXRWYWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jbGVhbnVwS2V5c0FycmF5XygpO1xuICBmb3IgKHZhciBydiA9IFtdLCBpID0gMDsgaSA8IHRoaXMua2V5c18ubGVuZ3RoOyBpKyspIHtcbiAgICBydi5wdXNoKHRoaXMubWFwX1t0aGlzLmtleXNfW2ldXSk7XG4gIH1cbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmdldEtleXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jbGVhbnVwS2V5c0FycmF5XygpO1xuICByZXR1cm4gdGhpcy5rZXlzXy5jb25jYXQoKTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gdGhpcy5oYXMoa2V5KTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIGdvb2cuc3RydWN0cy5NYXAuaGFzS2V5Xyh0aGlzLm1hcF8sIGtleSk7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuY29udGFpbnNWYWx1ZSA9IGZ1bmN0aW9uKHZhbCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMua2V5c18ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gdGhpcy5rZXlzX1tpXTtcbiAgICBpZiAoZ29vZy5zdHJ1Y3RzLk1hcC5oYXNLZXlfKHRoaXMubWFwXywga2V5KSAmJiB0aGlzLm1hcF9ba2V5XSA9PSB2YWwpIHtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uKG90aGVyTWFwLCBvcHRfZXF1YWxpdHlGbikge1xuICBpZiAodGhpcyA9PT0gb3RoZXJNYXApIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgaWYgKHRoaXMuc2l6ZSAhPSBvdGhlck1hcC5nZXRDb3VudCgpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBlcXVhbGl0eUZuID0gb3B0X2VxdWFsaXR5Rm4gfHwgZ29vZy5zdHJ1Y3RzLk1hcC5kZWZhdWx0RXF1YWxzO1xuICB0aGlzLmNsZWFudXBLZXlzQXJyYXlfKCk7XG4gIGZvciAodmFyIGtleSwgaSA9IDA7IGtleSA9IHRoaXMua2V5c19baV07IGkrKykge1xuICAgIGlmICghZXF1YWxpdHlGbih0aGlzLmdldChrZXkpLCBvdGhlck1hcC5nZXQoa2V5KSkpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufTtcbmdvb2cuc3RydWN0cy5NYXAuZGVmYXVsdEVxdWFscyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMCA9PSB0aGlzLnNpemU7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5tYXBfID0ge307XG4gIHRoaXMua2V5c18ubGVuZ3RoID0gMDtcbiAgdGhpcy5zZXRTaXplSW50ZXJuYWxfKDApO1xuICB0aGlzLnZlcnNpb25fID0gMDtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIHRoaXMuZGVsZXRlKGtleSk7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiBnb29nLnN0cnVjdHMuTWFwLmhhc0tleV8odGhpcy5tYXBfLCBrZXkpID8gKGRlbGV0ZSB0aGlzLm1hcF9ba2V5XSwgdGhpcy5zZXRTaXplSW50ZXJuYWxfKHRoaXMuc2l6ZSAtIDEpLCB0aGlzLnZlcnNpb25fKyssIHRoaXMua2V5c18ubGVuZ3RoID4gMiAqIHRoaXMuc2l6ZSAmJiB0aGlzLmNsZWFudXBLZXlzQXJyYXlfKCksICEwKSA6ICExO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmNsZWFudXBLZXlzQXJyYXlfID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLnNpemUgIT0gdGhpcy5rZXlzXy5sZW5ndGgpIHtcbiAgICBmb3IgKHZhciBzcmNJbmRleCA9IDAsIGRlc3RJbmRleCA9IDA7IHNyY0luZGV4IDwgdGhpcy5rZXlzXy5sZW5ndGg7KSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy5rZXlzX1tzcmNJbmRleF07XG4gICAgICBnb29nLnN0cnVjdHMuTWFwLmhhc0tleV8odGhpcy5tYXBfLCBrZXkpICYmICh0aGlzLmtleXNfW2Rlc3RJbmRleCsrXSA9IGtleSk7XG4gICAgICBzcmNJbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLmtleXNfLmxlbmd0aCA9IGRlc3RJbmRleDtcbiAgfVxuICBpZiAodGhpcy5zaXplICE9IHRoaXMua2V5c18ubGVuZ3RoKSB7XG4gICAgdmFyIHNlZW4gPSB7fTtcbiAgICBmb3IgKGRlc3RJbmRleCA9IHNyY0luZGV4ID0gMDsgc3JjSW5kZXggPCB0aGlzLmtleXNfLmxlbmd0aDspIHtcbiAgICAgIGtleSA9IHRoaXMua2V5c19bc3JjSW5kZXhdLCBnb29nLnN0cnVjdHMuTWFwLmhhc0tleV8oc2Vlbiwga2V5KSB8fCAodGhpcy5rZXlzX1tkZXN0SW5kZXgrK10gPSBrZXksIHNlZW5ba2V5XSA9IDEpLCBzcmNJbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLmtleXNfLmxlbmd0aCA9IGRlc3RJbmRleDtcbiAgfVxufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSwgb3B0X3ZhbCkge1xuICByZXR1cm4gZ29vZy5zdHJ1Y3RzLk1hcC5oYXNLZXlfKHRoaXMubWFwXywga2V5KSA/IHRoaXMubWFwX1trZXldIDogb3B0X3ZhbDtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gIGdvb2cuc3RydWN0cy5NYXAuaGFzS2V5Xyh0aGlzLm1hcF8sIGtleSkgfHwgKHRoaXMuc2V0U2l6ZUludGVybmFsXyh0aGlzLnNpemUgKyAxKSwgdGhpcy5rZXlzXy5wdXNoKGtleSksIHRoaXMudmVyc2lvbl8rKyk7XG4gIHRoaXMubWFwX1trZXldID0gdmFsdWU7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuYWRkQWxsID0gZnVuY3Rpb24obWFwKSB7XG4gIGlmIChtYXAgaW5zdGFuY2VvZiBnb29nLnN0cnVjdHMuTWFwKSB7XG4gICAgZm9yICh2YXIga2V5cyA9IG1hcC5nZXRLZXlzKCksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zZXQoa2V5c1tpXSwgbWFwLmdldChrZXlzW2ldKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGtleSBpbiBtYXApIHtcbiAgICAgIHRoaXMuc2V0KGtleSwgbWFwW2tleV0pO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGtleXMgPSB0aGlzLmdldEtleXMoKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV0sIHZhbHVlID0gdGhpcy5nZXQoa2V5KTtcbiAgICBmLmNhbGwob3B0X29iaiwgdmFsdWUsIGtleSwgdGhpcyk7XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cuc3RydWN0cy5NYXAodGhpcyk7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUudHJhbnNwb3NlID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIHRyYW5zcG9zZWQgPSBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCgpLCBpID0gMDsgaSA8IHRoaXMua2V5c18ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gdGhpcy5rZXlzX1tpXTtcbiAgICB0cmFuc3Bvc2VkLnNldCh0aGlzLm1hcF9ba2V5XSwga2V5KTtcbiAgfVxuICByZXR1cm4gdHJhbnNwb3NlZDtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNsZWFudXBLZXlzQXJyYXlfKCk7XG4gIGZvciAodmFyIG9iaiA9IHt9LCBpID0gMDsgaSA8IHRoaXMua2V5c18ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gdGhpcy5rZXlzX1tpXTtcbiAgICBvYmpba2V5XSA9IHRoaXMubWFwX1trZXldO1xuICB9XG4gIHJldHVybiBvYmo7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZ2V0S2V5SXRlcmF0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcl9fKCEwKTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGUub2YodGhpcy5nZXRLZXlJdGVyYXRvcigpKS50b0VzNigpO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmdldFZhbHVlSXRlcmF0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcl9fKCExKTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZS5vZih0aGlzLmdldFZhbHVlSXRlcmF0b3IoKSkudG9FczYoKTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgcmV0dXJuIGdvb2cuY29sbGVjdGlvbnMuaXRlcnMubWFwKHRoaXMua2V5cygpLCBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gW2tleSwgc2VsZi5nZXQoa2V5KV07XG4gIH0pO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLl9faXRlcmF0b3JfXyA9IGZ1bmN0aW9uKG9wdF9rZXlzKSB7XG4gIHRoaXMuY2xlYW51cEtleXNBcnJheV8oKTtcbiAgdmFyIGkgPSAwLCB2ZXJzaW9uID0gdGhpcy52ZXJzaW9uXywgc2VsZk9iaiA9IHRoaXMsIG5ld0l0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIG5ld0l0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh2ZXJzaW9uICE9IHNlbGZPYmoudmVyc2lvbl8pIHtcbiAgICAgIHRocm93IEVycm9yKFwiVGhlIG1hcCBoYXMgY2hhbmdlZCBzaW5jZSB0aGUgaXRlcmF0b3Igd2FzIGNyZWF0ZWRcIik7XG4gICAgfVxuICAgIGlmIChpID49IHNlbGZPYmoua2V5c18ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgIH1cbiAgICB2YXIga2V5ID0gc2VsZk9iai5rZXlzX1tpKytdO1xuICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChvcHRfa2V5cyA/IGtleSA6IHNlbGZPYmoubWFwX1trZXldKTtcbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gbmV3SXRlci5uZXh0O1xuICBuZXdJdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwobmV3SXRlcikpO1xuICB9O1xuICByZXR1cm4gbmV3SXRlcjtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5zZXRTaXplSW50ZXJuYWxfID0gZnVuY3Rpb24obmV3U2l6ZSkge1xuICB0aGlzLnNpemUgPSBuZXdTaXplO1xufTtcbmdvb2cuc3RydWN0cy5NYXAuaGFzS2V5XyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufTtcbmdvb2cuc3RydWN0cy5nZXRDb3VudCA9IGZ1bmN0aW9uKGNvbCkge1xuICByZXR1cm4gY29sLmdldENvdW50ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmdldENvdW50ID8gY29sLmdldENvdW50KCkgOiBnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCA/IGNvbC5sZW5ndGggOiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0Q291bnQoY29sKTtcbn07XG5nb29nLnN0cnVjdHMuZ2V0VmFsdWVzID0gZnVuY3Rpb24oY29sKSB7XG4gIGlmIChjb2wuZ2V0VmFsdWVzICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmdldFZhbHVlcykge1xuICAgIHJldHVybiBjb2wuZ2V0VmFsdWVzKCk7XG4gIH1cbiAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBNYXAgJiYgY29sIGluc3RhbmNlb2YgTWFwIHx8IFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBTZXQgJiYgY29sIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oY29sLnZhbHVlcygpKTtcbiAgfVxuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCkge1xuICAgIHJldHVybiBjb2wuc3BsaXQoXCJcIik7XG4gIH1cbiAgaWYgKGdvb2cuaXNBcnJheUxpa2UoY29sKSkge1xuICAgIGZvciAodmFyIHJ2ID0gW10sIGwgPSBjb2wubGVuZ3RoLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgcnYucHVzaChjb2xbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcnY7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRWYWx1ZXMoY29sKTtcbn07XG5nb29nLnN0cnVjdHMuZ2V0S2V5cyA9IGZ1bmN0aW9uKGNvbCkge1xuICBpZiAoY29sLmdldEtleXMgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuZ2V0S2V5cykge1xuICAgIHJldHVybiBjb2wuZ2V0S2V5cygpO1xuICB9XG4gIGlmICghY29sLmdldFZhbHVlcyB8fCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGNvbC5nZXRWYWx1ZXMpIHtcbiAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIE1hcCAmJiBjb2wgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGNvbC5rZXlzKCkpO1xuICAgIH1cbiAgICBpZiAoIShcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgU2V0ICYmIGNvbCBpbnN0YW5jZW9mIFNldCkpIHtcbiAgICAgIGlmIChnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCkge1xuICAgICAgICBmb3IgKHZhciBydiA9IFtdLCBsID0gY29sLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBydi5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyhjb2wpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuc3RydWN0cy5jb250YWlucyA9IGZ1bmN0aW9uKGNvbCwgdmFsKSB7XG4gIHJldHVybiBjb2wuY29udGFpbnMgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuY29udGFpbnMgPyBjb2wuY29udGFpbnModmFsKSA6IGNvbC5jb250YWluc1ZhbHVlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmNvbnRhaW5zVmFsdWUgPyBjb2wuY29udGFpbnNWYWx1ZSh2YWwpIDogZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wgPyBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhjb2wsIHZhbCkgOiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnNWYWx1ZShjb2wsIHZhbCk7XG59O1xuZ29vZy5zdHJ1Y3RzLmlzRW1wdHkgPSBmdW5jdGlvbihjb2wpIHtcbiAgcmV0dXJuIGNvbC5pc0VtcHR5ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmlzRW1wdHkgPyBjb2wuaXNFbXB0eSgpIDogZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wgPyAwID09PSBjb2wubGVuZ3RoIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2lzRW1wdHkoY29sKTtcbn07XG5nb29nLnN0cnVjdHMuY2xlYXIgPSBmdW5jdGlvbihjb2wpIHtcbiAgY29sLmNsZWFyICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmNsZWFyID8gY29sLmNsZWFyKCkgOiBnb29nLmlzQXJyYXlMaWtlKGNvbCkgPyBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jbGVhcihjb2wpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NsZWFyKGNvbCk7XG59O1xuZ29vZy5zdHJ1Y3RzLmZvckVhY2ggPSBmdW5jdGlvbihjb2wsIGYsIG9wdF9vYmopIHtcbiAgaWYgKGNvbC5mb3JFYWNoICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmZvckVhY2gpIHtcbiAgICBjb2wuZm9yRWFjaChmLCBvcHRfb2JqKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wpIHtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoY29sLCBmLCBvcHRfb2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIga2V5cyA9IGdvb2cuc3RydWN0cy5nZXRLZXlzKGNvbCksIHZhbHVlcyA9IGdvb2cuc3RydWN0cy5nZXRWYWx1ZXMoY29sKSwgbCA9IHZhbHVlcy5sZW5ndGgsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGYuY2FsbChvcHRfb2JqLCB2YWx1ZXNbaV0sIGtleXMgJiYga2V5c1tpXSwgY29sKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuZmlsdGVyID0gZnVuY3Rpb24oY29sLCBmLCBvcHRfb2JqKSB7XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGNvbC5maWx0ZXIpIHtcbiAgICByZXR1cm4gY29sLmZpbHRlcihmLCBvcHRfb2JqKTtcbiAgfVxuICBpZiAoZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGNvbCwgZiwgb3B0X29iaik7XG4gIH1cbiAgdmFyIGtleXMgPSBnb29nLnN0cnVjdHMuZ2V0S2V5cyhjb2wpLCB2YWx1ZXMgPSBnb29nLnN0cnVjdHMuZ2V0VmFsdWVzKGNvbCksIGwgPSB2YWx1ZXMubGVuZ3RoO1xuICBpZiAoa2V5cykge1xuICAgIHZhciBydiA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmLmNhbGwob3B0X29iaiwgdmFsdWVzW2ldLCBrZXlzW2ldLCBjb2wpICYmIChydltrZXlzW2ldXSA9IHZhbHVlc1tpXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAocnYgPSBbXSwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGYuY2FsbChvcHRfb2JqLCB2YWx1ZXNbaV0sIHZvaWQgMCwgY29sKSAmJiBydi5wdXNoKHZhbHVlc1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBydjtcbn07XG5nb29nLnN0cnVjdHMubWFwID0gZnVuY3Rpb24oY29sLCBmLCBvcHRfb2JqKSB7XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGNvbC5tYXApIHtcbiAgICByZXR1cm4gY29sLm1hcChmLCBvcHRfb2JqKTtcbiAgfVxuICBpZiAoZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGNvbCwgZiwgb3B0X29iaik7XG4gIH1cbiAgdmFyIGtleXMgPSBnb29nLnN0cnVjdHMuZ2V0S2V5cyhjb2wpLCB2YWx1ZXMgPSBnb29nLnN0cnVjdHMuZ2V0VmFsdWVzKGNvbCksIGwgPSB2YWx1ZXMubGVuZ3RoO1xuICBpZiAoa2V5cykge1xuICAgIHZhciBydiA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBydltrZXlzW2ldXSA9IGYuY2FsbChvcHRfb2JqLCB2YWx1ZXNbaV0sIGtleXNbaV0sIGNvbCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAocnYgPSBbXSwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHJ2W2ldID0gZi5jYWxsKG9wdF9vYmosIHZhbHVlc1tpXSwgdm9pZCAwLCBjb2wpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcnY7XG59O1xuZ29vZy5zdHJ1Y3RzLnNvbWUgPSBmdW5jdGlvbihjb2wsIGYsIG9wdF9vYmopIHtcbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLnNvbWUpIHtcbiAgICByZXR1cm4gY29sLnNvbWUoZiwgb3B0X29iaik7XG4gIH1cbiAgaWYgKGdvb2cuaXNBcnJheUxpa2UoY29sKSB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgY29sKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoY29sLCBmLCBvcHRfb2JqKTtcbiAgfVxuICBmb3IgKHZhciBrZXlzID0gZ29vZy5zdHJ1Y3RzLmdldEtleXMoY29sKSwgdmFsdWVzID0gZ29vZy5zdHJ1Y3RzLmdldFZhbHVlcyhjb2wpLCBsID0gdmFsdWVzLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoZi5jYWxsKG9wdF9vYmosIHZhbHVlc1tpXSwga2V5cyAmJiBrZXlzW2ldLCBjb2wpKSB7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLnN0cnVjdHMuZXZlcnkgPSBmdW5jdGlvbihjb2wsIGYsIG9wdF9vYmopIHtcbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmV2ZXJ5KSB7XG4gICAgcmV0dXJuIGNvbC5ldmVyeShmLCBvcHRfb2JqKTtcbiAgfVxuICBpZiAoZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoY29sLCBmLCBvcHRfb2JqKTtcbiAgfVxuICBmb3IgKHZhciBrZXlzID0gZ29vZy5zdHJ1Y3RzLmdldEtleXMoY29sKSwgdmFsdWVzID0gZ29vZy5zdHJ1Y3RzLmdldFZhbHVlcyhjb2wpLCBsID0gdmFsdWVzLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoIWYuY2FsbChvcHRfb2JqLCB2YWx1ZXNbaV0sIGtleXMgJiYga2V5c1tpXSwgY29sKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldCA9IGZ1bmN0aW9uKG9wdF92YWx1ZXMpIHtcbiAgdGhpcy5tYXBfID0gbmV3IGdvb2cuc3RydWN0cy5NYXAoKTtcbiAgdGhpcy5zaXplID0gMDtcbiAgb3B0X3ZhbHVlcyAmJiB0aGlzLmFkZEFsbChvcHRfdmFsdWVzKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LmdldFVpZF8gPSBnb29nLmdldFVpZDtcbmdvb2cuc3RydWN0cy5TZXQuZ2V0S2V5XyA9IGZ1bmN0aW9uKHZhbCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIHJldHVybiBcIm9iamVjdFwiID09IHR5cGUgJiYgdmFsIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlID8gXCJvXCIgKyBnb29nLmdldFVpZCh2YWwpIDogdHlwZS5zdWJzdHIoMCwgMSkgKyB2YWw7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubWFwXy5zaXplO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdGhpcy5tYXBfLnNldChnb29nLnN0cnVjdHMuU2V0LmdldEtleV8oZWxlbWVudCksIGVsZW1lbnQpO1xuICB0aGlzLnNldFNpemVJbnRlcm5hbF8odGhpcy5tYXBfLnNpemUpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLmFkZEFsbCA9IGZ1bmN0aW9uKGNvbCkge1xuICBmb3IgKHZhciB2YWx1ZXMgPSBnb29nLnN0cnVjdHMuZ2V0VmFsdWVzKGNvbCksIGwgPSB2YWx1ZXMubGVuZ3RoLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpXSk7XG4gIH1cbiAgdGhpcy5zZXRTaXplSW50ZXJuYWxfKHRoaXMubWFwXy5zaXplKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbihjb2wpIHtcbiAgZm9yICh2YXIgdmFsdWVzID0gZ29vZy5zdHJ1Y3RzLmdldFZhbHVlcyhjb2wpLCBsID0gdmFsdWVzLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICB0aGlzLnJlbW92ZSh2YWx1ZXNbaV0pO1xuICB9XG4gIHRoaXMuc2V0U2l6ZUludGVybmFsXyh0aGlzLm1hcF8uc2l6ZSk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgcnYgPSB0aGlzLm1hcF8ucmVtb3ZlKGdvb2cuc3RydWN0cy5TZXQuZ2V0S2V5XyhlbGVtZW50KSk7XG4gIHRoaXMuc2V0U2l6ZUludGVybmFsXyh0aGlzLm1hcF8uc2l6ZSk7XG4gIHJldHVybiBydjtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLmRlbGV0ZShlbGVtZW50KTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm1hcF8uY2xlYXIoKTtcbiAgdGhpcy5zZXRTaXplSW50ZXJuYWxfKDApO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDAgPT09IHRoaXMubWFwXy5zaXplO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHRoaXMubWFwXy5jb250YWluc0tleShnb29nLnN0cnVjdHMuU2V0LmdldEtleV8oZWxlbWVudCkpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gdGhpcy5tYXBfLmNvbnRhaW5zS2V5KGdvb2cuc3RydWN0cy5TZXQuZ2V0S2V5XyhlbGVtZW50KSk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuY29udGFpbnNBbGwgPSBmdW5jdGlvbihjb2wpIHtcbiAgcmV0dXJuIGdvb2cuc3RydWN0cy5ldmVyeShjb2wsIHRoaXMuY29udGFpbnMsIHRoaXMpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGNvbCkge1xuICBmb3IgKHZhciByZXN1bHQgPSBuZXcgZ29vZy5zdHJ1Y3RzLlNldCgpLCB2YWx1ZXMgPSBnb29nLnN0cnVjdHMuZ2V0VmFsdWVzKGNvbCksIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldO1xuICAgIHRoaXMuY29udGFpbnModmFsdWUpICYmIHJlc3VsdC5hZGQodmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGNvbCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICByZXN1bHQucmVtb3ZlQWxsKGNvbCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuZ2V0VmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm1hcF8uZ2V0VmFsdWVzKCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm1hcF8udmFsdWVzKCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLnN0cnVjdHMuU2V0KHRoaXMpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uKGNvbCkge1xuICByZXR1cm4gdGhpcy5nZXRDb3VudCgpID09IGdvb2cuc3RydWN0cy5nZXRDb3VudChjb2wpICYmIHRoaXMuaXNTdWJzZXRPZihjb2wpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLmlzU3Vic2V0T2YgPSBmdW5jdGlvbihjb2wpIHtcbiAgdmFyIGNvbENvdW50ID0gZ29vZy5zdHJ1Y3RzLmdldENvdW50KGNvbCk7XG4gIGlmICh0aGlzLmdldENvdW50KCkgPiBjb2xDb3VudCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICAhKGNvbCBpbnN0YW5jZW9mIGdvb2cuc3RydWN0cy5TZXQpICYmIDUgPCBjb2xDb3VudCAmJiAoY29sID0gbmV3IGdvb2cuc3RydWN0cy5TZXQoY29sKSk7XG4gIHJldHVybiBnb29nLnN0cnVjdHMuZXZlcnkodGhpcywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZ29vZy5zdHJ1Y3RzLmNvbnRhaW5zKGNvbCwgdmFsdWUpO1xuICB9KTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5fX2l0ZXJhdG9yX18gPSBmdW5jdGlvbihvcHRfa2V5cykge1xuICByZXR1cm4gdGhpcy5tYXBfLl9faXRlcmF0b3JfXyghMSk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy52YWx1ZXMoKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5zZXRTaXplSW50ZXJuYWxfID0gZnVuY3Rpb24obmV3U2l6ZSkge1xuICB0aGlzLnNpemUgPSBuZXdTaXplO1xufTtcbnZhciBlZSA9IHtBYnN0cmFjdE92ZXJsYXk6ZnVuY3Rpb24odXJsLCBtYXBJZCwgdG9rZW4sIG9wdF9pbml0LCBvcHRfcHJvZmlsZXIpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcbiAgdGhpcy5tYXBJZCA9IG1hcElkO1xuICB0aGlzLnRva2VuID0gdG9rZW47XG4gIHRoaXMudGlsZXNMb2FkaW5nID0gW107XG4gIHRoaXMudGlsZXNGYWlsZWQgPSBuZXcgZ29vZy5zdHJ1Y3RzLlNldCgpO1xuICB0aGlzLnRpbGVDb3VudGVyID0gMDtcbiAgdGhpcy51cmwgPSB1cmw7XG59fTtcbmdvb2cuaW5oZXJpdHMoZWUuQWJzdHJhY3RPdmVybGF5LCBnb29nLmV2ZW50cy5FdmVudFRhcmdldCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkFic3RyYWN0T3ZlcmxheVwiLCBlZS5BYnN0cmFjdE92ZXJsYXkpO1xuZWUuQWJzdHJhY3RPdmVybGF5LkV2ZW50VHlwZSA9IHtUSUxFX0xPQURFRDpcInRpbGVldmVudFwifTtcbmVlLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0VGlsZUlkID0gZnVuY3Rpb24oY29vcmQsIHpvb20pIHtcbiAgdmFyIG1heENvb3JkID0gMSA8PCB6b29tLCB4ID0gY29vcmQueCAlIG1heENvb3JkO1xuICAwID4geCAmJiAoeCArPSBtYXhDb29yZCk7XG4gIHJldHVybiBbdGhpcy5tYXBJZCwgem9vbSwgeCwgY29vcmQueV0uam9pbihcIi9cIik7XG59O1xuZWUuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5nZXRMb2FkaW5nVGlsZXNDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50aWxlc0xvYWRpbmcubGVuZ3RoO1xufTtcbmVlLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0RmFpbGVkVGlsZXNDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50aWxlc0ZhaWxlZC5nZXRDb3VudCgpO1xufTtcbmVlLlRpbGVFdmVudCA9IGZ1bmN0aW9uKGNvdW50KSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50LmNhbGwodGhpcywgZWUuQWJzdHJhY3RPdmVybGF5LkV2ZW50VHlwZS5USUxFX0xPQURFRCk7XG4gIHRoaXMuY291bnQgPSBjb3VudDtcbn07XG5nb29nLmluaGVyaXRzKGVlLlRpbGVFdmVudCwgZ29vZy5ldmVudHMuRXZlbnQpO1xudmFyIG1vZHVsZSRleHBvcnRzJHRzbGliID0ge30sIG1vZHVsZSRjb250ZW50cyR0c2xpYl9leHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHtfX3Byb3RvX186W119IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24oZCwgYikge1xuICBkLl9fcHJvdG9fXyA9IGI7XG59IHx8IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgYi5oYXNPd25Qcm9wZXJ0eShwKSAmJiAoZFtwXSA9IGJbcF0pO1xuICB9XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19leHRlbmRzID0gZnVuY3Rpb24oZCwgYikge1xuICBmdW5jdGlvbiBfXygpIHtcbiAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgfVxuICBtb2R1bGUkY29udGVudHMkdHNsaWJfZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZC5wcm90b3R5cGUgPSBudWxsID09PSBiID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgKHRbcF0gPSBzW3BdKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19yZXN0ID0gZnVuY3Rpb24ocywgZSkge1xuICB2YXIgdCA9IHt9LCBwO1xuICBmb3IgKHAgaW4gcykge1xuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiAwID4gZS5pbmRleE9mKHApICYmICh0W3BdID0gc1twXSk7XG4gIH1cbiAgaWYgKG51bGwgIT0gcyAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAocCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAwID4gZS5pbmRleE9mKHBbaV0pICYmICh0W3BbaV1dID0gc1twW2ldXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0O1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fZGVjb3JhdGUgPSBmdW5jdGlvbihkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSAzID4gYyA/IHRhcmdldCA6IG51bGwgPT09IGRlc2MgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIFJlZmxlY3QgJiYgUmVmbGVjdCAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKSB7XG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKSB7XG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHtcbiAgICAgICAgciA9ICgzID4gYyA/IGQocikgOiAzIDwgYyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiAzIDwgYyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19tZXRhZGF0YSA9IGZ1bmN0aW9uKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0ICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpIHtcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG4gIH1cbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX3BhcmFtID0gZnVuY3Rpb24ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbih0YXJnZXQsIGtleSkge1xuICAgIGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7XG4gIH07XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19hd2FpdGVyID0gZnVuY3Rpb24odGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSRqc2NvbXAkMCwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgcmVzdWx0LmRvbmUgPyByZXNvbHZlJGpzY29tcCQwKHJlc3VsdC52YWx1ZSkgOiAobmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICByZXNvbHZlKHJlc3VsdC52YWx1ZSk7XG4gICAgICB9KSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMpKS5uZXh0KCkpO1xuICB9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2dlbmVyYXRvciA9IGZ1bmN0aW9uKHRoaXNBcmcsIGJvZHkpIHtcbiAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiBzdGVwKFtuLCB2XSk7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgaWYgKGYpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgIH1cbiAgICBmb3IgKDsgXzspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IHlbb3BbMF0gJiAyID8gXCJyZXR1cm5cIiA6IG9wWzBdID8gXCJ0aHJvd1wiIDogXCJuZXh0XCJdKSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgPSAwLCB0KSB7XG4gICAgICAgICAgb3AgPSBbMCwgdC52YWx1ZV07XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoKG9wWzBdKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiBfLmxhYmVsKyssIHt2YWx1ZTpvcFsxXSwgZG9uZTohMX07XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgeSA9IG9wWzFdO1xuICAgICAgICAgICAgb3AgPSBbMF07XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBvcCA9IF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSAwIDwgdC5sZW5ndGggJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAoNiA9PT0gb3BbMF0gfHwgMiA9PT0gb3BbMF0pKSB7XG4gICAgICAgICAgICAgIF8gPSAwO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgzID09PSBvcFswXSAmJiAoIXQgfHwgb3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpIHtcbiAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKDYgPT09IG9wWzBdICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMV0sIHQgPSBvcDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMl0sIF8ub3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0WzJdICYmIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIG9wID0gWzYsIGVdLCB5ID0gMDtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGYgPSB0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wWzBdICYgNSkge1xuICAgICAgdGhyb3cgb3BbMV07XG4gICAgfVxuICAgIHJldHVybiB7dmFsdWU6b3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTohMH07XG4gIH1cbiAgdmFyIF8gPSB7bGFiZWw6MCwgc2VudDpmdW5jdGlvbigpIHtcbiAgICBpZiAodFswXSAmIDEpIHtcbiAgICAgIHRocm93IHRbMV07XG4gICAgfVxuICAgIHJldHVybiB0WzFdO1xuICB9LCB0cnlzOltdLCBvcHM6W119LCBmLCB5LCB0LCBnO1xuICByZXR1cm4gZyA9IHtuZXh0OnZlcmIoMCksIFwidGhyb3dcIjp2ZXJiKDEpLCBcInJldHVyblwiOnZlcmIoMil9LCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnO1xuICB9KSwgZztcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2V4cG9ydFN0YXIgPSBmdW5jdGlvbihtLCBlKSB7XG4gIGZvciAodmFyIHAgaW4gbSkge1xuICAgIGUuaGFzT3duUHJvcGVydHkocCkgfHwgKGVbcF0gPSBtW3BdKTtcbiAgfVxufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fdmFsdWVzID0gZnVuY3Rpb24obykge1xuICB2YXIgbSA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xuICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IHtuZXh0OmZ1bmN0aW9uKCkge1xuICAgIG8gJiYgaSA+PSBvLmxlbmd0aCAmJiAobyA9IHZvaWQgMCk7XG4gICAgcmV0dXJuIHt2YWx1ZTpvICYmIG9baSsrXSwgZG9uZTohb307XG4gIH19O1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fcmVhZCA9IGZ1bmN0aW9uKG8sIG4pIHtcbiAgdmFyIG0gPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHtcbiAgICByZXR1cm4gbztcbiAgfVxuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXTtcbiAgdHJ5IHtcbiAgICBmb3IgKDsgKHZvaWQgMCA9PT0gbiB8fCAwIDwgbi0tKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZTspIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHZhciBlID0ge2Vycm9yOmVycm9yfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgciAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkgJiYgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkge1xuICAgICAgICB0aHJvdyBlLmVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gYXI7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19zcHJlYWQgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhciA9IGFyLmNvbmNhdChtb2R1bGUkZXhwb3J0cyR0c2xpYi5fX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIH1cbiAgcmV0dXJuIGFyO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fc3ByZWFkQXJyYXlzID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgfVxuICB2YXIgciA9IEFycmF5KHMpLCBrID0gMDtcbiAgZm9yIChpID0gMDsgaSA8IGlsOyBpKyspIHtcbiAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKykge1xuICAgICAgcltrXSA9IGFbal07XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fc3ByZWFkQXJyYXkgPSBmdW5jdGlvbih0bywgZnJvbSkge1xuICBpZiAoIShBcnJheS5pc0FycmF5KGZyb20pIHx8IGZyb20gaW5zdGFuY2VvZiBOb2RlTGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYW4gQXJyYXkgb3IgTm9kZUxpc3Q6IFwiICsgU3RyaW5nKGZyb20pKTtcbiAgfVxuICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKykge1xuICAgIHRvW2pdID0gZnJvbVtpXTtcbiAgfVxuICByZXR1cm4gdG87XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19hd2FpdCA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IG1vZHVsZSRleHBvcnRzJHRzbGliLl9fYXdhaXQodik7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19hc3luY0dlbmVyYXRvciA9IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIHZlcmIobikge1xuICAgIGdbbl0gJiYgKGlbbl0gPSBmdW5jdGlvbih2KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAxIDwgcS5wdXNoKFtuLCB2LCBhLCBiXSkgfHwgcmVzdW1lKG4sIHYpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHtcbiAgICB0cnkge1xuICAgICAgc3RlcChnW25dKHYpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzZXR0bGUocVswXVszXSwgZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHN0ZXAocikge1xuICAgIHIudmFsdWUgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpO1xuICB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHtcbiAgICByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHtcbiAgICByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHtcbiAgICAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgJiYgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pO1xuICB9XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB9XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sIGk7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19hc3luY0RlbGVnYXRvciA9IGZ1bmN0aW9uKG8pIHtcbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7XG4gICAgb1tuXSAmJiAoaVtuXSA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiAocCA9ICFwKSA/IHt2YWx1ZTpuZXcgbW9kdWxlJGV4cG9ydHMkdHNsaWIuX19hd2FpdChvW25dKHYpKSwgZG9uZTpcInJldHVyblwiID09PSBufSA6IGYgPyBmKHYpIDogdjtcbiAgICB9KTtcbiAgfVxuICB2YXIgaSwgcDtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbihlKSB7XG4gICAgdGhyb3cgZTtcbiAgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpO1xuICB9LCBpO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fYXN5bmNWYWx1ZXMgPSBmdW5jdGlvbihvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB9XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl07XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX192YWx1ZXMgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fbWFrZVRlbXBsYXRlT2JqZWN0ID0gZnVuY3Rpb24oY29va2VkLCByYXcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5ID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwge3ZhbHVlOnJhd30pIDogY29va2VkLnJhdyA9IHJhdztcbiAgcmV0dXJuIGNvb2tlZDtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gZnVuY3Rpb24ocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcbiAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcbiAgfVxuICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSBmdW5jdGlvbihyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcbiAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcbiAgfVxuICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfbW9kdWxlID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfbW9kdWxlIHx8IHtpZDpcImphdmFzY3JpcHQvdHlwZXNjcmlwdC9jb250cmliL2FwaWNsaWVudC9jb3JlL2RvbWFpbl9vYmplY3QuY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuT2JqZWN0TWFwTWV0YWRhdGEgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9PYmplY3RNYXBNZXRhZGF0YSgpIHtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfUHJpbWl0aXZlO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5DbGFzc01ldGFkYXRhID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfQ2xhc3NNZXRhZGF0YSgpIHtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfTnVsbENsYXNzID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5OVUxMX1ZBTFVFID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X051bGxDbGFzcygpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5JU2VyaWFsaXphYmxlID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfSVNlcmlhbGl6YWJsZSgpIHtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9idWlsZENsYXNzTWV0YWRhdGFGcm9tUGFydGlhbChwYXJ0aWFsQ2xhc3NNZXRhZGF0YSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7YXJyYXlzOnt9LCBkZXNjcmlwdGlvbnM6e30sIGtleXM6W10sIG9iamVjdE1hcHM6e30sIG9iamVjdHM6e30sIGVudW1zOnt9LCBlbXB0eUFycmF5SXNVbnNldDohMX0sIHBhcnRpYWxDbGFzc01ldGFkYXRhKTtcbn1cbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuYnVpbGRDbGFzc01ldGFkYXRhRnJvbVBhcnRpYWwgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9idWlsZENsYXNzTWV0YWRhdGFGcm9tUGFydGlhbDtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHZhbHVlcyA9IHt9O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLnByb3RvdHlwZS5nZXRDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9idWlsZENsYXNzTWV0YWRhdGFGcm9tUGFydGlhbCh0aGlzLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhKCkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLnByb3RvdHlwZS5TZXJpYWxpemFibGUkZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSR2YWx1ZXMuaGFzT3duUHJvcGVydHkoa2V5KSA/IHRoaXMuU2VyaWFsaXphYmxlJHZhbHVlc1trZXldIDogbnVsbDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5wcm90b3R5cGUuU2VyaWFsaXphYmxlJHNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkdmFsdWVzW2tleV0gPSB2YWx1ZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5wcm90b3R5cGUuU2VyaWFsaXphYmxlJGhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gbnVsbCAhPSB0aGlzLlNlcmlhbGl6YWJsZSR2YWx1ZXNba2V5XTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZUN0b3IgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9TZXJpYWxpemFibGVDdG9yKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuY2xvbmUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9jbG9uZShzZXJpYWxpemFibGUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKHNlcmlhbGl6YWJsZS5nZXRDb25zdHJ1Y3RvcigpLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemUoc2VyaWFsaXphYmxlKSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5pc0VtcHR5ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfaXNFbXB0eShzZXJpYWxpemFibGUpIHtcbiAgcmV0dXJuICFPYmplY3Qua2V5cyhtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemUoc2VyaWFsaXphYmxlKSkubGVuZ3RoO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZShzZXJpYWxpemFibGUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5KHNlcmlhbGl6YWJsZSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplR2V0dGVyLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemVTZXR0ZXIsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZUluc3RhbmNpYXRvcik7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LnNlcmlhbGl6ZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZUdldHRlcihrZXksIG9iaikge1xuICByZXR1cm4gb2JqLlNlcmlhbGl6YWJsZSRnZXQoa2V5KTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZVNldHRlcihrZXksIG9iaiwgdmFsdWUpIHtcbiAgb2JqW2tleV0gPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZUluc3RhbmNpYXRvcihjdG9yKSB7XG4gIHJldHVybiB7fTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKHR5cGUsIHJhdykge1xuICB2YXIgcmVzdWx0ID0gbmV3IHR5cGUoKTtcbiAgcmV0dXJuIG51bGwgPT0gcmF3ID8gcmVzdWx0IDogbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHkocmF3LCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZUdldHRlciwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemVTZXR0ZXIsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplSW5zdGFuY2lhdG9yLCB0eXBlKTtcbn1cbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuZGVzZXJpYWxpemUgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplR2V0dGVyKGtleSwgb2JqKSB7XG4gIHJldHVybiBvYmpba2V5XTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplU2V0dGVyKGtleSwgb2JqLCB2YWx1ZSkge1xuICBvYmouU2VyaWFsaXphYmxlJHNldChrZXksIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplSW5zdGFuY2lhdG9yKGN0b3IpIHtcbiAgaWYgKG51bGwgPT0gY3Rvcikge1xuICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGRlc2VyaWFsaXplLCB0YXJnZXQgY29uc3RydWN0b3Igd2FzIG51bGwuXCIpO1xuICB9XG4gIHJldHVybiBuZXcgY3RvcigpO1xufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5zdHJpY3REZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3N0cmljdERlc2VyaWFsaXplKHR5cGUsIHJhdykge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUodHlwZSwgcmF3KTtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfQ29weVZhbHVlR2V0dGVyLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9Db3B5VmFsdWVTZXR0ZXIsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X0NvcHlDb25zdHJ1Y3RvciwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfQ29weUluc3RhbmNpYXRvcjtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5KHNvdXJjZSwgdmFsdWVHZXR0ZXIsIHZhbHVlU2V0dGVyLCBjb3B5SW5zdGFuY2lhdG9yLCB0YXJnZXRDb25zdHJ1Y3Rvcikge1xuICBmb3IgKHZhciB0YXJnZXQgPSBjb3B5SW5zdGFuY2lhdG9yKHRhcmdldENvbnN0cnVjdG9yKSwgbWV0YWRhdGEgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weU1ldGFkYXRhKHNvdXJjZSwgdGFyZ2V0KSwgYXJyYXlzID0gbWV0YWRhdGEuYXJyYXlzIHx8IHt9LCBvYmplY3RzID0gbWV0YWRhdGEub2JqZWN0cyB8fCB7fSwgb2JqZWN0TWFwcyA9IG1ldGFkYXRhLm9iamVjdE1hcHMgfHwge30sICRqc2NvbXAkbG9vcCQ3MSA9IHt9LCAkanNjb21wJGl0ZXIkNiA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKG1ldGFkYXRhLmtleXMgfHwgW10pLCAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkNi5uZXh0KCk7ICEkanNjb21wJGtleSRrZXkuZG9uZTsgJGpzY29tcCRsb29wJDcxID0geyRqc2NvbXAkbG9vcCRwcm9wJG1hcE1ldGFkYXRhJDcyOiRqc2NvbXAkbG9vcCQ3MS4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3Mn0sIFxuICAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkNi5uZXh0KCkpIHtcbiAgICB2YXIga2V5ID0gJGpzY29tcCRrZXkka2V5LnZhbHVlLCB2YWx1ZSA9IHZhbHVlR2V0dGVyKGtleSwgc291cmNlKTtcbiAgICBpZiAobnVsbCAhPSB2YWx1ZSkge1xuICAgICAgdmFyIGNvcHkgPSB2b2lkIDA7XG4gICAgICBpZiAoYXJyYXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgaWYgKG1ldGFkYXRhLmVtcHR5QXJyYXlJc1Vuc2V0ICYmIDAgPT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvcHkgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weVZhbHVlKHZhbHVlLCB2YWx1ZUdldHRlciwgdmFsdWVTZXR0ZXIsIGNvcHlJbnN0YW5jaWF0b3IsICEwLCAhMCwgYXJyYXlzW2tleV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG9iamVjdHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGNvcHkgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weVZhbHVlKHZhbHVlLCB2YWx1ZUdldHRlciwgdmFsdWVTZXR0ZXIsIGNvcHlJbnN0YW5jaWF0b3IsICExLCAhMCwgb2JqZWN0c1trZXldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAob2JqZWN0TWFwcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAkanNjb21wJGxvb3AkNzEuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzIgPSBvYmplY3RNYXBzW2tleV0sIGNvcHkgPSAkanNjb21wJGxvb3AkNzEuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzIuaXNQcm9wZXJ0eUFycmF5ID8gdmFsdWUubWFwKGZ1bmN0aW9uKCRqc2NvbXAkbG9vcCQ3MSkge1xuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weU9iamVjdE1hcCh2LCAkanNjb21wJGxvb3AkNzEuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzIsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvcik7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KCRqc2NvbXAkbG9vcCQ3MSkpIDogbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHlPYmplY3RNYXAodmFsdWUsICRqc2NvbXAkbG9vcCQ3MS4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3MiwgdmFsdWVHZXR0ZXIsIHZhbHVlU2V0dGVyLCBjb3B5SW5zdGFuY2lhdG9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgIGlmIChtZXRhZGF0YS5lbXB0eUFycmF5SXNVbnNldCAmJiAwID09PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb3B5ID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHlWYWx1ZSh2YWx1ZSwgdmFsdWVHZXR0ZXIsIHZhbHVlU2V0dGVyLCBjb3B5SW5zdGFuY2lhdG9yLCAhMCwgITEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29weSA9IHZhbHVlIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfTnVsbENsYXNzID8gbnVsbCA6IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFsdWVTZXR0ZXIoa2V5LCB0YXJnZXQsIGNvcHkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHlPYmplY3RNYXAodmFsdWUsIG1hcE1ldGFkYXRhLCB2YWx1ZUdldHRlciwgdmFsdWVTZXR0ZXIsIGNvcHlJbnN0YW5jaWF0b3IpIHtcbiAgZm9yICh2YXIgb2JqTWFwID0ge30sICRqc2NvbXAkaXRlciQ3ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmtleXModmFsdWUpKSwgJGpzY29tcCRrZXkkbWFwS2V5ID0gJGpzY29tcCRpdGVyJDcubmV4dCgpOyAhJGpzY29tcCRrZXkkbWFwS2V5LmRvbmU7ICRqc2NvbXAka2V5JG1hcEtleSA9ICRqc2NvbXAkaXRlciQ3Lm5leHQoKSkge1xuICAgIHZhciBtYXBLZXkgPSAkanNjb21wJGtleSRtYXBLZXkudmFsdWUsIG1hcFZhbHVlID0gdmFsdWVbbWFwS2V5XTtcbiAgICBudWxsICE9IG1hcFZhbHVlICYmIChvYmpNYXBbbWFwS2V5XSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5VmFsdWUobWFwVmFsdWUsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvciwgbWFwTWV0YWRhdGEuaXNWYWx1ZUFycmF5LCBtYXBNZXRhZGF0YS5pc1NlcmlhbGl6YWJsZSwgbWFwTWV0YWRhdGEuY3RvcikpO1xuICB9XG4gIHJldHVybiBvYmpNYXA7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weVZhbHVlKHZhbHVlLCB2YWx1ZUdldHRlciwgdmFsdWVTZXR0ZXIsIGNvcHlJbnN0YW5jaWF0b3IsIGlzQXJyYXksIGlzUmVmLCBjdG9yKSB7XG4gIGlmIChpc1JlZiAmJiBudWxsID09IGN0b3IpIHtcbiAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBkZXNlcmlhbGl6ZSBhIHJlZmVyZW5jZSBvYmplY3Qgd2l0aG91dCBhIGNvbnN0cnVjdG9yLlwiKTtcbiAgfVxuICByZXR1cm4gbnVsbCA9PSB2YWx1ZSA/IHZhbHVlIDogaXNBcnJheSAmJiBpc1JlZiA/IHZhbHVlLm1hcChmdW5jdGlvbih2KSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5KHYsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvciwgY3Rvcik7XG4gIH0pIDogaXNBcnJheSAmJiAhaXNSZWYgPyB2YWx1ZS5tYXAoZnVuY3Rpb24odikge1xuICAgIHJldHVybiB2O1xuICB9KSA6ICFpc0FycmF5ICYmIGlzUmVmID8gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHkodmFsdWUsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvciwgY3RvcikgOiB2YWx1ZSBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X051bGxDbGFzcyA/IG51bGwgOiBcIm9iamVjdFwiID09PSB0eXBlb2YgdmFsdWUgPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlKSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5TWV0YWRhdGEoc291cmNlLCB0YXJnZXQpIHtcbiAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKSB7XG4gICAgdmFyIG1ldGFkYXRhID0gdGFyZ2V0LmdldENsYXNzTWV0YWRhdGEoKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpIHtcbiAgICAgIG1ldGFkYXRhID0gc291cmNlLmdldENsYXNzTWV0YWRhdGEoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBDbGFzc01ldGFkYXRhLlwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1ldGFkYXRhO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFscyhzZXJpYWxpemFibGUxLCBzZXJpYWxpemFibGUyKSB7XG4gIHZhciBtZXRhZGF0YTEgPSBzZXJpYWxpemFibGUxLmdldENsYXNzTWV0YWRhdGEoKSwga2V5czEgPSBtZXRhZGF0YTEua2V5cyB8fCBbXSwgYXJyYXlzMSA9IG1ldGFkYXRhMS5hcnJheXMgfHwge30sIG9iamVjdHMxID0gbWV0YWRhdGExLm9iamVjdHMgfHwge30sIG9iamVjdE1hcHMxID0gbWV0YWRhdGExLm9iamVjdE1hcHMgfHwge30sIG1ldGFkYXRhMiA9IHNlcmlhbGl6YWJsZTIuZ2V0Q2xhc3NNZXRhZGF0YSgpLCBhcnJheXMyID0gbWV0YWRhdGEyLmFycmF5cyB8fCB7fSwgb2JqZWN0czIgPSBtZXRhZGF0YTIub2JqZWN0cyB8fCB7fSwgb2JqZWN0TWFwczIgPSBtZXRhZGF0YTIub2JqZWN0TWFwcyB8fCB7fTtcbiAgaWYgKCEobW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2FtZUtleXMoa2V5czEsIG1ldGFkYXRhMi5rZXlzIHx8IFtdKSAmJiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zYW1lS2V5cyhhcnJheXMxLCBhcnJheXMyKSAmJiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zYW1lS2V5cyhvYmplY3RzMSwgb2JqZWN0czIpICYmIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NhbWVLZXlzKG9iamVjdE1hcHMxLCBvYmplY3RNYXBzMikpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGZvciAodmFyICRqc2NvbXAkbG9vcCQ3MyA9IHt9LCAkanNjb21wJGl0ZXIkOCA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKGtleXMxKSwgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDgubmV4dCgpOyAhJGpzY29tcCRrZXkka2V5LmRvbmU7ICRqc2NvbXAkbG9vcCQ3MyA9IHskanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzQ6JGpzY29tcCRsb29wJDczLiRqc2NvbXAkbG9vcCRwcm9wJHZhbHVlMiQ3NCwgJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzU6JGpzY29tcCRsb29wJDczLiRqc2NvbXAkbG9vcCRwcm9wJG1hcE1ldGFkYXRhJDc1fSwgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDgubmV4dCgpKSB7XG4gICAgdmFyIGtleSA9ICRqc2NvbXAka2V5JGtleS52YWx1ZSwgaGFzMSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2hhc0FuZElzTm90RW1wdHlBcnJheShzZXJpYWxpemFibGUxLCBrZXksIG1ldGFkYXRhMSksIGhhczIgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9oYXNBbmRJc05vdEVtcHR5QXJyYXkoc2VyaWFsaXphYmxlMiwga2V5LCBtZXRhZGF0YTIpO1xuICAgIGlmIChoYXMxICE9PSBoYXMyKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGlmIChoYXMxKSB7XG4gICAgICB2YXIgdmFsdWUxID0gc2VyaWFsaXphYmxlMS5TZXJpYWxpemFibGUkZ2V0KGtleSk7XG4gICAgICAkanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkdmFsdWUyJDc0ID0gc2VyaWFsaXphYmxlMi5TZXJpYWxpemFibGUkZ2V0KGtleSk7XG4gICAgICBpZiAoYXJyYXlzMS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFsc1ZhbHVlKHZhbHVlMSwgJGpzY29tcCRsb29wJDczLiRqc2NvbXAkbG9vcCRwcm9wJHZhbHVlMiQ3NCwgITAsICEwKSkge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG9iamVjdHMxLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNWYWx1ZSh2YWx1ZTEsICRqc2NvbXAkbG9vcCQ3My4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzQsICExLCAhMCkpIHtcbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG9iamVjdE1hcHMxLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGlmICgkanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzUgPSBvYmplY3RNYXBzMVtrZXldLCAkanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzUuaXNQcm9wZXJ0eUFycmF5KSB7XG4gICAgICAgICAgICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2FtZUtleXModmFsdWUxLCAkanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkdmFsdWUyJDc0KSB8fCB2YWx1ZTEuc29tZShmdW5jdGlvbigkanNjb21wJGxvb3AkNzMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odjEsIGkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAhbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFsc09iamVjdE1hcCh2MSwgJGpzY29tcCRsb29wJDczLiRqc2NvbXAkbG9vcCRwcm9wJHZhbHVlMiQ3NFtpXSwgJGpzY29tcCRsb29wJDczLiRqc2NvbXAkbG9vcCRwcm9wJG1hcE1ldGFkYXRhJDc1KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KCRqc2NvbXAkbG9vcCQ3MykpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNPYmplY3RNYXAodmFsdWUxLCAkanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkdmFsdWUyJDc0LCAkanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlMSkpIHtcbiAgICAgICAgICAgICAgaWYgKCFtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzVmFsdWUodmFsdWUxLCAkanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkdmFsdWUyJDc0LCAhMCwgITEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNWYWx1ZSh2YWx1ZTEsICRqc2NvbXAkbG9vcCQ3My4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzQsICExLCAhMSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5kZWVwRXF1YWxzID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFscztcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2hhc0FuZElzTm90RW1wdHlBcnJheShzZXJpYWxpemFibGUsIGtleSwgbWV0YWRhdGEpIHtcbiAgaWYgKCFzZXJpYWxpemFibGUuU2VyaWFsaXphYmxlJGhhcyhrZXkpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGlmICghbWV0YWRhdGEuZW1wdHlBcnJheUlzVW5zZXQpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgdmFyIHZhbHVlID0gc2VyaWFsaXphYmxlLlNlcmlhbGl6YWJsZSRnZXQoa2V5KTtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gMCAhPT0gdmFsdWUubGVuZ3RoIDogITA7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzT2JqZWN0TWFwKHZhbHVlMSwgdmFsdWUyLCBtYXBNZXRhZGF0YSkge1xuICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NhbWVLZXlzKHZhbHVlMSwgdmFsdWUyKSkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICBmb3IgKHZhciAkanNjb21wJGl0ZXIkOSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5rZXlzKHZhbHVlMSkpLCAkanNjb21wJGtleSRtYXBLZXkgPSAkanNjb21wJGl0ZXIkOS5uZXh0KCk7ICEkanNjb21wJGtleSRtYXBLZXkuZG9uZTsgJGpzY29tcCRrZXkkbWFwS2V5ID0gJGpzY29tcCRpdGVyJDkubmV4dCgpKSB7XG4gICAgdmFyIG1hcEtleSA9ICRqc2NvbXAka2V5JG1hcEtleS52YWx1ZTtcbiAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNWYWx1ZSh2YWx1ZTFbbWFwS2V5XSwgdmFsdWUyW21hcEtleV0sIG1hcE1ldGFkYXRhLmlzVmFsdWVBcnJheSwgbWFwTWV0YWRhdGEuaXNTZXJpYWxpemFibGUpKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNWYWx1ZSh2YWx1ZTEsIHZhbHVlMiwgaXNBcnJheSwgaXNTZXJpYWxpemFibGUpIHtcbiAgaWYgKG51bGwgPT0gdmFsdWUxICYmIG51bGwgPT0gdmFsdWUyKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIGlmIChpc0FycmF5ICYmIGlzU2VyaWFsaXphYmxlKSB7XG4gICAgaWYgKCFtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zYW1lS2V5cyh2YWx1ZTEsIHZhbHVlMikgfHwgdmFsdWUxLnNvbWUoZnVuY3Rpb24odjEsIGkpIHtcbiAgICAgIHJldHVybiAhbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFscyh2MSwgdmFsdWUyW2ldKTtcbiAgICB9KSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNBcnJheSAmJiAhaXNTZXJpYWxpemFibGUpIHtcbiAgICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2FtZUtleXModmFsdWUxLCB2YWx1ZTIpIHx8IHZhbHVlMS5zb21lKGZ1bmN0aW9uKHYsIGkpIHtcbiAgICAgICAgcmV0dXJuIHYgIT09IHZhbHVlMltpXTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB2YWx1ZTEpIHtcbiAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHZhbHVlMSkgIT09IEpTT04uc3RyaW5naWZ5KHZhbHVlMikpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh2YWx1ZTEgIT09IHZhbHVlMikge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zYW1lS2V5cyhhLCBiKSB7XG4gIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIgfHwgQXJyYXkuaXNBcnJheShhKSAhPT0gQXJyYXkuaXNBcnJheShiKSkge1xuICAgIHRocm93IEVycm9yKFwiVHlwZXMgYXJlIG5vdCBjb21wYXJhYmxlLlwiKTtcbiAgfVxuICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKSwgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcbiAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIEFycmF5LmlzQXJyYXkoYSkgfHwgKGFLZXlzLnNvcnQoKSwgYktleXMuc29ydCgpKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhS2V5c1tpXSAhPT0gYktleXNbaV0pIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5zZXJpYWxpemFibGVFcXVhbGl0eVRlc3RlciA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6YWJsZUVxdWFsaXR5VGVzdGVyKGxlZnQsIHJpZ2h0KSB7XG4gIGlmIChsZWZ0IGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUgJiYgcmlnaHQgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSkge1xuICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzKGxlZnQsIHJpZ2h0KTtcbiAgfVxufTtcbmdvb2cuZG9tLmFzc2VydHMgPSB7fTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNMb2NhdGlvbiA9IGZ1bmN0aW9uKG8pIHtcbiAgaWYgKGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUykge1xuICAgIHZhciB3aW4gPSBnb29nLmRvbS5hc3NlcnRzLmdldFdpbmRvd18obyk7XG4gICAgd2luICYmICghbyB8fCAhKG8gaW5zdGFuY2VvZiB3aW4uTG9jYXRpb24pICYmIG8gaW5zdGFuY2VvZiB3aW4uRWxlbWVudCkgJiYgZ29vZy5hc3NlcnRzLmZhaWwoXCJBcmd1bWVudCBpcyBub3QgYSBMb2NhdGlvbiAob3IgYSBub24tRWxlbWVudCBtb2NrKTsgZ290OiAlc1wiLCBnb29nLmRvbS5hc3NlcnRzLmRlYnVnU3RyaW5nRm9yVHlwZV8obykpO1xuICB9XG4gIHJldHVybiBvO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNFbGVtZW50VHlwZV8gPSBmdW5jdGlvbihvLCB0eXBlbmFtZSkge1xuICBpZiAoZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTKSB7XG4gICAgdmFyIHdpbiA9IGdvb2cuZG9tLmFzc2VydHMuZ2V0V2luZG93XyhvKTtcbiAgICB3aW4gJiYgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luW3R5cGVuYW1lXSAmJiAobyAmJiAobyBpbnN0YW5jZW9mIHdpblt0eXBlbmFtZV0gfHwgIShvIGluc3RhbmNlb2Ygd2luLkxvY2F0aW9uIHx8IG8gaW5zdGFuY2VvZiB3aW4uRWxlbWVudCkpIHx8IGdvb2cuYXNzZXJ0cy5mYWlsKFwiQXJndW1lbnQgaXMgbm90IGEgJXMgKG9yIGEgbm9uLUVsZW1lbnQsIG5vbi1Mb2NhdGlvbiBtb2NrKTsgZ290OiAlc1wiLCB0eXBlbmFtZSwgZ29vZy5kb20uYXNzZXJ0cy5kZWJ1Z1N0cmluZ0ZvclR5cGVfKG8pKSk7XG4gIH1cbiAgcmV0dXJuIG87XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxBbmNob3JFbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxBbmNob3JFbGVtZW50XCIpO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MQnV0dG9uRWxlbWVudCA9IGZ1bmN0aW9uKG8pIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNFbGVtZW50VHlwZV8obywgXCJIVE1MQnV0dG9uRWxlbWVudFwiKTtcbn07XG5nb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTExpbmtFbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxMaW5rRWxlbWVudFwiKTtcbn07XG5nb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTEltYWdlRWxlbWVudCA9IGZ1bmN0aW9uKG8pIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNFbGVtZW50VHlwZV8obywgXCJIVE1MSW1hZ2VFbGVtZW50XCIpO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MQXVkaW9FbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxBdWRpb0VsZW1lbnRcIik7XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxWaWRlb0VsZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gIHJldHVybiBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzRWxlbWVudFR5cGVfKG8sIFwiSFRNTFZpZGVvRWxlbWVudFwiKTtcbn07XG5nb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTElucHV0RWxlbWVudCA9IGZ1bmN0aW9uKG8pIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNFbGVtZW50VHlwZV8obywgXCJIVE1MSW5wdXRFbGVtZW50XCIpO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MVGV4dEFyZWFFbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxUZXh0QXJlYUVsZW1lbnRcIik7XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxDYW52YXNFbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxDYW52YXNFbGVtZW50XCIpO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MRW1iZWRFbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxFbWJlZEVsZW1lbnRcIik7XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxGb3JtRWxlbWVudCA9IGZ1bmN0aW9uKG8pIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNFbGVtZW50VHlwZV8obywgXCJIVE1MRm9ybUVsZW1lbnRcIik7XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxGcmFtZUVsZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gIHJldHVybiBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzRWxlbWVudFR5cGVfKG8sIFwiSFRNTEZyYW1lRWxlbWVudFwiKTtcbn07XG5nb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTElGcmFtZUVsZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gIHJldHVybiBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzRWxlbWVudFR5cGVfKG8sIFwiSFRNTElGcmFtZUVsZW1lbnRcIik7XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxPYmplY3RFbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxPYmplY3RFbGVtZW50XCIpO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MU2NyaXB0RWxlbWVudCA9IGZ1bmN0aW9uKG8pIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNFbGVtZW50VHlwZV8obywgXCJIVE1MU2NyaXB0RWxlbWVudFwiKTtcbn07XG5nb29nLmRvbS5hc3NlcnRzLmRlYnVnU3RyaW5nRm9yVHlwZV8gPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoZ29vZy5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHZhbHVlLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8IHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gXCI8b2JqZWN0IGNvdWxkIG5vdCBiZSBzdHJpbmdpZmllZD5cIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZvaWQgMCA9PT0gdmFsdWUgPyBcInVuZGVmaW5lZFwiIDogbnVsbCA9PT0gdmFsdWUgPyBcIm51bGxcIiA6IHR5cGVvZiB2YWx1ZTtcbiAgfVxufTtcbmdvb2cuZG9tLmFzc2VydHMuZ2V0V2luZG93XyA9IGZ1bmN0aW9uKG8pIHtcbiAgdHJ5IHtcbiAgICB2YXIgZG9jID0gbyAmJiBvLm93bmVyRG9jdW1lbnQsIHdpbiA9IGRvYyAmJiAoZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3cpO1xuICAgIHdpbiA9IHdpbiB8fCBnb29nLmdsb2JhbDtcbiAgICBpZiAod2luLkVsZW1lbnQgJiYgd2luLkxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gd2luO1xuICAgIH1cbiAgfSBjYXRjaCAoZXgpIHtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLmRvbS5IdG1sRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuZG9tLlRhZ05hbWUgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmRvbS5UYWdOYW1lLmNhc3QgPSBmdW5jdGlvbihuYW1lLCB0eXBlKSB7XG4gIHJldHVybiBuYW1lO1xufTtcbmdvb2cuZG9tLlRhZ05hbWUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5kb20uVGFnTmFtZS5BID0gXCJBXCI7XG5nb29nLmRvbS5UYWdOYW1lLkFCQlIgPSBcIkFCQlJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQUNST05ZTSA9IFwiQUNST05ZTVwiO1xuZ29vZy5kb20uVGFnTmFtZS5BRERSRVNTID0gXCJBRERSRVNTXCI7XG5nb29nLmRvbS5UYWdOYW1lLkFQUExFVCA9IFwiQVBQTEVUXCI7XG5nb29nLmRvbS5UYWdOYW1lLkFSRUEgPSBcIkFSRUFcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQVJUSUNMRSA9IFwiQVJUSUNMRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5BU0lERSA9IFwiQVNJREVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQVVESU8gPSBcIkFVRElPXCI7XG5nb29nLmRvbS5UYWdOYW1lLkIgPSBcIkJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQkFTRSA9IFwiQkFTRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5CQVNFRk9OVCA9IFwiQkFTRUZPTlRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQkRJID0gXCJCRElcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQkRPID0gXCJCRE9cIjtcbmdvb2cuZG9tLlRhZ05hbWUuQklHID0gXCJCSUdcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQkxPQ0tRVU9URSA9IFwiQkxPQ0tRVU9URVwiO1xuZ29vZy5kb20uVGFnTmFtZS5CT0RZID0gXCJCT0RZXCI7XG5nb29nLmRvbS5UYWdOYW1lLkJSID0gXCJCUlwiO1xuZ29vZy5kb20uVGFnTmFtZS5CVVRUT04gPSBcIkJVVFRPTlwiO1xuZ29vZy5kb20uVGFnTmFtZS5DQU5WQVMgPSBcIkNBTlZBU1wiO1xuZ29vZy5kb20uVGFnTmFtZS5DQVBUSU9OID0gXCJDQVBUSU9OXCI7XG5nb29nLmRvbS5UYWdOYW1lLkNFTlRFUiA9IFwiQ0VOVEVSXCI7XG5nb29nLmRvbS5UYWdOYW1lLkNJVEUgPSBcIkNJVEVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQ09ERSA9IFwiQ09ERVwiO1xuZ29vZy5kb20uVGFnTmFtZS5DT0wgPSBcIkNPTFwiO1xuZ29vZy5kb20uVGFnTmFtZS5DT0xHUk9VUCA9IFwiQ09MR1JPVVBcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQ09NTUFORCA9IFwiQ09NTUFORFwiO1xuZ29vZy5kb20uVGFnTmFtZS5EQVRBID0gXCJEQVRBXCI7XG5nb29nLmRvbS5UYWdOYW1lLkRBVEFMSVNUID0gXCJEQVRBTElTVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5ERCA9IFwiRERcIjtcbmdvb2cuZG9tLlRhZ05hbWUuREVMID0gXCJERUxcIjtcbmdvb2cuZG9tLlRhZ05hbWUuREVUQUlMUyA9IFwiREVUQUlMU1wiO1xuZ29vZy5kb20uVGFnTmFtZS5ERk4gPSBcIkRGTlwiO1xuZ29vZy5kb20uVGFnTmFtZS5ESUFMT0cgPSBcIkRJQUxPR1wiO1xuZ29vZy5kb20uVGFnTmFtZS5ESVIgPSBcIkRJUlwiO1xuZ29vZy5kb20uVGFnTmFtZS5ESVYgPSBcIkRJVlwiO1xuZ29vZy5kb20uVGFnTmFtZS5ETCA9IFwiRExcIjtcbmdvb2cuZG9tLlRhZ05hbWUuRFQgPSBcIkRUXCI7XG5nb29nLmRvbS5UYWdOYW1lLkVNID0gXCJFTVwiO1xuZ29vZy5kb20uVGFnTmFtZS5FTUJFRCA9IFwiRU1CRURcIjtcbmdvb2cuZG9tLlRhZ05hbWUuRklFTERTRVQgPSBcIkZJRUxEU0VUXCI7XG5nb29nLmRvbS5UYWdOYW1lLkZJR0NBUFRJT04gPSBcIkZJR0NBUFRJT05cIjtcbmdvb2cuZG9tLlRhZ05hbWUuRklHVVJFID0gXCJGSUdVUkVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuRk9OVCA9IFwiRk9OVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5GT09URVIgPSBcIkZPT1RFUlwiO1xuZ29vZy5kb20uVGFnTmFtZS5GT1JNID0gXCJGT1JNXCI7XG5nb29nLmRvbS5UYWdOYW1lLkZSQU1FID0gXCJGUkFNRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5GUkFNRVNFVCA9IFwiRlJBTUVTRVRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSDEgPSBcIkgxXCI7XG5nb29nLmRvbS5UYWdOYW1lLkgyID0gXCJIMlwiO1xuZ29vZy5kb20uVGFnTmFtZS5IMyA9IFwiSDNcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSDQgPSBcIkg0XCI7XG5nb29nLmRvbS5UYWdOYW1lLkg1ID0gXCJINVwiO1xuZ29vZy5kb20uVGFnTmFtZS5INiA9IFwiSDZcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSEVBRCA9IFwiSEVBRFwiO1xuZ29vZy5kb20uVGFnTmFtZS5IRUFERVIgPSBcIkhFQURFUlwiO1xuZ29vZy5kb20uVGFnTmFtZS5IR1JPVVAgPSBcIkhHUk9VUFwiO1xuZ29vZy5kb20uVGFnTmFtZS5IUiA9IFwiSFJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSFRNTCA9IFwiSFRNTFwiO1xuZ29vZy5kb20uVGFnTmFtZS5JID0gXCJJXCI7XG5nb29nLmRvbS5UYWdOYW1lLklGUkFNRSA9IFwiSUZSQU1FXCI7XG5nb29nLmRvbS5UYWdOYW1lLklNRyA9IFwiSU1HXCI7XG5nb29nLmRvbS5UYWdOYW1lLklOUFVUID0gXCJJTlBVVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5JTlMgPSBcIklOU1wiO1xuZ29vZy5kb20uVGFnTmFtZS5JU0lOREVYID0gXCJJU0lOREVYXCI7XG5nb29nLmRvbS5UYWdOYW1lLktCRCA9IFwiS0JEXCI7XG5nb29nLmRvbS5UYWdOYW1lLktFWUdFTiA9IFwiS0VZR0VOXCI7XG5nb29nLmRvbS5UYWdOYW1lLkxBQkVMID0gXCJMQUJFTFwiO1xuZ29vZy5kb20uVGFnTmFtZS5MRUdFTkQgPSBcIkxFR0VORFwiO1xuZ29vZy5kb20uVGFnTmFtZS5MSSA9IFwiTElcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTElOSyA9IFwiTElOS1wiO1xuZ29vZy5kb20uVGFnTmFtZS5NQUlOID0gXCJNQUlOXCI7XG5nb29nLmRvbS5UYWdOYW1lLk1BUCA9IFwiTUFQXCI7XG5nb29nLmRvbS5UYWdOYW1lLk1BUksgPSBcIk1BUktcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTUFUSCA9IFwiTUFUSFwiO1xuZ29vZy5kb20uVGFnTmFtZS5NRU5VID0gXCJNRU5VXCI7XG5nb29nLmRvbS5UYWdOYW1lLk1FTlVJVEVNID0gXCJNRU5VSVRFTVwiO1xuZ29vZy5kb20uVGFnTmFtZS5NRVRBID0gXCJNRVRBXCI7XG5nb29nLmRvbS5UYWdOYW1lLk1FVEVSID0gXCJNRVRFUlwiO1xuZ29vZy5kb20uVGFnTmFtZS5OQVYgPSBcIk5BVlwiO1xuZ29vZy5kb20uVGFnTmFtZS5OT0ZSQU1FUyA9IFwiTk9GUkFNRVNcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTk9TQ1JJUFQgPSBcIk5PU0NSSVBUXCI7XG5nb29nLmRvbS5UYWdOYW1lLk9CSkVDVCA9IFwiT0JKRUNUXCI7XG5nb29nLmRvbS5UYWdOYW1lLk9MID0gXCJPTFwiO1xuZ29vZy5kb20uVGFnTmFtZS5PUFRHUk9VUCA9IFwiT1BUR1JPVVBcIjtcbmdvb2cuZG9tLlRhZ05hbWUuT1BUSU9OID0gXCJPUFRJT05cIjtcbmdvb2cuZG9tLlRhZ05hbWUuT1VUUFVUID0gXCJPVVRQVVRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuUCA9IFwiUFwiO1xuZ29vZy5kb20uVGFnTmFtZS5QQVJBTSA9IFwiUEFSQU1cIjtcbmdvb2cuZG9tLlRhZ05hbWUuUElDVFVSRSA9IFwiUElDVFVSRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5QUkUgPSBcIlBSRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5QUk9HUkVTUyA9IFwiUFJPR1JFU1NcIjtcbmdvb2cuZG9tLlRhZ05hbWUuUSA9IFwiUVwiO1xuZ29vZy5kb20uVGFnTmFtZS5SUCA9IFwiUlBcIjtcbmdvb2cuZG9tLlRhZ05hbWUuUlQgPSBcIlJUXCI7XG5nb29nLmRvbS5UYWdOYW1lLlJUQyA9IFwiUlRDXCI7XG5nb29nLmRvbS5UYWdOYW1lLlJVQlkgPSBcIlJVQllcIjtcbmdvb2cuZG9tLlRhZ05hbWUuUyA9IFwiU1wiO1xuZ29vZy5kb20uVGFnTmFtZS5TQU1QID0gXCJTQU1QXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNDUklQVCA9IFwiU0NSSVBUXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNFQ1RJT04gPSBcIlNFQ1RJT05cIjtcbmdvb2cuZG9tLlRhZ05hbWUuU0VMRUNUID0gXCJTRUxFQ1RcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU01BTEwgPSBcIlNNQUxMXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNPVVJDRSA9IFwiU09VUkNFXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNQQU4gPSBcIlNQQU5cIjtcbmdvb2cuZG9tLlRhZ05hbWUuU1RSSUtFID0gXCJTVFJJS0VcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU1RST05HID0gXCJTVFJPTkdcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU1RZTEUgPSBcIlNUWUxFXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNVQiA9IFwiU1VCXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNVTU1BUlkgPSBcIlNVTU1BUllcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU1VQID0gXCJTVVBcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU1ZHID0gXCJTVkdcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVEFCTEUgPSBcIlRBQkxFXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRCT0RZID0gXCJUQk9EWVwiO1xuZ29vZy5kb20uVGFnTmFtZS5URCA9IFwiVERcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVEVNUExBVEUgPSBcIlRFTVBMQVRFXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRFWFRBUkVBID0gXCJURVhUQVJFQVwiO1xuZ29vZy5kb20uVGFnTmFtZS5URk9PVCA9IFwiVEZPT1RcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVEggPSBcIlRIXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRIRUFEID0gXCJUSEVBRFwiO1xuZ29vZy5kb20uVGFnTmFtZS5USU1FID0gXCJUSU1FXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRJVExFID0gXCJUSVRMRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5UUiA9IFwiVFJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVFJBQ0sgPSBcIlRSQUNLXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRUID0gXCJUVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5VID0gXCJVXCI7XG5nb29nLmRvbS5UYWdOYW1lLlVMID0gXCJVTFwiO1xuZ29vZy5kb20uVGFnTmFtZS5WQVIgPSBcIlZBUlwiO1xuZ29vZy5kb20uVGFnTmFtZS5WSURFTyA9IFwiVklERU9cIjtcbmdvb2cuZG9tLlRhZ05hbWUuV0JSID0gXCJXQlJcIjtcbmdvb2cuZG9tLnRhZ3MgPSB7fTtcbmdvb2cuZG9tLnRhZ3MuVk9JRF9UQUdTXyA9IHthcmVhOiEwLCBiYXNlOiEwLCBicjohMCwgY29sOiEwLCBjb21tYW5kOiEwLCBlbWJlZDohMCwgaHI6ITAsIGltZzohMCwgaW5wdXQ6ITAsIGtleWdlbjohMCwgbGluazohMCwgbWV0YTohMCwgcGFyYW06ITAsIHNvdXJjZTohMCwgdHJhY2s6ITAsIHdicjohMH07XG5nb29nLmRvbS50YWdzLmlzVm9pZFRhZyA9IGZ1bmN0aW9uKHRhZ05hbWUpIHtcbiAgcmV0dXJuICEwID09PSBnb29nLmRvbS50YWdzLlZPSURfVEFHU19bdGFnTmFtZV07XG59O1xuZ29vZy5odG1sID0ge307XG5nb29nLmh0bWwudHJ1c3RlZHR5cGVzID0ge307XG5nb29nLmh0bWwudHJ1c3RlZHR5cGVzLmdldFBvbGljeVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIWdvb2cuVFJVU1RFRF9UWVBFU19QT0xJQ1lfTkFNRSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZvaWQgMCA9PT0gZ29vZy5odG1sLnRydXN0ZWR0eXBlcy5jYWNoZWRQb2xpY3lfICYmIChnb29nLmh0bWwudHJ1c3RlZHR5cGVzLmNhY2hlZFBvbGljeV8gPSBnb29nLmNyZWF0ZVRydXN0ZWRUeXBlc1BvbGljeShnb29nLlRSVVNURURfVFlQRVNfUE9MSUNZX05BTUUgKyBcIiNodG1sXCIpKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC50cnVzdGVkdHlwZXMuY2FjaGVkUG9saWN5Xztcbn07XG5nb29nLnN0cmluZy5UeXBlZFN0cmluZyA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuc3RyaW5nLkNvbnN0ID0gZnVuY3Rpb24ob3B0X3Rva2VuLCBvcHRfY29udGVudCkge1xuICB0aGlzLnN0cmluZ0NvbnN0VmFsdWVXaXRoU2VjdXJpdHlDb250cmFjdF9fZ29vZ1N0cmluZ1NlY3VyaXR5UHJpdmF0ZV8gPSBvcHRfdG9rZW4gPT09IGdvb2cuc3RyaW5nLkNvbnN0LkdPT0dfU1RSSU5HX0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEVfICYmIG9wdF9jb250ZW50IHx8IFwiXCI7XG4gIHRoaXMuU1RSSU5HX0NPTlNUX1RZUEVfTUFSS0VSX19HT09HX1NUUklOR19TRUNVUklUWV9QUklWQVRFXyA9IGdvb2cuc3RyaW5nLkNvbnN0LlRZUEVfTUFSS0VSXztcbn07XG5nb29nLnN0cmluZy5Db25zdC5wcm90b3R5cGUuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyA9ICEwO1xuZ29vZy5zdHJpbmcuQ29uc3QucHJvdG90eXBlLmdldFR5cGVkU3RyaW5nVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc3RyaW5nQ29uc3RWYWx1ZVdpdGhTZWN1cml0eUNvbnRyYWN0X19nb29nU3RyaW5nU2VjdXJpdHlQcml2YXRlXztcbn07XG5nb29nLkRFQlVHICYmIChnb29nLnN0cmluZy5Db25zdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiQ29uc3R7XCIgKyB0aGlzLnN0cmluZ0NvbnN0VmFsdWVXaXRoU2VjdXJpdHlDb250cmFjdF9fZ29vZ1N0cmluZ1NlY3VyaXR5UHJpdmF0ZV8gKyBcIn1cIjtcbn0pO1xuZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwID0gZnVuY3Rpb24oc3RyaW5nQ29uc3QpIHtcbiAgaWYgKHN0cmluZ0NvbnN0IGluc3RhbmNlb2YgZ29vZy5zdHJpbmcuQ29uc3QgJiYgc3RyaW5nQ29uc3QuY29uc3RydWN0b3IgPT09IGdvb2cuc3RyaW5nLkNvbnN0ICYmIHN0cmluZ0NvbnN0LlNUUklOR19DT05TVF9UWVBFX01BUktFUl9fR09PR19TVFJJTkdfU0VDVVJJVFlfUFJJVkFURV8gPT09IGdvb2cuc3RyaW5nLkNvbnN0LlRZUEVfTUFSS0VSXykge1xuICAgIHJldHVybiBzdHJpbmdDb25zdC5zdHJpbmdDb25zdFZhbHVlV2l0aFNlY3VyaXR5Q29udHJhY3RfX2dvb2dTdHJpbmdTZWN1cml0eVByaXZhdGVfO1xuICB9XG4gIGdvb2cuYXNzZXJ0cy5mYWlsKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgQ29uc3QsIGdvdCAnXCIgKyBzdHJpbmdDb25zdCArIFwiJ1wiKTtcbiAgcmV0dXJuIFwidHlwZV9lcnJvcjpDb25zdFwiO1xufTtcbmdvb2cuc3RyaW5nLkNvbnN0LmZyb20gPSBmdW5jdGlvbihzKSB7XG4gIHJldHVybiBuZXcgZ29vZy5zdHJpbmcuQ29uc3QoZ29vZy5zdHJpbmcuQ29uc3QuR09PR19TVFJJTkdfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURV8sIHMpO1xufTtcbmdvb2cuc3RyaW5nLkNvbnN0LlRZUEVfTUFSS0VSXyA9IHt9O1xuZ29vZy5zdHJpbmcuQ29uc3QuR09PR19TVFJJTkdfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURV8gPSB7fTtcbmdvb2cuc3RyaW5nLkNvbnN0LkVNUFRZID0gZ29vZy5zdHJpbmcuQ29uc3QuZnJvbShcIlwiKTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSA9IHt9LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdCA9IGZ1bmN0aW9uKHZhbHVlLCB0b2tlbikge1xuICB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTY3JpcHRXcmFwcGVkVmFsdWVfID0gdG9rZW4gPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFID8gdmFsdWUgOiBcIlwiO1xuICB0aGlzLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgPSAhMDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5mcm9tQ29uc3RhbnQgPSBmdW5jdGlvbihzY3JpcHQpIHtcbiAgdmFyIHNjcmlwdFN0cmluZyA9IGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChzY3JpcHQpO1xuICByZXR1cm4gMCA9PT0gc2NyaXB0U3RyaW5nLmxlbmd0aCA/IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LkVNUFRZIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuY3JlYXRlU2FmZVNjcmlwdFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHNjcmlwdFN0cmluZyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuZnJvbUpzb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LmNyZWF0ZVNhZmVTY3JpcHRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5zdHJpbmdpZnlfKHZhbCkpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LnByb3RvdHlwZS5nZXRUeXBlZFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTY3JpcHRXcmFwcGVkVmFsdWVfLnRvU3RyaW5nKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQudW53cmFwID0gZnVuY3Rpb24oc2FmZVNjcmlwdCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQudW53cmFwVHJ1c3RlZFNjcmlwdChzYWZlU2NyaXB0KS50b1N0cmluZygpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LnVud3JhcFRydXN0ZWRTY3JpcHQgPSBmdW5jdGlvbihzYWZlU2NyaXB0KSB7XG4gIGlmIChzYWZlU2NyaXB0IGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQgJiYgc2FmZVNjcmlwdC5jb25zdHJ1Y3RvciA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQpIHtcbiAgICByZXR1cm4gc2FmZVNjcmlwdC5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU2NyaXB0V3JhcHBlZFZhbHVlXztcbiAgfVxuICAoMCxnb29nLmFzc2VydHMuZmFpbCkoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBTYWZlU2NyaXB0LCBnb3QgJ1wiICsgc2FmZVNjcmlwdCArIFwiJyBvZiB0eXBlIFwiICsgZ29vZy50eXBlT2Yoc2FmZVNjcmlwdCkpO1xuICByZXR1cm4gXCJ0eXBlX2Vycm9yOlNhZmVTY3JpcHRcIjtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5zdHJpbmdpZnlfID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWwpLnJlcGxhY2UoLzwvZywgXCJcXFxceDNjXCIpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LmNyZWF0ZVNhZmVTY3JpcHRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSA9IGZ1bmN0aW9uKHNjcmlwdCkge1xuICB2YXIgcG9saWN5ID0gZ29vZy5odG1sLnRydXN0ZWR0eXBlcy5nZXRQb2xpY3lQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoKSwgdHJ1c3RlZFNjcmlwdCA9IHBvbGljeSA/IHBvbGljeS5jcmVhdGVTY3JpcHQoc2NyaXB0KSA6IHNjcmlwdDtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdCh0cnVzdGVkU2NyaXB0LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTY3JpcHRXcmFwcGVkVmFsdWVfLnRvU3RyaW5nKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuRU1QVFkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LmNyZWF0ZVNhZmVTY3JpcHRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShcIlwiKTtcbn0oKTtcbmdvb2cuaHRtbC5TYWZlU2NyaXB0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQ7XG5nb29nLmZzID0ge307XG5nb29nLmZzLnVybCA9IHt9O1xuZ29vZy5mcy51cmwuY3JlYXRlT2JqZWN0VXJsID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBnb29nLmZzLnVybC5nZXRVcmxPYmplY3RfKCkuY3JlYXRlT2JqZWN0VVJMKG9iaik7XG59O1xuZ29vZy5mcy51cmwucmV2b2tlT2JqZWN0VXJsID0gZnVuY3Rpb24odXJsKSB7XG4gIGdvb2cuZnMudXJsLmdldFVybE9iamVjdF8oKS5yZXZva2VPYmplY3RVUkwodXJsKTtcbn07XG5nb29nLmZzLnVybC5VcmxPYmplY3RfID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5mcy51cmwuVXJsT2JqZWN0Xy5wcm90b3R5cGUuY3JlYXRlT2JqZWN0VVJMID0gZnVuY3Rpb24oYXJnKSB7XG59O1xuZ29vZy5mcy51cmwuVXJsT2JqZWN0Xy5wcm90b3R5cGUucmV2b2tlT2JqZWN0VVJMID0gZnVuY3Rpb24ocykge1xufTtcbmdvb2cuZnMudXJsLmdldFVybE9iamVjdF8gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHVybE9iamVjdCA9IGdvb2cuZnMudXJsLmZpbmRVcmxPYmplY3RfKCk7XG4gIGlmIChudWxsICE9IHVybE9iamVjdCkge1xuICAgIHJldHVybiB1cmxPYmplY3Q7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzZWVtIHRvIHN1cHBvcnQgYmxvYiBVUkxzXCIpO1xufTtcbmdvb2cuZnMudXJsLmZpbmRVcmxPYmplY3RfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB2b2lkIDAgIT09IGdvb2cuZ2xvYmFsLlVSTCAmJiB2b2lkIDAgIT09IGdvb2cuZ2xvYmFsLlVSTC5jcmVhdGVPYmplY3RVUkwgPyBnb29nLmdsb2JhbC5VUkwgOiB2b2lkIDAgIT09IGdvb2cuZ2xvYmFsLmNyZWF0ZU9iamVjdFVSTCA/IGdvb2cuZ2xvYmFsIDogbnVsbDtcbn07XG5nb29nLmZzLnVybC5icm93c2VyU3VwcG9ydHNPYmplY3RVcmxzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBudWxsICE9IGdvb2cuZnMudXJsLmZpbmRVcmxPYmplY3RfKCk7XG59O1xuZ29vZy5mcy5ibG9iID0ge307XG5nb29nLmZzLmJsb2IuZ2V0QmxvYiA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBCbG9iQnVpbGRlciA9IGdvb2cuZ2xvYmFsLkJsb2JCdWlsZGVyIHx8IGdvb2cuZ2xvYmFsLldlYktpdEJsb2JCdWlsZGVyO1xuICBpZiAodm9pZCAwICE9PSBCbG9iQnVpbGRlcikge1xuICAgIGZvciAodmFyIGJiID0gbmV3IEJsb2JCdWlsZGVyKCksIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBiYi5hcHBlbmQoYXJndW1lbnRzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGJiLmdldEJsb2IoKTtcbiAgfVxuICByZXR1cm4gZ29vZy5mcy5ibG9iLmdldEJsb2JXaXRoUHJvcGVydGllcyhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbn07XG5nb29nLmZzLmJsb2IuZ2V0QmxvYldpdGhQcm9wZXJ0aWVzID0gZnVuY3Rpb24ocGFydHMsIG9wdF90eXBlLCBvcHRfZW5kaW5ncykge1xuICB2YXIgQmxvYkJ1aWxkZXIgPSBnb29nLmdsb2JhbC5CbG9iQnVpbGRlciB8fCBnb29nLmdsb2JhbC5XZWJLaXRCbG9iQnVpbGRlcjtcbiAgaWYgKHZvaWQgMCAhPT0gQmxvYkJ1aWxkZXIpIHtcbiAgICBmb3IgKHZhciBiYiA9IG5ldyBCbG9iQnVpbGRlcigpLCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBiYi5hcHBlbmQocGFydHNbaV0sIG9wdF9lbmRpbmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIGJiLmdldEJsb2Iob3B0X3R5cGUpO1xuICB9XG4gIGlmICh2b2lkIDAgIT09IGdvb2cuZ2xvYmFsLkJsb2IpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuICAgIG9wdF90eXBlICYmIChwcm9wZXJ0aWVzLnR5cGUgPSBvcHRfdHlwZSk7XG4gICAgb3B0X2VuZGluZ3MgJiYgKHByb3BlcnRpZXMuZW5kaW5ncyA9IG9wdF9lbmRpbmdzKTtcbiAgICByZXR1cm4gbmV3IEJsb2IocGFydHMsIHByb3BlcnRpZXMpO1xuICB9XG4gIHRocm93IEVycm9yKFwiVGhpcyBicm93c2VyIGRvZXNuJ3Qgc2VlbSB0byBzdXBwb3J0IGNyZWF0aW5nIEJsb2JzXCIpO1xufTtcbmdvb2cuaTE4biA9IHt9O1xuZ29vZy5pMThuLmJpZGkgPSB7fTtcbmdvb2cuaTE4bi5iaWRpLkZPUkNFX1JUTCA9ICExO1xuZ29vZy5pMThuLmJpZGkuSVNfUlRMID0gZ29vZy5pMThuLmJpZGkuRk9SQ0VfUlRMIHx8IChcImFyXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDAsIDIpLnRvTG93ZXJDYXNlKCkgfHwgXCJmYVwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygwLCAyKS50b0xvd2VyQ2FzZSgpIHx8IFwiaGVcIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMCwgMikudG9Mb3dlckNhc2UoKSB8fCBcIml3XCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDAsIDIpLnRvTG93ZXJDYXNlKCkgfHwgXCJwc1wiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygwLCAyKS50b0xvd2VyQ2FzZSgpIHx8IFwic2RcIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMCwgMikudG9Mb3dlckNhc2UoKSB8fCBcInVnXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDAsIDIpLnRvTG93ZXJDYXNlKCkgfHwgXCJ1clwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygwLCAyKS50b0xvd2VyQ2FzZSgpIHx8IFwieWlcIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMCwgXG4yKS50b0xvd2VyQ2FzZSgpKSAmJiAoMiA9PSBnb29nLkxPQ0FMRS5sZW5ndGggfHwgXCItXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDIsIDMpIHx8IFwiX1wiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygyLCAzKSkgfHwgMyA8PSBnb29nLkxPQ0FMRS5sZW5ndGggJiYgXCJja2JcIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMCwgMykudG9Mb3dlckNhc2UoKSAmJiAoMyA9PSBnb29nLkxPQ0FMRS5sZW5ndGggfHwgXCItXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDMsIDQpIHx8IFwiX1wiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygzLCA0KSkgfHwgNyA8PSBnb29nLkxPQ0FMRS5sZW5ndGggJiYgKFwiLVwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygyLCAzKSB8fCBcIl9cIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMiwgMykpICYmIChcImFkbG1cIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMywgNykudG9Mb3dlckNhc2UoKSB8fCBcImFyYWJcIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMywgXG43KS50b0xvd2VyQ2FzZSgpIHx8IFwiaGViclwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygzLCA3KS50b0xvd2VyQ2FzZSgpIHx8IFwibmtvb1wiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygzLCA3KS50b0xvd2VyQ2FzZSgpIHx8IFwicm9oZ1wiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygzLCA3KS50b0xvd2VyQ2FzZSgpIHx8IFwidGhhYVwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygzLCA3KS50b0xvd2VyQ2FzZSgpKSB8fCA4IDw9IGdvb2cuTE9DQUxFLmxlbmd0aCAmJiAoXCItXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDMsIDQpIHx8IFwiX1wiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygzLCA0KSkgJiYgKFwiYWRsbVwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZyg0LCA4KS50b0xvd2VyQ2FzZSgpIHx8IFwiYXJhYlwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZyg0LCA4KS50b0xvd2VyQ2FzZSgpIHx8IFwiaGViclwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZyg0LCA4KS50b0xvd2VyQ2FzZSgpIHx8IFxuXCJua29vXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDQsIDgpLnRvTG93ZXJDYXNlKCkgfHwgXCJyb2hnXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDQsIDgpLnRvTG93ZXJDYXNlKCkgfHwgXCJ0aGFhXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDQsIDgpLnRvTG93ZXJDYXNlKCkpO1xuZ29vZy5pMThuLmJpZGkuRm9ybWF0ID0ge0xSRTpcIlxcdTIwMmFcIiwgUkxFOlwiXFx1MjAyYlwiLCBQREY6XCJcXHUyMDJjXCIsIExSTTpcIlxcdTIwMGVcIiwgUkxNOlwiXFx1MjAwZlwifTtcbmdvb2cuaTE4bi5iaWRpLkRpciA9IHtMVFI6MSwgUlRMOi0xLCBORVVUUkFMOjB9O1xuZ29vZy5pMThuLmJpZGkuUklHSFQgPSBcInJpZ2h0XCI7XG5nb29nLmkxOG4uYmlkaS5MRUZUID0gXCJsZWZ0XCI7XG5nb29nLmkxOG4uYmlkaS5JMThOX1JJR0hUID0gZ29vZy5pMThuLmJpZGkuSVNfUlRMID8gZ29vZy5pMThuLmJpZGkuTEVGVCA6IGdvb2cuaTE4bi5iaWRpLlJJR0hUO1xuZ29vZy5pMThuLmJpZGkuSTE4Tl9MRUZUID0gZ29vZy5pMThuLmJpZGkuSVNfUlRMID8gZ29vZy5pMThuLmJpZGkuUklHSFQgOiBnb29nLmkxOG4uYmlkaS5MRUZUO1xuZ29vZy5pMThuLmJpZGkudG9EaXIgPSBmdW5jdGlvbihnaXZlbkRpciwgb3B0X25vTmV1dHJhbCkge1xuICByZXR1cm4gXCJudW1iZXJcIiA9PSB0eXBlb2YgZ2l2ZW5EaXIgPyAwIDwgZ2l2ZW5EaXIgPyBnb29nLmkxOG4uYmlkaS5EaXIuTFRSIDogMCA+IGdpdmVuRGlyID8gZ29vZy5pMThuLmJpZGkuRGlyLlJUTCA6IG9wdF9ub05ldXRyYWwgPyBudWxsIDogZ29vZy5pMThuLmJpZGkuRGlyLk5FVVRSQUwgOiBudWxsID09IGdpdmVuRGlyID8gbnVsbCA6IGdpdmVuRGlyID8gZ29vZy5pMThuLmJpZGkuRGlyLlJUTCA6IGdvb2cuaTE4bi5iaWRpLkRpci5MVFI7XG59O1xuZ29vZy5pMThuLmJpZGkubHRyQ2hhcnNfID0gXCJBLVphLXpcXHUwMGMwLVxcdTAwZDZcXHUwMGQ4LVxcdTAwZjZcXHUwMGY4LVxcdTAyYjhcXHUwMzAwLVxcdTA1OTBcXHUwOTAwLVxcdTFmZmZcXHUyMDBlXFx1MmMwMC1cXHVkODAxXFx1ZDgwNC1cXHVkODM5XFx1ZDgzYy1cXHVkYmZmXFx1ZjkwMC1cXHVmYjFjXFx1ZmUwMC1cXHVmZTZmXFx1ZmVmZC1cXHVmZmZmXCI7XG5nb29nLmkxOG4uYmlkaS5ydGxDaGFyc18gPSBcIlxcdTA1OTEtXFx1MDZlZlxcdTA2ZmEtXFx1MDhmZlxcdTIwMGZcXHVkODAyLVxcdWQ4MDNcXHVkODNhLVxcdWQ4M2JcXHVmYjFkLVxcdWZkZmZcXHVmZTcwLVxcdWZlZmNcIjtcbmdvb2cuaTE4bi5iaWRpLmh0bWxTa2lwUmVnXyA9IC88W14+XSo+fCZbXjtdKzsvZztcbmdvb2cuaTE4bi5iaWRpLnN0cmlwSHRtbElmTmVlZGVkXyA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzU3RyaXBOZWVkZWQpIHtcbiAgcmV0dXJuIG9wdF9pc1N0cmlwTmVlZGVkID8gc3RyLnJlcGxhY2UoZ29vZy5pMThuLmJpZGkuaHRtbFNraXBSZWdfLCBcIlwiKSA6IHN0cjtcbn07XG5nb29nLmkxOG4uYmlkaS5ydGxDaGFyUmVnXyA9IG5ldyBSZWdFeHAoXCJbXCIgKyBnb29nLmkxOG4uYmlkaS5ydGxDaGFyc18gKyBcIl1cIik7XG5nb29nLmkxOG4uYmlkaS5sdHJDaGFyUmVnXyA9IG5ldyBSZWdFeHAoXCJbXCIgKyBnb29nLmkxOG4uYmlkaS5sdHJDaGFyc18gKyBcIl1cIik7XG5nb29nLmkxOG4uYmlkaS5oYXNBbnlSdGwgPSBmdW5jdGlvbihzdHIsIG9wdF9pc0h0bWwpIHtcbiAgcmV0dXJuIGdvb2cuaTE4bi5iaWRpLnJ0bENoYXJSZWdfLnRlc3QoZ29vZy5pMThuLmJpZGkuc3RyaXBIdG1sSWZOZWVkZWRfKHN0ciwgb3B0X2lzSHRtbCkpO1xufTtcbmdvb2cuaTE4bi5iaWRpLmhhc1J0bENoYXIgPSBnb29nLmkxOG4uYmlkaS5oYXNBbnlSdGw7XG5nb29nLmkxOG4uYmlkaS5oYXNBbnlMdHIgPSBmdW5jdGlvbihzdHIsIG9wdF9pc0h0bWwpIHtcbiAgcmV0dXJuIGdvb2cuaTE4bi5iaWRpLmx0ckNoYXJSZWdfLnRlc3QoZ29vZy5pMThuLmJpZGkuc3RyaXBIdG1sSWZOZWVkZWRfKHN0ciwgb3B0X2lzSHRtbCkpO1xufTtcbmdvb2cuaTE4bi5iaWRpLmx0clJlXyA9IG5ldyBSZWdFeHAoXCJeW1wiICsgZ29vZy5pMThuLmJpZGkubHRyQ2hhcnNfICsgXCJdXCIpO1xuZ29vZy5pMThuLmJpZGkucnRsUmVfID0gbmV3IFJlZ0V4cChcIl5bXCIgKyBnb29nLmkxOG4uYmlkaS5ydGxDaGFyc18gKyBcIl1cIik7XG5nb29nLmkxOG4uYmlkaS5pc1J0bENoYXIgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIGdvb2cuaTE4bi5iaWRpLnJ0bFJlXy50ZXN0KHN0cik7XG59O1xuZ29vZy5pMThuLmJpZGkuaXNMdHJDaGFyID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBnb29nLmkxOG4uYmlkaS5sdHJSZV8udGVzdChzdHIpO1xufTtcbmdvb2cuaTE4bi5iaWRpLmlzTmV1dHJhbENoYXIgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuICFnb29nLmkxOG4uYmlkaS5pc0x0ckNoYXIoc3RyKSAmJiAhZ29vZy5pMThuLmJpZGkuaXNSdGxDaGFyKHN0cik7XG59O1xuZ29vZy5pMThuLmJpZGkubHRyRGlyQ2hlY2tSZV8gPSBuZXcgUmVnRXhwKFwiXlteXCIgKyBnb29nLmkxOG4uYmlkaS5ydGxDaGFyc18gKyBcIl0qW1wiICsgZ29vZy5pMThuLmJpZGkubHRyQ2hhcnNfICsgXCJdXCIpO1xuZ29vZy5pMThuLmJpZGkucnRsRGlyQ2hlY2tSZV8gPSBuZXcgUmVnRXhwKFwiXlteXCIgKyBnb29nLmkxOG4uYmlkaS5sdHJDaGFyc18gKyBcIl0qW1wiICsgZ29vZy5pMThuLmJpZGkucnRsQ2hhcnNfICsgXCJdXCIpO1xuZ29vZy5pMThuLmJpZGkuc3RhcnRzV2l0aFJ0bCA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzSHRtbCkge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkucnRsRGlyQ2hlY2tSZV8udGVzdChnb29nLmkxOG4uYmlkaS5zdHJpcEh0bWxJZk5lZWRlZF8oc3RyLCBvcHRfaXNIdG1sKSk7XG59O1xuZ29vZy5pMThuLmJpZGkuaXNSdGxUZXh0ID0gZ29vZy5pMThuLmJpZGkuc3RhcnRzV2l0aFJ0bDtcbmdvb2cuaTE4bi5iaWRpLnN0YXJ0c1dpdGhMdHIgPSBmdW5jdGlvbihzdHIsIG9wdF9pc0h0bWwpIHtcbiAgcmV0dXJuIGdvb2cuaTE4bi5iaWRpLmx0ckRpckNoZWNrUmVfLnRlc3QoZ29vZy5pMThuLmJpZGkuc3RyaXBIdG1sSWZOZWVkZWRfKHN0ciwgb3B0X2lzSHRtbCkpO1xufTtcbmdvb2cuaTE4bi5iaWRpLmlzTHRyVGV4dCA9IGdvb2cuaTE4bi5iaWRpLnN0YXJ0c1dpdGhMdHI7XG5nb29nLmkxOG4uYmlkaS5pc1JlcXVpcmVkTHRyUmVfID0gL15odHRwOlxcL1xcLy4qLztcbmdvb2cuaTE4bi5iaWRpLmlzTmV1dHJhbFRleHQgPSBmdW5jdGlvbihzdHIsIG9wdF9pc0h0bWwpIHtcbiAgc3RyID0gZ29vZy5pMThuLmJpZGkuc3RyaXBIdG1sSWZOZWVkZWRfKHN0ciwgb3B0X2lzSHRtbCk7XG4gIHJldHVybiBnb29nLmkxOG4uYmlkaS5pc1JlcXVpcmVkTHRyUmVfLnRlc3Qoc3RyKSB8fCAhZ29vZy5pMThuLmJpZGkuaGFzQW55THRyKHN0cikgJiYgIWdvb2cuaTE4bi5iaWRpLmhhc0FueVJ0bChzdHIpO1xufTtcbmdvb2cuaTE4bi5iaWRpLmx0ckV4aXREaXJDaGVja1JlXyA9IG5ldyBSZWdFeHAoXCJbXCIgKyBnb29nLmkxOG4uYmlkaS5sdHJDaGFyc18gKyBcIl1bXlwiICsgZ29vZy5pMThuLmJpZGkucnRsQ2hhcnNfICsgXCJdKiRcIik7XG5nb29nLmkxOG4uYmlkaS5ydGxFeGl0RGlyQ2hlY2tSZV8gPSBuZXcgUmVnRXhwKFwiW1wiICsgZ29vZy5pMThuLmJpZGkucnRsQ2hhcnNfICsgXCJdW15cIiArIGdvb2cuaTE4bi5iaWRpLmx0ckNoYXJzXyArIFwiXSokXCIpO1xuZ29vZy5pMThuLmJpZGkuZW5kc1dpdGhMdHIgPSBmdW5jdGlvbihzdHIsIG9wdF9pc0h0bWwpIHtcbiAgcmV0dXJuIGdvb2cuaTE4bi5iaWRpLmx0ckV4aXREaXJDaGVja1JlXy50ZXN0KGdvb2cuaTE4bi5iaWRpLnN0cmlwSHRtbElmTmVlZGVkXyhzdHIsIG9wdF9pc0h0bWwpKTtcbn07XG5nb29nLmkxOG4uYmlkaS5pc0x0ckV4aXRUZXh0ID0gZ29vZy5pMThuLmJpZGkuZW5kc1dpdGhMdHI7XG5nb29nLmkxOG4uYmlkaS5lbmRzV2l0aFJ0bCA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzSHRtbCkge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkucnRsRXhpdERpckNoZWNrUmVfLnRlc3QoZ29vZy5pMThuLmJpZGkuc3RyaXBIdG1sSWZOZWVkZWRfKHN0ciwgb3B0X2lzSHRtbCkpO1xufTtcbmdvb2cuaTE4bi5iaWRpLmlzUnRsRXhpdFRleHQgPSBnb29nLmkxOG4uYmlkaS5lbmRzV2l0aFJ0bDtcbmdvb2cuaTE4bi5iaWRpLnJ0bExvY2FsZXNSZV8gPSBSZWdFeHAoXCJeKGFyfGNrYnxkdnxoZXxpd3xmYXxucW98cHN8c2R8dWd8dXJ8eWl8LipbLV9dKEFkbG18QXJhYnxIZWJyfE5rb298Um9oZ3xUaGFhKSkoPyEuKlstX10oTGF0bnxDeXJsKSgkfC18XykpKCR8LXxfKVwiLCBcImlcIik7XG5nb29nLmkxOG4uYmlkaS5pc1J0bExhbmd1YWdlID0gZnVuY3Rpb24obGFuZykge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkucnRsTG9jYWxlc1JlXy50ZXN0KGxhbmcpO1xufTtcbmdvb2cuaTE4bi5iaWRpLmJyYWNrZXRHdWFyZFRleHRSZV8gPSAvKFxcKC4qP1xcKSspfChcXFsuKj9cXF0rKXwoXFx7Lio/XFx9Kyl8KDwuKj8+KykvZztcbmdvb2cuaTE4bi5iaWRpLmd1YXJkQnJhY2tldEluVGV4dCA9IGZ1bmN0aW9uKHMsIG9wdF9pc1J0bENvbnRleHQpIHtcbiAgdmFyIG1hcmsgPSAodm9pZCAwID09PSBvcHRfaXNSdGxDb250ZXh0ID8gZ29vZy5pMThuLmJpZGkuaGFzQW55UnRsKHMpIDogb3B0X2lzUnRsQ29udGV4dCkgPyBnb29nLmkxOG4uYmlkaS5Gb3JtYXQuUkxNIDogZ29vZy5pMThuLmJpZGkuRm9ybWF0LkxSTTtcbiAgcmV0dXJuIHMucmVwbGFjZShnb29nLmkxOG4uYmlkaS5icmFja2V0R3VhcmRUZXh0UmVfLCBtYXJrICsgXCIkJlwiICsgbWFyayk7XG59O1xuZ29vZy5pMThuLmJpZGkuZW5mb3JjZVJ0bEluSHRtbCA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgcmV0dXJuIFwiPFwiID09IGh0bWwuY2hhckF0KDApID8gaHRtbC5yZXBsYWNlKC88XFx3Ky8sIFwiJCYgZGlyPXJ0bFwiKSA6IFwiXFxuPHNwYW4gZGlyPXJ0bD5cIiArIGh0bWwgKyBcIjwvc3Bhbj5cIjtcbn07XG5nb29nLmkxOG4uYmlkaS5lbmZvcmNlUnRsSW5UZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkuRm9ybWF0LlJMRSArIHRleHQgKyBnb29nLmkxOG4uYmlkaS5Gb3JtYXQuUERGO1xufTtcbmdvb2cuaTE4bi5iaWRpLmVuZm9yY2VMdHJJbkh0bWwgPSBmdW5jdGlvbihodG1sKSB7XG4gIHJldHVybiBcIjxcIiA9PSBodG1sLmNoYXJBdCgwKSA/IGh0bWwucmVwbGFjZSgvPFxcdysvLCBcIiQmIGRpcj1sdHJcIikgOiBcIlxcbjxzcGFuIGRpcj1sdHI+XCIgKyBodG1sICsgXCI8L3NwYW4+XCI7XG59O1xuZ29vZy5pMThuLmJpZGkuZW5mb3JjZUx0ckluVGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuIGdvb2cuaTE4bi5iaWRpLkZvcm1hdC5MUkUgKyB0ZXh0ICsgZ29vZy5pMThuLmJpZGkuRm9ybWF0LlBERjtcbn07XG5nb29nLmkxOG4uYmlkaS5kaW1lbnNpb25zUmVfID0gLzpcXHMqKFsuXFxkXVsuXFx3XSopXFxzKyhbLlxcZF1bLlxcd10qKVxccysoWy5cXGRdWy5cXHddKilcXHMrKFsuXFxkXVsuXFx3XSopL2c7XG5nb29nLmkxOG4uYmlkaS5sZWZ0UmVfID0gL2xlZnQvZ2k7XG5nb29nLmkxOG4uYmlkaS5yaWdodFJlXyA9IC9yaWdodC9naTtcbmdvb2cuaTE4bi5iaWRpLnRlbXBSZV8gPSAvJSUlJS9nO1xuZ29vZy5pMThuLmJpZGkubWlycm9yQ1NTID0gZnVuY3Rpb24oY3NzU3RyKSB7XG4gIHJldHVybiBjc3NTdHIucmVwbGFjZShnb29nLmkxOG4uYmlkaS5kaW1lbnNpb25zUmVfLCBcIjokMSAkNCAkMyAkMlwiKS5yZXBsYWNlKGdvb2cuaTE4bi5iaWRpLmxlZnRSZV8sIFwiJSUlJVwiKS5yZXBsYWNlKGdvb2cuaTE4bi5iaWRpLnJpZ2h0UmVfLCBnb29nLmkxOG4uYmlkaS5MRUZUKS5yZXBsYWNlKGdvb2cuaTE4bi5iaWRpLnRlbXBSZV8sIGdvb2cuaTE4bi5iaWRpLlJJR0hUKTtcbn07XG5nb29nLmkxOG4uYmlkaS5kb3VibGVRdW90ZVN1YnN0aXR1dGVSZV8gPSAvKFtcXHUwNTkxLVxcdTA1ZjJdKVwiL2c7XG5nb29nLmkxOG4uYmlkaS5zaW5nbGVRdW90ZVN1YnN0aXR1dGVSZV8gPSAvKFtcXHUwNTkxLVxcdTA1ZjJdKScvZztcbmdvb2cuaTE4bi5iaWRpLm5vcm1hbGl6ZUhlYnJld1F1b3RlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShnb29nLmkxOG4uYmlkaS5kb3VibGVRdW90ZVN1YnN0aXR1dGVSZV8sIFwiJDFcXHUwNWY0XCIpLnJlcGxhY2UoZ29vZy5pMThuLmJpZGkuc2luZ2xlUXVvdGVTdWJzdGl0dXRlUmVfLCBcIiQxXFx1MDVmM1wiKTtcbn07XG5nb29nLmkxOG4uYmlkaS53b3JkU2VwYXJhdG9yUmVfID0gL1xccysvO1xuZ29vZy5pMThuLmJpZGkuaGFzTnVtZXJhbHNSZV8gPSAvW1xcZFxcdTA2ZjAtXFx1MDZmOV0vO1xuZ29vZy5pMThuLmJpZGkucnRsRGV0ZWN0aW9uVGhyZXNob2xkXyA9IDAuNDA7XG5nb29nLmkxOG4uYmlkaS5lc3RpbWF0ZURpcmVjdGlvbiA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzSHRtbCkge1xuICBmb3IgKHZhciBydGxDb3VudCA9IDAsIHRvdGFsQ291bnQgPSAwLCBoYXNXZWFrbHlMdHIgPSAhMSwgdG9rZW5zID0gZ29vZy5pMThuLmJpZGkuc3RyaXBIdG1sSWZOZWVkZWRfKHN0ciwgb3B0X2lzSHRtbCkuc3BsaXQoZ29vZy5pMThuLmJpZGkud29yZFNlcGFyYXRvclJlXyksIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zW2ldO1xuICAgIGdvb2cuaTE4bi5iaWRpLnN0YXJ0c1dpdGhSdGwodG9rZW4pID8gKHJ0bENvdW50KyssIHRvdGFsQ291bnQrKykgOiBnb29nLmkxOG4uYmlkaS5pc1JlcXVpcmVkTHRyUmVfLnRlc3QodG9rZW4pID8gaGFzV2Vha2x5THRyID0gITAgOiBnb29nLmkxOG4uYmlkaS5oYXNBbnlMdHIodG9rZW4pID8gdG90YWxDb3VudCsrIDogZ29vZy5pMThuLmJpZGkuaGFzTnVtZXJhbHNSZV8udGVzdCh0b2tlbikgJiYgKGhhc1dlYWtseUx0ciA9ICEwKTtcbiAgfVxuICByZXR1cm4gMCA9PSB0b3RhbENvdW50ID8gaGFzV2Vha2x5THRyID8gZ29vZy5pMThuLmJpZGkuRGlyLkxUUiA6IGdvb2cuaTE4bi5iaWRpLkRpci5ORVVUUkFMIDogcnRsQ291bnQgLyB0b3RhbENvdW50ID4gZ29vZy5pMThuLmJpZGkucnRsRGV0ZWN0aW9uVGhyZXNob2xkXyA/IGdvb2cuaTE4bi5iaWRpLkRpci5SVEwgOiBnb29nLmkxOG4uYmlkaS5EaXIuTFRSO1xufTtcbmdvb2cuaTE4bi5iaWRpLmRldGVjdFJ0bERpcmVjdGlvbmFsaXR5ID0gZnVuY3Rpb24oc3RyLCBvcHRfaXNIdG1sKSB7XG4gIHJldHVybiBnb29nLmkxOG4uYmlkaS5lc3RpbWF0ZURpcmVjdGlvbihzdHIsIG9wdF9pc0h0bWwpID09IGdvb2cuaTE4bi5iaWRpLkRpci5SVEw7XG59O1xuZ29vZy5pMThuLmJpZGkuc2V0RWxlbWVudERpckFuZEFsaWduID0gZnVuY3Rpb24oZWxlbWVudCwgZGlyKSB7XG4gIGVsZW1lbnQgJiYgKGRpciA9IGdvb2cuaTE4bi5iaWRpLnRvRGlyKGRpcikpICYmIChlbGVtZW50LnN0eWxlLnRleHRBbGlnbiA9IGRpciA9PSBnb29nLmkxOG4uYmlkaS5EaXIuUlRMID8gZ29vZy5pMThuLmJpZGkuUklHSFQgOiBnb29nLmkxOG4uYmlkaS5MRUZULCBlbGVtZW50LmRpciA9IGRpciA9PSBnb29nLmkxOG4uYmlkaS5EaXIuUlRMID8gXCJydGxcIiA6IFwibHRyXCIpO1xufTtcbmdvb2cuaTE4bi5iaWRpLnNldEVsZW1lbnREaXJCeVRleHREaXJlY3Rpb25hbGl0eSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHRleHQpIHtcbiAgc3dpdGNoKGdvb2cuaTE4bi5iaWRpLmVzdGltYXRlRGlyZWN0aW9uKHRleHQpKSB7XG4gICAgY2FzZSBnb29nLmkxOG4uYmlkaS5EaXIuTFRSOlxuICAgICAgXCJsdHJcIiAhPT0gZWxlbWVudC5kaXIgJiYgKGVsZW1lbnQuZGlyID0gXCJsdHJcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGdvb2cuaTE4bi5iaWRpLkRpci5SVEw6XG4gICAgICBcInJ0bFwiICE9PSBlbGVtZW50LmRpciAmJiAoZWxlbWVudC5kaXIgPSBcInJ0bFwiKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKTtcbiAgfVxufTtcbmdvb2cuaTE4bi5iaWRpLkRpcmVjdGlvbmFsU3RyaW5nID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCA9IGZ1bmN0aW9uKHZhbHVlLCB0b2tlbikge1xuICB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVRydXN0ZWRSZXNvdXJjZVVybFdyYXBwZWRWYWx1ZV8gPSB0b2tlbiA9PT0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyA/IHZhbHVlIDogXCJcIjtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnByb3RvdHlwZS5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID0gITA7XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnByb3RvdHlwZS5nZXRUeXBlZFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVRydXN0ZWRSZXNvdXJjZVVybFdyYXBwZWRWYWx1ZV8udG9TdHJpbmcoKTtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnByb3RvdHlwZS5pbXBsZW1lbnRzR29vZ0kxOG5CaWRpRGlyZWN0aW9uYWxTdHJpbmcgPSAhMDtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwucHJvdG90eXBlLmdldERpcmVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkuRGlyLkxUUjtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnByb3RvdHlwZS5jbG9uZVdpdGhQYXJhbXMgPSBmdW5jdGlvbihzZWFyY2hQYXJhbXMsIG9wdF9oYXNoUGFyYW1zKSB7XG4gIHZhciB1cmwgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcCh0aGlzKSwgcGFydHMgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLlVSTF9QQVJBTV9QQVJTRVJfLmV4ZWModXJsKSwgdXJsSGFzaCA9IHBhcnRzWzNdIHx8IFwiXCI7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmNyZWF0ZVRydXN0ZWRSZXNvdXJjZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHBhcnRzWzFdICsgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5zdHJpbmdpZnlQYXJhbXNfKFwiP1wiLCBwYXJ0c1syXSB8fCBcIlwiLCBzZWFyY2hQYXJhbXMpICsgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5zdHJpbmdpZnlQYXJhbXNfKFwiI1wiLCB1cmxIYXNoLCBvcHRfaGFzaFBhcmFtcykpO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVRydXN0ZWRSZXNvdXJjZVVybFdyYXBwZWRWYWx1ZV8gKyBcIlwiO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwID0gZnVuY3Rpb24odHJ1c3RlZFJlc291cmNlVXJsKSB7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcFRydXN0ZWRTY3JpcHRVUkwodHJ1c3RlZFJlc291cmNlVXJsKS50b1N0cmluZygpO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwVHJ1c3RlZFNjcmlwdFVSTCA9IGZ1bmN0aW9uKHRydXN0ZWRSZXNvdXJjZVVybCkge1xuICBpZiAodHJ1c3RlZFJlc291cmNlVXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCAmJiB0cnVzdGVkUmVzb3VyY2VVcmwuY29uc3RydWN0b3IgPT09IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwpIHtcbiAgICByZXR1cm4gdHJ1c3RlZFJlc291cmNlVXJsLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVRydXN0ZWRSZXNvdXJjZVVybFdyYXBwZWRWYWx1ZV87XG4gIH1cbiAgZ29vZy5hc3NlcnRzLmZhaWwoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBUcnVzdGVkUmVzb3VyY2VVcmwsIGdvdCAnXCIgKyB0cnVzdGVkUmVzb3VyY2VVcmwgKyBcIicgb2YgdHlwZSBcIiArIGdvb2cudHlwZU9mKHRydXN0ZWRSZXNvdXJjZVVybCkpO1xuICByZXR1cm4gXCJ0eXBlX2Vycm9yOlRydXN0ZWRSZXNvdXJjZVVybFwiO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuZm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0LCBhcmdzKSB7XG4gIHZhciBmb3JtYXRTdHIgPSBnb29nLnN0cmluZy5Db25zdC51bndyYXAoZm9ybWF0KTtcbiAgaWYgKCFnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLkJBU0VfVVJMXy50ZXN0KGZvcm1hdFN0cikpIHtcbiAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgVHJ1c3RlZFJlc291cmNlVXJsIGZvcm1hdDogXCIgKyBmb3JtYXRTdHIpO1xuICB9XG4gIHZhciByZXN1bHQgPSBmb3JtYXRTdHIucmVwbGFjZShnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLkZPUk1BVF9NQVJLRVJfLCBmdW5jdGlvbihtYXRjaCwgaWQpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmdzLCBpZCkpIHtcbiAgICAgIHRocm93IEVycm9yKCdGb3VuZCBtYXJrZXIsIFwiJyArIGlkICsgJ1wiLCBpbiBmb3JtYXQgc3RyaW5nLCBcIicgKyBmb3JtYXRTdHIgKyAnXCIsIGJ1dCBubyB2YWxpZCBsYWJlbCBtYXBwaW5nIGZvdW5kIGluIGFyZ3M6ICcgKyBKU09OLnN0cmluZ2lmeShhcmdzKSk7XG4gICAgfVxuICAgIHZhciBhcmcgPSBhcmdzW2lkXTtcbiAgICByZXR1cm4gYXJnIGluc3RhbmNlb2YgZ29vZy5zdHJpbmcuQ29uc3QgPyBnb29nLnN0cmluZy5Db25zdC51bndyYXAoYXJnKSA6IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYXJnKSk7XG4gIH0pO1xuICByZXR1cm4gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5jcmVhdGVUcnVzdGVkUmVzb3VyY2VVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShyZXN1bHQpO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuRk9STUFUX01BUktFUl8gPSAvJXsoXFx3Kyl9L2c7XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLkJBU0VfVVJMXyA9IFJlZ0V4cChcIl4oKGh0dHBzOik/Ly9bMC05YS16LjpbXFxcXF0tXSsvfC9bXi9cXFxcXFxcXF18W146L1xcXFxcXFxcJV0rL3xbXjovXFxcXFxcXFwlXSpbPyNdfGFib3V0OmJsYW5rIylcIiwgXCJpXCIpO1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5VUkxfUEFSQU1fUEFSU0VSXyA9IC9eKFtePyNdKikoXFw/W14jXSopPygjW1xcc1xcU10qKT8vO1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5mb3JtYXRXaXRoUGFyYW1zID0gZnVuY3Rpb24oZm9ybWF0LCBhcmdzLCBzZWFyY2hQYXJhbXMsIG9wdF9oYXNoUGFyYW1zKSB7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmZvcm1hdChmb3JtYXQsIGFyZ3MpLmNsb25lV2l0aFBhcmFtcyhzZWFyY2hQYXJhbXMsIG9wdF9oYXNoUGFyYW1zKTtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmZyb21Db25zdGFudCA9IGZ1bmN0aW9uKHVybCkge1xuICByZXR1cm4gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5jcmVhdGVUcnVzdGVkUmVzb3VyY2VVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShnb29nLnN0cmluZy5Db25zdC51bndyYXAodXJsKSk7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5mcm9tQ29uc3RhbnRzID0gZnVuY3Rpb24ocGFydHMpIHtcbiAgZm9yICh2YXIgdW53cmFwcGVkID0gXCJcIiwgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHVud3JhcHBlZCArPSBnb29nLnN0cmluZy5Db25zdC51bndyYXAocGFydHNbaV0pO1xuICB9XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmNyZWF0ZVRydXN0ZWRSZXNvdXJjZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVud3JhcHBlZCk7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5mcm9tU2FmZVNjcmlwdCA9IGZ1bmN0aW9uKHNhZmVTY3JpcHQpIHtcbiAgdmFyIGJsb2IgPSBnb29nLmZzLmJsb2IuZ2V0QmxvYldpdGhQcm9wZXJ0aWVzKFttb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC51bndyYXAoc2FmZVNjcmlwdCldLCBcInRleHQvamF2YXNjcmlwdFwiKSwgdXJsID0gZ29vZy5mcy51cmwuY3JlYXRlT2JqZWN0VXJsKGJsb2IpO1xuICByZXR1cm4gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5jcmVhdGVUcnVzdGVkUmVzb3VyY2VVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh1cmwpO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURV8gPSB7fTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuY3JlYXRlVHJ1c3RlZFJlc291cmNlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UgPSBmdW5jdGlvbih1cmwpIHtcbiAgdmFyIHBvbGljeSA9IGdvb2cuaHRtbC50cnVzdGVkdHlwZXMuZ2V0UG9saWN5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKCksIHZhbHVlID0gcG9saWN5ID8gcG9saWN5LmNyZWF0ZVNjcmlwdFVSTCh1cmwpIDogdXJsO1xuICByZXR1cm4gbmV3IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUsIGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURV8pO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuc3RyaW5naWZ5UGFyYW1zXyA9IGZ1bmN0aW9uKHByZWZpeCwgY3VycmVudFN0cmluZywgcGFyYW1zKSB7XG4gIGlmIChudWxsID09IHBhcmFtcykge1xuICAgIHJldHVybiBjdXJyZW50U3RyaW5nO1xuICB9XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgcGFyYW1zKSB7XG4gICAgcmV0dXJuIHBhcmFtcyA/IHByZWZpeCArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXMpIDogXCJcIjtcbiAgfVxuICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJhbXMsIGtleSkpIHtcbiAgICAgIGZvciAodmFyIHZhbHVlID0gcGFyYW1zW2tleV0sIG91dHB1dFZhbHVlcyA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdLCBpID0gMDsgaSA8IG91dHB1dFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb3V0cHV0VmFsdWUgPSBvdXRwdXRWYWx1ZXNbaV07XG4gICAgICAgIG51bGwgIT0gb3V0cHV0VmFsdWUgJiYgKGN1cnJlbnRTdHJpbmcgfHwgKGN1cnJlbnRTdHJpbmcgPSBwcmVmaXgpLCBjdXJyZW50U3RyaW5nICs9IChjdXJyZW50U3RyaW5nLmxlbmd0aCA+IHByZWZpeC5sZW5ndGggPyBcIiZcIiA6IFwiXCIpICsgZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcob3V0cHV0VmFsdWUpKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjdXJyZW50U3RyaW5nO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsID0gZnVuY3Rpb24odmFsdWUsIHRva2VuKSB7XG4gIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVVybFdyYXBwZWRWYWx1ZV8gPSB0b2tlbiA9PT0gZ29vZy5odG1sLlNhZmVVcmwuQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURV8gPyB2YWx1ZSA6IFwiXCI7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyA9IFwiYWJvdXQ6aW52YWxpZCN6Q2xvc3VyZXpcIjtcbmdvb2cuaHRtbC5TYWZlVXJsLnByb3RvdHlwZS5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID0gITA7XG5nb29nLmh0bWwuU2FmZVVybC5wcm90b3R5cGUuZ2V0VHlwZWRTdHJpbmdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlVXJsV3JhcHBlZFZhbHVlXy50b1N0cmluZygpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLnByb3RvdHlwZS5pbXBsZW1lbnRzR29vZ0kxOG5CaWRpRGlyZWN0aW9uYWxTdHJpbmcgPSAhMDtcbmdvb2cuaHRtbC5TYWZlVXJsLnByb3RvdHlwZS5nZXREaXJlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuaTE4bi5iaWRpLkRpci5MVFI7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVVcmxXcmFwcGVkVmFsdWVfLnRvU3RyaW5nKCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwudW53cmFwID0gZnVuY3Rpb24oc2FmZVVybCkge1xuICBpZiAoc2FmZVVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsICYmIHNhZmVVcmwuY29uc3RydWN0b3IgPT09IGdvb2cuaHRtbC5TYWZlVXJsKSB7XG4gICAgcmV0dXJuIHNhZmVVcmwucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVVybFdyYXBwZWRWYWx1ZV87XG4gIH1cbiAgZ29vZy5hc3NlcnRzLmZhaWwoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBTYWZlVXJsLCBnb3QgJ1wiICsgc2FmZVVybCArIFwiJyBvZiB0eXBlIFwiICsgZ29vZy50eXBlT2Yoc2FmZVVybCkpO1xuICByZXR1cm4gXCJ0eXBlX2Vycm9yOlNhZmVVcmxcIjtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tQ29uc3RhbnQgPSBmdW5jdGlvbih1cmwpIHtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShnb29nLnN0cmluZy5Db25zdC51bndyYXAodXJsKSk7XG59O1xuZ29vZy5odG1sLlNBRkVfTUlNRV9UWVBFX1BBVFRFUk5fID0gUmVnRXhwKCdeKD86YXVkaW8vKD86M2dwcDJ8M2dwcHxhYWN8TDE2fG1pZGl8bXAzfG1wNHxtcGVnfG9nYXxvZ2d8b3B1c3x4LW00YXx4LW1hdHJvc2thfHgtd2F2fHdhdnx3ZWJtKXxmb250L1xcXFx3K3xpbWFnZS8oPzpibXB8Z2lmfGpwZWd8anBnfHBuZ3x0aWZmfHdlYnB8eC1pY29uKXx2aWRlby8oPzptcGVnfG1wNHxvZ2d8d2VibXxxdWlja3RpbWV8eC1tYXRyb3NrYSkpKD86O1xcXFx3Kz0oPzpcXFxcdyt8XCJbXFxcXHc7LD0gXStcIikpKiQnLCBcImlcIik7XG5nb29nLmh0bWwuU2FmZVVybC5pc1NhZmVNaW1lVHlwZSA9IGZ1bmN0aW9uKG1pbWVUeXBlKSB7XG4gIHJldHVybiBnb29nLmh0bWwuU0FGRV9NSU1FX1RZUEVfUEFUVEVSTl8udGVzdChtaW1lVHlwZSk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbUJsb2IgPSBmdW5jdGlvbihibG9iKSB7XG4gIHZhciB1cmwgPSBnb29nLmh0bWwuU2FmZVVybC5pc1NhZmVNaW1lVHlwZShibG9iLnR5cGUpID8gZ29vZy5mcy51cmwuY3JlYXRlT2JqZWN0VXJsKGJsb2IpIDogZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORztcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh1cmwpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLnJldm9rZU9iamVjdFVybCA9IGZ1bmN0aW9uKHNhZmVVcmwpIHtcbiAgdmFyIHVybCA9IHNhZmVVcmwuZ2V0VHlwZWRTdHJpbmdWYWx1ZSgpO1xuICB1cmwgIT09IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkcgJiYgZ29vZy5mcy51cmwucmV2b2tlT2JqZWN0VXJsKHVybCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbU1lZGlhU291cmNlID0gZnVuY3Rpb24obWVkaWFTb3VyY2UpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChcIk1lZGlhU291cmNlXCIgaW4gZ29vZy5nbG9iYWwsIFwiTm8gc3VwcG9ydCBmb3IgTWVkaWFTb3VyY2VcIik7XG4gIHZhciB1cmwgPSBtZWRpYVNvdXJjZSBpbnN0YW5jZW9mIE1lZGlhU291cmNlID8gZ29vZy5mcy51cmwuY3JlYXRlT2JqZWN0VXJsKG1lZGlhU291cmNlKSA6IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkc7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UodXJsKTtcbn07XG5nb29nLmh0bWwuREFUQV9VUkxfUEFUVEVSTl8gPSAvXmRhdGE6KC4qKTtiYXNlNjQsW2EtejAtOStcXC9dKz0qJC9pO1xuZ29vZy5odG1sLlNhZmVVcmwudHJ5RnJvbURhdGFVcmwgPSBmdW5jdGlvbihkYXRhVXJsKSB7XG4gIGRhdGFVcmwgPSBTdHJpbmcoZGF0YVVybCk7XG4gIHZhciBmaWx0ZXJlZERhdGFVcmwgPSBkYXRhVXJsLnJlcGxhY2UoLyglMEF8JTBEKS9nLCBcIlwiKSwgbWF0Y2ggPSBmaWx0ZXJlZERhdGFVcmwubWF0Y2goZ29vZy5odG1sLkRBVEFfVVJMX1BBVFRFUk5fKTtcbiAgcmV0dXJuIG1hdGNoICYmIGdvb2cuaHRtbC5TYWZlVXJsLmlzU2FmZU1pbWVUeXBlKG1hdGNoWzFdKSA/IGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShmaWx0ZXJlZERhdGFVcmwpIDogbnVsbDtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tRGF0YVVybCA9IGZ1bmN0aW9uKGRhdGFVcmwpIHtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLnRyeUZyb21EYXRhVXJsKGRhdGFVcmwpIHx8IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19VUkw7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbVRlbFVybCA9IGZ1bmN0aW9uKHRlbFVybCkge1xuICBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoKHRlbFVybCwgXCJ0ZWw6XCIpIHx8ICh0ZWxVcmwgPSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh0ZWxVcmwpO1xufTtcbmdvb2cuaHRtbC5TSVBfVVJMX1BBVFRFUk5fID0gUmVnRXhwKFwiXnNpcFtzXT86WythLXowLTlfLiEkJSYnKlxcXFwvPV5ge3x9fi1dK0AoW2EtejAtOS1dK1xcXFwuKStbYS16MC05XXsyLDYzfSRcIiwgXCJpXCIpO1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbVNpcFVybCA9IGZ1bmN0aW9uKHNpcFVybCkge1xuICBnb29nLmh0bWwuU0lQX1VSTF9QQVRURVJOXy50ZXN0KGRlY29kZVVSSUNvbXBvbmVudChzaXBVcmwpKSB8fCAoc2lwVXJsID0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyk7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc2lwVXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tRmFjZWJvb2tNZXNzZW5nZXJVcmwgPSBmdW5jdGlvbihmYWNlYm9va01lc3NlbmdlclVybCkge1xuICBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoKGZhY2Vib29rTWVzc2VuZ2VyVXJsLCBcImZiLW1lc3NlbmdlcjovL3NoYXJlXCIpIHx8IChmYWNlYm9va01lc3NlbmdlclVybCA9IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkcpO1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGZhY2Vib29rTWVzc2VuZ2VyVXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tV2hhdHNBcHBVcmwgPSBmdW5jdGlvbih3aGF0c0FwcFVybCkge1xuICBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoKHdoYXRzQXBwVXJsLCBcIndoYXRzYXBwOi8vc2VuZFwiKSB8fCAod2hhdHNBcHBVcmwgPSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh3aGF0c0FwcFVybCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbVNtc1VybCA9IGZ1bmN0aW9uKHNtc1VybCkge1xuICBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoKHNtc1VybCwgXCJzbXM6XCIpICYmIGdvb2cuaHRtbC5TYWZlVXJsLmlzU21zVXJsQm9keVZhbGlkXyhzbXNVcmwpIHx8IChzbXNVcmwgPSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzbXNVcmwpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLmlzU21zVXJsQm9keVZhbGlkXyA9IGZ1bmN0aW9uKHNtc1VybCkge1xuICB2YXIgaGFzaCA9IHNtc1VybC5pbmRleE9mKFwiI1wiKTtcbiAgMCA8IGhhc2ggJiYgKHNtc1VybCA9IHNtc1VybC5zdWJzdHJpbmcoMCwgaGFzaCkpO1xuICB2YXIgYm9keVBhcmFtcyA9IHNtc1VybC5tYXRjaCgvWz8mXWJvZHk9L2dpKTtcbiAgaWYgKCFib2R5UGFyYW1zKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIGlmICgxIDwgYm9keVBhcmFtcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIGJvZHlWYWx1ZSA9IHNtc1VybC5tYXRjaCgvWz8mXWJvZHk9KFteJl0qKS8pWzFdO1xuICBpZiAoIWJvZHlWYWx1ZSkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICB0cnkge1xuICAgIGRlY29kZVVSSUNvbXBvbmVudChib2R5VmFsdWUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICByZXR1cm4gL14oPzpbYS16MC05XFwtXy5+XXwlWzAtOWEtZl17Mn0pKyQvaS50ZXN0KGJvZHlWYWx1ZSk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbVNzaFVybCA9IGZ1bmN0aW9uKHNzaFVybCkge1xuICBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoKHNzaFVybCwgXCJzc2g6Ly9cIikgfHwgKHNzaFVybCA9IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkcpO1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHNzaFVybCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVDaHJvbWVFeHRlbnNpb25VcmwgPSBmdW5jdGlvbih1cmwsIGV4dGVuc2lvbklkKSB7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUV4dGVuc2lvblVybF8oL15jaHJvbWUtZXh0ZW5zaW9uOlxcL1xcLyhbXlxcL10rKVxcLy8sIHVybCwgZXh0ZW5zaW9uSWQpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplRmlyZWZveEV4dGVuc2lvblVybCA9IGZ1bmN0aW9uKHVybCwgZXh0ZW5zaW9uSWQpIHtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplRXh0ZW5zaW9uVXJsXygvXm1vei1leHRlbnNpb246XFwvXFwvKFteXFwvXSspXFwvLywgdXJsLCBleHRlbnNpb25JZCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVFZGdlRXh0ZW5zaW9uVXJsID0gZnVuY3Rpb24odXJsLCBleHRlbnNpb25JZCkge1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVFeHRlbnNpb25VcmxfKC9ebXMtYnJvd3Nlci1leHRlbnNpb246XFwvXFwvKFteXFwvXSspXFwvLywgdXJsLCBleHRlbnNpb25JZCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVFeHRlbnNpb25VcmxfID0gZnVuY3Rpb24oc2NoZW1lLCB1cmwsIGV4dGVuc2lvbklkKSB7XG4gIHZhciBtYXRjaGVzID0gc2NoZW1lLmV4ZWModXJsKTtcbiAgaWYgKG1hdGNoZXMpIHtcbiAgICB2YXIgZXh0cmFjdGVkRXh0ZW5zaW9uSWQgPSBtYXRjaGVzWzFdO1xuICAgIC0xID09IChleHRlbnNpb25JZCBpbnN0YW5jZW9mIGdvb2cuc3RyaW5nLkNvbnN0ID8gW2dvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChleHRlbnNpb25JZCldIDogZXh0ZW5zaW9uSWQubWFwKGZ1bmN0aW9uIHVud3JhcCh4KSB7XG4gICAgICByZXR1cm4gZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKHgpO1xuICAgIH0pKS5pbmRleE9mKGV4dHJhY3RlZEV4dGVuc2lvbklkKSAmJiAodXJsID0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyk7XG4gIH0gZWxzZSB7XG4gICAgdXJsID0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORztcbiAgfVxuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVybCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbVRydXN0ZWRSZXNvdXJjZVVybCA9IGZ1bmN0aW9uKHRydXN0ZWRSZXNvdXJjZVVybCkge1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwKHRydXN0ZWRSZXNvdXJjZVVybCkpO1xufTtcbmdvb2cuaHRtbC5TQUZFX1VSTF9QQVRURVJOXyA9IC9eKD86KD86aHR0cHM/fG1haWx0b3xmdHApOnxbXjovPyNdKig/OlsvPyNdfCQpKS9pO1xuZ29vZy5odG1sLlNhZmVVcmwuU0FGRV9VUkxfUEFUVEVSTiA9IGdvb2cuaHRtbC5TQUZFX1VSTF9QQVRURVJOXztcbmdvb2cuaHRtbC5TYWZlVXJsLnRyeVNhbml0aXplID0gZnVuY3Rpb24odXJsKSB7XG4gIGlmICh1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdXJsID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdXJsICYmIHVybC5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID8gdXJsLmdldFR5cGVkU3RyaW5nVmFsdWUoKSA6IFN0cmluZyh1cmwpO1xuICByZXR1cm4gZ29vZy5odG1sLlNBRkVfVVJMX1BBVFRFUk5fLnRlc3QodXJsKSA/IGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh1cmwpIDogZ29vZy5odG1sLlNhZmVVcmwudHJ5RnJvbURhdGFVcmwodXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZSA9IGZ1bmN0aW9uKHVybCkge1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwudHJ5U2FuaXRpemUodXJsKSB8fCBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfVVJMO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkID0gZnVuY3Rpb24odXJsLCBvcHRfYWxsb3dEYXRhVXJsKSB7XG4gIGlmICh1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdXJsID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdXJsICYmIHVybC5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID8gdXJsLmdldFR5cGVkU3RyaW5nVmFsdWUoKSA6IFN0cmluZyh1cmwpO1xuICBpZiAob3B0X2FsbG93RGF0YVVybCAmJiAvXmRhdGE6L2kudGVzdCh1cmwpKSB7XG4gICAgdmFyIHNhZmVVcmwgPSBnb29nLmh0bWwuU2FmZVVybC5mcm9tRGF0YVVybCh1cmwpO1xuICAgIGlmIChzYWZlVXJsLmdldFR5cGVkU3RyaW5nVmFsdWUoKSA9PSB1cmwpIHtcbiAgICAgIHJldHVybiBzYWZlVXJsO1xuICAgIH1cbiAgfVxuICBnb29nLmFzc2VydHMuYXNzZXJ0KGdvb2cuaHRtbC5TQUZFX1VSTF9QQVRURVJOXy50ZXN0KHVybCksIFwiJXMgZG9lcyBub3QgbWF0Y2ggdGhlIHNhZmUgVVJMIHBhdHRlcm5cIiwgdXJsKSB8fCAodXJsID0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyk7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UodXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyA9IHt9O1xuZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlID0gZnVuY3Rpb24odXJsKSB7XG4gIHJldHVybiBuZXcgZ29vZy5odG1sLlNhZmVVcmwodXJsLCBnb29nLmh0bWwuU2FmZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1VSTCA9IGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbmdvb2cuaHRtbC5TYWZlVXJsLkFCT1VUX0JMQU5LID0gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiYWJvdXQ6YmxhbmtcIik7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSA9IHt9LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUgPSBmdW5jdGlvbih2YWx1ZSwgdG9rZW4pIHtcbiAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU3R5bGVXcmFwcGVkVmFsdWVfID0gdG9rZW4gPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEUgPyB2YWx1ZSA6IFwiXCI7XG4gIHRoaXMuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyA9ICEwO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5mcm9tQ29uc3RhbnQgPSBmdW5jdGlvbihzdHlsZSkge1xuICB2YXIgc3R5bGVTdHJpbmcgPSBnb29nLnN0cmluZy5Db25zdC51bndyYXAoc3R5bGUpO1xuICBpZiAoMCA9PT0gc3R5bGVTdHJpbmcubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5FTVBUWTtcbiAgfVxuICAoMCxnb29nLmFzc2VydHMuYXNzZXJ0KSgoMCxnb29nLnN0cmluZy5pbnRlcm5hbC5lbmRzV2l0aCkoc3R5bGVTdHJpbmcsIFwiO1wiKSwgXCJMYXN0IGNoYXJhY3RlciBvZiBzdHlsZSBzdHJpbmcgaXMgbm90ICc7JzogXCIgKyBzdHlsZVN0cmluZyk7XG4gICgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKCgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zKShzdHlsZVN0cmluZywgXCI6XCIpLCBcIlN0eWxlIHN0cmluZyBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lICc6JywgdG8gc3BlY2lmeSBhIFxcXCJuYW1lOiB2YWx1ZVxcXCIgcGFpcjogXCIgKyBzdHlsZVN0cmluZyk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuY3JlYXRlU2FmZVN0eWxlU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc3R5bGVTdHJpbmcpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5wcm90b3R5cGUuZ2V0VHlwZWRTdHJpbmdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU3R5bGVXcmFwcGVkVmFsdWVfO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVN0eWxlV3JhcHBlZFZhbHVlXy50b1N0cmluZygpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS51bndyYXAgPSBmdW5jdGlvbihzYWZlU3R5bGUpIHtcbiAgaWYgKHNhZmVTdHlsZSBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZSAmJiBzYWZlU3R5bGUuY29uc3RydWN0b3IgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZSkge1xuICAgIHJldHVybiBzYWZlU3R5bGUucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVN0eWxlV3JhcHBlZFZhbHVlXztcbiAgfVxuICAoMCxnb29nLmFzc2VydHMuZmFpbCkoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBTYWZlU3R5bGUsIGdvdCAnXCIgKyBzYWZlU3R5bGUgKyBcIicgb2YgdHlwZSBcIiArIGdvb2cudHlwZU9mKHNhZmVTdHlsZSkpO1xuICByZXR1cm4gXCJ0eXBlX2Vycm9yOlNhZmVTdHlsZVwiO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGVTYWZlU3R5bGVTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSA9IGZ1bmN0aW9uKHN0eWxlKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlKHN0eWxlLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuY3JlYXRlID0gZnVuY3Rpb24obWFwKSB7XG4gIHZhciBzdHlsZSA9IFwiXCIsIG5hbWU7XG4gIGZvciAobmFtZSBpbiBtYXApIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1hcCwgbmFtZSkpIHtcbiAgICAgIGlmICghL15bLV9hLXpBLVowLTldKyQvLnRlc3QobmFtZSkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJOYW1lIGFsbG93cyBvbmx5IFstX2EtekEtWjAtOV0sIGdvdDogXCIgKyBuYW1lKTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IG1hcFtuYW1lXTtcbiAgICAgIG51bGwgIT0gdmFsdWUgJiYgKHZhbHVlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfc2FuaXRpemVQcm9wZXJ0eVZhbHVlKS5qb2luKFwiIFwiKSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX3Nhbml0aXplUHJvcGVydHlWYWx1ZSh2YWx1ZSksIHN0eWxlICs9IG5hbWUgKyBcIjpcIiArIHZhbHVlICsgXCI7XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3R5bGUgPyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuY3JlYXRlU2FmZVN0eWxlU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc3R5bGUpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLkVNUFRZO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jb25jYXQgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgc3R5bGUgPSBcIlwiLCBhZGRBcmd1bWVudCA9IGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgQXJyYXkuaXNBcnJheShhcmd1bWVudCkgPyBhcmd1bWVudC5mb3JFYWNoKGFkZEFyZ3VtZW50KSA6IHN0eWxlICs9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS51bndyYXAoYXJndW1lbnQpO1xuICB9O1xuICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGFyZ3VtZW50cywgYWRkQXJndW1lbnQpO1xuICByZXR1cm4gc3R5bGUgPyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuY3JlYXRlU2FmZVN0eWxlU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc3R5bGUpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLkVNUFRZO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5FTVBUWSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGVTYWZlU3R5bGVTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShcIlwiKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5JTk5PQ1VPVVNfU1RSSU5HID0gXCJ6Q2xvc3VyZXpcIjtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX3Nhbml0aXplUHJvcGVydHlWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCkge1xuICAgIHJldHVybiAndXJsKFwiJyArIGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcCh2YWx1ZSkucmVwbGFjZSgvPC9nLCBcIiUzY1wiKS5yZXBsYWNlKC9bXFxcXFwiXS9nLCBcIlxcXFwkJlwiKSArICdcIiknO1xuICB9XG4gIHZhciByZXN1bHQgPSB2YWx1ZSBpbnN0YW5jZW9mIGdvb2cuc3RyaW5nLkNvbnN0ID8gZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKHZhbHVlKSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX3Nhbml0aXplUHJvcGVydHlWYWx1ZVN0cmluZyhTdHJpbmcodmFsdWUpKTtcbiAgaWYgKC9bezt9XS8udGVzdChyZXN1bHQpKSB7XG4gICAgdGhyb3cgbmV3IGdvb2cuYXNzZXJ0cy5Bc3NlcnRpb25FcnJvcihcIlZhbHVlIGRvZXMgbm90IGFsbG93IFt7O31dLCBnb3Q6ICVzLlwiLCBbcmVzdWx0XSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX3Nhbml0aXplUHJvcGVydHlWYWx1ZVN0cmluZyh2YWx1ZSkge1xuICB2YXIgdmFsdWVXaXRob3V0RnVuY3Rpb25zID0gdmFsdWUucmVwbGFjZShtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9GVU5DVElPTlNfUkUsIFwiJDFcIikucmVwbGFjZShtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9GVU5DVElPTlNfUkUsIFwiJDFcIikucmVwbGFjZShtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9VUkxfUkUsIFwidXJsXCIpO1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfVkFMVUVfUkUudGVzdCh2YWx1ZVdpdGhvdXRGdW5jdGlvbnMpKSB7XG4gICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX0NPTU1FTlRfUkUudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAoMCxnb29nLmFzc2VydHMuZmFpbCkoXCJTdHJpbmcgdmFsdWUgZGlzYWxsb3dzIGNvbW1lbnRzLCBnb3Q6IFwiICsgdmFsdWUpLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuSU5OT0NVT1VTX1NUUklORztcbiAgICB9XG4gICAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9oYXNCYWxhbmNlZFF1b3Rlcyh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAoMCxnb29nLmFzc2VydHMuZmFpbCkoXCJTdHJpbmcgdmFsdWUgcmVxdWlyZXMgYmFsYW5jZWQgcXVvdGVzLCBnb3Q6IFwiICsgdmFsdWUpLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuSU5OT0NVT1VTX1NUUklORztcbiAgICB9XG4gICAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9oYXNCYWxhbmNlZFNxdWFyZUJyYWNrZXRzKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICgwLGdvb2cuYXNzZXJ0cy5mYWlsKShcIlN0cmluZyB2YWx1ZSByZXF1aXJlcyBiYWxhbmNlZCBzcXVhcmUgYnJhY2tldHMgYW5kIG9uZSBpZGVudGlmaWVyIHBlciBwYWlyIG9mIGJyYWNrZXRzLCBnb3Q6IFwiICsgdmFsdWUpLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuSU5OT0NVT1VTX1NUUklORztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICgwLGdvb2cuYXNzZXJ0cy5mYWlsKShcIlN0cmluZyB2YWx1ZSBhbGxvd3Mgb25seSBbLSwuXFxcIiclXyEjLyBhLXpBLVowLTlcXFxcW1xcXFxdXSBhbmQgc2ltcGxlIGZ1bmN0aW9ucywgZ290OiBcIiArIHZhbHVlKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLklOTk9DVU9VU19TVFJJTkc7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX3Nhbml0aXplVXJsKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX2hhc0JhbGFuY2VkUXVvdGVzKHZhbHVlKSB7XG4gIGZvciAodmFyIG91dHNpZGVTaW5nbGUgPSAhMCwgb3V0c2lkZURvdWJsZSA9ICEwLCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGMgPSB2YWx1ZS5jaGFyQXQoaSk7XG4gICAgXCInXCIgPT0gYyAmJiBvdXRzaWRlRG91YmxlID8gb3V0c2lkZVNpbmdsZSA9ICFvdXRzaWRlU2luZ2xlIDogJ1wiJyA9PSBjICYmIG91dHNpZGVTaW5nbGUgJiYgKG91dHNpZGVEb3VibGUgPSAhb3V0c2lkZURvdWJsZSk7XG4gIH1cbiAgcmV0dXJuIG91dHNpZGVTaW5nbGUgJiYgb3V0c2lkZURvdWJsZTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX2hhc0JhbGFuY2VkU3F1YXJlQnJhY2tldHModmFsdWUpIHtcbiAgZm9yICh2YXIgb3V0c2lkZSA9ICEwLCB0b2tlblJlID0gL15bLV9hLXpBLVowLTldJC8sIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYyA9IHZhbHVlLmNoYXJBdChpKTtcbiAgICBpZiAoXCJdXCIgPT0gYykge1xuICAgICAgaWYgKG91dHNpZGUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgb3V0c2lkZSA9ICEwO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXCJbXCIgPT0gYykge1xuICAgICAgICBpZiAoIW91dHNpZGUpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgICAgb3V0c2lkZSA9ICExO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFvdXRzaWRlICYmICF0b2tlblJlLnRlc3QoYykpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dHNpZGU7XG59XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfVkFMVUVfUkUgPSBSZWdFeHAoXCJeWy0sLlxcXCInJV8hIy8gYS16QS1aMC05XFxcXFtcXFxcXV0rJFwiKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfVVJMX1JFID0gUmVnRXhwKFwiXFxcXGIodXJsXFxcXChbIFxcdFxcbl0qKSgnWyAtJigtXFxcXFtcXFxcXS1+XSonfFxcXCJbICEjLVxcXFxbXFxcXF0tfl0qXFxcInxbISMtJiotXFxcXFtcXFxcXS1+XSopKFsgXFx0XFxuXSpcXFxcKSlcIiwgXCJnXCIpLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9GVU5DVElPTlNfUkUgPSBSZWdFeHAoXCJcXFxcYihjYWxjfGN1YmljLWJlemllcnxmaXQtY29udGVudHxoc2x8aHNsYXxsaW5lYXItZ3JhZGllbnR8bWF0cml4fG1pbm1heHxyZXBlYXR8cmdifHJnYmF8KHJvdGF0ZXxzY2FsZXx0cmFuc2xhdGUpKFh8WXxafDNkKT98dmFyKVxcXFwoWy0rKi8wLTlhLXpBLVouJSNcXFxcW1xcXFxdLCBdK1xcXFwpXCIsIFwiZ1wiKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfQ09NTUVOVF9SRSA9IFxuL1xcL1xcKi87XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9zYW5pdGl6ZVVybCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUucmVwbGFjZShtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9VUkxfUkUsIGZ1bmN0aW9uKG1hdGNoJGpzY29tcCQwLCBiZWZvcmUsIHVybCwgYWZ0ZXIpIHtcbiAgICB2YXIgcXVvdGUgPSBcIlwiO1xuICAgIHVybCA9IHVybC5yZXBsYWNlKC9eKFsnXCJdKSguKilcXDEkLywgZnVuY3Rpb24obWF0Y2gsIHN0YXJ0LCBpbnNpZGUpIHtcbiAgICAgIHF1b3RlID0gc3RhcnQ7XG4gICAgICByZXR1cm4gaW5zaWRlO1xuICAgIH0pO1xuICAgIHZhciBzYW5pdGl6ZWQgPSBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZSh1cmwpLmdldFR5cGVkU3RyaW5nVmFsdWUoKTtcbiAgICByZXR1cm4gYmVmb3JlICsgcXVvdGUgKyBzYW5pdGl6ZWQgKyBxdW90ZSArIGFmdGVyO1xuICB9KTtcbn1cbmdvb2cuaHRtbC5TYWZlU3R5bGUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGU7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFID0ge30sIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQgPSBmdW5jdGlvbih2YWx1ZSwgdG9rZW4pIHtcbiAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU3R5bGVTaGVldFdyYXBwZWRWYWx1ZV8gPSB0b2tlbiA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFID8gdmFsdWUgOiBcIlwiO1xuICB0aGlzLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgPSAhMDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LmNyZWF0ZVJ1bGUgPSBmdW5jdGlvbihzZWxlY3Rvciwgc3R5bGUpIHtcbiAgaWYgKCgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zKShzZWxlY3RvciwgXCI8XCIpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJTZWxlY3RvciBkb2VzIG5vdCBhbGxvdyAnPCcsIGdvdDogXCIgKyBzZWxlY3Rvcik7XG4gIH1cbiAgdmFyIHNlbGVjdG9yVG9DaGVjayA9IHNlbGVjdG9yLnJlcGxhY2UoLygnfFwiKSgoPyFcXDEpW15cXHJcXG5cXGZcXFxcXXxcXFxcW1xcc1xcU10pKlxcMS9nLCBcIlwiKTtcbiAgaWYgKCEvXlstX2EtekEtWjAtOSMuOiogLD4rfltcXF0oKT1eJHxdKyQvLnRlc3Qoc2VsZWN0b3JUb0NoZWNrKSkge1xuICAgIHRocm93IEVycm9yKFwiU2VsZWN0b3IgYWxsb3dzIG9ubHkgWy1fYS16QS1aMC05Iy46KiAsPit+W1xcXFxdKCk9XiR8XSBhbmQgc3RyaW5ncywgZ290OiBcIiArIHNlbGVjdG9yKTtcbiAgfVxuICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuaGFzQmFsYW5jZWRCcmFja2V0c18oc2VsZWN0b3JUb0NoZWNrKSkge1xuICAgIHRocm93IEVycm9yKFwiKCkgYW5kIFtdIGluIHNlbGVjdG9yIG11c3QgYmUgYmFsYW5jZWQsIGdvdDogXCIgKyBzZWxlY3Rvcik7XG4gIH1cbiAgc3R5bGUgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUgfHwgKHN0eWxlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLmNyZWF0ZShzdHlsZSkpO1xuICB2YXIgc3R5bGVTaGVldCA9IHNlbGVjdG9yICsgXCJ7XCIgKyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUudW53cmFwKHN0eWxlKS5yZXBsYWNlKC88L2csIFwiXFxcXDNDIFwiKSArIFwifVwiO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5jcmVhdGVTYWZlU3R5bGVTaGVldFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHN0eWxlU2hlZXQpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuaGFzQmFsYW5jZWRCcmFja2V0c18gPSBmdW5jdGlvbihzKSB7XG4gIGZvciAodmFyIGJyYWNrZXRzID0ge1wiKFwiOlwiKVwiLCBcIltcIjpcIl1cIn0sIGV4cGVjdGVkQnJhY2tldHMgPSBbXSwgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoID0gc1tpXTtcbiAgICBpZiAoYnJhY2tldHNbY2hdKSB7XG4gICAgICBleHBlY3RlZEJyYWNrZXRzLnB1c2goYnJhY2tldHNbY2hdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jb250YWlucyhicmFja2V0cywgY2gpICYmIGV4cGVjdGVkQnJhY2tldHMucG9wKCkgIT0gY2gpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gMCA9PSBleHBlY3RlZEJyYWNrZXRzLmxlbmd0aDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LmNvbmNhdCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiLCBhZGRBcmd1bWVudCA9IGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgQXJyYXkuaXNBcnJheShhcmd1bWVudCkgPyBhcmd1bWVudC5mb3JFYWNoKGFkZEFyZ3VtZW50KSA6IHJlc3VsdCArPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LnVud3JhcChhcmd1bWVudCk7XG4gIH07XG4gIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYXJndW1lbnRzLCBhZGRBcmd1bWVudCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LmNyZWF0ZVNhZmVTdHlsZVNoZWV0U2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UocmVzdWx0KTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LmZyb21Db25zdGFudCA9IGZ1bmN0aW9uKHN0eWxlU2hlZXQpIHtcbiAgdmFyIHN0eWxlU2hlZXRTdHJpbmcgPSBnb29nLnN0cmluZy5Db25zdC51bndyYXAoc3R5bGVTaGVldCk7XG4gIGlmICgwID09PSBzdHlsZVNoZWV0U3RyaW5nLmxlbmd0aCkge1xuICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LkVNUFRZO1xuICB9XG4gICgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKCEoMCxnb29nLnN0cmluZy5pbnRlcm5hbC5jb250YWlucykoc3R5bGVTaGVldFN0cmluZywgXCI8XCIpLCBcIkZvcmJpZGRlbiAnPCcgY2hhcmFjdGVyIGluIHN0eWxlIHNoZWV0IHN0cmluZzogXCIgKyBzdHlsZVNoZWV0U3RyaW5nKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlU2FmZVN0eWxlU2hlZXRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzdHlsZVNoZWV0U3RyaW5nKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LnByb3RvdHlwZS5nZXRUeXBlZFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTdHlsZVNoZWV0V3JhcHBlZFZhbHVlXztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LnVud3JhcCA9IGZ1bmN0aW9uKHNhZmVTdHlsZVNoZWV0KSB7XG4gIGlmIChzYWZlU3R5bGVTaGVldCBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQgJiYgc2FmZVN0eWxlU2hlZXQuY29uc3RydWN0b3IgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQpIHtcbiAgICByZXR1cm4gc2FmZVN0eWxlU2hlZXQucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVN0eWxlU2hlZXRXcmFwcGVkVmFsdWVfO1xuICB9XG4gICgwLGdvb2cuYXNzZXJ0cy5mYWlsKShcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVTdHlsZVNoZWV0LCBnb3QgJ1wiICsgc2FmZVN0eWxlU2hlZXQgKyBcIicgb2YgdHlwZSBcIiArIGdvb2cudHlwZU9mKHNhZmVTdHlsZVNoZWV0KSk7XG4gIHJldHVybiBcInR5cGVfZXJyb3I6U2FmZVN0eWxlU2hlZXRcIjtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LmNyZWF0ZVNhZmVTdHlsZVNoZWV0U2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UgPSBmdW5jdGlvbihzdHlsZVNoZWV0KSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldChzdHlsZVNoZWV0LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEUpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTdHlsZVNoZWV0V3JhcHBlZFZhbHVlXy50b1N0cmluZygpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuRU1QVFkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LmNyZWF0ZVNhZmVTdHlsZVNoZWV0U2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJcIik7XG5nb29nLmh0bWwuU2FmZVN0eWxlU2hlZXQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSA9IHt9LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sID0gZnVuY3Rpb24odmFsdWUsIGRpciwgdG9rZW4pIHtcbiAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlSHRtbFdyYXBwZWRWYWx1ZV8gPSB0b2tlbiA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFID8gdmFsdWUgOiBcIlwiO1xuICB0aGlzLmRpcl8gPSBkaXI7XG4gIHRoaXMuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyA9IHRoaXMuaW1wbGVtZW50c0dvb2dJMThuQmlkaURpcmVjdGlvbmFsU3RyaW5nID0gITA7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmRpcl87XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5wcm90b3R5cGUuZ2V0VHlwZWRTdHJpbmdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlSHRtbFdyYXBwZWRWYWx1ZV8udG9TdHJpbmcoKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlSHRtbFdyYXBwZWRWYWx1ZV8udG9TdHJpbmcoKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcCA9IGZ1bmN0aW9uKHNhZmVIdG1sKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcFRydXN0ZWRIVE1MKHNhZmVIdG1sKS50b1N0cmluZygpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwVHJ1c3RlZEhUTUwgPSBmdW5jdGlvbihzYWZlSHRtbCkge1xuICBpZiAoc2FmZUh0bWwgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sICYmIHNhZmVIdG1sLmNvbnN0cnVjdG9yID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sKSB7XG4gICAgcmV0dXJuIHNhZmVIdG1sLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVIdG1sV3JhcHBlZFZhbHVlXztcbiAgfVxuICBnb29nLmFzc2VydHMuZmFpbChcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVIdG1sLCBnb3QgJ1wiICsgc2FmZUh0bWwgKyBcIicgb2YgdHlwZSBcIiArIGdvb2cudHlwZU9mKHNhZmVIdG1sKSk7XG4gIHJldHVybiBcInR5cGVfZXJyb3I6U2FmZUh0bWxcIjtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGUgPSBmdW5jdGlvbih0ZXh0T3JIdG1sKSB7XG4gIGlmICh0ZXh0T3JIdG1sIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbCkge1xuICAgIHJldHVybiB0ZXh0T3JIdG1sO1xuICB9XG4gIHZhciB0ZXh0SXNPYmplY3QgPSBcIm9iamVjdFwiID09IHR5cGVvZiB0ZXh0T3JIdG1sLCBkaXIgPSBudWxsO1xuICB0ZXh0SXNPYmplY3QgJiYgdGV4dE9ySHRtbC5pbXBsZW1lbnRzR29vZ0kxOG5CaWRpRGlyZWN0aW9uYWxTdHJpbmcgJiYgKGRpciA9IHRleHRPckh0bWwuZ2V0RGlyZWN0aW9uKCkpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGdvb2cuc3RyaW5nLmludGVybmFsLmh0bWxFc2NhcGUodGV4dElzT2JqZWN0ICYmIHRleHRPckh0bWwuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyA/IHRleHRPckh0bWwuZ2V0VHlwZWRTdHJpbmdWYWx1ZSgpIDogU3RyaW5nKHRleHRPckh0bWwpKSwgZGlyKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGVQcmVzZXJ2aW5nTmV3bGluZXMgPSBmdW5jdGlvbih0ZXh0T3JIdG1sKSB7XG4gIGlmICh0ZXh0T3JIdG1sIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbCkge1xuICAgIHJldHVybiB0ZXh0T3JIdG1sO1xuICB9XG4gIHZhciBodG1sID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5odG1sRXNjYXBlKHRleHRPckh0bWwpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGdvb2cuc3RyaW5nLmludGVybmFsLm5ld0xpbmVUb0JyKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwKGh0bWwpKSwgaHRtbC5nZXREaXJlY3Rpb24oKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5odG1sRXNjYXBlUHJlc2VydmluZ05ld2xpbmVzQW5kU3BhY2VzID0gZnVuY3Rpb24odGV4dE9ySHRtbCkge1xuICBpZiAodGV4dE9ySHRtbCBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwpIHtcbiAgICByZXR1cm4gdGV4dE9ySHRtbDtcbiAgfVxuICB2YXIgaHRtbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuaHRtbEVzY2FwZSh0ZXh0T3JIdG1sKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShnb29nLnN0cmluZy5pbnRlcm5hbC53aGl0ZXNwYWNlRXNjYXBlKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwKGh0bWwpKSwgaHRtbC5nZXREaXJlY3Rpb24oKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jb21tZW50ID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiXFx4M2MhLS1cIiArIGdvb2cuc3RyaW5nLmludGVybmFsLmh0bWxFc2NhcGUodGV4dCkgKyBcIi0tXFx4M2VcIiwgbnVsbCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGUgPSBmdW5jdGlvbih0YWdOYW1lLCBhdHRyaWJ1dGVzLCBjb250ZW50KSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudmVyaWZ5VGFnTmFtZShTdHJpbmcodGFnTmFtZSkpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFRhZ1NlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFN0cmluZyh0YWdOYW1lKSwgYXR0cmlidXRlcywgY29udGVudCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC52ZXJpZnlUYWdOYW1lID0gZnVuY3Rpb24odGFnTmFtZSkge1xuICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfVkFMSURfTkFNRVNfSU5fVEFHLnRlc3QodGFnTmFtZSkpIHtcbiAgICB0aHJvdyBFcnJvcihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA/IFwiSW52YWxpZCB0YWcgbmFtZSA8XCIgKyB0YWdOYW1lICsgXCI+LlwiIDogXCJcIik7XG4gIH1cbiAgaWYgKHRhZ05hbWUudG9VcHBlckNhc2UoKSBpbiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX05PVF9BTExPV0VEX1RBR19OQU1FUykge1xuICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gXCJUYWcgbmFtZSA8XCIgKyB0YWdOYW1lICsgXCI+IGlzIG5vdCBhbGxvd2VkIGZvciBTYWZlSHRtbC5cIiA6IFwiXCIpO1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVJZnJhbWUgPSBmdW5jdGlvbihzcmMsIHNyY2RvYywgYXR0cmlidXRlcywgY29udGVudCkge1xuICBzcmMgJiYgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAoc3JjKTtcbiAgdmFyIGZpeGVkQXR0cmlidXRlcyA9IHt9O1xuICBmaXhlZEF0dHJpYnV0ZXMuc3JjID0gc3JjIHx8IG51bGw7XG4gIGZpeGVkQXR0cmlidXRlcy5zcmNkb2MgPSBzcmNkb2MgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXAoc3JjZG9jKTtcbiAgdmFyIGNvbWJpbmVkQXR0cnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbWJpbmVBdHRyaWJ1dGVzKGZpeGVkQXR0cmlidXRlcywge3NhbmRib3g6XCJcIn0sIGF0dHJpYnV0ZXMpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFRhZ1NlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiaWZyYW1lXCIsIGNvbWJpbmVkQXR0cnMsIGNvbnRlbnQpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FuZGJveElmcmFtZSA9IGZ1bmN0aW9uKHNyYywgc3JjZG9jLCBhdHRyaWJ1dGVzLCBjb250ZW50KSB7XG4gIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jYW5Vc2VTYW5kYm94SWZyYW1lKCkpIHtcbiAgICB0aHJvdyBFcnJvcihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA/IFwiVGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzYW5kYm94ZWQgaWZyYW1lcy5cIiA6IFwiXCIpO1xuICB9XG4gIHZhciBmaXhlZEF0dHJpYnV0ZXMgPSB7fTtcbiAgZml4ZWRBdHRyaWJ1dGVzLnNyYyA9IHNyYyA/IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZShzcmMpKSA6IG51bGw7XG4gIGZpeGVkQXR0cmlidXRlcy5zcmNkb2MgPSBzcmNkb2MgfHwgbnVsbDtcbiAgZml4ZWRBdHRyaWJ1dGVzLnNhbmRib3ggPSBcIlwiO1xuICB2YXIgY29tYmluZWRBdHRycyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29tYmluZUF0dHJpYnV0ZXMoZml4ZWRBdHRyaWJ1dGVzLCB7fSwgYXR0cmlidXRlcyk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJpZnJhbWVcIiwgY29tYmluZWRBdHRycywgY29udGVudCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jYW5Vc2VTYW5kYm94SWZyYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmdsb2JhbC5IVE1MSUZyYW1lRWxlbWVudCAmJiBcInNhbmRib3hcIiBpbiBnb29nLmdsb2JhbC5IVE1MSUZyYW1lRWxlbWVudC5wcm90b3R5cGU7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTY3JpcHRTcmMgPSBmdW5jdGlvbihzcmMsIGF0dHJpYnV0ZXMpIHtcbiAgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAoc3JjKTtcbiAgdmFyIGNvbWJpbmVkQXR0cnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbWJpbmVBdHRyaWJ1dGVzKHtzcmM6c3JjfSwge30sIGF0dHJpYnV0ZXMpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFRhZ1NlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwic2NyaXB0XCIsIGNvbWJpbmVkQXR0cnMpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2NyaXB0ID0gZnVuY3Rpb24oc2NyaXB0LCBhdHRyaWJ1dGVzKSB7XG4gIGZvciAodmFyIGF0dHIgaW4gYXR0cmlidXRlcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXR0cmlidXRlcywgYXR0cikpIHtcbiAgICAgIHZhciBhdHRyTG93ZXIgPSBhdHRyLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoXCJsYW5ndWFnZVwiID09IGF0dHJMb3dlciB8fCBcInNyY1wiID09IGF0dHJMb3dlciB8fCBcInRleHRcIiA9PSBhdHRyTG93ZXIgfHwgXCJ0eXBlXCIgPT0gYXR0ckxvd2VyKSB7XG4gICAgICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gJ0Nhbm5vdCBzZXQgXCInICsgYXR0ckxvd2VyICsgJ1wiIGF0dHJpYnV0ZScgOiBcIlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICBzY3JpcHQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXQoc2NyaXB0KTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY3JpcHQubGVuZ3RoOyBpKyspIHtcbiAgICBjb250ZW50ICs9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LnVud3JhcChzY3JpcHRbaV0pO1xuICB9XG4gIHZhciBodG1sQ29udGVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShjb250ZW50LCBnb29nLmkxOG4uYmlkaS5EaXIuTkVVVFJBTCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJzY3JpcHRcIiwgYXR0cmlidXRlcywgaHRtbENvbnRlbnQpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU3R5bGUgPSBmdW5jdGlvbihzdHlsZVNoZWV0LCBhdHRyaWJ1dGVzKSB7XG4gIHZhciBjb21iaW5lZEF0dHJzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jb21iaW5lQXR0cmlidXRlcyh7dHlwZTpcInRleHQvY3NzXCJ9LCB7fSwgYXR0cmlidXRlcyksIGNvbnRlbnQgPSBcIlwiO1xuICBzdHlsZVNoZWV0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29uY2F0KHN0eWxlU2hlZXQpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlU2hlZXQubGVuZ3RoOyBpKyspIHtcbiAgICBjb250ZW50ICs9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQudW53cmFwKHN0eWxlU2hlZXRbaV0pO1xuICB9XG4gIHZhciBodG1sQ29udGVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShjb250ZW50LCBnb29nLmkxOG4uYmlkaS5EaXIuTkVVVFJBTCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJzdHlsZVwiLCBjb21iaW5lZEF0dHJzLCBodG1sQ29udGVudCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVNZXRhUmVmcmVzaCA9IGZ1bmN0aW9uKHVybCwgc2Vjcykge1xuICB2YXIgdW53cmFwcGVkVXJsID0gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplKHVybCkpO1xuICAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sKCkpICYmIGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zKHVud3JhcHBlZFVybCwgXCI7XCIpICYmICh1bndyYXBwZWRVcmwgPSBcIidcIiArIHVud3JhcHBlZFVybC5yZXBsYWNlKC8nL2csIFwiJTI3XCIpICsgXCInXCIpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFRhZ1NlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwibWV0YVwiLCB7XCJodHRwLWVxdWl2XCI6XCJyZWZyZXNoXCIsIGNvbnRlbnQ6KHNlY3MgfHwgMCkgKyBcIjsgdXJsPVwiICsgdW53cmFwcGVkVXJsLH0pO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlV2l0aERpciA9IGZ1bmN0aW9uKGRpciwgdGFnTmFtZSwgYXR0cmlidXRlcywgY29udGVudCkge1xuICB2YXIgaHRtbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlKHRhZ05hbWUsIGF0dHJpYnV0ZXMsIGNvbnRlbnQpO1xuICBodG1sLmRpcl8gPSBkaXI7XG4gIHJldHVybiBodG1sO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuam9pbiA9IGZ1bmN0aW9uKHNlcGFyYXRvciwgcGFydHMpIHtcbiAgdmFyIHNlcGFyYXRvckh0bWwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGUoc2VwYXJhdG9yKSwgZGlyID0gc2VwYXJhdG9ySHRtbC5nZXREaXJlY3Rpb24oKSwgY29udGVudCA9IFtdLCBhZGRBcmd1bWVudCA9IGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJndW1lbnQpKSB7XG4gICAgICBhcmd1bWVudC5mb3JFYWNoKGFkZEFyZ3VtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGh0bWwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGUoYXJndW1lbnQpO1xuICAgICAgY29udGVudC5wdXNoKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwKGh0bWwpKTtcbiAgICAgIHZhciBodG1sRGlyID0gaHRtbC5nZXREaXJlY3Rpb24oKTtcbiAgICAgIGRpciA9PSBnb29nLmkxOG4uYmlkaS5EaXIuTkVVVFJBTCA/IGRpciA9IGh0bWxEaXIgOiBodG1sRGlyICE9IGdvb2cuaTE4bi5iaWRpLkRpci5ORVVUUkFMICYmIGRpciAhPSBodG1sRGlyICYmIChkaXIgPSBudWxsKTtcbiAgICB9XG4gIH07XG4gIHBhcnRzLmZvckVhY2goYWRkQXJndW1lbnQpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGNvbnRlbnQuam9pbihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcChzZXBhcmF0b3JIdG1sKSksIGRpcik7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jb25jYXQgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5qb2luKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU1QVFksIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29uY2F0V2l0aERpciA9IGZ1bmN0aW9uKGRpciwgdmFyX2FyZ3MpIHtcbiAgdmFyIGh0bWwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgaHRtbC5kaXJfID0gZGlyO1xuICByZXR1cm4gaHRtbDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UgPSBmdW5jdGlvbihodG1sLCBkaXIpIHtcbiAgdmFyIHBvbGljeSA9IGdvb2cuaHRtbC50cnVzdGVkdHlwZXMuZ2V0UG9saWN5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKCksIHRydXN0ZWRIdG1sID0gcG9saWN5ID8gcG9saWN5LmNyZWF0ZUhUTUwoaHRtbCkgOiBodG1sO1xuICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwodHJ1c3RlZEh0bWwsIGRpciwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UgPSBmdW5jdGlvbih0YWdOYW1lLCBhdHRyaWJ1dGVzLCBjb250ZW50KSB7XG4gIHZhciBkaXIgPSBudWxsO1xuICB2YXIgcmVzdWx0ID0gXCI8XCIgKyB0YWdOYW1lICsgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5zdHJpbmdpZnlBdHRyaWJ1dGVzKHRhZ05hbWUsIGF0dHJpYnV0ZXMpO1xuICBudWxsID09IGNvbnRlbnQgPyBjb250ZW50ID0gW10gOiBBcnJheS5pc0FycmF5KGNvbnRlbnQpIHx8IChjb250ZW50ID0gW2NvbnRlbnRdKTtcbiAgaWYgKGdvb2cuZG9tLnRhZ3MuaXNWb2lkVGFnKHRhZ05hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICBnb29nLmFzc2VydHMuYXNzZXJ0KCFjb250ZW50Lmxlbmd0aCwgXCJWb2lkIHRhZyA8XCIgKyB0YWdOYW1lICsgXCI+IGRvZXMgbm90IGFsbG93IGNvbnRlbnQuXCIpLCByZXN1bHQgKz0gXCI+XCI7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGh0bWwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbmNhdChjb250ZW50KTtcbiAgICByZXN1bHQgKz0gXCI+XCIgKyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcChodG1sKSArIFwiPC9cIiArIHRhZ05hbWUgKyBcIj5cIjtcbiAgICBkaXIgPSBodG1sLmdldERpcmVjdGlvbigpO1xuICB9XG4gIHZhciBkaXJBdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMuZGlyO1xuICBkaXJBdHRyaWJ1dGUgJiYgKGRpciA9IC9eKGx0cnxydGx8YXV0bykkL2kudGVzdChkaXJBdHRyaWJ1dGUpID8gZ29vZy5pMThuLmJpZGkuRGlyLk5FVVRSQUwgOiBudWxsKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShyZXN1bHQsIGRpcik7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5zdHJpbmdpZnlBdHRyaWJ1dGVzID0gZnVuY3Rpb24odGFnTmFtZSwgYXR0cmlidXRlcykge1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgaWYgKGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXR0cmlidXRlcywgbmFtZSkpIHtcbiAgICAgICAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1ZBTElEX05BTUVTX0lOX1RBRy50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPyAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZSBcIicgKyBuYW1lICsgJ1wiLicgOiBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICBudWxsICE9IHZhbHVlICYmIChyZXN1bHQgKz0gXCIgXCIgKyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX2dldEF0dHJOYW1lQW5kVmFsdWUodGFnTmFtZSwgbmFtZSwgdmFsdWUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbWJpbmVBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZml4ZWRBdHRyaWJ1dGVzLCBkZWZhdWx0QXR0cmlidXRlcywgYXR0cmlidXRlcykge1xuICB2YXIgY29tYmluZWRBdHRyaWJ1dGVzID0ge30sIG5hbWU7XG4gIGZvciAobmFtZSBpbiBmaXhlZEF0dHJpYnV0ZXMpIHtcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZml4ZWRBdHRyaWJ1dGVzLCBuYW1lKSAmJiAoZ29vZy5hc3NlcnRzLmFzc2VydChuYW1lLnRvTG93ZXJDYXNlKCkgPT0gbmFtZSwgXCJNdXN0IGJlIGxvd2VyIGNhc2VcIiksIGNvbWJpbmVkQXR0cmlidXRlc1tuYW1lXSA9IGZpeGVkQXR0cmlidXRlc1tuYW1lXSk7XG4gIH1cbiAgZm9yICh2YXIgbmFtZSQ0OCBpbiBkZWZhdWx0QXR0cmlidXRlcykge1xuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkZWZhdWx0QXR0cmlidXRlcywgbmFtZSQ0OCkgJiYgKGdvb2cuYXNzZXJ0cy5hc3NlcnQobmFtZSQ0OC50b0xvd2VyQ2FzZSgpID09IG5hbWUkNDgsIFwiTXVzdCBiZSBsb3dlciBjYXNlXCIpLCBjb21iaW5lZEF0dHJpYnV0ZXNbbmFtZSQ0OF0gPSBkZWZhdWx0QXR0cmlidXRlc1tuYW1lJDQ4XSk7XG4gIH1cbiAgaWYgKGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IgKHZhciBuYW1lJDQ5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXR0cmlidXRlcywgbmFtZSQ0OSkpIHtcbiAgICAgICAgdmFyIG5hbWVMb3dlciA9IG5hbWUkNDkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKG5hbWVMb3dlciBpbiBmaXhlZEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA/ICdDYW5ub3Qgb3ZlcnJpZGUgXCInICsgbmFtZUxvd2VyICsgJ1wiIGF0dHJpYnV0ZSwgZ290IFwiJyArIG5hbWUkNDkgKyAnXCIgd2l0aCB2YWx1ZSBcIicgKyBhdHRyaWJ1dGVzW25hbWUkNDldICsgJ1wiJyA6IFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIG5hbWVMb3dlciBpbiBkZWZhdWx0QXR0cmlidXRlcyAmJiBkZWxldGUgY29tYmluZWRBdHRyaWJ1dGVzW25hbWVMb3dlcl07XG4gICAgICAgIGNvbWJpbmVkQXR0cmlidXRlc1tuYW1lJDQ5XSA9IGF0dHJpYnV0ZXNbbmFtZSQ0OV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb21iaW5lZEF0dHJpYnV0ZXM7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPSBnb29nLkRFQlVHO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5TVVBQT1JUX1NUWUxFX0FUVFJJQlVURSA9ICEwO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5mcm9tID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5odG1sRXNjYXBlO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfVkFMSURfTkFNRVNfSU5fVEFHID0gL15bYS16QS1aMC05LV0rJC8sIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfVVJMX0FUVFJJQlVURVMgPSB7YWN0aW9uOiEwLCBjaXRlOiEwLCBkYXRhOiEwLCBmb3JtYWN0aW9uOiEwLCBocmVmOiEwLCBtYW5pZmVzdDohMCwgcG9zdGVyOiEwLCBzcmM6ITB9LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX05PVF9BTExPV0VEX1RBR19OQU1FUyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jcmVhdGVTZXQoZ29vZy5kb20uVGFnTmFtZS5BUFBMRVQsIGdvb2cuZG9tLlRhZ05hbWUuQkFTRSwgZ29vZy5kb20uVGFnTmFtZS5FTUJFRCwgZ29vZy5kb20uVGFnTmFtZS5JRlJBTUUsIGdvb2cuZG9tLlRhZ05hbWUuTElOSywgZ29vZy5kb20uVGFnTmFtZS5NQVRILCBnb29nLmRvbS5UYWdOYW1lLk1FVEEsIGdvb2cuZG9tLlRhZ05hbWUuT0JKRUNULCBcbmdvb2cuZG9tLlRhZ05hbWUuU0NSSVBULCBnb29nLmRvbS5UYWdOYW1lLlNUWUxFLCBnb29nLmRvbS5UYWdOYW1lLlNWRywgZ29vZy5kb20uVGFnTmFtZS5URU1QTEFURSk7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX2dldEF0dHJOYW1lQW5kVmFsdWUodGFnTmFtZSwgbmFtZSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgZ29vZy5zdHJpbmcuQ29uc3QpIHtcbiAgICB2YWx1ZSA9IGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcCh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKFwic3R5bGVcIiA9PSBuYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLlNVUFBPUlRfU1RZTEVfQVRUUklCVVRFKSB7XG4gICAgICAgIHZhbHVlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9nZXRTdHlsZVZhbHVlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gJ0F0dHJpYnV0ZSBcInN0eWxlXCIgbm90IHN1cHBvcnRlZC4nIDogXCJcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgvXm9uL2kudGVzdChuYW1lKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA/ICdBdHRyaWJ1dGUgXCInICsgbmFtZSArICdcIiByZXF1aXJlcyBnb29nLnN0cmluZy5Db25zdCB2YWx1ZSwgXCInICsgdmFsdWUgKyAnXCIgZ2l2ZW4uJyA6IFwiXCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWUudG9Mb3dlckNhc2UoKSBpbiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1VSTF9BVFRSSUJVVEVTKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwpIHtcbiAgICAgICAgICB2YWx1ZSA9IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCkge1xuICAgICAgICAgICAgdmFsdWUgPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAodmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemUodmFsdWUpLmdldFR5cGVkU3RyaW5nVmFsdWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gJ0F0dHJpYnV0ZSBcIicgKyBuYW1lICsgJ1wiIG9uIHRhZyBcIicgKyB0YWdOYW1lICsgJ1wiIHJlcXVpcmVzIGdvb2cuaHRtbC5TYWZlVXJsLCBnb29nLnN0cmluZy5Db25zdCwgb3Igc3RyaW5nLCB2YWx1ZSBcIicgKyB2YWx1ZSArICdcIiBnaXZlbi4nIDogXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhbHVlLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgJiYgKHZhbHVlID0gdmFsdWUuZ2V0VHlwZWRTdHJpbmdWYWx1ZSgpKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUgfHwgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlLCBcIlN0cmluZyBvciBudW1iZXIgdmFsdWUgZXhwZWN0ZWQsIGdvdCBcIiArIHR5cGVvZiB2YWx1ZSArIFwiIHdpdGggdmFsdWU6IFwiICsgdmFsdWUpO1xuICByZXR1cm4gbmFtZSArICc9XCInICsgZ29vZy5zdHJpbmcuaW50ZXJuYWwuaHRtbEVzY2FwZShTdHJpbmcodmFsdWUpKSArICdcIic7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX2dldFN0eWxlVmFsdWUodmFsdWUpIHtcbiAgaWYgKCFnb29nLmlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gJ1RoZSBcInN0eWxlXCIgYXR0cmlidXRlIHJlcXVpcmVzIGdvb2cuaHRtbC5TYWZlU3R5bGUgb3IgbWFwIG9mIHN0eWxlIHByb3BlcnRpZXMsICcgKyB0eXBlb2YgdmFsdWUgKyBcIiBnaXZlbjogXCIgKyB2YWx1ZSA6IFwiXCIpO1xuICB9XG4gIHZhbHVlIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlIHx8ICh2YWx1ZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGUodmFsdWUpKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS51bndyYXAodmFsdWUpO1xufVxubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5ET0NUWVBFX0hUTUwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShcIjwhRE9DVFlQRSBodG1sPlwiLCBnb29nLmkxOG4uYmlkaS5EaXIuTkVVVFJBTCk7XG59KCk7XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVNUFRZID0gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwoZ29vZy5nbG9iYWwudHJ1c3RlZFR5cGVzICYmIGdvb2cuZ2xvYmFsLnRydXN0ZWRUeXBlcy5lbXB0eUhUTUwgfHwgXCJcIiwgZ29vZy5pMThuLmJpZGkuRGlyLk5FVVRSQUwsIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSk7XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkJSID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCI8YnI+XCIsIGdvb2cuaTE4bi5iaWRpLkRpci5ORVVUUkFMKTtcbn0oKTtcbmdvb2cuaHRtbC5TYWZlSHRtbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWw7XG5nb29nLmh0bWwudW5jaGVja2VkY29udmVyc2lvbnMgPSB7fTtcbmdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucy5zYWZlSHRtbEZyb21TdHJpbmdLbm93blRvU2F0aXNmeVR5cGVDb250cmFjdCA9IGZ1bmN0aW9uKGp1c3RpZmljYXRpb24sIGh0bWwsIG9wdF9kaXIpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydFN0cmluZyhnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbiksIFwibXVzdCBwcm92aWRlIGp1c3RpZmljYXRpb25cIik7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoIWdvb2cuc3RyaW5nLmludGVybmFsLmlzRW1wdHlPcldoaXRlc3BhY2UoZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKGp1c3RpZmljYXRpb24pKSwgXCJtdXN0IHByb3ZpZGUgbm9uLWVtcHR5IGp1c3RpZmljYXRpb25cIik7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoaHRtbCwgb3B0X2RpciB8fCBudWxsKTtcbn07XG5nb29nLmh0bWwudW5jaGVja2VkY29udmVyc2lvbnMuc2FmZVNjcmlwdEZyb21TdHJpbmdLbm93blRvU2F0aXNmeVR5cGVDb250cmFjdCA9IGZ1bmN0aW9uKGp1c3RpZmljYXRpb24sIHNjcmlwdCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LmNyZWF0ZVNhZmVTY3JpcHRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzY3JpcHQpO1xufTtcbmdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucy5zYWZlU3R5bGVGcm9tU3RyaW5nS25vd25Ub1NhdGlzZnlUeXBlQ29udHJhY3QgPSBmdW5jdGlvbihqdXN0aWZpY2F0aW9uLCBzdHlsZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGVTYWZlU3R5bGVTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzdHlsZSk7XG59O1xuZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVTdHlsZVNoZWV0RnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0ID0gZnVuY3Rpb24oanVzdGlmaWNhdGlvbiwgc3R5bGVTaGVldCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlU2FmZVN0eWxlU2hlZXRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzdHlsZVNoZWV0KTtcbn07XG5nb29nLmh0bWwudW5jaGVja2VkY29udmVyc2lvbnMuc2FmZVVybEZyb21TdHJpbmdLbm93blRvU2F0aXNmeVR5cGVDb250cmFjdCA9IGZ1bmN0aW9uKGp1c3RpZmljYXRpb24sIHVybCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh1cmwpO1xufTtcbmdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucy50cnVzdGVkUmVzb3VyY2VVcmxGcm9tU3RyaW5nS25vd25Ub1NhdGlzZnlUeXBlQ29udHJhY3QgPSBmdW5jdGlvbihqdXN0aWZpY2F0aW9uLCB1cmwpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydFN0cmluZyhnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbiksIFwibXVzdCBwcm92aWRlIGp1c3RpZmljYXRpb25cIik7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoIWdvb2cuc3RyaW5nLmludGVybmFsLmlzRW1wdHlPcldoaXRlc3BhY2UoZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKGp1c3RpZmljYXRpb24pKSwgXCJtdXN0IHByb3ZpZGUgbm9uLWVtcHR5IGp1c3RpZmljYXRpb25cIik7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmNyZWF0ZVRydXN0ZWRSZXNvdXJjZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVybCk7XG59O1xuZ29vZy5kb20uc2FmZSA9IHt9O1xuZ29vZy5kb20uc2FmZS5JbnNlcnRBZGphY2VudEh0bWxQb3NpdGlvbiA9IHtBRlRFUkJFR0lOOlwiYWZ0ZXJiZWdpblwiLCBBRlRFUkVORDpcImFmdGVyZW5kXCIsIEJFRk9SRUJFR0lOOlwiYmVmb3JlYmVnaW5cIiwgQkVGT1JFRU5EOlwiYmVmb3JlZW5kXCJ9O1xuZ29vZy5kb20uc2FmZS5pbnNlcnRBZGphY2VudEh0bWwgPSBmdW5jdGlvbihub2RlLCBwb3NpdGlvbiwgaHRtbCkge1xuICBub2RlLmluc2VydEFkamFjZW50SFRNTChwb3NpdGlvbiwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTChodG1sKSk7XG59O1xuZ29vZy5kb20uc2FmZS5TRVRfSU5ORVJfSFRNTF9ESVNBTExPV0VEX1RBR1NfID0ge01BVEg6ITAsIFNDUklQVDohMCwgU1RZTEU6ITAsIFNWRzohMCwgVEVNUExBVEU6ITB9O1xuZ29vZy5kb20uc2FmZS5pc0lubmVySHRtbENsZWFudXBSZWN1cnNpdmVfID0gZ29vZy5mdW5jdGlvbnMuY2FjaGVSZXR1cm5WYWx1ZShmdW5jdGlvbigpIHtcbiAgaWYgKGdvb2cuREVCVUcgJiYgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGRvY3VtZW50KSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBjaGlsZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNoaWxkRGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICBkaXYuYXBwZW5kQ2hpbGQoY2hpbGREaXYpO1xuICBpZiAoZ29vZy5ERUJVRyAmJiAhZGl2LmZpcnN0Q2hpbGQpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIGlubmVyQ2hpbGQgPSBkaXYuZmlyc3RDaGlsZC5maXJzdENoaWxkO1xuICBkaXYuaW5uZXJIVE1MID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTChtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVNUFRZKTtcbiAgcmV0dXJuICFpbm5lckNoaWxkLnBhcmVudEVsZW1lbnQ7XG59KTtcbmdvb2cuZG9tLnNhZmUudW5zYWZlU2V0SW5uZXJIdG1sRG9Ob3RVc2VPckVsc2UgPSBmdW5jdGlvbihlbGVtLCBodG1sKSB7XG4gIGlmIChnb29nLmRvbS5zYWZlLmlzSW5uZXJIdG1sQ2xlYW51cFJlY3Vyc2l2ZV8oKSkge1xuICAgIGZvciAoOyBlbGVtLmxhc3RDaGlsZDspIHtcbiAgICAgIGVsZW0ucmVtb3ZlQ2hpbGQoZWxlbS5sYXN0Q2hpbGQpO1xuICAgIH1cbiAgfVxuICBlbGVtLmlubmVySFRNTCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwVHJ1c3RlZEhUTUwoaHRtbCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRJbm5lckh0bWwgPSBmdW5jdGlvbihlbGVtLCBodG1sKSB7XG4gIGlmIChnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgZWxlbS50YWdOYW1lICYmIGdvb2cuZG9tLnNhZmUuU0VUX0lOTkVSX0hUTUxfRElTQUxMT1dFRF9UQUdTX1tlbGVtLnRhZ05hbWUudG9VcHBlckNhc2UoKV0pIHtcbiAgICB0aHJvdyBFcnJvcihcImdvb2cuZG9tLnNhZmUuc2V0SW5uZXJIdG1sIGNhbm5vdCBiZSB1c2VkIHRvIHNldCBjb250ZW50IG9mIFwiICsgZWxlbS50YWdOYW1lICsgXCIuXCIpO1xuICB9XG4gIGdvb2cuZG9tLnNhZmUudW5zYWZlU2V0SW5uZXJIdG1sRG9Ob3RVc2VPckVsc2UoZWxlbSwgaHRtbCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRJbm5lckh0bWxGcm9tQ29uc3RhbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjb25zdEh0bWwpIHtcbiAgZ29vZy5kb20uc2FmZS5zZXRJbm5lckh0bWwoZWxlbWVudCwgZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVIdG1sRnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0KGdvb2cuc3RyaW5nLkNvbnN0LmZyb20oXCJDb25zdGFudCBIVE1MIHRvIGJlIGltbWVkaWF0ZWxseSB1c2VkLlwiKSwgZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKGNvbnN0SHRtbCkpKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldE91dGVySHRtbCA9IGZ1bmN0aW9uKGVsZW0sIGh0bWwpIHtcbiAgZWxlbS5vdXRlckhUTUwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcFRydXN0ZWRIVE1MKGh0bWwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0Rm9ybUVsZW1lbnRBY3Rpb24gPSBmdW5jdGlvbihmb3JtLCB1cmwpIHtcbiAgdmFyIHNhZmVVcmwgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IHVybCA6IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCk7XG4gIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MRm9ybUVsZW1lbnQoZm9ybSkuYWN0aW9uID0gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHNhZmVVcmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0QnV0dG9uRm9ybUFjdGlvbiA9IGZ1bmN0aW9uKGJ1dHRvbiwgdXJsKSB7XG4gIHZhciBzYWZlVXJsID0gdXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlNhZmVVcmwgPyB1cmwgOiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUFzc2VydFVuY2hhbmdlZCh1cmwpO1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTEJ1dHRvbkVsZW1lbnQoYnV0dG9uKS5mb3JtQWN0aW9uID0gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHNhZmVVcmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0SW5wdXRGb3JtQWN0aW9uID0gZnVuY3Rpb24oaW5wdXQsIHVybCkge1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKTtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxJbnB1dEVsZW1lbnQoaW5wdXQpLmZvcm1BY3Rpb24gPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRTdHlsZSA9IGZ1bmN0aW9uKGVsZW0sIHN0eWxlKSB7XG4gIGVsZW0uc3R5bGUuY3NzVGV4dCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS51bndyYXAoc3R5bGUpO1xufTtcbmdvb2cuZG9tLnNhZmUuZG9jdW1lbnRXcml0ZSA9IGZ1bmN0aW9uKGRvYywgaHRtbCkge1xuICBkb2Mud3JpdGUobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTChodG1sKSk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRBbmNob3JIcmVmID0gZnVuY3Rpb24oYW5jaG9yLCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxBbmNob3JFbGVtZW50KGFuY2hvcik7XG4gIHZhciBzYWZlVXJsID0gdXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlNhZmVVcmwgPyB1cmwgOiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUFzc2VydFVuY2hhbmdlZCh1cmwpO1xuICBhbmNob3IuaHJlZiA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldEltYWdlU3JjID0gZnVuY3Rpb24oaW1hZ2VFbGVtZW50LCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxJbWFnZUVsZW1lbnQoaW1hZ2VFbGVtZW50KTtcbiAgdmFyIHNhZmVVcmwgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IHVybCA6IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCwgL15kYXRhOmltYWdlXFwvL2kudGVzdCh1cmwpKTtcbiAgaW1hZ2VFbGVtZW50LnNyYyA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldEF1ZGlvU3JjID0gZnVuY3Rpb24oYXVkaW9FbGVtZW50LCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxBdWRpb0VsZW1lbnQoYXVkaW9FbGVtZW50KTtcbiAgdmFyIHNhZmVVcmwgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IHVybCA6IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCwgL15kYXRhOmF1ZGlvXFwvL2kudGVzdCh1cmwpKTtcbiAgYXVkaW9FbGVtZW50LnNyYyA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldFZpZGVvU3JjID0gZnVuY3Rpb24odmlkZW9FbGVtZW50LCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxWaWRlb0VsZW1lbnQodmlkZW9FbGVtZW50KTtcbiAgdmFyIHNhZmVVcmwgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IHVybCA6IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCwgL15kYXRhOnZpZGVvXFwvL2kudGVzdCh1cmwpKTtcbiAgdmlkZW9FbGVtZW50LnNyYyA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldEVtYmVkU3JjID0gZnVuY3Rpb24oZW1iZWQsIHVybCkge1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTEVtYmVkRWxlbWVudChlbWJlZCk7XG4gIGVtYmVkLnNyYyA9IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwVHJ1c3RlZFNjcmlwdFVSTCh1cmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0RnJhbWVTcmMgPSBmdW5jdGlvbihmcmFtZSwgdXJsKSB7XG4gIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MRnJhbWVFbGVtZW50KGZyYW1lKTtcbiAgZnJhbWUuc3JjID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAodXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldElmcmFtZVNyYyA9IGZ1bmN0aW9uKGlmcmFtZSwgdXJsKSB7XG4gIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MSUZyYW1lRWxlbWVudChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAodXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldElmcmFtZVNyY2RvYyA9IGZ1bmN0aW9uKGlmcmFtZSwgaHRtbCkge1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTElGcmFtZUVsZW1lbnQoaWZyYW1lKTtcbiAgaWZyYW1lLnNyY2RvYyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwVHJ1c3RlZEhUTUwoaHRtbCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRMaW5rSHJlZkFuZFJlbCA9IGZ1bmN0aW9uKGxpbmssIHVybCwgcmVsKSB7XG4gIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MTGlua0VsZW1lbnQobGluayk7XG4gIGxpbmsucmVsID0gcmVsO1xuICBpZiAoZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlQ29udGFpbnMocmVsLCBcInN0eWxlc2hlZXRcIikpIHtcbiAgICBnb29nLmFzc2VydHMuYXNzZXJ0KHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwsICdVUkwgbXVzdCBiZSBUcnVzdGVkUmVzb3VyY2VVcmwgYmVjYXVzZSBcInJlbFwiIGNvbnRhaW5zIFwic3R5bGVzaGVldFwiJyk7XG4gICAgbGluay5ocmVmID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAodXJsKTtcbiAgICB2YXIgbm9uY2UgPSBnb29nLmRvbS5zYWZlLmdldFN0eWxlTm9uY2UobGluay5vd25lckRvY3VtZW50ICYmIGxpbmsub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyk7XG4gICAgbm9uY2UgJiYgbGluay5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH0gZWxzZSB7XG4gICAgbGluay5ocmVmID0gdXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCA/IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwKHVybCkgOiB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcCh1cmwpIDogZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCkpO1xuICB9XG59O1xuZ29vZy5kb20uc2FmZS5zZXRPYmplY3REYXRhID0gZnVuY3Rpb24ob2JqZWN0LCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxPYmplY3RFbGVtZW50KG9iamVjdCk7XG4gIG9iamVjdC5kYXRhID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXBUcnVzdGVkU2NyaXB0VVJMKHVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRTY3JpcHRTcmMgPSBmdW5jdGlvbihzY3JpcHQsIHVybCkge1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTFNjcmlwdEVsZW1lbnQoc2NyaXB0KTtcbiAgc2NyaXB0LnNyYyA9IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwVHJ1c3RlZFNjcmlwdFVSTCh1cmwpO1xuICBnb29nLmRvbS5zYWZlLnNldE5vbmNlRm9yU2NyaXB0RWxlbWVudF8oc2NyaXB0KTtcbn07XG5nb29nLmRvbS5zYWZlLnNldFNjcmlwdENvbnRlbnQgPSBmdW5jdGlvbihzY3JpcHQsIGNvbnRlbnQpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxTY3JpcHRFbGVtZW50KHNjcmlwdCk7XG4gIHNjcmlwdC50ZXh0Q29udGVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LnVud3JhcFRydXN0ZWRTY3JpcHQoY29udGVudCk7XG4gIGdvb2cuZG9tLnNhZmUuc2V0Tm9uY2VGb3JTY3JpcHRFbGVtZW50XyhzY3JpcHQpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0Tm9uY2VGb3JTY3JpcHRFbGVtZW50XyA9IGZ1bmN0aW9uKHNjcmlwdCkge1xuICB2YXIgbm9uY2UgPSBnb29nLmRvbS5zYWZlLmdldFNjcmlwdE5vbmNlKHNjcmlwdC5vd25lckRvY3VtZW50ICYmIHNjcmlwdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgbm9uY2UgJiYgc2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldExvY2F0aW9uSHJlZiA9IGZ1bmN0aW9uKGxvYywgdXJsKSB7XG4gIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNMb2NhdGlvbihsb2MpO1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKTtcbiAgbG9jLmhyZWYgPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5hc3NpZ25Mb2NhdGlvbiA9IGZ1bmN0aW9uKGxvYywgdXJsKSB7XG4gIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNMb2NhdGlvbihsb2MpO1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKTtcbiAgbG9jLmFzc2lnbihnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCkpO1xufTtcbmdvb2cuZG9tLnNhZmUucmVwbGFjZUxvY2F0aW9uID0gZnVuY3Rpb24obG9jLCB1cmwpIHtcbiAgdmFyIHNhZmVVcmwgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IHVybCA6IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCk7XG4gIGxvYy5yZXBsYWNlKGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKSk7XG59O1xuZ29vZy5kb20uc2FmZS5vcGVuSW5XaW5kb3cgPSBmdW5jdGlvbih1cmwsIG9wdF9vcGVuZXJXaW4sIG9wdF9uYW1lLCBvcHRfc3BlY3MpIHtcbiAgdmFyIHNhZmVVcmwgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IHVybCA6IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCk7XG4gIHZhciB3aW4gPSBvcHRfb3BlbmVyV2luIHx8IGdvb2cuZ2xvYmFsLCBuYW1lID0gb3B0X25hbWUgaW5zdGFuY2VvZiBnb29nLnN0cmluZy5Db25zdCA/IGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChvcHRfbmFtZSkgOiBvcHRfbmFtZSB8fCBcIlwiO1xuICByZXR1cm4gdm9pZCAwICE9PSBvcHRfc3BlY3MgPyB3aW4ub3Blbihnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCksIG5hbWUsIG9wdF9zcGVjcykgOiB3aW4ub3Blbihnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCksIG5hbWUpO1xufTtcbmdvb2cuZG9tLnNhZmUucGFyc2VGcm9tU3RyaW5nSHRtbCA9IGZ1bmN0aW9uKHBhcnNlciwgaHRtbCkge1xuICByZXR1cm4gZ29vZy5kb20uc2FmZS5wYXJzZUZyb21TdHJpbmcocGFyc2VyLCBodG1sLCBcInRleHQvaHRtbFwiKTtcbn07XG5nb29nLmRvbS5zYWZlLnBhcnNlRnJvbVN0cmluZyA9IGZ1bmN0aW9uKHBhcnNlciwgY29udGVudCwgdHlwZSkge1xuICByZXR1cm4gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcFRydXN0ZWRIVE1MKGNvbnRlbnQpLCB0eXBlKTtcbn07XG5nb29nLmRvbS5zYWZlLmNyZWF0ZUltYWdlRnJvbUJsb2IgPSBmdW5jdGlvbihibG9iKSB7XG4gIGlmICghL15pbWFnZVxcLy4qL2cudGVzdChibG9iLnR5cGUpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJnb29nLmRvbS5zYWZlLmNyZWF0ZUltYWdlRnJvbUJsb2Igb25seSBhY2NlcHRzIE1JTUUgdHlwZSBpbWFnZS8uKi5cIik7XG4gIH1cbiAgdmFyIG9iamVjdFVybCA9IGdvb2cuZ2xvYmFsLlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYiksIGltYWdlID0gbmV3IGdvb2cuZ2xvYmFsLkltYWdlKCk7XG4gIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIGdvb2cuZ2xvYmFsLlVSTC5yZXZva2VPYmplY3RVUkwob2JqZWN0VXJsKTtcbiAgfTtcbiAgZ29vZy5kb20uc2FmZS5zZXRJbWFnZVNyYyhpbWFnZSwgZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVVcmxGcm9tU3RyaW5nS25vd25Ub1NhdGlzZnlUeXBlQ29udHJhY3QoZ29vZy5zdHJpbmcuQ29uc3QuZnJvbShcIkltYWdlIGJsb2IgVVJMLlwiKSwgb2JqZWN0VXJsKSk7XG4gIHJldHVybiBpbWFnZTtcbn07XG5nb29nLmRvbS5zYWZlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCA9IGZ1bmN0aW9uKHJhbmdlLCBodG1sKSB7XG4gIHJldHVybiByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTChodG1sKSk7XG59O1xuZ29vZy5kb20uc2FmZS5nZXRTY3JpcHROb25jZSA9IGZ1bmN0aW9uKG9wdF93aW5kb3cpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLnNhZmUuZ2V0Tm9uY2VfKFwic2NyaXB0W25vbmNlXVwiLCBvcHRfd2luZG93KTtcbn07XG5nb29nLmRvbS5zYWZlLmdldFN0eWxlTm9uY2UgPSBmdW5jdGlvbihvcHRfd2luZG93KSB7XG4gIHJldHVybiBnb29nLmRvbS5zYWZlLmdldE5vbmNlXygnc3R5bGVbbm9uY2VdLGxpbmtbcmVsPVwic3R5bGVzaGVldFwiXVtub25jZV0nLCBvcHRfd2luZG93KTtcbn07XG5nb29nLmRvbS5zYWZlLk5PTkNFX1BBVFRFUk5fID0gL15bXFx3Ky9fLV0rWz1dezAsMn0kLztcbmdvb2cuZG9tLnNhZmUuZ2V0Tm9uY2VfID0gZnVuY3Rpb24oc2VsZWN0b3IsIHdpbikge1xuICB2YXIgZG9jID0gKHdpbiB8fCBnb29nLmdsb2JhbCkuZG9jdW1lbnQ7XG4gIGlmICghZG9jLnF1ZXJ5U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICB2YXIgZWwgPSBkb2MucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gIGlmIChlbCkge1xuICAgIHZhciBub25jZSA9IGVsLm5vbmNlIHx8IGVsLmdldEF0dHJpYnV0ZShcIm5vbmNlXCIpO1xuICAgIGlmIChub25jZSAmJiBnb29nLmRvbS5zYWZlLk5PTkNFX1BBVFRFUk5fLnRlc3Qobm9uY2UpKSB7XG4gICAgICByZXR1cm4gbm9uY2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBcIlwiO1xufTtcbmdvb2cuc3RyaW5nLkRFVEVDVF9ET1VCTEVfRVNDQVBJTkcgPSAhMTtcbmdvb2cuc3RyaW5nLkZPUkNFX05PTl9ET01fSFRNTF9VTkVTQ0FQSU5HID0gITE7XG5nb29nLnN0cmluZy5Vbmljb2RlID0ge05CU1A6XCJcXHUwMGEwXCJ9O1xuZ29vZy5zdHJpbmcuc3RhcnRzV2l0aCA9IGdvb2cuc3RyaW5nLmludGVybmFsLnN0YXJ0c1dpdGg7XG5nb29nLnN0cmluZy5lbmRzV2l0aCA9IGdvb2cuc3RyaW5nLmludGVybmFsLmVuZHNXaXRoO1xuZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlU3RhcnRzV2l0aCA9IGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZVN0YXJ0c1dpdGg7XG5nb29nLnN0cmluZy5jYXNlSW5zZW5zaXRpdmVFbmRzV2l0aCA9IGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZUVuZHNXaXRoO1xuZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlRXF1YWxzID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlRXF1YWxzO1xuZ29vZy5zdHJpbmcuc3VicyA9IGZ1bmN0aW9uKHN0ciwgdmFyX2FyZ3MpIHtcbiAgZm9yICh2YXIgc3BsaXRQYXJ0cyA9IHN0ci5zcGxpdChcIiVzXCIpLCByZXR1cm5TdHJpbmcgPSBcIlwiLCBzdWJzQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsgc3Vic0FyZ3VtZW50cy5sZW5ndGggJiYgMSA8IHNwbGl0UGFydHMubGVuZ3RoOykge1xuICAgIHJldHVyblN0cmluZyArPSBzcGxpdFBhcnRzLnNoaWZ0KCkgKyBzdWJzQXJndW1lbnRzLnNoaWZ0KCk7XG4gIH1cbiAgcmV0dXJuIHJldHVyblN0cmluZyArIHNwbGl0UGFydHMuam9pbihcIiVzXCIpO1xufTtcbmdvb2cuc3RyaW5nLmNvbGxhcHNlV2hpdGVzcGFjZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXHNcXHhhMF0rL2csIFwiIFwiKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcbn07XG5nb29nLnN0cmluZy5pc0VtcHR5T3JXaGl0ZXNwYWNlID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZTtcbmdvb2cuc3RyaW5nLmlzRW1wdHlTdHJpbmcgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIDAgPT0gc3RyLmxlbmd0aDtcbn07XG5nb29nLnN0cmluZy5pc0VtcHR5ID0gZ29vZy5zdHJpbmcuaXNFbXB0eU9yV2hpdGVzcGFjZTtcbmdvb2cuc3RyaW5nLmlzRW1wdHlPcldoaXRlc3BhY2VTYWZlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBnb29nLnN0cmluZy5pc0VtcHR5T3JXaGl0ZXNwYWNlKGdvb2cuc3RyaW5nLm1ha2VTYWZlKHN0cikpO1xufTtcbmdvb2cuc3RyaW5nLmlzRW1wdHlTYWZlID0gZ29vZy5zdHJpbmcuaXNFbXB0eU9yV2hpdGVzcGFjZVNhZmU7XG5nb29nLnN0cmluZy5pc0JyZWFraW5nV2hpdGVzcGFjZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gIS9bXlxcdFxcblxcciBdLy50ZXN0KHN0cik7XG59O1xuZ29vZy5zdHJpbmcuaXNBbHBoYSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gIS9bXmEtekEtWl0vLnRlc3Qoc3RyKTtcbn07XG5nb29nLnN0cmluZy5pc051bWVyaWMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuICEvW14wLTldLy50ZXN0KHN0cik7XG59O1xuZ29vZy5zdHJpbmcuaXNBbHBoYU51bWVyaWMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuICEvW15hLXpBLVowLTldLy50ZXN0KHN0cik7XG59O1xuZ29vZy5zdHJpbmcuaXNTcGFjZSA9IGZ1bmN0aW9uKGNoKSB7XG4gIHJldHVybiBcIiBcIiA9PSBjaDtcbn07XG5nb29nLnN0cmluZy5pc1VuaWNvZGVDaGFyID0gZnVuY3Rpb24oY2gpIHtcbiAgcmV0dXJuIDEgPT0gY2gubGVuZ3RoICYmIFwiIFwiIDw9IGNoICYmIFwiflwiID49IGNoIHx8IFwiXFx1MDA4MFwiIDw9IGNoICYmIFwiXFx1ZmZmZFwiID49IGNoO1xufTtcbmdvb2cuc3RyaW5nLnN0cmlwTmV3bGluZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXFxyXFxufFxccnxcXG4pKy9nLCBcIiBcIik7XG59O1xuZ29vZy5zdHJpbmcuY2Fub25pY2FsaXplTmV3bGluZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXFxyXFxufFxccnxcXG4pL2csIFwiXFxuXCIpO1xufTtcbmdvb2cuc3RyaW5nLm5vcm1hbGl6ZVdoaXRlc3BhY2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHhhMHxcXHMvZywgXCIgXCIpO1xufTtcbmdvb2cuc3RyaW5nLm5vcm1hbGl6ZVNwYWNlcyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xceGEwfFsgXFx0XSsvZywgXCIgXCIpO1xufTtcbmdvb2cuc3RyaW5nLmNvbGxhcHNlQnJlYWtpbmdTcGFjZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFx0XFxyXFxuIF0rL2csIFwiIFwiKS5yZXBsYWNlKC9eW1xcdFxcclxcbiBdK3xbXFx0XFxyXFxuIF0rJC9nLCBcIlwiKTtcbn07XG5nb29nLnN0cmluZy50cmltID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwudHJpbTtcbmdvb2cuc3RyaW5nLnRyaW1MZWZ0ID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXltcXHNcXHhhMF0rLywgXCJcIik7XG59O1xuZ29vZy5zdHJpbmcudHJpbVJpZ2h0ID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcc1xceGEwXSskLywgXCJcIik7XG59O1xuZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlQ29tcGFyZSA9IGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZUNvbXBhcmU7XG5nb29nLnN0cmluZy5udW1iZXJBd2FyZUNvbXBhcmVfID0gZnVuY3Rpb24oc3RyMSwgc3RyMiwgdG9rZW5pemVyUmVnRXhwKSB7XG4gIGlmIChzdHIxID09IHN0cjIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAoIXN0cjEpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYgKCFzdHIyKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgZm9yICh2YXIgdG9rZW5zMSA9IHN0cjEudG9Mb3dlckNhc2UoKS5tYXRjaCh0b2tlbml6ZXJSZWdFeHApLCB0b2tlbnMyID0gc3RyMi50b0xvd2VyQ2FzZSgpLm1hdGNoKHRva2VuaXplclJlZ0V4cCksIGNvdW50ID0gTWF0aC5taW4odG9rZW5zMS5sZW5ndGgsIHRva2VuczIubGVuZ3RoKSwgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgdmFyIGEgPSB0b2tlbnMxW2ldLCBiID0gdG9rZW5zMltpXTtcbiAgICBpZiAoYSAhPSBiKSB7XG4gICAgICB2YXIgbnVtMSA9IHBhcnNlSW50KGEsIDEwKTtcbiAgICAgIGlmICghaXNOYU4obnVtMSkpIHtcbiAgICAgICAgdmFyIG51bTIgPSBwYXJzZUludChiLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4obnVtMikgJiYgbnVtMSAtIG51bTIpIHtcbiAgICAgICAgICByZXR1cm4gbnVtMSAtIG51bTI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhIDwgYiA/IC0xIDogMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRva2VuczEubGVuZ3RoICE9IHRva2VuczIubGVuZ3RoID8gdG9rZW5zMS5sZW5ndGggLSB0b2tlbnMyLmxlbmd0aCA6IHN0cjEgPCBzdHIyID8gLTEgOiAxO1xufTtcbmdvb2cuc3RyaW5nLmludEF3YXJlQ29tcGFyZSA9IGZ1bmN0aW9uKHN0cjEsIHN0cjIpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLm51bWJlckF3YXJlQ29tcGFyZV8oc3RyMSwgc3RyMiwgL1xcZCt8XFxEKy9nKTtcbn07XG5nb29nLnN0cmluZy5mbG9hdEF3YXJlQ29tcGFyZSA9IGZ1bmN0aW9uKHN0cjEsIHN0cjIpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLm51bWJlckF3YXJlQ29tcGFyZV8oc3RyMSwgc3RyMiwgL1xcZCt8XFwuXFxkK3xcXEQrL2cpO1xufTtcbmdvb2cuc3RyaW5nLm51bWVyYXRlQ29tcGFyZSA9IGdvb2cuc3RyaW5nLmZsb2F0QXdhcmVDb21wYXJlO1xuZ29vZy5zdHJpbmcudXJsRW5jb2RlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHN0cikpO1xufTtcbmdvb2cuc3RyaW5nLnVybERlY29kZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0ci5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbn07XG5nb29nLnN0cmluZy5uZXdMaW5lVG9CciA9IGdvb2cuc3RyaW5nLmludGVybmFsLm5ld0xpbmVUb0JyO1xuZ29vZy5zdHJpbmcuaHRtbEVzY2FwZSA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzTGlrZWx5VG9Db250YWluSHRtbENoYXJzKSB7XG4gIHN0ciA9IGdvb2cuc3RyaW5nLmludGVybmFsLmh0bWxFc2NhcGUoc3RyLCBvcHRfaXNMaWtlbHlUb0NvbnRhaW5IdG1sQ2hhcnMpO1xuICBnb29nLnN0cmluZy5ERVRFQ1RfRE9VQkxFX0VTQ0FQSU5HICYmIChzdHIgPSBzdHIucmVwbGFjZShnb29nLnN0cmluZy5FX1JFXywgXCImIzEwMTtcIikpO1xuICByZXR1cm4gc3RyO1xufTtcbmdvb2cuc3RyaW5nLkVfUkVfID0gL2UvZztcbmdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLmNvbnRhaW5zKHN0ciwgXCImXCIpID8gIWdvb2cuc3RyaW5nLkZPUkNFX05PTl9ET01fSFRNTF9VTkVTQ0FQSU5HICYmIFwiZG9jdW1lbnRcIiBpbiBnb29nLmdsb2JhbCA/IGdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXNVc2luZ0RvbV8oc3RyKSA6IGdvb2cuc3RyaW5nLnVuZXNjYXBlUHVyZVhtbEVudGl0aWVzXyhzdHIpIDogc3RyO1xufTtcbmdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXNXaXRoRG9jdW1lbnQgPSBmdW5jdGlvbihzdHIsIGRvY3VtZW50KSB7XG4gIHJldHVybiBnb29nLnN0cmluZy5jb250YWlucyhzdHIsIFwiJlwiKSA/IGdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXNVc2luZ0RvbV8oc3RyLCBkb2N1bWVudCkgOiBzdHI7XG59O1xuZ29vZy5zdHJpbmcudW5lc2NhcGVFbnRpdGllc1VzaW5nRG9tXyA9IGZ1bmN0aW9uKHN0ciwgb3B0X2RvY3VtZW50KSB7XG4gIHZhciBzZWVuID0ge1wiJmFtcDtcIjpcIiZcIiwgXCImbHQ7XCI6XCI8XCIsIFwiJmd0O1wiOlwiPlwiLCBcIiZxdW90O1wiOidcIid9O1xuICB2YXIgZGl2ID0gb3B0X2RvY3VtZW50ID8gb3B0X2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgOiBnb29nLmdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICByZXR1cm4gc3RyLnJlcGxhY2UoZ29vZy5zdHJpbmcuSFRNTF9FTlRJVFlfUEFUVEVSTl8sIGZ1bmN0aW9uKHMsIGVudGl0eSkge1xuICAgIHZhciB2YWx1ZSA9IHNlZW5bc107XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChcIiNcIiA9PSBlbnRpdHkuY2hhckF0KDApKSB7XG4gICAgICB2YXIgbiA9IE51bWJlcihcIjBcIiArIGVudGl0eS5zdWJzdHIoMSkpO1xuICAgICAgaXNOYU4obikgfHwgKHZhbHVlID0gU3RyaW5nLmZyb21DaGFyQ29kZShuKSk7XG4gICAgfVxuICAgIHZhbHVlIHx8IChnb29nLmRvbS5zYWZlLnNldElubmVySHRtbChkaXYsIGdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucy5zYWZlSHRtbEZyb21TdHJpbmdLbm93blRvU2F0aXNmeVR5cGVDb250cmFjdChnb29nLnN0cmluZy5Db25zdC5mcm9tKFwiU2luZ2xlIEhUTUwgZW50aXR5LlwiKSwgcyArIFwiIFwiKSksIHZhbHVlID0gZGl2LmZpcnN0Q2hpbGQubm9kZVZhbHVlLnNsaWNlKDAsIC0xKSk7XG4gICAgcmV0dXJuIHNlZW5bc10gPSB2YWx1ZTtcbiAgfSk7XG59O1xuZ29vZy5zdHJpbmcudW5lc2NhcGVQdXJlWG1sRW50aXRpZXNfID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvJihbXjtdKyk7L2csIGZ1bmN0aW9uKHMsIGVudGl0eSkge1xuICAgIHN3aXRjaChlbnRpdHkpIHtcbiAgICAgIGNhc2UgXCJhbXBcIjpcbiAgICAgICAgcmV0dXJuIFwiJlwiO1xuICAgICAgY2FzZSBcImx0XCI6XG4gICAgICAgIHJldHVybiBcIjxcIjtcbiAgICAgIGNhc2UgXCJndFwiOlxuICAgICAgICByZXR1cm4gXCI+XCI7XG4gICAgICBjYXNlIFwicXVvdFwiOlxuICAgICAgICByZXR1cm4gJ1wiJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChcIiNcIiA9PSBlbnRpdHkuY2hhckF0KDApKSB7XG4gICAgICAgICAgdmFyIG4gPSBOdW1iZXIoXCIwXCIgKyBlbnRpdHkuc3Vic3RyKDEpKTtcbiAgICAgICAgICBpZiAoIWlzTmFOKG4pKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuICB9KTtcbn07XG5nb29nLnN0cmluZy5IVE1MX0VOVElUWV9QQVRURVJOXyA9IC8mKFteO1xcczwmXSspOz8vZztcbmdvb2cuc3RyaW5nLndoaXRlc3BhY2VFc2NhcGUgPSBmdW5jdGlvbihzdHIsIG9wdF94bWwpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLm5ld0xpbmVUb0JyKHN0ci5yZXBsYWNlKC8gIC9nLCBcIiAmIzE2MDtcIiksIG9wdF94bWwpO1xufTtcbmdvb2cuc3RyaW5nLnByZXNlcnZlU3BhY2VzID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKF58W1xcbiBdKSAvZywgXCIkMVwiICsgZ29vZy5zdHJpbmcuVW5pY29kZS5OQlNQKTtcbn07XG5nb29nLnN0cmluZy5zdHJpcFF1b3RlcyA9IGZ1bmN0aW9uKHN0ciwgcXVvdGVDaGFycykge1xuICBmb3IgKHZhciBsZW5ndGggPSBxdW90ZUNoYXJzLmxlbmd0aCwgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHZhciBxdW90ZUNoYXIgPSAxID09IGxlbmd0aCA/IHF1b3RlQ2hhcnMgOiBxdW90ZUNoYXJzLmNoYXJBdChpKTtcbiAgICBpZiAoc3RyLmNoYXJBdCgwKSA9PSBxdW90ZUNoYXIgJiYgc3RyLmNoYXJBdChzdHIubGVuZ3RoIC0gMSkgPT0gcXVvdGVDaGFyKSB7XG4gICAgICByZXR1cm4gc3RyLnN1YnN0cmluZygxLCBzdHIubGVuZ3RoIC0gMSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuZ29vZy5zdHJpbmcudHJ1bmNhdGUgPSBmdW5jdGlvbihzdHIsIGNoYXJzLCBvcHRfcHJvdGVjdEVzY2FwZWRDaGFyYWN0ZXJzKSB7XG4gIG9wdF9wcm90ZWN0RXNjYXBlZENoYXJhY3RlcnMgJiYgKHN0ciA9IGdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXMoc3RyKSk7XG4gIHN0ci5sZW5ndGggPiBjaGFycyAmJiAoc3RyID0gc3RyLnN1YnN0cmluZygwLCBjaGFycyAtIDMpICsgXCIuLi5cIik7XG4gIG9wdF9wcm90ZWN0RXNjYXBlZENoYXJhY3RlcnMgJiYgKHN0ciA9IGdvb2cuc3RyaW5nLmh0bWxFc2NhcGUoc3RyKSk7XG4gIHJldHVybiBzdHI7XG59O1xuZ29vZy5zdHJpbmcudHJ1bmNhdGVNaWRkbGUgPSBmdW5jdGlvbihzdHIsIGNoYXJzLCBvcHRfcHJvdGVjdEVzY2FwZWRDaGFyYWN0ZXJzLCBvcHRfdHJhaWxpbmdDaGFycykge1xuICBvcHRfcHJvdGVjdEVzY2FwZWRDaGFyYWN0ZXJzICYmIChzdHIgPSBnb29nLnN0cmluZy51bmVzY2FwZUVudGl0aWVzKHN0cikpO1xuICBpZiAob3B0X3RyYWlsaW5nQ2hhcnMgJiYgc3RyLmxlbmd0aCA+IGNoYXJzKSB7XG4gICAgb3B0X3RyYWlsaW5nQ2hhcnMgPiBjaGFycyAmJiAob3B0X3RyYWlsaW5nQ2hhcnMgPSBjaGFycyksIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgY2hhcnMgLSBvcHRfdHJhaWxpbmdDaGFycykgKyBcIi4uLlwiICsgc3RyLnN1YnN0cmluZyhzdHIubGVuZ3RoIC0gb3B0X3RyYWlsaW5nQ2hhcnMpO1xuICB9IGVsc2Uge1xuICAgIGlmIChzdHIubGVuZ3RoID4gY2hhcnMpIHtcbiAgICAgIHZhciBoYWxmID0gTWF0aC5mbG9vcihjaGFycyAvIDIpO1xuICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBoYWxmICsgY2hhcnMgJSAyKSArIFwiLi4uXCIgKyBzdHIuc3Vic3RyaW5nKHN0ci5sZW5ndGggLSBoYWxmKTtcbiAgICB9XG4gIH1cbiAgb3B0X3Byb3RlY3RFc2NhcGVkQ2hhcmFjdGVycyAmJiAoc3RyID0gZ29vZy5zdHJpbmcuaHRtbEVzY2FwZShzdHIpKTtcbiAgcmV0dXJuIHN0cjtcbn07XG5nb29nLnN0cmluZy5zcGVjaWFsRXNjYXBlQ2hhcnNfID0ge1wiXFx4MDBcIjpcIlxcXFwwXCIsIFwiXFxiXCI6XCJcXFxcYlwiLCBcIlxcZlwiOlwiXFxcXGZcIiwgXCJcXG5cIjpcIlxcXFxuXCIsIFwiXFxyXCI6XCJcXFxcclwiLCBcIlxcdFwiOlwiXFxcXHRcIiwgXCJcXHgwQlwiOlwiXFxcXHgwQlwiLCAnXCInOidcXFxcXCInLCBcIlxcXFxcIjpcIlxcXFxcXFxcXCIsIFwiPFwiOlwiXFxcXHUwMDNDXCJ9O1xuZ29vZy5zdHJpbmcuanNFc2NhcGVDYWNoZV8gPSB7XCInXCI6XCJcXFxcJ1wifTtcbmdvb2cuc3RyaW5nLnF1b3RlID0gZnVuY3Rpb24ocykge1xuICBzID0gU3RyaW5nKHMpO1xuICBmb3IgKHZhciBzYiA9IFsnXCInXSwgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoID0gcy5jaGFyQXQoaSksIGNjID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICBzYltpICsgMV0gPSBnb29nLnN0cmluZy5zcGVjaWFsRXNjYXBlQ2hhcnNfW2NoXSB8fCAoMzEgPCBjYyAmJiAxMjcgPiBjYyA/IGNoIDogZ29vZy5zdHJpbmcuZXNjYXBlQ2hhcihjaCkpO1xuICB9XG4gIHNiLnB1c2goJ1wiJyk7XG4gIHJldHVybiBzYi5qb2luKFwiXCIpO1xufTtcbmdvb2cuc3RyaW5nLmVzY2FwZVN0cmluZyA9IGZ1bmN0aW9uKHN0cikge1xuICBmb3IgKHZhciBzYiA9IFtdLCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIHNiW2ldID0gZ29vZy5zdHJpbmcuZXNjYXBlQ2hhcihzdHIuY2hhckF0KGkpKTtcbiAgfVxuICByZXR1cm4gc2Iuam9pbihcIlwiKTtcbn07XG5nb29nLnN0cmluZy5lc2NhcGVDaGFyID0gZnVuY3Rpb24oYykge1xuICBpZiAoYyBpbiBnb29nLnN0cmluZy5qc0VzY2FwZUNhY2hlXykge1xuICAgIHJldHVybiBnb29nLnN0cmluZy5qc0VzY2FwZUNhY2hlX1tjXTtcbiAgfVxuICBpZiAoYyBpbiBnb29nLnN0cmluZy5zcGVjaWFsRXNjYXBlQ2hhcnNfKSB7XG4gICAgcmV0dXJuIGdvb2cuc3RyaW5nLmpzRXNjYXBlQ2FjaGVfW2NdID0gZ29vZy5zdHJpbmcuc3BlY2lhbEVzY2FwZUNoYXJzX1tjXTtcbiAgfVxuICB2YXIgcnYgPSBjLCBjYyA9IGMuY2hhckNvZGVBdCgwKTtcbiAgaWYgKDMxIDwgY2MgJiYgMTI3ID4gY2MpIHtcbiAgICBydiA9IGM7XG4gIH0gZWxzZSB7XG4gICAgaWYgKDI1NiA+IGNjKSB7XG4gICAgICBpZiAocnYgPSBcIlxcXFx4XCIsIDE2ID4gY2MgfHwgMjU2IDwgY2MpIHtcbiAgICAgICAgcnYgKz0gXCIwXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJ2ID0gXCJcXFxcdVwiLCA0MDk2ID4gY2MgJiYgKHJ2ICs9IFwiMFwiKTtcbiAgICB9XG4gICAgcnYgKz0gY2MudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gIH1cbiAgcmV0dXJuIGdvb2cuc3RyaW5nLmpzRXNjYXBlQ2FjaGVfW2NdID0gcnY7XG59O1xuZ29vZy5zdHJpbmcuY29udGFpbnMgPSBnb29nLnN0cmluZy5pbnRlcm5hbC5jb250YWlucztcbmdvb2cuc3RyaW5nLmNhc2VJbnNlbnNpdGl2ZUNvbnRhaW5zID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlQ29udGFpbnM7XG5nb29nLnN0cmluZy5jb3VudE9mID0gZnVuY3Rpb24ocywgc3MpIHtcbiAgcmV0dXJuIHMgJiYgc3MgPyBzLnNwbGl0KHNzKS5sZW5ndGggLSAxIDogMDtcbn07XG5nb29nLnN0cmluZy5yZW1vdmVBdCA9IGZ1bmN0aW9uKHMsIGluZGV4LCBzdHJpbmdMZW5ndGgpIHtcbiAgdmFyIHJlc3VsdFN0ciA9IHM7XG4gIDAgPD0gaW5kZXggJiYgaW5kZXggPCBzLmxlbmd0aCAmJiAwIDwgc3RyaW5nTGVuZ3RoICYmIChyZXN1bHRTdHIgPSBzLnN1YnN0cigwLCBpbmRleCkgKyBzLnN1YnN0cihpbmRleCArIHN0cmluZ0xlbmd0aCwgcy5sZW5ndGggLSBpbmRleCAtIHN0cmluZ0xlbmd0aCkpO1xuICByZXR1cm4gcmVzdWx0U3RyO1xufTtcbmdvb2cuc3RyaW5nLnJlbW92ZSA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShzdWJzdHIsIFwiXCIpO1xufTtcbmdvb2cuc3RyaW5nLnJlbW92ZUFsbCA9IGZ1bmN0aW9uKHMsIHNzKSB7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAoZ29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKHNzKSwgXCJnXCIpO1xuICByZXR1cm4gcy5yZXBsYWNlKHJlLCBcIlwiKTtcbn07XG5nb29nLnN0cmluZy5yZXBsYWNlQWxsID0gZnVuY3Rpb24ocywgc3MsIHJlcGxhY2VtZW50KSB7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAoZ29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKHNzKSwgXCJnXCIpO1xuICByZXR1cm4gcy5yZXBsYWNlKHJlLCByZXBsYWNlbWVudC5yZXBsYWNlKC9cXCQvZywgXCIkJCQkXCIpKTtcbn07XG5nb29nLnN0cmluZy5yZWdFeHBFc2NhcGUgPSBmdW5jdGlvbihzKSB7XG4gIHJldHVybiBTdHJpbmcocykucmVwbGFjZSgvKFstKClcXFtcXF17fSs/Ki4kXFxefCw6IzwhXFxcXF0pL2csIFwiXFxcXCQxXCIpLnJlcGxhY2UoL1xceDA4L2csIFwiXFxcXHgwOFwiKTtcbn07XG5nb29nLnN0cmluZy5yZXBlYXQgPSBTdHJpbmcucHJvdG90eXBlLnJlcGVhdCA/IGZ1bmN0aW9uKHN0cmluZywgbGVuZ3RoKSB7XG4gIHJldHVybiBzdHJpbmcucmVwZWF0KGxlbmd0aCk7XG59IDogZnVuY3Rpb24oc3RyaW5nLCBsZW5ndGgpIHtcbiAgcmV0dXJuIEFycmF5KGxlbmd0aCArIDEpLmpvaW4oc3RyaW5nKTtcbn07XG5nb29nLnN0cmluZy5wYWROdW1iZXIgPSBmdW5jdGlvbihudW0sIGxlbmd0aCwgb3B0X3ByZWNpc2lvbikge1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShudW0pKSB7XG4gICAgcmV0dXJuIFN0cmluZyhudW0pO1xuICB9XG4gIHZhciBzID0gdm9pZCAwICE9PSBvcHRfcHJlY2lzaW9uID8gbnVtLnRvRml4ZWQob3B0X3ByZWNpc2lvbikgOiBTdHJpbmcobnVtKSwgaW5kZXggPSBzLmluZGV4T2YoXCIuXCIpO1xuICAtMSA9PT0gaW5kZXggJiYgKGluZGV4ID0gcy5sZW5ndGgpO1xuICB2YXIgc2lnbiA9IFwiLVwiID09PSBzWzBdID8gXCItXCIgOiBcIlwiO1xuICBzaWduICYmIChzID0gcy5zdWJzdHJpbmcoMSkpO1xuICByZXR1cm4gc2lnbiArIGdvb2cuc3RyaW5nLnJlcGVhdChcIjBcIiwgTWF0aC5tYXgoMCwgbGVuZ3RoIC0gaW5kZXgpKSArIHM7XG59O1xuZ29vZy5zdHJpbmcubWFrZVNhZmUgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIG51bGwgPT0gb2JqID8gXCJcIiA6IFN0cmluZyhvYmopO1xufTtcbmdvb2cuc3RyaW5nLmJ1aWxkU3RyaW5nID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5qb2luLmNhbGwoYXJndW1lbnRzLCBcIlwiKTtcbn07XG5nb29nLnN0cmluZy5nZXRSYW5kb21TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoMjE0NzQ4MzY0OCAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KSArIE1hdGguYWJzKE1hdGguZmxvb3IoMjE0NzQ4MzY0OCAqIE1hdGgucmFuZG9tKCkpIF4gZ29vZy5ub3coKSkudG9TdHJpbmcoMzYpO1xufTtcbmdvb2cuc3RyaW5nLmNvbXBhcmVWZXJzaW9ucyA9IGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucztcbmdvb2cuc3RyaW5nLmhhc2hDb2RlID0gZnVuY3Rpb24oc3RyKSB7XG4gIGZvciAodmFyIHJlc3VsdCA9IDAsIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgcmVzdWx0ID0gMzEgKiByZXN1bHQgKyBzdHIuY2hhckNvZGVBdChpKSA+Pj4gMDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmdvb2cuc3RyaW5nLnVuaXF1ZVN0cmluZ0NvdW50ZXJfID0gMjE0NzQ4MzY0OCAqIE1hdGgucmFuZG9tKCkgfCAwO1xuZ29vZy5zdHJpbmcuY3JlYXRlVW5pcXVlU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcImdvb2dfXCIgKyBnb29nLnN0cmluZy51bmlxdWVTdHJpbmdDb3VudGVyXysrO1xufTtcbmdvb2cuc3RyaW5nLnRvTnVtYmVyID0gZnVuY3Rpb24oc3RyKSB7XG4gIHZhciBudW0gPSBOdW1iZXIoc3RyKTtcbiAgcmV0dXJuIDAgPT0gbnVtICYmIGdvb2cuc3RyaW5nLmlzRW1wdHlPcldoaXRlc3BhY2Uoc3RyKSA/IE5hTiA6IG51bTtcbn07XG5nb29nLnN0cmluZy5pc0xvd2VyQ2FtZWxDYXNlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiAvXlthLXpdKyhbQS1aXVthLXpdKikqJC8udGVzdChzdHIpO1xufTtcbmdvb2cuc3RyaW5nLmlzVXBwZXJDYW1lbENhc2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIC9eKFtBLVpdW2Etel0qKSskLy50ZXN0KHN0cik7XG59O1xuZ29vZy5zdHJpbmcudG9DYW1lbENhc2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UoL1xcLShbYS16XSkvZywgZnVuY3Rpb24oYWxsLCBtYXRjaCkge1xuICAgIHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpO1xuICB9KTtcbn07XG5nb29nLnN0cmluZy50b1NlbGVjdG9yQ2FzZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSgvKFtBLVpdKS9nLCBcIi0kMVwiKS50b0xvd2VyQ2FzZSgpO1xufTtcbmdvb2cuc3RyaW5nLnRvVGl0bGVDYXNlID0gZnVuY3Rpb24oc3RyLCBvcHRfZGVsaW1pdGVycykge1xuICB2YXIgZGVsaW1pdGVycyA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRfZGVsaW1pdGVycyA/IGdvb2cuc3RyaW5nLnJlZ0V4cEVzY2FwZShvcHRfZGVsaW1pdGVycykgOiBcIlxcXFxzXCI7XG4gIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKFwiKF5cIiArIChkZWxpbWl0ZXJzID8gXCJ8W1wiICsgZGVsaW1pdGVycyArIFwiXStcIiA6IFwiXCIpICsgXCIpKFthLXpdKVwiLCBcImdcIiksIGZ1bmN0aW9uKGFsbCwgcDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxICsgcDIudG9VcHBlckNhc2UoKTtcbiAgfSk7XG59O1xuZ29vZy5zdHJpbmcuY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gU3RyaW5nKHN0ci5jaGFyQXQoMCkpLnRvVXBwZXJDYXNlKCkgKyBTdHJpbmcoc3RyLnN1YnN0cigxKSkudG9Mb3dlckNhc2UoKTtcbn07XG5nb29nLnN0cmluZy5wYXJzZUludCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlzRmluaXRlKHZhbHVlKSAmJiAodmFsdWUgPSBTdHJpbmcodmFsdWUpKTtcbiAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB2YWx1ZSA/IC9eXFxzKi0/MHgvaS50ZXN0KHZhbHVlKSA/IHBhcnNlSW50KHZhbHVlLCAxNikgOiBwYXJzZUludCh2YWx1ZSwgMTApIDogTmFOO1xufTtcbmdvb2cuc3RyaW5nLnNwbGl0TGltaXQgPSBmdW5jdGlvbihzdHIsIHNlcGFyYXRvciwgbGltaXQpIHtcbiAgZm9yICh2YXIgcGFydHMgPSBzdHIuc3BsaXQoc2VwYXJhdG9yKSwgcmV0dXJuVmFsID0gW107IDAgPCBsaW1pdCAmJiBwYXJ0cy5sZW5ndGg7KSB7XG4gICAgcmV0dXJuVmFsLnB1c2gocGFydHMuc2hpZnQoKSksIGxpbWl0LS07XG4gIH1cbiAgcGFydHMubGVuZ3RoICYmIHJldHVyblZhbC5wdXNoKHBhcnRzLmpvaW4oc2VwYXJhdG9yKSk7XG4gIHJldHVybiByZXR1cm5WYWw7XG59O1xuZ29vZy5zdHJpbmcubGFzdENvbXBvbmVudCA9IGZ1bmN0aW9uKHN0ciwgc2VwYXJhdG9ycykge1xuICBpZiAoc2VwYXJhdG9ycykge1xuICAgIFwic3RyaW5nXCIgPT0gdHlwZW9mIHNlcGFyYXRvcnMgJiYgKHNlcGFyYXRvcnMgPSBbc2VwYXJhdG9yc10pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgZm9yICh2YXIgbGFzdFNlcGFyYXRvckluZGV4ID0gLTEsIGkgPSAwOyBpIDwgc2VwYXJhdG9ycy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChcIlwiICE9IHNlcGFyYXRvcnNbaV0pIHtcbiAgICAgIHZhciBjdXJyZW50U2VwYXJhdG9ySW5kZXggPSBzdHIubGFzdEluZGV4T2Yoc2VwYXJhdG9yc1tpXSk7XG4gICAgICBjdXJyZW50U2VwYXJhdG9ySW5kZXggPiBsYXN0U2VwYXJhdG9ySW5kZXggJiYgKGxhc3RTZXBhcmF0b3JJbmRleCA9IGN1cnJlbnRTZXBhcmF0b3JJbmRleCk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMSA9PSBsYXN0U2VwYXJhdG9ySW5kZXggPyBzdHIgOiBzdHIuc2xpY2UobGFzdFNlcGFyYXRvckluZGV4ICsgMSk7XG59O1xuZ29vZy5zdHJpbmcuZWRpdERpc3RhbmNlID0gZnVuY3Rpb24oYSwgYikge1xuICB2YXIgdjAgPSBbXSwgdjEgPSBbXTtcbiAgaWYgKGEgPT0gYikge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmICghYS5sZW5ndGggfHwgIWIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aCArIDE7IGkrKykge1xuICAgIHYwW2ldID0gaTtcbiAgfVxuICBmb3IgKHZhciBpJDUwID0gMDsgaSQ1MCA8IGEubGVuZ3RoOyBpJDUwKyspIHtcbiAgICB2MVswXSA9IGkkNTAgKyAxO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgYi5sZW5ndGg7IGorKykge1xuICAgICAgdjFbaiArIDFdID0gTWF0aC5taW4odjFbal0gKyAxLCB2MFtqICsgMV0gKyAxLCB2MFtqXSArIE51bWJlcihhW2kkNTBdICE9IGJbal0pKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaiQ1MSA9IDA7IGokNTEgPCB2MC5sZW5ndGg7IGokNTErKykge1xuICAgICAgdjBbaiQ1MV0gPSB2MVtqJDUxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHYxW2IubGVuZ3RoXTtcbn07XG5nb29nLmNvbGxlY3Rpb25zLm1hcHMgPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX01hcExpa2UgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX01hcExpa2UucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19NYXBMaWtlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrZXkpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX01hcExpa2UucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX01hcExpa2UucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfTWFwTGlrZS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG59O1xuZ29vZy5jb2xsZWN0aW9ucy5tYXBzLk1hcExpa2UgPSBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX01hcExpa2U7XG5nb29nLmNvbGxlY3Rpb25zLm1hcHMuc2V0QWxsID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19zZXRBbGwobWFwLCBlbnRyaWVzKSB7XG4gIGlmIChlbnRyaWVzKSB7XG4gICAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDEwID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoZW50cmllcyksICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQxMC5uZXh0KCk7ICEkanNjb21wJGtleSQuZG9uZTsgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDEwLm5leHQoKSkge1xuICAgICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxMyA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAka2V5JC52YWx1ZSksIGsgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTMubmV4dCgpLnZhbHVlLCB2ID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjEzLm5leHQoKS52YWx1ZTtcbiAgICAgIG1hcC5zZXQoaywgdik7XG4gICAgfVxuICB9XG59O1xuZ29vZy5jb2xsZWN0aW9ucy5tYXBzLmhhc1ZhbHVlID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19oYXNWYWx1ZShtYXAsIHZhbCwgdmFsdWVFcXVhbGl0eUZuKSB7XG4gIHZhbHVlRXF1YWxpdHlGbiA9IHZvaWQgMCA9PT0gdmFsdWVFcXVhbGl0eUZuID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19kZWZhdWx0RXF1YWxpdHlGbiA6IHZhbHVlRXF1YWxpdHlGbjtcbiAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDExID0gJGpzY29tcC5tYWtlSXRlcmF0b3IobWFwLnZhbHVlcygpKSwgJGpzY29tcCRrZXkkdiA9ICRqc2NvbXAkaXRlciQxMS5uZXh0KCk7ICEkanNjb21wJGtleSR2LmRvbmU7ICRqc2NvbXAka2V5JHYgPSAkanNjb21wJGl0ZXIkMTEubmV4dCgpKSB7XG4gICAgaWYgKHZhbHVlRXF1YWxpdHlGbigkanNjb21wJGtleSR2LnZhbHVlLCB2YWwpKSB7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19kZWZhdWx0RXF1YWxpdHlGbiA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59O1xuZ29vZy5jb2xsZWN0aW9ucy5tYXBzLmVxdWFscyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfZXF1YWxzKG1hcCwgb3RoZXJNYXAsIHZhbHVlRXF1YWxpdHlGbikge1xuICB2YWx1ZUVxdWFsaXR5Rm4gPSB2b2lkIDAgPT09IHZhbHVlRXF1YWxpdHlGbiA/IG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfZGVmYXVsdEVxdWFsaXR5Rm4gOiB2YWx1ZUVxdWFsaXR5Rm47XG4gIGlmIChtYXAgPT09IG90aGVyTWFwKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIGlmIChtYXAuc2l6ZSAhPT0gb3RoZXJNYXAuc2l6ZSkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICBmb3IgKHZhciAkanNjb21wJGl0ZXIkMTIgPSAkanNjb21wLm1ha2VJdGVyYXRvcihtYXAua2V5cygpKSwgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDEyLm5leHQoKTsgISRqc2NvbXAka2V5JGtleS5kb25lOyAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMTIubmV4dCgpKSB7XG4gICAgdmFyIGtleSA9ICRqc2NvbXAka2V5JGtleS52YWx1ZTtcbiAgICBpZiAoIW90aGVyTWFwLmhhcyhrZXkpIHx8ICF2YWx1ZUVxdWFsaXR5Rm4obWFwLmdldChrZXkpLCBvdGhlck1hcC5nZXQoa2V5KSkpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufTtcbmdvb2cuY29sbGVjdGlvbnMubWFwcy50cmFuc3Bvc2UgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX3RyYW5zcG9zZShtYXApIHtcbiAgZm9yICh2YXIgdHJhbnNwb3NlZCA9IG5ldyBNYXAoKSwgJGpzY29tcCRpdGVyJDEzID0gJGpzY29tcC5tYWtlSXRlcmF0b3IobWFwLmtleXMoKSksICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQxMy5uZXh0KCk7ICEkanNjb21wJGtleSRrZXkuZG9uZTsgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDEzLm5leHQoKSkge1xuICAgIHZhciBrZXkgPSAkanNjb21wJGtleSRrZXkudmFsdWUsIHZhbCA9IG1hcC5nZXQoa2V5KTtcbiAgICB0cmFuc3Bvc2VkLnNldCh2YWwsIGtleSk7XG4gIH1cbiAgcmV0dXJuIHRyYW5zcG9zZWQ7XG59O1xuZ29vZy5jb2xsZWN0aW9ucy5tYXBzLnRvT2JqZWN0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc190b09iamVjdChtYXApIHtcbiAgZm9yICh2YXIgb2JqID0ge30sICRqc2NvbXAkaXRlciQxNCA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKG1hcC5rZXlzKCkpLCAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMTQubmV4dCgpOyAhJGpzY29tcCRrZXkka2V5LmRvbmU7ICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQxNC5uZXh0KCkpIHtcbiAgICB2YXIga2V5ID0gJGpzY29tcCRrZXkka2V5LnZhbHVlO1xuICAgIG9ialtrZXldID0gbWFwLmdldChrZXkpO1xuICB9XG4gIHJldHVybiBvYmo7XG59O1xuZ29vZy51cmkgPSB7fTtcbmdvb2cudXJpLnV0aWxzID0ge307XG5nb29nLnVyaS51dGlscy5RdWVyeUFycmF5ID0ge307XG5nb29nLnVyaS51dGlscy5RdWVyeVZhbHVlID0ge307XG5nb29nLnVyaS51dGlscy5DaGFyQ29kZV8gPSB7QU1QRVJTQU5EOjM4LCBFUVVBTDo2MSwgSEFTSDozNSwgUVVFU1RJT046NjN9O1xuZ29vZy51cmkudXRpbHMuYnVpbGRGcm9tRW5jb2RlZFBhcnRzID0gZnVuY3Rpb24ob3B0X3NjaGVtZSwgb3B0X3VzZXJJbmZvLCBvcHRfZG9tYWluLCBvcHRfcG9ydCwgb3B0X3BhdGgsIG9wdF9xdWVyeURhdGEsIG9wdF9mcmFnbWVudCkge1xuICB2YXIgb3V0ID0gXCJcIjtcbiAgb3B0X3NjaGVtZSAmJiAob3V0ICs9IG9wdF9zY2hlbWUgKyBcIjpcIik7XG4gIG9wdF9kb21haW4gJiYgKG91dCArPSBcIi8vXCIsIG9wdF91c2VySW5mbyAmJiAob3V0ICs9IG9wdF91c2VySW5mbyArIFwiQFwiKSwgb3V0ICs9IG9wdF9kb21haW4sIG9wdF9wb3J0ICYmIChvdXQgKz0gXCI6XCIgKyBvcHRfcG9ydCkpO1xuICBvcHRfcGF0aCAmJiAob3V0ICs9IG9wdF9wYXRoKTtcbiAgb3B0X3F1ZXJ5RGF0YSAmJiAob3V0ICs9IFwiP1wiICsgb3B0X3F1ZXJ5RGF0YSk7XG4gIG9wdF9mcmFnbWVudCAmJiAob3V0ICs9IFwiI1wiICsgb3B0X2ZyYWdtZW50KTtcbiAgcmV0dXJuIG91dDtcbn07XG5nb29nLnVyaS51dGlscy5zcGxpdFJlXyA9IFJlZ0V4cChcIl4oPzooW146Lz8jLl0rKTopPyg/Oi8vKD86KFteXFxcXFxcXFwvPyNdKilAKT8oW15cXFxcXFxcXC8/I10qPykoPzo6KFswLTldKykpPyg/PVtcXFxcXFxcXC8/I118JCkpPyhbXj8jXSspPyg/OlxcXFw/KFteI10qKSk/KD86IyhbXFxcXHNcXFxcU10qKSk/JFwiKTtcbmdvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4ID0ge1NDSEVNRToxLCBVU0VSX0lORk86MiwgRE9NQUlOOjMsIFBPUlQ6NCwgUEFUSDo1LCBRVUVSWV9EQVRBOjYsIEZSQUdNRU5UOjd9O1xuZ29vZy51cmkudXRpbHMudXJsUGFja2FnZVN1cHBvcnRMb2dnaW5nSGFuZGxlcl8gPSBudWxsO1xuZ29vZy51cmkudXRpbHMuc2V0VXJsUGFja2FnZVN1cHBvcnRMb2dnaW5nSGFuZGxlciA9IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgZ29vZy51cmkudXRpbHMudXJsUGFja2FnZVN1cHBvcnRMb2dnaW5nSGFuZGxlcl8gPSBoYW5kbGVyO1xufTtcbmdvb2cudXJpLnV0aWxzLnNwbGl0ID0gZnVuY3Rpb24odXJpKSB7XG4gIHZhciByZXN1bHQgPSB1cmkubWF0Y2goZ29vZy51cmkudXRpbHMuc3BsaXRSZV8pO1xuICBnb29nLnVyaS51dGlscy51cmxQYWNrYWdlU3VwcG9ydExvZ2dpbmdIYW5kbGVyXyAmJiAwIDw9IFtcImh0dHBcIiwgXCJodHRwc1wiLCBcIndzXCIsIFwid3NzXCIsIFwiZnRwXCJdLmluZGV4T2YocmVzdWx0W2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlNDSEVNRV0pICYmIGdvb2cudXJpLnV0aWxzLnVybFBhY2thZ2VTdXBwb3J0TG9nZ2luZ0hhbmRsZXJfKHVyaSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy51cmkudXRpbHMuZGVjb2RlSWZQb3NzaWJsZV8gPSBmdW5jdGlvbih1cmksIG9wdF9wcmVzZXJ2ZVJlc2VydmVkKSB7XG4gIHJldHVybiB1cmkgPyBvcHRfcHJlc2VydmVSZXNlcnZlZCA/IGRlY29kZVVSSSh1cmkpIDogZGVjb2RlVVJJQ29tcG9uZW50KHVyaSkgOiB1cmk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0Q29tcG9uZW50QnlJbmRleF8gPSBmdW5jdGlvbihjb21wb25lbnRJbmRleCwgdXJpKSB7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5zcGxpdCh1cmkpW2NvbXBvbmVudEluZGV4XSB8fCBudWxsO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldFNjaGVtZSA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuZ2V0Q29tcG9uZW50QnlJbmRleF8oZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguU0NIRU1FLCB1cmkpO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldEVmZmVjdGl2ZVNjaGVtZSA9IGZ1bmN0aW9uKHVyaSkge1xuICB2YXIgc2NoZW1lID0gZ29vZy51cmkudXRpbHMuZ2V0U2NoZW1lKHVyaSk7XG4gIGlmICghc2NoZW1lICYmIGdvb2cuZ2xvYmFsLnNlbGYgJiYgZ29vZy5nbG9iYWwuc2VsZi5sb2NhdGlvbikge1xuICAgIHZhciBwcm90b2NvbCA9IGdvb2cuZ2xvYmFsLnNlbGYubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgc2NoZW1lID0gcHJvdG9jb2wuc3Vic3RyKDAsIHByb3RvY29sLmxlbmd0aCAtIDEpO1xuICB9XG4gIHJldHVybiBzY2hlbWUgPyBzY2hlbWUudG9Mb3dlckNhc2UoKSA6IFwiXCI7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0VXNlckluZm9FbmNvZGVkID0gZnVuY3Rpb24odXJpKSB7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5nZXRDb21wb25lbnRCeUluZGV4Xyhnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5VU0VSX0lORk8sIHVyaSk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0VXNlckluZm8gPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmRlY29kZUlmUG9zc2libGVfKGdvb2cudXJpLnV0aWxzLmdldFVzZXJJbmZvRW5jb2RlZCh1cmkpKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXREb21haW5FbmNvZGVkID0gZnVuY3Rpb24odXJpKSB7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5nZXRDb21wb25lbnRCeUluZGV4Xyhnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5ET01BSU4sIHVyaSk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0RG9tYWluID0gZnVuY3Rpb24odXJpKSB7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5kZWNvZGVJZlBvc3NpYmxlXyhnb29nLnVyaS51dGlscy5nZXREb21haW5FbmNvZGVkKHVyaSksICEwKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRQb3J0ID0gZnVuY3Rpb24odXJpKSB7XG4gIHJldHVybiBOdW1iZXIoZ29vZy51cmkudXRpbHMuZ2V0Q29tcG9uZW50QnlJbmRleF8oZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUE9SVCwgdXJpKSkgfHwgbnVsbDtcbn07XG5nb29nLnVyaS51dGlscy5nZXRQYXRoRW5jb2RlZCA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuZ2V0Q29tcG9uZW50QnlJbmRleF8oZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUEFUSCwgdXJpKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRQYXRoID0gZnVuY3Rpb24odXJpKSB7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5kZWNvZGVJZlBvc3NpYmxlXyhnb29nLnVyaS51dGlscy5nZXRQYXRoRW5jb2RlZCh1cmkpLCAhMCk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0UXVlcnlEYXRhID0gZnVuY3Rpb24odXJpKSB7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5nZXRDb21wb25lbnRCeUluZGV4Xyhnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5RVUVSWV9EQVRBLCB1cmkpO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldEZyYWdtZW50RW5jb2RlZCA9IGZ1bmN0aW9uKHVyaSkge1xuICB2YXIgaGFzaEluZGV4ID0gdXJpLmluZGV4T2YoXCIjXCIpO1xuICByZXR1cm4gMCA+IGhhc2hJbmRleCA/IG51bGwgOiB1cmkuc3Vic3RyKGhhc2hJbmRleCArIDEpO1xufTtcbmdvb2cudXJpLnV0aWxzLnNldEZyYWdtZW50RW5jb2RlZCA9IGZ1bmN0aW9uKHVyaSwgZnJhZ21lbnQpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLnJlbW92ZUZyYWdtZW50KHVyaSkgKyAoZnJhZ21lbnQgPyBcIiNcIiArIGZyYWdtZW50IDogXCJcIik7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0RnJhZ21lbnQgPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmRlY29kZUlmUG9zc2libGVfKGdvb2cudXJpLnV0aWxzLmdldEZyYWdtZW50RW5jb2RlZCh1cmkpKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRIb3N0ID0gZnVuY3Rpb24odXJpKSB7XG4gIHZhciBwaWVjZXMgPSBnb29nLnVyaS51dGlscy5zcGxpdCh1cmkpO1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuYnVpbGRGcm9tRW5jb2RlZFBhcnRzKHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5TQ0hFTUVdLCBwaWVjZXNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguVVNFUl9JTkZPXSwgcGllY2VzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTl0sIHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QT1JUXSk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0T3JpZ2luID0gZnVuY3Rpb24odXJpKSB7XG4gIHZhciBwaWVjZXMgPSBnb29nLnVyaS51dGlscy5zcGxpdCh1cmkpO1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuYnVpbGRGcm9tRW5jb2RlZFBhcnRzKHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5TQ0hFTUVdLCBudWxsLCBwaWVjZXNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOXSwgcGllY2VzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBPUlRdKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRQYXRoQW5kQWZ0ZXIgPSBmdW5jdGlvbih1cmkpIHtcbiAgdmFyIHBpZWNlcyA9IGdvb2cudXJpLnV0aWxzLnNwbGl0KHVyaSk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5idWlsZEZyb21FbmNvZGVkUGFydHMobnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgcGllY2VzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBBVEhdLCBwaWVjZXNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUVVFUllfREFUQV0sIHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5GUkFHTUVOVF0pO1xufTtcbmdvb2cudXJpLnV0aWxzLnJlbW92ZUZyYWdtZW50ID0gZnVuY3Rpb24odXJpKSB7XG4gIHZhciBoYXNoSW5kZXggPSB1cmkuaW5kZXhPZihcIiNcIik7XG4gIHJldHVybiAwID4gaGFzaEluZGV4ID8gdXJpIDogdXJpLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xufTtcbmdvb2cudXJpLnV0aWxzLmhhdmVTYW1lRG9tYWluID0gZnVuY3Rpb24odXJpMSwgdXJpMikge1xuICB2YXIgcGllY2VzMSA9IGdvb2cudXJpLnV0aWxzLnNwbGl0KHVyaTEpLCBwaWVjZXMyID0gZ29vZy51cmkudXRpbHMuc3BsaXQodXJpMik7XG4gIHJldHVybiBwaWVjZXMxW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTl0gPT0gcGllY2VzMltnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5ET01BSU5dICYmIHBpZWNlczFbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguU0NIRU1FXSA9PSBwaWVjZXMyW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlNDSEVNRV0gJiYgcGllY2VzMVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QT1JUXSA9PSBwaWVjZXMyW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBPUlRdO1xufTtcbmdvb2cudXJpLnV0aWxzLmFzc2VydE5vRnJhZ21lbnRzT3JRdWVyaWVzXyA9IGZ1bmN0aW9uKHVyaSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KDAgPiB1cmkuaW5kZXhPZihcIiNcIikgJiYgMCA+IHVyaS5pbmRleE9mKFwiP1wiKSwgXCJnb29nLnVyaS51dGlsczogRnJhZ21lbnQgb3IgcXVlcnkgaWRlbnRpZmllcnMgYXJlIG5vdCBzdXBwb3J0ZWQ6IFslc11cIiwgdXJpKTtcbn07XG5nb29nLnVyaS51dGlscy5wYXJzZVF1ZXJ5RGF0YSA9IGZ1bmN0aW9uKGVuY29kZWRRdWVyeSwgY2FsbGJhY2spIHtcbiAgaWYgKGVuY29kZWRRdWVyeSkge1xuICAgIGZvciAodmFyIHBhaXJzID0gZW5jb2RlZFF1ZXJ5LnNwbGl0KFwiJlwiKSwgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGluZGV4T2ZFcXVhbHMgPSBwYWlyc1tpXS5pbmRleE9mKFwiPVwiKSwgbmFtZSA9IG51bGwsIHZhbHVlID0gbnVsbDtcbiAgICAgIDAgPD0gaW5kZXhPZkVxdWFscyA/IChuYW1lID0gcGFpcnNbaV0uc3Vic3RyaW5nKDAsIGluZGV4T2ZFcXVhbHMpLCB2YWx1ZSA9IHBhaXJzW2ldLnN1YnN0cmluZyhpbmRleE9mRXF1YWxzICsgMSkpIDogbmFtZSA9IHBhaXJzW2ldO1xuICAgICAgY2FsbGJhY2sobmFtZSwgdmFsdWUgPyBnb29nLnN0cmluZy51cmxEZWNvZGUodmFsdWUpIDogXCJcIik7XG4gICAgfVxuICB9XG59O1xuZ29vZy51cmkudXRpbHMuc3BsaXRRdWVyeURhdGFfID0gZnVuY3Rpb24odXJpKSB7XG4gIHZhciBoYXNoSW5kZXggPSB1cmkuaW5kZXhPZihcIiNcIik7XG4gIDAgPiBoYXNoSW5kZXggJiYgKGhhc2hJbmRleCA9IHVyaS5sZW5ndGgpO1xuICB2YXIgcXVlc3Rpb25JbmRleCA9IHVyaS5pbmRleE9mKFwiP1wiKTtcbiAgaWYgKDAgPiBxdWVzdGlvbkluZGV4IHx8IHF1ZXN0aW9uSW5kZXggPiBoYXNoSW5kZXgpIHtcbiAgICBxdWVzdGlvbkluZGV4ID0gaGFzaEluZGV4O1xuICAgIHZhciBxdWVyeURhdGEgPSBcIlwiO1xuICB9IGVsc2Uge1xuICAgIHF1ZXJ5RGF0YSA9IHVyaS5zdWJzdHJpbmcocXVlc3Rpb25JbmRleCArIDEsIGhhc2hJbmRleCk7XG4gIH1cbiAgcmV0dXJuIFt1cmkuc3Vic3RyKDAsIHF1ZXN0aW9uSW5kZXgpLCBxdWVyeURhdGEsIHVyaS5zdWJzdHIoaGFzaEluZGV4KV07XG59O1xuZ29vZy51cmkudXRpbHMuam9pblF1ZXJ5RGF0YV8gPSBmdW5jdGlvbihwYXJ0cykge1xuICByZXR1cm4gcGFydHNbMF0gKyAocGFydHNbMV0gPyBcIj9cIiArIHBhcnRzWzFdIDogXCJcIikgKyBwYXJ0c1syXTtcbn07XG5nb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFfID0gZnVuY3Rpb24ocXVlcnlEYXRhLCBuZXdEYXRhKSB7XG4gIHJldHVybiBuZXdEYXRhID8gcXVlcnlEYXRhID8gcXVlcnlEYXRhICsgXCImXCIgKyBuZXdEYXRhIDogbmV3RGF0YSA6IHF1ZXJ5RGF0YTtcbn07XG5nb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFUb1VyaV8gPSBmdW5jdGlvbih1cmksIHF1ZXJ5RGF0YSkge1xuICBpZiAoIXF1ZXJ5RGF0YSkge1xuICAgIHJldHVybiB1cmk7XG4gIH1cbiAgdmFyIHBhcnRzID0gZ29vZy51cmkudXRpbHMuc3BsaXRRdWVyeURhdGFfKHVyaSk7XG4gIHBhcnRzWzFdID0gZ29vZy51cmkudXRpbHMuYXBwZW5kUXVlcnlEYXRhXyhwYXJ0c1sxXSwgcXVlcnlEYXRhKTtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmpvaW5RdWVyeURhdGFfKHBhcnRzKTtcbn07XG5nb29nLnVyaS51dGlscy5hcHBlbmRLZXlWYWx1ZVBhaXJzXyA9IGZ1bmN0aW9uKGtleSwgdmFsdWUsIHBhaXJzKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnRTdHJpbmcoa2V5KTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgZ29vZy5hc3NlcnRzLmFzc2VydEFycmF5KHZhbHVlKTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICBnb29nLnVyaS51dGlscy5hcHBlbmRLZXlWYWx1ZVBhaXJzXyhrZXksIFN0cmluZyh2YWx1ZVtqXSksIHBhaXJzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbnVsbCAhPSB2YWx1ZSAmJiBwYWlycy5wdXNoKGtleSArIChcIlwiID09PSB2YWx1ZSA/IFwiXCIgOiBcIj1cIiArIGdvb2cuc3RyaW5nLnVybEVuY29kZSh2YWx1ZSkpKTtcbiAgfVxufTtcbmdvb2cudXJpLnV0aWxzLmJ1aWxkUXVlcnlEYXRhID0gZnVuY3Rpb24oa2V5c0FuZFZhbHVlcywgb3B0X3N0YXJ0SW5kZXgpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCgwID09IE1hdGgubWF4KGtleXNBbmRWYWx1ZXMubGVuZ3RoIC0gKG9wdF9zdGFydEluZGV4IHx8IDApLCAwKSAlIDIsIFwiZ29vZy51cmkudXRpbHM6IEtleS92YWx1ZSBsaXN0cyBtdXN0IGJlIGV2ZW4gaW4gbGVuZ3RoLlwiKTtcbiAgZm9yICh2YXIgcGFyYW1zID0gW10sIGkgPSBvcHRfc3RhcnRJbmRleCB8fCAwOyBpIDwga2V5c0FuZFZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIGdvb2cudXJpLnV0aWxzLmFwcGVuZEtleVZhbHVlUGFpcnNfKGtleXNBbmRWYWx1ZXNbaV0sIGtleXNBbmRWYWx1ZXNbaSArIDFdLCBwYXJhbXMpO1xuICB9XG4gIHJldHVybiBwYXJhbXMuam9pbihcIiZcIik7XG59O1xuZ29vZy51cmkudXRpbHMuYnVpbGRRdWVyeURhdGFGcm9tTWFwID0gZnVuY3Rpb24obWFwKSB7XG4gIHZhciBwYXJhbXMgPSBbXSwga2V5O1xuICBmb3IgKGtleSBpbiBtYXApIHtcbiAgICBnb29nLnVyaS51dGlscy5hcHBlbmRLZXlWYWx1ZVBhaXJzXyhrZXksIG1hcFtrZXldLCBwYXJhbXMpO1xuICB9XG4gIHJldHVybiBwYXJhbXMuam9pbihcIiZcIik7XG59O1xuZ29vZy51cmkudXRpbHMuYXBwZW5kUGFyYW1zID0gZnVuY3Rpb24odXJpLCB2YXJfYXJncykge1xuICB2YXIgcXVlcnlEYXRhID0gMiA9PSBhcmd1bWVudHMubGVuZ3RoID8gZ29vZy51cmkudXRpbHMuYnVpbGRRdWVyeURhdGEoYXJndW1lbnRzWzFdLCAwKSA6IGdvb2cudXJpLnV0aWxzLmJ1aWxkUXVlcnlEYXRhKGFyZ3VtZW50cywgMSk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFUb1VyaV8odXJpLCBxdWVyeURhdGEpO1xufTtcbmdvb2cudXJpLnV0aWxzLmFwcGVuZFBhcmFtc0Zyb21NYXAgPSBmdW5jdGlvbih1cmksIG1hcCkge1xuICB2YXIgcXVlcnlEYXRhID0gZ29vZy51cmkudXRpbHMuYnVpbGRRdWVyeURhdGFGcm9tTWFwKG1hcCk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFUb1VyaV8odXJpLCBxdWVyeURhdGEpO1xufTtcbmdvb2cudXJpLnV0aWxzLmFwcGVuZFBhcmFtID0gZnVuY3Rpb24odXJpLCBrZXksIG9wdF92YWx1ZSkge1xuICB2YXIgdmFsdWUgPSBudWxsICE9IG9wdF92YWx1ZSA/IFwiPVwiICsgZ29vZy5zdHJpbmcudXJsRW5jb2RlKG9wdF92YWx1ZSkgOiBcIlwiO1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuYXBwZW5kUXVlcnlEYXRhVG9VcmlfKHVyaSwga2V5ICsgdmFsdWUpO1xufTtcbmdvb2cudXJpLnV0aWxzLmZpbmRQYXJhbV8gPSBmdW5jdGlvbih1cmksIHN0YXJ0SW5kZXgsIGtleUVuY29kZWQsIGhhc2hPckVuZEluZGV4KSB7XG4gIGZvciAodmFyIGluZGV4ID0gc3RhcnRJbmRleCwga2V5TGVuZ3RoID0ga2V5RW5jb2RlZC5sZW5ndGg7IDAgPD0gKGluZGV4ID0gdXJpLmluZGV4T2Yoa2V5RW5jb2RlZCwgaW5kZXgpKSAmJiBpbmRleCA8IGhhc2hPckVuZEluZGV4Oykge1xuICAgIHZhciBwcmVjZWRpbmdDaGFyID0gdXJpLmNoYXJDb2RlQXQoaW5kZXggLSAxKTtcbiAgICBpZiAocHJlY2VkaW5nQ2hhciA9PSBnb29nLnVyaS51dGlscy5DaGFyQ29kZV8uQU1QRVJTQU5EIHx8IHByZWNlZGluZ0NoYXIgPT0gZ29vZy51cmkudXRpbHMuQ2hhckNvZGVfLlFVRVNUSU9OKSB7XG4gICAgICB2YXIgZm9sbG93aW5nQ2hhciA9IHVyaS5jaGFyQ29kZUF0KGluZGV4ICsga2V5TGVuZ3RoKTtcbiAgICAgIGlmICghZm9sbG93aW5nQ2hhciB8fCBmb2xsb3dpbmdDaGFyID09IGdvb2cudXJpLnV0aWxzLkNoYXJDb2RlXy5FUVVBTCB8fCBmb2xsb3dpbmdDaGFyID09IGdvb2cudXJpLnV0aWxzLkNoYXJDb2RlXy5BTVBFUlNBTkQgfHwgZm9sbG93aW5nQ2hhciA9PSBnb29nLnVyaS51dGlscy5DaGFyQ29kZV8uSEFTSCkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIGluZGV4ICs9IGtleUxlbmd0aCArIDE7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcbmdvb2cudXJpLnV0aWxzLmhhc2hPckVuZFJlXyA9IC8jfCQvO1xuZ29vZy51cmkudXRpbHMuaGFzUGFyYW0gPSBmdW5jdGlvbih1cmksIGtleUVuY29kZWQpIHtcbiAgcmV0dXJuIDAgPD0gZ29vZy51cmkudXRpbHMuZmluZFBhcmFtXyh1cmksIDAsIGtleUVuY29kZWQsIHVyaS5zZWFyY2goZ29vZy51cmkudXRpbHMuaGFzaE9yRW5kUmVfKSk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0UGFyYW1WYWx1ZSA9IGZ1bmN0aW9uKHVyaSwga2V5RW5jb2RlZCkge1xuICB2YXIgaGFzaE9yRW5kSW5kZXggPSB1cmkuc2VhcmNoKGdvb2cudXJpLnV0aWxzLmhhc2hPckVuZFJlXyksIGZvdW5kSW5kZXggPSBnb29nLnVyaS51dGlscy5maW5kUGFyYW1fKHVyaSwgMCwga2V5RW5jb2RlZCwgaGFzaE9yRW5kSW5kZXgpO1xuICBpZiAoMCA+IGZvdW5kSW5kZXgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgZW5kUG9zaXRpb24gPSB1cmkuaW5kZXhPZihcIiZcIiwgZm91bmRJbmRleCk7XG4gIGlmICgwID4gZW5kUG9zaXRpb24gfHwgZW5kUG9zaXRpb24gPiBoYXNoT3JFbmRJbmRleCkge1xuICAgIGVuZFBvc2l0aW9uID0gaGFzaE9yRW5kSW5kZXg7XG4gIH1cbiAgZm91bmRJbmRleCArPSBrZXlFbmNvZGVkLmxlbmd0aCArIDE7XG4gIHJldHVybiBnb29nLnN0cmluZy51cmxEZWNvZGUodXJpLnN1YnN0cihmb3VuZEluZGV4LCBlbmRQb3NpdGlvbiAtIGZvdW5kSW5kZXgpKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRQYXJhbVZhbHVlcyA9IGZ1bmN0aW9uKHVyaSwga2V5RW5jb2RlZCkge1xuICBmb3IgKHZhciBoYXNoT3JFbmRJbmRleCA9IHVyaS5zZWFyY2goZ29vZy51cmkudXRpbHMuaGFzaE9yRW5kUmVfKSwgcG9zaXRpb24gPSAwLCBmb3VuZEluZGV4LCByZXN1bHQgPSBbXTsgMCA8PSAoZm91bmRJbmRleCA9IGdvb2cudXJpLnV0aWxzLmZpbmRQYXJhbV8odXJpLCBwb3NpdGlvbiwga2V5RW5jb2RlZCwgaGFzaE9yRW5kSW5kZXgpKTspIHtcbiAgICBwb3NpdGlvbiA9IHVyaS5pbmRleE9mKFwiJlwiLCBmb3VuZEluZGV4KTtcbiAgICBpZiAoMCA+IHBvc2l0aW9uIHx8IHBvc2l0aW9uID4gaGFzaE9yRW5kSW5kZXgpIHtcbiAgICAgIHBvc2l0aW9uID0gaGFzaE9yRW5kSW5kZXg7XG4gICAgfVxuICAgIGZvdW5kSW5kZXggKz0ga2V5RW5jb2RlZC5sZW5ndGggKyAxO1xuICAgIHJlc3VsdC5wdXNoKGdvb2cuc3RyaW5nLnVybERlY29kZSh1cmkuc3Vic3RyKGZvdW5kSW5kZXgsIHBvc2l0aW9uIC0gZm91bmRJbmRleCkpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmdvb2cudXJpLnV0aWxzLnRyYWlsaW5nUXVlcnlQdW5jdHVhdGlvblJlXyA9IC9bPyZdKCR8IykvO1xuZ29vZy51cmkudXRpbHMucmVtb3ZlUGFyYW0gPSBmdW5jdGlvbih1cmksIGtleUVuY29kZWQpIHtcbiAgZm9yICh2YXIgaGFzaE9yRW5kSW5kZXggPSB1cmkuc2VhcmNoKGdvb2cudXJpLnV0aWxzLmhhc2hPckVuZFJlXyksIHBvc2l0aW9uID0gMCwgZm91bmRJbmRleCwgYnVmZmVyID0gW107IDAgPD0gKGZvdW5kSW5kZXggPSBnb29nLnVyaS51dGlscy5maW5kUGFyYW1fKHVyaSwgcG9zaXRpb24sIGtleUVuY29kZWQsIGhhc2hPckVuZEluZGV4KSk7KSB7XG4gICAgYnVmZmVyLnB1c2godXJpLnN1YnN0cmluZyhwb3NpdGlvbiwgZm91bmRJbmRleCkpLCBwb3NpdGlvbiA9IE1hdGgubWluKHVyaS5pbmRleE9mKFwiJlwiLCBmb3VuZEluZGV4KSArIDEgfHwgaGFzaE9yRW5kSW5kZXgsIGhhc2hPckVuZEluZGV4KTtcbiAgfVxuICBidWZmZXIucHVzaCh1cmkuc3Vic3RyKHBvc2l0aW9uKSk7XG4gIHJldHVybiBidWZmZXIuam9pbihcIlwiKS5yZXBsYWNlKGdvb2cudXJpLnV0aWxzLnRyYWlsaW5nUXVlcnlQdW5jdHVhdGlvblJlXywgXCIkMVwiKTtcbn07XG5nb29nLnVyaS51dGlscy5zZXRQYXJhbSA9IGZ1bmN0aW9uKHVyaSwga2V5RW5jb2RlZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmFwcGVuZFBhcmFtKGdvb2cudXJpLnV0aWxzLnJlbW92ZVBhcmFtKHVyaSwga2V5RW5jb2RlZCksIGtleUVuY29kZWQsIHZhbHVlKTtcbn07XG5nb29nLnVyaS51dGlscy5zZXRQYXJhbXNGcm9tTWFwID0gZnVuY3Rpb24odXJpLCBwYXJhbXMpIHtcbiAgdmFyIHBhcnRzID0gZ29vZy51cmkudXRpbHMuc3BsaXRRdWVyeURhdGFfKHVyaSksIHF1ZXJ5RGF0YSA9IHBhcnRzWzFdLCBidWZmZXIgPSBbXTtcbiAgcXVlcnlEYXRhICYmIHF1ZXJ5RGF0YS5zcGxpdChcIiZcIikuZm9yRWFjaChmdW5jdGlvbihwYWlyKSB7XG4gICAgdmFyIGluZGV4T2ZFcXVhbHMgPSBwYWlyLmluZGV4T2YoXCI9XCIpO1xuICAgIHBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgwIDw9IGluZGV4T2ZFcXVhbHMgPyBwYWlyLnN1YnN0cigwLCBpbmRleE9mRXF1YWxzKSA6IHBhaXIpIHx8IGJ1ZmZlci5wdXNoKHBhaXIpO1xuICB9KTtcbiAgcGFydHNbMV0gPSBnb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFfKGJ1ZmZlci5qb2luKFwiJlwiKSwgZ29vZy51cmkudXRpbHMuYnVpbGRRdWVyeURhdGFGcm9tTWFwKHBhcmFtcykpO1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuam9pblF1ZXJ5RGF0YV8ocGFydHMpO1xufTtcbmdvb2cudXJpLnV0aWxzLmFwcGVuZFBhdGggPSBmdW5jdGlvbihiYXNlVXJpLCBwYXRoKSB7XG4gIGdvb2cudXJpLnV0aWxzLmFzc2VydE5vRnJhZ21lbnRzT3JRdWVyaWVzXyhiYXNlVXJpKTtcbiAgZ29vZy5zdHJpbmcuZW5kc1dpdGgoYmFzZVVyaSwgXCIvXCIpICYmIChiYXNlVXJpID0gYmFzZVVyaS5zdWJzdHIoMCwgYmFzZVVyaS5sZW5ndGggLSAxKSk7XG4gIGdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgocGF0aCwgXCIvXCIpICYmIChwYXRoID0gcGF0aC5zdWJzdHIoMSkpO1xuICByZXR1cm4gXCJcIiArIGJhc2VVcmkgKyBcIi9cIiArIHBhdGg7XG59O1xuZ29vZy51cmkudXRpbHMuc2V0UGF0aCA9IGZ1bmN0aW9uKHVyaSwgcGF0aCkge1xuICBnb29nLnN0cmluZy5zdGFydHNXaXRoKHBhdGgsIFwiL1wiKSB8fCAocGF0aCA9IFwiL1wiICsgcGF0aCk7XG4gIHZhciBwYXJ0cyA9IGdvb2cudXJpLnV0aWxzLnNwbGl0KHVyaSk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5idWlsZEZyb21FbmNvZGVkUGFydHMocGFydHNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguU0NIRU1FXSwgcGFydHNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguVVNFUl9JTkZPXSwgcGFydHNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOXSwgcGFydHNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUE9SVF0sIHBhdGgsIHBhcnRzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlFVRVJZX0RBVEFdLCBwYXJ0c1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5GUkFHTUVOVF0pO1xufTtcbmdvb2cudXJpLnV0aWxzLlN0YW5kYXJkUXVlcnlQYXJhbSA9IHtSQU5ET006XCJ6eFwifTtcbmdvb2cudXJpLnV0aWxzLm1ha2VVbmlxdWUgPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLnNldFBhcmFtKHVyaSwgZ29vZy51cmkudXRpbHMuU3RhbmRhcmRRdWVyeVBhcmFtLlJBTkRPTSwgZ29vZy5zdHJpbmcuZ2V0UmFuZG9tU3RyaW5nKCkpO1xufTtcbmdvb2cuVXJpID0gZnVuY3Rpb24ob3B0X3VyaSwgb3B0X2lnbm9yZUNhc2UpIHtcbiAgdGhpcy5kb21haW5fID0gdGhpcy51c2VySW5mb18gPSB0aGlzLnNjaGVtZV8gPSBcIlwiO1xuICB0aGlzLnBvcnRfID0gbnVsbDtcbiAgdGhpcy5mcmFnbWVudF8gPSB0aGlzLnBhdGhfID0gXCJcIjtcbiAgdGhpcy5pZ25vcmVDYXNlXyA9IHRoaXMuaXNSZWFkT25seV8gPSAhMTtcbiAgdmFyIG07XG4gIG9wdF91cmkgaW5zdGFuY2VvZiBnb29nLlVyaSA/ICh0aGlzLmlnbm9yZUNhc2VfID0gdm9pZCAwICE9PSBvcHRfaWdub3JlQ2FzZSA/IG9wdF9pZ25vcmVDYXNlIDogb3B0X3VyaS5nZXRJZ25vcmVDYXNlKCksIHRoaXMuc2V0U2NoZW1lKG9wdF91cmkuZ2V0U2NoZW1lKCkpLCB0aGlzLnNldFVzZXJJbmZvKG9wdF91cmkuZ2V0VXNlckluZm8oKSksIHRoaXMuc2V0RG9tYWluKG9wdF91cmkuZ2V0RG9tYWluKCkpLCB0aGlzLnNldFBvcnQob3B0X3VyaS5nZXRQb3J0KCkpLCB0aGlzLnNldFBhdGgob3B0X3VyaS5nZXRQYXRoKCkpLCB0aGlzLnNldFF1ZXJ5RGF0YShvcHRfdXJpLmdldFF1ZXJ5RGF0YSgpLmNsb25lKCkpLCB0aGlzLnNldEZyYWdtZW50KG9wdF91cmkuZ2V0RnJhZ21lbnQoKSkpIDogb3B0X3VyaSAmJiAobSA9IGdvb2cudXJpLnV0aWxzLnNwbGl0KFN0cmluZyhvcHRfdXJpKSkpID8gKHRoaXMuaWdub3JlQ2FzZV8gPSAhIW9wdF9pZ25vcmVDYXNlLCB0aGlzLnNldFNjaGVtZShtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlNDSEVNRV0gfHwgXG4gIFwiXCIsICEwKSwgdGhpcy5zZXRVc2VySW5mbyhtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlVTRVJfSU5GT10gfHwgXCJcIiwgITApLCB0aGlzLnNldERvbWFpbihtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTl0gfHwgXCJcIiwgITApLCB0aGlzLnNldFBvcnQobVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QT1JUXSksIHRoaXMuc2V0UGF0aChtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBBVEhdIHx8IFwiXCIsICEwKSwgdGhpcy5zZXRRdWVyeURhdGEobVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5RVUVSWV9EQVRBXSB8fCBcIlwiLCAhMCksIHRoaXMuc2V0RnJhZ21lbnQobVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5GUkFHTUVOVF0gfHwgXCJcIiwgITApKSA6ICh0aGlzLmlnbm9yZUNhc2VfID0gISFvcHRfaWdub3JlQ2FzZSwgdGhpcy5xdWVyeURhdGFfID0gbmV3IGdvb2cuVXJpLlF1ZXJ5RGF0YShudWxsLCB0aGlzLmlnbm9yZUNhc2VfKSk7XG59O1xuZ29vZy5VcmkuUkFORE9NX1BBUkFNID0gZ29vZy51cmkudXRpbHMuU3RhbmRhcmRRdWVyeVBhcmFtLlJBTkRPTTtcbmdvb2cuVXJpLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgb3V0ID0gW10sIHNjaGVtZSA9IHRoaXMuZ2V0U2NoZW1lKCk7XG4gIHNjaGVtZSAmJiBvdXQucHVzaChnb29nLlVyaS5lbmNvZGVTcGVjaWFsQ2hhcnNfKHNjaGVtZSwgZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5TY2hlbWVPclVzZXJJbmZvXywgITApLCBcIjpcIik7XG4gIHZhciBkb21haW4gPSB0aGlzLmdldERvbWFpbigpO1xuICBpZiAoZG9tYWluIHx8IFwiZmlsZVwiID09IHNjaGVtZSkge1xuICAgIG91dC5wdXNoKFwiLy9cIik7XG4gICAgdmFyIHVzZXJJbmZvID0gdGhpcy5nZXRVc2VySW5mbygpO1xuICAgIHVzZXJJbmZvICYmIG91dC5wdXNoKGdvb2cuVXJpLmVuY29kZVNwZWNpYWxDaGFyc18odXNlckluZm8sIGdvb2cuVXJpLnJlRGlzYWxsb3dlZEluU2NoZW1lT3JVc2VySW5mb18sICEwKSwgXCJAXCIpO1xuICAgIG91dC5wdXNoKGdvb2cuVXJpLnJlbW92ZURvdWJsZUVuY29kaW5nXyhnb29nLnN0cmluZy51cmxFbmNvZGUoZG9tYWluKSkpO1xuICAgIHZhciBwb3J0ID0gdGhpcy5nZXRQb3J0KCk7XG4gICAgbnVsbCAhPSBwb3J0ICYmIG91dC5wdXNoKFwiOlwiLCBTdHJpbmcocG9ydCkpO1xuICB9XG4gIHZhciBwYXRoID0gdGhpcy5nZXRQYXRoKCk7XG4gIHBhdGggJiYgKHRoaXMuaGFzRG9tYWluKCkgJiYgXCIvXCIgIT0gcGF0aC5jaGFyQXQoMCkgJiYgb3V0LnB1c2goXCIvXCIpLCBvdXQucHVzaChnb29nLlVyaS5lbmNvZGVTcGVjaWFsQ2hhcnNfKHBhdGgsIFwiL1wiID09IHBhdGguY2hhckF0KDApID8gZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5BYnNvbHV0ZVBhdGhfIDogZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5SZWxhdGl2ZVBhdGhfLCAhMCkpKTtcbiAgdmFyIHF1ZXJ5ID0gdGhpcy5nZXRFbmNvZGVkUXVlcnkoKTtcbiAgcXVlcnkgJiYgb3V0LnB1c2goXCI/XCIsIHF1ZXJ5KTtcbiAgdmFyIGZyYWdtZW50ID0gdGhpcy5nZXRGcmFnbWVudCgpO1xuICBmcmFnbWVudCAmJiBvdXQucHVzaChcIiNcIiwgZ29vZy5VcmkuZW5jb2RlU3BlY2lhbENoYXJzXyhmcmFnbWVudCwgZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5GcmFnbWVudF8pKTtcbiAgcmV0dXJuIG91dC5qb2luKFwiXCIpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmVVcmkpIHtcbiAgdmFyIGFic29sdXRlVXJpID0gdGhpcy5jbG9uZSgpLCBvdmVycmlkZGVuID0gcmVsYXRpdmVVcmkuaGFzU2NoZW1lKCk7XG4gIG92ZXJyaWRkZW4gPyBhYnNvbHV0ZVVyaS5zZXRTY2hlbWUocmVsYXRpdmVVcmkuZ2V0U2NoZW1lKCkpIDogb3ZlcnJpZGRlbiA9IHJlbGF0aXZlVXJpLmhhc1VzZXJJbmZvKCk7XG4gIG92ZXJyaWRkZW4gPyBhYnNvbHV0ZVVyaS5zZXRVc2VySW5mbyhyZWxhdGl2ZVVyaS5nZXRVc2VySW5mbygpKSA6IG92ZXJyaWRkZW4gPSByZWxhdGl2ZVVyaS5oYXNEb21haW4oKTtcbiAgb3ZlcnJpZGRlbiA/IGFic29sdXRlVXJpLnNldERvbWFpbihyZWxhdGl2ZVVyaS5nZXREb21haW4oKSkgOiBvdmVycmlkZGVuID0gcmVsYXRpdmVVcmkuaGFzUG9ydCgpO1xuICB2YXIgcGF0aCA9IHJlbGF0aXZlVXJpLmdldFBhdGgoKTtcbiAgaWYgKG92ZXJyaWRkZW4pIHtcbiAgICBhYnNvbHV0ZVVyaS5zZXRQb3J0KHJlbGF0aXZlVXJpLmdldFBvcnQoKSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG92ZXJyaWRkZW4gPSByZWxhdGl2ZVVyaS5oYXNQYXRoKCkpIHtcbiAgICAgIGlmIChcIi9cIiAhPSBwYXRoLmNoYXJBdCgwKSkge1xuICAgICAgICBpZiAodGhpcy5oYXNEb21haW4oKSAmJiAhdGhpcy5oYXNQYXRoKCkpIHtcbiAgICAgICAgICBwYXRoID0gXCIvXCIgKyBwYXRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBsYXN0U2xhc2hJbmRleCA9IGFic29sdXRlVXJpLmdldFBhdGgoKS5sYXN0SW5kZXhPZihcIi9cIik7XG4gICAgICAgICAgLTEgIT0gbGFzdFNsYXNoSW5kZXggJiYgKHBhdGggPSBhYnNvbHV0ZVVyaS5nZXRQYXRoKCkuc3Vic3RyKDAsIGxhc3RTbGFzaEluZGV4ICsgMSkgKyBwYXRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGF0aCA9IGdvb2cuVXJpLnJlbW92ZURvdFNlZ21lbnRzKHBhdGgpO1xuICAgIH1cbiAgfVxuICBvdmVycmlkZGVuID8gYWJzb2x1dGVVcmkuc2V0UGF0aChwYXRoKSA6IG92ZXJyaWRkZW4gPSByZWxhdGl2ZVVyaS5oYXNRdWVyeSgpO1xuICBvdmVycmlkZGVuID8gYWJzb2x1dGVVcmkuc2V0UXVlcnlEYXRhKHJlbGF0aXZlVXJpLmdldFF1ZXJ5RGF0YSgpLmNsb25lKCkpIDogb3ZlcnJpZGRlbiA9IHJlbGF0aXZlVXJpLmhhc0ZyYWdtZW50KCk7XG4gIG92ZXJyaWRkZW4gJiYgYWJzb2x1dGVVcmkuc2V0RnJhZ21lbnQocmVsYXRpdmVVcmkuZ2V0RnJhZ21lbnQoKSk7XG4gIHJldHVybiBhYnNvbHV0ZVVyaTtcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLlVyaSh0aGlzKTtcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0U2NoZW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnNjaGVtZV87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldFNjaGVtZSA9IGZ1bmN0aW9uKG5ld1NjaGVtZSwgb3B0X2RlY29kZSkge1xuICB0aGlzLmVuZm9yY2VSZWFkT25seSgpO1xuICBpZiAodGhpcy5zY2hlbWVfID0gb3B0X2RlY29kZSA/IGdvb2cuVXJpLmRlY29kZU9yRW1wdHlfKG5ld1NjaGVtZSwgITApIDogbmV3U2NoZW1lKSB7XG4gICAgdGhpcy5zY2hlbWVfID0gdGhpcy5zY2hlbWVfLnJlcGxhY2UoLzokLywgXCJcIik7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmhhc1NjaGVtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF0aGlzLnNjaGVtZV87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmdldFVzZXJJbmZvID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnVzZXJJbmZvXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0VXNlckluZm8gPSBmdW5jdGlvbihuZXdVc2VySW5mbywgb3B0X2RlY29kZSkge1xuICB0aGlzLmVuZm9yY2VSZWFkT25seSgpO1xuICB0aGlzLnVzZXJJbmZvXyA9IG9wdF9kZWNvZGUgPyBnb29nLlVyaS5kZWNvZGVPckVtcHR5XyhuZXdVc2VySW5mbykgOiBuZXdVc2VySW5mbztcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmhhc1VzZXJJbmZvID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMudXNlckluZm9fO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXREb21haW4gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZG9tYWluXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0RG9tYWluID0gZnVuY3Rpb24obmV3RG9tYWluLCBvcHRfZGVjb2RlKSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIHRoaXMuZG9tYWluXyA9IG9wdF9kZWNvZGUgPyBnb29nLlVyaS5kZWNvZGVPckVtcHR5XyhuZXdEb21haW4sICEwKSA6IG5ld0RvbWFpbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmhhc0RvbWFpbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF0aGlzLmRvbWFpbl87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmdldFBvcnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucG9ydF87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldFBvcnQgPSBmdW5jdGlvbihuZXdQb3J0KSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIGlmIChuZXdQb3J0KSB7XG4gICAgbmV3UG9ydCA9IE51bWJlcihuZXdQb3J0KTtcbiAgICBpZiAoaXNOYU4obmV3UG9ydCkgfHwgMCA+IG5ld1BvcnQpIHtcbiAgICAgIHRocm93IEVycm9yKFwiQmFkIHBvcnQgbnVtYmVyIFwiICsgbmV3UG9ydCk7XG4gICAgfVxuICAgIHRoaXMucG9ydF8gPSBuZXdQb3J0O1xuICB9IGVsc2Uge1xuICAgIHRoaXMucG9ydF8gPSBudWxsO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5oYXNQb3J0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBudWxsICE9IHRoaXMucG9ydF87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmdldFBhdGggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucGF0aF87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldFBhdGggPSBmdW5jdGlvbihuZXdQYXRoLCBvcHRfZGVjb2RlKSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIHRoaXMucGF0aF8gPSBvcHRfZGVjb2RlID8gZ29vZy5VcmkuZGVjb2RlT3JFbXB0eV8obmV3UGF0aCwgITApIDogbmV3UGF0aDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmhhc1BhdGggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy5wYXRoXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzUXVlcnkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiXCIgIT09IHRoaXMucXVlcnlEYXRhXy50b1N0cmluZygpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5zZXRRdWVyeURhdGEgPSBmdW5jdGlvbihxdWVyeURhdGEsIG9wdF9kZWNvZGUpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgcXVlcnlEYXRhIGluc3RhbmNlb2YgZ29vZy5VcmkuUXVlcnlEYXRhID8gKHRoaXMucXVlcnlEYXRhXyA9IHF1ZXJ5RGF0YSwgdGhpcy5xdWVyeURhdGFfLnNldElnbm9yZUNhc2UodGhpcy5pZ25vcmVDYXNlXykpIDogKG9wdF9kZWNvZGUgfHwgKHF1ZXJ5RGF0YSA9IGdvb2cuVXJpLmVuY29kZVNwZWNpYWxDaGFyc18ocXVlcnlEYXRhLCBnb29nLlVyaS5yZURpc2FsbG93ZWRJblF1ZXJ5XykpLCB0aGlzLnF1ZXJ5RGF0YV8gPSBuZXcgZ29vZy5VcmkuUXVlcnlEYXRhKHF1ZXJ5RGF0YSwgdGhpcy5pZ25vcmVDYXNlXykpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0UXVlcnkgPSBmdW5jdGlvbihuZXdRdWVyeSwgb3B0X2RlY29kZSkge1xuICByZXR1cm4gdGhpcy5zZXRRdWVyeURhdGEobmV3UXVlcnksIG9wdF9kZWNvZGUpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRFbmNvZGVkUXVlcnkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucXVlcnlEYXRhXy50b1N0cmluZygpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXREZWNvZGVkUXVlcnkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucXVlcnlEYXRhXy50b0RlY29kZWRTdHJpbmcoKTtcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0UXVlcnlEYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnF1ZXJ5RGF0YV87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmdldFF1ZXJ5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldEVuY29kZWRRdWVyeSgpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5zZXRQYXJhbWV0ZXJWYWx1ZSA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgdGhpcy5xdWVyeURhdGFfLnNldChrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldFBhcmFtZXRlclZhbHVlcyA9IGZ1bmN0aW9uKGtleSwgdmFsdWVzKSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIEFycmF5LmlzQXJyYXkodmFsdWVzKSB8fCAodmFsdWVzID0gW1N0cmluZyh2YWx1ZXMpXSk7XG4gIHRoaXMucXVlcnlEYXRhXy5zZXRWYWx1ZXMoa2V5LCB2YWx1ZXMpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0UGFyYW1ldGVyVmFsdWVzID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy5xdWVyeURhdGFfLmdldFZhbHVlcyhuYW1lKTtcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0UGFyYW1ldGVyVmFsdWUgPSBmdW5jdGlvbihwYXJhbU5hbWUpIHtcbiAgcmV0dXJuIHRoaXMucXVlcnlEYXRhXy5nZXQocGFyYW1OYW1lKTtcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0RnJhZ21lbnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZnJhZ21lbnRfO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5zZXRGcmFnbWVudCA9IGZ1bmN0aW9uKG5ld0ZyYWdtZW50LCBvcHRfZGVjb2RlKSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIHRoaXMuZnJhZ21lbnRfID0gb3B0X2RlY29kZSA/IGdvb2cuVXJpLmRlY29kZU9yRW1wdHlfKG5ld0ZyYWdtZW50KSA6IG5ld0ZyYWdtZW50O1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzRnJhZ21lbnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy5mcmFnbWVudF87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmhhc1NhbWVEb21haW5BcyA9IGZ1bmN0aW9uKHVyaTIpIHtcbiAgcmV0dXJuICghdGhpcy5oYXNEb21haW4oKSAmJiAhdXJpMi5oYXNEb21haW4oKSB8fCB0aGlzLmdldERvbWFpbigpID09IHVyaTIuZ2V0RG9tYWluKCkpICYmICghdGhpcy5oYXNQb3J0KCkgJiYgIXVyaTIuaGFzUG9ydCgpIHx8IHRoaXMuZ2V0UG9ydCgpID09IHVyaTIuZ2V0UG9ydCgpKTtcbn07XG5nb29nLlVyaS5wcm90b3R5cGUubWFrZVVuaXF1ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVuZm9yY2VSZWFkT25seSgpO1xuICB0aGlzLnNldFBhcmFtZXRlclZhbHVlKGdvb2cuVXJpLlJBTkRPTV9QQVJBTSwgZ29vZy5zdHJpbmcuZ2V0UmFuZG9tU3RyaW5nKCkpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUucmVtb3ZlUGFyYW1ldGVyID0gZnVuY3Rpb24oa2V5KSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIHRoaXMucXVlcnlEYXRhXy5yZW1vdmUoa2V5KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldFJlYWRPbmx5ID0gZnVuY3Rpb24oaXNSZWFkT25seSkge1xuICB0aGlzLmlzUmVhZE9ubHlfID0gaXNSZWFkT25seTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmlzUmVhZE9ubHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaXNSZWFkT25seV87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmVuZm9yY2VSZWFkT25seSA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5pc1JlYWRPbmx5Xykge1xuICAgIHRocm93IEVycm9yKFwiVHJpZWQgdG8gbW9kaWZ5IGEgcmVhZC1vbmx5IFVyaVwiKTtcbiAgfVxufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5zZXRJZ25vcmVDYXNlID0gZnVuY3Rpb24oaWdub3JlQ2FzZSkge1xuICB0aGlzLmlnbm9yZUNhc2VfID0gaWdub3JlQ2FzZTtcbiAgdGhpcy5xdWVyeURhdGFfICYmIHRoaXMucXVlcnlEYXRhXy5zZXRJZ25vcmVDYXNlKGlnbm9yZUNhc2UpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0SWdub3JlQ2FzZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pZ25vcmVDYXNlXztcbn07XG5nb29nLlVyaS5wYXJzZSA9IGZ1bmN0aW9uKHVyaSwgb3B0X2lnbm9yZUNhc2UpIHtcbiAgcmV0dXJuIHVyaSBpbnN0YW5jZW9mIGdvb2cuVXJpID8gdXJpLmNsb25lKCkgOiBuZXcgZ29vZy5VcmkodXJpLCBvcHRfaWdub3JlQ2FzZSk7XG59O1xuZ29vZy5VcmkuY3JlYXRlID0gZnVuY3Rpb24ob3B0X3NjaGVtZSwgb3B0X3VzZXJJbmZvLCBvcHRfZG9tYWluLCBvcHRfcG9ydCwgb3B0X3BhdGgsIG9wdF9xdWVyeSwgb3B0X2ZyYWdtZW50LCBvcHRfaWdub3JlQ2FzZSkge1xuICB2YXIgdXJpID0gbmV3IGdvb2cuVXJpKG51bGwsIG9wdF9pZ25vcmVDYXNlKTtcbiAgb3B0X3NjaGVtZSAmJiB1cmkuc2V0U2NoZW1lKG9wdF9zY2hlbWUpO1xuICBvcHRfdXNlckluZm8gJiYgdXJpLnNldFVzZXJJbmZvKG9wdF91c2VySW5mbyk7XG4gIG9wdF9kb21haW4gJiYgdXJpLnNldERvbWFpbihvcHRfZG9tYWluKTtcbiAgb3B0X3BvcnQgJiYgdXJpLnNldFBvcnQob3B0X3BvcnQpO1xuICBvcHRfcGF0aCAmJiB1cmkuc2V0UGF0aChvcHRfcGF0aCk7XG4gIG9wdF9xdWVyeSAmJiB1cmkuc2V0UXVlcnlEYXRhKG9wdF9xdWVyeSk7XG4gIG9wdF9mcmFnbWVudCAmJiB1cmkuc2V0RnJhZ21lbnQob3B0X2ZyYWdtZW50KTtcbiAgcmV0dXJuIHVyaTtcbn07XG5nb29nLlVyaS5yZXNvbHZlID0gZnVuY3Rpb24oYmFzZSwgcmVsKSB7XG4gIGJhc2UgaW5zdGFuY2VvZiBnb29nLlVyaSB8fCAoYmFzZSA9IGdvb2cuVXJpLnBhcnNlKGJhc2UpKTtcbiAgcmVsIGluc3RhbmNlb2YgZ29vZy5VcmkgfHwgKHJlbCA9IGdvb2cuVXJpLnBhcnNlKHJlbCkpO1xuICByZXR1cm4gYmFzZS5yZXNvbHZlKHJlbCk7XG59O1xuZ29vZy5VcmkucmVtb3ZlRG90U2VnbWVudHMgPSBmdW5jdGlvbihwYXRoKSB7XG4gIGlmIChcIi4uXCIgPT0gcGF0aCB8fCBcIi5cIiA9PSBwYXRoKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgaWYgKGdvb2cuc3RyaW5nLmNvbnRhaW5zKHBhdGgsIFwiLi9cIikgfHwgZ29vZy5zdHJpbmcuY29udGFpbnMocGF0aCwgXCIvLlwiKSkge1xuICAgIGZvciAodmFyIGxlYWRpbmdTbGFzaCA9IGdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgocGF0aCwgXCIvXCIpLCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpLCBvdXQgPSBbXSwgcG9zID0gMDsgcG9zIDwgc2VnbWVudHMubGVuZ3RoOykge1xuICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50c1twb3MrK107XG4gICAgICBcIi5cIiA9PSBzZWdtZW50ID8gbGVhZGluZ1NsYXNoICYmIHBvcyA9PSBzZWdtZW50cy5sZW5ndGggJiYgb3V0LnB1c2goXCJcIikgOiBcIi4uXCIgPT0gc2VnbWVudCA/ICgoMSA8IG91dC5sZW5ndGggfHwgMSA9PSBvdXQubGVuZ3RoICYmIFwiXCIgIT0gb3V0WzBdKSAmJiBvdXQucG9wKCksIGxlYWRpbmdTbGFzaCAmJiBwb3MgPT0gc2VnbWVudHMubGVuZ3RoICYmIG91dC5wdXNoKFwiXCIpKSA6IChvdXQucHVzaChzZWdtZW50KSwgbGVhZGluZ1NsYXNoID0gITApO1xuICAgIH1cbiAgICByZXR1cm4gb3V0LmpvaW4oXCIvXCIpO1xuICB9XG4gIHJldHVybiBwYXRoO1xufTtcbmdvb2cuVXJpLmRlY29kZU9yRW1wdHlfID0gZnVuY3Rpb24odmFsLCBvcHRfcHJlc2VydmVSZXNlcnZlZCkge1xuICByZXR1cm4gdmFsID8gb3B0X3ByZXNlcnZlUmVzZXJ2ZWQgPyBkZWNvZGVVUkkodmFsLnJlcGxhY2UoLyUyNS9nLCBcIiUyNTI1XCIpKSA6IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpIDogXCJcIjtcbn07XG5nb29nLlVyaS5lbmNvZGVTcGVjaWFsQ2hhcnNfID0gZnVuY3Rpb24odW5lc2NhcGVkUGFydCwgZXh0cmEsIG9wdF9yZW1vdmVEb3VibGVFbmNvZGluZykge1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHVuZXNjYXBlZFBhcnQpIHtcbiAgICB2YXIgZW5jb2RlZCA9IGVuY29kZVVSSSh1bmVzY2FwZWRQYXJ0KS5yZXBsYWNlKGV4dHJhLCBnb29nLlVyaS5lbmNvZGVDaGFyXyk7XG4gICAgb3B0X3JlbW92ZURvdWJsZUVuY29kaW5nICYmIChlbmNvZGVkID0gZ29vZy5VcmkucmVtb3ZlRG91YmxlRW5jb2RpbmdfKGVuY29kZWQpKTtcbiAgICByZXR1cm4gZW5jb2RlZDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLlVyaS5lbmNvZGVDaGFyXyA9IGZ1bmN0aW9uKGNoKSB7XG4gIHZhciBuID0gY2guY2hhckNvZGVBdCgwKTtcbiAgcmV0dXJuIFwiJVwiICsgKG4gPj4gNCAmIDE1KS50b1N0cmluZygxNikgKyAobiAmIDE1KS50b1N0cmluZygxNik7XG59O1xuZ29vZy5VcmkucmVtb3ZlRG91YmxlRW5jb2RpbmdfID0gZnVuY3Rpb24oZG91YmxlRW5jb2RlZFN0cmluZykge1xuICByZXR1cm4gZG91YmxlRW5jb2RlZFN0cmluZy5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIFwiJSQxXCIpO1xufTtcbmdvb2cuVXJpLnJlRGlzYWxsb3dlZEluU2NoZW1lT3JVc2VySW5mb18gPSAvWyNcXC9cXD9AXS9nO1xuZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5SZWxhdGl2ZVBhdGhfID0gL1sjXFw/Ol0vZztcbmdvb2cuVXJpLnJlRGlzYWxsb3dlZEluQWJzb2x1dGVQYXRoXyA9IC9bI1xcP10vZztcbmdvb2cuVXJpLnJlRGlzYWxsb3dlZEluUXVlcnlfID0gL1sjXFw/QF0vZztcbmdvb2cuVXJpLnJlRGlzYWxsb3dlZEluRnJhZ21lbnRfID0gLyMvZztcbmdvb2cuVXJpLmhhdmVTYW1lRG9tYWluID0gZnVuY3Rpb24odXJpMVN0cmluZywgdXJpMlN0cmluZykge1xuICB2YXIgcGllY2VzMSA9IGdvb2cudXJpLnV0aWxzLnNwbGl0KHVyaTFTdHJpbmcpLCBwaWVjZXMyID0gZ29vZy51cmkudXRpbHMuc3BsaXQodXJpMlN0cmluZyk7XG4gIHJldHVybiBwaWVjZXMxW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTl0gPT0gcGllY2VzMltnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5ET01BSU5dICYmIHBpZWNlczFbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUE9SVF0gPT0gcGllY2VzMltnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QT1JUXTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEgPSBmdW5jdGlvbihvcHRfcXVlcnksIG9wdF9pZ25vcmVDYXNlKSB7XG4gIHRoaXMuY291bnRfID0gdGhpcy5rZXlNYXBfID0gbnVsbDtcbiAgdGhpcy5lbmNvZGVkUXVlcnlfID0gb3B0X3F1ZXJ5IHx8IG51bGw7XG4gIHRoaXMuaWdub3JlQ2FzZV8gPSAhIW9wdF9pZ25vcmVDYXNlO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5rZXlNYXBfICYmICh0aGlzLmtleU1hcF8gPSBuZXcgTWFwKCksIHRoaXMuY291bnRfID0gMCwgdGhpcy5lbmNvZGVkUXVlcnlfKSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBnb29nLnVyaS51dGlscy5wYXJzZVF1ZXJ5RGF0YSh0aGlzLmVuY29kZWRRdWVyeV8sIGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICBzZWxmLmFkZChnb29nLnN0cmluZy51cmxEZWNvZGUobmFtZSksIHZhbHVlKTtcbiAgICB9KTtcbiAgfVxufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5jcmVhdGVGcm9tTWFwID0gZnVuY3Rpb24obWFwLCBvcHRfaWdub3JlQ2FzZSkge1xuICB2YXIga2V5cyA9IGdvb2cuc3RydWN0cy5nZXRLZXlzKG1hcCk7XG4gIGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBrZXlzKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJLZXlzIGFyZSB1bmRlZmluZWRcIik7XG4gIH1cbiAgZm9yICh2YXIgcXVlcnlEYXRhID0gbmV3IGdvb2cuVXJpLlF1ZXJ5RGF0YShudWxsLCBvcHRfaWdub3JlQ2FzZSksIHZhbHVlcyA9IGdvb2cuc3RydWN0cy5nZXRWYWx1ZXMobWFwKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV0sIHZhbHVlID0gdmFsdWVzW2ldO1xuICAgIEFycmF5LmlzQXJyYXkodmFsdWUpID8gcXVlcnlEYXRhLnNldFZhbHVlcyhrZXksIHZhbHVlKSA6IHF1ZXJ5RGF0YS5hZGQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHF1ZXJ5RGF0YTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEuY3JlYXRlRnJvbUtleXNWYWx1ZXMgPSBmdW5jdGlvbihrZXlzLCB2YWx1ZXMsIG9wdF9pZ25vcmVDYXNlKSB7XG4gIGlmIChrZXlzLmxlbmd0aCAhPSB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJNaXNtYXRjaGVkIGxlbmd0aHMgZm9yIGtleXMvdmFsdWVzXCIpO1xuICB9XG4gIGZvciAodmFyIHF1ZXJ5RGF0YSA9IG5ldyBnb29nLlVyaS5RdWVyeURhdGEobnVsbCwgb3B0X2lnbm9yZUNhc2UpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBxdWVyeURhdGEuYWRkKGtleXNbaV0sIHZhbHVlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIHF1ZXJ5RGF0YTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfKCk7XG4gIHJldHVybiB0aGlzLmNvdW50Xztcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAgdGhpcy5pbnZhbGlkYXRlQ2FjaGVfKCk7XG4gIGtleSA9IHRoaXMuZ2V0S2V5TmFtZV8oa2V5KTtcbiAgdmFyIHZhbHVlcyA9IHRoaXMua2V5TWFwXy5nZXQoa2V5KTtcbiAgdmFsdWVzIHx8IHRoaXMua2V5TWFwXy5zZXQoa2V5LCB2YWx1ZXMgPSBbXSk7XG4gIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgdGhpcy5jb3VudF8gPSBnb29nLmFzc2VydHMuYXNzZXJ0TnVtYmVyKHRoaXMuY291bnRfKSArIDE7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oa2V5KSB7XG4gIHRoaXMuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfKCk7XG4gIGtleSA9IHRoaXMuZ2V0S2V5TmFtZV8oa2V5KTtcbiAgcmV0dXJuIHRoaXMua2V5TWFwXy5oYXMoa2V5KSA/ICh0aGlzLmludmFsaWRhdGVDYWNoZV8oKSwgdGhpcy5jb3VudF8gPSBnb29nLmFzc2VydHMuYXNzZXJ0TnVtYmVyKHRoaXMuY291bnRfKSAtIHRoaXMua2V5TWFwXy5nZXQoa2V5KS5sZW5ndGgsIHRoaXMua2V5TWFwXy5kZWxldGUoa2V5KSkgOiAhMTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaW52YWxpZGF0ZUNhY2hlXygpO1xuICB0aGlzLmtleU1hcF8gPSBudWxsO1xuICB0aGlzLmNvdW50XyA9IDA7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfKCk7XG4gIHJldHVybiAwID09IHRoaXMuY291bnRfO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuY29udGFpbnNLZXkgPSBmdW5jdGlvbihrZXkpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAga2V5ID0gdGhpcy5nZXRLZXlOYW1lXyhrZXkpO1xuICByZXR1cm4gdGhpcy5rZXlNYXBfLmhhcyhrZXkpO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuY29udGFpbnNWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciB2YWxzID0gdGhpcy5nZXRWYWx1ZXMoKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKHZhbHMsIHZhbHVlKTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihmLCBvcHRfc2NvcGUpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAgdGhpcy5rZXlNYXBfLmZvckVhY2goZnVuY3Rpb24odmFsdWVzLCBrZXkpIHtcbiAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgZi5jYWxsKG9wdF9zY29wZSwgdmFsdWUsIGtleSwgdGhpcyk7XG4gICAgfSwgdGhpcyk7XG4gIH0sIHRoaXMpO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuZ2V0S2V5cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpO1xuICBmb3IgKHZhciB2YWxzID0gQXJyYXkuZnJvbSh0aGlzLmtleU1hcF8udmFsdWVzKCkpLCBrZXlzID0gQXJyYXkuZnJvbSh0aGlzLmtleU1hcF8ua2V5cygpKSwgcnYgPSBbXSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yICh2YXIgdmFsID0gdmFsc1tpXSwgaiA9IDA7IGogPCB2YWwubGVuZ3RoOyBqKyspIHtcbiAgICAgIHJ2LnB1c2goa2V5c1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBydjtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmdldFZhbHVlcyA9IGZ1bmN0aW9uKG9wdF9rZXkpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAgdmFyIHJ2ID0gW107XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0X2tleSkge1xuICAgIHRoaXMuY29udGFpbnNLZXkob3B0X2tleSkgJiYgKHJ2ID0gcnYuY29uY2F0KHRoaXMua2V5TWFwXy5nZXQodGhpcy5nZXRLZXlOYW1lXyhvcHRfa2V5KSkpKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciB2YWx1ZXMgPSBBcnJheS5mcm9tKHRoaXMua2V5TWFwXy52YWx1ZXMoKSksIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBydiA9IHJ2LmNvbmNhdCh2YWx1ZXNbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcnY7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gIHRoaXMuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfKCk7XG4gIHRoaXMuaW52YWxpZGF0ZUNhY2hlXygpO1xuICBrZXkgPSB0aGlzLmdldEtleU5hbWVfKGtleSk7XG4gIHRoaXMuY29udGFpbnNLZXkoa2V5KSAmJiAodGhpcy5jb3VudF8gPSBnb29nLmFzc2VydHMuYXNzZXJ0TnVtYmVyKHRoaXMuY291bnRfKSAtIHRoaXMua2V5TWFwXy5nZXQoa2V5KS5sZW5ndGgpO1xuICB0aGlzLmtleU1hcF8uc2V0KGtleSwgW3ZhbHVlXSk7XG4gIHRoaXMuY291bnRfID0gZ29vZy5hc3NlcnRzLmFzc2VydE51bWJlcih0aGlzLmNvdW50XykgKyAxO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSwgb3B0X2RlZmF1bHQpIHtcbiAgaWYgKCFrZXkpIHtcbiAgICByZXR1cm4gb3B0X2RlZmF1bHQ7XG4gIH1cbiAgdmFyIHZhbHVlcyA9IHRoaXMuZ2V0VmFsdWVzKGtleSk7XG4gIHJldHVybiAwIDwgdmFsdWVzLmxlbmd0aCA/IFN0cmluZyh2YWx1ZXNbMF0pIDogb3B0X2RlZmF1bHQ7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5zZXRWYWx1ZXMgPSBmdW5jdGlvbihrZXksIHZhbHVlcykge1xuICB0aGlzLnJlbW92ZShrZXkpO1xuICAwIDwgdmFsdWVzLmxlbmd0aCAmJiAodGhpcy5pbnZhbGlkYXRlQ2FjaGVfKCksIHRoaXMua2V5TWFwXy5zZXQodGhpcy5nZXRLZXlOYW1lXyhrZXkpLCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV90b0FycmF5KHZhbHVlcykpLCB0aGlzLmNvdW50XyA9IGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIodGhpcy5jb3VudF8pICsgdmFsdWVzLmxlbmd0aCk7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5lbmNvZGVkUXVlcnlfKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5jb2RlZFF1ZXJ5XztcbiAgfVxuICBpZiAoIXRoaXMua2V5TWFwXykge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGZvciAodmFyIHNiID0gW10sIGtleXMgPSBBcnJheS5mcm9tKHRoaXMua2V5TWFwXy5rZXlzKCkpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKHZhciBrZXkgPSBrZXlzW2ldLCBlbmNvZGVkS2V5ID0gZ29vZy5zdHJpbmcudXJsRW5jb2RlKGtleSksIHZhbCA9IHRoaXMuZ2V0VmFsdWVzKGtleSksIGogPSAwOyBqIDwgdmFsLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgcGFyYW0gPSBlbmNvZGVkS2V5O1xuICAgICAgXCJcIiAhPT0gdmFsW2pdICYmIChwYXJhbSArPSBcIj1cIiArIGdvb2cuc3RyaW5nLnVybEVuY29kZSh2YWxbal0pKTtcbiAgICAgIHNiLnB1c2gocGFyYW0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcy5lbmNvZGVkUXVlcnlfID0gc2Iuam9pbihcIiZcIik7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS50b0RlY29kZWRTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuVXJpLmRlY29kZU9yRW1wdHlfKHRoaXMudG9TdHJpbmcoKSk7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5pbnZhbGlkYXRlQ2FjaGVfID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW5jb2RlZFF1ZXJ5XyA9IG51bGw7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5maWx0ZXJLZXlzID0gZnVuY3Rpb24oa2V5cykge1xuICB0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpO1xuICB0aGlzLmtleU1hcF8uZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnMoa2V5cywga2V5KSB8fCB0aGlzLnJlbW92ZShrZXkpO1xuICB9LCB0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcnYgPSBuZXcgZ29vZy5VcmkuUXVlcnlEYXRhKCk7XG4gIHJ2LmVuY29kZWRRdWVyeV8gPSB0aGlzLmVuY29kZWRRdWVyeV87XG4gIHRoaXMua2V5TWFwXyAmJiAocnYua2V5TWFwXyA9IG5ldyBNYXAodGhpcy5rZXlNYXBfKSwgcnYuY291bnRfID0gdGhpcy5jb3VudF8pO1xuICByZXR1cm4gcnY7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5nZXRLZXlOYW1lXyA9IGZ1bmN0aW9uKGFyZykge1xuICB2YXIga2V5TmFtZSA9IFN0cmluZyhhcmcpO1xuICB0aGlzLmlnbm9yZUNhc2VfICYmIChrZXlOYW1lID0ga2V5TmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgcmV0dXJuIGtleU5hbWU7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5zZXRJZ25vcmVDYXNlID0gZnVuY3Rpb24oaWdub3JlQ2FzZSkge1xuICBpZ25vcmVDYXNlICYmICF0aGlzLmlnbm9yZUNhc2VfICYmICh0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpLCB0aGlzLmludmFsaWRhdGVDYWNoZV8oKSwgdGhpcy5rZXlNYXBfLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHZhciBsb3dlckNhc2UgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICBrZXkgIT0gbG93ZXJDYXNlICYmICh0aGlzLnJlbW92ZShrZXkpLCB0aGlzLnNldFZhbHVlcyhsb3dlckNhc2UsIHZhbHVlKSk7XG4gIH0sIHRoaXMpKTtcbiAgdGhpcy5pZ25vcmVDYXNlXyA9IGlnbm9yZUNhc2U7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGdvb2cuc3RydWN0cy5mb3JFYWNoKGFyZ3VtZW50c1tpXSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgdGhpcy5hZGQoa2V5LCB2YWx1ZSk7XG4gICAgfSwgdGhpcyk7XG4gIH1cbn07XG52YXIgbW9kdWxlJGV4cG9ydHMkZ29vZyRuZXQkcnBjJEh0dHBDb3JzID0ge0hUVFBfSEVBREVSU19QQVJBTV9OQU1FOlwiJGh0dHBIZWFkZXJzXCIsIEhUVFBfTUVUSE9EX1BBUkFNX05BTUU6XCIkaHR0cE1ldGhvZFwiLCBnZW5lcmF0ZUh0dHBIZWFkZXJzT3ZlcndyaXRlUGFyYW06ZnVuY3Rpb24oaGVhZGVycykge1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHJlc3VsdCArPSBrZXk7XG4gICAgcmVzdWx0ICs9IFwiOlwiO1xuICAgIHJlc3VsdCArPSB2YWx1ZTtcbiAgICByZXN1bHQgKz0gXCJcXHJcXG5cIjtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59LCBnZW5lcmF0ZUVuY29kZWRIdHRwSGVhZGVyc092ZXJ3cml0ZVBhcmFtOmZ1bmN0aW9uKGhlYWRlcnMpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLnVybEVuY29kZShtb2R1bGUkZXhwb3J0cyRnb29nJG5ldCRycGMkSHR0cENvcnMuZ2VuZXJhdGVIdHRwSGVhZGVyc092ZXJ3cml0ZVBhcmFtKGhlYWRlcnMpKTtcbn0sIHNldEh0dHBIZWFkZXJzV2l0aE92ZXJ3cml0ZVBhcmFtOmZ1bmN0aW9uKHVybCwgdXJsUGFyYW0sIGV4dHJhSGVhZGVycykge1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2lzRW1wdHkoZXh0cmFIZWFkZXJzKSkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdmFyIGh0dHBIZWFkZXJzID0gbW9kdWxlJGV4cG9ydHMkZ29vZyRuZXQkcnBjJEh0dHBDb3JzLmdlbmVyYXRlSHR0cEhlYWRlcnNPdmVyd3JpdGVQYXJhbShleHRyYUhlYWRlcnMpO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHVybCkge1xuICAgIHJldHVybiBnb29nLnVyaS51dGlscy5hcHBlbmRQYXJhbSh1cmwsIGdvb2cuc3RyaW5nLnVybEVuY29kZSh1cmxQYXJhbSksIGh0dHBIZWFkZXJzKTtcbiAgfVxuICB1cmwuc2V0UGFyYW1ldGVyVmFsdWUodXJsUGFyYW0sIGh0dHBIZWFkZXJzKTtcbiAgcmV0dXJuIHVybDtcbn19O1xudmFyIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zID0ge30sIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19tb2R1bGUgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfbW9kdWxlIHx8IHtpZDpcImphdmFzY3JpcHQvdHlwZXNjcmlwdC9jb250cmliL2FwaWNsaWVudC9jb3JlL3JlcXVlc3RfcGFyYW1zLmNsb3N1cmUuanNcIn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtcy5IdHRwTWV0aG9kRW51bSA9IHtHRVQ6XCJHRVRcIiwgUE9TVDpcIlBPU1RcIiwgUFVUOlwiUFVUXCIsIFBBVENIOlwiUEFUQ0hcIiwgREVMRVRFOlwiREVMRVRFXCIsfTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zLkF1dGhUeXBlID0ge0FVVE86XCJhdXRvXCIsIE5PTkU6XCJub25lXCIsIE9BVVRIMjpcIm9hdXRoMlwiLCBGSVJTVF9QQVJUWTpcIjFwXCIsfTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zLlN0cmVhbWluZ1R5cGUgPSB7Tk9ORTpcIk5PTkVcIiwgQ0xJRU5UX1NJREU6XCJDTElFTlRfU0lERVwiLCBTRVJWRVJfU0lERTpcIlNFUlZFUl9TSURFXCIsIEJJRElSRUNUT05BTDpcIkJJRElSRUNUT05BTFwiLH07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfTWFrZVJlcXVlc3RQYXJhbXMoKSB7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtcy5NYWtlUmVxdWVzdFBhcmFtcyA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19NYWtlUmVxdWVzdFBhcmFtcztcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19wcm9jZXNzUGFyYW1zKHBhcmFtcykge1xuICBpZiAobnVsbCAhPSBwYXJhbXMucXVlcnlQYXJhbXMpIHtcbiAgICB2YXIgZmlsdGVyZWRRdWVyeVBhcmFtcyA9IHt9LCBrZXk7XG4gICAgZm9yIChrZXkgaW4gcGFyYW1zLnF1ZXJ5UGFyYW1zKSB7XG4gICAgICB2b2lkIDAgIT09IHBhcmFtcy5xdWVyeVBhcmFtc1trZXldICYmIChmaWx0ZXJlZFF1ZXJ5UGFyYW1zW2tleV0gPSBwYXJhbXMucXVlcnlQYXJhbXNba2V5XSk7XG4gICAgfVxuICAgIHBhcmFtcy5xdWVyeVBhcmFtcyA9IGZpbHRlcmVkUXVlcnlQYXJhbXM7XG4gIH1cbn1cbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zLnByb2Nlc3NQYXJhbXMgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfcHJvY2Vzc1BhcmFtcztcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKHBhcmFtcywgbWFwcGluZywgcGFzc3Rocm91Z2hQYXJhbXMpIHtcbiAgZm9yICh2YXIgdXJsUXVlcnlQYXJhbXMgPSBwYXNzdGhyb3VnaFBhcmFtcyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hQYXJhbXMgPyB7fSA6IHBhc3N0aHJvdWdoUGFyYW1zLCAkanNjb21wJGl0ZXIkMTUgPSAkanNjb21wLm1ha2VJdGVyYXRvcihPYmplY3QuZW50cmllcyhtYXBwaW5nKSksICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQxNS5uZXh0KCk7ICEkanNjb21wJGtleSQuZG9uZTsgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDE1Lm5leHQoKSkge1xuICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTUgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGtleSQudmFsdWUpLCBqc05hbWVfX3RzaWNrbGVfZGVzdHJ1Y3R1cmVkXzEgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTUubmV4dCgpLnZhbHVlLCB1cmxRdWVyeVBhcmFtTmFtZV9fdHNpY2tsZV9kZXN0cnVjdHVyZWRfMiA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxNS5uZXh0KCkudmFsdWUsIGpzTmFtZSA9IGpzTmFtZV9fdHNpY2tsZV9kZXN0cnVjdHVyZWRfMSwgdXJsUXVlcnlQYXJhbU5hbWUgPSB1cmxRdWVyeVBhcmFtTmFtZV9fdHNpY2tsZV9kZXN0cnVjdHVyZWRfMjtcbiAgICBqc05hbWUgaW4gcGFyYW1zICYmICh1cmxRdWVyeVBhcmFtc1t1cmxRdWVyeVBhcmFtTmFtZV0gPSBwYXJhbXNbanNOYW1lXSk7XG4gIH1cbiAgcmV0dXJuIHVybFF1ZXJ5UGFyYW1zO1xufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXMuYnVpbGRRdWVyeVBhcmFtcyA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zO1xudmFyIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19zaW1wbGVDb3JzQWxsb3dlZEhlYWRlcnMgPSBbXCJhY2NlcHRcIiwgXCJhY2NlcHQtbGFuZ3VhZ2VcIiwgXCJjb250ZW50LWxhbmd1YWdlXCJdLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfc2ltcGxlQ29yc0FsbG93ZWRNZXRob2RzID0gW1wiR0VUXCIsIFwiSEVBRFwiLCBcIlBPU1RcIl07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtcy5ieXBhc3NDb3JzUHJlZmxpZ2h0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J5cGFzc0NvcnNQcmVmbGlnaHQocGFyYW1zKSB7XG4gIHZhciBzYWZlSGVhZGVycyA9IHt9LCB1bnNhZmVIZWFkZXJzID0ge30sIGhhc1Vuc2FmZUhlYWRlcnMgPSAhMSwgaGFzU2FmZUhlYWRlcnMgPSAhMSwgaGFzQ29udGVudFR5cGUgPSAhMTtcbiAgaWYgKHBhcmFtcy5oZWFkZXJzKSB7XG4gICAgaGFzQ29udGVudFR5cGUgPSBudWxsICE9IHBhcmFtcy5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdO1xuICAgIGZvciAodmFyICRqc2NvbXAkaXRlciQxNiA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5lbnRyaWVzKHBhcmFtcy5oZWFkZXJzKSksICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQxNi5uZXh0KCk7ICEkanNjb21wJGtleSQuZG9uZTsgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDE2Lm5leHQoKSkge1xuICAgICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxNyA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAka2V5JC52YWx1ZSksIGtleV9fdHNpY2tsZV9kZXN0cnVjdHVyZWRfMyA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxNy5uZXh0KCkudmFsdWUsIHZhbHVlX190c2lja2xlX2Rlc3RydWN0dXJlZF80ID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE3Lm5leHQoKS52YWx1ZSwga2V5ID0ga2V5X190c2lja2xlX2Rlc3RydWN0dXJlZF8zLCB2YWx1ZSA9IHZhbHVlX190c2lja2xlX2Rlc3RydWN0dXJlZF80O1xuICAgICAgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX3NpbXBsZUNvcnNBbGxvd2VkSGVhZGVycy5pbmNsdWRlcyhrZXkpID8gKHNhZmVIZWFkZXJzW2tleV0gPSB2YWx1ZSwgaGFzU2FmZUhlYWRlcnMgPSAhMCkgOiAodW5zYWZlSGVhZGVyc1trZXldID0gdmFsdWUsIGhhc1Vuc2FmZUhlYWRlcnMgPSAhMCk7XG4gICAgfVxuICB9XG4gIGlmIChudWxsICE9IHBhcmFtcy5ib2R5IHx8IFwiUFVUXCIgPT09IHBhcmFtcy5odHRwTWV0aG9kIHx8IFwiUE9TVFwiID09PSBwYXJhbXMuaHR0cE1ldGhvZCkge1xuICAgIGhhc0NvbnRlbnRUeXBlIHx8ICh1bnNhZmVIZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIsIGhhc1Vuc2FmZUhlYWRlcnMgPSAhMCksIHNhZmVIZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gXCJ0ZXh0L3BsYWluXCIsIGhhc1NhZmVIZWFkZXJzID0gITA7XG4gIH1cbiAgaWYgKGhhc1Vuc2FmZUhlYWRlcnMpIHtcbiAgICB2YXIgZmluYWxQYXJhbSA9ICgwLG1vZHVsZSRleHBvcnRzJGdvb2ckbmV0JHJwYyRIdHRwQ29ycy5nZW5lcmF0ZUVuY29kZWRIdHRwSGVhZGVyc092ZXJ3cml0ZVBhcmFtKSh1bnNhZmVIZWFkZXJzKTtcbiAgICBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYWRkUXVlcnlQYXJhbWV0ZXIocGFyYW1zLCBtb2R1bGUkZXhwb3J0cyRnb29nJG5ldCRycGMkSHR0cENvcnMuSFRUUF9IRUFERVJTX1BBUkFNX05BTUUsIGZpbmFsUGFyYW0pO1xuICB9XG4gIGhhc1NhZmVIZWFkZXJzICYmIChwYXJhbXMuaGVhZGVycyA9IHNhZmVIZWFkZXJzKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX3NpbXBsZUNvcnNBbGxvd2VkTWV0aG9kcy5pbmNsdWRlcyhwYXJhbXMuaHR0cE1ldGhvZCkgfHwgKG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19hZGRRdWVyeVBhcmFtZXRlcihwYXJhbXMsIG1vZHVsZSRleHBvcnRzJGdvb2ckbmV0JHJwYyRIdHRwQ29ycy5IVFRQX01FVEhPRF9QQVJBTV9OQU1FLCBwYXJhbXMuaHR0cE1ldGhvZCksIHBhcmFtcy5odHRwTWV0aG9kID0gXCJQT1NUXCIpO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19hZGRRdWVyeVBhcmFtZXRlcihwYXJhbXMsIGtleSwgdmFsdWUpIHtcbiAgaWYgKHBhcmFtcy5xdWVyeVBhcmFtcykge1xuICAgIHBhcmFtcy5xdWVyeVBhcmFtc1trZXldID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdmFyICRqc2NvbXAkY29tcHByb3AwID0ge307XG4gICAgcGFyYW1zLnF1ZXJ5UGFyYW1zID0gKCRqc2NvbXAkY29tcHByb3AwW2tleV0gPSB2YWx1ZSwgJGpzY29tcCRjb21wcHJvcDApO1xuICB9XG59XG47dmFyIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0ID0ge30sIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdF9tb2R1bGUgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3RfbW9kdWxlIHx8IHtpZDpcImphdmFzY3JpcHQvdHlwZXNjcmlwdC9jb250cmliL2FwaWNsaWVudC9jb3JlL211bHRpcGFydF9yZXF1ZXN0LmNsb3N1cmUuanNcIn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdC5NdWx0aXBhcnRSZXF1ZXN0ID0gZnVuY3Rpb24oZmlsZXMsIF9tZXRhZGF0YSkge1xuICB0aGlzLmZpbGVzID0gZmlsZXM7XG4gIHRoaXMuX21ldGFkYXRhID0gX21ldGFkYXRhO1xuICB0aGlzLl9tZXRhZGF0YVBheWxvYWQgPSBcIlwiO1xuICB0aGlzLl9ib3VuZGFyeSA9IERhdGUubm93KCkudG9TdHJpbmcoKTtcbiAgX21ldGFkYXRhICYmIHRoaXMuYWRkTWV0YWRhdGEoX21ldGFkYXRhKTtcbiAgdGhpcy5fcGF5bG9hZFByb21pc2UgPSB0aGlzLmJ1aWxkKCk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3QuTXVsdGlwYXJ0UmVxdWVzdC5wcm90b3R5cGUuYm91bmRhcnkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2JvdW5kYXJ5O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QucHJvdG90eXBlLm1ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9tZXRhZGF0YTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdC5NdWx0aXBhcnRSZXF1ZXN0LnByb3RvdHlwZS5wYXlsb2FkUHJvbWlzZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fcGF5bG9hZFByb21pc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3QuTXVsdGlwYXJ0UmVxdWVzdC5wcm90b3R5cGUuYWRkTWV0YWRhdGEgPSBmdW5jdGlvbihtZXRhZGF0YSkge1xuICB2YXIganNvbiA9IG1ldGFkYXRhIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUgPyBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemUobWV0YWRhdGEpIDogbWV0YWRhdGE7XG4gIHRoaXMuX21ldGFkYXRhUGF5bG9hZCArPSBcIkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFxcclxcblxcclxcblwiICsgSlNPTi5zdHJpbmdpZnkoanNvbikgKyAoXCJcXHJcXG4tLVwiICsgdGhpcy5fYm91bmRhcnkgKyBcIlxcclxcblwiKTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdC5NdWx0aXBhcnRSZXF1ZXN0LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgcGF5bG9hZCA9IFwiLS1cIiArIHRoaXMuX2JvdW5kYXJ5ICsgXCJcXHJcXG5cIjtcbiAgcGF5bG9hZCArPSB0aGlzLl9tZXRhZGF0YVBheWxvYWQ7XG4gIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLmZpbGVzLm1hcChmdW5jdGlvbihmKSB7XG4gICAgcmV0dXJuICRqc2NvbXAkdGhpcy5lbmNvZGVGaWxlKGYpO1xuICB9KSkudGhlbihmdW5jdGlvbihmaWxlUGF5bG9hZHMpIHtcbiAgICBmb3IgKHZhciAkanNjb21wJGl0ZXIkMTcgPSAkanNjb21wLm1ha2VJdGVyYXRvcihmaWxlUGF5bG9hZHMpLCAkanNjb21wJGtleSRmaWxlUGF5bG9hZCA9ICRqc2NvbXAkaXRlciQxNy5uZXh0KCk7ICEkanNjb21wJGtleSRmaWxlUGF5bG9hZC5kb25lOyAkanNjb21wJGtleSRmaWxlUGF5bG9hZCA9ICRqc2NvbXAkaXRlciQxNy5uZXh0KCkpIHtcbiAgICAgIHBheWxvYWQgKz0gJGpzY29tcCRrZXkkZmlsZVBheWxvYWQudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBwYXlsb2FkICs9IFwiXFxyXFxuLS1cIiArICRqc2NvbXAkdGhpcy5fYm91bmRhcnkgKyBcIi0tXCI7XG4gIH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QucHJvdG90eXBlLmVuY29kZUZpbGUgPSBmdW5jdGlvbihmaWxlKSB7XG4gIHJldHVybiB0aGlzLmJhc2U2NEVuY29kZUZpbGUoZmlsZSkudGhlbihmdW5jdGlvbihiYXNlNjRTdHIpIHtcbiAgICByZXR1cm4gXCJDb250ZW50LVR5cGU6IFwiICsgZmlsZS50eXBlICsgJ1xcclxcbkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT1cImZpbGVcIjsgZmlsZW5hbWU9XCInICsgKGVuY29kZVVSSUNvbXBvbmVudChmaWxlLm5hbWUpICsgJ1wiXFxyXFxuQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogYmFzZTY0XFxyXFxuXFxyXFxuJykgKyBiYXNlNjRTdHI7XG4gIH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QucHJvdG90eXBlLmJhc2U2NEVuY29kZUZpbGUgPSBmdW5jdGlvbihmaWxlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmaWxlJDUyID0gZXYudGFyZ2V0LnJlc3VsdCwgdG9SZXNvbHZlID0gZmlsZSQ1Mi5zdWJzdHIoZmlsZSQ1Mi5pbmRleE9mKFwiLFwiKSArIDEpO1xuICAgICAgICByZXNvbHZlKHRvUmVzb2x2ZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICB9KTtcbn07XG52YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX2NsaWVudCA9IHt9LCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX2NsaWVudF9tb2R1bGUgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX2NsaWVudF9tb2R1bGUgfHwge2lkOlwiamF2YXNjcmlwdC90eXBlc2NyaXB0L2NvbnRyaWIvYXBpY2xpZW50L2NvcmUvYXBpX2NsaWVudC5jbG9zdXJlLmpzXCJ9O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX2NsaWVudC5BcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50LkFwaUNsaWVudC5wcm90b3R5cGUuJHZhbGlkYXRlUGFyYW1ldGVyID0gZnVuY3Rpb24ocGFyYW0sIHBhdHRlcm4pIHtcbiAgdmFyIHBhcmFtU3RyID0gU3RyaW5nKHBhcmFtKTtcbiAgaWYgKCFwYXR0ZXJuLnRlc3QocGFyYW1TdHIpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJwYXJhbWV0ZXIgW1wiICsgcGFyYW1TdHIgKyBcIl0gZG9lcyBub3QgbWF0Y2ggcGF0dGVybiBbXCIgKyBwYXR0ZXJuLnRvU3RyaW5nKCkgKyBcIl1cIik7XG4gIH1cbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX2NsaWVudF90b01ha2VSZXF1ZXN0UGFyYW1zKHJlcXVlc3RQYXJhbXMpIHtcbiAgdmFyIGJvZHkgPSByZXF1ZXN0UGFyYW1zLmJvZHkgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSA/IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZShyZXF1ZXN0UGFyYW1zLmJvZHkpIDogcmVxdWVzdFBhcmFtcy5ib2R5O1xuICByZXR1cm4ge3BhdGg6cmVxdWVzdFBhcmFtcy5wYXRoLCBodHRwTWV0aG9kOnJlcXVlc3RQYXJhbXMuaHR0cE1ldGhvZCwgbWV0aG9kSWQ6cmVxdWVzdFBhcmFtcy5tZXRob2RJZCwgYm9keTpib2R5LCBxdWVyeVBhcmFtczpyZXF1ZXN0UGFyYW1zLnF1ZXJ5UGFyYW1zLCBzdHJlYW1pbmdUeXBlOnJlcXVlc3RQYXJhbXMuc3RyZWFtaW5nVHlwZSAmJiByZXF1ZXN0UGFyYW1zLnN0cmVhbWluZ1R5cGV9O1xufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX2NsaWVudC50b01ha2VSZXF1ZXN0UGFyYW1zID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnRfdG9NYWtlUmVxdWVzdFBhcmFtcztcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50X3RvTXVsdGlwYXJ0TWFrZVJlcXVlc3RQYXJhbXMocmVxdWVzdFBhcmFtcykge1xuICBpZiAoIShyZXF1ZXN0UGFyYW1zLmJvZHkgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdC5NdWx0aXBhcnRSZXF1ZXN0KSkge1xuICAgIHRocm93IEVycm9yKHJlcXVlc3RQYXJhbXMucGF0aCArIFwiIHJlcXVlc3QgbXVzdCBiZSBhIE11bHRpcGFydFJlcXVlc3RcIik7XG4gIH1cbiAgdmFyIG11bHRpcGFydFJlcXVlc3QgPSByZXF1ZXN0UGFyYW1zLmJvZHk7XG4gIHJldHVybiBtdWx0aXBhcnRSZXF1ZXN0LnBheWxvYWRQcm9taXNlKCkudGhlbihmdW5jdGlvbihib2R5KSB7XG4gICAgdmFyIF9hLCBxdWVyeVBhcmFtcyA9IG51bGwgIT09IChfYSA9IHJlcXVlc3RQYXJhbXMucXVlcnlQYXJhbXMpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHt9O1xuICAgIHJldHVybiB7cGF0aDpyZXF1ZXN0UGFyYW1zLnBhdGgsIGh0dHBNZXRob2Q6cmVxdWVzdFBhcmFtcy5odHRwTWV0aG9kLCBtZXRob2RJZDpyZXF1ZXN0UGFyYW1zLm1ldGhvZElkLCBxdWVyeVBhcmFtczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHF1ZXJ5UGFyYW1zKSwge3VwbG9hZFR5cGU6XCJtdWx0aXBhcnRcIn0pLCBoZWFkZXJzOntcIlgtR29vZy1VcGxvYWQtUHJvdG9jb2xcIjpcIm11bHRpcGFydFwiLCBcIkNvbnRlbnQtVHlwZVwiOlwibXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PVwiICsgbXVsdGlwYXJ0UmVxdWVzdC5ib3VuZGFyeSgpfSwgYm9keTpib2R5LH07XG4gIH0pO1xufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX2NsaWVudC50b011bHRpcGFydE1ha2VSZXF1ZXN0UGFyYW1zID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnRfdG9NdWx0aXBhcnRNYWtlUmVxdWVzdFBhcmFtcztcbnZhciBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rID0ge30sIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rX21vZHVsZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rX21vZHVsZSB8fCB7aWQ6XCJqYXZhc2NyaXB0L3R5cGVzY3JpcHQvY29udHJpYi9hcGljbGllbnQvY29yZS9hcGlfcmVxdWVzdF9ob29rLmNsb3N1cmUuanNcIn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rLkFwaUNsaWVudFJlcXVlc3RIb29rID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfQXBpQ2xpZW50UmVxdWVzdEhvb2soKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9vay5BcGlDbGllbnRIb29rRmFjdG9yeSA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2suQXBpQ2xpZW50SG9va0ZhY3RvcnlDdG9yID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfQXBpQ2xpZW50SG9va0ZhY3RvcnlDdG9yKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2suRGVmYXVsdEFwaUNsaWVudEhvb2tGYWN0b3J5ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9vay5EZWZhdWx0QXBpQ2xpZW50SG9va0ZhY3RvcnkucHJvdG90eXBlLmdldFJlcXVlc3RIb29rID0gZnVuY3Rpb24ocmVxdWVzdFBhcmFtcykge1xuICByZXR1cm4ge29uQmVmb3JlU2VuZDpmdW5jdGlvbigpIHtcbiAgfSwgb25TdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gIH0sIG9uRXJyb3I6ZnVuY3Rpb24oZXJyb3IpIHtcbiAgfSx9O1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rX2dldFJlcXVlc3RIb29rKGZhY3RvcnksIHJlcXVlc3RQYXJhbXMpIHtcbiAgaWYgKG51bGwgPT0gZmFjdG9yeSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBob29rID0gZmFjdG9yeS5nZXRSZXF1ZXN0SG9vayhyZXF1ZXN0UGFyYW1zKTtcbiAgcmV0dXJuIG51bGwgPT0gaG9vayA/IG51bGwgOiBob29rO1xufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9vay5nZXRSZXF1ZXN0SG9vayA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rX2dldFJlcXVlc3RIb29rO1xudmFyIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudCA9IHt9LCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50X21vZHVsZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnRfbW9kdWxlIHx8IHtpZDpcImphdmFzY3JpcHQvdHlwZXNjcmlwdC9jb250cmliL2FwaWNsaWVudC9yZXF1ZXN0X3NlcnZpY2UvcHJvbWlzZV9hcGlfY2xpZW50LmNsb3N1cmUuanNcIn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudCA9IGZ1bmN0aW9uKHJlcXVlc3RTZXJ2aWNlLCBob29rRmFjdG9yeSkge1xuICB0aGlzLnJlcXVlc3RTZXJ2aWNlID0gcmVxdWVzdFNlcnZpY2U7XG4gIHRoaXMuaG9va0ZhY3RvcnkgPSB2b2lkIDAgPT09IGhvb2tGYWN0b3J5ID8gbnVsbCA6IGhvb2tGYWN0b3J5O1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnQuQXBpQ2xpZW50KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50LnByb3RvdHlwZS4kYWRkSG9va3NUb1JlcXVlc3QgPSBmdW5jdGlvbihyZXF1ZXN0UGFyYW1zLCBwcm9taXNlKSB7XG4gIHJldHVybiBudWxsID09IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rX2dldFJlcXVlc3RIb29rKHRoaXMuaG9va0ZhY3RvcnksIHJlcXVlc3RQYXJhbXMpID8gcHJvbWlzZSA6IHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQucHJvdG90eXBlLiRyZXF1ZXN0ID0gZnVuY3Rpb24ocmVxdWVzdFBhcmFtcykge1xuICB2YXIgcmVzcG9uc2VDdG9yID0gcmVxdWVzdFBhcmFtcy5yZXNwb25zZUN0b3IgfHwgdm9pZCAwO1xuICByZXR1cm4gdGhpcy4kYWRkSG9va3NUb1JlcXVlc3QocmVxdWVzdFBhcmFtcywgdGhpcy5yZXF1ZXN0U2VydmljZS5zZW5kKG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50X3RvTWFrZVJlcXVlc3RQYXJhbXMocmVxdWVzdFBhcmFtcyksIHJlc3BvbnNlQ3RvcikpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50LnByb3RvdHlwZS4kdXBsb2FkUmVxdWVzdCA9IGZ1bmN0aW9uKHJlcXVlc3RQYXJhbXMpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXMsIHJlc3BvbnNlQ3RvciA9IHJlcXVlc3RQYXJhbXMucmVzcG9uc2VDdG9yIHx8IHZvaWQgMDtcbiAgcmV0dXJuIHRoaXMuJGFkZEhvb2tzVG9SZXF1ZXN0KHJlcXVlc3RQYXJhbXMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50X3RvTXVsdGlwYXJ0TWFrZVJlcXVlc3RQYXJhbXMocmVxdWVzdFBhcmFtcykudGhlbihmdW5jdGlvbihwYXJhbXMpIHtcbiAgICByZXR1cm4gJGpzY29tcCR0aGlzLnJlcXVlc3RTZXJ2aWNlLnNlbmQocGFyYW1zLCByZXNwb25zZUN0b3IpO1xuICB9KSk7XG59O1xudmFyIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfbW9kdWxlID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfbW9kdWxlIHx8IHtpZDpcImdlby9nZXN0YWx0L2NsaWVudC9qYXZhc2NyaXB0L3YxYWxwaGEvZWVfYXBpX2NsaWVudC5jbG9zdXJlLmpzXCJ9O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQXVkaXRMb2dDb25maWdMb2dUeXBlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lBdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWdMb2dUeXBlRW51bSA9IHtBRE1JTl9SRUFEOlwiQURNSU5fUkVBRFwiLCBEQVRBX1JFQUQ6XCJEQVRBX1JFQURcIiwgREFUQV9XUklURTpcIkRBVEFfV1JJVEVcIiwgTE9HX1RZUEVfVU5TUEVDSUZJRUQ6XCJMT0dfVFlQRV9VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtLkxPR19UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnTG9nVHlwZUVudW0uQURNSU5fUkVBRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtLkRBVEFfV1JJVEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWdMb2dUeXBlRW51bS5EQVRBX1JFQURdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklBdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQZXJtaXNzaW9uVHlwZUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zUGVybWlzc2lvblR5cGVFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zUGVybWlzc2lvblR5cGVFbnVtID0ge0FETUlOX1JFQUQ6XCJBRE1JTl9SRUFEXCIsIEFETUlOX1dSSVRFOlwiQURNSU5fV1JJVEVcIiwgREFUQV9SRUFEOlwiREFUQV9SRUFEXCIsIERBVEFfV1JJVEU6XCJEQVRBX1dSSVRFXCIsIFBFUk1JU1NJT05fVFlQRV9VTlNQRUNJRklFRDpcIlBFUk1JU1NJT05fVFlQRV9VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQZXJtaXNzaW9uVHlwZUVudW0uUEVSTUlTU0lPTl9UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bS5BRE1JTl9SRUFELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bS5BRE1JTl9XUklURSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQZXJtaXNzaW9uVHlwZUVudW0uREFUQV9SRUFELCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQZXJtaXNzaW9uVHlwZUVudW0uREFUQV9XUklURV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0gPSB7Q0FQQUJJTElUWV9HUk9VUF9VTlNQRUNJRklFRDpcIkNBUEFCSUxJVFlfR1JPVVBfVU5TUEVDSUZJRURcIiwgQ0xPVURfQUxQSEE6XCJDTE9VRF9BTFBIQVwiLCBFWFRFUk5BTDpcIkVYVEVSTkFMXCIsIElOVEVSTkFMOlwiSU5URVJOQUxcIiwgTElNSVRFRDpcIkxJTUlURURcIiwgUFJFQVVUSE9SSVpFRDpcIlBSRUFVVEhPUklaRURcIiwgUFJFVklFVzpcIlBSRVZJRVdcIiwgUFVCTElDOlwiUFVCTElDXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0uQ0FQQUJJTElUWV9HUk9VUF9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtLlBVQkxJQywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtLklOVEVSTkFMLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0uRVhURVJOQUwsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bS5MSU1JVEVELCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtLlBSRUFVVEhPUklaRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bS5QUkVWSUVXLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0uQ0xPVURfQUxQSEFdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklDbG91ZEF1ZGl0T3B0aW9uc0xvZ05hbWVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9uc0xvZ05hbWVFbnVtID0ge0FETUlOX0FDVElWSVRZOlwiQURNSU5fQUNUSVZJVFlcIiwgREFUQV9BQ0NFU1M6XCJEQVRBX0FDQ0VTU1wiLCBVTlNQRUNJRklFRF9MT0dfTkFNRTpcIlVOU1BFQ0lGSUVEX0xPR19OQU1FXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW0uVU5TUEVDSUZJRURfTE9HX05BTUUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnNMb2dOYW1lRW51bS5BRE1JTl9BQ1RJVklUWSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9uc0xvZ05hbWVFbnVtLkRBVEFfQUNDRVNTXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bSA9IHtERUZBVUxUX09CSkVDVF9BQ0w6XCJERUZBVUxUX09CSkVDVF9BQ0xcIiwgUFVCTElDOlwiUFVCTElDXCIsIFRJTEVfUEVSTUlTU0lPTlNfVU5TUEVDSUZJRUQ6XCJUSUxFX1BFUk1JU1NJT05TX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtLlRJTEVfUEVSTUlTU0lPTlNfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0uUFVCTElDLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtLkRFRkFVTFRfT0JKRUNUX0FDTF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0gPSB7QVVUT19KUEVHX1BORzpcIkFVVE9fSlBFR19QTkdcIiwgR0VPX1RJRkY6XCJHRU9fVElGRlwiLCBJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIEpQRUc6XCJKUEVHXCIsIE1VTFRJX0JBTkRfSU1BR0VfVElMRTpcIk1VTFRJX0JBTkRfSU1BR0VfVElMRVwiLCBOUFk6XCJOUFlcIiwgUE5HOlwiUE5HXCIsIFRGX1JFQ09SRF9JTUFHRTpcIlRGX1JFQ09SRF9JTUFHRVwiLCBaSVBQRURfR0VPX1RJRkY6XCJaSVBQRURfR0VPX1RJRkZcIiwgWklQUEVEX0dFT19USUZGX1BFUl9CQU5EOlwiWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5KUEVHLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uQVVUT19KUEVHX1BORywgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5OUFksIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLlRGX1JFQ09SRF9JTUFHRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLk1VTFRJX0JBTkRfSU1BR0VfVElMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklDb25kaXRpb25JYW1FbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUNvbmRpdGlvbklhbUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25JYW1FbnVtID0ge0FQUFJPVkVSOlwiQVBQUk9WRVJcIiwgQVRUUklCVVRJT046XCJBVFRSSUJVVElPTlwiLCBBVVRIT1JJVFk6XCJBVVRIT1JJVFlcIiwgQ1JFREVOVElBTFNfVFlQRTpcIkNSRURFTlRJQUxTX1RZUEVcIiwgQ1JFRFNfQVNTRVJUSU9OOlwiQ1JFRFNfQVNTRVJUSU9OXCIsIEpVU1RJRklDQVRJT05fVFlQRTpcIkpVU1RJRklDQVRJT05fVFlQRVwiLCBOT19BVFRSOlwiTk9fQVRUUlwiLCBTRUNVUklUWV9SRUFMTTpcIlNFQ1VSSVRZX1JFQUxNXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW0uTk9fQVRUUiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25JYW1FbnVtLkFVVEhPUklUWSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25JYW1FbnVtLkFUVFJJQlVUSU9OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW0uU0VDVVJJVFlfUkVBTE0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bS5BUFBST1ZFUiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bS5KVVNUSUZJQ0FUSU9OX1RZUEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bS5DUkVERU5USUFMU19UWVBFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW0uQ1JFRFNfQVNTRVJUSU9OXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQ29uZGl0aW9uT3BFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUNvbmRpdGlvbk9wRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbk9wRW51bSA9IHtESVNDSEFSR0VEOlwiRElTQ0hBUkdFRFwiLCBFUVVBTFM6XCJFUVVBTFNcIiwgSU46XCJJTlwiLCBOT1RfRVFVQUxTOlwiTk9UX0VRVUFMU1wiLCBOT1RfSU46XCJOT1RfSU5cIiwgTk9fT1A6XCJOT19PUFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0uTk9fT1AsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uT3BFbnVtLkVRVUFMUywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0uTk9UX0VRVUFMUywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0uSU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uT3BFbnVtLk5PVF9JTiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uT3BFbnVtLkRJU0NIQVJHRURdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklDb25kaXRpb25TeXNFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUNvbmRpdGlvblN5c0VudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25TeXNFbnVtID0ge0lQOlwiSVBcIiwgTkFNRTpcIk5BTUVcIiwgTk9fQVRUUjpcIk5PX0FUVFJcIiwgUkVHSU9OOlwiUkVHSU9OXCIsIFNFUlZJQ0U6XCJTRVJWSUNFXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvblN5c0VudW0uTk9fQVRUUiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25TeXNFbnVtLlJFR0lPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25TeXNFbnVtLlNFUlZJQ0UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uU3lzRW51bS5OQU1FLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvblN5c0VudW0uSVBdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklEYXRhQWNjZXNzT3B0aW9uc0xvZ01vZGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSURhdGFBY2Nlc3NPcHRpb25zTG9nTW9kZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9uc0xvZ01vZGVFbnVtID0ge0xPR19GQUlMX0NMT1NFRDpcIkxPR19GQUlMX0NMT1NFRFwiLCBMT0dfTU9ERV9VTlNQRUNJRklFRDpcIkxPR19NT0RFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zTG9nTW9kZUVudW0uTE9HX01PREVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGF0YUFjY2Vzc09wdGlvbnNMb2dNb2RlRW51bS5MT0dfRkFJTF9DTE9TRURdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklEbXNBdHRyaWJ1dGVUeXBlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lEbXNBdHRyaWJ1dGVUeXBlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZVR5cGVFbnVtID0ge0JPT0xFQU46XCJCT09MRUFOXCIsIERBVEVfVElNRTpcIkRBVEVfVElNRVwiLCBET1VCTEU6XCJET1VCTEVcIiwgSU5URUdFUjpcIklOVEVHRVJcIiwgU1RSSU5HOlwiU1RSSU5HXCIsIFRZUEVfVU5TUEVDSUZJRUQ6XCJUWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZVR5cGVFbnVtLlRZUEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlVHlwZUVudW0uSU5URUdFUiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBdHRyaWJ1dGVUeXBlRW51bS5CT09MRUFOLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZVR5cGVFbnVtLkRPVUJMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBdHRyaWJ1dGVUeXBlRW51bS5TVFJJTkcsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZVR5cGVFbnVtLkRBVEVfVElNRV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUVhcnRoRW5naW5lQXNzZXRUeXBlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lFYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW0gPSB7Q0xBU1NJRklFUjpcIkNMQVNTSUZJRVJcIiwgREFUQV9NQVBQSU5HX1NFUlZJQ0U6XCJEQVRBX01BUFBJTkdfU0VSVklDRVwiLCBGT0xERVI6XCJGT0xERVJcIiwgSU1BR0U6XCJJTUFHRVwiLCBJTUFHRV9DT0xMRUNUSU9OOlwiSU1BR0VfQ09MTEVDVElPTlwiLCBUQUJMRTpcIlRBQkxFXCIsIFRZUEVfVU5TUEVDSUZJRUQ6XCJUWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXRUeXBlRW51bS5UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXRUeXBlRW51bS5JTUFHRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW0uSU1BR0VfQ09MTEVDVElPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW0uVEFCTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtLkZPTERFUiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtLkNMQVNTSUZJRVIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtLkRBVEFfTUFQUElOR19TRVJWSUNFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lFYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bSA9IHtBVVRPX0pQRUdfUE5HOlwiQVVUT19KUEVHX1BOR1wiLCBHRU9fVElGRjpcIkdFT19USUZGXCIsIElNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEOlwiSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRURcIiwgSlBFRzpcIkpQRUdcIiwgTVVMVElfQkFORF9JTUFHRV9USUxFOlwiTVVMVElfQkFORF9JTUFHRV9USUxFXCIsIE5QWTpcIk5QWVwiLCBQTkc6XCJQTkdcIiwgVEZfUkVDT1JEX0lNQUdFOlwiVEZfUkVDT1JEX0lNQUdFXCIsIFpJUFBFRF9HRU9fVElGRjpcIlpJUFBFRF9HRU9fVElGRlwiLCBaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkQ6XCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bS5JTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtLkpQRUcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bS5QTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bS5BVVRPX0pQRUdfUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0uTlBZLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtLkdFT19USUZGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0uVEZfUkVDT1JEX0lNQUdFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0uTVVMVElfQkFORF9JTUFHRV9USUxFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JRXhwb3J0VmlkZW9NYXBSZXF1ZXN0VmVyc2lvbkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JRXhwb3J0VmlkZW9NYXBSZXF1ZXN0VmVyc2lvbkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3RWZXJzaW9uRW51bSA9IHtWMTpcIlYxXCIsIFYyOlwiVjJcIiwgVkVSU0lPTl9VTlNQRUNJRklFRDpcIlZFUlNJT05fVU5TUEVDSUZJRURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0VmVyc2lvbkVudW0uVkVSU0lPTl9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3RWZXJzaW9uRW51bS5WMSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3RWZXJzaW9uRW51bS5WMl07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JRmVhdHVyZVZpZXdBdHRyaWJ1dGVUeXBlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW0gPSB7Qk9PTEVBTjpcIkJPT0xFQU5cIiwgREFURV9USU1FOlwiREFURV9USU1FXCIsIERPVUJMRTpcIkRPVUJMRVwiLCBJTlRFR0VSOlwiSU5URUdFUlwiLCBTVFJJTkc6XCJTVFJJTkdcIiwgVFlQRV9VTlNQRUNJRklFRDpcIlRZUEVfVU5TUEVDSUZJRURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGVUeXBlRW51bS5UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW0uSU5URUdFUiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtLkJPT0xFQU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGVUeXBlRW51bS5ET1VCTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGVUeXBlRW51bS5TVFJJTkcsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW0uREFURV9USU1FXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bSA9IHtBVVRPX0pQRUdfUE5HOlwiQVVUT19KUEVHX1BOR1wiLCBHRU9fVElGRjpcIkdFT19USUZGXCIsIElNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEOlwiSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRURcIiwgSlBFRzpcIkpQRUdcIiwgTVVMVElfQkFORF9JTUFHRV9USUxFOlwiTVVMVElfQkFORF9JTUFHRV9USUxFXCIsIE5QWTpcIk5QWVwiLCBQTkc6XCJQTkdcIiwgVEZfUkVDT1JEX0lNQUdFOlwiVEZfUkVDT1JEX0lNQUdFXCIsIFpJUFBFRF9HRU9fVElGRjpcIlpJUFBFRF9HRU9fVElGRlwiLCBaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkQ6XCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uSlBFRywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bS5QTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uQVVUT19KUEVHX1BORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bS5OUFksIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLkdFT19USUZGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLlRGX1JFQ09SRF9JTUFHRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bS5NVUxUSV9CQU5EX0lNQUdFX1RJTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklGaWxtc3RyaXBUaHVtYm5haWxPcmllbnRhdGlvbkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JRmlsbXN0cmlwVGh1bWJuYWlsT3JpZW50YXRpb25FbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsT3JpZW50YXRpb25FbnVtID0ge0hPUklaT05UQUw6XCJIT1JJWk9OVEFMXCIsIE9SSUVOVEFUSU9OX1VOU1BFQ0lGSUVEOlwiT1JJRU5UQVRJT05fVU5TUEVDSUZJRURcIiwgVkVSVElDQUw6XCJWRVJUSUNBTFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxPcmllbnRhdGlvbkVudW0uT1JJRU5UQVRJT05fVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsT3JpZW50YXRpb25FbnVtLkhPUklaT05UQUwsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsT3JpZW50YXRpb25FbnVtLlZFUlRJQ0FMXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JR2NzRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JR2NzRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bSA9IHtERUZBVUxUX09CSkVDVF9BQ0w6XCJERUZBVUxUX09CSkVDVF9BQ0xcIiwgUFVCTElDOlwiUFVCTElDXCIsIFRJTEVfUEVSTUlTU0lPTlNfVU5TUEVDSUZJRUQ6XCJUSUxFX1BFUk1JU1NJT05TX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtLlRJTEVfUEVSTUlTU0lPTlNfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0uUFVCTElDLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtLkRFRkFVTFRfT0JKRUNUX0FDTF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lHZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0gPSB7QVVUT19KUEVHX1BORzpcIkFVVE9fSlBFR19QTkdcIiwgR0VPX1RJRkY6XCJHRU9fVElGRlwiLCBJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIEpQRUc6XCJKUEVHXCIsIE1VTFRJX0JBTkRfSU1BR0VfVElMRTpcIk1VTFRJX0JBTkRfSU1BR0VfVElMRVwiLCBOUFk6XCJOUFlcIiwgUE5HOlwiUE5HXCIsIFRGX1JFQ09SRF9JTUFHRTpcIlRGX1JFQ09SRF9JTUFHRVwiLCBaSVBQRURfR0VPX1RJRkY6XCJaSVBQRURfR0VPX1RJRkZcIiwgWklQUEVEX0dFT19USUZGX1BFUl9CQU5EOlwiWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5JTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uSlBFRywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5BVVRPX0pQRUdfUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5OUFksIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uVEZfUkVDT1JEX0lNQUdFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5NVUxUSV9CQU5EX0lNQUdFX1RJTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lJbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bSA9IHtNQVg6XCJNQVhcIiwgTUVBTjpcIk1FQU5cIiwgTUVESUFOOlwiTUVESUFOXCIsIE1JTjpcIk1JTlwiLCBNT0RFOlwiTU9ERVwiLCBQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRDpcIlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEXCIsIFNBTVBMRTpcIlNBTVBMRVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtLlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0uTUVBTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtLlNBTVBMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtLk1JTiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bS5NQVgsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bS5NT0RFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0uTUVESUFOXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lJbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzRW51bSA9IHtNQVg6XCJNQVhcIiwgTUVBTjpcIk1FQU5cIiwgTUVESUFOOlwiTUVESUFOXCIsIE1JTjpcIk1JTlwiLCBNT0RFOlwiTU9ERVwiLCBQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRDpcIlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEXCIsIFNBTVBMRTpcIlNBTVBMRVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtLlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW0uTUVBTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtLlNBTVBMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtLk1JTiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzRW51bS5NQVgsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzRW51bS5NT0RFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW0uTUVESUFOXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bSA9IHtNQVg6XCJNQVhcIiwgTUVBTjpcIk1FQU5cIiwgTUVESUFOOlwiTUVESUFOXCIsIE1JTjpcIk1JTlwiLCBNT0RFOlwiTU9ERVwiLCBQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRDpcIlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEXCIsIFNBTVBMRTpcIlNBTVBMRVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5QWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5NRUFOLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLlNBTVBMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5NSU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uTUFYLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5NT0RFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1FRElBTl07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lJbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0gPSB7QVVUT19KUEVHX1BORzpcIkFVVE9fSlBFR19QTkdcIiwgR0VPX1RJRkY6XCJHRU9fVElGRlwiLCBJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIEpQRUc6XCJKUEVHXCIsIE1VTFRJX0JBTkRfSU1BR0VfVElMRTpcIk1VTFRJX0JBTkRfSU1BR0VfVElMRVwiLCBOUFk6XCJOUFlcIiwgUE5HOlwiUE5HXCIsIFRGX1JFQ09SRF9JTUFHRTpcIlRGX1JFQ09SRF9JTUFHRVwiLCBaSVBQRURfR0VPX1RJRkY6XCJaSVBQRURfR0VPX1RJRkZcIiwgWklQUEVEX0dFT19USUZGX1BFUl9CQU5EOlwiWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5JTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uSlBFRywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5BVVRPX0pQRUdfUE5HLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uTlBZLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uVEZfUkVDT1JEX0lNQUdFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5NVUxUSV9CQU5EX0lNQUdFX1RJTEUsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lJbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW0gPSB7TUFYOlwiTUFYXCIsIE1FQU46XCJNRUFOXCIsIE1FRElBTjpcIk1FRElBTlwiLCBNSU46XCJNSU5cIiwgTU9ERTpcIk1PREVcIiwgUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRUQ6XCJQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRFwiLCBTQU1QTEU6XCJTQU1QTEVcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtLlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bS5NRUFOLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bS5TQU1QTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1JTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW0uTUFYLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW0uTU9ERSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW0uTUVESUFOXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bSA9IHtDQU5DRUxMRUQ6XCJDQU5DRUxMRURcIiwgQ0FOQ0VMTElORzpcIkNBTkNFTExJTkdcIiwgRkFJTEVEOlwiRkFJTEVEXCIsIFBFTkRJTkc6XCJQRU5ESU5HXCIsIFJVTk5JTkc6XCJSVU5OSU5HXCIsIFNUQVRFX1VOU1BFQ0lGSUVEOlwiU1RBVEVfVU5TUEVDSUZJRURcIiwgU1VDQ0VFREVEOlwiU1VDQ0VFREVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtLlNUQVRFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtLlBFTkRJTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW0uUlVOTklORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bS5DQU5DRUxMSU5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtLlNVQ0NFRURFRCwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW0uQ0FOQ0VMTEVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtLkZBSUxFRF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVBpeGVsRGF0YVR5cGVQcmVjaXNpb25FbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVBpeGVsRGF0YVR5cGVQcmVjaXNpb25FbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW0gPSB7RE9VQkxFOlwiRE9VQkxFXCIsIEZMT0FUOlwiRkxPQVRcIiwgSU5UOlwiSU5UXCIsIFBSRUNJU0lPTl9VTlNQRUNJRklFRDpcIlBSRUNJU0lPTl9VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlUHJlY2lzaW9uRW51bS5QUkVDSVNJT05fVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW0uSU5ULCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRGF0YVR5cGVQcmVjaXNpb25FbnVtLkZMT0FULCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRGF0YVR5cGVQcmVjaXNpb25FbnVtLkRPVUJMRV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVJhbmtCeU9uZVRoaW5nUnVsZURpcmVjdGlvbkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUmFua0J5T25lVGhpbmdSdWxlRGlyZWN0aW9uRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZURpcmVjdGlvbkVudW0gPSB7QVNDRU5ESU5HOlwiQVNDRU5ESU5HXCIsIERFU0NFTkRJTkc6XCJERVNDRU5ESU5HXCIsIERJUkVDVElPTl9VTlNQRUNJRklFRDpcIkRJUkVDVElPTl9VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGVEaXJlY3Rpb25FbnVtLkRJUkVDVElPTl9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGVEaXJlY3Rpb25FbnVtLkFTQ0VORElORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGVEaXJlY3Rpb25FbnVtLkRFU0NFTkRJTkddO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklSdWxlQWN0aW9uRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lSdWxlQWN0aW9uRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGVBY3Rpb25FbnVtID0ge0FMTE9XOlwiQUxMT1dcIiwgQUxMT1dfV0lUSF9MT0c6XCJBTExPV19XSVRIX0xPR1wiLCBERU5ZOlwiREVOWVwiLCBERU5ZX1dJVEhfTE9HOlwiREVOWV9XSVRIX0xPR1wiLCBMT0c6XCJMT0dcIiwgTk9fQUNUSU9OOlwiTk9fQUNUSU9OXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGVBY3Rpb25FbnVtLk5PX0FDVElPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlQWN0aW9uRW51bS5BTExPVywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlQWN0aW9uRW51bS5BTExPV19XSVRIX0xPRywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlQWN0aW9uRW51bS5ERU5ZLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGVBY3Rpb25FbnVtLkRFTllfV0lUSF9MT0csIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGVBY3Rpb25FbnVtLkxPR107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0gPSB7Q1NWOlwiQ1NWXCIsIEdFT19KU09OOlwiR0VPX0pTT05cIiwgS01MOlwiS01MXCIsIEtNWjpcIktNWlwiLCBTSFA6XCJTSFBcIiwgVEFCTEVfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQ6XCJUQUJMRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRFwiLCBURl9SRUNPUkRfVEFCTEU6XCJURl9SRUNPUkRfVEFCTEVcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLlRBQkxFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5DU1YsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLkdFT19KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5LTUwsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5LTVosIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLlNIUCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uVEZfUkVDT1JEX1RBQkxFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVGFibGVGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUYWJsZUZpbGVGb3JtYXRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bSA9IHtDU1Y6XCJDU1ZcIiwgR0VPX0pTT046XCJHRU9fSlNPTlwiLCBLTUw6XCJLTUxcIiwgS01aOlwiS01aXCIsIFNIUDpcIlNIUFwiLCBUQUJMRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIlRBQkxFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIFRGX1JFQ09SRF9UQUJMRTpcIlRGX1JFQ09SRF9UQUJMRVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVGb3JtYXRFbnVtLlRBQkxFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW0uQ1NWLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW0uR0VPX0pTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bS5LTUwsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bS5LTVosIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW0uU0hQLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW0uVEZfUkVDT1JEX1RBQkxFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVGFibGVTb3VyY2VDc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc0VudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JVGFibGVTb3VyY2VDc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc0VudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZUNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bSA9IHtDU1ZfQ09MVU1OX0RBVEFfVFlQRV9OVU1FUklDOlwiQ1NWX0NPTFVNTl9EQVRBX1RZUEVfTlVNRVJJQ1wiLCBDU1ZfQ09MVU1OX0RBVEFfVFlQRV9TVFJJTkc6XCJDU1ZfQ09MVU1OX0RBVEFfVFlQRV9TVFJJTkdcIiwgQ1NWX0NPTFVNTl9EQVRBX1RZUEVfVU5TUEVDSUZJRUQ6XCJDU1ZfQ09MVU1OX0RBVEFfVFlQRV9VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZUNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bS5DU1ZfQ09MVU1OX0RBVEFfVFlQRV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZUNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bS5DU1ZfQ09MVU1OX0RBVEFfVFlQRV9TVFJJTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2VDc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc0VudW0uQ1NWX0NPTFVNTl9EQVRBX1RZUEVfTlVNRVJJQ107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVRoaW5uaW5nT3B0aW9uc1RoaW5uaW5nU3RyYXRlZ3lFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVRoaW5uaW5nT3B0aW9uc1RoaW5uaW5nU3RyYXRlZ3lFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zVGhpbm5pbmdTdHJhdGVneUVudW0gPSB7R0xPQkFMTFlfQ09OU0lTVEVOVDpcIkdMT0JBTExZX0NPTlNJU1RFTlRcIiwgSElHSEVSX0RFTlNJVFk6XCJISUdIRVJfREVOU0lUWVwiLCBVTktOT1dOX1RISU5OSU5HX1NUUkFURUdZOlwiVU5LTk9XTl9USElOTklOR19TVFJBVEVHWVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnNUaGlubmluZ1N0cmF0ZWd5RW51bS5VTktOT1dOX1RISU5OSU5HX1NUUkFURUdZLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc1RoaW5uaW5nU3RyYXRlZ3lFbnVtLkdMT0JBTExZX0NPTlNJU1RFTlQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zVGhpbm5pbmdTdHJhdGVneUVudW0uSElHSEVSX0RFTlNJVFldO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklUaHVtYm5haWxGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUaHVtYm5haWxGaWxlRm9ybWF0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtID0ge0FVVE9fSlBFR19QTkc6XCJBVVRPX0pQRUdfUE5HXCIsIEdFT19USUZGOlwiR0VPX1RJRkZcIiwgSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQ6XCJJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRFwiLCBKUEVHOlwiSlBFR1wiLCBNVUxUSV9CQU5EX0lNQUdFX1RJTEU6XCJNVUxUSV9CQU5EX0lNQUdFX1RJTEVcIiwgTlBZOlwiTlBZXCIsIFBORzpcIlBOR1wiLCBURl9SRUNPUkRfSU1BR0U6XCJURl9SRUNPUkRfSU1BR0VcIiwgWklQUEVEX0dFT19USUZGOlwiWklQUEVEX0dFT19USUZGXCIsIFpJUFBFRF9HRU9fVElGRl9QRVJfQkFORDpcIlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5JTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5KUEVHLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLlBORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5BVVRPX0pQRUdfUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLk5QWSwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uR0VPX1RJRkYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uVEZfUkVDT1JEX0lNQUdFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLk1VTFRJX0JBTkRfSU1BR0VfVElMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bSA9IHtNQVg6XCJNQVhcIiwgTUVBTjpcIk1FQU5cIiwgTUVESUFOOlwiTUVESUFOXCIsIE1JTjpcIk1JTlwiLCBNT0RFOlwiTU9ERVwiLCBQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRDpcIlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEXCIsIFNBTVBMRTpcIlNBTVBMRVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uTUVBTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLlNBTVBMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1JTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1BWCwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5NT0RFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uTUVESUFOXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVGlsZXNldERhdGFUeXBlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUaWxlc2V0RGF0YVR5cGVFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bSA9IHtEQVRBX1RZUEVfVU5TUEVDSUZJRUQ6XCJEQVRBX1RZUEVfVU5TUEVDSUZJRURcIiwgRE9VQkxFOlwiRE9VQkxFXCIsIEZMT0FUOlwiRkxPQVRcIiwgSU5UMTY6XCJJTlQxNlwiLCBJTlQzMjpcIklOVDMyXCIsIElOVDg6XCJJTlQ4XCIsIFVJTlQxNjpcIlVJTlQxNlwiLCBVSU5UMzI6XCJVSU5UMzJcIiwgVUlOVDg6XCJVSU5UOFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtLkRBVEFfVFlQRV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtLklOVDgsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bS5VSU5UOCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtLklOVDE2LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW0uVUlOVDE2LCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtLklOVDMyLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW0uVUlOVDMyLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW0uRkxPQVQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bS5ET1VCTEVdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklWaWRlb0ZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JVmlkZW9GaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtID0ge0dJRjpcIkdJRlwiLCBNUDQ6XCJNUDRcIiwgVklERU9fRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQ6XCJWSURFT19GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRFwiLCBWUDk6XCJWUDlcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLlZJREVPX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5NUDQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLkdJRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uVlA5XTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVmlkZW9UaHVtYm5haWxGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lWaWRlb1RodW1ibmFpbEZpbGVGb3JtYXRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWxGaWxlRm9ybWF0RW51bSA9IHtHSUY6XCJHSUZcIiwgTVA0OlwiTVA0XCIsIFZJREVPX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEOlwiVklERU9fRklMRV9GT1JNQVRfVU5TUEVDSUZJRURcIiwgVlA5OlwiVlA5XCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uVklERU9fRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5NUDQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5HSUYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5WUDldO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9BZmZpbmVUcmFuc2Zvcm1QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWZmaW5lVHJhbnNmb3JtID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzY2FsZVhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNjYWxlWCA/IG51bGwgOiBwYXJhbWV0ZXJzLnNjYWxlWCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNoZWFyWFwiLCBudWxsID09IHBhcmFtZXRlcnMuc2hlYXJYID8gbnVsbCA6IHBhcmFtZXRlcnMuc2hlYXJYKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHJhbnNsYXRlWFwiLCBudWxsID09IHBhcmFtZXRlcnMudHJhbnNsYXRlWCA/IG51bGwgOiBwYXJhbWV0ZXJzLnRyYW5zbGF0ZVgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzaGVhcllcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNoZWFyWSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNoZWFyWSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNjYWxlWVwiLCBudWxsID09IHBhcmFtZXRlcnMuc2NhbGVZID8gbnVsbCA6IHBhcmFtZXRlcnMuc2NhbGVZKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHJhbnNsYXRlWVwiLCBudWxsID09IHBhcmFtZXRlcnMudHJhbnNsYXRlWSA/IG51bGwgOiBwYXJhbWV0ZXJzLnRyYW5zbGF0ZVkpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BZmZpbmVUcmFuc2Zvcm0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWZmaW5lVHJhbnNmb3JtLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BZmZpbmVUcmFuc2Zvcm07XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BZmZpbmVUcmFuc2Zvcm0ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpcInNjYWxlWCBzY2FsZVkgc2hlYXJYIHNoZWFyWSB0cmFuc2xhdGVYIHRyYW5zbGF0ZVlcIi5zcGxpdChcIiBcIil9O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWZmaW5lVHJhbnNmb3JtLnByb3RvdHlwZSwge3NjYWxlWDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzY2FsZVhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzY2FsZVhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNjYWxlWFwiLCB2YWx1ZSk7XG59fSwgc2NhbGVZOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNjYWxlWVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNjYWxlWVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NhbGVZXCIsIHZhbHVlKTtcbn19LCBzaGVhclg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2hlYXJYXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic2hlYXJYXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzaGVhclhcIiwgdmFsdWUpO1xufX0sIHNoZWFyWTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzaGVhcllcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzaGVhcllcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNoZWFyWVwiLCB2YWx1ZSk7XG59fSwgdHJhbnNsYXRlWDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0cmFuc2xhdGVYXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidHJhbnNsYXRlWFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHJhbnNsYXRlWFwiLCB2YWx1ZSk7XG59fSwgdHJhbnNsYXRlWTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0cmFuc2xhdGVZXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidHJhbnNsYXRlWVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHJhbnNsYXRlWVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG1QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQWxnb3JpdGhtUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJldHVyblR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJldHVyblR5cGUgPyBudWxsIDogcGFyYW1ldGVycy5yZXR1cm5UeXBlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJndW1lbnRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hcmd1bWVudHMgPyBudWxsIDogcGFyYW1ldGVycy5hcmd1bWVudHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXByZWNhdGVkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXByZWNhdGVkID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVwcmVjYXRlZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlcHJlY2F0aW9uUmVhc29uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXByZWNhdGlvblJlYXNvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlcHJlY2F0aW9uUmVhc29uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaGlkZGVuXCIsIG51bGwgPT0gcGFyYW1ldGVycy5oaWRkZW4gPyBudWxsIDogcGFyYW1ldGVycy5oaWRkZW4pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmV2aWV3XCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcmV2aWV3ID8gbnVsbCA6IHBhcmFtZXRlcnMucHJldmlldyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNvdXJjZUNvZGVVcmlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNvdXJjZUNvZGVVcmkgPyBudWxsIDogcGFyYW1ldGVycy5zb3VyY2VDb2RlVXJpKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7YXJndW1lbnRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtQXJndW1lbnR9LCBrZXlzOlwiYXJndW1lbnRzIGRlcHJlY2F0ZWQgZGVwcmVjYXRpb25SZWFzb24gZGVzY3JpcHRpb24gaGlkZGVuIG5hbWUgcHJldmlldyByZXR1cm5UeXBlIHNvdXJjZUNvZGVVcmlcIi5zcGxpdChcIiBcIil9O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtLnByb3RvdHlwZSwge2FyZ3VtZW50czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhcmd1bWVudHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhcmd1bWVudHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFyZ3VtZW50c1wiLCB2YWx1ZSk7XG59fSwgZGVwcmVjYXRlZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXByZWNhdGVkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVwcmVjYXRlZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVwcmVjYXRlZFwiLCB2YWx1ZSk7XG59fSwgZGVwcmVjYXRpb25SZWFzb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVwcmVjYXRpb25SZWFzb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXByZWNhdGlvblJlYXNvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVwcmVjYXRpb25SZWFzb25cIiwgdmFsdWUpO1xufX0sIGRlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBoaWRkZW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaGlkZGVuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaGlkZGVuXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJoaWRkZW5cIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHByZXZpZXc6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJldmlld1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByZXZpZXdcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByZXZpZXdcIiwgdmFsdWUpO1xufX0sIHJldHVyblR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmV0dXJuVHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJldHVyblR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJldHVyblR5cGVcIiwgdmFsdWUpO1xufX0sIHNvdXJjZUNvZGVVcmk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic291cmNlQ29kZVVyaVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNvdXJjZUNvZGVVcmlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNvdXJjZUNvZGVVcmlcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtQXJndW1lbnRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQWxnb3JpdGhtQXJndW1lbnRQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtQXJndW1lbnQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFyZ3VtZW50TmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMuYXJndW1lbnROYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuYXJndW1lbnROYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMudHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9wdGlvbmFsXCIsIG51bGwgPT0gcGFyYW1ldGVycy5vcHRpb25hbCA/IG51bGwgOiBwYXJhbWV0ZXJzLm9wdGlvbmFsKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVmYXVsdFZhbHVlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZWZhdWx0VmFsdWUgPyBudWxsIDogcGFyYW1ldGVycy5kZWZhdWx0VmFsdWUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG1Bcmd1bWVudCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG1Bcmd1bWVudC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtQXJndW1lbnQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG1Bcmd1bWVudC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFyZ3VtZW50TmFtZVwiLCBcImRlZmF1bHRWYWx1ZVwiLCBcImRlc2NyaXB0aW9uXCIsIFwib3B0aW9uYWxcIiwgXCJ0eXBlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobUFyZ3VtZW50LnByb3RvdHlwZSwge2FyZ3VtZW50TmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhcmd1bWVudE5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhcmd1bWVudE5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFyZ3VtZW50TmFtZVwiLCB2YWx1ZSk7XG59fSwgZGVmYXVsdFZhbHVlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlZmF1bHRWYWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlZmF1bHRWYWx1ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVmYXVsdFZhbHVlXCIsIHZhbHVlKTtcbn19LCBkZXNjcmlwdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc2NyaXB0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCB2YWx1ZSk7XG59fSwgb3B0aW9uYWw6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwib3B0aW9uYWxcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvcHRpb25hbFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3B0aW9uYWxcIiwgdmFsdWUpO1xufX0sIHR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXJyYXlWYWx1ZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9BcnJheVZhbHVlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFycmF5VmFsdWUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmFsdWVzID8gbnVsbCA6IHBhcmFtZXRlcnMudmFsdWVzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXJyYXlWYWx1ZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcnJheVZhbHVlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcnJheVZhbHVlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXJyYXlWYWx1ZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e3ZhbHVlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZX0sIGtleXM6W1widmFsdWVzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFycmF5VmFsdWUucHJvdG90eXBlLCB7dmFsdWVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZhbHVlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZhbHVlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0Q29uZmlnUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0F1ZGl0Q29uZmlnUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0Q29uZmlnID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzZXJ2aWNlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zZXJ2aWNlID8gbnVsbCA6IHBhcmFtZXRlcnMuc2VydmljZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4ZW1wdGVkTWVtYmVyc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZXhlbXB0ZWRNZW1iZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhlbXB0ZWRNZW1iZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXVkaXRMb2dDb25maWdzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hdWRpdExvZ0NvbmZpZ3MgPyBudWxsIDogcGFyYW1ldGVycy5hdWRpdExvZ0NvbmZpZ3MpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdENvbmZpZywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdENvbmZpZy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRDb25maWc7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdENvbmZpZy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2F1ZGl0TG9nQ29uZmlnczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnfSwga2V5czpbXCJhdWRpdExvZ0NvbmZpZ3NcIiwgXCJleGVtcHRlZE1lbWJlcnNcIiwgXCJzZXJ2aWNlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0Q29uZmlnLnByb3RvdHlwZSwge2F1ZGl0TG9nQ29uZmlnczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhdWRpdExvZ0NvbmZpZ3NcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhdWRpdExvZ0NvbmZpZ3NcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF1ZGl0TG9nQ29uZmlnc1wiLCB2YWx1ZSk7XG59fSwgZXhlbXB0ZWRNZW1iZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4ZW1wdGVkTWVtYmVyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4ZW1wdGVkTWVtYmVyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhlbXB0ZWRNZW1iZXJzXCIsIHZhbHVlKTtcbn19LCBzZXJ2aWNlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNlcnZpY2VcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzZXJ2aWNlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzZXJ2aWNlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0F1ZGl0TG9nQ29uZmlnUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2dUeXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5sb2dUeXBlID8gbnVsbCA6IHBhcmFtZXRlcnMubG9nVHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4ZW1wdGVkTWVtYmVyc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZXhlbXB0ZWRNZW1iZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhlbXB0ZWRNZW1iZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWdub3JlQ2hpbGRFeGVtcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pZ25vcmVDaGlsZEV4ZW1wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5pZ25vcmVDaGlsZEV4ZW1wdGlvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWc7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7bG9nVHlwZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnTG9nVHlwZUVudW19LCBrZXlzOltcImV4ZW1wdGVkTWVtYmVyc1wiLCBcImlnbm9yZUNoaWxkRXhlbXB0aW9uc1wiLCBcImxvZ1R5cGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWcucHJvdG90eXBlLCB7ZXhlbXB0ZWRNZW1iZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4ZW1wdGVkTWVtYmVyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4ZW1wdGVkTWVtYmVyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhlbXB0ZWRNZW1iZXJzXCIsIHZhbHVlKTtcbn19LCBpZ25vcmVDaGlsZEV4ZW1wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaWdub3JlQ2hpbGRFeGVtcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaWdub3JlQ2hpbGRFeGVtcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpZ25vcmVDaGlsZEV4ZW1wdGlvbnNcIiwgdmFsdWUpO1xufX0sIGxvZ1R5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibG9nVHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImxvZ1R5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImxvZ1R5cGVcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWcsIHtMb2dUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWdMb2dUeXBlRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uVHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMucGVybWlzc2lvblR5cGUgPyBudWxsIDogcGFyYW1ldGVycy5wZXJtaXNzaW9uVHlwZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7cGVybWlzc2lvblR5cGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQZXJtaXNzaW9uVHlwZUVudW19LCBrZXlzOltcInBlcm1pc3Npb25UeXBlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9ucy5wcm90b3R5cGUsIHtwZXJtaXNzaW9uVHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwZXJtaXNzaW9uVHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBlcm1pc3Npb25UeXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uVHlwZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnMsIHtQZXJtaXNzaW9uVHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbmRpbmdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQmluZGluZ1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaW5kaW5nID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyb2xlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yb2xlID8gbnVsbCA6IHBhcmFtZXRlcnMucm9sZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1lbWJlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1lbWJlcnMgPyBudWxsIDogcGFyYW1ldGVycy5tZW1iZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29uZGl0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jb25kaXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5jb25kaXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiaW5kaW5nSWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJpbmRpbmdJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmJpbmRpbmdJZCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbmRpbmcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbmRpbmcucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJiaW5kaW5nSWRcIiwgXCJjb25kaXRpb25cIiwgXCJtZW1iZXJzXCIsIFwicm9sZVwiXSwgb2JqZWN0czp7Y29uZGl0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZy5wcm90b3R5cGUsIHtiaW5kaW5nSWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmluZGluZ0lkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmluZGluZ0lkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiaW5kaW5nSWRcIiwgdmFsdWUpO1xufX0sIGNvbmRpdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb25kaXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjb25kaXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbmRpdGlvblwiLCB2YWx1ZSk7XG59fSwgbWVtYmVyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtZW1iZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWVtYmVyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWVtYmVyc1wiLCB2YWx1ZSk7XG59fSwgcm9sZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyb2xlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicm9sZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicm9sZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NhbmNlbE9wZXJhdGlvblJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltdfTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9DYXBhYmlsaXRpZXNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjYXBhYmlsaXRpZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNhcGFiaWxpdGllcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmNhcGFiaWxpdGllcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllcywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllcztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllcy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7Y2FwYWJpbGl0aWVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bX0sIGtleXM6W1wiY2FwYWJpbGl0aWVzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllcy5wcm90b3R5cGUsIHtjYXBhYmlsaXRpZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY2FwYWJpbGl0aWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2FwYWJpbGl0aWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjYXBhYmlsaXRpZXNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzLCB7Q2FwYWJpbGl0aWVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsYXNzaWZpZXJBc3NldEV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5lYXJ0aEVuZ2luZURlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZWFydGhFbmdpbmVEZXN0aW5hdGlvbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsYXNzaWZpZXJBc3NldEV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsYXNzaWZpZXJBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCJdLCBvYmplY3RzOntlYXJ0aEVuZ2luZURlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVEZXN0aW5hdGlvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUsIHtlYXJ0aEVuZ2luZURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0Nsb3VkQXVkaXRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2dOYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5sb2dOYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubG9nTmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuYXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2xvZ05hbWU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9uc0xvZ05hbWVFbnVtfSwga2V5czpbXCJhdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNcIiwgXCJsb2dOYW1lXCJdLCBvYmplY3RzOnthdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zLnByb3RvdHlwZSwge2F1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgbG9nTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJsb2dOYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibG9nTmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9nTmFtZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9ucywge0xvZ05hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9uc0xvZ05hbWVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldFwiLCBudWxsID09IHBhcmFtZXRlcnMuYnVja2V0ID8gbnVsbCA6IHBhcmFtZXRlcnMuYnVja2V0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZW5hbWVQcmVmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVuYW1lUHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZW5hbWVQcmVmaXgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMucGVybWlzc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy5wZXJtaXNzaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldENvcnNVcmlzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5idWNrZXRDb3JzVXJpcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJ1Y2tldENvcnNVcmlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3Blcm1pc3Npb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW19LCBrZXlzOltcImJ1Y2tldFwiLCBcImJ1Y2tldENvcnNVcmlzXCIsIFwiZmlsZW5hbWVQcmVmaXhcIiwgXCJwZXJtaXNzaW9uc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbi5wcm90b3R5cGUsIHtidWNrZXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYnVja2V0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYnVja2V0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJidWNrZXRcIiwgdmFsdWUpO1xufX0sIGJ1Y2tldENvcnNVcmlzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJ1Y2tldENvcnNVcmlzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYnVja2V0Q29yc1VyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldENvcnNVcmlzXCIsIHZhbHVlKTtcbn19LCBmaWxlbmFtZVByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlbmFtZVByZWZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVuYW1lUHJlZml4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVByZWZpeFwiLCB2YWx1ZSk7XG59fSwgcGVybWlzc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGVybWlzc2lvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwZXJtaXNzaW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvbnNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb24sIHtQZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlTG9jYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ2xvdWRTdG9yYWdlTG9jYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlTG9jYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVyaXMgPyBudWxsIDogcGFyYW1ldGVycy51cmlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlTG9jYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlTG9jYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZUxvY2F0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlTG9jYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJ1cmlzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZUxvY2F0aW9uLnByb3RvdHlwZSwge3VyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXJpc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Db21wdXRlRmVhdHVyZXNSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1JlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGFnZVNpemVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBhZ2VTaXplID8gbnVsbCA6IHBhcmFtZXRlcnMucGFnZVNpemUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYWdlVG9rZW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBhZ2VUb2tlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnBhZ2VUb2tlbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1JlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1JlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJleHByZXNzaW9uXCIsIFwicGFnZVNpemVcIiwgXCJwYWdlVG9rZW5cIl0sIG9iamVjdHM6e2V4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXF1ZXN0LnByb3RvdHlwZSwge2V4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIHBhZ2VTaXplOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBhZ2VTaXplXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGFnZVNpemVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhZ2VTaXplXCIsIHZhbHVlKTtcbn19LCBwYWdlVG9rZW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGFnZVRva2VuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGFnZVRva2VuXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYWdlVG9rZW5cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVzcG9uc2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ29tcHV0ZUZlYXR1cmVzUmVzcG9uc2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVzcG9uc2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnR5cGUgPyBudWxsIDogcGFyYW1ldGVycy50eXBlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZlYXR1cmVzID8gbnVsbCA6IHBhcmFtZXRlcnMuZmVhdHVyZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuID8gbnVsbCA6IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1Jlc3BvbnNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXNwb25zZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7ZmVhdHVyZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlfSwga2V5czpbXCJmZWF0dXJlc1wiLCBcIm5leHRQYWdlVG9rZW5cIiwgXCJ0eXBlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1Jlc3BvbnNlLnByb3RvdHlwZSwge2ZlYXR1cmVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZlYXR1cmVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmVhdHVyZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVzXCIsIHZhbHVlKTtcbn19LCBuZXh0UGFnZVRva2VuOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5leHRQYWdlVG9rZW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuZXh0UGFnZVRva2VuXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIHZhbHVlKTtcbn19LCB0eXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0eXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbXB1dGVJbWFnZXNSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhZ2VTaXplXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wYWdlU2l6ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnBhZ2VTaXplKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGFnZVRva2VuXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wYWdlVG9rZW4gPyBudWxsIDogcGFyYW1ldGVycy5wYWdlVG9rZW4pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1JlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImV4cHJlc3Npb25cIiwgXCJwYWdlU2l6ZVwiLCBcInBhZ2VUb2tlblwiXSwgb2JqZWN0czp7ZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXF1ZXN0LnByb3RvdHlwZSwge2V4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIHBhZ2VTaXplOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBhZ2VTaXplXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGFnZVNpemVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhZ2VTaXplXCIsIHZhbHVlKTtcbn19LCBwYWdlVG9rZW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGFnZVRva2VuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGFnZVRva2VuXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYWdlVG9rZW5cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1Jlc3BvbnNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbXB1dGVJbWFnZXNSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImltYWdlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuaW1hZ2VzID8gbnVsbCA6IHBhcmFtZXRlcnMuaW1hZ2VzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntpbWFnZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0fSwga2V5czpbXCJpbWFnZXNcIiwgXCJuZXh0UGFnZVRva2VuXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXNwb25zZS5wcm90b3R5cGUsIHtpbWFnZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaW1hZ2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW1hZ2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbWFnZXNcIiwgdmFsdWUpO1xufX0sIG5leHRQYWdlVG9rZW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmV4dFBhZ2VUb2tlblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5leHRQYWdlVG9rZW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ29tcHV0ZVBpeGVsc1JlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ncmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuZ3JpZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRJZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYW5kSWRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7ZmlsZUZvcm1hdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW19LCBrZXlzOltcImJhbmRJZHNcIiwgXCJleHByZXNzaW9uXCIsIFwiZmlsZUZvcm1hdFwiLCBcImdyaWRcIiwgXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiXSwgb2JqZWN0czp7ZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIGdyaWQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQsIHZpc3VhbGl6YXRpb25PcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0LnByb3RvdHlwZSwge2JhbmRJZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZElkc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdyaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ3JpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdyaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgdmFsdWUpO1xufX0sIHZpc3VhbGl6YXRpb25PcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpc3VhbGl6YXRpb25PcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpc3VhbGl6YXRpb25PcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0LCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbXB1dGVWYWx1ZVJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZXhwcmVzc2lvblwiXSwgb2JqZWN0czp7ZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlcXVlc3QucHJvdG90eXBlLCB7ZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Db21wdXRlVmFsdWVSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXNwb25zZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVzdWx0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXN1bHQgPyBudWxsIDogcGFyYW1ldGVycy5yZXN1bHQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXNwb25zZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInJlc3VsdFwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXNwb25zZS5wcm90b3R5cGUsIHtyZXN1bHQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVzdWx0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVzdWx0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXN1bHRcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbmRpdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlhbVwiLCBudWxsID09IHBhcmFtZXRlcnMuaWFtID8gbnVsbCA6IHBhcmFtZXRlcnMuaWFtKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3lzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zeXMgPyBudWxsIDogcGFyYW1ldGVycy5zeXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdmNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN2YyA/IG51bGwgOiBwYXJhbWV0ZXJzLnN2Yyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9wXCIsIG51bGwgPT0gcGFyYW1ldGVycy5vcCA/IG51bGwgOiBwYXJhbWV0ZXJzLm9wKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy52YWx1ZXMgPyBudWxsIDogcGFyYW1ldGVycy52YWx1ZXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2lhbTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW0sIG9wOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uT3BFbnVtLCBzeXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25TeXNFbnVtfSwga2V5czpbXCJpYW1cIiwgXCJvcFwiLCBcInN2Y1wiLCBcInN5c1wiLCBcInZhbHVlc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb24ucHJvdG90eXBlLCB7aWFtOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImlhbVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImlhbVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWFtXCIsIHZhbHVlKTtcbn19LCBvcDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvcFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm9wXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcFwiLCB2YWx1ZSk7XG59fSwgc3ZjOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN2Y1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN2Y1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3ZjXCIsIHZhbHVlKTtcbn19LCBzeXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3lzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3lzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzeXNcIiwgdmFsdWUpO1xufX0sIHZhbHVlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2YWx1ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2YWx1ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb24sIHtJYW06e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25JYW1FbnVtO1xufX0sIE9wOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uT3BFbnVtO1xufX0sIFN5czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvblN5c0VudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvcHlBc3NldFJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29weUFzc2V0UmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzdGluYXRpb25OYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXN0aW5hdGlvbk5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5kZXN0aW5hdGlvbk5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvdmVyd3JpdGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm92ZXJ3cml0ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm92ZXJ3cml0ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRJZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYW5kSWRzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29weUFzc2V0UmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29weUFzc2V0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImJhbmRJZHNcIiwgXCJkZXN0aW5hdGlvbk5hbWVcIiwgXCJvdmVyd3JpdGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29weUFzc2V0UmVxdWVzdC5wcm90b3R5cGUsIHtiYW5kSWRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJhbmRJZHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJiYW5kSWRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kSWRzXCIsIHZhbHVlKTtcbn19LCBkZXN0aW5hdGlvbk5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzdGluYXRpb25OYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzdGluYXRpb25OYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvbk5hbWVcIiwgdmFsdWUpO1xufX0sIG92ZXJ3cml0ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvdmVyd3JpdGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvdmVyd3JpdGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm92ZXJ3cml0ZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Db3VudGVyT3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWV0cmljXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tZXRyaWMgPyBudWxsIDogcGFyYW1ldGVycy5tZXRyaWMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWVsZFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmllbGQgPyBudWxsIDogcGFyYW1ldGVycy5maWVsZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImN1c3RvbUZpZWxkc1wiLCBudWxsID09IHBhcmFtZXRlcnMuY3VzdG9tRmllbGRzID8gbnVsbCA6IHBhcmFtZXRlcnMuY3VzdG9tRmllbGRzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ291bnRlck9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ291bnRlck9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvdW50ZXJPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ291bnRlck9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntjdXN0b21GaWVsZHM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DdXN0b21GaWVsZH0sIGtleXM6W1wiY3VzdG9tRmllbGRzXCIsIFwiZmllbGRcIiwgXCJtZXRyaWNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ291bnRlck9wdGlvbnMucHJvdG90eXBlLCB7Y3VzdG9tRmllbGRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImN1c3RvbUZpZWxkc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImN1c3RvbUZpZWxkc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3VzdG9tRmllbGRzXCIsIHZhbHVlKTtcbn19LCBmaWVsZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWVsZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpZWxkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWVsZFwiLCB2YWx1ZSk7XG59fSwgbWV0cmljOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1ldHJpY1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1ldHJpY1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWV0cmljXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkN1c3RvbUZpZWxkUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0N1c3RvbUZpZWxkUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkN1c3RvbUZpZWxkID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlXCIsIG51bGwgPT0gcGFyYW1ldGVycy52YWx1ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnZhbHVlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ3VzdG9tRmllbGQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ3VzdG9tRmllbGQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkN1c3RvbUZpZWxkO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ3VzdG9tRmllbGQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJuYW1lXCIsIFwidmFsdWVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ3VzdG9tRmllbGQucHJvdG90eXBlLCB7bmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgdmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmFsdWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2YWx1ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRE1TTWFwUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0RNU01hcFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ETVNNYXAgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5hc3NldCA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zTmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZG1zTmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRtc05hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpc3VhbGl6YXRpb25PcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy52aXN1YWxpemF0aW9uT3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25PcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25FeHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbkV4cHJlc3Npb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ETVNNYXAsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRE1TTWFwLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ETVNNYXA7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ETVNNYXAucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhc3NldFwiLCBcImRtc05hbWVcIiwgXCJuYW1lXCIsIFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIiwgXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiXSwgb2JqZWN0czp7dmlzdWFsaXphdGlvbkV4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ETVNNYXAucHJvdG90eXBlLCB7YXNzZXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXNzZXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRcIiwgdmFsdWUpO1xufX0sIGRtc05hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZG1zTmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRtc05hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRtc05hbWVcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHZpc3VhbGl6YXRpb25FeHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpc3VhbGl6YXRpb25FeHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpc3VhbGl6YXRpb25FeHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCB2aXN1YWxpemF0aW9uT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZpc3VhbGl6YXRpb25PcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9EYXRhQWNjZXNzT3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9nTW9kZVwiLCBudWxsID09IHBhcmFtZXRlcnMubG9nTW9kZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmxvZ01vZGUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGF0YUFjY2Vzc09wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7bG9nTW9kZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zTG9nTW9kZUVudW19LCBrZXlzOltcImxvZ01vZGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGF0YUFjY2Vzc09wdGlvbnMucHJvdG90eXBlLCB7bG9nTW9kZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJsb2dNb2RlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibG9nTW9kZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9nTW9kZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucywge0xvZ01vZGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9uc0xvZ01vZGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0RpY3Rpb25hcnlWYWx1ZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EaWN0aW9uYXJ5VmFsdWUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmFsdWVzID8gbnVsbCA6IHBhcmFtZXRlcnMudmFsdWVzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRpY3Rpb25hcnlWYWx1ZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1widmFsdWVzXCJdLCBvYmplY3RNYXBzOnt2YWx1ZXM6e2N0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITAsIGlzVmFsdWVBcnJheTohMX19fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRpY3Rpb25hcnlWYWx1ZS5wcm90b3R5cGUsIHt2YWx1ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmFsdWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmFsdWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0Rtc0Fzc2V0RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBc3NldEV4cG9ydE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRtc0Rlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kbXNEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRtc0Rlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMuaW5nZXN0aW9uVGltZVBhcmFtZXRlcnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBc3NldEV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBc3NldEV4cG9ydE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJkbXNEZXN0aW5hdGlvblwiLCBcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCJdLCBvYmplY3RzOntkbXNEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Rlc3RpbmF0aW9uLCBpbmdlc3Rpb25UaW1lUGFyYW1ldGVyczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLCB7ZG1zRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZG1zRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkbXNEZXN0aW5hdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9EbXNBdHRyaWJ1dGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnR5cGUgPyBudWxsIDogcGFyYW1ldGVycy50eXBlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOnt0eXBlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlVHlwZUVudW19LCBrZXlzOltcIm5hbWVcIiwgXCJ0eXBlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZS5wcm90b3R5cGUsIHtuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCB0eXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0eXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZSwge1R5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBdHRyaWJ1dGVUeXBlRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Rlc3RpbmF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0Rtc0Rlc3RpbmF0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Rlc3RpbmF0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkbXNOYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kbXNOYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZG1zTmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0VmVyc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXRWZXJzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXRWZXJzaW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zRGVzdGluYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zRGVzdGluYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Rlc3RpbmF0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zRGVzdGluYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhc3NldFZlcnNpb25cIiwgXCJkbXNOYW1lXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Rlc3RpbmF0aW9uLnByb3RvdHlwZSwge2Fzc2V0VmVyc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhc3NldFZlcnNpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldFZlcnNpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0VmVyc2lvblwiLCB2YWx1ZSk7XG59fSwgZG1zTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkbXNOYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZG1zTmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zTmFtZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNJbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9EbXNJbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNJbmdlc3Rpb25UaW1lUGFyYW1ldGVycyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGhpbm5pbmdPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aGlubmluZ09wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy50aGlubmluZ09wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5raW5nT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMucmFua2luZ09wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5yYW5raW5nT3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNJbmdlc3Rpb25UaW1lUGFyYW1ldGVycztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wicmFua2luZ09wdGlvbnNcIiwgXCJ0aGlubmluZ09wdGlvbnNcIl0sIG9iamVjdHM6e3JhbmtpbmdPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMsIHRoaW5uaW5nT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zSW5nZXN0aW9uVGltZVBhcmFtZXRlcnMucHJvdG90eXBlLCB7cmFua2luZ09wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmFua2luZ09wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyYW5raW5nT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua2luZ09wdGlvbnNcIiwgdmFsdWUpO1xufX0sIHRoaW5uaW5nT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aGlubmluZ09wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aGlubmluZ09wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRoaW5uaW5nT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNMb2NhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9EbXNMb2NhdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNMb2NhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9jYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmxvY2F0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMubG9jYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkbXNBc3NldE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRtc0Fzc2V0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmRtc0Fzc2V0T3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0xvY2F0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0xvY2F0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNMb2NhdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0xvY2F0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZG1zQXNzZXRPcHRpb25zXCIsIFwibG9jYXRpb25cIl0sIG9iamVjdHM6e2Rtc0Fzc2V0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc09wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0xvY2F0aW9uLnByb3RvdHlwZSwge2Rtc0Fzc2V0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkbXNBc3NldE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkbXNBc3NldE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRtc0Fzc2V0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgbG9jYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibG9jYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJsb2NhdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9jYXRpb25cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zT3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9EbXNPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc09wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF0dHJpYnV0ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmF0dHJpYnV0ZXMgPyBudWxsIDogcGFyYW1ldGVycy5hdHRyaWJ1dGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zQXR0cmlidXRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZG1zQXR0cmlidXRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmRtc0F0dHJpYnV0ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiLCBudWxsID09IHBhcmFtZXRlcnMuaW5nZXN0aW9uVGltZVBhcmFtZXRlcnMgPyBudWxsIDogcGFyYW1ldGVycy5pbmdlc3Rpb25UaW1lUGFyYW1ldGVycyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc09wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zT3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc09wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntkbXNBdHRyaWJ1dGVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlfSwga2V5czpbXCJhdHRyaWJ1dGVzXCIsIFwiZG1zQXR0cmlidXRlc1wiLCBcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCJdLCBvYmplY3RzOntpbmdlc3Rpb25UaW1lUGFyYW1ldGVyczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNPcHRpb25zLnByb3RvdHlwZSwge2F0dHJpYnV0ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXR0cmlidXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImF0dHJpYnV0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF0dHJpYnV0ZXNcIiwgdmFsdWUpO1xufX0sIGRtc0F0dHJpYnV0ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZG1zQXR0cmlidXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRtc0F0dHJpYnV0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRtc0F0dHJpYnV0ZXNcIiwgdmFsdWUpO1xufX0sIGluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRvdWJsZVJhbmdlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0RvdWJsZVJhbmdlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRvdWJsZVJhbmdlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1pbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm1pbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFwiLCBudWxsID09IHBhcmFtZXRlcnMubWF4ID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRvdWJsZVJhbmdlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJtYXhcIiwgXCJtaW5cIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2UucHJvdG90eXBlLCB7bWF4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4XCIsIHZhbHVlKTtcbn19LCBtaW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWluXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWluXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Ecml2ZURlc3RpbmF0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZvbGRlclwiLCBudWxsID09IHBhcmFtZXRlcnMuZm9sZGVyID8gbnVsbCA6IHBhcmFtZXRlcnMuZm9sZGVyKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZW5hbWVQcmVmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVuYW1lUHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZW5hbWVQcmVmaXgpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Ecml2ZURlc3RpbmF0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Ecml2ZURlc3RpbmF0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZmlsZW5hbWVQcmVmaXhcIiwgXCJmb2xkZXJcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbi5wcm90b3R5cGUsIHtmaWxlbmFtZVByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlbmFtZVByZWZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVuYW1lUHJlZml4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVByZWZpeFwiLCB2YWx1ZSk7XG59fSwgZm9sZGVyOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZvbGRlclwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZvbGRlclwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZm9sZGVyXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRWFydGhFbmdpbmVBc3NldFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc3RvcmVMb2NhdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXN0b3JlTG9jYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy50aWxlc3RvcmVMb2NhdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkU3RvcmFnZUxvY2F0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jbG91ZFN0b3JhZ2VMb2NhdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmNsb3VkU3RvcmFnZUxvY2F0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXN0b3JlRW50cnlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVzdG9yZUVudHJ5ID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZXN0b3JlRW50cnkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnY3NMb2NhdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZ2NzTG9jYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5nY3NMb2NhdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVWaWV3QXNzZXRMb2NhdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMudHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmlkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXBkYXRlVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMudXBkYXRlVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnVwZGF0ZVRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aXRsZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGl0bGUgPyBudWxsIDogcGFyYW1ldGVycy50aXRsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCBudWxsID09IHBhcmFtZXRlcnMucHJvcGVydGllcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnByb3BlcnRpZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0YXJ0VGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXJ0VGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVuZFRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5lbmRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvbWV0cnlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdlb21ldHJ5ID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2VvbWV0cnkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYmFuZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYW5kcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNpemVCeXRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc2l6ZUJ5dGVzID8gbnVsbCA6IHBhcmFtZXRlcnMuc2l6ZUJ5dGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZUNvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlQ291bnQgPyBudWxsIDogcGFyYW1ldGVycy5mZWF0dXJlQ291bnQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJxdW90YVwiLCBudWxsID09IHBhcmFtZXRlcnMucXVvdGEgPyBudWxsIDogcGFyYW1ldGVycy5xdW90YSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRtc0Fzc2V0TG9jYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRtc0Fzc2V0TG9jYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kbXNBc3NldExvY2F0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7YmFuZHM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmR9LCBlbnVtczp7dHlwZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXRUeXBlRW51bX0sIGtleXM6XCJiYW5kcyBjbG91ZFN0b3JhZ2VMb2NhdGlvbiBkZXNjcmlwdGlvbiBkbXNBc3NldExvY2F0aW9uIGVuZFRpbWUgZXhwcmVzc2lvbiBmZWF0dXJlQ291bnQgZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uIGdjc0xvY2F0aW9uIGdlb21ldHJ5IGlkIG5hbWUgcHJvcGVydGllcyBxdW90YSBzaXplQnl0ZXMgc3RhcnRUaW1lIHRpbGVzdG9yZUVudHJ5IHRpbGVzdG9yZUxvY2F0aW9uIHRpdGxlIHR5cGUgdXBkYXRlVGltZVwiLnNwbGl0KFwiIFwiKSwgb2JqZWN0TWFwczp7Z2VvbWV0cnk6e2N0b3I6bnVsbCwgXG4gIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX0sIHByb3BlcnRpZXM6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfX0sIG9iamVjdHM6e2Nsb3VkU3RvcmFnZUxvY2F0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlTG9jYXRpb24sIGRtc0Fzc2V0TG9jYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNMb2NhdGlvbiwgZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIGZlYXR1cmVWaWV3QXNzZXRMb2NhdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3TG9jYXRpb24sIFxuICBnY3NMb2NhdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0xvY2F0aW9uLCBxdW90YTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhLCB0aWxlc3RvcmVFbnRyeTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUVudHJ5LCB0aWxlc3RvcmVMb2NhdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUxvY2F0aW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0LnByb3RvdHlwZSwge2JhbmRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJhbmRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmFuZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRzXCIsIHZhbHVlKTtcbn19LCBjbG91ZFN0b3JhZ2VMb2NhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjbG91ZFN0b3JhZ2VMb2NhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNsb3VkU3RvcmFnZUxvY2F0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjbG91ZFN0b3JhZ2VMb2NhdGlvblwiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGRtc0Fzc2V0TG9jYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZG1zQXNzZXRMb2NhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRtc0Fzc2V0TG9jYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRtc0Fzc2V0TG9jYXRpb25cIiwgdmFsdWUpO1xufX0sIGVuZFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZW5kVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVuZFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGZlYXR1cmVDb3VudDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmZWF0dXJlQ291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmZWF0dXJlQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVDb3VudFwiLCB2YWx1ZSk7XG59fSwgZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZlYXR1cmVWaWV3QXNzZXRMb2NhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZlYXR1cmVWaWV3QXNzZXRMb2NhdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uXCIsIHZhbHVlKTtcbn19LCBnY3NMb2NhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnY3NMb2NhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdjc0xvY2F0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnY3NMb2NhdGlvblwiLCB2YWx1ZSk7XG59fSwgZ2VvbWV0cnk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ2VvbWV0cnlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJnZW9tZXRyeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvbWV0cnlcIiwgdmFsdWUpO1xufX0sIGlkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlkXCIsIHZhbHVlKTtcbn19LCBuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCBwcm9wZXJ0aWVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInByb3BlcnRpZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwcm9wZXJ0aWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9wZXJ0aWVzXCIsIHZhbHVlKTtcbn19LCBxdW90YTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJxdW90YVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInF1b3RhXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJxdW90YVwiLCB2YWx1ZSk7XG59fSwgc2l6ZUJ5dGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNpemVCeXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNpemVCeXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2l6ZUJ5dGVzXCIsIHZhbHVlKTtcbn19LCBzdGFydFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhcnRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RhcnRUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgdmFsdWUpO1xufX0sIHRpbGVzdG9yZUVudHJ5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVzdG9yZUVudHJ5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZXN0b3JlRW50cnlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzdG9yZUVudHJ5XCIsIHZhbHVlKTtcbn19LCB0aWxlc3RvcmVMb2NhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc3RvcmVMb2NhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVzdG9yZUxvY2F0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc3RvcmVMb2NhdGlvblwiLCB2YWx1ZSk7XG59fSwgdGl0bGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGl0bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aXRsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGl0bGVcIiwgdmFsdWUpO1xufX0sIHR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgdmFsdWUpO1xufX0sIHVwZGF0ZVRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXBkYXRlVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVwZGF0ZVRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVwZGF0ZVRpbWVcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldCwge1R5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0VhcnRoRW5naW5lRGVzdGluYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVEZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wibmFtZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9uLnByb3RvdHlwZSwge25hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRWFydGhFbmdpbmVNYXBQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXAgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRJZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYW5kSWRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXA7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7ZmlsZUZvcm1hdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW19LCBrZXlzOltcImJhbmRJZHNcIiwgXCJleHByZXNzaW9uXCIsIFwiZmlsZUZvcm1hdFwiLCBcIm5hbWVcIiwgXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiXSwgb2JqZWN0czp7ZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIHZpc3VhbGl6YXRpb25PcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwLnByb3RvdHlwZSwge2JhbmRJZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZElkc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHZpc3VhbGl6YXRpb25PcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpc3VhbGl6YXRpb25PcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpc3VhbGl6YXRpb25PcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwLCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FbXB0eVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRW1wdHksIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRW1wdHkucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVtcHR5O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRW1wdHkucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXX07XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdElkID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdElkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRFeHBvcnRPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hc3NldEV4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5hc3NldEV4cG9ydE9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2Vycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0Q2xhc3NpZmllclJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0Q2xhc3NpZmllclJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0Q2xhc3NpZmllclJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpcImFzc2V0RXhwb3J0T3B0aW9ucyBkZXNjcmlwdGlvbiBleHByZXNzaW9uIG1heFdvcmtlckNvdW50IG1heFdvcmtlcnMgcmVxdWVzdElkXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOnthc3NldEV4cG9ydE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zLCBleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0Q2xhc3NpZmllclJlcXVlc3QucHJvdG90eXBlLCB7YXNzZXRFeHBvcnRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0RXhwb3J0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0RXhwb3J0T3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRFeHBvcnRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBkZXNjcmlwdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc2NyaXB0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCB2YWx1ZSk7XG59fSwgZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgbWF4V29ya2VyQ291bnQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2VyQ291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJDb3VudFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2Vyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFdvcmtlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgdmFsdWUpO1xufX0sIHJlcXVlc3RJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXF1ZXN0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRJbWFnZVJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRXhwb3J0SW1hZ2VSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydEltYWdlUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUV4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVFeHBvcnRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUV4cG9ydE9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldEV4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0RXhwb3J0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0RXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhQaXhlbHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFBpeGVscyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFBpeGVscyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdyaWQgPyBudWxsIDogcGFyYW1ldGVycy5ncmlkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXF1ZXN0SWQgPyBudWxsIDogcGFyYW1ldGVycy5yZXF1ZXN0SWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2Vycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0SW1hZ2VSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydEltYWdlUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0SW1hZ2VSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0SW1hZ2VSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6XCJhc3NldEV4cG9ydE9wdGlvbnMgZGVzY3JpcHRpb24gZXhwcmVzc2lvbiBmaWxlRXhwb3J0T3B0aW9ucyBncmlkIG1heFBpeGVscyBtYXhXb3JrZXJDb3VudCBtYXhXb3JrZXJzIHJlcXVlc3RJZFwiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7YXNzZXRFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnMsIGV4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLCBmaWxlRXhwb3J0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnMsIGdyaWQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWR9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydEltYWdlUmVxdWVzdC5wcm90b3R5cGUsIHthc3NldEV4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXNzZXRFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXNzZXRFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldEV4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIGRlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRXhwb3J0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRXhwb3J0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgZ3JpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJncmlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ3JpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCB2YWx1ZSk7XG59fSwgbWF4UGl4ZWxzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFBpeGVsc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFBpeGVsc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4UGl4ZWxzXCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJDb3VudDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhXb3JrZXJDb3VudFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFdvcmtlckNvdW50XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJDb3VudFwiLCB2YWx1ZSk7XG59fSwgbWF4V29ya2Vyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhXb3JrZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2Vyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2Vyc1wiLCB2YWx1ZSk7XG59fSwgcmVxdWVzdElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlcXVlc3RJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlcXVlc3RJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydE1hcFJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRXhwb3J0TWFwUmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRNYXBSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZU9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZU9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZUV4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlRXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdElkID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdElkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2Vyc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4V29ya2VycyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJDb3VudFwiLCBudWxsID09IHBhcmFtZXRlcnMubWF4V29ya2VyQ291bnQgPyBudWxsIDogcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydE1hcFJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0TWFwUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0TWFwUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydE1hcFJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpcImRlc2NyaXB0aW9uIGV4cHJlc3Npb24gbWF4V29ya2VyQ291bnQgbWF4V29ya2VycyByZXF1ZXN0SWQgdGlsZUV4cG9ydE9wdGlvbnMgdGlsZU9wdGlvbnNcIi5zcGxpdChcIiBcIiksIG9iamVjdHM6e2V4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLCB0aWxlRXhwb3J0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnMsIHRpbGVPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydE1hcFJlcXVlc3QucHJvdG90eXBlLCB7ZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlckNvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlckNvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2VyQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIHZhbHVlKTtcbn19LCByZXF1ZXN0SWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVxdWVzdElkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVxdWVzdElkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgdmFsdWUpO1xufX0sIHRpbGVFeHBvcnRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZUV4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVFeHBvcnRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCB0aWxlT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRUYWJsZVJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRXhwb3J0VGFibGVSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFRhYmxlUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUV4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVFeHBvcnRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUV4cG9ydE9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldEV4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0RXhwb3J0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0RXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRtc0V4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRtc0V4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5kbXNFeHBvcnRPcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlVmlld0V4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5mZWF0dXJlVmlld0V4cG9ydE9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2VsZWN0b3JzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zZWxlY3RvcnMgPyBudWxsIDogcGFyYW1ldGVycy5zZWxlY3RvcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJlcXVlc3RJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlcXVlc3RJZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heEVycm9yTWV0ZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhFcnJvck1ldGVycyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heEVycm9yTWV0ZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2Vyc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4V29ya2VycyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJDb3VudFwiLCBudWxsID09IHBhcmFtZXRlcnMubWF4V29ya2VyQ291bnQgPyBudWxsIDogcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFZlcnRpY2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhWZXJ0aWNlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFZlcnRpY2VzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFRhYmxlUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6XCJhc3NldEV4cG9ydE9wdGlvbnMgZGVzY3JpcHRpb24gZG1zRXhwb3J0T3B0aW9ucyBleHByZXNzaW9uIGZlYXR1cmVWaWV3RXhwb3J0T3B0aW9ucyBmaWxlRXhwb3J0T3B0aW9ucyBtYXhFcnJvck1ldGVycyBtYXhWZXJ0aWNlcyBtYXhXb3JrZXJDb3VudCBtYXhXb3JrZXJzIHJlcXVlc3RJZCBzZWxlY3RvcnNcIi5zcGxpdChcIiBcIiksIG9iamVjdHM6e2Fzc2V0RXhwb3J0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlQXNzZXRFeHBvcnRPcHRpb25zLCBkbXNFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXNzZXRFeHBvcnRPcHRpb25zLCBleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgXG4gIGZlYXR1cmVWaWV3RXhwb3J0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zLCBmaWxlRXhwb3J0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFRhYmxlUmVxdWVzdC5wcm90b3R5cGUsIHthc3NldEV4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXNzZXRFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXNzZXRFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldEV4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIGRlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBkbXNFeHBvcnRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRtc0V4cG9ydE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkbXNFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkbXNFeHBvcnRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmZWF0dXJlVmlld0V4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlVmlld0V4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIGZpbGVFeHBvcnRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUV4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVFeHBvcnRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBtYXhFcnJvck1ldGVyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhFcnJvck1ldGVyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heEVycm9yTWV0ZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhFcnJvck1ldGVyc1wiLCB2YWx1ZSk7XG59fSwgbWF4VmVydGljZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4VmVydGljZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhWZXJ0aWNlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4VmVydGljZXNcIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlckNvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlckNvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2VyQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIHZhbHVlKTtcbn19LCByZXF1ZXN0SWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVxdWVzdElkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVxdWVzdElkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgdmFsdWUpO1xufX0sIHNlbGVjdG9yczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzZWxlY3RvcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzZWxlY3RvcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNlbGVjdG9yc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRXhwb3J0VmlkZW9NYXBSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpZGVvT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmlkZW9PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlkZW9PcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZU9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZU9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZUV4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlRXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdElkID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdElkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmVyc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMudmVyc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnZlcnNpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2Vycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOnt2ZXJzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0VmVyc2lvbkVudW19LCBrZXlzOlwiZGVzY3JpcHRpb24gZXhwcmVzc2lvbiBtYXhXb3JrZXJDb3VudCBtYXhXb3JrZXJzIHJlcXVlc3RJZCB0aWxlRXhwb3J0T3B0aW9ucyB0aWxlT3B0aW9ucyB2ZXJzaW9uIHZpZGVvT3B0aW9uc1wiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7ZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIHRpbGVFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9ucywgdGlsZU9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlT3B0aW9ucywgXG4gIHZpZGVvT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0LnByb3RvdHlwZSwge2Rlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJDb3VudDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhXb3JrZXJDb3VudFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFdvcmtlckNvdW50XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJDb3VudFwiLCB2YWx1ZSk7XG59fSwgbWF4V29ya2Vyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhXb3JrZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2Vyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2Vyc1wiLCB2YWx1ZSk7XG59fSwgcmVxdWVzdElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlcXVlc3RJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlcXVlc3RJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIHZhbHVlKTtcbn19LCB0aWxlRXhwb3J0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlRXhwb3J0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRXhwb3J0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgdGlsZU9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGlsZU9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZU9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIHZlcnNpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmVyc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZlcnNpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZlcnNpb25cIiwgdmFsdWUpO1xufX0sIHZpZGVvT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2aWRlb09wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aWRlb09wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpZGVvT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3QsIHtWZXJzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0VmVyc2lvbkVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb1JlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRXhwb3J0VmlkZW9SZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpZGVvT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmlkZW9PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlkZW9PcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUV4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVFeHBvcnRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUV4cG9ydE9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJlcXVlc3RJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlcXVlc3RJZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlcnMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhXb3JrZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2VyQ291bnQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb1JlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9SZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb1JlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb1JlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpcImRlc2NyaXB0aW9uIGV4cHJlc3Npb24gZmlsZUV4cG9ydE9wdGlvbnMgbWF4V29ya2VyQ291bnQgbWF4V29ya2VycyByZXF1ZXN0SWQgdmlkZW9PcHRpb25zXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgZmlsZUV4cG9ydE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zLCB2aWRlb09wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdC5wcm90b3R5cGUsIHtkZXNjcmlwdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc2NyaXB0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCB2YWx1ZSk7XG59fSwgZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgZmlsZUV4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUV4cG9ydE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUV4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlckNvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlckNvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2VyQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIHZhbHVlKTtcbn19LCByZXF1ZXN0SWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVxdWVzdElkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVxdWVzdElkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgdmFsdWUpO1xufX0sIHZpZGVvT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2aWRlb09wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aWRlb09wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpZGVvT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0V4cHJQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwciA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aXRsZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGl0bGUgPyBudWxsIDogcGFyYW1ldGVycy50aXRsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9jYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmxvY2F0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMubG9jYXRpb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHIucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHI7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZGVzY3JpcHRpb25cIiwgXCJleHByZXNzaW9uXCIsIFwibG9jYXRpb25cIiwgXCJ0aXRsZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByLnByb3RvdHlwZSwge2Rlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBsb2NhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJsb2NhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImxvY2F0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2NhdGlvblwiLCB2YWx1ZSk7XG59fSwgdGl0bGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGl0bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aXRsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGl0bGVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHByZXNzaW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmFsdWVzID8gbnVsbCA6IHBhcmFtZXRlcnMudmFsdWVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVzdWx0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXN1bHQgPyBudWxsIDogcGFyYW1ldGVycy5yZXN1bHQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wicmVzdWx0XCIsIFwidmFsdWVzXCJdLCBvYmplY3RNYXBzOnt2YWx1ZXM6e2N0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITAsIGlzVmFsdWVBcnJheTohMX19fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24ucHJvdG90eXBlLCB7cmVzdWx0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlc3VsdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlc3VsdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVzdWx0XCIsIHZhbHVlKTtcbn19LCB2YWx1ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmFsdWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmFsdWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9GZWF0dXJlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnR5cGUgPyBudWxsIDogcGFyYW1ldGVycy50eXBlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvbWV0cnlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdlb21ldHJ5ID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2VvbWV0cnkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9wZXJ0aWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcm9wZXJ0aWVzID8gbnVsbCA6IHBhcmFtZXRlcnMucHJvcGVydGllcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJnZW9tZXRyeVwiLCBcInByb3BlcnRpZXNcIiwgXCJ0eXBlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmUucHJvdG90eXBlLCB7Z2VvbWV0cnk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ2VvbWV0cnlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJnZW9tZXRyeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvbWV0cnlcIiwgdmFsdWUpO1xufX0sIHByb3BlcnRpZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJvcGVydGllc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByb3BlcnRpZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByb3BlcnRpZXNcIiwgdmFsdWUpO1xufX0sIHR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmVhdHVyZVZpZXdQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5hc3NldCA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWFwTmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubWFwTmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1hcE5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpc3VhbGl6YXRpb25FeHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy52aXN1YWxpemF0aW9uRXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25FeHByZXNzaW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhc3NldFwiLCBcIm1hcE5hbWVcIiwgXCJuYW1lXCIsIFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIl0sIG9iamVjdHM6e3Zpc3VhbGl6YXRpb25FeHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcucHJvdG90eXBlLCB7YXNzZXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXNzZXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRcIiwgdmFsdWUpO1xufX0sIG1hcE5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWFwTmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1hcE5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1hcE5hbWVcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHZpc3VhbGl6YXRpb25FeHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpc3VhbGl6YXRpb25FeHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpc3VhbGl6YXRpb25FeHByZXNzaW9uXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlVmlld0Rlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlVmlld0Rlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZmVhdHVyZVZpZXdEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pbmdlc3Rpb25UaW1lUGFyYW1ldGVycyA/IG51bGwgOiBwYXJhbWV0ZXJzLmluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJmZWF0dXJlVmlld0Rlc3RpbmF0aW9uXCIsIFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIl0sIG9iamVjdHM6e2ZlYXR1cmVWaWV3RGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uLCBpbmdlc3Rpb25UaW1lUGFyYW1ldGVyczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2ZlYXR1cmVWaWV3RGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmVhdHVyZVZpZXdEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZlYXR1cmVWaWV3RGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVWaWV3RGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZlYXR1cmVWaWV3QXR0cmlidXRlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnR5cGUgPyBudWxsIDogcGFyYW1ldGVycy50eXBlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3R5cGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtfSwga2V5czpbXCJuYW1lXCIsIFwidHlwZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZS5wcm90b3R5cGUsIHtuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCB0eXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0eXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlLCB7VHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZlYXR1cmVWaWV3RGVzdGluYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldFZlcnNpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0VmVyc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0VmVyc2lvbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3RGVzdGluYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3RGVzdGluYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhc3NldFZlcnNpb25cIiwgXCJuYW1lXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3RGVzdGluYXRpb24ucHJvdG90eXBlLCB7YXNzZXRWZXJzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0VmVyc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0VmVyc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRWZXJzaW9uXCIsIHZhbHVlKTtcbn19LCBuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aGlubmluZ09wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRoaW5uaW5nT3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRoaW5uaW5nT3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtpbmdPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yYW5raW5nT3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnJhbmtpbmdPcHRpb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVycywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVycy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInJhbmtpbmdPcHRpb25zXCIsIFwidGhpbm5pbmdPcHRpb25zXCJdLCBvYmplY3RzOntyYW5raW5nT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdPcHRpb25zLCB0aGlubmluZ09wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnMucHJvdG90eXBlLCB7cmFua2luZ09wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmFua2luZ09wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyYW5raW5nT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua2luZ09wdGlvbnNcIiwgdmFsdWUpO1xufX0sIHRoaW5uaW5nT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aGlubmluZ09wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aGlubmluZ09wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRoaW5uaW5nT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0xvY2F0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZlYXR1cmVWaWV3TG9jYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdMb2NhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9jYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmxvY2F0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMubG9jYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0T3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3TG9jYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdMb2NhdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdMb2NhdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3TG9jYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhc3NldE9wdGlvbnNcIiwgXCJsb2NhdGlvblwiXSwgb2JqZWN0czp7YXNzZXRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdPcHRpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0xvY2F0aW9uLnByb3RvdHlwZSwge2Fzc2V0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhc3NldE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgbG9jYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibG9jYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJsb2NhdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9jYXRpb25cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZlYXR1cmVWaWV3T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVWaWV3QXR0cmlidXRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZmVhdHVyZVZpZXdBdHRyaWJ1dGVzID8gbnVsbCA6IHBhcmFtZXRlcnMuZmVhdHVyZVZpZXdBdHRyaWJ1dGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMuaW5nZXN0aW9uVGltZVBhcmFtZXRlcnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntmZWF0dXJlVmlld0F0dHJpYnV0ZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZX0sIGtleXM6W1wiZmVhdHVyZVZpZXdBdHRyaWJ1dGVzXCIsIFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIl0sIG9iamVjdHM6e2luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVyc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdPcHRpb25zLnByb3RvdHlwZSwge2ZlYXR1cmVWaWV3QXR0cmlidXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmZWF0dXJlVmlld0F0dHJpYnV0ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmZWF0dXJlVmlld0F0dHJpYnV0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVWaWV3QXR0cmlidXRlc1wiLCB2YWx1ZSk7XG59fSwgaW5nZXN0aW9uVGltZVBhcmFtZXRlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZpbG1zdHJpcFRodW1ibmFpbFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWwgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcmllbnRhdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMub3JpZW50YXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5vcmllbnRhdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRm9ybWF0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCBudWxsID09IHBhcmFtZXRlcnMuZ3JpZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmdyaWQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWwsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWw7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWwucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2ZpbGVGb3JtYXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bSwgb3JpZW50YXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxPcmllbnRhdGlvbkVudW19LCBrZXlzOltcImV4cHJlc3Npb25cIiwgXCJmaWxlRm9ybWF0XCIsIFwiZ3JpZFwiLCBcIm5hbWVcIiwgXCJvcmllbnRhdGlvblwiXSwgb2JqZWN0czp7ZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIGdyaWQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWR9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbC5wcm90b3R5cGUsIHtleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVGb3JtYXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRm9ybWF0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIHZhbHVlKTtcbn19LCBncmlkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdyaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJncmlkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIHZhbHVlKTtcbn19LCBuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCBvcmllbnRhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvcmllbnRhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm9yaWVudGF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcmllbnRhdGlvblwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWwsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW07XG59fSwgT3JpZW50YXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxPcmllbnRhdGlvbkVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Gb2xkZXJRdW90YVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Gb2xkZXJRdW90YVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Gb2xkZXJRdW90YSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2l6ZUJ5dGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zaXplQnl0ZXMgPyBudWxsIDogcGFyYW1ldGVycy5zaXplQnl0ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhTaXplQnl0ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFNpemVCeXRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFNpemVCeXRlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0Q291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0Q291bnQgPyBudWxsIDogcGFyYW1ldGVycy5hc3NldENvdW50KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4QXNzZXRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhBc3NldHMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhBc3NldHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhBc3NldENvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhBc3NldENvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4QXNzZXRDb3VudCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Gb2xkZXJRdW90YTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYXNzZXRDb3VudFwiLCBcIm1heEFzc2V0Q291bnRcIiwgXCJtYXhBc3NldHNcIiwgXCJtYXhTaXplQnl0ZXNcIiwgXCJzaXplQnl0ZXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRm9sZGVyUXVvdGEucHJvdG90eXBlLCB7YXNzZXRDb3VudDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhc3NldENvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXNzZXRDb3VudFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRDb3VudFwiLCB2YWx1ZSk7XG59fSwgbWF4QXNzZXRDb3VudDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhBc3NldENvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4QXNzZXRDb3VudFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4QXNzZXRDb3VudFwiLCB2YWx1ZSk7XG59fSwgbWF4QXNzZXRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heEFzc2V0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heEFzc2V0c1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4QXNzZXRzXCIsIHZhbHVlKTtcbn19LCBtYXhTaXplQnl0ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4U2l6ZUJ5dGVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4U2l6ZUJ5dGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhTaXplQnl0ZXNcIiwgdmFsdWUpO1xufX0sIHNpemVCeXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzaXplQnl0ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzaXplQnl0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNpemVCeXRlc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkRlZmluaXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRnVuY3Rpb25EZWZpbml0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJndW1lbnROYW1lc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXJndW1lbnROYW1lcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFyZ3VtZW50TmFtZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJib2R5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5ib2R5ID8gbnVsbCA6IHBhcmFtZXRlcnMuYm9keSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkRlZmluaXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFyZ3VtZW50TmFtZXNcIiwgXCJib2R5XCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvbi5wcm90b3R5cGUsIHthcmd1bWVudE5hbWVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFyZ3VtZW50TmFtZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhcmd1bWVudE5hbWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudE5hbWVzXCIsIHZhbHVlKTtcbn19LCBib2R5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJvZHlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJib2R5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJib2R5XCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uSW52b2NhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9GdW5jdGlvbkludm9jYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25JbnZvY2F0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmdW5jdGlvbk5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZ1bmN0aW9uTmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmZ1bmN0aW9uTmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZ1bmN0aW9uUmVmZXJlbmNlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mdW5jdGlvblJlZmVyZW5jZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmZ1bmN0aW9uUmVmZXJlbmNlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJndW1lbnRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hcmd1bWVudHMgPyBudWxsIDogcGFyYW1ldGVycy5hcmd1bWVudHMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25JbnZvY2F0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhcmd1bWVudHNcIiwgXCJmdW5jdGlvbk5hbWVcIiwgXCJmdW5jdGlvblJlZmVyZW5jZVwiXSwgb2JqZWN0TWFwczp7YXJndW1lbnRzOntjdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiEwLCBpc1ZhbHVlQXJyYXk6ITF9fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb24ucHJvdG90eXBlLCB7YXJndW1lbnRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFyZ3VtZW50c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFyZ3VtZW50c1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJndW1lbnRzXCIsIHZhbHVlKTtcbn19LCBmdW5jdGlvbk5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZnVuY3Rpb25OYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZnVuY3Rpb25OYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmdW5jdGlvbk5hbWVcIiwgdmFsdWUpO1xufX0sIGZ1bmN0aW9uUmVmZXJlbmNlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZ1bmN0aW9uUmVmZXJlbmNlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZnVuY3Rpb25SZWZlcmVuY2VcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZ1bmN0aW9uUmVmZXJlbmNlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0djc0Rlc3RpbmF0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJidWNrZXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJ1Y2tldCA/IG51bGwgOiBwYXJhbWV0ZXJzLmJ1Y2tldCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVuYW1lUHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlbmFtZVByZWZpeCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVuYW1lUHJlZml4KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zID8gbnVsbCA6IHBhcmFtZXRlcnMucGVybWlzc2lvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJidWNrZXRDb3JzVXJpc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYnVja2V0Q29yc1VyaXMgPyBudWxsIDogcGFyYW1ldGVycy5idWNrZXRDb3JzVXJpcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NEZXN0aW5hdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntwZXJtaXNzaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtfSwga2V5czpbXCJidWNrZXRcIiwgXCJidWNrZXRDb3JzVXJpc1wiLCBcImZpbGVuYW1lUHJlZml4XCIsIFwicGVybWlzc2lvbnNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24ucHJvdG90eXBlLCB7YnVja2V0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJ1Y2tldFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJ1Y2tldFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYnVja2V0XCIsIHZhbHVlKTtcbn19LCBidWNrZXRDb3JzVXJpczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJidWNrZXRDb3JzVXJpc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJ1Y2tldENvcnNVcmlzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJidWNrZXRDb3JzVXJpc1wiLCB2YWx1ZSk7XG59fSwgZmlsZW5hbWVQcmVmaXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZW5hbWVQcmVmaXhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlbmFtZVByZWZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZW5hbWVQcmVmaXhcIiwgdmFsdWUpO1xufX0sIHBlcm1pc3Npb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBlcm1pc3Npb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGVybWlzc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uLCB7UGVybWlzc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0xvY2F0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0djc0xvY2F0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0xvY2F0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cmlzXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cmlzID8gbnVsbCA6IHBhcmFtZXRlcnMudXJpcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0xvY2F0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0xvY2F0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NMb2NhdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0xvY2F0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1widXJpc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NMb2NhdGlvbi5wcm90b3R5cGUsIHt1cmlzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVyaXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cmlzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cmlzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdlb1RpZmZJbWFnZUV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZW9UaWZmSW1hZ2VFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjbG91ZE9wdGltaXplZFwiLCBudWxsID09IHBhcmFtZXRlcnMuY2xvdWRPcHRpbWl6ZWQgPyBudWxsIDogcGFyYW1ldGVycy5jbG91ZE9wdGltaXplZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVEaW1lbnNpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlRGltZW5zaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVEaW1lbnNpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2tpcEVtcHR5RmlsZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNraXBFbXB0eUZpbGVzID8gbnVsbCA6IHBhcmFtZXRlcnMuc2tpcEVtcHR5RmlsZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlU2l6ZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZVNpemUgPyBudWxsIDogcGFyYW1ldGVycy50aWxlU2l6ZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdlb1RpZmZJbWFnZUV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdlb1RpZmZJbWFnZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJjbG91ZE9wdGltaXplZFwiLCBcInNraXBFbXB0eUZpbGVzXCIsIFwidGlsZURpbWVuc2lvbnNcIiwgXCJ0aWxlU2l6ZVwiXSwgb2JqZWN0czp7dGlsZURpbWVuc2lvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUsIHtjbG91ZE9wdGltaXplZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjbG91ZE9wdGltaXplZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNsb3VkT3B0aW1pemVkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjbG91ZE9wdGltaXplZFwiLCB2YWx1ZSk7XG59fSwgc2tpcEVtcHR5RmlsZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2tpcEVtcHR5RmlsZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJza2lwRW1wdHlGaWxlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2tpcEVtcHR5RmlsZXNcIiwgdmFsdWUpO1xufX0sIHRpbGVEaW1lbnNpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVEaW1lbnNpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZURpbWVuc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVEaW1lbnNpb25zXCIsIHZhbHVlKTtcbn19LCB0aWxlU2l6ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlU2l6ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVTaXplXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlU2l6ZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRJYW1Qb2xpY3lSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0dldElhbVBvbGljeVJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0SWFtUG9saWN5UmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMub3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLm9wdGlvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRJYW1Qb2xpY3lSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldElhbVBvbGljeVJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldElhbVBvbGljeVJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRJYW1Qb2xpY3lSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wib3B0aW9uc1wiXSwgb2JqZWN0czp7b3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldElhbVBvbGljeVJlcXVlc3QucHJvdG90eXBlLCB7b3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRMaW5rZWRBc3NldFJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR2V0TGlua2VkQXNzZXRSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldExpbmtlZEFzc2V0UmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0TGlua2VkQXNzZXRSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldExpbmtlZEFzc2V0UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0TGlua2VkQXNzZXRSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0TGlua2VkQXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W119O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9HZXRQaXhlbHNSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRm9ybWF0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCBudWxsID09IHBhcmFtZXRlcnMuZ3JpZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmdyaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZWdpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJlZ2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlZ2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRJZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYW5kSWRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtfSwga2V5czpbXCJiYW5kSWRzXCIsIFwiZmlsZUZvcm1hdFwiLCBcImdyaWRcIiwgXCJyZWdpb25cIiwgXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiXSwgb2JqZWN0TWFwczp7cmVnaW9uOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX19LCBvYmplY3RzOntncmlkOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkLCB2aXN1YWxpemF0aW9uT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpc3VhbGl6YXRpb25PcHRpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0LnByb3RvdHlwZSwge2JhbmRJZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZElkc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdyaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ3JpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdyaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgdmFsdWUpO1xufX0sIHJlZ2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZWdpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZWdpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlZ2lvblwiLCB2YWx1ZSk7XG59fSwgdmlzdWFsaXphdGlvbk9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdCwge0ZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQb2xpY3lPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0dldFBvbGljeU9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UG9saWN5T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdGVkUG9saWN5VmVyc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdGVkUG9saWN5VmVyc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlcXVlc3RlZFBvbGljeVZlcnNpb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQb2xpY3lPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQb2xpY3lPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wicmVxdWVzdGVkUG9saWN5VmVyc2lvblwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQb2xpY3lPcHRpb25zLnByb3RvdHlwZSwge3JlcXVlc3RlZFBvbGljeVZlcnNpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVxdWVzdGVkUG9saWN5VmVyc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlcXVlc3RlZFBvbGljeVZlcnNpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RlZFBvbGljeVZlcnNpb25cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR3JpZERpbWVuc2lvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIndpZHRoXCIsIG51bGwgPT0gcGFyYW1ldGVycy53aWR0aCA/IG51bGwgOiBwYXJhbWV0ZXJzLndpZHRoKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaGVpZ2h0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5oZWlnaHQgPyBudWxsIDogcGFyYW1ldGVycy5oZWlnaHQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImhlaWdodFwiLCBcIndpZHRoXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLnByb3RvdHlwZSwge2hlaWdodDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJoZWlnaHRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJoZWlnaHRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImhlaWdodFwiLCB2YWx1ZSk7XG59fSwgd2lkdGg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwid2lkdGhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ3aWR0aFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwid2lkdGhcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZFBvaW50UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0dyaWRQb2ludFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkUG9pbnQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnggPyBudWxsIDogcGFyYW1ldGVycy54KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwieVwiLCBudWxsID09IHBhcmFtZXRlcnMueSA/IG51bGwgOiBwYXJhbWV0ZXJzLnkpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkUG9pbnQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZFBvaW50LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkUG9pbnQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkUG9pbnQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJ4XCIsIFwieVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkUG9pbnQucHJvdG90eXBlLCB7eDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwieFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwieFwiLCB2YWx1ZSk7XG59fSwgeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwieVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwieVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9IdHRwQm9keVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29udGVudFR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbnRlbnRUeXBlID8gbnVsbCA6IHBhcmFtZXRlcnMuY29udGVudFR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kYXRhID8gbnVsbCA6IHBhcmFtZXRlcnMuZGF0YSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4dGVuc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4dGVuc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy5leHRlbnNpb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHksIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHkucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHkucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJjb250ZW50VHlwZVwiLCBcImRhdGFcIiwgXCJleHRlbnNpb25zXCJdLCBvYmplY3RNYXBzOntleHRlbnNpb25zOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMCwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX19fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5LnByb3RvdHlwZSwge2NvbnRlbnRUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNvbnRlbnRUeXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY29udGVudFR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbnRlbnRUeXBlXCIsIHZhbHVlKTtcbn19LCBkYXRhOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRhdGFcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkYXRhXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhXCIsIHZhbHVlKTtcbn19LCBleHRlbnNpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4dGVuc2lvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHRlbnNpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHRlbnNpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ltYWdlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmlkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXBkYXRlVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMudXBkYXRlVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnVwZGF0ZVRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aXRsZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGl0bGUgPyBudWxsIDogcGFyYW1ldGVycy50aXRsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCBudWxsID09IHBhcmFtZXRlcnMucHJvcGVydGllcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnByb3BlcnRpZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0YXJ0VGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXJ0VGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVuZFRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5lbmRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvbWV0cnlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdlb21ldHJ5ID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2VvbWV0cnkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYmFuZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYW5kcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNpemVCeXRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc2l6ZUJ5dGVzID8gbnVsbCA6IHBhcmFtZXRlcnMuc2l6ZUJ5dGVzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntiYW5kczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZH0sIGtleXM6XCJiYW5kcyBkZXNjcmlwdGlvbiBlbmRUaW1lIGdlb21ldHJ5IGlkIG5hbWUgcHJvcGVydGllcyBzaXplQnl0ZXMgc3RhcnRUaW1lIHRpdGxlIHVwZGF0ZVRpbWVcIi5zcGxpdChcIiBcIiksIG9iamVjdE1hcHM6e2dlb21ldHJ5OntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX0sIHByb3BlcnRpZXM6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2UucHJvdG90eXBlLCB7YmFuZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJiYW5kc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZHNcIiwgdmFsdWUpO1xufX0sIGRlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBlbmRUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImVuZFRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJlbmRUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlbmRUaW1lXCIsIHZhbHVlKTtcbn19LCBnZW9tZXRyeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnZW9tZXRyeVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdlb21ldHJ5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9tZXRyeVwiLCB2YWx1ZSk7XG59fSwgaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHByb3BlcnRpZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJvcGVydGllc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByb3BlcnRpZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByb3BlcnRpZXNcIiwgdmFsdWUpO1xufX0sIHNpemVCeXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzaXplQnl0ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzaXplQnl0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNpemVCeXRlc1wiLCB2YWx1ZSk7XG59fSwgc3RhcnRUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0YXJ0VGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXJ0VGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRUaW1lXCIsIHZhbHVlKTtcbn19LCB0aXRsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aXRsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpdGxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aXRsZVwiLCB2YWx1ZSk7XG59fSwgdXBkYXRlVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ1cGRhdGVUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidXBkYXRlVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXBkYXRlVGltZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZWFydGhFbmdpbmVEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZWFydGhFbmdpbmVEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmVhcnRoRW5naW5lRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJweXJhbWlkaW5nUG9saWN5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5weXJhbWlkaW5nUG9saWN5ID8gbnVsbCA6IHBhcmFtZXRlcnMucHlyYW1pZGluZ1BvbGljeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXMgPyBudWxsIDogcGFyYW1ldGVycy5weXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZVNpemVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVTaXplID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZVNpemUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7cHlyYW1pZGluZ1BvbGljeTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0sIHB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtfSwga2V5czpbXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIsIFwicHlyYW1pZGluZ1BvbGljeVwiLCBcInB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNcIiwgXCJ0aWxlU2l6ZVwiXSwgb2JqZWN0TWFwczp7cHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fSwgXG4gIG9iamVjdHM6e2VhcnRoRW5naW5lRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUsIHtlYXJ0aEVuZ2luZURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19LCBweXJhbWlkaW5nUG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInB5cmFtaWRpbmdQb2xpY3lcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJweXJhbWlkaW5nUG9saWN5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJweXJhbWlkaW5nUG9saWN5XCIsIHZhbHVlKTtcbn19LCBweXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJweXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJweXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzXCIsIHZhbHVlKTtcbn19LCB0aWxlU2l6ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlU2l6ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVTaXplXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlU2l6ZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9ucywge1B5cmFtaWRpbmdQb2xpY3k6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtO1xufX0sIFB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ltYWdlQmFuZFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmlkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGF0YVR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRhdGFUeXBlID8gbnVsbCA6IHBhcmFtZXRlcnMuZGF0YVR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ncmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuZ3JpZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInB5cmFtaWRpbmdQb2xpY3lcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3kgPyBudWxsIDogcGFyYW1ldGVycy5weXJhbWlkaW5nUG9saWN5KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVzZXRzID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZXNldHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaXNzaW5nRGF0YVwiLCBudWxsID09IHBhcmFtZXRlcnMubWlzc2luZ0RhdGEgPyBudWxsIDogcGFyYW1ldGVycy5taXNzaW5nRGF0YSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e3RpbGVzZXRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlVGlsZXNldH0sIGVudW1zOntweXJhbWlkaW5nUG9saWN5Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW19LCBrZXlzOlwiZGF0YVR5cGUgZ3JpZCBpZCBtaXNzaW5nRGF0YSBweXJhbWlkaW5nUG9saWN5IHRpbGVzZXRzXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntkYXRhVHlwZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRGF0YVR5cGUsIGdyaWQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQsIFxuICBtaXNzaW5nRGF0YTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1pc3NpbmdEYXRhfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmQucHJvdG90eXBlLCB7ZGF0YVR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGF0YVR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkYXRhVHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGF0YVR5cGVcIiwgdmFsdWUpO1xufX0sIGdyaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ3JpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdyaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgdmFsdWUpO1xufX0sIGlkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlkXCIsIHZhbHVlKTtcbn19LCBtaXNzaW5nRGF0YTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtaXNzaW5nRGF0YVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1pc3NpbmdEYXRhXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaXNzaW5nRGF0YVwiLCB2YWx1ZSk7XG59fSwgcHlyYW1pZGluZ1BvbGljeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJweXJhbWlkaW5nUG9saWN5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHlyYW1pZGluZ1BvbGljeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeVwiLCB2YWx1ZSk7XG59fSwgdGlsZXNldHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGlsZXNldHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlc2V0c1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldHNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kLCB7UHlyYW1pZGluZ1BvbGljeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JbWFnZUZpbGVFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRyaXZlRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRyaXZlRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kcml2ZURlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNsb3VkU3RvcmFnZURlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuY2xvdWRTdG9yYWdlRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnY3NEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZ2NzRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5nY3NEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdlb1RpZmZPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5nZW9UaWZmT3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmdlb1RpZmZPcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGZSZWNvcmRPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy50ZlJlY29yZE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy50ZlJlY29yZE9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2ZpbGVGb3JtYXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW19LCBrZXlzOlwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb24gZHJpdmVEZXN0aW5hdGlvbiBmaWxlRm9ybWF0IGdjc0Rlc3RpbmF0aW9uIGdlb1RpZmZPcHRpb25zIHRmUmVjb3JkT3B0aW9uc1wiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7Y2xvdWRTdG9yYWdlRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiwgZHJpdmVEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24sIFxuICBnY3NEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uLCBnZW9UaWZmT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdlb1RpZmZJbWFnZUV4cG9ydE9wdGlvbnMsIHRmUmVjb3JkT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2Nsb3VkU3RvcmFnZURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19LCBkcml2ZURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRyaXZlRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkcml2ZURlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkcml2ZURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVGb3JtYXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRm9ybWF0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIHZhbHVlKTtcbn19LCBnY3NEZXN0aW5hdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnY3NEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdjc0Rlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnY3NEZXN0aW5hdGlvblwiLCB2YWx1ZSk7XG59fSwgZ2VvVGlmZk9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ2VvVGlmZk9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJnZW9UaWZmT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvVGlmZk9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIHRmUmVjb3JkT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0ZlJlY29yZE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0ZlJlY29yZE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRmUmVjb3JkT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zLCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSW1hZ2VNYW5pZmVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByb3BlcnRpZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByb3BlcnRpZXMgPyBudWxsIDogcGFyYW1ldGVycy5wcm9wZXJ0aWVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpUHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy51cmlQcmVmaXggPyBudWxsIDogcGFyYW1ldGVycy51cmlQcmVmaXgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0c1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXNldHMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlc2V0cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5iYW5kcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWFza0JhbmRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXNrQmFuZHMgPyBudWxsIDogcGFyYW1ldGVycy5tYXNrQmFuZHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmb290cHJpbnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZvb3RwcmludCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZvb3RwcmludCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pc3NpbmdEYXRhXCIsIG51bGwgPT0gcGFyYW1ldGVycy5taXNzaW5nRGF0YSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1pc3NpbmdEYXRhKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeVwiLCBudWxsID09IHBhcmFtZXRlcnMucHlyYW1pZGluZ1BvbGljeSA/IG51bGwgOiBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3kpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0YXJ0VGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXJ0VGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVuZFRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5lbmRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWluVGlsZUFyZWFSYXRpb1wiLCBudWxsID09IHBhcmFtZXRlcnMubWluVGlsZUFyZWFSYXRpbyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1pblRpbGVBcmVhUmF0aW8pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7YmFuZHM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZCwgbWFza0JhbmRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldE1hc2tCYW5kLCB0aWxlc2V0czptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXR9LCBlbnVtczp7cHlyYW1pZGluZ1BvbGljeTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bX0sIGtleXM6XCJiYW5kcyBlbmRUaW1lIGZvb3RwcmludCBtYXNrQmFuZHMgbWluVGlsZUFyZWFSYXRpbyBtaXNzaW5nRGF0YSBuYW1lIHByb3BlcnRpZXMgcHlyYW1pZGluZ1BvbGljeSBzdGFydFRpbWUgdGlsZXNldHMgdXJpUHJlZml4XCIuc3BsaXQoXCIgXCIpLCBcbiAgb2JqZWN0TWFwczp7cHJvcGVydGllczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fSwgb2JqZWN0czp7Zm9vdHByaW50Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxGb290cHJpbnQsIG1pc3NpbmdEYXRhOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTWlzc2luZ0RhdGF9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3QucHJvdG90eXBlLCB7YmFuZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJiYW5kc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZHNcIiwgdmFsdWUpO1xufX0sIGVuZFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZW5kVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVuZFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgdmFsdWUpO1xufX0sIGZvb3RwcmludDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmb290cHJpbnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmb290cHJpbnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZvb3RwcmludFwiLCB2YWx1ZSk7XG59fSwgbWFza0JhbmRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1hc2tCYW5kc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1hc2tCYW5kc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWFza0JhbmRzXCIsIHZhbHVlKTtcbn19LCBtaW5UaWxlQXJlYVJhdGlvOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1pblRpbGVBcmVhUmF0aW9cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtaW5UaWxlQXJlYVJhdGlvXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5UaWxlQXJlYVJhdGlvXCIsIHZhbHVlKTtcbn19LCBtaXNzaW5nRGF0YTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtaXNzaW5nRGF0YVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1pc3NpbmdEYXRhXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaXNzaW5nRGF0YVwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgcHJvcGVydGllczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcm9wZXJ0aWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJvcGVydGllc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCB2YWx1ZSk7XG59fSwgcHlyYW1pZGluZ1BvbGljeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJweXJhbWlkaW5nUG9saWN5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHlyYW1pZGluZ1BvbGljeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeVwiLCB2YWx1ZSk7XG59fSwgc3RhcnRUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0YXJ0VGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXJ0VGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRUaW1lXCIsIHZhbHVlKTtcbn19LCB0aWxlc2V0czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc2V0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVzZXRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0c1wiLCB2YWx1ZSk7XG59fSwgdXJpUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVyaVByZWZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVyaVByZWZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpUHJlZml4XCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3QsIHtQeXJhbWlkaW5nUG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VTb3VyY2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSW1hZ2VTb3VyY2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VTb3VyY2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVyaXMgPyBudWxsIDogcGFyYW1ldGVycy51cmlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYWZmaW5lVHJhbnNmb3JtXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hZmZpbmVUcmFuc2Zvcm0gPyBudWxsIDogcGFyYW1ldGVycy5hZmZpbmVUcmFuc2Zvcm0pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VTb3VyY2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFmZmluZVRyYW5zZm9ybVwiLCBcInVyaXNcIl0sIG9iamVjdHM6e2FmZmluZVRyYW5zZm9ybTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VTb3VyY2UucHJvdG90eXBlLCB7YWZmaW5lVHJhbnNmb3JtOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFmZmluZVRyYW5zZm9ybVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFmZmluZVRyYW5zZm9ybVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYWZmaW5lVHJhbnNmb3JtXCIsIHZhbHVlKTtcbn19LCB1cmlzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVyaXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cmlzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cmlzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydEltYWdlUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JbXBvcnRJbWFnZVJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbWFnZU1hbmlmZXN0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5pbWFnZU1hbmlmZXN0ID8gbnVsbCA6IHBhcmFtZXRlcnMuaW1hZ2VNYW5pZmVzdCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3ZlcndyaXRlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5vdmVyd3JpdGUgPyBudWxsIDogcGFyYW1ldGVycy5vdmVyd3JpdGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJlcXVlc3RJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlcXVlc3RJZCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydEltYWdlUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRJbWFnZVJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydEltYWdlUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydEltYWdlUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImRlc2NyaXB0aW9uXCIsIFwiaW1hZ2VNYW5pZmVzdFwiLCBcIm92ZXJ3cml0ZVwiLCBcInJlcXVlc3RJZFwiXSwgb2JqZWN0czp7aW1hZ2VNYW5pZmVzdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3R9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydEltYWdlUmVxdWVzdC5wcm90b3R5cGUsIHtkZXNjcmlwdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc2NyaXB0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCB2YWx1ZSk7XG59fSwgaW1hZ2VNYW5pZmVzdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJpbWFnZU1hbmlmZXN0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW1hZ2VNYW5pZmVzdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW1hZ2VNYW5pZmVzdFwiLCB2YWx1ZSk7XG59fSwgb3ZlcndyaXRlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm92ZXJ3cml0ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm92ZXJ3cml0ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3ZlcndyaXRlXCIsIHZhbHVlKTtcbn19LCByZXF1ZXN0SWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVxdWVzdElkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVxdWVzdElkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0VGFibGVSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ltcG9ydFRhYmxlUmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRhYmxlTWFuaWZlc3RcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRhYmxlTWFuaWZlc3QgPyBudWxsIDogcGFyYW1ldGVycy50YWJsZU1hbmlmZXN0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvdmVyd3JpdGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm92ZXJ3cml0ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm92ZXJ3cml0ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdElkID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdElkKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0VGFibGVSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydFRhYmxlUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0VGFibGVSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0VGFibGVSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZGVzY3JpcHRpb25cIiwgXCJvdmVyd3JpdGVcIiwgXCJyZXF1ZXN0SWRcIiwgXCJ0YWJsZU1hbmlmZXN0XCJdLCBvYmplY3RzOnt0YWJsZU1hbmlmZXN0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdH19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0VGFibGVSZXF1ZXN0LnByb3RvdHlwZSwge2Rlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBvdmVyd3JpdGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwib3ZlcndyaXRlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3ZlcndyaXRlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvdmVyd3JpdGVcIiwgdmFsdWUpO1xufX0sIHJlcXVlc3RJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXF1ZXN0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCB2YWx1ZSk7XG59fSwgdGFibGVNYW5pZmVzdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0YWJsZU1hbmlmZXN0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGFibGVNYW5pZmVzdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGFibGVNYW5pZmVzdFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaW5rQXNzZXRSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0xpbmtBc3NldFJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlua0Fzc2V0UmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzdGluYXRpb25OYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXN0aW5hdGlvbk5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5kZXN0aW5hdGlvbk5hbWUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaW5rQXNzZXRSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxpbmtBc3NldFJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxpbmtBc3NldFJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaW5rQXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZGVzdGluYXRpb25OYW1lXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxpbmtBc3NldFJlcXVlc3QucHJvdG90eXBlLCB7ZGVzdGluYXRpb25OYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc3RpbmF0aW9uTmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc3RpbmF0aW9uTmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzdGluYXRpb25OYW1lXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBbGdvcml0aG1zUmVzcG9uc2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfTGlzdEFsZ29yaXRobXNSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QWxnb3JpdGhtc1Jlc3BvbnNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhbGdvcml0aG1zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hbGdvcml0aG1zID8gbnVsbCA6IHBhcmFtZXRlcnMuYWxnb3JpdGhtcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBbGdvcml0aG1zUmVzcG9uc2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBbGdvcml0aG1zUmVzcG9uc2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOnthbGdvcml0aG1zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtfSwga2V5czpbXCJhbGdvcml0aG1zXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBbGdvcml0aG1zUmVzcG9uc2UucHJvdG90eXBlLCB7YWxnb3JpdGhtczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhbGdvcml0aG1zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYWxnb3JpdGhtc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYWxnb3JpdGhtc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QXNzZXRzUmVzcG9uc2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfTGlzdEFzc2V0c1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBc3NldHNSZXNwb25zZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hc3NldHMgPyBudWxsIDogcGFyYW1ldGVycy5hc3NldHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuID8gbnVsbCA6IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBc3NldHNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QXNzZXRzUmVzcG9uc2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBc3NldHNSZXNwb25zZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBc3NldHNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2Fzc2V0czptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9LCBrZXlzOltcImFzc2V0c1wiLCBcIm5leHRQYWdlVG9rZW5cIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlLnByb3RvdHlwZSwge2Fzc2V0czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhc3NldHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0c1wiLCB2YWx1ZSk7XG59fSwgbmV4dFBhZ2VUb2tlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuZXh0UGFnZVRva2VuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmV4dFBhZ2VUb2tlblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9MaXN0RmVhdHVyZXNSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMudHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZmVhdHVyZXMgPyBudWxsIDogcGFyYW1ldGVycy5mZWF0dXJlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4gPyBudWxsIDogcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEZlYXR1cmVzUmVzcG9uc2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEZlYXR1cmVzUmVzcG9uc2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RGZWF0dXJlc1Jlc3BvbnNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEZlYXR1cmVzUmVzcG9uc2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntmZWF0dXJlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmV9LCBrZXlzOltcImZlYXR1cmVzXCIsIFwibmV4dFBhZ2VUb2tlblwiLCBcInR5cGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEZlYXR1cmVzUmVzcG9uc2UucHJvdG90eXBlLCB7ZmVhdHVyZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmVhdHVyZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmZWF0dXJlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZXNcIiwgdmFsdWUpO1xufX0sIG5leHRQYWdlVG9rZW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmV4dFBhZ2VUb2tlblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5leHRQYWdlVG9rZW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgdmFsdWUpO1xufX0sIHR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEltYWdlc1Jlc3BvbnNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0xpc3RJbWFnZXNSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImltYWdlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuaW1hZ2VzID8gbnVsbCA6IHBhcmFtZXRlcnMuaW1hZ2VzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEltYWdlc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntpbWFnZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZX0sIGtleXM6W1wiaW1hZ2VzXCIsIFwibmV4dFBhZ2VUb2tlblwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2UucHJvdG90eXBlLCB7aW1hZ2VzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImltYWdlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImltYWdlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW1hZ2VzXCIsIHZhbHVlKTtcbn19LCBuZXh0UGFnZVRva2VuOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5leHRQYWdlVG9rZW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuZXh0UGFnZVRva2VuXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RPcGVyYXRpb25zUmVzcG9uc2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfTGlzdE9wZXJhdGlvbnNSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcGVyYXRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5vcGVyYXRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMub3BlcmF0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4gPyBudWxsIDogcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdE9wZXJhdGlvbnNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdE9wZXJhdGlvbnNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e29wZXJhdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259LCBrZXlzOltcIm5leHRQYWdlVG9rZW5cIiwgXCJvcGVyYXRpb25zXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RPcGVyYXRpb25zUmVzcG9uc2UucHJvdG90eXBlLCB7bmV4dFBhZ2VUb2tlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuZXh0UGFnZVRva2VuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmV4dFBhZ2VUb2tlblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCB2YWx1ZSk7XG59fSwgb3BlcmF0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvcGVyYXRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3BlcmF0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3BlcmF0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Mb2dDb25maWdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfTG9nQ29uZmlnUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxvZ0NvbmZpZyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY291bnRlclwiLCBudWxsID09IHBhcmFtZXRlcnMuY291bnRlciA/IG51bGwgOiBwYXJhbWV0ZXJzLmNvdW50ZXIpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhQWNjZXNzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kYXRhQWNjZXNzID8gbnVsbCA6IHBhcmFtZXRlcnMuZGF0YUFjY2Vzcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkQXVkaXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNsb3VkQXVkaXQgPyBudWxsIDogcGFyYW1ldGVycy5jbG91ZEF1ZGl0KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTG9nQ29uZmlnLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxvZ0NvbmZpZy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTG9nQ29uZmlnO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTG9nQ29uZmlnLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiY2xvdWRBdWRpdFwiLCBcImNvdW50ZXJcIiwgXCJkYXRhQWNjZXNzXCJdLCBvYmplY3RzOntjbG91ZEF1ZGl0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnMsIGNvdW50ZXI6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucywgZGF0YUFjY2Vzczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Mb2dDb25maWcucHJvdG90eXBlLCB7Y2xvdWRBdWRpdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjbG91ZEF1ZGl0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2xvdWRBdWRpdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRBdWRpdFwiLCB2YWx1ZSk7XG59fSwgY291bnRlcjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb3VudGVyXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY291bnRlclwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY291bnRlclwiLCB2YWx1ZSk7XG59fSwgZGF0YUFjY2Vzczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkYXRhQWNjZXNzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGF0YUFjY2Vzc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGF0YUFjY2Vzc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9NaXNzaW5nRGF0YVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy52YWx1ZXMgPyBudWxsIDogcGFyYW1ldGVycy52YWx1ZXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTWlzc2luZ0RhdGE7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInZhbHVlc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YS5wcm90b3R5cGUsIHt2YWx1ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmFsdWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmFsdWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTW92ZUFzc2V0UmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Nb3ZlQXNzZXRSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1vdmVBc3NldFJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc3RpbmF0aW9uTmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzdGluYXRpb25OYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzdGluYXRpb25OYW1lKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTW92ZUFzc2V0UmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Nb3ZlQXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Nb3ZlQXNzZXRSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTW92ZUFzc2V0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImRlc3RpbmF0aW9uTmFtZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Nb3ZlQXNzZXRSZXF1ZXN0LnByb3RvdHlwZSwge2Rlc3RpbmF0aW9uTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXN0aW5hdGlvbk5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXN0aW5hdGlvbk5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc3RpbmF0aW9uTmFtZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfT3BlcmF0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtZXRhZGF0YVwiLCBudWxsID09IHBhcmFtZXRlcnMubWV0YWRhdGEgPyBudWxsIDogcGFyYW1ldGVycy5tZXRhZGF0YSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRvbmVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRvbmUgPyBudWxsIDogcGFyYW1ldGVycy5kb25lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXJyb3JcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVycm9yID8gbnVsbCA6IHBhcmFtZXRlcnMuZXJyb3IpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXNwb25zZVwiLCBudWxsID09IHBhcmFtZXRlcnMucmVzcG9uc2UgPyBudWxsIDogcGFyYW1ldGVycy5yZXNwb25zZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImRvbmVcIiwgXCJlcnJvclwiLCBcIm1ldGFkYXRhXCIsIFwibmFtZVwiLCBcInJlc3BvbnNlXCJdLCBvYmplY3RNYXBzOnttZXRhZGF0YTp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9LCByZXNwb25zZTp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fSwgb2JqZWN0czp7ZXJyb3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbi5wcm90b3R5cGUsIHtkb25lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRvbmVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkb25lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkb25lXCIsIHZhbHVlKTtcbn19LCBlcnJvcjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlcnJvclwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVycm9yXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlcnJvclwiLCB2YWx1ZSk7XG59fSwgbWV0YWRhdGE6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWV0YWRhdGFcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtZXRhZGF0YVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWV0YWRhdGFcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHJlc3BvbnNlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlc3BvbnNlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVzcG9uc2VcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlc3BvbnNlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X09wZXJhdGlvbk1ldGFkYXRhUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGF0ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhdGUgPyBudWxsIDogcGFyYW1ldGVycy5zdGF0ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMudHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmlvcml0eVwiLCBudWxsID09IHBhcmFtZXRlcnMucHJpb3JpdHkgPyBudWxsIDogcGFyYW1ldGVycy5wcmlvcml0eSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyZWF0ZVRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNyZWF0ZVRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5jcmVhdGVUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXBkYXRlVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMudXBkYXRlVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnVwZGF0ZVRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0YXJ0VGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXJ0VGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVuZFRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5lbmRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvZ3Jlc3NcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByb2dyZXNzID8gbnVsbCA6IHBhcmFtZXRlcnMucHJvZ3Jlc3MpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFnZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0YWdlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YWdlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF0dGVtcHRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmF0dGVtcHQgPyBudWxsIDogcGFyYW1ldGVycy5hdHRlbXB0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NyaXB0VXJpXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zY3JpcHRVcmkgPyBudWxsIDogcGFyYW1ldGVycy5zY3JpcHRVcmkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvblVyaXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uVXJpcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uVXJpcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7c3RhZ2VzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2V9LCBlbnVtczp7c3RhdGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bX0sIGtleXM6XCJhdHRlbXB0IGNyZWF0ZVRpbWUgZGVzY3JpcHRpb24gZGVzdGluYXRpb25VcmlzIGVuZFRpbWUgcHJpb3JpdHkgcHJvZ3Jlc3Mgc2NyaXB0VXJpIHN0YWdlcyBzdGFydFRpbWUgc3RhdGUgdHlwZSB1cGRhdGVUaW1lXCIuc3BsaXQoXCIgXCIpfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhLnByb3RvdHlwZSwge2F0dGVtcHQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXR0ZW1wdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImF0dGVtcHRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF0dGVtcHRcIiwgdmFsdWUpO1xufX0sIGNyZWF0ZVRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3JlYXRlVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNyZWF0ZVRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyZWF0ZVRpbWVcIiwgdmFsdWUpO1xufX0sIGRlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBkZXN0aW5hdGlvblVyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzdGluYXRpb25VcmlzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzdGluYXRpb25VcmlzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvblVyaXNcIiwgdmFsdWUpO1xufX0sIGVuZFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZW5kVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVuZFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgdmFsdWUpO1xufX0sIHByaW9yaXR5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInByaW9yaXR5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJpb3JpdHlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByaW9yaXR5XCIsIHZhbHVlKTtcbn19LCBwcm9ncmVzczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcm9ncmVzc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByb2dyZXNzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9ncmVzc1wiLCB2YWx1ZSk7XG59fSwgc2NyaXB0VXJpOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNjcmlwdFVyaVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNjcmlwdFVyaVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NyaXB0VXJpXCIsIHZhbHVlKTtcbn19LCBzdGFnZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhZ2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RhZ2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFnZXNcIiwgdmFsdWUpO1xufX0sIHN0YXJ0VGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdGFydFRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdGFydFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCB2YWx1ZSk7XG59fSwgc3RhdGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhdGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdGF0ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhdGVcIiwgdmFsdWUpO1xufX0sIHR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgdmFsdWUpO1xufX0sIHVwZGF0ZVRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXBkYXRlVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVwZGF0ZVRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVwZGF0ZVRpbWVcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGEsIHtTdGF0ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfT3BlcmF0aW9uU3RhZ2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpc3BsYXlOYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaXNwbGF5TmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRpc3BsYXlOYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29tcGxldGVXb3JrVW5pdHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbXBsZXRlV29ya1VuaXRzID8gbnVsbCA6IHBhcmFtZXRlcnMuY29tcGxldGVXb3JrVW5pdHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0b3RhbFdvcmtVbml0c1wiLCBudWxsID09IHBhcmFtZXRlcnMudG90YWxXb3JrVW5pdHMgPyBudWxsIDogcGFyYW1ldGVycy50b3RhbFdvcmtVbml0cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvblN0YWdlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJjb21wbGV0ZVdvcmtVbml0c1wiLCBcImRlc2NyaXB0aW9uXCIsIFwiZGlzcGxheU5hbWVcIiwgXCJ0b3RhbFdvcmtVbml0c1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25TdGFnZS5wcm90b3R5cGUsIHtjb21wbGV0ZVdvcmtVbml0czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb21wbGV0ZVdvcmtVbml0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNvbXBsZXRlV29ya1VuaXRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb21wbGV0ZVdvcmtVbml0c1wiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGRpc3BsYXlOYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRpc3BsYXlOYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGlzcGxheU5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpc3BsYXlOYW1lXCIsIHZhbHVlKTtcbn19LCB0b3RhbFdvcmtVbml0czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0b3RhbFdvcmtVbml0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRvdGFsV29ya1VuaXRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0b3RhbFdvcmtVbml0c1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BpeGVsRGF0YVR5cGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJlY2lzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcmVjaXNpb24gPyBudWxsIDogcGFyYW1ldGVycy5wcmVjaXNpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5nZVwiLCBudWxsID09IHBhcmFtZXRlcnMucmFuZ2UgPyBudWxsIDogcGFyYW1ldGVycy5yYW5nZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpbWVuc2lvbnNDb3VudFwiLCBudWxsID09IHBhcmFtZXRlcnMuZGltZW5zaW9uc0NvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMuZGltZW5zaW9uc0NvdW50KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7cHJlY2lzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW19LCBrZXlzOltcImRpbWVuc2lvbnNDb3VudFwiLCBcInByZWNpc2lvblwiLCBcInJhbmdlXCJdLCBvYmplY3RzOntyYW5nZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRvdWJsZVJhbmdlfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlLnByb3RvdHlwZSwge2RpbWVuc2lvbnNDb3VudDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkaW1lbnNpb25zQ291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkaW1lbnNpb25zQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpbWVuc2lvbnNDb3VudFwiLCB2YWx1ZSk7XG59fSwgcHJlY2lzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInByZWNpc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByZWNpc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJlY2lzaW9uXCIsIHZhbHVlKTtcbn19LCByYW5nZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5nZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJhbmdlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5nZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlLCB7UHJlY2lzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEZvb3RwcmludFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QaXhlbEZvb3RwcmludFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEZvb3RwcmludCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicG9pbnRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wb2ludHMgPyBudWxsIDogcGFyYW1ldGVycy5wb2ludHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kSWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRJZCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRm9vdHByaW50LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRm9vdHByaW50LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEZvb3RwcmludDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRm9vdHByaW50LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7cG9pbnRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZFBvaW50fSwga2V5czpbXCJiYW5kSWRcIiwgXCJwb2ludHNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxGb290cHJpbnQucHJvdG90eXBlLCB7YmFuZElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJhbmRJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkXCIsIHZhbHVlKTtcbn19LCBwb2ludHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicG9pbnRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicG9pbnRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwb2ludHNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BpeGVsR3JpZFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyc0NvZGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNyc0NvZGUgPyBudWxsIDogcGFyYW1ldGVycy5jcnNDb2RlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JzV2t0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5jcnNXa3QgPyBudWxsIDogcGFyYW1ldGVycy5jcnNXa3QpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkaW1lbnNpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaW1lbnNpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZGltZW5zaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFmZmluZVRyYW5zZm9ybVwiLCBudWxsID09IHBhcmFtZXRlcnMuYWZmaW5lVHJhbnNmb3JtID8gbnVsbCA6IHBhcmFtZXRlcnMuYWZmaW5lVHJhbnNmb3JtKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYWZmaW5lVHJhbnNmb3JtXCIsIFwiY3JzQ29kZVwiLCBcImNyc1drdFwiLCBcImRpbWVuc2lvbnNcIl0sIG9iamVjdHM6e2FmZmluZVRyYW5zZm9ybTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybSwgZGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQucHJvdG90eXBlLCB7YWZmaW5lVHJhbnNmb3JtOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFmZmluZVRyYW5zZm9ybVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFmZmluZVRyYW5zZm9ybVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYWZmaW5lVHJhbnNmb3JtXCIsIHZhbHVlKTtcbn19LCBjcnNDb2RlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNyc0NvZGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjcnNDb2RlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjcnNDb2RlXCIsIHZhbHVlKTtcbn19LCBjcnNXa3Q6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3JzV2t0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY3JzV2t0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjcnNXa3RcIiwgdmFsdWUpO1xufX0sIGRpbWVuc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGltZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRpbWVuc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpbWVuc2lvbnNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUG9saWN5UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BvbGljeVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3kgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZlcnNpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZlcnNpb24gPyBudWxsIDogcGFyYW1ldGVycy52ZXJzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmluZGluZ3NcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJpbmRpbmdzID8gbnVsbCA6IHBhcmFtZXRlcnMuYmluZGluZ3MpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhdWRpdENvbmZpZ3NcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmF1ZGl0Q29uZmlncyA/IG51bGwgOiBwYXJhbWV0ZXJzLmF1ZGl0Q29uZmlncyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJ1bGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ydWxlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnJ1bGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMuZXRhZyA/IG51bGwgOiBwYXJhbWV0ZXJzLmV0YWcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3ksIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUG9saWN5LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3k7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3kucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOnthdWRpdENvbmZpZ3M6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdENvbmZpZywgYmluZGluZ3M6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaW5kaW5nLCBydWxlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGV9LCBrZXlzOltcImF1ZGl0Q29uZmlnc1wiLCBcImJpbmRpbmdzXCIsIFwiZXRhZ1wiLCBcInJ1bGVzXCIsIFwidmVyc2lvblwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3kucHJvdG90eXBlLCB7YXVkaXRDb25maWdzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImF1ZGl0Q29uZmlnc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImF1ZGl0Q29uZmlnc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXVkaXRDb25maWdzXCIsIHZhbHVlKTtcbn19LCBiaW5kaW5nczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiaW5kaW5nc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJpbmRpbmdzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiaW5kaW5nc1wiLCB2YWx1ZSk7XG59fSwgZXRhZzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJldGFnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXRhZ1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXRhZ1wiLCB2YWx1ZSk7XG59fSwgcnVsZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicnVsZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJydWxlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicnVsZXNcIiwgdmFsdWUpO1xufX0sIHZlcnNpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmVyc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZlcnNpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZlcnNpb25cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9SYW5rQnlBdHRyaWJ1dGVSdWxlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUF0dHJpYnV0ZVJ1bGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF0dHJpYnV0ZU5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmF0dHJpYnV0ZU5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5hdHRyaWJ1dGVOYW1lKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlBdHRyaWJ1dGVSdWxlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlBdHRyaWJ1dGVSdWxlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImF0dHJpYnV0ZU5hbWVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZS5wcm90b3R5cGUsIHthdHRyaWJ1dGVOYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImF0dHJpYnV0ZU5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhdHRyaWJ1dGVOYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhdHRyaWJ1dGVOYW1lXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUdlb21ldHJ5VHlwZVJ1bGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUmFua0J5R2VvbWV0cnlUeXBlUnVsZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlHZW9tZXRyeVR5cGVSdWxlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlHZW9tZXRyeVR5cGVSdWxlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUdlb21ldHJ5VHlwZVJ1bGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlHZW9tZXRyeVR5cGVSdWxlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W119O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TWluVmlzaWJsZUxvZFJ1bGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUmFua0J5TWluVmlzaWJsZUxvZFJ1bGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TWluVmlzaWJsZUxvZFJ1bGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblZpc2libGVMb2RSdWxlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblZpc2libGVMb2RSdWxlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlNaW5WaXNpYmxlTG9kUnVsZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblZpc2libGVMb2RSdWxlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W119O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TmF0dXJhbE9yZGVyUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1JhbmtCeU5hdHVyYWxPcmRlclBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlOYXR1cmFsT3JkZXIgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU5hdHVyYWxPcmRlciwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlOYXR1cmFsT3JkZXIucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU5hdHVyYWxPcmRlcjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU5hdHVyYWxPcmRlci5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltdfTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9SYW5rQnlPbmVUaGluZ1J1bGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5rQnlBdHRyaWJ1dGVSdWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yYW5rQnlBdHRyaWJ1dGVSdWxlID8gbnVsbCA6IHBhcmFtZXRlcnMucmFua0J5QXR0cmlidXRlUnVsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeU1pblZpc2libGVMb2RSdWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yYW5rQnlNaW5WaXNpYmxlTG9kUnVsZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnJhbmtCeU1pblZpc2libGVMb2RSdWxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5R2VvbWV0cnlUeXBlUnVsZVwiLCBudWxsID09IHBhcmFtZXRlcnMucmFua0J5R2VvbWV0cnlUeXBlUnVsZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5rQnlOYXR1cmFsT3JkZXJSdWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yYW5rQnlOYXR1cmFsT3JkZXJSdWxlID8gbnVsbCA6IHBhcmFtZXRlcnMucmFua0J5TmF0dXJhbE9yZGVyUnVsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpcmVjdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGlyZWN0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGlyZWN0aW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntkaXJlY3Rpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGVEaXJlY3Rpb25FbnVtfSwga2V5czpbXCJkaXJlY3Rpb25cIiwgXCJyYW5rQnlBdHRyaWJ1dGVSdWxlXCIsIFwicmFua0J5R2VvbWV0cnlUeXBlUnVsZVwiLCBcInJhbmtCeU1pblZpc2libGVMb2RSdWxlXCIsIFwicmFua0J5TmF0dXJhbE9yZGVyUnVsZVwiXSwgb2JqZWN0czp7cmFua0J5QXR0cmlidXRlUnVsZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUF0dHJpYnV0ZVJ1bGUsIHJhbmtCeUdlb21ldHJ5VHlwZVJ1bGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlHZW9tZXRyeVR5cGVSdWxlLCBcbiAgcmFua0J5TWluVmlzaWJsZUxvZFJ1bGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlNaW5WaXNpYmxlTG9kUnVsZSwgcmFua0J5TmF0dXJhbE9yZGVyUnVsZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU5hdHVyYWxPcmRlcn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlLnByb3RvdHlwZSwge2RpcmVjdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkaXJlY3Rpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkaXJlY3Rpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpcmVjdGlvblwiLCB2YWx1ZSk7XG59fSwgcmFua0J5QXR0cmlidXRlUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5rQnlBdHRyaWJ1dGVSdWxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmFua0J5QXR0cmlidXRlUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5QXR0cmlidXRlUnVsZVwiLCB2YWx1ZSk7XG59fSwgcmFua0J5R2VvbWV0cnlUeXBlUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5rQnlHZW9tZXRyeVR5cGVSdWxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmFua0J5R2VvbWV0cnlUeXBlUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5R2VvbWV0cnlUeXBlUnVsZVwiLCB2YWx1ZSk7XG59fSwgcmFua0J5TWluVmlzaWJsZUxvZFJ1bGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmFua0J5TWluVmlzaWJsZUxvZFJ1bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyYW5rQnlNaW5WaXNpYmxlTG9kUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5TWluVmlzaWJsZUxvZFJ1bGVcIiwgdmFsdWUpO1xufX0sIHJhbmtCeU5hdHVyYWxPcmRlclJ1bGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmFua0J5TmF0dXJhbE9yZGVyUnVsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJhbmtCeU5hdHVyYWxPcmRlclJ1bGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeU5hdHVyYWxPcmRlclJ1bGVcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlLCB7RGlyZWN0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlRGlyZWN0aW9uRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1JhbmtpbmdPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ6T3JkZXJSYW5raW5nUnVsZVwiLCBudWxsID09IHBhcmFtZXRlcnMuek9yZGVyUmFua2luZ1J1bGUgPyBudWxsIDogcGFyYW1ldGVycy56T3JkZXJSYW5raW5nUnVsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRoaW5uaW5nUmFua2luZ1J1bGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRoaW5uaW5nUmFua2luZ1J1bGUgPyBudWxsIDogcGFyYW1ldGVycy50aGlubmluZ1JhbmtpbmdSdWxlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJ0aGlubmluZ1JhbmtpbmdSdWxlXCIsIFwiek9yZGVyUmFua2luZ1J1bGVcIl0sIG9iamVjdHM6e3RoaW5uaW5nUmFua2luZ1J1bGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZSwgek9yZGVyUmFua2luZ1J1bGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMucHJvdG90eXBlLCB7dGhpbm5pbmdSYW5raW5nUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aGlubmluZ1JhbmtpbmdSdWxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGhpbm5pbmdSYW5raW5nUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGhpbm5pbmdSYW5raW5nUnVsZVwiLCB2YWx1ZSk7XG59fSwgek9yZGVyUmFua2luZ1J1bGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiek9yZGVyUmFua2luZ1J1bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ6T3JkZXJSYW5raW5nUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiek9yZGVyUmFua2luZ1J1bGVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ1J1bGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUmFua2luZ1J1bGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ1J1bGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeU9uZVRoaW5nUnVsZVwiLCBudWxsID09IHBhcmFtZXRlcnMucmFua0J5T25lVGhpbmdSdWxlID8gbnVsbCA6IHBhcmFtZXRlcnMucmFua0J5T25lVGhpbmdSdWxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHNldWRvUmFuZG9tVGllYnJlYWtpbmdcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBzZXVkb1JhbmRvbVRpZWJyZWFraW5nID8gbnVsbCA6IHBhcmFtZXRlcnMucHNldWRvUmFuZG9tVGllYnJlYWtpbmcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ1J1bGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e3JhbmtCeU9uZVRoaW5nUnVsZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZX0sIGtleXM6W1wicHNldWRvUmFuZG9tVGllYnJlYWtpbmdcIiwgXCJyYW5rQnlPbmVUaGluZ1J1bGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ1J1bGUucHJvdG90eXBlLCB7cHNldWRvUmFuZG9tVGllYnJlYWtpbmc6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHNldWRvUmFuZG9tVGllYnJlYWtpbmdcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwc2V1ZG9SYW5kb21UaWVicmVha2luZ1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHNldWRvUmFuZG9tVGllYnJlYWtpbmdcIiwgdmFsdWUpO1xufX0sIHJhbmtCeU9uZVRoaW5nUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5rQnlPbmVUaGluZ1J1bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyYW5rQnlPbmVUaGluZ1J1bGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeU9uZVRoaW5nUnVsZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1J1bGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMucGVybWlzc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy5wZXJtaXNzaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFjdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuYWN0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuYWN0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmluID8gbnVsbCA6IHBhcmFtZXRlcnMuaW4pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJub3RJblwiLCBudWxsID09IHBhcmFtZXRlcnMubm90SW4gPyBudWxsIDogcGFyYW1ldGVycy5ub3RJbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbmRpdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbmRpdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5jb25kaXRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9nQ29uZmlnXCIsIG51bGwgPT0gcGFyYW1ldGVycy5sb2dDb25maWcgPyBudWxsIDogcGFyYW1ldGVycy5sb2dDb25maWcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7Y29uZGl0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbiwgbG9nQ29uZmlnOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTG9nQ29uZmlnfSwgZW51bXM6e2FjdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGVBY3Rpb25FbnVtfSwga2V5czpcImFjdGlvbiBjb25kaXRpb25zIGRlc2NyaXB0aW9uIGluIGxvZ0NvbmZpZyBub3RJbiBwZXJtaXNzaW9uc1wiLnNwbGl0KFwiIFwiKX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlLnByb3RvdHlwZSwge2FjdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhY3Rpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhY3Rpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFjdGlvblwiLCB2YWx1ZSk7XG59fSwgY29uZGl0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb25kaXRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY29uZGl0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29uZGl0aW9uc1wiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGluOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImluXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImluXCIsIHZhbHVlKTtcbn19LCBsb2dDb25maWc6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibG9nQ29uZmlnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibG9nQ29uZmlnXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2dDb25maWdcIiwgdmFsdWUpO1xufX0sIG5vdEluOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5vdEluXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibm90SW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5vdEluXCIsIHZhbHVlKTtcbn19LCBwZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwZXJtaXNzaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBlcm1pc3Npb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlLCB7QWN0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZUFjdGlvbkVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TZXRJYW1Qb2xpY3lSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1NldElhbVBvbGljeVJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicG9saWN5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5wb2xpY3kgPyBudWxsIDogcGFyYW1ldGVycy5wb2xpY3kpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVNYXNrXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cGRhdGVNYXNrID8gbnVsbCA6IHBhcmFtZXRlcnMudXBkYXRlTWFzayk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNldElhbVBvbGljeVJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNldElhbVBvbGljeVJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJwb2xpY3lcIiwgXCJ1cGRhdGVNYXNrXCJdLCBvYmplY3RzOntwb2xpY3k6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3l9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNldElhbVBvbGljeVJlcXVlc3QucHJvdG90eXBlLCB7cG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBvbGljeVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBvbGljeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicG9saWN5XCIsIHZhbHVlKTtcbn19LCB1cGRhdGVNYXNrOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVwZGF0ZU1hc2tcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cGRhdGVNYXNrXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVNYXNrXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN0YXR1c1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9TdGF0dXNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3RhdHVzID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb2RlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jb2RlID8gbnVsbCA6IHBhcmFtZXRlcnMuY29kZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1lc3NhZ2VcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1lc3NhZ2UgPyBudWxsIDogcGFyYW1ldGVycy5tZXNzYWdlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGV0YWlsc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZGV0YWlscyA/IG51bGwgOiBwYXJhbWV0ZXJzLmRldGFpbHMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3RhdHVzLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJjb2RlXCIsIFwiZGV0YWlsc1wiLCBcIm1lc3NhZ2VcIl0sIG9iamVjdE1hcHM6e2RldGFpbHM6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiEwLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3RhdHVzLnByb3RvdHlwZSwge2NvZGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY29kZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNvZGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvZGVcIiwgdmFsdWUpO1xufX0sIGRldGFpbHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGV0YWlsc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRldGFpbHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRldGFpbHNcIiwgdmFsdWUpO1xufX0sIG1lc3NhZ2U6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWVzc2FnZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1lc3NhZ2VcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1lc3NhZ2VcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGFibGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNlbGVjdG9yc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc2VsZWN0b3JzID8gbnVsbCA6IHBhcmFtZXRlcnMuc2VsZWN0b3JzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZW5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVuYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZW5hbWUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7ZmlsZUZvcm1hdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW19LCBrZXlzOltcImV4cHJlc3Npb25cIiwgXCJmaWxlRm9ybWF0XCIsIFwiZmlsZW5hbWVcIiwgXCJuYW1lXCIsIFwic2VsZWN0b3JzXCJdLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGUucHJvdG90eXBlLCB7ZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgZmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRm9ybWF0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUZvcm1hdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCB2YWx1ZSk7XG59fSwgZmlsZW5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZW5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlbmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZW5hbWVcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHNlbGVjdG9yczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzZWxlY3RvcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzZWxlY3RvcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNlbGVjdG9yc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZSwge0ZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVGb3JtYXRFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVBc3NldEV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGFibGVBc3NldEV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVBc3NldEV4cG9ydE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVhcnRoRW5naW5lRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5lYXJ0aEVuZ2luZURlc3RpbmF0aW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVBc3NldEV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlQXNzZXRFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCJdLCBvYmplY3RzOntlYXJ0aEVuZ2luZURlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVEZXN0aW5hdGlvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLCB7ZWFydGhFbmdpbmVEZXN0aW5hdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZWFydGhFbmdpbmVEZXN0aW5hdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZWFydGhFbmdpbmVEZXN0aW5hdGlvblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RhYmxlRmlsZUV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZHJpdmVEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZHJpdmVEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRyaXZlRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuY2xvdWRTdG9yYWdlRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5jbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0Rlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5nY3NEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmdjc0Rlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtfSwga2V5czpbXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiLCBcImRyaXZlRGVzdGluYXRpb25cIiwgXCJmaWxlRm9ybWF0XCIsIFwiZ2NzRGVzdGluYXRpb25cIl0sIG9iamVjdHM6e2Nsb3VkU3RvcmFnZURlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb24sIGRyaXZlRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Ecml2ZURlc3RpbmF0aW9uLCBnY3NEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2Nsb3VkU3RvcmFnZURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19LCBkcml2ZURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRyaXZlRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkcml2ZURlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkcml2ZURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVGb3JtYXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRm9ybWF0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIHZhbHVlKTtcbn19LCBnY3NEZXN0aW5hdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnY3NEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdjc0Rlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnY3NEZXN0aW5hdGlvblwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zLCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGFibGVNYW5pZmVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByb3BlcnRpZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByb3BlcnRpZXMgPyBudWxsIDogcGFyYW1ldGVycy5wcm9wZXJ0aWVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpUHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy51cmlQcmVmaXggPyBudWxsIDogcGFyYW1ldGVycy51cmlQcmVmaXgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzb3VyY2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zb3VyY2VzID8gbnVsbCA6IHBhcmFtZXRlcnMuc291cmNlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhcnRUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhcnRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZW5kVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmVuZFRpbWUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7c291cmNlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlfSwga2V5czpcImVuZFRpbWUgbmFtZSBwcm9wZXJ0aWVzIHNvdXJjZXMgc3RhcnRUaW1lIHVyaVByZWZpeFwiLnNwbGl0KFwiIFwiKSwgb2JqZWN0TWFwczp7cHJvcGVydGllczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0LnByb3RvdHlwZSwge2VuZFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZW5kVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVuZFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHByb3BlcnRpZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJvcGVydGllc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByb3BlcnRpZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByb3BlcnRpZXNcIiwgdmFsdWUpO1xufX0sIHNvdXJjZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic291cmNlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNvdXJjZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNvdXJjZXNcIiwgdmFsdWUpO1xufX0sIHN0YXJ0VGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdGFydFRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdGFydFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCB2YWx1ZSk7XG59fSwgdXJpUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVyaVByZWZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVyaVByZWZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpUHJlZml4XCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RhYmxlU291cmNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cmlzXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cmlzID8gbnVsbCA6IHBhcmFtZXRlcnMudXJpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNoYXJzZXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNoYXJzZXQgPyBudWxsIDogcGFyYW1ldGVycy5jaGFyc2V0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RXJyb3JNZXRlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heEVycm9yTWV0ZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4RXJyb3JNZXRlcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhWZXJ0aWNlc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4VmVydGljZXMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhWZXJ0aWNlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyc1wiLCBudWxsID09IHBhcmFtZXRlcnMuY3JzID8gbnVsbCA6IHBhcmFtZXRlcnMuY3JzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvZGVzaWNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdlb2Rlc2ljID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2VvZGVzaWMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmltYXJ5R2VvbWV0cnlDb2x1bW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByaW1hcnlHZW9tZXRyeUNvbHVtbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnByaW1hcnlHZW9tZXRyeUNvbHVtbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInhDb2x1bW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnhDb2x1bW4gPyBudWxsIDogcGFyYW1ldGVycy54Q29sdW1uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwieUNvbHVtblwiLCBudWxsID09IHBhcmFtZXRlcnMueUNvbHVtbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnlDb2x1bW4pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5kYXRlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZGF0ZUZvcm1hdCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNzdkRlbGltaXRlclwiLCBudWxsID09IHBhcmFtZXRlcnMuY3N2RGVsaW1pdGVyID8gbnVsbCA6IHBhcmFtZXRlcnMuY3N2RGVsaW1pdGVyKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3N2UXVhbGlmaWVyXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jc3ZRdWFsaWZpZXIgPyBudWxsIDogcGFyYW1ldGVycy5jc3ZRdWFsaWZpZXIpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuY3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXMgPyBudWxsIDogcGFyYW1ldGVycy5jc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntjc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlQ3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNFbnVtfSwga2V5czpcImNoYXJzZXQgY3JzIGNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzIGNzdkRlbGltaXRlciBjc3ZRdWFsaWZpZXIgZGF0ZUZvcm1hdCBnZW9kZXNpYyBtYXhFcnJvck1ldGVycyBtYXhWZXJ0aWNlcyBwcmltYXJ5R2VvbWV0cnlDb2x1bW4gdXJpcyB4Q29sdW1uIHlDb2x1bW5cIi5zcGxpdChcIiBcIiksIG9iamVjdE1hcHM6e2NzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX19fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlLnByb3RvdHlwZSwge2NoYXJzZXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY2hhcnNldFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNoYXJzZXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNoYXJzZXRcIiwgdmFsdWUpO1xufX0sIGNyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyc1wiLCB2YWx1ZSk7XG59fSwgY3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNcIiwgdmFsdWUpO1xufX0sIGNzdkRlbGltaXRlcjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjc3ZEZWxpbWl0ZXJcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjc3ZEZWxpbWl0ZXJcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNzdkRlbGltaXRlclwiLCB2YWx1ZSk7XG59fSwgY3N2UXVhbGlmaWVyOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNzdlF1YWxpZmllclwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNzdlF1YWxpZmllclwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3N2UXVhbGlmaWVyXCIsIHZhbHVlKTtcbn19LCBkYXRlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRhdGVGb3JtYXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkYXRlRm9ybWF0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRlRm9ybWF0XCIsIHZhbHVlKTtcbn19LCBnZW9kZXNpYzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnZW9kZXNpY1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdlb2Rlc2ljXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9kZXNpY1wiLCB2YWx1ZSk7XG59fSwgbWF4RXJyb3JNZXRlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4RXJyb3JNZXRlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhFcnJvck1ldGVyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RXJyb3JNZXRlcnNcIiwgdmFsdWUpO1xufX0sIG1heFZlcnRpY2VzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFZlcnRpY2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4VmVydGljZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFZlcnRpY2VzXCIsIHZhbHVlKTtcbn19LCBwcmltYXJ5R2VvbWV0cnlDb2x1bW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJpbWFyeUdlb21ldHJ5Q29sdW1uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJpbWFyeUdlb21ldHJ5Q29sdW1uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmltYXJ5R2VvbWV0cnlDb2x1bW5cIiwgdmFsdWUpO1xufX0sIHVyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXJpc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgdmFsdWUpO1xufX0sIHhDb2x1bW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwieENvbHVtblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInhDb2x1bW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInhDb2x1bW5cIiwgdmFsdWUpO1xufX0sIHlDb2x1bW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwieUNvbHVtblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInlDb2x1bW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInlDb2x1bW5cIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2UsIHtDc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlQ3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wZXJtaXNzaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInBlcm1pc3Npb25zXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3QucHJvdG90eXBlLCB7cGVybWlzc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGVybWlzc2lvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwZXJtaXNzaW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvbnNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wZXJtaXNzaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlc3RJYW1QZXJtaXNzaW9uc1Jlc3BvbnNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJwZXJtaXNzaW9uc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZS5wcm90b3R5cGUsIHtwZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwZXJtaXNzaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBlcm1pc3Npb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZlJlY29yZEltYWdlRXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UZlJlY29yZEltYWdlRXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZlJlY29yZEltYWdlRXhwb3J0T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZURpbWVuc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVEaW1lbnNpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZURpbWVuc2lvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXJnaW5EaW1lbnNpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXJnaW5EaW1lbnNpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMubWFyZ2luRGltZW5zaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbXByZXNzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jb21wcmVzcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmNvbXByZXNzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4U2l6ZUJ5dGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhTaXplQnl0ZXMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhTaXplQnl0ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZWZhdWx0VmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlZmF1bHRWYWx1ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlZmF1bHRWYWx1ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRlbnNvckRlcHRoc1wiLCBudWxsID09IHBhcmFtZXRlcnMudGVuc29yRGVwdGhzID8gbnVsbCA6IHBhcmFtZXRlcnMudGVuc29yRGVwdGhzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2VxdWVuY2VEYXRhXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zZXF1ZW5jZURhdGEgPyBudWxsIDogcGFyYW1ldGVycy5zZXF1ZW5jZURhdGEpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb2xsYXBzZUJhbmRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jb2xsYXBzZUJhbmRzID8gbnVsbCA6IHBhcmFtZXRlcnMuY29sbGFwc2VCYW5kcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heE1hc2tlZFJhdGlvXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhNYXNrZWRSYXRpbyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heE1hc2tlZFJhdGlvKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGZSZWNvcmRJbWFnZUV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGZSZWNvcmRJbWFnZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGZSZWNvcmRJbWFnZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpcImNvbGxhcHNlQmFuZHMgY29tcHJlc3MgZGVmYXVsdFZhbHVlIG1hcmdpbkRpbWVuc2lvbnMgbWF4TWFza2VkUmF0aW8gbWF4U2l6ZUJ5dGVzIHNlcXVlbmNlRGF0YSB0ZW5zb3JEZXB0aHMgdGlsZURpbWVuc2lvbnNcIi5zcGxpdChcIiBcIiksIG9iamVjdE1hcHM6e3RlbnNvckRlcHRoczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fSwgb2JqZWN0czp7bWFyZ2luRGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLCB0aWxlRGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZlJlY29yZEltYWdlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUsIHtjb2xsYXBzZUJhbmRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNvbGxhcHNlQmFuZHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjb2xsYXBzZUJhbmRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb2xsYXBzZUJhbmRzXCIsIHZhbHVlKTtcbn19LCBjb21wcmVzczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb21wcmVzc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNvbXByZXNzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb21wcmVzc1wiLCB2YWx1ZSk7XG59fSwgZGVmYXVsdFZhbHVlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlZmF1bHRWYWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlZmF1bHRWYWx1ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVmYXVsdFZhbHVlXCIsIHZhbHVlKTtcbn19LCBtYXJnaW5EaW1lbnNpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1hcmdpbkRpbWVuc2lvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXJnaW5EaW1lbnNpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXJnaW5EaW1lbnNpb25zXCIsIHZhbHVlKTtcbn19LCBtYXhNYXNrZWRSYXRpbzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhNYXNrZWRSYXRpb1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heE1hc2tlZFJhdGlvXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhNYXNrZWRSYXRpb1wiLCB2YWx1ZSk7XG59fSwgbWF4U2l6ZUJ5dGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFNpemVCeXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFNpemVCeXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4U2l6ZUJ5dGVzXCIsIHZhbHVlKTtcbn19LCBzZXF1ZW5jZURhdGE6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2VxdWVuY2VEYXRhXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic2VxdWVuY2VEYXRhXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzZXF1ZW5jZURhdGFcIiwgdmFsdWUpO1xufX0sIHRlbnNvckRlcHRoczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0ZW5zb3JEZXB0aHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0ZW5zb3JEZXB0aHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRlbnNvckRlcHRoc1wiLCB2YWx1ZSk7XG59fSwgdGlsZURpbWVuc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGlsZURpbWVuc2lvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlRGltZW5zaW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZURpbWVuc2lvbnNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RoaW5uaW5nT3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heEZlYXR1cmVzUGVyVGlsZVwiLCBudWxsID09IHBhcmFtZXRlcnMubWF4RmVhdHVyZXNQZXJUaWxlID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4RmVhdHVyZXNQZXJUaWxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGhpbm5pbmdTdHJhdGVneVwiLCBudWxsID09IHBhcmFtZXRlcnMudGhpbm5pbmdTdHJhdGVneSA/IG51bGwgOiBwYXJhbWV0ZXJzLnRoaW5uaW5nU3RyYXRlZ3kpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3RoaW5uaW5nU3RyYXRlZ3k6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnNUaGlubmluZ1N0cmF0ZWd5RW51bX0sIGtleXM6W1wibWF4RmVhdHVyZXNQZXJUaWxlXCIsIFwidGhpbm5pbmdTdHJhdGVneVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnMucHJvdG90eXBlLCB7bWF4RmVhdHVyZXNQZXJUaWxlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heEZlYXR1cmVzUGVyVGlsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heEZlYXR1cmVzUGVyVGlsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RmVhdHVyZXNQZXJUaWxlXCIsIHZhbHVlKTtcbn19LCB0aGlubmluZ1N0cmF0ZWd5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRoaW5uaW5nU3RyYXRlZ3lcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aGlubmluZ1N0cmF0ZWd5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aGlubmluZ1N0cmF0ZWd5XCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucywge1RoaW5uaW5nU3RyYXRlZ3k6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnNUaGlubmluZ1N0cmF0ZWd5RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UaHVtYm5haWxQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kSWRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5iYW5kSWRzID8gbnVsbCA6IHBhcmFtZXRlcnMuYmFuZElkcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpc3VhbGl6YXRpb25PcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy52aXN1YWxpemF0aW9uT3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25PcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCBudWxsID09IHBhcmFtZXRlcnMuZ3JpZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmdyaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVByZWZpeFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZW5hbWVQcmVmaXggPyBudWxsIDogcGFyYW1ldGVycy5maWxlbmFtZVByZWZpeCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWwucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7ZmlsZUZvcm1hdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtfSwga2V5czpcImJhbmRJZHMgZXhwcmVzc2lvbiBmaWxlRm9ybWF0IGZpbGVuYW1lUHJlZml4IGdyaWQgbmFtZSB2aXN1YWxpemF0aW9uT3B0aW9uc1wiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7ZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIGdyaWQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQsIHZpc3VhbGl6YXRpb25PcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbC5wcm90b3R5cGUsIHtiYW5kSWRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJhbmRJZHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJiYW5kSWRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kSWRzXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVGb3JtYXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRm9ybWF0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIHZhbHVlKTtcbn19LCBmaWxlbmFtZVByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlbmFtZVByZWZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVuYW1lUHJlZml4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVByZWZpeFwiLCB2YWx1ZSk7XG59fSwgZ3JpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJncmlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ3JpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgdmlzdWFsaXphdGlvbk9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsLCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGlsZU9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFpvb21cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVuZFpvb20gPyBudWxsIDogcGFyYW1ldGVycy5lbmRab29tKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4Wm9vbVwiLCBudWxsID09IHBhcmFtZXRlcnMubWF4Wm9vbSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFpvb20pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzY2FsZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc2NhbGUgPyBudWxsIDogcGFyYW1ldGVycy5zY2FsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0Wm9vbVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhcnRab29tID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhcnRab29tKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWluWm9vbVwiLCBudWxsID09IHBhcmFtZXRlcnMubWluWm9vbSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1pblpvb20pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJza2lwRW1wdHlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNraXBFbXB0eSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNraXBFbXB0eSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNraXBFbXB0eVRpbGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5za2lwRW1wdHlUaWxlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNraXBFbXB0eVRpbGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWFwc0FwaUtleVwiLCBudWxsID09IHBhcmFtZXRlcnMubWFwc0FwaUtleSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1hcHNBcGlLZXkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkaW1lbnNpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaW1lbnNpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZGltZW5zaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVEaW1lbnNpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlRGltZW5zaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVEaW1lbnNpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RyaWRlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdHJpZGUgPyBudWxsIDogcGFyYW1ldGVycy5zdHJpZGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ6b29tU3Vic2V0XCIsIG51bGwgPT0gcGFyYW1ldGVycy56b29tU3Vic2V0ID8gbnVsbCA6IHBhcmFtZXRlcnMuem9vbVN1YnNldCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlT3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6XCJkaW1lbnNpb25zIGVuZFpvb20gbWFwc0FwaUtleSBtYXhab29tIG1pblpvb20gc2NhbGUgc2tpcEVtcHR5IHNraXBFbXB0eVRpbGVzIHN0YXJ0Wm9vbSBzdHJpZGUgdGlsZURpbWVuc2lvbnMgem9vbVN1YnNldFwiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7ZGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLCB0aWxlRGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLCB6b29tU3Vic2V0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldH19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnMucHJvdG90eXBlLCB7ZGltZW5zaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkaW1lbnNpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGltZW5zaW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGltZW5zaW9uc1wiLCB2YWx1ZSk7XG59fSwgZW5kWm9vbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlbmRab29tXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZW5kWm9vbVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kWm9vbVwiLCB2YWx1ZSk7XG59fSwgbWFwc0FwaUtleTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXBzQXBpS2V5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWFwc0FwaUtleVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWFwc0FwaUtleVwiLCB2YWx1ZSk7XG59fSwgbWF4Wm9vbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhab29tXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4Wm9vbVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4Wm9vbVwiLCB2YWx1ZSk7XG59fSwgbWluWm9vbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtaW5ab29tXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWluWm9vbVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWluWm9vbVwiLCB2YWx1ZSk7XG59fSwgc2NhbGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2NhbGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzY2FsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NhbGVcIiwgdmFsdWUpO1xufX0sIHNraXBFbXB0eTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJza2lwRW1wdHlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJza2lwRW1wdHlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNraXBFbXB0eVwiLCB2YWx1ZSk7XG59fSwgc2tpcEVtcHR5VGlsZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2tpcEVtcHR5VGlsZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJza2lwRW1wdHlUaWxlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2tpcEVtcHR5VGlsZXNcIiwgdmFsdWUpO1xufX0sIHN0YXJ0Wm9vbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdGFydFpvb21cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdGFydFpvb21cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0Wm9vbVwiLCB2YWx1ZSk7XG59fSwgc3RyaWRlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0cmlkZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0cmlkZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RyaWRlXCIsIHZhbHVlKTtcbn19LCB0aWxlRGltZW5zaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlRGltZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVEaW1lbnNpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRGltZW5zaW9uc1wiLCB2YWx1ZSk7XG59fSwgem9vbVN1YnNldDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ6b29tU3Vic2V0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiem9vbVN1YnNldFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiem9vbVN1YnNldFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RpbGVzZXRQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzb3VyY2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zb3VyY2VzID8gbnVsbCA6IHBhcmFtZXRlcnMuc291cmNlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRhdGFUeXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kYXRhVHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRhdGFUeXBlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jcnMgPyBudWxsIDogcGFyYW1ldGVycy5jcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdWJkYXRhc2V0UHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdWJkYXRhc2V0UHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMuc3ViZGF0YXNldFByZWZpeCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN1YmRhdGFzZXRTdWZmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN1YmRhdGFzZXRTdWZmaXggPyBudWxsIDogcGFyYW1ldGVycy5zdWJkYXRhc2V0U3VmZml4KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e3NvdXJjZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZX0sIGVudW1zOntkYXRhVHlwZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW19LCBrZXlzOlwiY3JzIGRhdGFUeXBlIGlkIHNvdXJjZXMgc3ViZGF0YXNldFByZWZpeCBzdWJkYXRhc2V0U3VmZml4XCIuc3BsaXQoXCIgXCIpfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXQucHJvdG90eXBlLCB7Y3JzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JzXCIsIHZhbHVlKTtcbn19LCBkYXRhVHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkYXRhVHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRhdGFUeXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhVHlwZVwiLCB2YWx1ZSk7XG59fSwgaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgdmFsdWUpO1xufX0sIHNvdXJjZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic291cmNlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNvdXJjZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNvdXJjZXNcIiwgdmFsdWUpO1xufX0sIHN1YmRhdGFzZXRQcmVmaXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3ViZGF0YXNldFByZWZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN1YmRhdGFzZXRQcmVmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN1YmRhdGFzZXRQcmVmaXhcIiwgdmFsdWUpO1xufX0sIHN1YmRhdGFzZXRTdWZmaXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3ViZGF0YXNldFN1ZmZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN1YmRhdGFzZXRTdWZmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN1YmRhdGFzZXRTdWZmaXhcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldCwge0RhdGFUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RpbGVzZXRCYW5kUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpZFwiLCBudWxsID09IHBhcmFtZXRlcnMuaWQgPyBudWxsIDogcGFyYW1ldGVycy5pZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzZXRJZFwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXNldElkID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZXNldElkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldEJhbmRJbmRleFwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXNldEJhbmRJbmRleCA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVzZXRCYW5kSW5kZXgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaXNzaW5nRGF0YVwiLCBudWxsID09IHBhcmFtZXRlcnMubWlzc2luZ0RhdGEgPyBudWxsIDogcGFyYW1ldGVycy5taXNzaW5nRGF0YSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInB5cmFtaWRpbmdQb2xpY3lcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3kgPyBudWxsIDogcGFyYW1ldGVycy5weXJhbWlkaW5nUG9saWN5KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3B5cmFtaWRpbmdQb2xpY3k6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtfSwga2V5czpbXCJpZFwiLCBcIm1pc3NpbmdEYXRhXCIsIFwicHlyYW1pZGluZ1BvbGljeVwiLCBcInRpbGVzZXRCYW5kSW5kZXhcIiwgXCJ0aWxlc2V0SWRcIl0sIG9iamVjdHM6e21pc3NpbmdEYXRhOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTWlzc2luZ0RhdGF9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kLnByb3RvdHlwZSwge2lkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlkXCIsIHZhbHVlKTtcbn19LCBtaXNzaW5nRGF0YTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtaXNzaW5nRGF0YVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1pc3NpbmdEYXRhXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaXNzaW5nRGF0YVwiLCB2YWx1ZSk7XG59fSwgcHlyYW1pZGluZ1BvbGljeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJweXJhbWlkaW5nUG9saWN5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHlyYW1pZGluZ1BvbGljeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeVwiLCB2YWx1ZSk7XG59fSwgdGlsZXNldEJhbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc2V0QmFuZEluZGV4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZXNldEJhbmRJbmRleFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldEJhbmRJbmRleFwiLCB2YWx1ZSk7XG59fSwgdGlsZXNldElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVzZXRJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVzZXRJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldElkXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kLCB7UHlyYW1pZGluZ1BvbGljeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0TWFza0JhbmRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGlsZXNldE1hc2tCYW5kUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlc2V0SWQgPyBudWxsIDogcGFyYW1ldGVycy50aWxlc2V0SWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kSWRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5iYW5kSWRzID8gbnVsbCA6IHBhcmFtZXRlcnMuYmFuZElkcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0TWFza0JhbmQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImJhbmRJZHNcIiwgXCJ0aWxlc2V0SWRcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldE1hc2tCYW5kLnByb3RvdHlwZSwge2JhbmRJZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZElkc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgdmFsdWUpO1xufX0sIHRpbGVzZXRJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc2V0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlc2V0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzZXRJZFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVFbnRyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UaWxlc3RvcmVFbnRyeVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVFbnRyeSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc291cmNlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNvdXJjZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYXRoUHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5wYXRoUHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMucGF0aFByZWZpeCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUVudHJ5LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUVudHJ5LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVFbnRyeTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUVudHJ5LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7c291cmNlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZX0sIGtleXM6W1wicGF0aFByZWZpeFwiLCBcInNvdXJjZXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlRW50cnkucHJvdG90eXBlLCB7cGF0aFByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwYXRoUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGF0aFByZWZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGF0aFByZWZpeFwiLCB2YWx1ZSk7XG59fSwgc291cmNlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzb3VyY2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic291cmNlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVMb2NhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UaWxlc3RvcmVMb2NhdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVMb2NhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc291cmNlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNvdXJjZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYXRoUHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5wYXRoUHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMucGF0aFByZWZpeCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUxvY2F0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUxvY2F0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVMb2NhdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUxvY2F0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7c291cmNlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZX0sIGtleXM6W1wicGF0aFByZWZpeFwiLCBcInNvdXJjZXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlTG9jYXRpb24ucHJvdG90eXBlLCB7cGF0aFByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwYXRoUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGF0aFByZWZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGF0aFByZWZpeFwiLCB2YWx1ZSk7XG59fSwgc291cmNlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzb3VyY2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic291cmNlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVTb3VyY2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGlsZXN0b3JlU291cmNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGF0aFN1ZmZpeFwiLCBudWxsID09IHBhcmFtZXRlcnMucGF0aFN1ZmZpeCA/IG51bGwgOiBwYXJhbWV0ZXJzLnBhdGhTdWZmaXgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJoZWFkZXJTaXplQnl0ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmhlYWRlclNpemVCeXRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmhlYWRlclNpemVCeXRlcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVTb3VyY2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImhlYWRlclNpemVCeXRlc1wiLCBcInBhdGhTdWZmaXhcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlU291cmNlLnByb3RvdHlwZSwge2hlYWRlclNpemVCeXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJoZWFkZXJTaXplQnl0ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJoZWFkZXJTaXplQnl0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImhlYWRlclNpemVCeXRlc1wiLCB2YWx1ZSk7XG59fSwgcGF0aFN1ZmZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwYXRoU3VmZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGF0aFN1ZmZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGF0aFN1ZmZpeFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RpbGVzdG9yZVRpbGVzZXRQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlVGlsZXNldCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUluZGV4ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVJbmRleGVzID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUluZGV4ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaXJzdFRpbGVJbmRleFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlyc3RUaWxlSW5kZXggPyBudWxsIDogcGFyYW1ldGVycy5maXJzdFRpbGVJbmRleCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzUGVyRmlsZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXNQZXJGaWxlID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZXNQZXJGaWxlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlVGlsZXNldCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlVGlsZXNldC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImZpbGVJbmRleGVzXCIsIFwiZmlyc3RUaWxlSW5kZXhcIiwgXCJ0aWxlc1BlckZpbGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlVGlsZXNldC5wcm90b3R5cGUsIHtmaWxlSW5kZXhlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlSW5kZXhlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVJbmRleGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlSW5kZXhlc1wiLCB2YWx1ZSk7XG59fSwgZmlyc3RUaWxlSW5kZXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlyc3RUaWxlSW5kZXhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaXJzdFRpbGVJbmRleFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlyc3RUaWxlSW5kZXhcIiwgdmFsdWUpO1xufX0sIHRpbGVzUGVyRmlsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc1BlckZpbGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlc1BlckZpbGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzUGVyRmlsZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5VcGRhdGVBc3NldFJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVXBkYXRlQXNzZXRSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlVwZGF0ZUFzc2V0UmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0ID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVNYXNrXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cGRhdGVNYXNrID8gbnVsbCA6IHBhcmFtZXRlcnMudXBkYXRlTWFzayk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlVwZGF0ZUFzc2V0UmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5VcGRhdGVBc3NldFJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlVwZGF0ZUFzc2V0UmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlVwZGF0ZUFzc2V0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFzc2V0XCIsIFwidXBkYXRlTWFza1wiXSwgb2JqZWN0czp7YXNzZXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5VcGRhdGVBc3NldFJlcXVlc3QucHJvdG90eXBlLCB7YXNzZXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXNzZXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRcIiwgdmFsdWUpO1xufX0sIHVwZGF0ZU1hc2s6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXBkYXRlTWFza1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVwZGF0ZU1hc2tcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVwZGF0ZU1hc2tcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1ZhbHVlTm9kZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbnN0YW50VmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbnN0YW50VmFsdWUgPyBudWxsIDogcGFyYW1ldGVycy5jb25zdGFudFZhbHVlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW50ZWdlclZhbHVlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pbnRlZ2VyVmFsdWUgPyBudWxsIDogcGFyYW1ldGVycy5pbnRlZ2VyVmFsdWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJieXRlc1ZhbHVlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ieXRlc1ZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMuYnl0ZXNWYWx1ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFycmF5VmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFycmF5VmFsdWUgPyBudWxsIDogcGFyYW1ldGVycy5hcnJheVZhbHVlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGljdGlvbmFyeVZhbHVlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaWN0aW9uYXJ5VmFsdWUgPyBudWxsIDogcGFyYW1ldGVycy5kaWN0aW9uYXJ5VmFsdWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmdW5jdGlvbkRlZmluaXRpb25WYWx1ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZnVuY3Rpb25EZWZpbml0aW9uVmFsdWUgPyBudWxsIDogcGFyYW1ldGVycy5mdW5jdGlvbkRlZmluaXRpb25WYWx1ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZ1bmN0aW9uSW52b2NhdGlvblZhbHVlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mdW5jdGlvbkludm9jYXRpb25WYWx1ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmZ1bmN0aW9uSW52b2NhdGlvblZhbHVlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJndW1lbnRSZWZlcmVuY2VcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFyZ3VtZW50UmVmZXJlbmNlID8gbnVsbCA6IHBhcmFtZXRlcnMuYXJndW1lbnRSZWZlcmVuY2UpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZVJlZmVyZW5jZVwiLCBudWxsID09IHBhcmFtZXRlcnMudmFsdWVSZWZlcmVuY2UgPyBudWxsIDogcGFyYW1ldGVycy52YWx1ZVJlZmVyZW5jZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOlwiYXJndW1lbnRSZWZlcmVuY2UgYXJyYXlWYWx1ZSBieXRlc1ZhbHVlIGNvbnN0YW50VmFsdWUgZGljdGlvbmFyeVZhbHVlIGZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlIGZ1bmN0aW9uSW52b2NhdGlvblZhbHVlIGludGVnZXJWYWx1ZSB2YWx1ZVJlZmVyZW5jZVwiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7YXJyYXlWYWx1ZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFycmF5VmFsdWUsIGRpY3Rpb25hcnlWYWx1ZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRpY3Rpb25hcnlWYWx1ZSwgZnVuY3Rpb25EZWZpbml0aW9uVmFsdWU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkRlZmluaXRpb24sIFxuICBmdW5jdGlvbkludm9jYXRpb25WYWx1ZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uSW52b2NhdGlvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlLnByb3RvdHlwZSwge2FyZ3VtZW50UmVmZXJlbmNlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFyZ3VtZW50UmVmZXJlbmNlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXJndW1lbnRSZWZlcmVuY2VcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFyZ3VtZW50UmVmZXJlbmNlXCIsIHZhbHVlKTtcbn19LCBhcnJheVZhbHVlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFycmF5VmFsdWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhcnJheVZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcnJheVZhbHVlXCIsIHZhbHVlKTtcbn19LCBieXRlc1ZhbHVlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJ5dGVzVmFsdWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJieXRlc1ZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJieXRlc1ZhbHVlXCIsIHZhbHVlKTtcbn19LCBjb25zdGFudFZhbHVlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNvbnN0YW50VmFsdWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjb25zdGFudFZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb25zdGFudFZhbHVlXCIsIHZhbHVlKTtcbn19LCBkaWN0aW9uYXJ5VmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGljdGlvbmFyeVZhbHVlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGljdGlvbmFyeVZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkaWN0aW9uYXJ5VmFsdWVcIiwgdmFsdWUpO1xufX0sIGZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZnVuY3Rpb25EZWZpbml0aW9uVmFsdWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlXCIsIHZhbHVlKTtcbn19LCBmdW5jdGlvbkludm9jYXRpb25WYWx1ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmdW5jdGlvbkludm9jYXRpb25WYWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZ1bmN0aW9uSW52b2NhdGlvblZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmdW5jdGlvbkludm9jYXRpb25WYWx1ZVwiLCB2YWx1ZSk7XG59fSwgaW50ZWdlclZhbHVlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImludGVnZXJWYWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImludGVnZXJWYWx1ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW50ZWdlclZhbHVlXCIsIHZhbHVlKTtcbn19LCB2YWx1ZVJlZmVyZW5jZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2YWx1ZVJlZmVyZW5jZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZhbHVlUmVmZXJlbmNlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZVJlZmVyZW5jZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1ZpZGVvRmlsZUV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZHJpdmVEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZHJpdmVEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRyaXZlRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuY2xvdWRTdG9yYWdlRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5jbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0Rlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5nY3NEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmdjc0Rlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtfSwga2V5czpbXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiLCBcImRyaXZlRGVzdGluYXRpb25cIiwgXCJmaWxlRm9ybWF0XCIsIFwiZ2NzRGVzdGluYXRpb25cIl0sIG9iamVjdHM6e2Nsb3VkU3RvcmFnZURlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb24sIGRyaXZlRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Ecml2ZURlc3RpbmF0aW9uLCBnY3NEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2Nsb3VkU3RvcmFnZURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19LCBkcml2ZURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRyaXZlRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkcml2ZURlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkcml2ZURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVGb3JtYXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRm9ybWF0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIHZhbHVlKTtcbn19LCBnY3NEZXN0aW5hdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnY3NEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdjc0Rlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnY3NEZXN0aW5hdGlvblwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zLCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9WaWRlb09wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmcmFtZXNQZXJTZWNvbmRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZyYW1lc1BlclNlY29uZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZyYW1lc1BlclNlY29uZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heEZyYW1lc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4RnJhbWVzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4RnJhbWVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4UGl4ZWxzUGVyRnJhbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFBpeGVsc1BlckZyYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4UGl4ZWxzUGVyRnJhbWUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJmcmFtZXNQZXJTZWNvbmRcIiwgXCJtYXhGcmFtZXNcIiwgXCJtYXhQaXhlbHNQZXJGcmFtZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnMucHJvdG90eXBlLCB7ZnJhbWVzUGVyU2Vjb25kOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZyYW1lc1BlclNlY29uZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZyYW1lc1BlclNlY29uZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnJhbWVzUGVyU2Vjb25kXCIsIHZhbHVlKTtcbn19LCBtYXhGcmFtZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4RnJhbWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4RnJhbWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhGcmFtZXNcIiwgdmFsdWUpO1xufX0sIG1heFBpeGVsc1BlckZyYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFBpeGVsc1BlckZyYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4UGl4ZWxzUGVyRnJhbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFBpeGVsc1BlckZyYW1lXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1ZpZGVvVGh1bWJuYWlsUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlkZW9PcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy52aWRlb09wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy52aWRlb09wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdyaWQgPyBudWxsIDogcGFyYW1ldGVycy5ncmlkKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWwsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWwucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWwucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2ZpbGVGb3JtYXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbEZpbGVGb3JtYXRFbnVtfSwga2V5czpbXCJleHByZXNzaW9uXCIsIFwiZmlsZUZvcm1hdFwiLCBcImdyaWRcIiwgXCJuYW1lXCIsIFwidmlkZW9PcHRpb25zXCJdLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgZ3JpZDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZCwgdmlkZW9PcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbC5wcm90b3R5cGUsIHtleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVGb3JtYXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRm9ybWF0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIHZhbHVlKTtcbn19LCBncmlkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdyaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJncmlkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIHZhbHVlKTtcbn19LCBuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCB2aWRlb09wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmlkZW9PcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmlkZW9PcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aWRlb09wdGlvbnNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWwsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWxGaWxlRm9ybWF0RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpc3VhbGl6YXRpb25PcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1Zpc3VhbGl6YXRpb25PcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpc3VhbGl6YXRpb25PcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5nZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJhbmdlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnJhbmdlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhbGV0dGVDb2xvcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBhbGV0dGVDb2xvcnMgPyBudWxsIDogcGFyYW1ldGVycy5wYWxldHRlQ29sb3JzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2FtbWFcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdhbW1hID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2FtbWEpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcGFjaXR5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5vcGFjaXR5ID8gbnVsbCA6IHBhcmFtZXRlcnMub3BhY2l0eSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpc3VhbGl6YXRpb25PcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpc3VhbGl6YXRpb25PcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpc3VhbGl6YXRpb25PcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7cmFuZ2VzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2V9LCBrZXlzOltcImdhbW1hXCIsIFwib3BhY2l0eVwiLCBcInBhbGV0dGVDb2xvcnNcIiwgXCJyYW5nZXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnMucHJvdG90eXBlLCB7Z2FtbWE6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ2FtbWFcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJnYW1tYVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2FtbWFcIiwgdmFsdWUpO1xufX0sIG9wYWNpdHk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwib3BhY2l0eVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm9wYWNpdHlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9wYWNpdHlcIiwgdmFsdWUpO1xufX0sIHBhbGV0dGVDb2xvcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGFsZXR0ZUNvbG9yc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBhbGV0dGVDb2xvcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhbGV0dGVDb2xvcnNcIiwgdmFsdWUpO1xufX0sIHJhbmdlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5nZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyYW5nZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmdlc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5XYWl0T3BlcmF0aW9uUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9XYWl0T3BlcmF0aW9uUmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5XYWl0T3BlcmF0aW9uUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGltZW91dFwiLCBudWxsID09IHBhcmFtZXRlcnMudGltZW91dCA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbWVvdXQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5XYWl0T3BlcmF0aW9uUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5XYWl0T3BlcmF0aW9uUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuV2FpdE9wZXJhdGlvblJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5XYWl0T3BlcmF0aW9uUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInRpbWVvdXRcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuV2FpdE9wZXJhdGlvblJlcXVlc3QucHJvdG90eXBlLCB7dGltZW91dDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aW1lb3V0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGltZW91dFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGltZW91dFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ab29tU3Vic2V0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1pvb21TdWJzZXRQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0YXJ0ID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhcnQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlbmRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVuZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmVuZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pblwiLCBudWxsID09IHBhcmFtZXRlcnMubWluID8gbnVsbCA6IHBhcmFtZXRlcnMubWluKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXggPyBudWxsIDogcGFyYW1ldGVycy5tYXgpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ab29tU3Vic2V0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Llpvb21TdWJzZXQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Llpvb21TdWJzZXQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ab29tU3Vic2V0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZW5kXCIsIFwibWF4XCIsIFwibWluXCIsIFwic3RhcnRcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldC5wcm90b3R5cGUsIHtlbmQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZW5kXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZW5kXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlbmRcIiwgdmFsdWUpO1xufX0sIG1heDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFwiLCB2YWx1ZSk7XG59fSwgbWluOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1pblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1pblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWluXCIsIHZhbHVlKTtcbn19LCBzdGFydDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdGFydFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXJ0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFwiLCB2YWx1ZSk7XG59fX0pO1xudmFyIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wID0geyRYZ2FmdjpcIiQueGdhZnZcIiwgYWNjZXNzX3Rva2VuOlwiYWNjZXNzX3Rva2VuXCIsIGFsdDpcImFsdFwiLCBhc3NldElkOlwiYXNzZXRJZFwiLCBjYWxsYmFjazpcImNhbGxiYWNrXCIsIGVuZFRpbWU6XCJlbmRUaW1lXCIsIGZpZWxkczpcImZpZWxkc1wiLCBmaWx0ZXI6XCJmaWx0ZXJcIiwga2V5Olwia2V5XCIsIG9hdXRoX3Rva2VuOlwib2F1dGhfdG9rZW5cIiwgb3ZlcndyaXRlOlwib3ZlcndyaXRlXCIsIHBhZ2VTaXplOlwicGFnZVNpemVcIiwgcGFnZVRva2VuOlwicGFnZVRva2VuXCIsIHByZXR0eVByaW50OlwicHJldHR5UHJpbnRcIiwgcXVvdGFVc2VyOlwicXVvdGFVc2VyXCIsIHJlZ2lvbjpcInJlZ2lvblwiLCBzdGFydFRpbWU6XCJzdGFydFRpbWVcIiwgdXBsb2FkVHlwZTpcInVwbG9hZFR5cGVcIiwgdXBsb2FkX3Byb3RvY29sOlwidXBsb2FkX3Byb3RvY29sXCIsIFxudmlldzpcInZpZXdcIn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUubGlzdCA9IGZ1bmN0aW9uKHBhcmVudCwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFsZ29yaXRobXMubGlzdFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvYWxnb3JpdGhtc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBbGdvcml0aG1zUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0FwaUNsaWVudFZpZXdFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQXBpQ2xpZW50Vmlld0VudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudFZpZXdFbnVtID0ge0JBU0lDOlwiQkFTSUNcIiwgRUFSVEhfRU5HSU5FX0FTU0VUX1ZJRVdfVU5TUEVDSUZJRUQ6XCJFQVJUSF9FTkdJTkVfQVNTRVRfVklFV19VTlNQRUNJRklFRFwiLCBGVUxMOlwiRlVMTFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudFZpZXdFbnVtLkVBUlRIX0VOR0lORV9BU1NFVF9WSUVXX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50Vmlld0VudW0uRlVMTCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudFZpZXdFbnVtLkJBU0lDXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5nZXRDYXBhYmlsaXRpZXMgPSBmdW5jdGlvbihwYXJlbnQsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5nZXRDYXBhYmlsaXRpZXNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL2NhcGFiaWxpdGllc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc30pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5saXN0QXNzZXRzID0gZnVuY3Rpb24ocGFyZW50LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubGlzdEFzc2V0c1wiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCI6bGlzdEFzc2V0c1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBc3NldHNSZXNwb25zZX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0Fzc2V0c0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNBc3NldHNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNBc3NldHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNBc3NldHNBcGlDbGllbnRWaWV3RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0Fzc2V0c0FwaUNsaWVudFZpZXdFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRWaWV3RW51bSA9IHtCQVNJQzpcIkJBU0lDXCIsIEVBUlRIX0VOR0lORV9BU1NFVF9WSUVXX1VOU1BFQ0lGSUVEOlwiRUFSVEhfRU5HSU5FX0FTU0VUX1ZJRVdfVU5TUEVDSUZJRURcIiwgRlVMTDpcIkZVTExcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRWaWV3RW51bS5FQVJUSF9FTkdJTkVfQVNTRVRfVklFV19VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudFZpZXdFbnVtLkZVTEwsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRWaWV3RW51bS5CQVNJQ107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uKHNvdXJjZU5hbWUsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHNvdXJjZU5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmNvcHlcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHNvdXJjZU5hbWUgKyBcIjpjb3B5XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL2Fzc2V0c1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24obmFtZSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiREVMRVRFXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmRlbGV0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMuZ2V0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0SWFtUG9saWN5ID0gZnVuY3Rpb24ocmVzb3VyY2UsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHJlc291cmNlLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5nZXRJYW1Qb2xpY3lcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHJlc291cmNlICsgXCI6Z2V0SWFtUG9saWN5XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUG9saWN5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldExpbmtlZCA9IGZ1bmN0aW9uKG5hbWUsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmdldExpbmtlZFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSArIFwiOmdldExpbmtlZFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0UGl4ZWxzID0gZnVuY3Rpb24obmFtZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMuZ2V0UGl4ZWxzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lICsgXCI6Z2V0UGl4ZWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHl9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUubGluayA9IGZ1bmN0aW9uKHNvdXJjZU5hbWUsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHNvdXJjZU5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmxpbmtcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHNvdXJjZU5hbWUgKyBcIjpsaW5rXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5saXN0QXNzZXRzID0gZnVuY3Rpb24ocGFyZW50LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5saXN0QXNzZXRzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIjpsaXN0QXNzZXRzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmxpc3RGZWF0dXJlcyA9IGZ1bmN0aW9uKGFzc2V0LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIoYXNzZXQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmxpc3RGZWF0dXJlc1wiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgYXNzZXQgKyBcIjpsaXN0RmVhdHVyZXNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5saXN0SW1hZ2VzID0gZnVuY3Rpb24ocGFyZW50LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5saXN0SW1hZ2VzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIjpsaXN0SW1hZ2VzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEltYWdlc1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbihzb3VyY2VOYW1lLCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihzb3VyY2VOYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5tb3ZlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBzb3VyY2VOYW1lICsgXCI6bW92ZVwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUucGF0Y2ggPSBmdW5jdGlvbihuYW1lLCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUEFUQ0hcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMucGF0Y2hcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5zZXRJYW1Qb2xpY3kgPSBmdW5jdGlvbihyZXNvdXJjZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocmVzb3VyY2UsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLnNldElhbVBvbGljeVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcmVzb3VyY2UgKyBcIjpzZXRJYW1Qb2xpY3lcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3l9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUudGVzdElhbVBlcm1pc3Npb25zID0gZnVuY3Rpb24ocmVzb3VyY2UsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHJlc291cmNlLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy50ZXN0SWFtUGVybWlzc2lvbnNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHJlc291cmNlICsgXCI6dGVzdElhbVBlcm1pc3Npb25zXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNDbGFzc2lmaWVyQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNDbGFzc2lmaWVyQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNDbGFzc2lmaWVyQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudEltcGwucHJvdG90eXBlLmV4cG9ydCA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5jbGFzc2lmaWVyLmV4cG9ydFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL2NsYXNzaWZpZXI6ZXhwb3J0XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9ufSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0Rtc01hcHNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzRG1zTWFwc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Rtc01hcHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRG1zTWFwc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzRG1zTWFwc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRG1zTWFwc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRG1zTWFwc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Rtc01hcHNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRG1zTWFwc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRG1zTWFwc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5kbXNNYXBzLmNyZWF0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvZG1zTWFwc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRNU01hcH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmZlYXR1cmVWaWV3LmNyZWF0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvZmVhdHVyZVZpZXdcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld30pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmZpbG1zdHJpcFRodW1ibmFpbHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9maWxtc3RyaXBUaHVtYm5haWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5nZXRQaXhlbHMgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2ZpbG1zdHJpcFRodW1ibmFpbHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuZmlsbXN0cmlwVGh1bWJuYWlscy5nZXRQaXhlbHNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUgKyBcIjpnZXRQaXhlbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNJbWFnZUFwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNJbWFnZUFwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzSW1hZ2VBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzSW1hZ2VBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jb21wdXRlUGl4ZWxzID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmltYWdlLmNvbXB1dGVQaXhlbHNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi9pbWFnZTpjb21wdXRlUGl4ZWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHl9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5leHBvcnQgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuaW1hZ2UuZXhwb3J0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvaW1hZ2U6ZXhwb3J0XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9ufSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuaW1wb3J0ID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmltYWdlLmltcG9ydFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL2ltYWdlOmltcG9ydFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbn0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudEltcGwucHJvdG90eXBlLmNvbXB1dGVJbWFnZXMgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuaW1hZ2VDb2xsZWN0aW9uLmNvbXB1dGVJbWFnZXNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi9pbWFnZUNvbGxlY3Rpb246Y29tcHV0ZUltYWdlc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXNwb25zZX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2xvY2F0aW9ucy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5sb2NhdGlvbnMuYXNzZXRzLmNyZWF0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvYXNzZXRzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0xvY2F0aW9uc0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9sb2NhdGlvbnMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubG9jYXRpb25zLmZpbG1zdHJpcFRodW1ibmFpbHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9maWxtc3RyaXBUaHVtYm5haWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0xvY2F0aW9uc01hcHNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc01hcHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc01hcHNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9sb2NhdGlvbnMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubG9jYXRpb25zLm1hcHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9tYXBzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXB9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc1RhYmxlc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RhYmxlc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc1RhYmxlc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RhYmxlc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RhYmxlc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RhYmxlc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvbG9jYXRpb25zL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmxvY2F0aW9ucy50YWJsZXMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi90YWJsZXNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0xvY2F0aW9uc1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9sb2NhdGlvbnMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubG9jYXRpb25zLnRodW1ibmFpbHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi90aHVtYm5haWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RodW1ibmFpbHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2xvY2F0aW9ucy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5sb2NhdGlvbnMudmlkZW9UaHVtYm5haWxzLmNyZWF0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvdmlkZW9UaHVtYm5haWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWx9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNNYXBBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTWFwQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNNYXBBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTWFwQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZXhwb3J0ID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLm1hcC5leHBvcnRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi9tYXA6ZXhwb3J0XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9ufSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTWFwc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNNYXBzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c01hcHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLm1hcHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9tYXBzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXB9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c01hcHNUaWxlc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNUaWxlc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c01hcHNUaWxlc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNUaWxlc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNUaWxlc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNUaWxlc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHBhcmVudCwgem9vbSwgeCwgeSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL21hcHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubWFwcy50aWxlcy5nZXRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL3RpbGVzL1wiICsgem9vbSArIFwiL1wiICsgeCArIFwiL1wiICsgeSwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24obmFtZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL29wZXJhdGlvbnMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMub3BlcmF0aW9ucy5jYW5jZWxcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUgKyBcIjpjYW5jZWxcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24obmFtZSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9vcGVyYXRpb25zLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkRFTEVURVwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLm9wZXJhdGlvbnMuZGVsZXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVtcHR5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL29wZXJhdGlvbnMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMub3BlcmF0aW9ucy5nZXRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9ufSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5saXN0ID0gZnVuY3Rpb24obmFtZSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5vcGVyYXRpb25zLmxpc3RcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUgKyBcIi9vcGVyYXRpb25zXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdE9wZXJhdGlvbnNSZXNwb25zZX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUud2FpdCA9IGZ1bmN0aW9uKG5hbWUsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9vcGVyYXRpb25zLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLm9wZXJhdGlvbnMud2FpdFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSArIFwiOndhaXRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVGFibGVBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVGFibGVBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1RhYmxlQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1RhYmxlQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY29tcHV0ZUZlYXR1cmVzID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnRhYmxlLmNvbXB1dGVGZWF0dXJlc1wiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL3RhYmxlOmNvbXB1dGVGZWF0dXJlc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZXhwb3J0ID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnRhYmxlLmV4cG9ydFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL3RhYmxlOmV4cG9ydFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbn0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudEltcGwucHJvdG90eXBlLmltcG9ydCA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy50YWJsZS5pbXBvcnRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi90YWJsZTppbXBvcnRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1RhYmxlc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNUYWJsZXNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZXNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1RhYmxlc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNUYWJsZXNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZXNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZXNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZXNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnRhYmxlcy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL3RhYmxlc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24obmFtZSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy90YWJsZXMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudGFibGVzLmdldEZlYXR1cmVzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lICsgXCI6Z2V0RmVhdHVyZXNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZXNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy50aHVtYm5haWxzLmNyZWF0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvdGh1bWJuYWlsc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0UGl4ZWxzID0gZnVuY3Rpb24obmFtZSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy90aHVtYm5haWxzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnRodW1ibmFpbHMuZ2V0UGl4ZWxzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lICsgXCI6Z2V0UGl4ZWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHl9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVmFsdWVBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVmFsdWVBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1ZhbHVlQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1ZhbHVlQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy52YWx1ZS5jb21wdXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvdmFsdWU6Y29tcHV0ZVwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNWaWRlb0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWaWRlb0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVmlkZW9BcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVmlkZW9BcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnRJbXBsLnByb3RvdHlwZS5leHBvcnQgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudmlkZW8uZXhwb3J0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvdmlkZW86ZXhwb3J0XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9ufSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVmlkZW9NYXBBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVmlkZW9NYXBBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5leHBvcnQgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudmlkZW9NYXAuZXhwb3J0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvdmlkZW9NYXA6ZXhwb3J0XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9ufSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy52aWRlb1RodW1ibmFpbHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi92aWRlb1RodW1ibmFpbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5nZXRQaXhlbHMgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL3ZpZGVvVGh1bWJuYWlscy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy52aWRlb1RodW1ibmFpbHMuZ2V0UGl4ZWxzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lICsgXCI6Z2V0UGl4ZWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHl9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuYXBpID0gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudDtcbnZhciBtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uID0ge1YxQUxQSEE6XCJ2MWFscGhhXCJ9O1xubW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WRVJTSU9OID0gbW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBO1xudmFyIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfcmVxdWVzdF9zZXJ2aWNlID0ge30sIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRwcm9taXNlX3JlcXVlc3Rfc2VydmljZV9tb2R1bGUgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2VfbW9kdWxlIHx8IHtpZDpcImphdmFzY3JpcHQvdHlwZXNjcmlwdC9jb250cmliL2FwaWNsaWVudC9yZXF1ZXN0X3NlcnZpY2UvcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UuY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfcmVxdWVzdF9zZXJ2aWNlLlByb21pc2VSZXF1ZXN0U2VydmljZSA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfcmVxdWVzdF9zZXJ2aWNlLlByb21pc2VSZXF1ZXN0U2VydmljZS5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKHBhcmFtcywgcmVzcG9uc2VDdG9yKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19wcm9jZXNzUGFyYW1zKHBhcmFtcyk7XG4gIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KHBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHJldHVybiByZXNwb25zZUN0b3IgPyBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZShyZXNwb25zZUN0b3IsIHJlc3BvbnNlKSA6IHJlc3BvbnNlO1xuICB9KTtcbn07XG5nb29nLmFzeW5jID0ge307XG5nb29nLmFzeW5jLkZyZWVMaXN0ID0gZnVuY3Rpb24oY3JlYXRlLCByZXNldCwgbGltaXQpIHtcbiAgdGhpcy5saW1pdF8gPSBsaW1pdDtcbiAgdGhpcy5jcmVhdGVfID0gY3JlYXRlO1xuICB0aGlzLnJlc2V0XyA9IHJlc2V0O1xuICB0aGlzLm9jY3VwYW50c18gPSAwO1xuICB0aGlzLmhlYWRfID0gbnVsbDtcbn07XG5nb29nLmFzeW5jLkZyZWVMaXN0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKDAgPCB0aGlzLm9jY3VwYW50c18pIHtcbiAgICB0aGlzLm9jY3VwYW50c18tLTtcbiAgICB2YXIgaXRlbSA9IHRoaXMuaGVhZF87XG4gICAgdGhpcy5oZWFkXyA9IGl0ZW0ubmV4dDtcbiAgICBpdGVtLm5leHQgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIGl0ZW0gPSB0aGlzLmNyZWF0ZV8oKTtcbiAgfVxuICByZXR1cm4gaXRlbTtcbn07XG5nb29nLmFzeW5jLkZyZWVMaXN0LnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbihpdGVtKSB7XG4gIHRoaXMucmVzZXRfKGl0ZW0pO1xuICB0aGlzLm9jY3VwYW50c18gPCB0aGlzLmxpbWl0XyAmJiAodGhpcy5vY2N1cGFudHNfKyssIGl0ZW0ubmV4dCA9IHRoaXMuaGVhZF8sIHRoaXMuaGVhZF8gPSBpdGVtKTtcbn07XG5nb29nLmFzeW5jLkZyZWVMaXN0LnByb3RvdHlwZS5vY2N1cGFudHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub2NjdXBhbnRzXztcbn07XG5nb29nLmRvbS5Ccm93c2VyRmVhdHVyZSA9IHt9O1xuZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuQVNTVU1FX05PX09GRlNDUkVFTl9DQU5WQVMgPSAhMTtcbmdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLkFTU1VNRV9PRkZTQ1JFRU5fQ0FOVkFTID0gITE7XG5nb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5kZXRlY3RPZmZzY3JlZW5DYW52YXNfID0gZnVuY3Rpb24oY29udGV4dE5hbWUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISEobmV3IHNlbGYuT2Zmc2NyZWVuQ2FudmFzKDAsIDApKS5nZXRDb250ZXh0KGNvbnRleHROYW1lKTtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuT0ZGU0NSRUVOX0NBTlZBU18yRCA9ICFnb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5BU1NVTUVfTk9fT0ZGU0NSRUVOX0NBTlZBUyAmJiAoZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuQVNTVU1FX09GRlNDUkVFTl9DQU5WQVMgfHwgZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuZGV0ZWN0T2Zmc2NyZWVuQ2FudmFzXyhcIjJkXCIpKTtcbmdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLkNBTl9BRERfTkFNRV9PUl9UWVBFX0FUVFJJQlVURVMgPSAhMDtcbmdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLkNBTl9VU0VfQ0hJTERSRU5fQVRUUklCVVRFID0gITA7XG5nb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5DQU5fVVNFX0lOTkVSX1RFWFQgPSAhMTtcbmdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLkNBTl9VU0VfUEFSRU5UX0VMRU1FTlRfUFJPUEVSVFkgPSBnb29nLnVzZXJBZ2VudC5JRSB8fCBnb29nLnVzZXJBZ2VudC5XRUJLSVQ7XG5nb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5JTk5FUl9IVE1MX05FRURTX1NDT1BFRF9FTEVNRU5UID0gZ29vZy51c2VyQWdlbnQuSUU7XG5nb29nLm1hdGguQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uKG9wdF94LCBvcHRfeSkge1xuICB0aGlzLnggPSB2b2lkIDAgIT09IG9wdF94ID8gb3B0X3ggOiAwO1xuICB0aGlzLnkgPSB2b2lkIDAgIT09IG9wdF95ID8gb3B0X3kgOiAwO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHRoaXMueCwgdGhpcy55KTtcbn07XG5nb29nLkRFQlVHICYmIChnb29nLm1hdGguQ29vcmRpbmF0ZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiKFwiICsgdGhpcy54ICsgXCIsIFwiICsgdGhpcy55ICsgXCIpXCI7XG59KTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihvdGhlcikge1xuICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBnb29nLm1hdGguQ29vcmRpbmF0ZSAmJiBnb29nLm1hdGguQ29vcmRpbmF0ZS5lcXVhbHModGhpcywgb3RoZXIpO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLmVxdWFscyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT0gYiA/ICEwIDogYSAmJiBiID8gYS54ID09IGIueCAmJiBhLnkgPT0gYi55IDogITE7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUuZGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHZhciBkeCA9IGEueCAtIGIueCwgZHkgPSBhLnkgLSBiLnk7XG4gIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLm1hZ25pdHVkZSA9IGZ1bmN0aW9uKGEpIHtcbiAgcmV0dXJuIE1hdGguc3FydChhLnggKiBhLnggKyBhLnkgKiBhLnkpO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLmF6aW11dGggPSBmdW5jdGlvbihhKSB7XG4gIHJldHVybiBnb29nLm1hdGguYW5nbGUoMCwgMCwgYS54LCBhLnkpO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnNxdWFyZWREaXN0YW5jZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGR4ID0gYS54IC0gYi54LCBkeSA9IGEueSAtIGIueTtcbiAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLmRpZmZlcmVuY2UgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoYS54IC0gYi54LCBhLnkgLSBiLnkpO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnN1bSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZShhLnggKyBiLngsIGEueSArIGIueSk7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy54ID0gTWF0aC5jZWlsKHRoaXMueCk7XG4gIHRoaXMueSA9IE1hdGguY2VpbCh0aGlzLnkpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5wcm90b3R5cGUuZmxvb3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy54ID0gTWF0aC5mbG9vcih0aGlzLngpO1xuICB0aGlzLnkgPSBNYXRoLmZsb29yKHRoaXMueSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnByb3RvdHlwZS5yb3VuZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7XG4gIHRoaXMueSA9IE1hdGgucm91bmQodGhpcy55KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKHR4LCBvcHRfdHkpIHtcbiAgdHggaW5zdGFuY2VvZiBnb29nLm1hdGguQ29vcmRpbmF0ZSA/ICh0aGlzLnggKz0gdHgueCwgdGhpcy55ICs9IHR4LnkpIDogKHRoaXMueCArPSBOdW1iZXIodHgpLCBcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0X3R5ICYmICh0aGlzLnkgKz0gb3B0X3R5KSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uKHN4LCBvcHRfc3kpIHtcbiAgdmFyIHN5O1xuICB0aGlzLnggKj0gc3g7XG4gIHRoaXMueSAqPSBcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0X3N5ID8gb3B0X3N5IDogc3g7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnByb3RvdHlwZS5yb3RhdGVSYWRpYW5zID0gZnVuY3Rpb24ocmFkaWFucywgb3B0X2NlbnRlcikge1xuICB2YXIgY2VudGVyID0gb3B0X2NlbnRlciB8fCBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoMCwgMCksIHggPSB0aGlzLngsIHkgPSB0aGlzLnksIGNvcyA9IE1hdGguY29zKHJhZGlhbnMpLCBzaW4gPSBNYXRoLnNpbihyYWRpYW5zKTtcbiAgdGhpcy54ID0gKHggLSBjZW50ZXIueCkgKiBjb3MgLSAoeSAtIGNlbnRlci55KSAqIHNpbiArIGNlbnRlci54O1xuICB0aGlzLnkgPSAoeCAtIGNlbnRlci54KSAqIHNpbiArICh5IC0gY2VudGVyLnkpICogY29zICsgY2VudGVyLnk7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUucHJvdG90eXBlLnJvdGF0ZURlZ3JlZXMgPSBmdW5jdGlvbihkZWdyZWVzLCBvcHRfY2VudGVyKSB7XG4gIHRoaXMucm90YXRlUmFkaWFucyhnb29nLm1hdGgudG9SYWRpYW5zKGRlZ3JlZXMpLCBvcHRfY2VudGVyKTtcbn07XG5nb29nLm1hdGguU2l6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbn07XG5nb29nLm1hdGguU2l6ZS5lcXVhbHMgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhID09IGIgPyAhMCA6IGEgJiYgYiA/IGEud2lkdGggPT0gYi53aWR0aCAmJiBhLmhlaWdodCA9PSBiLmhlaWdodCA6ICExO1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5TaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbn07XG5nb29nLkRFQlVHICYmIChnb29nLm1hdGguU2l6ZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiKFwiICsgdGhpcy53aWR0aCArIFwiIHggXCIgKyB0aGlzLmhlaWdodCArIFwiKVwiO1xufSk7XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuZ2V0TG9uZ2VzdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gTWF0aC5tYXgodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5nZXRTaG9ydGVzdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gTWF0aC5taW4odGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5hcmVhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLndpZHRoICogdGhpcy5oZWlnaHQ7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLnBlcmltZXRlciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMiAqICh0aGlzLndpZHRoICsgdGhpcy5oZWlnaHQpO1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5hc3BlY3RSYXRpbyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhdGhpcy5hcmVhKCk7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh0aGlzLndpZHRoKTtcbiAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5oZWlnaHQpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuZml0c0luc2lkZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICByZXR1cm4gdGhpcy53aWR0aCA8PSB0YXJnZXQud2lkdGggJiYgdGhpcy5oZWlnaHQgPD0gdGFyZ2V0LmhlaWdodDtcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuZmxvb3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy53aWR0aCA9IE1hdGguZmxvb3IodGhpcy53aWR0aCk7XG4gIHRoaXMuaGVpZ2h0ID0gTWF0aC5mbG9vcih0aGlzLmhlaWdodCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5yb3VuZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLndpZHRoID0gTWF0aC5yb3VuZCh0aGlzLndpZHRoKTtcbiAgdGhpcy5oZWlnaHQgPSBNYXRoLnJvdW5kKHRoaXMuaGVpZ2h0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24oc3gsIG9wdF9zeSkge1xuICB2YXIgc3k7XG4gIHRoaXMud2lkdGggKj0gc3g7XG4gIHRoaXMuaGVpZ2h0ICo9IFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfc3kgPyBvcHRfc3kgOiBzeDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLnNjYWxlVG9Db3ZlciA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB2YXIgcyA9IHRoaXMuYXNwZWN0UmF0aW8oKSA8PSB0YXJnZXQuYXNwZWN0UmF0aW8oKSA/IHRhcmdldC53aWR0aCAvIHRoaXMud2lkdGggOiB0YXJnZXQuaGVpZ2h0IC8gdGhpcy5oZWlnaHQ7XG4gIHJldHVybiB0aGlzLnNjYWxlKHMpO1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5zY2FsZVRvRml0ID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHZhciBzID0gdGhpcy5hc3BlY3RSYXRpbygpID4gdGFyZ2V0LmFzcGVjdFJhdGlvKCkgPyB0YXJnZXQud2lkdGggLyB0aGlzLndpZHRoIDogdGFyZ2V0LmhlaWdodCAvIHRoaXMuaGVpZ2h0O1xuICByZXR1cm4gdGhpcy5zY2FsZShzKTtcbn07XG5nb29nLmRvbS5BcHBlbmRhYmxlID0ge307XG5nb29nLmRvbS5BU1NVTUVfUVVJUktTX01PREUgPSAhMTtcbmdvb2cuZG9tLkFTU1VNRV9TVEFOREFSRFNfTU9ERSA9ICExO1xuZ29vZy5kb20uQ09NUEFUX01PREVfS05PV05fID0gZ29vZy5kb20uQVNTVU1FX1FVSVJLU19NT0RFIHx8IGdvb2cuZG9tLkFTU1VNRV9TVEFOREFSRFNfTU9ERTtcbmdvb2cuZG9tLmdldERvbUhlbHBlciA9IGZ1bmN0aW9uKG9wdF9lbGVtZW50KSB7XG4gIHJldHVybiBvcHRfZWxlbWVudCA/IG5ldyBnb29nLmRvbS5Eb21IZWxwZXIoZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChvcHRfZWxlbWVudCkpIDogZ29vZy5kb20uZGVmYXVsdERvbUhlbHBlcl8gfHwgKGdvb2cuZG9tLmRlZmF1bHREb21IZWxwZXJfID0gbmV3IGdvb2cuZG9tLkRvbUhlbHBlcigpKTtcbn07XG5nb29nLmRvbS5nZXREb2N1bWVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZG9jdW1lbnQ7XG59O1xuZ29vZy5kb20uZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEVsZW1lbnRIZWxwZXJfKGRvY3VtZW50LCBlbGVtZW50KTtcbn07XG5nb29nLmRvbS5nZXRIVE1MRWxlbWVudCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHZhciBlbGVtZW50ID0gZ29vZy5kb20uZ2V0RWxlbWVudChpZCk7XG4gIHJldHVybiBlbGVtZW50ID8gZ29vZy5hc3NlcnRzLmFzc2VydEluc3RhbmNlb2YoZWxlbWVudCwgSFRNTEVsZW1lbnQpIDogbnVsbDtcbn07XG5nb29nLmRvbS5nZXRFbGVtZW50SGVscGVyXyA9IGZ1bmN0aW9uKGRvYywgZWxlbWVudCkge1xuICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVsZW1lbnQgPyBkb2MuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudCkgOiBlbGVtZW50O1xufTtcbmdvb2cuZG9tLmdldFJlcXVpcmVkRWxlbWVudCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRSZXF1aXJlZEVsZW1lbnRIZWxwZXJfKGRvY3VtZW50LCBpZCk7XG59O1xuZ29vZy5kb20uZ2V0UmVxdWlyZWRIVE1MRWxlbWVudCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiBnb29nLmFzc2VydHMuYXNzZXJ0SW5zdGFuY2VvZihnb29nLmRvbS5nZXRSZXF1aXJlZEVsZW1lbnRIZWxwZXJfKGRvY3VtZW50LCBpZCksIEhUTUxFbGVtZW50KTtcbn07XG5nb29nLmRvbS5nZXRSZXF1aXJlZEVsZW1lbnRIZWxwZXJfID0gZnVuY3Rpb24oZG9jLCBpZCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGlkKTtcbiAgdmFyIGVsZW1lbnQgPSBnb29nLmRvbS5nZXRFbGVtZW50SGVscGVyXyhkb2MsIGlkKTtcbiAgcmV0dXJuIGVsZW1lbnQgPSBnb29nLmFzc2VydHMuYXNzZXJ0RWxlbWVudChlbGVtZW50LCBcIk5vIGVsZW1lbnQgZm91bmQgd2l0aCBpZDogXCIgKyBpZCk7XG59O1xuZ29vZy5kb20uJCA9IGdvb2cuZG9tLmdldEVsZW1lbnQ7XG5nb29nLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGZ1bmN0aW9uKHRhZ05hbWUsIG9wdF9wYXJlbnQpIHtcbiAgcmV0dXJuIChvcHRfcGFyZW50IHx8IGRvY3VtZW50KS5nZXRFbGVtZW50c0J5VGFnTmFtZShTdHJpbmcodGFnTmFtZSkpO1xufTtcbmdvb2cuZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lQW5kQ2xhc3MgPSBmdW5jdGlvbihvcHRfdGFnLCBvcHRfY2xhc3MsIG9wdF9lbCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzc18oZG9jdW1lbnQsIG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKTtcbn07XG5nb29nLmRvbS5nZXRFbGVtZW50QnlUYWdOYW1lQW5kQ2xhc3MgPSBmdW5jdGlvbihvcHRfdGFnLCBvcHRfY2xhc3MsIG9wdF9lbCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RWxlbWVudEJ5VGFnTmFtZUFuZENsYXNzXyhkb2N1bWVudCwgb3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpO1xufTtcbmdvb2cuZG9tLmdldEVsZW1lbnRzQnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X2VsKSB7XG4gIHZhciBwYXJlbnQgPSBvcHRfZWwgfHwgZG9jdW1lbnQ7XG4gIHJldHVybiBnb29nLmRvbS5jYW5Vc2VRdWVyeVNlbGVjdG9yXyhwYXJlbnQpID8gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyBjbGFzc05hbWUpIDogZ29vZy5kb20uZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzc18oZG9jdW1lbnQsIFwiKlwiLCBjbGFzc05hbWUsIG9wdF9lbCk7XG59O1xuZ29vZy5kb20uZ2V0RWxlbWVudEJ5Q2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9wdF9lbCkge1xuICB2YXIgcGFyZW50ID0gb3B0X2VsIHx8IGRvY3VtZW50LCByZXRWYWwgPSBudWxsO1xuICByZXR1cm4gKHJldFZhbCA9IHBhcmVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID8gcGFyZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKVswXSA6IGdvb2cuZG9tLmdldEVsZW1lbnRCeVRhZ05hbWVBbmRDbGFzc18oZG9jdW1lbnQsIFwiKlwiLCBjbGFzc05hbWUsIG9wdF9lbCkpIHx8IG51bGw7XG59O1xuZ29vZy5kb20uZ2V0SFRNTEVsZW1lbnRCeUNsYXNzID0gZnVuY3Rpb24oY2xhc3NOYW1lLCBvcHRfcGFyZW50KSB7XG4gIHZhciBlbGVtZW50ID0gZ29vZy5kb20uZ2V0RWxlbWVudEJ5Q2xhc3MoY2xhc3NOYW1lLCBvcHRfcGFyZW50KTtcbiAgcmV0dXJuIGVsZW1lbnQgPyBnb29nLmFzc2VydHMuYXNzZXJ0SW5zdGFuY2VvZihlbGVtZW50LCBIVE1MRWxlbWVudCkgOiBudWxsO1xufTtcbmdvb2cuZG9tLmdldFJlcXVpcmVkRWxlbWVudEJ5Q2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9wdF9yb290KSB7XG4gIHZhciByZXRWYWx1ZSA9IGdvb2cuZG9tLmdldEVsZW1lbnRCeUNsYXNzKGNsYXNzTmFtZSwgb3B0X3Jvb3QpO1xuICByZXR1cm4gZ29vZy5hc3NlcnRzLmFzc2VydChyZXRWYWx1ZSwgXCJObyBlbGVtZW50IGZvdW5kIHdpdGggY2xhc3NOYW1lOiBcIiArIGNsYXNzTmFtZSk7XG59O1xuZ29vZy5kb20uZ2V0UmVxdWlyZWRIVE1MRWxlbWVudEJ5Q2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9wdF9wYXJlbnQpIHtcbiAgdmFyIHJldFZhbHVlID0gZ29vZy5kb20uZ2V0RWxlbWVudEJ5Q2xhc3MoY2xhc3NOYW1lLCBvcHRfcGFyZW50KTtcbiAgcmV0dXJuIGdvb2cuYXNzZXJ0cy5hc3NlcnRJbnN0YW5jZW9mKHJldFZhbHVlLCBIVE1MRWxlbWVudCwgXCJObyBIVE1MRWxlbWVudCBmb3VuZCB3aXRoIGNsYXNzTmFtZTogXCIgKyBjbGFzc05hbWUpO1xufTtcbmdvb2cuZG9tLmNhblVzZVF1ZXJ5U2VsZWN0b3JfID0gZnVuY3Rpb24ocGFyZW50KSB7XG4gIHJldHVybiAhKCFwYXJlbnQucXVlcnlTZWxlY3RvckFsbCB8fCAhcGFyZW50LnF1ZXJ5U2VsZWN0b3IpO1xufTtcbmdvb2cuZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lQW5kQ2xhc3NfID0gZnVuY3Rpb24oZG9jLCBvcHRfdGFnLCBvcHRfY2xhc3MsIG9wdF9lbCkge1xuICB2YXIgcGFyZW50ID0gb3B0X2VsIHx8IGRvYywgdGFnTmFtZSA9IG9wdF90YWcgJiYgXCIqXCIgIT0gb3B0X3RhZyA/IFN0cmluZyhvcHRfdGFnKS50b1VwcGVyQ2FzZSgpIDogXCJcIjtcbiAgaWYgKGdvb2cuZG9tLmNhblVzZVF1ZXJ5U2VsZWN0b3JfKHBhcmVudCkgJiYgKHRhZ05hbWUgfHwgb3B0X2NsYXNzKSkge1xuICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3RvckFsbCh0YWdOYW1lICsgKG9wdF9jbGFzcyA/IFwiLlwiICsgb3B0X2NsYXNzIDogXCJcIikpO1xuICB9XG4gIGlmIChvcHRfY2xhc3MgJiYgcGFyZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpIHtcbiAgICB2YXIgZWxzID0gcGFyZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUob3B0X2NsYXNzKTtcbiAgICBpZiAodGFnTmFtZSkge1xuICAgICAgZm9yICh2YXIgYXJyYXlMaWtlID0ge30sIGxlbiA9IDAsIGkgPSAwLCBlbDsgZWwgPSBlbHNbaV07IGkrKykge1xuICAgICAgICB0YWdOYW1lID09IGVsLm5vZGVOYW1lICYmIChhcnJheUxpa2VbbGVuKytdID0gZWwpO1xuICAgICAgfVxuICAgICAgYXJyYXlMaWtlLmxlbmd0aCA9IGxlbjtcbiAgICAgIHJldHVybiBhcnJheUxpa2U7XG4gICAgfVxuICAgIHJldHVybiBlbHM7XG4gIH1cbiAgZWxzID0gcGFyZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUgfHwgXCIqXCIpO1xuICBpZiAob3B0X2NsYXNzKSB7XG4gICAgYXJyYXlMaWtlID0ge307XG4gICAgZm9yIChpID0gbGVuID0gMDsgZWwgPSBlbHNbaV07IGkrKykge1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY2xhc3NOYW1lLnNwbGl0ICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKGNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pLCBvcHRfY2xhc3MpICYmIChhcnJheUxpa2VbbGVuKytdID0gZWwpO1xuICAgIH1cbiAgICBhcnJheUxpa2UubGVuZ3RoID0gbGVuO1xuICAgIHJldHVybiBhcnJheUxpa2U7XG4gIH1cbiAgcmV0dXJuIGVscztcbn07XG5nb29nLmRvbS5nZXRFbGVtZW50QnlUYWdOYW1lQW5kQ2xhc3NfID0gZnVuY3Rpb24oZG9jLCBvcHRfdGFnLCBvcHRfY2xhc3MsIG9wdF9lbCkge1xuICB2YXIgcGFyZW50ID0gb3B0X2VsIHx8IGRvYywgdGFnID0gb3B0X3RhZyAmJiBcIipcIiAhPSBvcHRfdGFnID8gU3RyaW5nKG9wdF90YWcpLnRvVXBwZXJDYXNlKCkgOiBcIlwiO1xuICByZXR1cm4gZ29vZy5kb20uY2FuVXNlUXVlcnlTZWxlY3Rvcl8ocGFyZW50KSAmJiAodGFnIHx8IG9wdF9jbGFzcykgPyBwYXJlbnQucXVlcnlTZWxlY3Rvcih0YWcgKyAob3B0X2NsYXNzID8gXCIuXCIgKyBvcHRfY2xhc3MgOiBcIlwiKSkgOiBnb29nLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzXyhkb2MsIG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKVswXSB8fCBudWxsO1xufTtcbmdvb2cuZG9tLiQkID0gZ29vZy5kb20uZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzcztcbmdvb2cuZG9tLnNldFByb3BlcnRpZXMgPSBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgdmFsICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIHZhbCAmJiB2YWwuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyAmJiAodmFsID0gdmFsLmdldFR5cGVkU3RyaW5nVmFsdWUoKSk7XG4gICAgXCJzdHlsZVwiID09IGtleSA/IGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IHZhbCA6IFwiY2xhc3NcIiA9PSBrZXkgPyBlbGVtZW50LmNsYXNzTmFtZSA9IHZhbCA6IFwiZm9yXCIgPT0ga2V5ID8gZWxlbWVudC5odG1sRm9yID0gdmFsIDogZ29vZy5kb20uRElSRUNUX0FUVFJJQlVURV9NQVBfLmhhc093blByb3BlcnR5KGtleSkgPyBlbGVtZW50LnNldEF0dHJpYnV0ZShnb29nLmRvbS5ESVJFQ1RfQVRUUklCVVRFX01BUF9ba2V5XSwgdmFsKSA6IGdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgoa2V5LCBcImFyaWEtXCIpIHx8IGdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgoa2V5LCBcImRhdGEtXCIpID8gZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWwpIDogZWxlbWVudFtrZXldID0gdmFsO1xuICB9KTtcbn07XG5nb29nLmRvbS5ESVJFQ1RfQVRUUklCVVRFX01BUF8gPSB7Y2VsbHBhZGRpbmc6XCJjZWxsUGFkZGluZ1wiLCBjZWxsc3BhY2luZzpcImNlbGxTcGFjaW5nXCIsIGNvbHNwYW46XCJjb2xTcGFuXCIsIGZyYW1lYm9yZGVyOlwiZnJhbWVCb3JkZXJcIiwgaGVpZ2h0OlwiaGVpZ2h0XCIsIG1heGxlbmd0aDpcIm1heExlbmd0aFwiLCBub25jZTpcIm5vbmNlXCIsIHJvbGU6XCJyb2xlXCIsIHJvd3NwYW46XCJyb3dTcGFuXCIsIHR5cGU6XCJ0eXBlXCIsIHVzZW1hcDpcInVzZU1hcFwiLCB2YWxpZ246XCJ2QWxpZ25cIiwgd2lkdGg6XCJ3aWR0aFwifTtcbmdvb2cuZG9tLmdldFZpZXdwb3J0U2l6ZSA9IGZ1bmN0aW9uKG9wdF93aW5kb3cpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldFZpZXdwb3J0U2l6ZV8ob3B0X3dpbmRvdyB8fCB3aW5kb3cpO1xufTtcbmdvb2cuZG9tLmdldFZpZXdwb3J0U2l6ZV8gPSBmdW5jdGlvbih3aW4pIHtcbiAgdmFyIGRvYyA9IHdpbi5kb2N1bWVudCwgZWwgPSBnb29nLmRvbS5pc0NzczFDb21wYXRNb2RlXyhkb2MpID8gZG9jLmRvY3VtZW50RWxlbWVudCA6IGRvYy5ib2R5O1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5TaXplKGVsLmNsaWVudFdpZHRoLCBlbC5jbGllbnRIZWlnaHQpO1xufTtcbmdvb2cuZG9tLmdldERvY3VtZW50SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXREb2N1bWVudEhlaWdodF8od2luZG93KTtcbn07XG5nb29nLmRvbS5nZXREb2N1bWVudEhlaWdodEZvcldpbmRvdyA9IGZ1bmN0aW9uKHdpbikge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9jdW1lbnRIZWlnaHRfKHdpbik7XG59O1xuZ29vZy5kb20uZ2V0RG9jdW1lbnRIZWlnaHRfID0gZnVuY3Rpb24od2luKSB7XG4gIHZhciBkb2MgPSB3aW4uZG9jdW1lbnQsIGhlaWdodCA9IDA7XG4gIGlmIChkb2MpIHtcbiAgICB2YXIgYm9keSA9IGRvYy5ib2R5LCBkb2NFbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgaWYgKCFkb2NFbCB8fCAhYm9keSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciB2aCA9IGdvb2cuZG9tLmdldFZpZXdwb3J0U2l6ZV8od2luKS5oZWlnaHQ7XG4gICAgaWYgKGdvb2cuZG9tLmlzQ3NzMUNvbXBhdE1vZGVfKGRvYykgJiYgZG9jRWwuc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICBoZWlnaHQgPSBkb2NFbC5zY3JvbGxIZWlnaHQgIT0gdmggPyBkb2NFbC5zY3JvbGxIZWlnaHQgOiBkb2NFbC5vZmZzZXRIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzaCA9IGRvY0VsLnNjcm9sbEhlaWdodCwgb2ggPSBkb2NFbC5vZmZzZXRIZWlnaHQ7XG4gICAgICBkb2NFbC5jbGllbnRIZWlnaHQgIT0gb2ggJiYgKHNoID0gYm9keS5zY3JvbGxIZWlnaHQsIG9oID0gYm9keS5vZmZzZXRIZWlnaHQpO1xuICAgICAgaGVpZ2h0ID0gc2ggPiB2aCA/IHNoID4gb2ggPyBzaCA6IG9oIDogc2ggPCBvaCA/IHNoIDogb2g7XG4gICAgfVxuICB9XG4gIHJldHVybiBoZWlnaHQ7XG59O1xuZ29vZy5kb20uZ2V0UGFnZVNjcm9sbCA9IGZ1bmN0aW9uKG9wdF93aW5kb3cpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldERvbUhlbHBlcigob3B0X3dpbmRvdyB8fCBnb29nLmdsb2JhbCB8fCB3aW5kb3cpLmRvY3VtZW50KS5nZXREb2N1bWVudFNjcm9sbCgpO1xufTtcbmdvb2cuZG9tLmdldERvY3VtZW50U2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbF8oZG9jdW1lbnQpO1xufTtcbmdvb2cuZG9tLmdldERvY3VtZW50U2Nyb2xsXyA9IGZ1bmN0aW9uKGRvYykge1xuICB2YXIgZWwgPSBnb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbEVsZW1lbnRfKGRvYyksIHdpbiA9IGdvb2cuZG9tLmdldFdpbmRvd18oZG9jKTtcbiAgcmV0dXJuIGdvb2cudXNlckFnZW50LklFICYmIGdvb2cudXNlckFnZW50LmlzVmVyc2lvbk9ySGlnaGVyKFwiMTBcIikgJiYgd2luLnBhZ2VZT2Zmc2V0ICE9IGVsLnNjcm9sbFRvcCA/IG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZShlbC5zY3JvbGxMZWZ0LCBlbC5zY3JvbGxUb3ApIDogbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHdpbi5wYWdlWE9mZnNldCB8fCBlbC5zY3JvbGxMZWZ0LCB3aW4ucGFnZVlPZmZzZXQgfHwgZWwuc2Nyb2xsVG9wKTtcbn07XG5nb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudF8oZG9jdW1lbnQpO1xufTtcbmdvb2cuZG9tLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudF8gPSBmdW5jdGlvbihkb2MpIHtcbiAgcmV0dXJuIGRvYy5zY3JvbGxpbmdFbGVtZW50ID8gZG9jLnNjcm9sbGluZ0VsZW1lbnQgOiAhZ29vZy51c2VyQWdlbnQuV0VCS0lUICYmIGdvb2cuZG9tLmlzQ3NzMUNvbXBhdE1vZGVfKGRvYykgPyBkb2MuZG9jdW1lbnRFbGVtZW50IDogZG9jLmJvZHkgfHwgZG9jLmRvY3VtZW50RWxlbWVudDtcbn07XG5nb29nLmRvbS5nZXRXaW5kb3cgPSBmdW5jdGlvbihvcHRfZG9jKSB7XG4gIHJldHVybiBvcHRfZG9jID8gZ29vZy5kb20uZ2V0V2luZG93XyhvcHRfZG9jKSA6IHdpbmRvdztcbn07XG5nb29nLmRvbS5nZXRXaW5kb3dfID0gZnVuY3Rpb24oZG9jKSB7XG4gIHJldHVybiBkb2MucGFyZW50V2luZG93IHx8IGRvYy5kZWZhdWx0Vmlldztcbn07XG5nb29nLmRvbS5jcmVhdGVEb20gPSBmdW5jdGlvbih0YWdOYW1lLCBvcHRfYXR0cmlidXRlcywgdmFyX2FyZ3MpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmNyZWF0ZURvbV8oZG9jdW1lbnQsIGFyZ3VtZW50cyk7XG59O1xuZ29vZy5kb20uY3JlYXRlRG9tXyA9IGZ1bmN0aW9uKGRvYywgYXJncykge1xuICB2YXIgYXR0cmlidXRlcyA9IGFyZ3NbMV0sIGVsZW1lbnQgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50Xyhkb2MsIFN0cmluZyhhcmdzWzBdKSk7XG4gIGF0dHJpYnV0ZXMgJiYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhdHRyaWJ1dGVzID8gZWxlbWVudC5jbGFzc05hbWUgPSBhdHRyaWJ1dGVzIDogQXJyYXkuaXNBcnJheShhdHRyaWJ1dGVzKSA/IGVsZW1lbnQuY2xhc3NOYW1lID0gYXR0cmlidXRlcy5qb2luKFwiIFwiKSA6IGdvb2cuZG9tLnNldFByb3BlcnRpZXMoZWxlbWVudCwgYXR0cmlidXRlcykpO1xuICAyIDwgYXJncy5sZW5ndGggJiYgZ29vZy5kb20uYXBwZW5kXyhkb2MsIGVsZW1lbnQsIGFyZ3MsIDIpO1xuICByZXR1cm4gZWxlbWVudDtcbn07XG5nb29nLmRvbS5hcHBlbmRfID0gZnVuY3Rpb24oZG9jLCBwYXJlbnQsIGFyZ3MsIHN0YXJ0SW5kZXgpIHtcbiAgZnVuY3Rpb24gY2hpbGRIYW5kbGVyKGNoaWxkKSB7XG4gICAgY2hpbGQgJiYgcGFyZW50LmFwcGVuZENoaWxkKFwic3RyaW5nXCIgPT09IHR5cGVvZiBjaGlsZCA/IGRvYy5jcmVhdGVUZXh0Tm9kZShjaGlsZCkgOiBjaGlsZCk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGFyZyA9IGFyZ3NbaV07XG4gICAgZ29vZy5pc0FycmF5TGlrZShhcmcpICYmICFnb29nLmRvbS5pc05vZGVMaWtlKGFyZykgPyBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKGdvb2cuZG9tLmlzTm9kZUxpc3QoYXJnKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXkoYXJnKSA6IGFyZywgY2hpbGRIYW5kbGVyKSA6IGNoaWxkSGFuZGxlcihhcmcpO1xuICB9XG59O1xuZ29vZy5kb20uJGRvbSA9IGdvb2cuZG9tLmNyZWF0ZURvbTtcbmdvb2cuZG9tLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiBnb29nLmRvbS5jcmVhdGVFbGVtZW50Xyhkb2N1bWVudCwgbmFtZSk7XG59O1xuZ29vZy5kb20uY3JlYXRlRWxlbWVudF8gPSBmdW5jdGlvbihkb2MsIG5hbWUpIHtcbiAgbmFtZSA9IFN0cmluZyhuYW1lKTtcbiAgXCJhcHBsaWNhdGlvbi94aHRtbCt4bWxcIiA9PT0gZG9jLmNvbnRlbnRUeXBlICYmIChuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50KG5hbWUpO1xufTtcbmdvb2cuZG9tLmNyZWF0ZVRleHROb2RlID0gZnVuY3Rpb24oY29udGVudCkge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKGNvbnRlbnQpKTtcbn07XG5nb29nLmRvbS5jcmVhdGVUYWJsZSA9IGZ1bmN0aW9uKHJvd3MsIGNvbHVtbnMsIG9wdF9maWxsV2l0aE5ic3ApIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmNyZWF0ZVRhYmxlXyhkb2N1bWVudCwgcm93cywgY29sdW1ucywgISFvcHRfZmlsbFdpdGhOYnNwKTtcbn07XG5nb29nLmRvbS5jcmVhdGVUYWJsZV8gPSBmdW5jdGlvbihkb2MsIHJvd3MsIGNvbHVtbnMsIGZpbGxXaXRoTmJzcCkge1xuICBmb3IgKHZhciB0YWJsZSA9IGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKGRvYywgZ29vZy5kb20uVGFnTmFtZS5UQUJMRSksIHRib2R5ID0gdGFibGUuYXBwZW5kQ2hpbGQoZ29vZy5kb20uY3JlYXRlRWxlbWVudF8oZG9jLCBnb29nLmRvbS5UYWdOYW1lLlRCT0RZKSksIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgZm9yICh2YXIgdHIgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50Xyhkb2MsIGdvb2cuZG9tLlRhZ05hbWUuVFIpLCBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgdmFyIHRkID0gZ29vZy5kb20uY3JlYXRlRWxlbWVudF8oZG9jLCBnb29nLmRvbS5UYWdOYW1lLlREKTtcbiAgICAgIGZpbGxXaXRoTmJzcCAmJiBnb29nLmRvbS5zZXRUZXh0Q29udGVudCh0ZCwgZ29vZy5zdHJpbmcuVW5pY29kZS5OQlNQKTtcbiAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICB9XG4gICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICB9XG4gIHJldHVybiB0YWJsZTtcbn07XG5nb29nLmRvbS5jb25zdEh0bWxUb05vZGUgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgc3RyaW5nQXJyYXkgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJndW1lbnRzLCBnb29nLnN0cmluZy5Db25zdC51bndyYXApLCBzYWZlSHRtbCA9IGdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucy5zYWZlSHRtbEZyb21TdHJpbmdLbm93blRvU2F0aXNmeVR5cGVDb250cmFjdChnb29nLnN0cmluZy5Db25zdC5mcm9tKFwiQ29uc3RhbnQgSFRNTCBzdHJpbmcsIHRoYXQgZ2V0cyB0dXJuZWQgaW50byBhIE5vZGUgbGF0ZXIsIHNvIGl0IHdpbGwgYmUgYXV0b21hdGljYWxseSBiYWxhbmNlZC5cIiksIHN0cmluZ0FycmF5LmpvaW4oXCJcIikpO1xuICByZXR1cm4gZ29vZy5kb20uc2FmZUh0bWxUb05vZGUoc2FmZUh0bWwpO1xufTtcbmdvb2cuZG9tLnNhZmVIdG1sVG9Ob2RlID0gZnVuY3Rpb24oaHRtbCkge1xuICByZXR1cm4gZ29vZy5kb20uc2FmZUh0bWxUb05vZGVfKGRvY3VtZW50LCBodG1sKTtcbn07XG5nb29nLmRvbS5zYWZlSHRtbFRvTm9kZV8gPSBmdW5jdGlvbihkb2MsIGh0bWwpIHtcbiAgdmFyIHRlbXBEaXYgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50Xyhkb2MsIGdvb2cuZG9tLlRhZ05hbWUuRElWKTtcbiAgZ29vZy51c2VyQWdlbnQuSUUgPyAoZ29vZy5kb20uc2FmZS5zZXRJbm5lckh0bWwodGVtcERpdiwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jb25jYXQobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5CUiwgaHRtbCkpLCB0ZW1wRGl2LnJlbW92ZUNoaWxkKGdvb2cuYXNzZXJ0cy5hc3NlcnQodGVtcERpdi5maXJzdENoaWxkKSkpIDogZ29vZy5kb20uc2FmZS5zZXRJbm5lckh0bWwodGVtcERpdiwgaHRtbCk7XG4gIHJldHVybiBnb29nLmRvbS5jaGlsZHJlblRvTm9kZV8oZG9jLCB0ZW1wRGl2KTtcbn07XG5nb29nLmRvbS5jaGlsZHJlblRvTm9kZV8gPSBmdW5jdGlvbihkb2MsIHRlbXBEaXYpIHtcbiAgaWYgKDEgPT0gdGVtcERpdi5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgIHJldHVybiB0ZW1wRGl2LnJlbW92ZUNoaWxkKGdvb2cuYXNzZXJ0cy5hc3NlcnQodGVtcERpdi5maXJzdENoaWxkKSk7XG4gIH1cbiAgZm9yICh2YXIgZnJhZ21lbnQgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOyB0ZW1wRGl2LmZpcnN0Q2hpbGQ7KSB7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQodGVtcERpdi5maXJzdENoaWxkKTtcbiAgfVxuICByZXR1cm4gZnJhZ21lbnQ7XG59O1xuZ29vZy5kb20uaXNDc3MxQ29tcGF0TW9kZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uaXNDc3MxQ29tcGF0TW9kZV8oZG9jdW1lbnQpO1xufTtcbmdvb2cuZG9tLmlzQ3NzMUNvbXBhdE1vZGVfID0gZnVuY3Rpb24oZG9jKSB7XG4gIHJldHVybiBnb29nLmRvbS5DT01QQVRfTU9ERV9LTk9XTl8gPyBnb29nLmRvbS5BU1NVTUVfU1RBTkRBUkRTX01PREUgOiBcIkNTUzFDb21wYXRcIiA9PSBkb2MuY29tcGF0TW9kZTtcbn07XG5nb29nLmRvbS5jYW5IYXZlQ2hpbGRyZW4gPSBmdW5jdGlvbihub2RlKSB7XG4gIGlmIChub2RlLm5vZGVUeXBlICE9IGdvb2cuZG9tLk5vZGVUeXBlLkVMRU1FTlQpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgc3dpdGNoKG5vZGUudGFnTmFtZSkge1xuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuQVBQTEVUKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkFSRUEpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuQkFTRSk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5CUik6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5DT0wpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuQ09NTUFORCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5FTUJFRCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5GUkFNRSk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5IUik6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5JTUcpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuSU5QVVQpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuSUZSQU1FKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLklTSU5ERVgpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuS0VZR0VOKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkxJTkspOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuTk9GUkFNRVMpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuTk9TQ1JJUFQpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuTUVUQSk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5PQkpFQ1QpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuUEFSQU0pOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuU0NSSVBUKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLlNPVVJDRSk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5TVFlMRSk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5UUkFDSyk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5XQlIpOlxuICAgICAgcmV0dXJuICExO1xuICB9XG4gIHJldHVybiAhMDtcbn07XG5nb29nLmRvbS5hcHBlbmRDaGlsZCA9IGZ1bmN0aW9uKHBhcmVudCwgY2hpbGQpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IHBhcmVudCAmJiBudWxsICE9IGNoaWxkLCBcImdvb2cuZG9tLmFwcGVuZENoaWxkIGV4cGVjdHMgbm9uLW51bGwgYXJndW1lbnRzXCIpO1xuICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xufTtcbmdvb2cuZG9tLmFwcGVuZCA9IGZ1bmN0aW9uKHBhcmVudCwgdmFyX2FyZ3MpIHtcbiAgZ29vZy5kb20uYXBwZW5kXyhnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KHBhcmVudCksIHBhcmVudCwgYXJndW1lbnRzLCAxKTtcbn07XG5nb29nLmRvbS5yZW1vdmVDaGlsZHJlbiA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgZm9yICh2YXIgY2hpbGQ7IGNoaWxkID0gbm9kZS5maXJzdENoaWxkOykge1xuICAgIG5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICB9XG59O1xuZ29vZy5kb20uaW5zZXJ0U2libGluZ0JlZm9yZSA9IGZ1bmN0aW9uKG5ld05vZGUsIHJlZk5vZGUpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IG5ld05vZGUgJiYgbnVsbCAhPSByZWZOb2RlLCBcImdvb2cuZG9tLmluc2VydFNpYmxpbmdCZWZvcmUgZXhwZWN0cyBub24tbnVsbCBhcmd1bWVudHNcIik7XG4gIHJlZk5vZGUucGFyZW50Tm9kZSAmJiByZWZOb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIHJlZk5vZGUpO1xufTtcbmdvb2cuZG9tLmluc2VydFNpYmxpbmdBZnRlciA9IGZ1bmN0aW9uKG5ld05vZGUsIHJlZk5vZGUpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IG5ld05vZGUgJiYgbnVsbCAhPSByZWZOb2RlLCBcImdvb2cuZG9tLmluc2VydFNpYmxpbmdBZnRlciBleHBlY3RzIG5vbi1udWxsIGFyZ3VtZW50c1wiKTtcbiAgcmVmTm9kZS5wYXJlbnROb2RlICYmIHJlZk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmTm9kZS5uZXh0U2libGluZyk7XG59O1xuZ29vZy5kb20uaW5zZXJ0Q2hpbGRBdCA9IGZ1bmN0aW9uKHBhcmVudCwgY2hpbGQsIGluZGV4KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBwYXJlbnQsIFwiZ29vZy5kb20uaW5zZXJ0Q2hpbGRBdCBleHBlY3RzIGEgbm9uLW51bGwgcGFyZW50XCIpO1xuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBwYXJlbnQuY2hpbGROb2Rlc1tpbmRleF0gfHwgbnVsbCk7XG59O1xuZ29vZy5kb20ucmVtb3ZlTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlID8gbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpIDogbnVsbDtcbn07XG5nb29nLmRvbS5yZXBsYWNlTm9kZSA9IGZ1bmN0aW9uKG5ld05vZGUsIG9sZE5vZGUpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IG5ld05vZGUgJiYgbnVsbCAhPSBvbGROb2RlLCBcImdvb2cuZG9tLnJlcGxhY2VOb2RlIGV4cGVjdHMgbm9uLW51bGwgYXJndW1lbnRzXCIpO1xuICB2YXIgcGFyZW50ID0gb2xkTm9kZS5wYXJlbnROb2RlO1xuICBwYXJlbnQgJiYgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBvbGROb2RlKTtcbn07XG5nb29nLmRvbS5jb3B5Q29udGVudHMgPSBmdW5jdGlvbih0YXJnZXQsIHNvdXJjZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gdGFyZ2V0ICYmIG51bGwgIT0gc291cmNlLCBcImdvb2cuZG9tLmNvcHlDb250ZW50cyBleHBlY3RzIG5vbi1udWxsIGFyZ3VtZW50c1wiKTtcbiAgdmFyIGNoaWxkTm9kZXMgPSBzb3VyY2UuY2xvbmVOb2RlKCEwKS5jaGlsZE5vZGVzO1xuICBmb3IgKGdvb2cuZG9tLnJlbW92ZUNoaWxkcmVuKHRhcmdldCk7IGNoaWxkTm9kZXMubGVuZ3RoOykge1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZChjaGlsZE5vZGVzWzBdKTtcbiAgfVxufTtcbmdvb2cuZG9tLmZsYXR0ZW5FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgY2hpbGQsIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgaWYgKHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT0gZ29vZy5kb20uTm9kZVR5cGUuRE9DVU1FTlRfRlJBR01FTlQpIHtcbiAgICBpZiAoZWxlbWVudC5yZW1vdmVOb2RlKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5yZW1vdmVOb2RlKCExKTtcbiAgICB9XG4gICAgZm9yICg7IGNoaWxkID0gZWxlbWVudC5maXJzdENoaWxkOykge1xuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgZWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiBnb29nLmRvbS5yZW1vdmVOb2RlKGVsZW1lbnQpO1xuICB9XG59O1xuZ29vZy5kb20uZ2V0Q2hpbGRyZW4gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiB2b2lkIDAgIT0gZWxlbWVudC5jaGlsZHJlbiA/IGVsZW1lbnQuY2hpbGRyZW4gOiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWxlbWVudC5jaGlsZE5vZGVzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuRUxFTUVOVDtcbiAgfSk7XG59O1xuZ29vZy5kb20uZ2V0Rmlyc3RFbGVtZW50Q2hpbGQgPSBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiB2b2lkIDAgIT09IG5vZGUuZmlyc3RFbGVtZW50Q2hpbGQgPyBub2RlLmZpcnN0RWxlbWVudENoaWxkIDogZ29vZy5kb20uZ2V0TmV4dEVsZW1lbnROb2RlXyhub2RlLmZpcnN0Q2hpbGQsICEwKTtcbn07XG5nb29nLmRvbS5nZXRMYXN0RWxlbWVudENoaWxkID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gdm9pZCAwICE9PSBub2RlLmxhc3RFbGVtZW50Q2hpbGQgPyBub2RlLmxhc3RFbGVtZW50Q2hpbGQgOiBnb29nLmRvbS5nZXROZXh0RWxlbWVudE5vZGVfKG5vZGUubGFzdENoaWxkLCAhMSk7XG59O1xuZ29vZy5kb20uZ2V0TmV4dEVsZW1lbnRTaWJsaW5nID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gdm9pZCAwICE9PSBub2RlLm5leHRFbGVtZW50U2libGluZyA/IG5vZGUubmV4dEVsZW1lbnRTaWJsaW5nIDogZ29vZy5kb20uZ2V0TmV4dEVsZW1lbnROb2RlXyhub2RlLm5leHRTaWJsaW5nLCAhMCk7XG59O1xuZ29vZy5kb20uZ2V0UHJldmlvdXNFbGVtZW50U2libGluZyA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgcmV0dXJuIHZvaWQgMCAhPT0gbm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID8gbm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIDogZ29vZy5kb20uZ2V0TmV4dEVsZW1lbnROb2RlXyhub2RlLnByZXZpb3VzU2libGluZywgITEpO1xufTtcbmdvb2cuZG9tLmdldE5leHRFbGVtZW50Tm9kZV8gPSBmdW5jdGlvbihub2RlLCBmb3J3YXJkKSB7XG4gIGZvciAoOyBub2RlICYmIG5vZGUubm9kZVR5cGUgIT0gZ29vZy5kb20uTm9kZVR5cGUuRUxFTUVOVDspIHtcbiAgICBub2RlID0gZm9yd2FyZCA/IG5vZGUubmV4dFNpYmxpbmcgOiBub2RlLnByZXZpb3VzU2libGluZztcbiAgfVxuICByZXR1cm4gbm9kZTtcbn07XG5nb29nLmRvbS5nZXROZXh0Tm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKG5vZGUuZmlyc3RDaGlsZCkge1xuICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7XG4gIH1cbiAgZm9yICg7IG5vZGUgJiYgIW5vZGUubmV4dFNpYmxpbmc7KSB7XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gbm9kZSA/IG5vZGUubmV4dFNpYmxpbmcgOiBudWxsO1xufTtcbmdvb2cuZG9tLmdldFByZXZpb3VzTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKCFub2RlLnByZXZpb3VzU2libGluZykge1xuICAgIHJldHVybiBub2RlLnBhcmVudE5vZGU7XG4gIH1cbiAgZm9yIChub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7IG5vZGUgJiYgbm9kZS5sYXN0Q2hpbGQ7KSB7XG4gICAgbm9kZSA9IG5vZGUubGFzdENoaWxkO1xuICB9XG4gIHJldHVybiBub2RlO1xufTtcbmdvb2cuZG9tLmlzTm9kZUxpa2UgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIGdvb2cuaXNPYmplY3Qob2JqKSAmJiAwIDwgb2JqLm5vZGVUeXBlO1xufTtcbmdvb2cuZG9tLmlzRWxlbWVudCA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gZ29vZy5pc09iamVjdChvYmopICYmIG9iai5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UO1xufTtcbmdvb2cuZG9tLmlzV2luZG93ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBnb29nLmlzT2JqZWN0KG9iaikgJiYgb2JqLndpbmRvdyA9PSBvYmo7XG59O1xuZ29vZy5kb20uZ2V0UGFyZW50RWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIHBhcmVudDtcbiAgaWYgKGdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLkNBTl9VU0VfUEFSRU5UX0VMRU1FTlRfUFJPUEVSVFkgJiYgIShnb29nLnVzZXJBZ2VudC5JRSAmJiBnb29nLnVzZXJBZ2VudC5pc1ZlcnNpb25PckhpZ2hlcihcIjlcIikgJiYgIWdvb2cudXNlckFnZW50LmlzVmVyc2lvbk9ySGlnaGVyKFwiMTBcIikgJiYgZ29vZy5nbG9iYWwuU1ZHRWxlbWVudCAmJiBlbGVtZW50IGluc3RhbmNlb2YgZ29vZy5nbG9iYWwuU1ZHRWxlbWVudCkgJiYgKHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudCkpIHtcbiAgICByZXR1cm4gcGFyZW50O1xuICB9XG4gIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgcmV0dXJuIGdvb2cuZG9tLmlzRWxlbWVudChwYXJlbnQpID8gcGFyZW50IDogbnVsbDtcbn07XG5nb29nLmRvbS5jb250YWlucyA9IGZ1bmN0aW9uKHBhcmVudCwgZGVzY2VuZGFudCkge1xuICBpZiAoIXBhcmVudCB8fCAhZGVzY2VuZGFudCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICBpZiAocGFyZW50LmNvbnRhaW5zICYmIGRlc2NlbmRhbnQubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuRUxFTUVOVCkge1xuICAgIHJldHVybiBwYXJlbnQgPT0gZGVzY2VuZGFudCB8fCBwYXJlbnQuY29udGFpbnMoZGVzY2VuZGFudCk7XG4gIH1cbiAgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHBhcmVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikge1xuICAgIHJldHVybiBwYXJlbnQgPT0gZGVzY2VuZGFudCB8fCAhIShwYXJlbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZGVzY2VuZGFudCkgJiAxNik7XG4gIH1cbiAgZm9yICg7IGRlc2NlbmRhbnQgJiYgcGFyZW50ICE9IGRlc2NlbmRhbnQ7KSB7XG4gICAgZGVzY2VuZGFudCA9IGRlc2NlbmRhbnQucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gZGVzY2VuZGFudCA9PSBwYXJlbnQ7XG59O1xuZ29vZy5kb20uY29tcGFyZU5vZGVPcmRlciA9IGZ1bmN0aW9uKG5vZGUxLCBub2RlMikge1xuICBpZiAobm9kZTEgPT0gbm9kZTIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAobm9kZTEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pIHtcbiAgICByZXR1cm4gbm9kZTEuY29tcGFyZURvY3VtZW50UG9zaXRpb24obm9kZTIpICYgMiA/IDEgOiAtMTtcbiAgfVxuICBpZiAoZ29vZy51c2VyQWdlbnQuSUUgJiYgIWdvb2cudXNlckFnZW50LmlzRG9jdW1lbnRNb2RlT3JIaWdoZXIoOSkpIHtcbiAgICBpZiAobm9kZTEubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuRE9DVU1FTlQpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKG5vZGUyLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLkRPQ1VNRU5UKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH1cbiAgaWYgKFwic291cmNlSW5kZXhcIiBpbiBub2RlMSB8fCBub2RlMS5wYXJlbnROb2RlICYmIFwic291cmNlSW5kZXhcIiBpbiBub2RlMS5wYXJlbnROb2RlKSB7XG4gICAgdmFyIGlzRWxlbWVudDEgPSBub2RlMS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5ULCBpc0VsZW1lbnQyID0gbm9kZTIubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuRUxFTUVOVDtcbiAgICBpZiAoaXNFbGVtZW50MSAmJiBpc0VsZW1lbnQyKSB7XG4gICAgICByZXR1cm4gbm9kZTEuc291cmNlSW5kZXggLSBub2RlMi5zb3VyY2VJbmRleDtcbiAgICB9XG4gICAgdmFyIHBhcmVudDEgPSBub2RlMS5wYXJlbnROb2RlLCBwYXJlbnQyID0gbm9kZTIucGFyZW50Tm9kZTtcbiAgICByZXR1cm4gcGFyZW50MSA9PSBwYXJlbnQyID8gZ29vZy5kb20uY29tcGFyZVNpYmxpbmdPcmRlcl8obm9kZTEsIG5vZGUyKSA6ICFpc0VsZW1lbnQxICYmIGdvb2cuZG9tLmNvbnRhaW5zKHBhcmVudDEsIG5vZGUyKSA/IC0xICogZ29vZy5kb20uY29tcGFyZVBhcmVudHNEZXNjZW5kYW50Tm9kZUllXyhub2RlMSwgbm9kZTIpIDogIWlzRWxlbWVudDIgJiYgZ29vZy5kb20uY29udGFpbnMocGFyZW50Miwgbm9kZTEpID8gZ29vZy5kb20uY29tcGFyZVBhcmVudHNEZXNjZW5kYW50Tm9kZUllXyhub2RlMiwgbm9kZTEpIDogKGlzRWxlbWVudDEgPyBub2RlMS5zb3VyY2VJbmRleCA6IHBhcmVudDEuc291cmNlSW5kZXgpIC0gKGlzRWxlbWVudDIgPyBub2RlMi5zb3VyY2VJbmRleCA6IHBhcmVudDIuc291cmNlSW5kZXgpO1xuICB9XG4gIHZhciBkb2MgPSBnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KG5vZGUxKTtcbiAgdmFyIHJhbmdlMSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICByYW5nZTEuc2VsZWN0Tm9kZShub2RlMSk7XG4gIHJhbmdlMS5jb2xsYXBzZSghMCk7XG4gIHZhciByYW5nZTIgPSBkb2MuY3JlYXRlUmFuZ2UoKTtcbiAgcmFuZ2UyLnNlbGVjdE5vZGUobm9kZTIpO1xuICByYW5nZTIuY29sbGFwc2UoITApO1xuICByZXR1cm4gcmFuZ2UxLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhnb29nLmdsb2JhbC5SYW5nZS5TVEFSVF9UT19FTkQsIHJhbmdlMik7XG59O1xuZ29vZy5kb20uY29tcGFyZVBhcmVudHNEZXNjZW5kYW50Tm9kZUllXyA9IGZ1bmN0aW9uKHRleHROb2RlLCBub2RlKSB7XG4gIHZhciBwYXJlbnQgPSB0ZXh0Tm9kZS5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50ID09IG5vZGUpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgZm9yICh2YXIgc2libGluZyA9IG5vZGU7IHNpYmxpbmcucGFyZW50Tm9kZSAhPSBwYXJlbnQ7KSB7XG4gICAgc2libGluZyA9IHNpYmxpbmcucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gZ29vZy5kb20uY29tcGFyZVNpYmxpbmdPcmRlcl8oc2libGluZywgdGV4dE5vZGUpO1xufTtcbmdvb2cuZG9tLmNvbXBhcmVTaWJsaW5nT3JkZXJfID0gZnVuY3Rpb24obm9kZTEsIG5vZGUyKSB7XG4gIGZvciAodmFyIHMgPSBub2RlMjsgcyA9IHMucHJldmlvdXNTaWJsaW5nOykge1xuICAgIGlmIChzID09IG5vZGUxKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiAxO1xufTtcbmdvb2cuZG9tLmZpbmRDb21tb25BbmNlc3RvciA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBpLCBjb3VudCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGlmICghY291bnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoMSA9PSBjb3VudCkge1xuICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gIH1cbiAgdmFyIHBhdGhzID0gW10sIG1pbkxlbmd0aCA9IEluZmluaXR5O1xuICBmb3IgKGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgIGZvciAodmFyIGFuY2VzdG9ycyA9IFtdLCBub2RlID0gYXJndW1lbnRzW2ldOyBub2RlOykge1xuICAgICAgYW5jZXN0b3JzLnVuc2hpZnQobm9kZSksIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHBhdGhzLnB1c2goYW5jZXN0b3JzKTtcbiAgICBtaW5MZW5ndGggPSBNYXRoLm1pbihtaW5MZW5ndGgsIGFuY2VzdG9ycy5sZW5ndGgpO1xuICB9XG4gIHZhciBvdXRwdXQgPSBudWxsO1xuICBmb3IgKGkgPSAwOyBpIDwgbWluTGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKHZhciBmaXJzdCA9IHBhdGhzWzBdW2ldLCBqID0gMTsgaiA8IGNvdW50OyBqKyspIHtcbiAgICAgIGlmIChmaXJzdCAhPSBwYXRoc1tqXVtpXSkge1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgfVxuICAgIH1cbiAgICBvdXRwdXQgPSBmaXJzdDtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufTtcbmdvb2cuZG9tLmlzSW5Eb2N1bWVudCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgcmV0dXJuIDE2ID09IChub2RlLm93bmVyRG9jdW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24obm9kZSkgJiAxNik7XG59O1xuZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChub2RlLCBcIk5vZGUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLlwiKTtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuRE9DVU1FTlQgPyBub2RlIDogbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUuZG9jdW1lbnQ7XG59O1xuZ29vZy5kb20uZ2V0RnJhbWVDb250ZW50RG9jdW1lbnQgPSBmdW5jdGlvbihmcmFtZSkge1xuICByZXR1cm4gZnJhbWUuY29udGVudERvY3VtZW50IHx8IGZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG59O1xuZ29vZy5kb20uZ2V0RnJhbWVDb250ZW50V2luZG93ID0gZnVuY3Rpb24oZnJhbWUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJhbWUuY29udGVudFdpbmRvdyB8fCAoZnJhbWUuY29udGVudERvY3VtZW50ID8gZ29vZy5kb20uZ2V0V2luZG93KGZyYW1lLmNvbnRlbnREb2N1bWVudCkgOiBudWxsKTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuZG9tLnNldFRleHRDb250ZW50ID0gZnVuY3Rpb24obm9kZSwgdGV4dCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gbm9kZSwgXCJnb29nLmRvbS5zZXRUZXh0Q29udGVudCBleHBlY3RzIGEgbm9uLW51bGwgdmFsdWUgZm9yIG5vZGVcIik7XG4gIGlmIChcInRleHRDb250ZW50XCIgaW4gbm9kZSkge1xuICAgIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9IGVsc2Uge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLlRFWFQpIHtcbiAgICAgIG5vZGUuZGF0YSA9IFN0cmluZyh0ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5vZGUuZmlyc3RDaGlsZCAmJiBub2RlLmZpcnN0Q2hpbGQubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuVEVYVCkge1xuICAgICAgICBmb3IgKDsgbm9kZS5sYXN0Q2hpbGQgIT0gbm9kZS5maXJzdENoaWxkOykge1xuICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQoZ29vZy5hc3NlcnRzLmFzc2VydChub2RlLmxhc3RDaGlsZCkpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuZmlyc3RDaGlsZC5kYXRhID0gU3RyaW5nKHRleHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ29vZy5kb20ucmVtb3ZlQ2hpbGRyZW4obm9kZSk7XG4gICAgICAgIHZhciBkb2MgPSBnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KG5vZGUpO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZShTdHJpbmcodGV4dCkpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLmRvbS5nZXRPdXRlckh0bWwgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPT0gZWxlbWVudCwgXCJnb29nLmRvbS5nZXRPdXRlckh0bWwgZXhwZWN0cyBhIG5vbi1udWxsIHZhbHVlIGZvciBlbGVtZW50XCIpO1xuICBpZiAoXCJvdXRlckhUTUxcIiBpbiBlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub3V0ZXJIVE1MO1xuICB9XG4gIHZhciBkb2MgPSBnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KGVsZW1lbnQpLCBkaXYgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50Xyhkb2MsIGdvb2cuZG9tLlRhZ05hbWUuRElWKTtcbiAgZGl2LmFwcGVuZENoaWxkKGVsZW1lbnQuY2xvbmVOb2RlKCEwKSk7XG4gIHJldHVybiBkaXYuaW5uZXJIVE1MO1xufTtcbmdvb2cuZG9tLmZpbmROb2RlID0gZnVuY3Rpb24ocm9vdCwgcCkge1xuICB2YXIgcnYgPSBbXTtcbiAgcmV0dXJuIGdvb2cuZG9tLmZpbmROb2Rlc18ocm9vdCwgcCwgcnYsICEwKSA/IHJ2WzBdIDogdm9pZCAwO1xufTtcbmdvb2cuZG9tLmZpbmROb2RlcyA9IGZ1bmN0aW9uKHJvb3QsIHApIHtcbiAgdmFyIHJ2ID0gW107XG4gIGdvb2cuZG9tLmZpbmROb2Rlc18ocm9vdCwgcCwgcnYsICExKTtcbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuZG9tLmZpbmROb2Rlc18gPSBmdW5jdGlvbihyb290LCBwLCBydiwgZmluZE9uZSkge1xuICBpZiAobnVsbCAhPSByb290KSB7XG4gICAgZm9yICh2YXIgY2hpbGQgPSByb290LmZpcnN0Q2hpbGQ7IGNoaWxkOykge1xuICAgICAgaWYgKHAoY2hpbGQpICYmIChydi5wdXNoKGNoaWxkKSwgZmluZE9uZSkgfHwgZ29vZy5kb20uZmluZE5vZGVzXyhjaGlsZCwgcCwgcnYsIGZpbmRPbmUpKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLmRvbS5maW5kRWxlbWVudCA9IGZ1bmN0aW9uKHJvb3QsIHByZWQpIHtcbiAgZm9yICh2YXIgc3RhY2sgPSBnb29nLmRvbS5nZXRDaGlsZHJlblJldmVyc2VfKHJvb3QpOyAwIDwgc3RhY2subGVuZ3RoOykge1xuICAgIHZhciBuZXh0ID0gc3RhY2sucG9wKCk7XG4gICAgaWYgKHByZWQobmV4dCkpIHtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbiAgICBmb3IgKHZhciBjID0gbmV4dC5sYXN0RWxlbWVudENoaWxkOyBjOyBjID0gYy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICBzdGFjay5wdXNoKGMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLmRvbS5maW5kRWxlbWVudHMgPSBmdW5jdGlvbihyb290LCBwcmVkKSB7XG4gIGZvciAodmFyIHJlc3VsdCA9IFtdLCBzdGFjayA9IGdvb2cuZG9tLmdldENoaWxkcmVuUmV2ZXJzZV8ocm9vdCk7IDAgPCBzdGFjay5sZW5ndGg7KSB7XG4gICAgdmFyIG5leHQgPSBzdGFjay5wb3AoKTtcbiAgICBwcmVkKG5leHQpICYmIHJlc3VsdC5wdXNoKG5leHQpO1xuICAgIGZvciAodmFyIGMgPSBuZXh0Lmxhc3RFbGVtZW50Q2hpbGQ7IGM7IGMgPSBjLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIHN0YWNrLnB1c2goYyk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5kb20uZ2V0Q2hpbGRyZW5SZXZlcnNlXyA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuRE9DVU1FTlQpIHtcbiAgICByZXR1cm4gW25vZGUuZG9jdW1lbnRFbGVtZW50XTtcbiAgfVxuICBmb3IgKHZhciBjaGlsZHJlbiA9IFtdLCBjID0gbm9kZS5sYXN0RWxlbWVudENoaWxkOyBjOyBjID0gYy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgY2hpbGRyZW4ucHVzaChjKTtcbiAgfVxuICByZXR1cm4gY2hpbGRyZW47XG59O1xuZ29vZy5kb20uVEFHU19UT19JR05PUkVfID0ge1NDUklQVDoxLCBTVFlMRToxLCBIRUFEOjEsIElGUkFNRToxLCBPQkpFQ1Q6MX07XG5nb29nLmRvbS5QUkVERUZJTkVEX1RBR19WQUxVRVNfID0ge0lNRzpcIiBcIiwgQlI6XCJcXG5cIn07XG5nb29nLmRvbS5pc0ZvY3VzYWJsZVRhYkluZGV4ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5kb20uaGFzU3BlY2lmaWVkVGFiSW5kZXhfKGVsZW1lbnQpICYmIGdvb2cuZG9tLmlzVGFiSW5kZXhGb2N1c2FibGVfKGVsZW1lbnQpO1xufTtcbmdvb2cuZG9tLnNldEZvY3VzYWJsZVRhYkluZGV4ID0gZnVuY3Rpb24oZWxlbWVudCwgZW5hYmxlKSB7XG4gIGVuYWJsZSA/IGVsZW1lbnQudGFiSW5kZXggPSAwIDogKGVsZW1lbnQudGFiSW5kZXggPSAtMSwgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJJbmRleFwiKSk7XG59O1xuZ29vZy5kb20uaXNGb2N1c2FibGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBmb2N1c2FibGU7XG4gIHJldHVybiAoZm9jdXNhYmxlID0gZ29vZy5kb20ubmF0aXZlbHlTdXBwb3J0c0ZvY3VzXyhlbGVtZW50KSA/ICFlbGVtZW50LmRpc2FibGVkICYmICghZ29vZy5kb20uaGFzU3BlY2lmaWVkVGFiSW5kZXhfKGVsZW1lbnQpIHx8IGdvb2cuZG9tLmlzVGFiSW5kZXhGb2N1c2FibGVfKGVsZW1lbnQpKSA6IGdvb2cuZG9tLmlzRm9jdXNhYmxlVGFiSW5kZXgoZWxlbWVudCkpICYmIGdvb2cudXNlckFnZW50LklFID8gZ29vZy5kb20uaGFzTm9uWmVyb0JvdW5kaW5nUmVjdF8oZWxlbWVudCkgOiBmb2N1c2FibGU7XG59O1xuZ29vZy5kb20uaGFzU3BlY2lmaWVkVGFiSW5kZXhfID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKTtcbn07XG5nb29nLmRvbS5pc1RhYkluZGV4Rm9jdXNhYmxlXyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGluZGV4ID0gZWxlbWVudC50YWJJbmRleDtcbiAgcmV0dXJuIFwibnVtYmVyXCIgPT09IHR5cGVvZiBpbmRleCAmJiAwIDw9IGluZGV4ICYmIDMyNzY4ID4gaW5kZXg7XG59O1xuZ29vZy5kb20ubmF0aXZlbHlTdXBwb3J0c0ZvY3VzXyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQudGFnTmFtZSA9PSBnb29nLmRvbS5UYWdOYW1lLkEgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpIHx8IGVsZW1lbnQudGFnTmFtZSA9PSBnb29nLmRvbS5UYWdOYW1lLklOUFVUIHx8IGVsZW1lbnQudGFnTmFtZSA9PSBnb29nLmRvbS5UYWdOYW1lLlRFWFRBUkVBIHx8IGVsZW1lbnQudGFnTmFtZSA9PSBnb29nLmRvbS5UYWdOYW1lLlNFTEVDVCB8fCBlbGVtZW50LnRhZ05hbWUgPT0gZ29vZy5kb20uVGFnTmFtZS5CVVRUT047XG59O1xuZ29vZy5kb20uaGFzTm9uWmVyb0JvdW5kaW5nUmVjdF8gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciByZWN0ID0gXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgfHwgZ29vZy51c2VyQWdlbnQuSUUgJiYgbnVsbCA9PSBlbGVtZW50LnBhcmVudEVsZW1lbnQgPyB7aGVpZ2h0OmVsZW1lbnQub2Zmc2V0SGVpZ2h0LCB3aWR0aDplbGVtZW50Lm9mZnNldFdpZHRofSA6IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiBudWxsICE9IHJlY3QgJiYgMCA8IHJlY3QuaGVpZ2h0ICYmIDAgPCByZWN0LndpZHRoO1xufTtcbmdvb2cuZG9tLmdldFRleHRDb250ZW50ID0gZnVuY3Rpb24obm9kZSkge1xuICB2YXIgYnVmID0gW107XG4gIGdvb2cuZG9tLmdldFRleHRDb250ZW50Xyhub2RlLCBidWYsICEwKTtcbiAgdmFyIHRleHRDb250ZW50ID0gYnVmLmpvaW4oXCJcIik7XG4gIHRleHRDb250ZW50ID0gdGV4dENvbnRlbnQucmVwbGFjZSgvIFxceEFEIC9nLCBcIiBcIikucmVwbGFjZSgvXFx4QUQvZywgXCJcIik7XG4gIHRleHRDb250ZW50ID0gdGV4dENvbnRlbnQucmVwbGFjZSgvXFx1MjAwQi9nLCBcIlwiKTtcbiAgdGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudC5yZXBsYWNlKC8gKy9nLCBcIiBcIik7XG4gIFwiIFwiICE9IHRleHRDb250ZW50ICYmICh0ZXh0Q29udGVudCA9IHRleHRDb250ZW50LnJlcGxhY2UoL15cXHMqLywgXCJcIikpO1xuICByZXR1cm4gdGV4dENvbnRlbnQ7XG59O1xuZ29vZy5kb20uZ2V0UmF3VGV4dENvbnRlbnQgPSBmdW5jdGlvbihub2RlKSB7XG4gIHZhciBidWYgPSBbXTtcbiAgZ29vZy5kb20uZ2V0VGV4dENvbnRlbnRfKG5vZGUsIGJ1ZiwgITEpO1xuICByZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59O1xuZ29vZy5kb20uZ2V0VGV4dENvbnRlbnRfID0gZnVuY3Rpb24obm9kZSwgYnVmLCBub3JtYWxpemVXaGl0ZXNwYWNlKSB7XG4gIGlmICghKG5vZGUubm9kZU5hbWUgaW4gZ29vZy5kb20uVEFHU19UT19JR05PUkVfKSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLlRFWFQpIHtcbiAgICAgIG5vcm1hbGl6ZVdoaXRlc3BhY2UgPyBidWYucHVzaChTdHJpbmcobm9kZS5ub2RlVmFsdWUpLnJlcGxhY2UoLyhcXHJcXG58XFxyfFxcbikvZywgXCJcIikpIDogYnVmLnB1c2gobm9kZS5ub2RlVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobm9kZS5ub2RlTmFtZSBpbiBnb29nLmRvbS5QUkVERUZJTkVEX1RBR19WQUxVRVNfKSB7XG4gICAgICAgIGJ1Zi5wdXNoKGdvb2cuZG9tLlBSRURFRklORURfVEFHX1ZBTFVFU19bbm9kZS5ub2RlTmFtZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOykge1xuICAgICAgICAgIGdvb2cuZG9tLmdldFRleHRDb250ZW50XyhjaGlsZCwgYnVmLCBub3JtYWxpemVXaGl0ZXNwYWNlKSwgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmdvb2cuZG9tLmdldE5vZGVUZXh0TGVuZ3RoID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0VGV4dENvbnRlbnQobm9kZSkubGVuZ3RoO1xufTtcbmdvb2cuZG9tLmdldE5vZGVUZXh0T2Zmc2V0ID0gZnVuY3Rpb24obm9kZSwgb3B0X29mZnNldFBhcmVudCkge1xuICBmb3IgKHZhciByb290ID0gb3B0X29mZnNldFBhcmVudCB8fCBnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KG5vZGUpLmJvZHksIGJ1ZiA9IFtdOyBub2RlICYmIG5vZGUgIT0gcm9vdDspIHtcbiAgICBmb3IgKHZhciBjdXIgPSBub2RlOyBjdXIgPSBjdXIucHJldmlvdXNTaWJsaW5nOykge1xuICAgICAgYnVmLnVuc2hpZnQoZ29vZy5kb20uZ2V0VGV4dENvbnRlbnQoY3VyKSk7XG4gICAgfVxuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIGdvb2cuc3RyaW5nLnRyaW1MZWZ0KGJ1Zi5qb2luKFwiXCIpKS5yZXBsYWNlKC8gKy9nLCBcIiBcIikubGVuZ3RoO1xufTtcbmdvb2cuZG9tLmdldE5vZGVBdE9mZnNldCA9IGZ1bmN0aW9uKHBhcmVudCwgb2Zmc2V0LCBvcHRfcmVzdWx0KSB7XG4gIGZvciAodmFyIHN0YWNrID0gW3BhcmVudF0sIHBvcyA9IDAsIGN1ciA9IG51bGw7IDAgPCBzdGFjay5sZW5ndGggJiYgcG9zIDwgb2Zmc2V0Oykge1xuICAgIGlmIChjdXIgPSBzdGFjay5wb3AoKSwgIShjdXIubm9kZU5hbWUgaW4gZ29vZy5kb20uVEFHU19UT19JR05PUkVfKSkge1xuICAgICAgaWYgKGN1ci5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5URVhUKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gY3VyLm5vZGVWYWx1ZS5yZXBsYWNlKC8oXFxyXFxufFxccnxcXG4pL2csIFwiXCIpLnJlcGxhY2UoLyArL2csIFwiIFwiKTtcbiAgICAgICAgcG9zICs9IHRleHQubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGN1ci5ub2RlTmFtZSBpbiBnb29nLmRvbS5QUkVERUZJTkVEX1RBR19WQUxVRVNfKSB7XG4gICAgICAgICAgcG9zICs9IGdvb2cuZG9tLlBSRURFRklORURfVEFHX1ZBTFVFU19bY3VyLm5vZGVOYW1lXS5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IGN1ci5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKGN1ci5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ29vZy5pc09iamVjdChvcHRfcmVzdWx0KSAmJiAob3B0X3Jlc3VsdC5yZW1haW5kZXIgPSBjdXIgPyBjdXIubm9kZVZhbHVlLmxlbmd0aCArIG9mZnNldCAtIHBvcyAtIDEgOiAwLCBvcHRfcmVzdWx0Lm5vZGUgPSBjdXIpO1xuICByZXR1cm4gY3VyO1xufTtcbmdvb2cuZG9tLmlzTm9kZUxpc3QgPSBmdW5jdGlvbih2YWwpIHtcbiAgaWYgKHZhbCAmJiBcIm51bWJlclwiID09IHR5cGVvZiB2YWwubGVuZ3RoKSB7XG4gICAgaWYgKGdvb2cuaXNPYmplY3QodmFsKSkge1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdmFsLml0ZW0gfHwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdmFsLml0ZW07XG4gICAgfVxuICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWwpIHtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHZhbC5pdGVtO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5kb20uZ2V0QW5jZXN0b3JCeVRhZ05hbWVBbmRDbGFzcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X21heFNlYXJjaFN0ZXBzKSB7XG4gIGlmICghb3B0X3RhZyAmJiAhb3B0X2NsYXNzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHRhZ05hbWUgPSBvcHRfdGFnID8gU3RyaW5nKG9wdF90YWcpLnRvVXBwZXJDYXNlKCkgOiBudWxsO1xuICByZXR1cm4gZ29vZy5kb20uZ2V0QW5jZXN0b3IoZWxlbWVudCwgZnVuY3Rpb24obm9kZSkge1xuICAgIHJldHVybiAoIXRhZ05hbWUgfHwgbm9kZS5ub2RlTmFtZSA9PSB0YWdOYW1lKSAmJiAoIW9wdF9jbGFzcyB8fCBcInN0cmluZ1wiID09PSB0eXBlb2Ygbm9kZS5jbGFzc05hbWUgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnMobm9kZS5jbGFzc05hbWUuc3BsaXQoL1xccysvKSwgb3B0X2NsYXNzKSk7XG4gIH0sICEwLCBvcHRfbWF4U2VhcmNoU3RlcHMpO1xufTtcbmdvb2cuZG9tLmdldEFuY2VzdG9yQnlDbGFzcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0X21heFNlYXJjaFN0ZXBzKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRBbmNlc3RvckJ5VGFnTmFtZUFuZENsYXNzKGVsZW1lbnQsIG51bGwsIGNsYXNzTmFtZSwgb3B0X21heFNlYXJjaFN0ZXBzKTtcbn07XG5nb29nLmRvbS5nZXRBbmNlc3RvciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG1hdGNoZXIsIG9wdF9pbmNsdWRlTm9kZSwgb3B0X21heFNlYXJjaFN0ZXBzKSB7XG4gIGVsZW1lbnQgJiYgIW9wdF9pbmNsdWRlTm9kZSAmJiAoZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSk7XG4gIGZvciAodmFyIHN0ZXBzID0gMDsgZWxlbWVudCAmJiAobnVsbCA9PSBvcHRfbWF4U2VhcmNoU3RlcHMgfHwgc3RlcHMgPD0gb3B0X21heFNlYXJjaFN0ZXBzKTspIHtcbiAgICBnb29nLmFzc2VydHMuYXNzZXJ0KFwicGFyZW50Tm9kZVwiICE9IGVsZW1lbnQubmFtZSk7XG4gICAgaWYgKG1hdGNoZXIoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIHN0ZXBzKys7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5kb20uZ2V0QWN0aXZlRWxlbWVudCA9IGZ1bmN0aW9uKGRvYykge1xuICB0cnkge1xuICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jICYmIGRvYy5hY3RpdmVFbGVtZW50O1xuICAgIHJldHVybiBhY3RpdmVFbGVtZW50ICYmIGFjdGl2ZUVsZW1lbnQubm9kZU5hbWUgPyBhY3RpdmVFbGVtZW50IDogbnVsbDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuZ29vZy5kb20uZ2V0UGl4ZWxSYXRpbyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgd2luID0gZ29vZy5kb20uZ2V0V2luZG93KCk7XG4gIHJldHVybiB2b2lkIDAgIT09IHdpbi5kZXZpY2VQaXhlbFJhdGlvID8gd2luLmRldmljZVBpeGVsUmF0aW8gOiB3aW4ubWF0Y2hNZWRpYSA/IGdvb2cuZG9tLm1hdGNoZXNQaXhlbFJhdGlvXygzKSB8fCBnb29nLmRvbS5tYXRjaGVzUGl4ZWxSYXRpb18oMikgfHwgZ29vZy5kb20ubWF0Y2hlc1BpeGVsUmF0aW9fKDEuNSkgfHwgZ29vZy5kb20ubWF0Y2hlc1BpeGVsUmF0aW9fKDEpIHx8IC43NSA6IDE7XG59O1xuZ29vZy5kb20ubWF0Y2hlc1BpeGVsUmF0aW9fID0gZnVuY3Rpb24ocGl4ZWxSYXRpbykge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0V2luZG93KCkubWF0Y2hNZWRpYShcIihtaW4tcmVzb2x1dGlvbjogXCIgKyBwaXhlbFJhdGlvICsgXCJkcHB4KSwobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiBcIiArIHBpeGVsUmF0aW8gKyBcIiksKG1pbi1yZXNvbHV0aW9uOiBcIiArIDk2ICogcGl4ZWxSYXRpbyArIFwiZHBpKVwiKS5tYXRjaGVzID8gcGl4ZWxSYXRpbyA6IDA7XG59O1xuZ29vZy5kb20uZ2V0Q2FudmFzQ29udGV4dDJEID0gZnVuY3Rpb24oY2FudmFzKSB7XG4gIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlciA9IGZ1bmN0aW9uKG9wdF9kb2N1bWVudCkge1xuICB0aGlzLmRvY3VtZW50XyA9IG9wdF9kb2N1bWVudCB8fCBnb29nLmdsb2JhbC5kb2N1bWVudCB8fCBkb2N1bWVudDtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldERvbUhlbHBlciA9IGdvb2cuZG9tLmdldERvbUhlbHBlcjtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbihkb2N1bWVudCkge1xuICB0aGlzLmRvY3VtZW50XyA9IGRvY3VtZW50O1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZG9jdW1lbnRfO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEVsZW1lbnRIZWxwZXJfKHRoaXMuZG9jdW1lbnRfLCBlbGVtZW50KTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldFJlcXVpcmVkRWxlbWVudCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRSZXF1aXJlZEVsZW1lbnRIZWxwZXJfKHRoaXMuZG9jdW1lbnRfLCBpZCk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS4kID0gZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRFbGVtZW50O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGZ1bmN0aW9uKHRhZ05hbWUsIG9wdF9wYXJlbnQpIHtcbiAgcmV0dXJuIChvcHRfcGFyZW50IHx8IHRoaXMuZG9jdW1lbnRfKS5nZXRFbGVtZW50c0J5VGFnTmFtZShTdHJpbmcodGFnTmFtZSkpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzcyA9IGZ1bmN0aW9uKG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzXyh0aGlzLmRvY3VtZW50Xywgb3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudEJ5VGFnTmFtZUFuZENsYXNzID0gZnVuY3Rpb24ob3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEVsZW1lbnRCeVRhZ05hbWVBbmRDbGFzc18odGhpcy5kb2N1bWVudF8sIG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEVsZW1lbnRzQnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X2VsKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRFbGVtZW50c0J5Q2xhc3MoY2xhc3NOYW1lLCBvcHRfZWwgfHwgdGhpcy5kb2N1bWVudF8pO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudEJ5Q2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9wdF9lbCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RWxlbWVudEJ5Q2xhc3MoY2xhc3NOYW1lLCBvcHRfZWwgfHwgdGhpcy5kb2N1bWVudF8pO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0UmVxdWlyZWRFbGVtZW50QnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X3Jvb3QpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldFJlcXVpcmVkRWxlbWVudEJ5Q2xhc3MoY2xhc3NOYW1lLCBvcHRfcm9vdCB8fCB0aGlzLmRvY3VtZW50Xyk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS4kJCA9IGdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzcztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuc2V0UHJvcGVydGllcyA9IGdvb2cuZG9tLnNldFByb3BlcnRpZXM7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldFZpZXdwb3J0U2l6ZSA9IGZ1bmN0aW9uKG9wdF93aW5kb3cpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldFZpZXdwb3J0U2l6ZShvcHRfd2luZG93IHx8IHRoaXMuZ2V0V2luZG93KCkpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RG9jdW1lbnRIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldERvY3VtZW50SGVpZ2h0Xyh0aGlzLmdldFdpbmRvdygpKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmNyZWF0ZURvbSA9IGZ1bmN0aW9uKHRhZ05hbWUsIG9wdF9hdHRyaWJ1dGVzLCB2YXJfYXJncykge1xuICByZXR1cm4gZ29vZy5kb20uY3JlYXRlRG9tXyh0aGlzLmRvY3VtZW50XywgYXJndW1lbnRzKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLiRkb20gPSBnb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmNyZWF0ZURvbTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKHRoaXMuZG9jdW1lbnRfLCBuYW1lKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmNyZWF0ZVRleHROb2RlID0gZnVuY3Rpb24oY29udGVudCkge1xuICByZXR1cm4gdGhpcy5kb2N1bWVudF8uY3JlYXRlVGV4dE5vZGUoU3RyaW5nKGNvbnRlbnQpKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmNyZWF0ZVRhYmxlID0gZnVuY3Rpb24ocm93cywgY29sdW1ucywgb3B0X2ZpbGxXaXRoTmJzcCkge1xuICByZXR1cm4gZ29vZy5kb20uY3JlYXRlVGFibGVfKHRoaXMuZG9jdW1lbnRfLCByb3dzLCBjb2x1bW5zLCAhIW9wdF9maWxsV2l0aE5ic3ApO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuc2FmZUh0bWxUb05vZGUgPSBmdW5jdGlvbihodG1sKSB7XG4gIHJldHVybiBnb29nLmRvbS5zYWZlSHRtbFRvTm9kZV8odGhpcy5kb2N1bWVudF8sIGh0bWwpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuaXNDc3MxQ29tcGF0TW9kZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uaXNDc3MxQ29tcGF0TW9kZV8odGhpcy5kb2N1bWVudF8pO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0V2luZG93ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRXaW5kb3dfKHRoaXMuZG9jdW1lbnRfKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50Xyh0aGlzLmRvY3VtZW50Xyk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXREb2N1bWVudFNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxfKHRoaXMuZG9jdW1lbnRfKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEFjdGl2ZUVsZW1lbnQgPSBmdW5jdGlvbihvcHRfZG9jKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRBY3RpdmVFbGVtZW50KG9wdF9kb2MgfHwgdGhpcy5kb2N1bWVudF8pO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBnb29nLmRvbS5hcHBlbmRDaGlsZDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuYXBwZW5kID0gZ29vZy5kb20uYXBwZW5kO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5jYW5IYXZlQ2hpbGRyZW4gPSBnb29nLmRvbS5jYW5IYXZlQ2hpbGRyZW47XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZ29vZy5kb20ucmVtb3ZlQ2hpbGRyZW47XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmluc2VydFNpYmxpbmdCZWZvcmUgPSBnb29nLmRvbS5pbnNlcnRTaWJsaW5nQmVmb3JlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5pbnNlcnRTaWJsaW5nQWZ0ZXIgPSBnb29nLmRvbS5pbnNlcnRTaWJsaW5nQWZ0ZXI7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmluc2VydENoaWxkQXQgPSBnb29nLmRvbS5pbnNlcnRDaGlsZEF0O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5yZW1vdmVOb2RlID0gZ29vZy5kb20ucmVtb3ZlTm9kZTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUucmVwbGFjZU5vZGUgPSBnb29nLmRvbS5yZXBsYWNlTm9kZTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY29weUNvbnRlbnRzID0gZ29vZy5kb20uY29weUNvbnRlbnRzO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5mbGF0dGVuRWxlbWVudCA9IGdvb2cuZG9tLmZsYXR0ZW5FbGVtZW50O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRDaGlsZHJlbiA9IGdvb2cuZG9tLmdldENoaWxkcmVuO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRGaXJzdEVsZW1lbnRDaGlsZCA9IGdvb2cuZG9tLmdldEZpcnN0RWxlbWVudENoaWxkO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRMYXN0RWxlbWVudENoaWxkID0gZ29vZy5kb20uZ2V0TGFzdEVsZW1lbnRDaGlsZDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0TmV4dEVsZW1lbnRTaWJsaW5nID0gZ29vZy5kb20uZ2V0TmV4dEVsZW1lbnRTaWJsaW5nO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRQcmV2aW91c0VsZW1lbnRTaWJsaW5nID0gZ29vZy5kb20uZ2V0UHJldmlvdXNFbGVtZW50U2libGluZztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0TmV4dE5vZGUgPSBnb29nLmRvbS5nZXROZXh0Tm9kZTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0UHJldmlvdXNOb2RlID0gZ29vZy5kb20uZ2V0UHJldmlvdXNOb2RlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5pc05vZGVMaWtlID0gZ29vZy5kb20uaXNOb2RlTGlrZTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuaXNFbGVtZW50ID0gZ29vZy5kb20uaXNFbGVtZW50O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5pc1dpbmRvdyA9IGdvb2cuZG9tLmlzV2luZG93O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRQYXJlbnRFbGVtZW50ID0gZ29vZy5kb20uZ2V0UGFyZW50RWxlbWVudDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY29udGFpbnMgPSBnb29nLmRvbS5jb250YWlucztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY29tcGFyZU5vZGVPcmRlciA9IGdvb2cuZG9tLmNvbXBhcmVOb2RlT3JkZXI7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmZpbmRDb21tb25BbmNlc3RvciA9IGdvb2cuZG9tLmZpbmRDb21tb25BbmNlc3Rvcjtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0T3duZXJEb2N1bWVudCA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEZyYW1lQ29udGVudERvY3VtZW50ID0gZ29vZy5kb20uZ2V0RnJhbWVDb250ZW50RG9jdW1lbnQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEZyYW1lQ29udGVudFdpbmRvdyA9IGdvb2cuZG9tLmdldEZyYW1lQ29udGVudFdpbmRvdztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuc2V0VGV4dENvbnRlbnQgPSBnb29nLmRvbS5zZXRUZXh0Q29udGVudDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0T3V0ZXJIdG1sID0gZ29vZy5kb20uZ2V0T3V0ZXJIdG1sO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5maW5kTm9kZSA9IGdvb2cuZG9tLmZpbmROb2RlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5maW5kTm9kZXMgPSBnb29nLmRvbS5maW5kTm9kZXM7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmlzRm9jdXNhYmxlVGFiSW5kZXggPSBnb29nLmRvbS5pc0ZvY3VzYWJsZVRhYkluZGV4O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5zZXRGb2N1c2FibGVUYWJJbmRleCA9IGdvb2cuZG9tLnNldEZvY3VzYWJsZVRhYkluZGV4O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5pc0ZvY3VzYWJsZSA9IGdvb2cuZG9tLmlzRm9jdXNhYmxlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRUZXh0Q29udGVudCA9IGdvb2cuZG9tLmdldFRleHRDb250ZW50O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXROb2RlVGV4dExlbmd0aCA9IGdvb2cuZG9tLmdldE5vZGVUZXh0TGVuZ3RoO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXROb2RlVGV4dE9mZnNldCA9IGdvb2cuZG9tLmdldE5vZGVUZXh0T2Zmc2V0O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXROb2RlQXRPZmZzZXQgPSBnb29nLmRvbS5nZXROb2RlQXRPZmZzZXQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmlzTm9kZUxpc3QgPSBnb29nLmRvbS5pc05vZGVMaXN0O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRBbmNlc3RvckJ5VGFnTmFtZUFuZENsYXNzID0gZ29vZy5kb20uZ2V0QW5jZXN0b3JCeVRhZ05hbWVBbmRDbGFzcztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0QW5jZXN0b3JCeUNsYXNzID0gZ29vZy5kb20uZ2V0QW5jZXN0b3JCeUNsYXNzO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRBbmNlc3RvciA9IGdvb2cuZG9tLmdldEFuY2VzdG9yO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRDYW52YXNDb250ZXh0MkQgPSBnb29nLmRvbS5nZXRDYW52YXNDb250ZXh0MkQ7XG5nb29nLmFzeW5jLm5leHRUaWNrID0gZnVuY3Rpb24oY2FsbGJhY2ssIG9wdF9jb250ZXh0LCBvcHRfdXNlU2V0SW1tZWRpYXRlKSB7XG4gIHZhciBjYiA9IGNhbGxiYWNrO1xuICBvcHRfY29udGV4dCAmJiAoY2IgPSBnb29nLmJpbmQoY2FsbGJhY2ssIG9wdF9jb250ZXh0KSk7XG4gIGNiID0gZ29vZy5hc3luYy5uZXh0VGljay53cmFwQ2FsbGJhY2tfKGNiKTtcbiAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZ29vZy5nbG9iYWwuc2V0SW1tZWRpYXRlICYmIChvcHRfdXNlU2V0SW1tZWRpYXRlIHx8IGdvb2cuYXN5bmMubmV4dFRpY2sudXNlU2V0SW1tZWRpYXRlXygpKSA/IGdvb2cuZ2xvYmFsLnNldEltbWVkaWF0ZShjYikgOiAoZ29vZy5hc3luYy5uZXh0VGljay5zZXRJbW1lZGlhdGVfIHx8IChnb29nLmFzeW5jLm5leHRUaWNrLnNldEltbWVkaWF0ZV8gPSBnb29nLmFzeW5jLm5leHRUaWNrLmdldFNldEltbWVkaWF0ZUVtdWxhdG9yXygpKSwgZ29vZy5hc3luYy5uZXh0VGljay5zZXRJbW1lZGlhdGVfKGNiKSk7XG59O1xuZ29vZy5hc3luYy5uZXh0VGljay51c2VTZXRJbW1lZGlhdGVfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmdsb2JhbC5XaW5kb3cgJiYgZ29vZy5nbG9iYWwuV2luZG93LnByb3RvdHlwZSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sKCkgJiYgZ29vZy5nbG9iYWwuV2luZG93LnByb3RvdHlwZS5zZXRJbW1lZGlhdGUgPT0gZ29vZy5nbG9iYWwuc2V0SW1tZWRpYXRlID8gITEgOiAhMDtcbn07XG5nb29nLmFzeW5jLm5leHRUaWNrLmdldFNldEltbWVkaWF0ZUVtdWxhdG9yXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgQ2hhbm5lbCA9IGdvb2cuZ2xvYmFsLk1lc3NhZ2VDaGFubmVsO1xuICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgQ2hhbm5lbCAmJiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdy5wb3N0TWVzc2FnZSAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzUHJlc3RvKCkgJiYgKENoYW5uZWwgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaWZyYW1lID0gZ29vZy5kb20uY3JlYXRlRWxlbWVudChnb29nLmRvbS5UYWdOYW1lLklGUkFNRSk7XG4gICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICB2YXIgd2luID0gaWZyYW1lLmNvbnRlbnRXaW5kb3csIGRvYyA9IHdpbi5kb2N1bWVudDtcbiAgICBkb2Mub3BlbigpO1xuICAgIGRvYy5jbG9zZSgpO1xuICAgIHZhciBtZXNzYWdlID0gXCJjYWxsSW1tZWRpYXRlXCIgKyBNYXRoLnJhbmRvbSgpLCBvcmlnaW4gPSBcImZpbGU6XCIgPT0gd2luLmxvY2F0aW9uLnByb3RvY29sID8gXCIqXCIgOiB3aW4ubG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyB3aW4ubG9jYXRpb24uaG9zdCwgb25tZXNzYWdlID0gZ29vZy5iaW5kKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICgoXCIqXCIgPT0gb3JpZ2luIHx8IGUub3JpZ2luID09IG9yaWdpbikgJiYgZS5kYXRhID09IG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5wb3J0MS5vbm1lc3NhZ2UoKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25tZXNzYWdlLCAhMSk7XG4gICAgdGhpcy5wb3J0MSA9IHt9O1xuICAgIHRoaXMucG9ydDIgPSB7cG9zdE1lc3NhZ2U6ZnVuY3Rpb24oKSB7XG4gICAgICB3aW4ucG9zdE1lc3NhZ2UobWVzc2FnZSwgb3JpZ2luKTtcbiAgICB9fTtcbiAgfSk7XG4gIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgQ2hhbm5lbCAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFKCkpIHtcbiAgICB2YXIgY2hhbm5lbCA9IG5ldyBDaGFubmVsKCksIGhlYWQgPSB7fSwgdGFpbCA9IGhlYWQ7XG4gICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh2b2lkIDAgIT09IGhlYWQubmV4dCkge1xuICAgICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgICB2YXIgY2IgPSBoZWFkLmNiO1xuICAgICAgICBoZWFkLmNiID0gbnVsbDtcbiAgICAgICAgY2IoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbihjYikge1xuICAgICAgdGFpbC5uZXh0ID0ge2NiOmNifTtcbiAgICAgIHRhaWwgPSB0YWlsLm5leHQ7XG4gICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKGNiKSB7XG4gICAgZ29vZy5nbG9iYWwuc2V0VGltZW91dChjYiwgMCk7XG4gIH07XG59O1xuZ29vZy5hc3luYy5uZXh0VGljay53cmFwQ2FsbGJhY2tfID0gZ29vZy5mdW5jdGlvbnMuaWRlbnRpdHk7XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbih0cmFuc2Zvcm1lcikge1xuICBnb29nLmFzeW5jLm5leHRUaWNrLndyYXBDYWxsYmFja18gPSB0cmFuc2Zvcm1lcjtcbn0pO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkdGhyb3dFeGNlcHRpb25fdGhyb3dFeGNlcHRpb24oZXhjZXB0aW9uKSB7XG4gIGdvb2cuZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgZXhjZXB0aW9uO1xuICB9LCAwKTtcbn1cbmdvb2cuYXN5bmMudGhyb3dFeGNlcHRpb24gPSBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyR0aHJvd0V4Y2VwdGlvbl90aHJvd0V4Y2VwdGlvbjtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMud29ya1RhaWxfID0gdGhpcy53b3JrSGVhZF8gPSBudWxsO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGZuLCBzY29wZSkge1xuICB2YXIgaXRlbSA9IHRoaXMuZ2V0VW51c2VkSXRlbV8oKTtcbiAgaXRlbS5zZXQoZm4sIHNjb3BlKTtcbiAgdGhpcy53b3JrVGFpbF8gPyB0aGlzLndvcmtUYWlsXy5uZXh0ID0gaXRlbSA6ICgoMCxnb29nLmFzc2VydHMuYXNzZXJ0KSghdGhpcy53b3JrSGVhZF8pLCB0aGlzLndvcmtIZWFkXyA9IGl0ZW0pO1xuICB0aGlzLndvcmtUYWlsXyA9IGl0ZW07XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtID0gbnVsbDtcbiAgdGhpcy53b3JrSGVhZF8gJiYgKGl0ZW0gPSB0aGlzLndvcmtIZWFkXywgdGhpcy53b3JrSGVhZF8gPSB0aGlzLndvcmtIZWFkXy5uZXh0LCB0aGlzLndvcmtIZWFkXyB8fCAodGhpcy53b3JrVGFpbF8gPSBudWxsKSwgaXRlbS5uZXh0ID0gbnVsbCk7XG4gIHJldHVybiBpdGVtO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUucHJvdG90eXBlLnJldHVyblVudXNlZCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZS5mcmVlbGlzdF8ucHV0KGl0ZW0pO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUucHJvdG90eXBlLmdldFVudXNlZEl0ZW1fID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlLmZyZWVsaXN0Xy5nZXQoKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlLkRFRkFVTFRfTUFYX1VOVVNFRCA9IDEwMDtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUuZnJlZWxpc3RfID0gbmV3IGdvb2cuYXN5bmMuRnJlZUxpc3QoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtJdGVtKCk7XG59LCBmdW5jdGlvbihpdGVtKSB7XG4gIHJldHVybiBpdGVtLnJlc2V0KCk7XG59LCBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlLkRFRkFVTFRfTUFYX1VOVVNFRCk7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtJdGVtID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubmV4dCA9IHRoaXMuc2NvcGUgPSB0aGlzLmZuID0gbnVsbDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya0l0ZW0ucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGZuLCBzY29wZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgdGhpcy5uZXh0ID0gbnVsbDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya0l0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubmV4dCA9IHRoaXMuc2NvcGUgPSB0aGlzLmZuID0gbnVsbDtcbn07XG5nb29nLmFzeW5jLldvcmtRdWV1ZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWU7XG5nb29nLkFTU1VNRV9OQVRJVkVfUFJPTUlTRSA9ICExO1xuZ29vZy5hc3luYy5ydW4gPSBmdW5jdGlvbihjYWxsYmFjaywgb3B0X2NvbnRleHQpIHtcbiAgZ29vZy5hc3luYy5ydW4uc2NoZWR1bGVfIHx8IGdvb2cuYXN5bmMucnVuLmluaXRpYWxpemVSdW5uZXJfKCk7XG4gIGdvb2cuYXN5bmMucnVuLndvcmtRdWV1ZVNjaGVkdWxlZF8gfHwgKGdvb2cuYXN5bmMucnVuLnNjaGVkdWxlXygpLCBnb29nLmFzeW5jLnJ1bi53b3JrUXVldWVTY2hlZHVsZWRfID0gITApO1xuICBnb29nLmFzeW5jLnJ1bi53b3JrUXVldWVfLmFkZChjYWxsYmFjaywgb3B0X2NvbnRleHQpO1xufTtcbmdvb2cuYXN5bmMucnVuLmluaXRpYWxpemVSdW5uZXJfID0gZnVuY3Rpb24oKSB7XG4gIGlmIChnb29nLkFTU1VNRV9OQVRJVkVfUFJPTUlTRSB8fCBnb29nLmdsb2JhbC5Qcm9taXNlICYmIGdvb2cuZ2xvYmFsLlByb21pc2UucmVzb2x2ZSkge1xuICAgIHZhciBwcm9taXNlID0gZ29vZy5nbG9iYWwuUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgZ29vZy5hc3luYy5ydW4uc2NoZWR1bGVfID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcm9taXNlLnRoZW4oZ29vZy5hc3luYy5ydW4ucHJvY2Vzc1dvcmtRdWV1ZSk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBnb29nLmFzeW5jLnJ1bi5zY2hlZHVsZV8gPSBmdW5jdGlvbigpIHtcbiAgICAgIGdvb2cuYXN5bmMubmV4dFRpY2soZ29vZy5hc3luYy5ydW4ucHJvY2Vzc1dvcmtRdWV1ZSk7XG4gICAgfTtcbiAgfVxufTtcbmdvb2cuYXN5bmMucnVuLmZvcmNlTmV4dFRpY2sgPSBmdW5jdGlvbihvcHRfcmVhbFNldFRpbWVvdXQpIHtcbiAgZ29vZy5hc3luYy5ydW4uc2NoZWR1bGVfID0gZnVuY3Rpb24oKSB7XG4gICAgZ29vZy5hc3luYy5uZXh0VGljayhnb29nLmFzeW5jLnJ1bi5wcm9jZXNzV29ya1F1ZXVlKTtcbiAgICBvcHRfcmVhbFNldFRpbWVvdXQgJiYgb3B0X3JlYWxTZXRUaW1lb3V0KGdvb2cuYXN5bmMucnVuLnByb2Nlc3NXb3JrUXVldWUpO1xuICB9O1xufTtcbmdvb2cuYXN5bmMucnVuLndvcmtRdWV1ZVNjaGVkdWxlZF8gPSAhMTtcbmdvb2cuYXN5bmMucnVuLndvcmtRdWV1ZV8gPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZSgpO1xuZ29vZy5ERUJVRyAmJiAoZ29vZy5hc3luYy5ydW4ucmVzZXRRdWV1ZSA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmFzeW5jLnJ1bi53b3JrUXVldWVTY2hlZHVsZWRfID0gITE7XG4gIGdvb2cuYXN5bmMucnVuLndvcmtRdWV1ZV8gPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZSgpO1xufSwgZ29vZy5hc3luYy5ydW4ucmVzZXRTY2hlZHVsZXJGb3JUZXN0ID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuYXN5bmMucnVuLmluaXRpYWxpemVSdW5uZXJfKCk7XG59KTtcbmdvb2cuYXN5bmMucnVuLnByb2Nlc3NXb3JrUXVldWUgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgaXRlbSA9IG51bGw7IGl0ZW0gPSBnb29nLmFzeW5jLnJ1bi53b3JrUXVldWVfLnJlbW92ZSgpOykge1xuICAgIHRyeSB7XG4gICAgICBpdGVtLmZuLmNhbGwoaXRlbS5zY29wZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkdGhyb3dFeGNlcHRpb25fdGhyb3dFeGNlcHRpb24oZSk7XG4gICAgfVxuICAgIGdvb2cuYXN5bmMucnVuLndvcmtRdWV1ZV8ucmV0dXJuVW51c2VkKGl0ZW0pO1xuICB9XG4gIGdvb2cuYXN5bmMucnVuLndvcmtRdWV1ZVNjaGVkdWxlZF8gPSAhMTtcbn07XG5nb29nLnByb21pc2UgPSB7fTtcbmdvb2cucHJvbWlzZS5SZXNvbHZlciA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuVGhlbmFibGUgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLlRoZW5hYmxlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob3B0X29uRnVsZmlsbGVkLCBvcHRfb25SZWplY3RlZCwgb3B0X2NvbnRleHQpIHtcbn07XG5nb29nLlRoZW5hYmxlLklNUExFTUVOVEVEX0JZX1BST1AgPSBcIiRnb29nX1RoZW5hYmxlXCI7XG5nb29nLlRoZW5hYmxlLmFkZEltcGxlbWVudGF0aW9uID0gZnVuY3Rpb24oY3Rvcikge1xuICBjdG9yLnByb3RvdHlwZVtnb29nLlRoZW5hYmxlLklNUExFTUVOVEVEX0JZX1BST1BdID0gITA7XG59O1xuZ29vZy5UaGVuYWJsZS5pc0ltcGxlbWVudGVkQnkgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgaWYgKCFvYmplY3QpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gISFvYmplY3RbZ29vZy5UaGVuYWJsZS5JTVBMRU1FTlRFRF9CWV9QUk9QXTtcbiAgICByZXR1cm4gISFvYmplY3QuJGdvb2dfVGhlbmFibGU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbn07XG5nb29nLlByb21pc2UgPSBmdW5jdGlvbihyZXNvbHZlciwgb3B0X2NvbnRleHQpIHtcbiAgdGhpcy5zdGF0ZV8gPSBnb29nLlByb21pc2UuU3RhdGVfLlBFTkRJTkc7XG4gIHRoaXMucmVzdWx0XyA9IHZvaWQgMDtcbiAgdGhpcy5jYWxsYmFja0VudHJpZXNUYWlsXyA9IHRoaXMuY2FsbGJhY2tFbnRyaWVzXyA9IHRoaXMucGFyZW50XyA9IG51bGw7XG4gIHRoaXMuZXhlY3V0aW5nXyA9ICExO1xuICAwIDwgZ29vZy5Qcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkgPyB0aGlzLnVuaGFuZGxlZFJlamVjdGlvbklkXyA9IDAgOiAwID09IGdvb2cuUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZICYmICh0aGlzLmhhZFVuaGFuZGxlZFJlamVjdGlvbl8gPSAhMSk7XG4gIGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiAodGhpcy5zdGFja18gPSBbXSwgdGhpcy5hZGRTdGFja1RyYWNlXyhFcnJvcihcImNyZWF0ZWRcIikpLCB0aGlzLmN1cnJlbnRTdGVwXyA9IDApO1xuICBpZiAocmVzb2x2ZXIgIT0gZ29vZy5udWxsRnVuY3Rpb24pIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgcmVzb2x2ZXIuY2FsbChvcHRfY29udGV4dCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2VsZi5yZXNvbHZlXyhnb29nLlByb21pc2UuU3RhdGVfLkZVTEZJTExFRCwgdmFsdWUpO1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGlmIChnb29nLkRFQlVHICYmICEocmVhc29uIGluc3RhbmNlb2YgZ29vZy5Qcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocmVhc29uIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJQcm9taXNlIHJlamVjdGVkLlwiKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNlbGYucmVzb2x2ZV8oZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCwgcmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMucmVzb2x2ZV8oZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCwgZSk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5Qcm9taXNlLkxPTkdfU1RBQ0tfVFJBQ0VTID0gITE7XG5nb29nLlByb21pc2UuVU5IQU5ETEVEX1JFSkVDVElPTl9ERUxBWSA9IDA7XG5nb29nLlByb21pc2UuU3RhdGVfID0ge1BFTkRJTkc6MCwgQkxPQ0tFRDoxLCBGVUxGSUxMRUQ6MiwgUkVKRUNURUQ6M307XG5nb29nLlByb21pc2UuQ2FsbGJhY2tFbnRyeV8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5uZXh0ID0gdGhpcy5jb250ZXh0ID0gdGhpcy5vblJlamVjdGVkID0gdGhpcy5vbkZ1bGZpbGxlZCA9IHRoaXMuY2hpbGQgPSBudWxsO1xuICB0aGlzLmFsd2F5cyA9ICExO1xufTtcbmdvb2cuUHJvbWlzZS5DYWxsYmFja0VudHJ5Xy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jb250ZXh0ID0gdGhpcy5vblJlamVjdGVkID0gdGhpcy5vbkZ1bGZpbGxlZCA9IHRoaXMuY2hpbGQgPSBudWxsO1xuICB0aGlzLmFsd2F5cyA9ICExO1xufTtcbmdvb2cuUHJvbWlzZS5ERUZBVUxUX01BWF9VTlVTRUQgPSAxMDA7XG5nb29nLlByb21pc2UuZnJlZWxpc3RfID0gbmV3IGdvb2cuYXN5bmMuRnJlZUxpc3QoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5Qcm9taXNlLkNhbGxiYWNrRW50cnlfKCk7XG59LCBmdW5jdGlvbihpdGVtKSB7XG4gIGl0ZW0ucmVzZXQoKTtcbn0sIGdvb2cuUHJvbWlzZS5ERUZBVUxUX01BWF9VTlVTRUQpO1xuZ29vZy5Qcm9taXNlLmdldENhbGxiYWNrRW50cnlfID0gZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIGNvbnRleHQpIHtcbiAgdmFyIGVudHJ5ID0gZ29vZy5Qcm9taXNlLmZyZWVsaXN0Xy5nZXQoKTtcbiAgZW50cnkub25GdWxmaWxsZWQgPSBvbkZ1bGZpbGxlZDtcbiAgZW50cnkub25SZWplY3RlZCA9IG9uUmVqZWN0ZWQ7XG4gIGVudHJ5LmNvbnRleHQgPSBjb250ZXh0O1xuICByZXR1cm4gZW50cnk7XG59O1xuZ29vZy5Qcm9taXNlLnJldHVybkVudHJ5XyA9IGZ1bmN0aW9uKGVudHJ5KSB7XG4gIGdvb2cuUHJvbWlzZS5mcmVlbGlzdF8ucHV0KGVudHJ5KTtcbn07XG5nb29nLlByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKG9wdF92YWx1ZSkge1xuICBpZiAob3B0X3ZhbHVlIGluc3RhbmNlb2YgZ29vZy5Qcm9taXNlKSB7XG4gICAgcmV0dXJuIG9wdF92YWx1ZTtcbiAgfVxuICB2YXIgcHJvbWlzZSA9IG5ldyBnb29nLlByb21pc2UoZ29vZy5udWxsRnVuY3Rpb24pO1xuICBwcm9taXNlLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uRlVMRklMTEVELCBvcHRfdmFsdWUpO1xuICByZXR1cm4gcHJvbWlzZTtcbn07XG5nb29nLlByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24ob3B0X3JlYXNvbikge1xuICByZXR1cm4gbmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWplY3Qob3B0X3JlYXNvbik7XG4gIH0pO1xufTtcbmdvb2cuUHJvbWlzZS5yZXNvbHZlVGhlbl8gPSBmdW5jdGlvbih2YWx1ZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgZ29vZy5Qcm9taXNlLm1heWJlVGhlbl8odmFsdWUsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBudWxsKSB8fCBnb29nLmFzeW5jLnJ1bihnb29nLnBhcnRpYWwob25GdWxmaWxsZWQsIHZhbHVlKSk7XG59O1xuZ29vZy5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbihwcm9taXNlcykge1xuICByZXR1cm4gbmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBwcm9taXNlcy5sZW5ndGggfHwgcmVzb2x2ZSh2b2lkIDApO1xuICAgIGZvciAodmFyIGkgPSAwLCBwcm9taXNlOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXSwgZ29vZy5Qcm9taXNlLnJlc29sdmVUaGVuXyhwcm9taXNlLCByZXNvbHZlLCByZWplY3QpO1xuICAgIH1cbiAgfSk7XG59O1xuZ29vZy5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uKHByb21pc2VzKSB7XG4gIHJldHVybiBuZXcgZ29vZy5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciB0b0Z1bGZpbGwgPSBwcm9taXNlcy5sZW5ndGgsIHZhbHVlcyA9IFtdO1xuICAgIGlmICh0b0Z1bGZpbGwpIHtcbiAgICAgIGZvciAodmFyIG9uRnVsZmlsbCA9IGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICB0b0Z1bGZpbGwtLTtcbiAgICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAwID09IHRvRnVsZmlsbCAmJiByZXNvbHZlKHZhbHVlcyk7XG4gICAgICB9LCBvblJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgIH0sIGkgPSAwLCBwcm9taXNlOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldLCBnb29nLlByb21pc2UucmVzb2x2ZVRoZW5fKHByb21pc2UsIGdvb2cucGFydGlhbChvbkZ1bGZpbGwsIGkpLCBvblJlamVjdCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmUodmFsdWVzKTtcbiAgICB9XG4gIH0pO1xufTtcbmdvb2cuUHJvbWlzZS5hbGxTZXR0bGVkID0gZnVuY3Rpb24ocHJvbWlzZXMpIHtcbiAgcmV0dXJuIG5ldyBnb29nLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHRvU2V0dGxlID0gcHJvbWlzZXMubGVuZ3RoLCByZXN1bHRzID0gW107XG4gICAgaWYgKHRvU2V0dGxlKSB7XG4gICAgICBmb3IgKHZhciBvblNldHRsZWQgPSBmdW5jdGlvbihpbmRleCwgZnVsZmlsbGVkLCByZXN1bHQpIHtcbiAgICAgICAgdG9TZXR0bGUtLTtcbiAgICAgICAgcmVzdWx0c1tpbmRleF0gPSBmdWxmaWxsZWQgPyB7ZnVsZmlsbGVkOiEwLCB2YWx1ZTpyZXN1bHR9IDoge2Z1bGZpbGxlZDohMSwgcmVhc29uOnJlc3VsdH07XG4gICAgICAgIDAgPT0gdG9TZXR0bGUgJiYgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH0sIGkgPSAwLCBwcm9taXNlOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldLCBnb29nLlByb21pc2UucmVzb2x2ZVRoZW5fKHByb21pc2UsIGdvb2cucGFydGlhbChvblNldHRsZWQsIGksICEwKSwgZ29vZy5wYXJ0aWFsKG9uU2V0dGxlZCwgaSwgITEpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICB9XG4gIH0pO1xufTtcbmdvb2cuUHJvbWlzZS5maXJzdEZ1bGZpbGxlZCA9IGZ1bmN0aW9uKHByb21pc2VzKSB7XG4gIHJldHVybiBuZXcgZ29vZy5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciB0b1JlamVjdCA9IHByb21pc2VzLmxlbmd0aCwgcmVhc29ucyA9IFtdO1xuICAgIGlmICh0b1JlamVjdCkge1xuICAgICAgZm9yICh2YXIgb25GdWxmaWxsID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9LCBvblJlamVjdCA9IGZ1bmN0aW9uKGluZGV4LCByZWFzb24pIHtcbiAgICAgICAgdG9SZWplY3QtLTtcbiAgICAgICAgcmVhc29uc1tpbmRleF0gPSByZWFzb247XG4gICAgICAgIDAgPT0gdG9SZWplY3QgJiYgcmVqZWN0KHJlYXNvbnMpO1xuICAgICAgfSwgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV0sIGdvb2cuUHJvbWlzZS5yZXNvbHZlVGhlbl8ocHJvbWlzZSwgb25GdWxmaWxsLCBnb29nLnBhcnRpYWwob25SZWplY3QsIGkpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZSh2b2lkIDApO1xuICAgIH1cbiAgfSk7XG59O1xuZ29vZy5Qcm9taXNlLndpdGhSZXNvbHZlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0LCBwcm9taXNlID0gbmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihycywgcmopIHtcbiAgICByZXNvbHZlID0gcnM7XG4gICAgcmVqZWN0ID0gcmo7XG4gIH0pO1xuICByZXR1cm4gbmV3IGdvb2cuUHJvbWlzZS5SZXNvbHZlcl8ocHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvcHRfb25GdWxmaWxsZWQsIG9wdF9vblJlamVjdGVkLCBvcHRfY29udGV4dCkge1xuICBudWxsICE9IG9wdF9vbkZ1bGZpbGxlZCAmJiBnb29nLmFzc2VydHMuYXNzZXJ0RnVuY3Rpb24ob3B0X29uRnVsZmlsbGVkLCBcIm9wdF9vbkZ1bGZpbGxlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cIik7XG4gIG51bGwgIT0gb3B0X29uUmVqZWN0ZWQgJiYgZ29vZy5hc3NlcnRzLmFzc2VydEZ1bmN0aW9uKG9wdF9vblJlamVjdGVkLCBcIm9wdF9vblJlamVjdGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiBEaWQgeW91IHBhc3Mgb3B0X2NvbnRleHQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkIG9mIHRoZSB0aGlyZD9cIik7XG4gIGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiB0aGlzLmFkZFN0YWNrVHJhY2VfKEVycm9yKFwidGhlblwiKSk7XG4gIHJldHVybiB0aGlzLmFkZENoaWxkUHJvbWlzZV8oXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0X29uRnVsZmlsbGVkID8gb3B0X29uRnVsZmlsbGVkIDogbnVsbCwgXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0X29uUmVqZWN0ZWQgPyBvcHRfb25SZWplY3RlZCA6IG51bGwsIG9wdF9jb250ZXh0KTtcbn07XG5nb29nLlRoZW5hYmxlLmFkZEltcGxlbWVudGF0aW9uKGdvb2cuUHJvbWlzZSk7XG5nb29nLlByb21pc2UucHJvdG90eXBlLnRoZW5Wb2lkID0gZnVuY3Rpb24ob3B0X29uRnVsZmlsbGVkLCBvcHRfb25SZWplY3RlZCwgb3B0X2NvbnRleHQpIHtcbiAgbnVsbCAhPSBvcHRfb25GdWxmaWxsZWQgJiYgZ29vZy5hc3NlcnRzLmFzc2VydEZ1bmN0aW9uKG9wdF9vbkZ1bGZpbGxlZCwgXCJvcHRfb25GdWxmaWxsZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uXCIpO1xuICBudWxsICE9IG9wdF9vblJlamVjdGVkICYmIGdvb2cuYXNzZXJ0cy5hc3NlcnRGdW5jdGlvbihvcHRfb25SZWplY3RlZCwgXCJvcHRfb25SZWplY3RlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBwYXNzIG9wdF9jb250ZXh0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZCBvZiB0aGUgdGhpcmQ/XCIpO1xuICBnb29nLlByb21pc2UuTE9OR19TVEFDS19UUkFDRVMgJiYgdGhpcy5hZGRTdGFja1RyYWNlXyhFcnJvcihcInRoZW5cIikpO1xuICB0aGlzLmFkZENhbGxiYWNrRW50cnlfKGdvb2cuUHJvbWlzZS5nZXRDYWxsYmFja0VudHJ5XyhvcHRfb25GdWxmaWxsZWQgfHwgZ29vZy5udWxsRnVuY3Rpb24sIG9wdF9vblJlamVjdGVkIHx8IG51bGwsIG9wdF9jb250ZXh0KSk7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS50aGVuQWx3YXlzID0gZnVuY3Rpb24ob25TZXR0bGVkLCBvcHRfY29udGV4dCkge1xuICBnb29nLlByb21pc2UuTE9OR19TVEFDS19UUkFDRVMgJiYgdGhpcy5hZGRTdGFja1RyYWNlXyhFcnJvcihcInRoZW5BbHdheXNcIikpO1xuICB2YXIgZW50cnkgPSBnb29nLlByb21pc2UuZ2V0Q2FsbGJhY2tFbnRyeV8ob25TZXR0bGVkLCBvblNldHRsZWQsIG9wdF9jb250ZXh0KTtcbiAgZW50cnkuYWx3YXlzID0gITA7XG4gIHRoaXMuYWRkQ2FsbGJhY2tFbnRyeV8oZW50cnkpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnRoZW5DYXRjaCA9IGZ1bmN0aW9uKG9uUmVqZWN0ZWQsIG9wdF9jb250ZXh0KSB7XG4gIGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiB0aGlzLmFkZFN0YWNrVHJhY2VfKEVycm9yKFwidGhlbkNhdGNoXCIpKTtcbiAgcmV0dXJuIHRoaXMuYWRkQ2hpbGRQcm9taXNlXyhudWxsLCBvblJlamVjdGVkLCBvcHRfY29udGV4dCk7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbihvcHRfbWVzc2FnZSkge1xuICBpZiAodGhpcy5zdGF0ZV8gPT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5QRU5ESU5HKSB7XG4gICAgdmFyIGVyciA9IG5ldyBnb29nLlByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3Iob3B0X21lc3NhZ2UpO1xuICAgIGdvb2cuYXN5bmMucnVuKGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jYW5jZWxJbnRlcm5hbF8oZXJyKTtcbiAgICB9LCB0aGlzKTtcbiAgfVxufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuY2FuY2VsSW50ZXJuYWxfID0gZnVuY3Rpb24oZXJyKSB7XG4gIHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUEVORElORyAmJiAodGhpcy5wYXJlbnRfID8gKHRoaXMucGFyZW50Xy5jYW5jZWxDaGlsZF8odGhpcywgZXJyKSwgdGhpcy5wYXJlbnRfID0gbnVsbCkgOiB0aGlzLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIGVycikpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuY2FuY2VsQ2hpbGRfID0gZnVuY3Rpb24oY2hpbGRQcm9taXNlLCBlcnIpIHtcbiAgaWYgKHRoaXMuY2FsbGJhY2tFbnRyaWVzXykge1xuICAgIGZvciAodmFyIGNoaWxkQ291bnQgPSAwLCBjaGlsZEVudHJ5ID0gbnVsbCwgYmVmb3JlQ2hpbGRFbnRyeSA9IG51bGwsIGVudHJ5ID0gdGhpcy5jYWxsYmFja0VudHJpZXNfOyBlbnRyeSAmJiAoZW50cnkuYWx3YXlzIHx8IChjaGlsZENvdW50KyssIGVudHJ5LmNoaWxkID09IGNoaWxkUHJvbWlzZSAmJiAoY2hpbGRFbnRyeSA9IGVudHJ5KSwgIShjaGlsZEVudHJ5ICYmIDEgPCBjaGlsZENvdW50KSkpOyBlbnRyeSA9IGVudHJ5Lm5leHQpIHtcbiAgICAgIGNoaWxkRW50cnkgfHwgKGJlZm9yZUNoaWxkRW50cnkgPSBlbnRyeSk7XG4gICAgfVxuICAgIGNoaWxkRW50cnkgJiYgKHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUEVORElORyAmJiAxID09IGNoaWxkQ291bnQgPyB0aGlzLmNhbmNlbEludGVybmFsXyhlcnIpIDogKGJlZm9yZUNoaWxkRW50cnkgPyB0aGlzLnJlbW92ZUVudHJ5QWZ0ZXJfKGJlZm9yZUNoaWxkRW50cnkpIDogdGhpcy5wb3BFbnRyeV8oKSwgdGhpcy5leGVjdXRlQ2FsbGJhY2tfKGNoaWxkRW50cnksIGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIGVycikpKTtcbiAgfVxufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuYWRkQ2FsbGJhY2tFbnRyeV8gPSBmdW5jdGlvbihjYWxsYmFja0VudHJ5KSB7XG4gIHRoaXMuaGFzRW50cnlfKCkgfHwgdGhpcy5zdGF0ZV8gIT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5GVUxGSUxMRUQgJiYgdGhpcy5zdGF0ZV8gIT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCB8fCB0aGlzLnNjaGVkdWxlQ2FsbGJhY2tzXygpO1xuICB0aGlzLnF1ZXVlRW50cnlfKGNhbGxiYWNrRW50cnkpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuYWRkQ2hpbGRQcm9taXNlXyA9IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvcHRfY29udGV4dCkge1xuICB2YXIgY2FsbGJhY2tFbnRyeSA9IGdvb2cuUHJvbWlzZS5nZXRDYWxsYmFja0VudHJ5XyhudWxsLCBudWxsLCBudWxsKTtcbiAgY2FsbGJhY2tFbnRyeS5jaGlsZCA9IG5ldyBnb29nLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY2FsbGJhY2tFbnRyeS5vbkZ1bGZpbGxlZCA9IG9uRnVsZmlsbGVkID8gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBvbkZ1bGZpbGxlZC5jYWxsKG9wdF9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0gY2F0Y2ggKGVyciQ1Mykge1xuICAgICAgICByZWplY3QoZXJyJDUzKTtcbiAgICAgIH1cbiAgICB9IDogcmVzb2x2ZTtcbiAgICBjYWxsYmFja0VudHJ5Lm9uUmVqZWN0ZWQgPSBvblJlamVjdGVkID8gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gb25SZWplY3RlZC5jYWxsKG9wdF9jb250ZXh0LCByZWFzb24pO1xuICAgICAgICB2b2lkIDAgPT09IHJlc3VsdCAmJiByZWFzb24gaW5zdGFuY2VvZiBnb29nLlByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IgPyByZWplY3QocmVhc29uKSA6IHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0gY2F0Y2ggKGVyciQ1NCkge1xuICAgICAgICByZWplY3QoZXJyJDU0KTtcbiAgICAgIH1cbiAgICB9IDogcmVqZWN0O1xuICB9KTtcbiAgY2FsbGJhY2tFbnRyeS5jaGlsZC5wYXJlbnRfID0gdGhpcztcbiAgdGhpcy5hZGRDYWxsYmFja0VudHJ5XyhjYWxsYmFja0VudHJ5KTtcbiAgcmV0dXJuIGNhbGxiYWNrRW50cnkuY2hpbGQ7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS51bmJsb2NrQW5kRnVsZmlsbF8gPSBmdW5jdGlvbih2YWx1ZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uQkxPQ0tFRCk7XG4gIHRoaXMuc3RhdGVfID0gZ29vZy5Qcm9taXNlLlN0YXRlXy5QRU5ESU5HO1xuICB0aGlzLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uRlVMRklMTEVELCB2YWx1ZSk7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS51bmJsb2NrQW5kUmVqZWN0XyA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uQkxPQ0tFRCk7XG4gIHRoaXMuc3RhdGVfID0gZ29vZy5Qcm9taXNlLlN0YXRlXy5QRU5ESU5HO1xuICB0aGlzLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIHJlYXNvbik7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5yZXNvbHZlXyA9IGZ1bmN0aW9uKHN0YXRlLCB4KSB7XG4gIHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUEVORElORyAmJiAodGhpcyA9PT0geCAmJiAoc3RhdGUgPSBnb29nLlByb21pc2UuU3RhdGVfLlJFSkVDVEVELCB4ID0gbmV3IFR5cGVFcnJvcihcIlByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpKSwgdGhpcy5zdGF0ZV8gPSBnb29nLlByb21pc2UuU3RhdGVfLkJMT0NLRUQsIGdvb2cuUHJvbWlzZS5tYXliZVRoZW5fKHgsIHRoaXMudW5ibG9ja0FuZEZ1bGZpbGxfLCB0aGlzLnVuYmxvY2tBbmRSZWplY3RfLCB0aGlzKSB8fCAodGhpcy5yZXN1bHRfID0geCwgdGhpcy5zdGF0ZV8gPSBzdGF0ZSwgdGhpcy5wYXJlbnRfID0gbnVsbCwgdGhpcy5zY2hlZHVsZUNhbGxiYWNrc18oKSwgc3RhdGUgIT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCB8fCB4IGluc3RhbmNlb2YgZ29vZy5Qcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yIHx8IGdvb2cuUHJvbWlzZS5hZGRVbmhhbmRsZWRSZWplY3Rpb25fKHRoaXMsIFxuICB4KSkpO1xufTtcbmdvb2cuUHJvbWlzZS5tYXliZVRoZW5fID0gZnVuY3Rpb24odmFsdWUsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBjb250ZXh0KSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGdvb2cuUHJvbWlzZSkge1xuICAgIHJldHVybiB2YWx1ZS50aGVuVm9pZChvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgY29udGV4dCksICEwO1xuICB9XG4gIGlmIChnb29nLlRoZW5hYmxlLmlzSW1wbGVtZW50ZWRCeSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgY29udGV4dCksICEwO1xuICB9XG4gIGlmIChnb29nLmlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgdGhlbiA9IHZhbHVlLnRoZW47XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdGhlbikge1xuICAgICAgICByZXR1cm4gZ29vZy5Qcm9taXNlLnRyeVRoZW5fKHZhbHVlLCB0aGVuLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgY29udGV4dCksICEwO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBvblJlamVjdGVkLmNhbGwoY29udGV4dCwgZSksICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5Qcm9taXNlLnRyeVRoZW5fID0gZnVuY3Rpb24odGhlbmFibGUsIHRoZW4sIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBjb250ZXh0KSB7XG4gIHZhciBjYWxsZWQgPSAhMSwgcmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgY2FsbGVkIHx8IChjYWxsZWQgPSAhMCwgb25GdWxmaWxsZWQuY2FsbChjb250ZXh0LCB2YWx1ZSkpO1xuICB9LCByZWplY3QgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgICBjYWxsZWQgfHwgKGNhbGxlZCA9ICEwLCBvblJlamVjdGVkLmNhbGwoY29udGV4dCwgcmVhc29uKSk7XG4gIH07XG4gIHRyeSB7XG4gICAgdGhlbi5jYWxsKHRoZW5hYmxlLCByZXNvbHZlLCByZWplY3QpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmVqZWN0KGUpO1xuICB9XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5zY2hlZHVsZUNhbGxiYWNrc18gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5leGVjdXRpbmdfIHx8ICh0aGlzLmV4ZWN1dGluZ18gPSAhMCwgZ29vZy5hc3luYy5ydW4odGhpcy5leGVjdXRlQ2FsbGJhY2tzXywgdGhpcykpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuaGFzRW50cnlfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMuY2FsbGJhY2tFbnRyaWVzXztcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnF1ZXVlRW50cnlfID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGVudHJ5Lm9uRnVsZmlsbGVkKTtcbiAgdGhpcy5jYWxsYmFja0VudHJpZXNUYWlsXyA/IHRoaXMuY2FsbGJhY2tFbnRyaWVzVGFpbF8ubmV4dCA9IGVudHJ5IDogdGhpcy5jYWxsYmFja0VudHJpZXNfID0gZW50cnk7XG4gIHRoaXMuY2FsbGJhY2tFbnRyaWVzVGFpbF8gPSBlbnRyeTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnBvcEVudHJ5XyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZW50cnkgPSBudWxsO1xuICB0aGlzLmNhbGxiYWNrRW50cmllc18gJiYgKGVudHJ5ID0gdGhpcy5jYWxsYmFja0VudHJpZXNfLCB0aGlzLmNhbGxiYWNrRW50cmllc18gPSBlbnRyeS5uZXh0LCBlbnRyeS5uZXh0ID0gbnVsbCk7XG4gIHRoaXMuY2FsbGJhY2tFbnRyaWVzXyB8fCAodGhpcy5jYWxsYmFja0VudHJpZXNUYWlsXyA9IG51bGwpO1xuICBudWxsICE9IGVudHJ5ICYmIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBlbnRyeS5vbkZ1bGZpbGxlZCk7XG4gIHJldHVybiBlbnRyeTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnJlbW92ZUVudHJ5QWZ0ZXJfID0gZnVuY3Rpb24ocHJldmlvdXMpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCh0aGlzLmNhbGxiYWNrRW50cmllc18pO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gcHJldmlvdXMpO1xuICBwcmV2aW91cy5uZXh0ID09IHRoaXMuY2FsbGJhY2tFbnRyaWVzVGFpbF8gJiYgKHRoaXMuY2FsbGJhY2tFbnRyaWVzVGFpbF8gPSBwcmV2aW91cyk7XG4gIHByZXZpb3VzLm5leHQgPSBwcmV2aW91cy5uZXh0Lm5leHQ7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5leGVjdXRlQ2FsbGJhY2tzXyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBlbnRyeSA9IG51bGw7IGVudHJ5ID0gdGhpcy5wb3BFbnRyeV8oKTspIHtcbiAgICBnb29nLlByb21pc2UuTE9OR19TVEFDS19UUkFDRVMgJiYgdGhpcy5jdXJyZW50U3RlcF8rKywgdGhpcy5leGVjdXRlQ2FsbGJhY2tfKGVudHJ5LCB0aGlzLnN0YXRlXywgdGhpcy5yZXN1bHRfKTtcbiAgfVxuICB0aGlzLmV4ZWN1dGluZ18gPSAhMTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLmV4ZWN1dGVDYWxsYmFja18gPSBmdW5jdGlvbihjYWxsYmFja0VudHJ5LCBzdGF0ZSwgcmVzdWx0KSB7XG4gIHN0YXRlID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQgJiYgY2FsbGJhY2tFbnRyeS5vblJlamVjdGVkICYmICFjYWxsYmFja0VudHJ5LmFsd2F5cyAmJiB0aGlzLnJlbW92ZVVuaGFuZGxlZFJlamVjdGlvbl8oKTtcbiAgaWYgKGNhbGxiYWNrRW50cnkuY2hpbGQpIHtcbiAgICBjYWxsYmFja0VudHJ5LmNoaWxkLnBhcmVudF8gPSBudWxsLCBnb29nLlByb21pc2UuaW52b2tlQ2FsbGJhY2tfKGNhbGxiYWNrRW50cnksIHN0YXRlLCByZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjYWxsYmFja0VudHJ5LmFsd2F5cyA/IGNhbGxiYWNrRW50cnkub25GdWxmaWxsZWQuY2FsbChjYWxsYmFja0VudHJ5LmNvbnRleHQpIDogZ29vZy5Qcm9taXNlLmludm9rZUNhbGxiYWNrXyhjYWxsYmFja0VudHJ5LCBzdGF0ZSwgcmVzdWx0KTtcbiAgICB9IGNhdGNoIChlcnIkNTUpIHtcbiAgICAgIGdvb2cuUHJvbWlzZS5oYW5kbGVSZWplY3Rpb25fLmNhbGwobnVsbCwgZXJyJDU1KTtcbiAgICB9XG4gIH1cbiAgZ29vZy5Qcm9taXNlLnJldHVybkVudHJ5XyhjYWxsYmFja0VudHJ5KTtcbn07XG5nb29nLlByb21pc2UuaW52b2tlQ2FsbGJhY2tfID0gZnVuY3Rpb24oY2FsbGJhY2tFbnRyeSwgc3RhdGUsIHJlc3VsdCkge1xuICBzdGF0ZSA9PSBnb29nLlByb21pc2UuU3RhdGVfLkZVTEZJTExFRCA/IGNhbGxiYWNrRW50cnkub25GdWxmaWxsZWQuY2FsbChjYWxsYmFja0VudHJ5LmNvbnRleHQsIHJlc3VsdCkgOiBjYWxsYmFja0VudHJ5Lm9uUmVqZWN0ZWQgJiYgY2FsbGJhY2tFbnRyeS5vblJlamVjdGVkLmNhbGwoY2FsbGJhY2tFbnRyeS5jb250ZXh0LCByZXN1bHQpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuYWRkU3RhY2tUcmFjZV8gPSBmdW5jdGlvbihlcnIpIHtcbiAgaWYgKGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyLnN0YWNrKSB7XG4gICAgdmFyIHRyYWNlID0gZXJyLnN0YWNrLnNwbGl0KFwiXFxuXCIsIDQpWzNdLCBtZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgbWVzc2FnZSArPSBBcnJheSgxMSAtIG1lc3NhZ2UubGVuZ3RoKS5qb2luKFwiIFwiKTtcbiAgICB0aGlzLnN0YWNrXy5wdXNoKG1lc3NhZ2UgKyB0cmFjZSk7XG4gIH1cbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLmFwcGVuZExvbmdTdGFja18gPSBmdW5jdGlvbihlcnIpIHtcbiAgaWYgKGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiBlcnIgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVyci5zdGFjayAmJiB0aGlzLnN0YWNrXy5sZW5ndGgpIHtcbiAgICBmb3IgKHZhciBsb25nVHJhY2UgPSBbXCJQcm9taXNlIHRyYWNlOlwiXSwgcHJvbWlzZSA9IHRoaXM7IHByb21pc2U7IHByb21pc2UgPSBwcm9taXNlLnBhcmVudF8pIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLmN1cnJlbnRTdGVwXzsgMCA8PSBpOyBpLS0pIHtcbiAgICAgICAgbG9uZ1RyYWNlLnB1c2gocHJvbWlzZS5zdGFja19baV0pO1xuICAgICAgfVxuICAgICAgbG9uZ1RyYWNlLnB1c2goXCJWYWx1ZTogW1wiICsgKHByb21pc2Uuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQgPyBcIlJFSkVDVEVEXCIgOiBcIkZVTEZJTExFRFwiKSArIFwiXSA8XCIgKyBTdHJpbmcocHJvbWlzZS5yZXN1bHRfKSArIFwiPlwiKTtcbiAgICB9XG4gICAgZXJyLnN0YWNrICs9IFwiXFxuXFxuXCIgKyBsb25nVHJhY2Uuam9pbihcIlxcblwiKTtcbiAgfVxufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUucmVtb3ZlVW5oYW5kbGVkUmVqZWN0aW9uXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoMCA8IGdvb2cuUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZKSB7XG4gICAgZm9yICh2YXIgcCA9IHRoaXM7IHAgJiYgcC51bmhhbmRsZWRSZWplY3Rpb25JZF87IHAgPSBwLnBhcmVudF8pIHtcbiAgICAgIGdvb2cuZ2xvYmFsLmNsZWFyVGltZW91dChwLnVuaGFuZGxlZFJlamVjdGlvbklkXyksIHAudW5oYW5kbGVkUmVqZWN0aW9uSWRfID0gMDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKDAgPT0gZ29vZy5Qcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkpIHtcbiAgICAgIGZvciAocCA9IHRoaXM7IHAgJiYgcC5oYWRVbmhhbmRsZWRSZWplY3Rpb25fOyBwID0gcC5wYXJlbnRfKSB7XG4gICAgICAgIHAuaGFkVW5oYW5kbGVkUmVqZWN0aW9uXyA9ICExO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmdvb2cuUHJvbWlzZS5hZGRVbmhhbmRsZWRSZWplY3Rpb25fID0gZnVuY3Rpb24ocHJvbWlzZSwgcmVhc29uKSB7XG4gIDAgPCBnb29nLlByb21pc2UuVU5IQU5ETEVEX1JFSkVDVElPTl9ERUxBWSA/IHByb21pc2UudW5oYW5kbGVkUmVqZWN0aW9uSWRfID0gZ29vZy5nbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBwcm9taXNlLmFwcGVuZExvbmdTdGFja18ocmVhc29uKTtcbiAgICBnb29nLlByb21pc2UuaGFuZGxlUmVqZWN0aW9uXy5jYWxsKG51bGwsIHJlYXNvbik7XG4gIH0sIGdvb2cuUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZKSA6IDAgPT0gZ29vZy5Qcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkgJiYgKHByb21pc2UuaGFkVW5oYW5kbGVkUmVqZWN0aW9uXyA9ICEwLCBnb29nLmFzeW5jLnJ1bihmdW5jdGlvbigpIHtcbiAgICBwcm9taXNlLmhhZFVuaGFuZGxlZFJlamVjdGlvbl8gJiYgKHByb21pc2UuYXBwZW5kTG9uZ1N0YWNrXyhyZWFzb24pLCBnb29nLlByb21pc2UuaGFuZGxlUmVqZWN0aW9uXy5jYWxsKG51bGwsIHJlYXNvbikpO1xuICB9KSk7XG59O1xuZ29vZy5Qcm9taXNlLmhhbmRsZVJlamVjdGlvbl8gPSBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyR0aHJvd0V4Y2VwdGlvbl90aHJvd0V4Y2VwdGlvbjtcbmdvb2cuUHJvbWlzZS5zZXRVbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcikge1xuICBnb29nLlByb21pc2UuaGFuZGxlUmVqZWN0aW9uXyA9IGhhbmRsZXI7XG59O1xuZ29vZy5Qcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yID0gZnVuY3Rpb24ob3B0X21lc3NhZ2UpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvci5jYWxsKHRoaXMsIG9wdF9tZXNzYWdlKTtcbiAgdGhpcy5yZXBvcnRFcnJvclRvU2VydmVyID0gITE7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLlByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IsIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IpO1xuZ29vZy5Qcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJjYW5jZWxcIjtcbmdvb2cuUHJvbWlzZS5SZXNvbHZlcl8gPSBmdW5jdGlvbihwcm9taXNlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgdGhpcy5yZWplY3QgPSByZWplY3Q7XG59O1xuZ29vZy5UaW1lciA9IGZ1bmN0aW9uKG9wdF9pbnRlcnZhbCwgb3B0X3RpbWVyT2JqZWN0KSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gIHRoaXMuaW50ZXJ2YWxfID0gb3B0X2ludGVydmFsIHx8IDE7XG4gIHRoaXMudGltZXJPYmplY3RfID0gb3B0X3RpbWVyT2JqZWN0IHx8IGdvb2cuVGltZXIuZGVmYXVsdFRpbWVyT2JqZWN0O1xuICB0aGlzLmJvdW5kVGlja18gPSBnb29nLmJpbmQodGhpcy50aWNrXywgdGhpcyk7XG4gIHRoaXMubGFzdF8gPSBnb29nLm5vdygpO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5UaW1lciwgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZ29vZy5UaW1lci5NQVhfVElNRU9VVF8gPSAyMTQ3NDgzNjQ3O1xuZ29vZy5UaW1lci5JTlZBTElEX1RJTUVPVVRfSURfID0gLTE7XG5nb29nLlRpbWVyLnByb3RvdHlwZS5lbmFibGVkID0gITE7XG5nb29nLlRpbWVyLmRlZmF1bHRUaW1lck9iamVjdCA9IGdvb2cuZ2xvYmFsO1xuZ29vZy5UaW1lci5pbnRlcnZhbFNjYWxlID0gMC44O1xuZ29vZy5UaW1lci5wcm90b3R5cGUudGltZXJfID0gbnVsbDtcbmdvb2cuVGltZXIucHJvdG90eXBlLmdldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmludGVydmFsXztcbn07XG5nb29nLlRpbWVyLnByb3RvdHlwZS5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKGludGVydmFsKSB7XG4gIHRoaXMuaW50ZXJ2YWxfID0gaW50ZXJ2YWw7XG4gIHRoaXMudGltZXJfICYmIHRoaXMuZW5hYmxlZCA/ICh0aGlzLnN0b3AoKSwgdGhpcy5zdGFydCgpKSA6IHRoaXMudGltZXJfICYmIHRoaXMuc3RvcCgpO1xufTtcbmdvb2cuVGltZXIucHJvdG90eXBlLnRpY2tfID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmVuYWJsZWQpIHtcbiAgICB2YXIgZWxhcHNlZCA9IGdvb2cubm93KCkgLSB0aGlzLmxhc3RfO1xuICAgIDAgPCBlbGFwc2VkICYmIGVsYXBzZWQgPCB0aGlzLmludGVydmFsXyAqIGdvb2cuVGltZXIuaW50ZXJ2YWxTY2FsZSA/IHRoaXMudGltZXJfID0gdGhpcy50aW1lck9iamVjdF8uc2V0VGltZW91dCh0aGlzLmJvdW5kVGlja18sIHRoaXMuaW50ZXJ2YWxfIC0gZWxhcHNlZCkgOiAodGhpcy50aW1lcl8gJiYgKHRoaXMudGltZXJPYmplY3RfLmNsZWFyVGltZW91dCh0aGlzLnRpbWVyXyksIHRoaXMudGltZXJfID0gbnVsbCksIHRoaXMuZGlzcGF0Y2hUaWNrKCksIHRoaXMuZW5hYmxlZCAmJiAodGhpcy5zdG9wKCksIHRoaXMuc3RhcnQoKSkpO1xuICB9XG59O1xuZ29vZy5UaW1lci5wcm90b3R5cGUuZGlzcGF0Y2hUaWNrID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLlRpbWVyLlRJQ0spO1xufTtcbmdvb2cuVGltZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW5hYmxlZCA9ICEwO1xuICB0aGlzLnRpbWVyXyB8fCAodGhpcy50aW1lcl8gPSB0aGlzLnRpbWVyT2JqZWN0Xy5zZXRUaW1lb3V0KHRoaXMuYm91bmRUaWNrXywgdGhpcy5pbnRlcnZhbF8pLCB0aGlzLmxhc3RfID0gZ29vZy5ub3coKSk7XG59O1xuZ29vZy5UaW1lci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVuYWJsZWQgPSAhMTtcbiAgdGhpcy50aW1lcl8gJiYgKHRoaXMudGltZXJPYmplY3RfLmNsZWFyVGltZW91dCh0aGlzLnRpbWVyXyksIHRoaXMudGltZXJfID0gbnVsbCk7XG59O1xuZ29vZy5UaW1lci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuVGltZXIuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMuc3RvcCgpO1xuICBkZWxldGUgdGhpcy50aW1lck9iamVjdF87XG59O1xuZ29vZy5UaW1lci5USUNLID0gXCJ0aWNrXCI7XG5nb29nLlRpbWVyLmNhbGxPbmNlID0gZnVuY3Rpb24obGlzdGVuZXIsIG9wdF9kZWxheSwgb3B0X2hhbmRsZXIpIHtcbiAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGxpc3RlbmVyKSB7XG4gICAgb3B0X2hhbmRsZXIgJiYgKGxpc3RlbmVyID0gZ29vZy5iaW5kKGxpc3RlbmVyLCBvcHRfaGFuZGxlcikpO1xuICB9IGVsc2Uge1xuICAgIGlmIChsaXN0ZW5lciAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGxpc3RlbmVyLmhhbmRsZUV2ZW50KSB7XG4gICAgICBsaXN0ZW5lciA9IGdvb2cuYmluZChsaXN0ZW5lci5oYW5kbGVFdmVudCwgbGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgbGlzdGVuZXIgYXJndW1lbnRcIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBOdW1iZXIob3B0X2RlbGF5KSA+IGdvb2cuVGltZXIuTUFYX1RJTUVPVVRfID8gZ29vZy5UaW1lci5JTlZBTElEX1RJTUVPVVRfSURfIDogZ29vZy5UaW1lci5kZWZhdWx0VGltZXJPYmplY3Quc2V0VGltZW91dChsaXN0ZW5lciwgb3B0X2RlbGF5IHx8IDApO1xufTtcbmdvb2cuVGltZXIuY2xlYXIgPSBmdW5jdGlvbih0aW1lcklkKSB7XG4gIGdvb2cuVGltZXIuZGVmYXVsdFRpbWVyT2JqZWN0LmNsZWFyVGltZW91dCh0aW1lcklkKTtcbn07XG5nb29nLlRpbWVyLnByb21pc2UgPSBmdW5jdGlvbihkZWxheSwgb3B0X3Jlc3VsdCkge1xuICB2YXIgdGltZXJLZXkgPSBudWxsO1xuICByZXR1cm4gKG5ldyBnb29nLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdGltZXJLZXkgPSBnb29nLlRpbWVyLmNhbGxPbmNlKGZ1bmN0aW9uKCkge1xuICAgICAgcmVzb2x2ZShvcHRfcmVzdWx0KTtcbiAgICB9LCBkZWxheSk7XG4gICAgdGltZXJLZXkgPT0gZ29vZy5UaW1lci5JTlZBTElEX1RJTUVPVVRfSURfICYmIHJlamVjdChFcnJvcihcIkZhaWxlZCB0byBzY2hlZHVsZSB0aW1lci5cIikpO1xuICB9KSkudGhlbkNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgZ29vZy5UaW1lci5jbGVhcih0aW1lcktleSk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH0pO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRUaHJvdHRsZV9UaHJvdHRsZSA9IGZ1bmN0aW9uKGxpc3RlbmVyLCBpbnRlcnZhbCwgaGFuZGxlcikge1xuICBnb29nLkRpc3Bvc2FibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5saXN0ZW5lcl8gPSBudWxsICE9IGhhbmRsZXIgPyBsaXN0ZW5lci5iaW5kKGhhbmRsZXIpIDogbGlzdGVuZXI7XG4gIHRoaXMuaW50ZXJ2YWxfID0gaW50ZXJ2YWw7XG4gIHRoaXMuYXJnc18gPSBudWxsO1xuICB0aGlzLnNob3VsZEZpcmVfID0gITE7XG4gIHRoaXMucGF1c2VDb3VudF8gPSAwO1xuICB0aGlzLnRpbWVyXyA9IG51bGw7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRUaHJvdHRsZV9UaHJvdHRsZSwgZ29vZy5EaXNwb3NhYmxlKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdGhpcy5hcmdzXyA9IGFyZ3VtZW50cztcbiAgdGhpcy50aW1lcl8gfHwgdGhpcy5wYXVzZUNvdW50XyA/IHRoaXMuc2hvdWxkRmlyZV8gPSAhMCA6IHRoaXMuZG9BY3Rpb25fKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50aW1lcl8gJiYgKGdvb2cuVGltZXIuY2xlYXIodGhpcy50aW1lcl8pLCB0aGlzLnRpbWVyXyA9IG51bGwsIHRoaXMuc2hvdWxkRmlyZV8gPSAhMSwgdGhpcy5hcmdzXyA9IG51bGwpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhdXNlQ291bnRfKys7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGUucHJvdG90eXBlLnJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhdXNlQ291bnRfLS07XG4gIHRoaXMucGF1c2VDb3VudF8gfHwgIXRoaXMuc2hvdWxkRmlyZV8gfHwgdGhpcy50aW1lcl8gfHwgKHRoaXMuc2hvdWxkRmlyZV8gPSAhMSwgdGhpcy5kb0FjdGlvbl8oKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB0aGlzLnN0b3AoKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRUaHJvdHRsZV9UaHJvdHRsZS5wcm90b3R5cGUub25UaW1lcl8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50aW1lcl8gPSBudWxsO1xuICB0aGlzLnNob3VsZEZpcmVfICYmICF0aGlzLnBhdXNlQ291bnRfICYmICh0aGlzLnNob3VsZEZpcmVfID0gITEsIHRoaXMuZG9BY3Rpb25fKCkpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlLnByb3RvdHlwZS5kb0FjdGlvbl8gPSBmdW5jdGlvbigpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXM7XG4gIHRoaXMudGltZXJfID0gZ29vZy5UaW1lci5jYWxsT25jZShmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGpzY29tcCR0aGlzLm9uVGltZXJfKCk7XG4gIH0sIHRoaXMuaW50ZXJ2YWxfKTtcbiAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3NfO1xuICB0aGlzLmFyZ3NfID0gbnVsbDtcbiAgdGhpcy5saXN0ZW5lcl8uYXBwbHkobnVsbCwgYXJncyk7XG59O1xuZ29vZy5hc3luYy5UaHJvdHRsZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlO1xuLypcblxuIENvcHlyaWdodCAyMDA1LCAyMDA3IEJvYiBJcHBvbGl0by4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiBDb3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLlxuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbiovXG5nb29nLmFzeW5jLkRlZmVycmVkID0gZnVuY3Rpb24ob3B0X29uQ2FuY2VsRnVuY3Rpb24sIG9wdF9kZWZhdWx0U2NvcGUpIHtcbiAgdGhpcy5zZXF1ZW5jZV8gPSBbXTtcbiAgdGhpcy5vbkNhbmNlbEZ1bmN0aW9uXyA9IG9wdF9vbkNhbmNlbEZ1bmN0aW9uO1xuICB0aGlzLmRlZmF1bHRTY29wZV8gPSBvcHRfZGVmYXVsdFNjb3BlIHx8IG51bGw7XG4gIHRoaXMuaGFkRXJyb3JfID0gdGhpcy5maXJlZF8gPSAhMTtcbiAgdGhpcy5yZXN1bHRfID0gdm9pZCAwO1xuICB0aGlzLnNpbGVudGx5Q2FuY2VsZWRfID0gdGhpcy5ibG9ja2luZ18gPSB0aGlzLmJsb2NrZWRfID0gITE7XG4gIHRoaXMudW5oYW5kbGVkRXJyb3JJZF8gPSAwO1xuICB0aGlzLnBhcmVudF8gPSBudWxsO1xuICB0aGlzLmJyYW5jaGVzXyA9IDA7XG4gIGlmIChnb29nLmFzeW5jLkRlZmVycmVkLkxPTkdfU1RBQ0tfVFJBQ0VTICYmICh0aGlzLmNvbnN0cnVjdG9yU3RhY2tfID0gbnVsbCwgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpKSB7XG4gICAgdmFyIHRhcmdldCA9IHtzdGFjazpcIlwifTtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0YXJnZXQsIGdvb2cuYXN5bmMuRGVmZXJyZWQpO1xuICAgIFwic3RyaW5nXCIgPT0gdHlwZW9mIHRhcmdldC5zdGFjayAmJiAodGhpcy5jb25zdHJ1Y3RvclN0YWNrXyA9IHRhcmdldC5zdGFjay5yZXBsYWNlKC9eW15cXG5dKlxcbi8sIFwiXCIpKTtcbiAgfVxufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuU1RSSUNUX0VSUk9SUyA9ICExO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5MT05HX1NUQUNLX1RSQUNFUyA9ICExO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24ob3B0X2RlZXBDYW5jZWwpIHtcbiAgaWYgKHRoaXMuaGFzRmlyZWQoKSkge1xuICAgIHRoaXMucmVzdWx0XyBpbnN0YW5jZW9mIGdvb2cuYXN5bmMuRGVmZXJyZWQgJiYgdGhpcy5yZXN1bHRfLmNhbmNlbCgpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0aGlzLnBhcmVudF8pIHtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudF87XG4gICAgICBkZWxldGUgdGhpcy5wYXJlbnRfO1xuICAgICAgb3B0X2RlZXBDYW5jZWwgPyBwYXJlbnQuY2FuY2VsKG9wdF9kZWVwQ2FuY2VsKSA6IHBhcmVudC5icmFuY2hDYW5jZWxfKCk7XG4gICAgfVxuICAgIHRoaXMub25DYW5jZWxGdW5jdGlvbl8gPyB0aGlzLm9uQ2FuY2VsRnVuY3Rpb25fLmNhbGwodGhpcy5kZWZhdWx0U2NvcGVfLCB0aGlzKSA6IHRoaXMuc2lsZW50bHlDYW5jZWxlZF8gPSAhMDtcbiAgICB0aGlzLmhhc0ZpcmVkKCkgfHwgdGhpcy5lcnJiYWNrKG5ldyBnb29nLmFzeW5jLkRlZmVycmVkLkNhbmNlbGVkRXJyb3IodGhpcykpO1xuICB9XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuYnJhbmNoQ2FuY2VsXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmJyYW5jaGVzXy0tO1xuICAwID49IHRoaXMuYnJhbmNoZXNfICYmIHRoaXMuY2FuY2VsKCk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuY29udGludWVfID0gZnVuY3Rpb24oaXNTdWNjZXNzLCByZXMpIHtcbiAgdGhpcy5ibG9ja2VkXyA9ICExO1xuICB0aGlzLnVwZGF0ZVJlc3VsdF8oaXNTdWNjZXNzLCByZXMpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLnVwZGF0ZVJlc3VsdF8gPSBmdW5jdGlvbihpc1N1Y2Nlc3MsIHJlcykge1xuICB0aGlzLmZpcmVkXyA9ICEwO1xuICB0aGlzLnJlc3VsdF8gPSByZXM7XG4gIHRoaXMuaGFkRXJyb3JfID0gIWlzU3VjY2VzcztcbiAgdGhpcy5maXJlXygpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmNoZWNrXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5oYXNGaXJlZCgpKSB7XG4gICAgaWYgKCF0aGlzLnNpbGVudGx5Q2FuY2VsZWRfKSB7XG4gICAgICB0aHJvdyBuZXcgZ29vZy5hc3luYy5EZWZlcnJlZC5BbHJlYWR5Q2FsbGVkRXJyb3IodGhpcyk7XG4gICAgfVxuICAgIHRoaXMuc2lsZW50bHlDYW5jZWxlZF8gPSAhMTtcbiAgfVxufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmNhbGxiYWNrID0gZnVuY3Rpb24ob3B0X3Jlc3VsdCkge1xuICB0aGlzLmNoZWNrXygpO1xuICB0aGlzLmFzc2VydE5vdERlZmVycmVkXyhvcHRfcmVzdWx0KTtcbiAgdGhpcy51cGRhdGVSZXN1bHRfKCEwLCBvcHRfcmVzdWx0KTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5lcnJiYWNrID0gZnVuY3Rpb24ob3B0X3Jlc3VsdCkge1xuICB0aGlzLmNoZWNrXygpO1xuICB0aGlzLmFzc2VydE5vdERlZmVycmVkXyhvcHRfcmVzdWx0KTtcbiAgdGhpcy5tYWtlU3RhY2tUcmFjZUxvbmdfKG9wdF9yZXN1bHQpO1xuICB0aGlzLnVwZGF0ZVJlc3VsdF8oITEsIG9wdF9yZXN1bHQpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQudW5oYW5kbGVkRXJyb3JIYW5kbGVyXyA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhyb3cgZTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnNldFVuaGFuZGxlZEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgZ29vZy5hc3luYy5EZWZlcnJlZC51bmhhbmRsZWRFcnJvckhhbmRsZXJfID0gaGFuZGxlcjtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5tYWtlU3RhY2tUcmFjZUxvbmdfID0gZnVuY3Rpb24oZXJyb3IpIHtcbiAgZ29vZy5hc3luYy5EZWZlcnJlZC5MT05HX1NUQUNLX1RSQUNFUyAmJiB0aGlzLmNvbnN0cnVjdG9yU3RhY2tfICYmIGdvb2cuaXNPYmplY3QoZXJyb3IpICYmIGVycm9yLnN0YWNrICYmIC9eW15cXG5dKyhcXG4gICBbXlxcbl0rKSsvLnRlc3QoZXJyb3Iuc3RhY2spICYmIChlcnJvci5zdGFjayA9IGVycm9yLnN0YWNrICsgXCJcXG5ERUZFUlJFRCBPUEVSQVRJT046XFxuXCIgKyB0aGlzLmNvbnN0cnVjdG9yU3RhY2tfKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5hc3NlcnROb3REZWZlcnJlZF8gPSBmdW5jdGlvbihvYmopIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghKG9iaiBpbnN0YW5jZW9mIGdvb2cuYXN5bmMuRGVmZXJyZWQpLCBcIkFuIGV4ZWN1dGlvbiBzZXF1ZW5jZSBtYXkgbm90IGJlIGluaXRpYXRlZCB3aXRoIGEgYmxvY2tpbmcgRGVmZXJyZWQuXCIpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmFkZENhbGxiYWNrID0gZnVuY3Rpb24oY2IsIG9wdF9zY29wZSkge1xuICByZXR1cm4gdGhpcy5hZGRDYWxsYmFja3MoY2IsIG51bGwsIG9wdF9zY29wZSk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuYWRkRXJyYmFjayA9IGZ1bmN0aW9uKGViLCBvcHRfc2NvcGUpIHtcbiAgcmV0dXJuIHRoaXMuYWRkQ2FsbGJhY2tzKG51bGwsIGViLCBvcHRfc2NvcGUpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmFkZEJvdGggPSBmdW5jdGlvbihmLCBvcHRfc2NvcGUpIHtcbiAgcmV0dXJuIHRoaXMuYWRkQ2FsbGJhY2tzKGYsIGYsIG9wdF9zY29wZSk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuYWRkRmluYWxseSA9IGZ1bmN0aW9uKGYsIG9wdF9zY29wZSkge1xuICByZXR1cm4gdGhpcy5hZGRDYWxsYmFja3MoZiwgZnVuY3Rpb24oZXJyKSB7XG4gICAgdmFyIHJlc3VsdCA9IGYuY2FsbCh0aGlzLCBlcnIpO1xuICAgIGlmICh2b2lkIDAgPT09IHJlc3VsdCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCBvcHRfc2NvcGUpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmFkZENhbGxiYWNrcyA9IGZ1bmN0aW9uKGNiLCBlYiwgb3B0X3Njb3BlKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoIXRoaXMuYmxvY2tpbmdfLCBcIkJsb2NraW5nIERlZmVycmVkcyBjYW4gbm90IGJlIHJlLXVzZWRcIik7XG4gIHRoaXMuc2VxdWVuY2VfLnB1c2goW2NiLCBlYiwgb3B0X3Njb3BlXSk7XG4gIHRoaXMuaGFzRmlyZWQoKSAmJiB0aGlzLmZpcmVfKCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvcHRfb25GdWxmaWxsZWQsIG9wdF9vblJlamVjdGVkLCBvcHRfY29udGV4dCkge1xuICB2YXIgcmVqZWN0LCByZXNvbHZlLCBwcm9taXNlID0gbmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihyZXMsIHJlaikge1xuICAgIHJlc29sdmUgPSByZXM7XG4gICAgcmVqZWN0ID0gcmVqO1xuICB9KTtcbiAgdGhpcy5hZGRDYWxsYmFja3MocmVzb2x2ZSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgcmVhc29uIGluc3RhbmNlb2YgZ29vZy5hc3luYy5EZWZlcnJlZC5DYW5jZWxlZEVycm9yID8gcHJvbWlzZS5jYW5jZWwoKSA6IHJlamVjdChyZWFzb24pO1xuICB9KTtcbiAgcmV0dXJuIHByb21pc2UudGhlbihvcHRfb25GdWxmaWxsZWQsIG9wdF9vblJlamVjdGVkLCBvcHRfY29udGV4dCk7XG59O1xuZ29vZy5UaGVuYWJsZS5hZGRJbXBsZW1lbnRhdGlvbihnb29nLmFzeW5jLkRlZmVycmVkKTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmNoYWluRGVmZXJyZWQgPSBmdW5jdGlvbihvdGhlckRlZmVycmVkKSB7XG4gIHRoaXMuYWRkQ2FsbGJhY2tzKG90aGVyRGVmZXJyZWQuY2FsbGJhY2ssIG90aGVyRGVmZXJyZWQuZXJyYmFjaywgb3RoZXJEZWZlcnJlZCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmF3YWl0RGVmZXJyZWQgPSBmdW5jdGlvbihvdGhlckRlZmVycmVkKSB7XG4gIHJldHVybiBvdGhlckRlZmVycmVkIGluc3RhbmNlb2YgZ29vZy5hc3luYy5EZWZlcnJlZCA/IHRoaXMuYWRkQ2FsbGJhY2soZ29vZy5iaW5kKG90aGVyRGVmZXJyZWQuYnJhbmNoLCBvdGhlckRlZmVycmVkKSkgOiB0aGlzLmFkZENhbGxiYWNrKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBvdGhlckRlZmVycmVkO1xuICB9KTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5icmFuY2ggPSBmdW5jdGlvbihvcHRfcHJvcGFnYXRlQ2FuY2VsKSB7XG4gIHZhciBkID0gbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQoKTtcbiAgdGhpcy5jaGFpbkRlZmVycmVkKGQpO1xuICBvcHRfcHJvcGFnYXRlQ2FuY2VsICYmIChkLnBhcmVudF8gPSB0aGlzLCB0aGlzLmJyYW5jaGVzXysrKTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuaGFzRmlyZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZmlyZWRfO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmlzRXJyb3IgPSBmdW5jdGlvbihyZXMpIHtcbiAgcmV0dXJuIHJlcyBpbnN0YW5jZW9mIEVycm9yO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmhhc0VycmJhY2tfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb21lKHRoaXMuc2VxdWVuY2VfLCBmdW5jdGlvbihzZXF1ZW5jZVJvdykge1xuICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBzZXF1ZW5jZVJvd1sxXTtcbiAgfSk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuZ2V0TGFzdFZhbHVlRm9yTWlncmF0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmhhc0ZpcmVkKCkgJiYgIXRoaXMuaGFkRXJyb3JfID8gdGhpcy5yZXN1bHRfIDogdm9pZCAwO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmZpcmVfID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudW5oYW5kbGVkRXJyb3JJZF8gJiYgdGhpcy5oYXNGaXJlZCgpICYmIHRoaXMuaGFzRXJyYmFja18oKSAmJiAoZ29vZy5hc3luYy5EZWZlcnJlZC51bnNjaGVkdWxlRXJyb3JfKHRoaXMudW5oYW5kbGVkRXJyb3JJZF8pLCB0aGlzLnVuaGFuZGxlZEVycm9ySWRfID0gMCk7XG4gIHRoaXMucGFyZW50XyAmJiAodGhpcy5wYXJlbnRfLmJyYW5jaGVzXy0tLCBkZWxldGUgdGhpcy5wYXJlbnRfKTtcbiAgZm9yICh2YXIgcmVzID0gdGhpcy5yZXN1bHRfLCB1bmhhbmRsZWRFeGNlcHRpb24gPSAhMSwgaXNOZXdseUJsb2NrZWQgPSAhMTsgdGhpcy5zZXF1ZW5jZV8ubGVuZ3RoICYmICF0aGlzLmJsb2NrZWRfOykge1xuICAgIHZhciBzZXF1ZW5jZUVudHJ5ID0gdGhpcy5zZXF1ZW5jZV8uc2hpZnQoKSwgY2FsbGJhY2sgPSBzZXF1ZW5jZUVudHJ5WzBdLCBlcnJiYWNrID0gc2VxdWVuY2VFbnRyeVsxXSwgc2NvcGUgPSBzZXF1ZW5jZUVudHJ5WzJdLCBmID0gdGhpcy5oYWRFcnJvcl8gPyBlcnJiYWNrIDogY2FsbGJhY2s7XG4gICAgaWYgKGYpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXQgPSBmLmNhbGwoc2NvcGUgfHwgdGhpcy5kZWZhdWx0U2NvcGVfLCByZXMpO1xuICAgICAgICB2b2lkIDAgIT09IHJldCAmJiAodGhpcy5oYWRFcnJvcl8gPSB0aGlzLmhhZEVycm9yXyAmJiAocmV0ID09IHJlcyB8fCB0aGlzLmlzRXJyb3IocmV0KSksIHRoaXMucmVzdWx0XyA9IHJlcyA9IHJldCk7XG4gICAgICAgIGlmIChnb29nLlRoZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShyZXMpIHx8IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGdvb2cuZ2xvYmFsLlByb21pc2UgJiYgcmVzIGluc3RhbmNlb2YgZ29vZy5nbG9iYWwuUHJvbWlzZSkge1xuICAgICAgICAgIHRoaXMuYmxvY2tlZF8gPSBpc05ld2x5QmxvY2tlZCA9ICEwO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICByZXMgPSBleCwgdGhpcy5oYWRFcnJvcl8gPSAhMCwgdGhpcy5tYWtlU3RhY2tUcmFjZUxvbmdfKHJlcyksIHRoaXMuaGFzRXJyYmFja18oKSB8fCAodW5oYW5kbGVkRXhjZXB0aW9uID0gITApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0aGlzLnJlc3VsdF8gPSByZXM7XG4gIGlmIChpc05ld2x5QmxvY2tlZCkge1xuICAgIHZhciBvbkNhbGxiYWNrID0gZ29vZy5iaW5kKHRoaXMuY29udGludWVfLCB0aGlzLCAhMCksIG9uRXJyYmFjayA9IGdvb2cuYmluZCh0aGlzLmNvbnRpbnVlXywgdGhpcywgITEpO1xuICAgIHJlcyBpbnN0YW5jZW9mIGdvb2cuYXN5bmMuRGVmZXJyZWQgPyAocmVzLmFkZENhbGxiYWNrcyhvbkNhbGxiYWNrLCBvbkVycmJhY2spLCByZXMuYmxvY2tpbmdfID0gITApIDogcmVzLnRoZW4ob25DYWxsYmFjaywgb25FcnJiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICAhZ29vZy5hc3luYy5EZWZlcnJlZC5TVFJJQ1RfRVJST1JTIHx8ICF0aGlzLmlzRXJyb3IocmVzKSB8fCByZXMgaW5zdGFuY2VvZiBnb29nLmFzeW5jLkRlZmVycmVkLkNhbmNlbGVkRXJyb3IgfHwgKHVuaGFuZGxlZEV4Y2VwdGlvbiA9IHRoaXMuaGFkRXJyb3JfID0gITApO1xuICB9XG4gIHVuaGFuZGxlZEV4Y2VwdGlvbiAmJiAodGhpcy51bmhhbmRsZWRFcnJvcklkXyA9IGdvb2cuYXN5bmMuRGVmZXJyZWQuc2NoZWR1bGVFcnJvcl8ocmVzKSk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5zdWNjZWVkID0gZnVuY3Rpb24ob3B0X3Jlc3VsdCkge1xuICB2YXIgZCA9IG5ldyBnb29nLmFzeW5jLkRlZmVycmVkKCk7XG4gIGQuY2FsbGJhY2sob3B0X3Jlc3VsdCk7XG4gIHJldHVybiBkO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuZnJvbVByb21pc2UgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gIHZhciBkID0gbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQoKTtcbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgZC5jYWxsYmFjayh2YWx1ZSk7XG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgZC5lcnJiYWNrKGVycm9yKTtcbiAgfSk7XG4gIHJldHVybiBkO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuZmFpbCA9IGZ1bmN0aW9uKHJlcykge1xuICB2YXIgZCA9IG5ldyBnb29nLmFzeW5jLkRlZmVycmVkKCk7XG4gIGQuZXJyYmFjayhyZXMpO1xuICByZXR1cm4gZDtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLmNhbmNlbGVkID0gZnVuY3Rpb24oKSB7XG4gIHZhciBkID0gbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQoKTtcbiAgZC5jYW5jZWwoKTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC53aGVuID0gZnVuY3Rpb24odmFsdWUsIGNhbGxiYWNrLCBvcHRfc2NvcGUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ29vZy5hc3luYy5EZWZlcnJlZCA/IHZhbHVlLmJyYW5jaCghMCkuYWRkQ2FsbGJhY2soY2FsbGJhY2ssIG9wdF9zY29wZSkgOiBnb29nLmFzeW5jLkRlZmVycmVkLnN1Y2NlZWQodmFsdWUpLmFkZENhbGxiYWNrKGNhbGxiYWNrLCBvcHRfc2NvcGUpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuQWxyZWFkeUNhbGxlZEVycm9yID0gZnVuY3Rpb24oZGVmZXJyZWQpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvci5jYWxsKHRoaXMpO1xuICB0aGlzLmRlZmVycmVkID0gZGVmZXJyZWQ7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmFzeW5jLkRlZmVycmVkLkFscmVhZHlDYWxsZWRFcnJvciwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvcik7XG5nb29nLmFzeW5jLkRlZmVycmVkLkFscmVhZHlDYWxsZWRFcnJvci5wcm90b3R5cGUubWVzc2FnZSA9IFwiRGVmZXJyZWQgaGFzIGFscmVhZHkgZmlyZWRcIjtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuQWxyZWFkeUNhbGxlZEVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJBbHJlYWR5Q2FsbGVkRXJyb3JcIjtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuQ2FuY2VsZWRFcnJvciA9IGZ1bmN0aW9uKGRlZmVycmVkKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5kZWZlcnJlZCA9IGRlZmVycmVkO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5hc3luYy5EZWZlcnJlZC5DYW5jZWxlZEVycm9yLCBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yKTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuQ2FuY2VsZWRFcnJvci5wcm90b3R5cGUubWVzc2FnZSA9IFwiRGVmZXJyZWQgd2FzIGNhbmNlbGVkXCI7XG5nb29nLmFzeW5jLkRlZmVycmVkLkNhbmNlbGVkRXJyb3IucHJvdG90eXBlLm5hbWUgPSBcIkNhbmNlbGVkRXJyb3JcIjtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuRXJyb3JfID0gZnVuY3Rpb24oZXJyb3IpIHtcbiAgdGhpcy5pZF8gPSBnb29nLmdsb2JhbC5zZXRUaW1lb3V0KGdvb2cuYmluZCh0aGlzLnRocm93RXJyb3IsIHRoaXMpLCAwKTtcbiAgdGhpcy5lcnJvcl8gPSBlcnJvcjtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLkVycm9yXy5wcm90b3R5cGUudGhyb3dFcnJvciA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGdvb2cuYXN5bmMuRGVmZXJyZWQuZXJyb3JNYXBfW3RoaXMuaWRfXSwgXCJDYW5ub3QgdGhyb3cgYW4gZXJyb3IgdGhhdCBpcyBub3Qgc2NoZWR1bGVkLlwiKTtcbiAgZGVsZXRlIGdvb2cuYXN5bmMuRGVmZXJyZWQuZXJyb3JNYXBfW3RoaXMuaWRfXTtcbiAgZ29vZy5hc3luYy5EZWZlcnJlZC51bmhhbmRsZWRFcnJvckhhbmRsZXJfKHRoaXMuZXJyb3JfKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLkVycm9yXy5wcm90b3R5cGUucmVzZXRUaW1lciA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmdsb2JhbC5jbGVhclRpbWVvdXQodGhpcy5pZF8pO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuZXJyb3JNYXBfID0ge307XG5nb29nLmFzeW5jLkRlZmVycmVkLnNjaGVkdWxlRXJyb3JfID0gZnVuY3Rpb24oZXJyb3IpIHtcbiAgdmFyIGRlZmVycmVkRXJyb3IgPSBuZXcgZ29vZy5hc3luYy5EZWZlcnJlZC5FcnJvcl8oZXJyb3IpO1xuICBnb29nLmFzeW5jLkRlZmVycmVkLmVycm9yTWFwX1tkZWZlcnJlZEVycm9yLmlkX10gPSBkZWZlcnJlZEVycm9yO1xuICByZXR1cm4gZGVmZXJyZWRFcnJvci5pZF87XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC51bnNjaGVkdWxlRXJyb3JfID0gZnVuY3Rpb24oaWQpIHtcbiAgdmFyIGVycm9yID0gZ29vZy5hc3luYy5EZWZlcnJlZC5lcnJvck1hcF9baWRdO1xuICBlcnJvciAmJiAoZXJyb3IucmVzZXRUaW1lcigpLCBkZWxldGUgZ29vZy5hc3luYy5EZWZlcnJlZC5lcnJvck1hcF9baWRdKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLmFzc2VydE5vRXJyb3JzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBtYXAgPSBnb29nLmFzeW5jLkRlZmVycmVkLmVycm9yTWFwXywga2V5O1xuICBmb3IgKGtleSBpbiBtYXApIHtcbiAgICB2YXIgZXJyb3IgPSBtYXBba2V5XTtcbiAgICBlcnJvci5yZXNldFRpbWVyKCk7XG4gICAgZXJyb3IudGhyb3dFcnJvcigpO1xuICB9XG59O1xuZ29vZy5uZXQgPSB7fTtcbmdvb2cubmV0LmpzbG9hZGVyID0ge307XG5nb29nLm5ldC5qc2xvYWRlci5PcHRpb25zID0ge307XG5nb29nLm5ldC5qc2xvYWRlci5HTE9CQUxfVkVSSUZZX09CSlNfID0gXCJjbG9zdXJlX3ZlcmlmaWNhdGlvblwiO1xuZ29vZy5uZXQuanNsb2FkZXIuREVGQVVMVF9USU1FT1VUID0gNTAwMDtcbmdvb2cubmV0LmpzbG9hZGVyLnNjcmlwdHNUb0xvYWRfID0gW107XG5nb29nLm5ldC5qc2xvYWRlci5zYWZlTG9hZE1hbnkgPSBmdW5jdGlvbih0cnVzdGVkVXJpcywgb3B0X29wdGlvbnMpIHtcbiAgaWYgKCF0cnVzdGVkVXJpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gZ29vZy5hc3luYy5EZWZlcnJlZC5zdWNjZWVkKG51bGwpO1xuICB9XG4gIHZhciBpc0Fub3RoZXJNb2R1bGVMb2FkaW5nID0gZ29vZy5uZXQuanNsb2FkZXIuc2NyaXB0c1RvTG9hZF8ubGVuZ3RoO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9leHRlbmQoZ29vZy5uZXQuanNsb2FkZXIuc2NyaXB0c1RvTG9hZF8sIHRydXN0ZWRVcmlzKTtcbiAgaWYgKGlzQW5vdGhlck1vZHVsZUxvYWRpbmcpIHtcbiAgICByZXR1cm4gZ29vZy5uZXQuanNsb2FkZXIuc2NyaXB0TG9hZGluZ0RlZmVycmVkXztcbiAgfVxuICB0cnVzdGVkVXJpcyA9IGdvb2cubmV0LmpzbG9hZGVyLnNjcmlwdHNUb0xvYWRfO1xuICB2YXIgcG9wQW5kTG9hZE5leHRTY3JpcHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdHJ1c3RlZFVyaSA9IHRydXN0ZWRVcmlzLnNoaWZ0KCksIGRlZmVycmVkID0gZ29vZy5uZXQuanNsb2FkZXIuc2FmZUxvYWQodHJ1c3RlZFVyaSwgb3B0X29wdGlvbnMpO1xuICAgIHRydXN0ZWRVcmlzLmxlbmd0aCAmJiBkZWZlcnJlZC5hZGRCb3RoKHBvcEFuZExvYWROZXh0U2NyaXB0KTtcbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH07XG4gIGdvb2cubmV0LmpzbG9hZGVyLnNjcmlwdExvYWRpbmdEZWZlcnJlZF8gPSBwb3BBbmRMb2FkTmV4dFNjcmlwdCgpO1xuICByZXR1cm4gZ29vZy5uZXQuanNsb2FkZXIuc2NyaXB0TG9hZGluZ0RlZmVycmVkXztcbn07XG5nb29nLm5ldC5qc2xvYWRlci5zYWZlTG9hZCA9IGZ1bmN0aW9uKHRydXN0ZWRVcmksIG9wdF9vcHRpb25zKSB7XG4gIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge30sIGRvYyA9IG9wdGlvbnMuZG9jdW1lbnQgfHwgZG9jdW1lbnQsIHVyaSA9IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwKHRydXN0ZWRVcmkpLCBzY3JpcHQgPSAobmV3IGdvb2cuZG9tLkRvbUhlbHBlcihkb2MpKS5jcmVhdGVFbGVtZW50KGdvb2cuZG9tLlRhZ05hbWUuU0NSSVBUKSwgcmVxdWVzdCA9IHtzY3JpcHRfOnNjcmlwdCwgdGltZW91dF86dm9pZCAwfSwgZGVmZXJyZWQgPSBuZXcgZ29vZy5hc3luYy5EZWZlcnJlZChnb29nLm5ldC5qc2xvYWRlci5jYW5jZWxfLCByZXF1ZXN0KSwgdGltZW91dCA9IG51bGwsIHRpbWVvdXREdXJhdGlvbiA9IG51bGwgIT0gb3B0aW9ucy50aW1lb3V0ID8gb3B0aW9ucy50aW1lb3V0IDogZ29vZy5uZXQuanNsb2FkZXIuREVGQVVMVF9USU1FT1VUO1xuICAwIDwgdGltZW91dER1cmF0aW9uICYmICh0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgZ29vZy5uZXQuanNsb2FkZXIuY2xlYW51cF8oc2NyaXB0LCAhMCk7XG4gICAgZGVmZXJyZWQuZXJyYmFjayhuZXcgZ29vZy5uZXQuanNsb2FkZXIuRXJyb3IoZ29vZy5uZXQuanNsb2FkZXIuRXJyb3JDb2RlLlRJTUVPVVQsIFwiVGltZW91dCByZWFjaGVkIGZvciBsb2FkaW5nIHNjcmlwdCBcIiArIHVyaSkpO1xuICB9LCB0aW1lb3V0RHVyYXRpb24pLCByZXF1ZXN0LnRpbWVvdXRfID0gdGltZW91dCk7XG4gIHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgc2NyaXB0LnJlYWR5U3RhdGUgJiYgXCJsb2FkZWRcIiAhPSBzY3JpcHQucmVhZHlTdGF0ZSAmJiBcImNvbXBsZXRlXCIgIT0gc2NyaXB0LnJlYWR5U3RhdGUgfHwgKGdvb2cubmV0LmpzbG9hZGVyLmNsZWFudXBfKHNjcmlwdCwgb3B0aW9ucy5jbGVhbnVwV2hlbkRvbmUgfHwgITEsIHRpbWVvdXQpLCBkZWZlcnJlZC5jYWxsYmFjayhudWxsKSk7XG4gIH07XG4gIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgZ29vZy5uZXQuanNsb2FkZXIuY2xlYW51cF8oc2NyaXB0LCAhMCwgdGltZW91dCk7XG4gICAgZGVmZXJyZWQuZXJyYmFjayhuZXcgZ29vZy5uZXQuanNsb2FkZXIuRXJyb3IoZ29vZy5uZXQuanNsb2FkZXIuRXJyb3JDb2RlLkxPQURfRVJST1IsIFwiRXJyb3Igd2hpbGUgbG9hZGluZyBzY3JpcHQgXCIgKyB1cmkpKTtcbiAgfTtcbiAgdmFyIHByb3BlcnRpZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9leHRlbmQocHJvcGVydGllcywge3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIiwgY2hhcnNldDpcIlVURi04XCJ9KTtcbiAgZ29vZy5kb20uc2V0UHJvcGVydGllcyhzY3JpcHQsIHByb3BlcnRpZXMpO1xuICBnb29nLmRvbS5zYWZlLnNldFNjcmlwdFNyYyhzY3JpcHQsIHRydXN0ZWRVcmkpO1xuICBnb29nLm5ldC5qc2xvYWRlci5nZXRTY3JpcHRQYXJlbnRFbGVtZW50Xyhkb2MpLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gIHJldHVybiBkZWZlcnJlZDtcbn07XG5nb29nLm5ldC5qc2xvYWRlci5zYWZlTG9hZEFuZFZlcmlmeSA9IGZ1bmN0aW9uKHRydXN0ZWRVcmksIHZlcmlmaWNhdGlvbk9iak5hbWUsIG9wdGlvbnMpIHtcbiAgZ29vZy5nbG9iYWxbZ29vZy5uZXQuanNsb2FkZXIuR0xPQkFMX1ZFUklGWV9PQkpTX10gfHwgKGdvb2cuZ2xvYmFsW2dvb2cubmV0LmpzbG9hZGVyLkdMT0JBTF9WRVJJRllfT0JKU19dID0ge30pO1xuICB2YXIgdmVyaWZ5T2JqcyA9IGdvb2cuZ2xvYmFsW2dvb2cubmV0LmpzbG9hZGVyLkdMT0JBTF9WRVJJRllfT0JKU19dLCB1cmkgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcCh0cnVzdGVkVXJpKTtcbiAgaWYgKHZvaWQgMCAhPT0gdmVyaWZ5T2Jqc1t2ZXJpZmljYXRpb25PYmpOYW1lXSkge1xuICAgIHJldHVybiBnb29nLmFzeW5jLkRlZmVycmVkLmZhaWwobmV3IGdvb2cubmV0LmpzbG9hZGVyLkVycm9yKGdvb2cubmV0LmpzbG9hZGVyLkVycm9yQ29kZS5WRVJJRllfT0JKRUNUX0FMUkVBRFlfRVhJU1RTLCBcIlZlcmlmaWNhdGlvbiBvYmplY3QgXCIgKyB2ZXJpZmljYXRpb25PYmpOYW1lICsgXCIgYWxyZWFkeSBkZWZpbmVkLlwiKSk7XG4gIH1cbiAgdmFyIHNlbmREZWZlcnJlZCA9IGdvb2cubmV0LmpzbG9hZGVyLnNhZmVMb2FkKHRydXN0ZWRVcmksIG9wdGlvbnMpLCBkZWZlcnJlZCA9IG5ldyBnb29nLmFzeW5jLkRlZmVycmVkKGdvb2cuYmluZChzZW5kRGVmZXJyZWQuY2FuY2VsLCBzZW5kRGVmZXJyZWQpKTtcbiAgc2VuZERlZmVycmVkLmFkZENhbGxiYWNrKGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXN1bHQgPSB2ZXJpZnlPYmpzW3ZlcmlmaWNhdGlvbk9iak5hbWVdO1xuICAgIHZvaWQgMCAhPT0gcmVzdWx0ID8gKGRlZmVycmVkLmNhbGxiYWNrKHJlc3VsdCksIGRlbGV0ZSB2ZXJpZnlPYmpzW3ZlcmlmaWNhdGlvbk9iak5hbWVdKSA6IGRlZmVycmVkLmVycmJhY2sobmV3IGdvb2cubmV0LmpzbG9hZGVyLkVycm9yKGdvb2cubmV0LmpzbG9hZGVyLkVycm9yQ29kZS5WRVJJRllfRVJST1IsIFwiU2NyaXB0IFwiICsgdXJpICsgXCIgbG9hZGVkLCBidXQgdmVyaWZpY2F0aW9uIG9iamVjdCBcIiArIHZlcmlmaWNhdGlvbk9iak5hbWUgKyBcIiB3YXMgbm90IGRlZmluZWQuXCIpKTtcbiAgfSk7XG4gIHNlbmREZWZlcnJlZC5hZGRFcnJiYWNrKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgdm9pZCAwICE9PSB2ZXJpZnlPYmpzW3ZlcmlmaWNhdGlvbk9iak5hbWVdICYmIGRlbGV0ZSB2ZXJpZnlPYmpzW3ZlcmlmaWNhdGlvbk9iak5hbWVdO1xuICAgIGRlZmVycmVkLmVycmJhY2soZXJyb3IpO1xuICB9KTtcbiAgcmV0dXJuIGRlZmVycmVkO1xufTtcbmdvb2cubmV0LmpzbG9hZGVyLmdldFNjcmlwdFBhcmVudEVsZW1lbnRfID0gZnVuY3Rpb24oZG9jKSB7XG4gIHZhciBoZWFkRWxlbWVudHMgPSBnb29nLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZShnb29nLmRvbS5UYWdOYW1lLkhFQUQsIGRvYyk7XG4gIHJldHVybiBoZWFkRWxlbWVudHMgJiYgMCAhPT0gaGVhZEVsZW1lbnRzLmxlbmd0aCA/IGhlYWRFbGVtZW50c1swXSA6IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG59O1xuZ29vZy5uZXQuanNsb2FkZXIuY2FuY2VsXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcyAmJiB0aGlzLnNjcmlwdF8pIHtcbiAgICB2YXIgc2NyaXB0Tm9kZSA9IHRoaXMuc2NyaXB0XztcbiAgICBzY3JpcHROb2RlICYmIHNjcmlwdE5vZGUudGFnTmFtZSA9PSBnb29nLmRvbS5UYWdOYW1lLlNDUklQVCAmJiBnb29nLm5ldC5qc2xvYWRlci5jbGVhbnVwXyhzY3JpcHROb2RlLCAhMCwgdGhpcy50aW1lb3V0Xyk7XG4gIH1cbn07XG5nb29nLm5ldC5qc2xvYWRlci5jbGVhbnVwXyA9IGZ1bmN0aW9uKHNjcmlwdE5vZGUsIHJlbW92ZVNjcmlwdE5vZGUsIG9wdF90aW1lb3V0KSB7XG4gIG51bGwgIT0gb3B0X3RpbWVvdXQgJiYgZ29vZy5nbG9iYWwuY2xlYXJUaW1lb3V0KG9wdF90aW1lb3V0KTtcbiAgc2NyaXB0Tm9kZS5vbmxvYWQgPSBnb29nLm51bGxGdW5jdGlvbjtcbiAgc2NyaXB0Tm9kZS5vbmVycm9yID0gZ29vZy5udWxsRnVuY3Rpb247XG4gIHNjcmlwdE5vZGUub25yZWFkeXN0YXRlY2hhbmdlID0gZ29vZy5udWxsRnVuY3Rpb247XG4gIHJlbW92ZVNjcmlwdE5vZGUgJiYgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgZ29vZy5kb20ucmVtb3ZlTm9kZShzY3JpcHROb2RlKTtcbiAgfSwgMCk7XG59O1xuZ29vZy5uZXQuanNsb2FkZXIuRXJyb3JDb2RlID0ge0xPQURfRVJST1I6MCwgVElNRU9VVDoxLCBWRVJJRllfRVJST1I6MiwgVkVSSUZZX09CSkVDVF9BTFJFQURZX0VYSVNUUzozLH07XG5nb29nLm5ldC5qc2xvYWRlci5FcnJvciA9IGZ1bmN0aW9uKGNvZGUsIG9wdF9tZXNzYWdlKSB7XG4gIHZhciBtc2cgPSBcIkpzbG9hZGVyIGVycm9yIChjb2RlICNcIiArIGNvZGUgKyBcIilcIjtcbiAgb3B0X21lc3NhZ2UgJiYgKG1zZyArPSBcIjogXCIgKyBvcHRfbWVzc2FnZSk7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IuY2FsbCh0aGlzLCBtc2cpO1xuICB0aGlzLmNvZGUgPSBjb2RlO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5uZXQuanNsb2FkZXIuRXJyb3IsIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IpO1xuZ29vZy5qc29uID0ge307XG5nb29nLmpzb24uUmVwbGFjZXIgPSB7fTtcbmdvb2cuanNvbi5SZXZpdmVyID0ge307XG5nb29nLmpzb24uVVNFX05BVElWRV9KU09OID0gITE7XG5nb29nLmpzb24uVFJZX05BVElWRV9KU09OID0gITA7XG5nb29nLmpzb24uaXNWYWxpZCA9IGZ1bmN0aW9uKHMpIHtcbiAgcmV0dXJuIC9eXFxzKiQvLnRlc3QocykgPyAhMSA6IC9eW1xcXSw6e31cXHNcXHUyMDI4XFx1MjAyOV0qJC8udGVzdChzLnJlcGxhY2UoL1xcXFxbXCJcXFxcXFwvYmZucnR1XS9nLCBcIkBcIikucmVwbGFjZSgvKD86XCJbXlwiXFxcXFxcblxcclxcdTIwMjhcXHUyMDI5XFx4MDAtXFx4MDhcXHgwYS1cXHgxZl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/KVtcXHNcXHUyMDI4XFx1MjAyOV0qKD89OnwsfF18fXwkKS9nLCBcIl1cIikucmVwbGFjZSgvKD86Xnw6fCwpKD86W1xcc1xcdTIwMjhcXHUyMDI5XSpcXFspKy9nLCBcIlwiKSk7XG59O1xuZ29vZy5qc29uLmVycm9yTG9nZ2VyXyA9IGdvb2cubnVsbEZ1bmN0aW9uO1xuZ29vZy5qc29uLnNldEVycm9yTG9nZ2VyID0gZnVuY3Rpb24oZXJyb3JMb2dnZXIpIHtcbiAgZ29vZy5qc29uLmVycm9yTG9nZ2VyXyA9IGVycm9yTG9nZ2VyO1xufTtcbmdvb2cuanNvbi5wYXJzZSA9IGdvb2cuanNvbi5VU0VfTkFUSVZFX0pTT04gPyBnb29nLmdsb2JhbC5KU09OLnBhcnNlIDogZnVuY3Rpb24ocykge1xuICBpZiAoZ29vZy5qc29uLlRSWV9OQVRJVkVfSlNPTikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZ29vZy5nbG9iYWwuSlNPTi5wYXJzZShzKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgdmFyIGVycm9yID0gZXg7XG4gICAgfVxuICB9XG4gIHZhciBvID0gU3RyaW5nKHMpO1xuICBpZiAoZ29vZy5qc29uLmlzVmFsaWQobykpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHJlc3VsdCA9IGV2YWwoXCIoXCIgKyBvICsgXCIpXCIpO1xuICAgICAgZXJyb3IgJiYgZ29vZy5qc29uLmVycm9yTG9nZ2VyXyhcIkludmFsaWQgSlNPTjogXCIgKyBvLCBlcnJvcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGV4JDU2KSB7XG4gICAgfVxuICB9XG4gIHRocm93IEVycm9yKFwiSW52YWxpZCBKU09OIHN0cmluZzogXCIgKyBvKTtcbn07XG5nb29nLmpzb24uc2VyaWFsaXplID0gZ29vZy5qc29uLlVTRV9OQVRJVkVfSlNPTiA/IGdvb2cuZ2xvYmFsLkpTT04uc3RyaW5naWZ5IDogZnVuY3Rpb24ob2JqZWN0LCBvcHRfcmVwbGFjZXIpIHtcbiAgcmV0dXJuIChuZXcgZ29vZy5qc29uLlNlcmlhbGl6ZXIob3B0X3JlcGxhY2VyKSkuc2VyaWFsaXplKG9iamVjdCk7XG59O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIgPSBmdW5jdGlvbihvcHRfcmVwbGFjZXIpIHtcbiAgdGhpcy5yZXBsYWNlcl8gPSBvcHRfcmVwbGFjZXI7XG59O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICB2YXIgc2IgPSBbXTtcbiAgdGhpcy5zZXJpYWxpemVJbnRlcm5hbChvYmplY3QsIHNiKTtcbiAgcmV0dXJuIHNiLmpvaW4oXCJcIik7XG59O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZUludGVybmFsID0gZnVuY3Rpb24ob2JqZWN0LCBzYikge1xuICBpZiAobnVsbCA9PSBvYmplY3QpIHtcbiAgICBzYi5wdXNoKFwibnVsbFwiKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2Ygb2JqZWN0KSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplQXJyYXkob2JqZWN0LCBzYik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBTdHJpbmcgfHwgb2JqZWN0IGluc3RhbmNlb2YgTnVtYmVyIHx8IG9iamVjdCBpbnN0YW5jZW9mIEJvb2xlYW4pIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0LnZhbHVlT2YoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplT2JqZWN0XyhvYmplY3QsIHNiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2godHlwZW9mIG9iamVjdCkge1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICB0aGlzLnNlcmlhbGl6ZVN0cmluZ18ob2JqZWN0LCBzYik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICB0aGlzLnNlcmlhbGl6ZU51bWJlcl8ob2JqZWN0LCBzYik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgc2IucHVzaChTdHJpbmcob2JqZWN0KSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHNiLnB1c2goXCJudWxsXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIiArIHR5cGVvZiBvYmplY3QpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuanNvbi5TZXJpYWxpemVyLmNoYXJUb0pzb25DaGFyQ2FjaGVfID0geydcIic6J1xcXFxcIicsIFwiXFxcXFwiOlwiXFxcXFxcXFxcIiwgXCIvXCI6XCJcXFxcL1wiLCBcIlxcYlwiOlwiXFxcXGJcIiwgXCJcXGZcIjpcIlxcXFxmXCIsIFwiXFxuXCI6XCJcXFxcblwiLCBcIlxcclwiOlwiXFxcXHJcIiwgXCJcXHRcIjpcIlxcXFx0XCIsIFwiXFx4MEJcIjpcIlxcXFx1MDAwYlwifTtcbmdvb2cuanNvbi5TZXJpYWxpemVyLmNoYXJzVG9SZXBsYWNlXyA9IC9cXHVmZmZmLy50ZXN0KFwiXFx1ZmZmZlwiKSA/IC9bXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHVmZmZmXS9nIDogL1tcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxceGZmXS9nO1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZVN0cmluZ18gPSBmdW5jdGlvbihzLCBzYikge1xuICBzYi5wdXNoKCdcIicsIHMucmVwbGFjZShnb29nLmpzb24uU2VyaWFsaXplci5jaGFyc1RvUmVwbGFjZV8sIGZ1bmN0aW9uKGMpIHtcbiAgICB2YXIgcnYgPSBnb29nLmpzb24uU2VyaWFsaXplci5jaGFyVG9Kc29uQ2hhckNhY2hlX1tjXTtcbiAgICBydiB8fCAocnYgPSBcIlxcXFx1XCIgKyAoYy5jaGFyQ29kZUF0KDApIHwgNjU1MzYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSksIGdvb2cuanNvbi5TZXJpYWxpemVyLmNoYXJUb0pzb25DaGFyQ2FjaGVfW2NdID0gcnYpO1xuICAgIHJldHVybiBydjtcbiAgfSksICdcIicpO1xufTtcbmdvb2cuanNvbi5TZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVOdW1iZXJfID0gZnVuY3Rpb24obiwgc2IpIHtcbiAgc2IucHVzaChpc0Zpbml0ZShuKSAmJiAhaXNOYU4obikgPyBTdHJpbmcobikgOiBcIm51bGxcIik7XG59O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZUFycmF5ID0gZnVuY3Rpb24oYXJyLCBzYikge1xuICB2YXIgbCA9IGFyci5sZW5ndGg7XG4gIHNiLnB1c2goXCJbXCIpO1xuICBmb3IgKHZhciBzZXAgPSBcIlwiLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIHNiLnB1c2goc2VwKTtcbiAgICB2YXIgdmFsdWUgPSBhcnJbaV07XG4gICAgdGhpcy5zZXJpYWxpemVJbnRlcm5hbCh0aGlzLnJlcGxhY2VyXyA/IHRoaXMucmVwbGFjZXJfLmNhbGwoYXJyLCBTdHJpbmcoaSksIHZhbHVlKSA6IHZhbHVlLCBzYik7XG4gICAgc2VwID0gXCIsXCI7XG4gIH1cbiAgc2IucHVzaChcIl1cIik7XG59O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZU9iamVjdF8gPSBmdW5jdGlvbihvYmosIHNiKSB7XG4gIHNiLnB1c2goXCJ7XCIpO1xuICB2YXIgc2VwID0gXCJcIiwga2V5O1xuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gICAgICBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIHZhbHVlICYmIChzYi5wdXNoKHNlcCksIHRoaXMuc2VyaWFsaXplU3RyaW5nXyhrZXksIHNiKSwgc2IucHVzaChcIjpcIiksIHRoaXMuc2VyaWFsaXplSW50ZXJuYWwodGhpcy5yZXBsYWNlcl8gPyB0aGlzLnJlcGxhY2VyXy5jYWxsKG9iaiwga2V5LCB2YWx1ZSkgOiB2YWx1ZSwgc2IpLCBzZXAgPSBcIixcIik7XG4gICAgfVxuICB9XG4gIHNiLnB1c2goXCJ9XCIpO1xufTtcbmdvb2cuanNvbi5oeWJyaWQgPSB7fTtcbmdvb2cuanNvbi5oeWJyaWQuc3RyaW5naWZ5ID0gZ29vZy5qc29uLlVTRV9OQVRJVkVfSlNPTiA/IGdvb2cuZ2xvYmFsLkpTT04uc3RyaW5naWZ5IDogZnVuY3Rpb24ob2JqKSB7XG4gIGlmIChnb29nLmdsb2JhbC5KU09OKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBnb29nLmdsb2JhbC5KU09OLnN0cmluZ2lmeShvYmopO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdvb2cuanNvbi5zZXJpYWxpemUob2JqKTtcbn07XG5nb29nLmpzb24uaHlicmlkLnBhcnNlXyA9IGZ1bmN0aW9uKGpzb25TdHJpbmcsIGZhbGxiYWNrUGFyc2VyKSB7XG4gIGlmIChnb29nLmdsb2JhbC5KU09OKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBvYmogPSBnb29nLmdsb2JhbC5KU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICAgICAgZ29vZy5hc3NlcnRzLmFzc2VydChcIm9iamVjdFwiID09IHR5cGVvZiBvYmopO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxsYmFja1BhcnNlcihqc29uU3RyaW5nKTtcbn07XG5nb29nLmpzb24uaHlicmlkLnBhcnNlID0gZ29vZy5qc29uLlVTRV9OQVRJVkVfSlNPTiA/IGdvb2cuZ2xvYmFsLkpTT04ucGFyc2UgOiBmdW5jdGlvbihqc29uU3RyaW5nKSB7XG4gIHJldHVybiBnb29nLmpzb24uaHlicmlkLnBhcnNlXyhqc29uU3RyaW5nLCBnb29nLmpzb24ucGFyc2UpO1xufTtcbmdvb2cubG9nID0ge307XG5nb29nLmxvZy5FTkFCTEVEID0gZ29vZy5kZWJ1Zy5MT0dHSU5HX0VOQUJMRUQ7XG5nb29nLmxvZy5ST09UX0xPR0dFUl9OQU1FID0gXCJcIjtcbnZhciB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubmFtZTtcbn07XG5nb29nLmxvZy5MZXZlbCA9IHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIwO1xuZ29vZy5sb2cuTGV2ZWwuT0ZGID0gbmV3IGdvb2cubG9nLkxldmVsKFwiT0ZGXCIsIEluZmluaXR5KTtcbmdvb2cubG9nLkxldmVsLlNIT1VUID0gbmV3IGdvb2cubG9nLkxldmVsKFwiU0hPVVRcIiwgMTIwMCk7XG5nb29nLmxvZy5MZXZlbC5TRVZFUkUgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJTRVZFUkVcIiwgMTAwMCk7XG5nb29nLmxvZy5MZXZlbC5XQVJOSU5HID0gbmV3IGdvb2cubG9nLkxldmVsKFwiV0FSTklOR1wiLCA5MDApO1xuZ29vZy5sb2cuTGV2ZWwuSU5GTyA9IG5ldyBnb29nLmxvZy5MZXZlbChcIklORk9cIiwgODAwKTtcbmdvb2cubG9nLkxldmVsLkNPTkZJRyA9IG5ldyBnb29nLmxvZy5MZXZlbChcIkNPTkZJR1wiLCA3MDApO1xuZ29vZy5sb2cuTGV2ZWwuRklORSA9IG5ldyBnb29nLmxvZy5MZXZlbChcIkZJTkVcIiwgNTAwKTtcbmdvb2cubG9nLkxldmVsLkZJTkVSID0gbmV3IGdvb2cubG9nLkxldmVsKFwiRklORVJcIiwgNDAwKTtcbmdvb2cubG9nLkxldmVsLkZJTkVTVCA9IG5ldyBnb29nLmxvZy5MZXZlbChcIkZJTkVTVFwiLCAzMDApO1xuZ29vZy5sb2cuTGV2ZWwuQUxMID0gbmV3IGdvb2cubG9nLkxldmVsKFwiQUxMXCIsIDApO1xuZ29vZy5sb2cuTGV2ZWwuUFJFREVGSU5FRF9MRVZFTFMgPSBbZ29vZy5sb2cuTGV2ZWwuT0ZGLCBnb29nLmxvZy5MZXZlbC5TSE9VVCwgZ29vZy5sb2cuTGV2ZWwuU0VWRVJFLCBnb29nLmxvZy5MZXZlbC5XQVJOSU5HLCBnb29nLmxvZy5MZXZlbC5JTkZPLCBnb29nLmxvZy5MZXZlbC5DT05GSUcsIGdvb2cubG9nLkxldmVsLkZJTkUsIGdvb2cubG9nLkxldmVsLkZJTkVSLCBnb29nLmxvZy5MZXZlbC5GSU5FU1QsIGdvb2cubG9nLkxldmVsLkFMTF07XG5nb29nLmxvZy5MZXZlbC5wcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfID0gbnVsbDtcbmdvb2cubG9nLkxldmVsLmNyZWF0ZVByZWRlZmluZWRMZXZlbHNDYWNoZV8gPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5sb2cuTGV2ZWwucHJlZGVmaW5lZExldmVsc0NhY2hlXyA9IHt9O1xuICBmb3IgKHZhciBpID0gMCwgbGV2ZWwgPSB2b2lkIDA7IGxldmVsID0gZ29vZy5sb2cuTGV2ZWwuUFJFREVGSU5FRF9MRVZFTFNbaV07IGkrKykge1xuICAgIGdvb2cubG9nLkxldmVsLnByZWRlZmluZWRMZXZlbHNDYWNoZV9bbGV2ZWwudmFsdWVdID0gbGV2ZWwsIGdvb2cubG9nLkxldmVsLnByZWRlZmluZWRMZXZlbHNDYWNoZV9bbGV2ZWwubmFtZV0gPSBsZXZlbDtcbiAgfVxufTtcbmdvb2cubG9nLkxldmVsLmdldFByZWRlZmluZWRMZXZlbCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgZ29vZy5sb2cuTGV2ZWwucHJlZGVmaW5lZExldmVsc0NhY2hlXyB8fCBnb29nLmxvZy5MZXZlbC5jcmVhdGVQcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfKCk7XG4gIHJldHVybiBnb29nLmxvZy5MZXZlbC5wcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfW25hbWVdIHx8IG51bGw7XG59O1xuZ29vZy5sb2cuTGV2ZWwuZ2V0UHJlZGVmaW5lZExldmVsQnlWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGdvb2cubG9nLkxldmVsLnByZWRlZmluZWRMZXZlbHNDYWNoZV8gfHwgZ29vZy5sb2cuTGV2ZWwuY3JlYXRlUHJlZGVmaW5lZExldmVsc0NhY2hlXygpO1xuICBpZiAodmFsdWUgaW4gZ29vZy5sb2cuTGV2ZWwucHJlZGVmaW5lZExldmVsc0NhY2hlXykge1xuICAgIHJldHVybiBnb29nLmxvZy5MZXZlbC5wcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfW3ZhbHVlXTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGdvb2cubG9nLkxldmVsLlBSRURFRklORURfTEVWRUxTLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGxldmVsID0gZ29vZy5sb2cuTGV2ZWwuUFJFREVGSU5FRF9MRVZFTFNbaV07XG4gICAgaWYgKGxldmVsLnZhbHVlIDw9IHZhbHVlKSB7XG4gICAgICByZXR1cm4gbGV2ZWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTtcbnZhciB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMSA9IGZ1bmN0aW9uKCkge1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIxLnByb3RvdHlwZS5nZXROYW1lID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5sb2cuTG9nZ2VyID0gdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjE7XG5nb29nLmxvZy5Mb2dnZXIuTGV2ZWwgPSBnb29nLmxvZy5MZXZlbDtcbnZhciB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMiA9IGZ1bmN0aW9uKGNhcGFjaXR5KSB7XG4gIHRoaXMuY2FwYWNpdHlfID0gXCJudW1iZXJcIiA9PT0gdHlwZW9mIGNhcGFjaXR5ID8gY2FwYWNpdHkgOiBnb29nLmxvZy5Mb2dCdWZmZXIuQ0FQQUNJVFk7XG4gIHRoaXMuY2xlYXIoKTtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMi5wcm90b3R5cGUuYWRkUmVjb3JkID0gZnVuY3Rpb24obGV2ZWwsIG1zZywgbG9nZ2VyTmFtZSkge1xuICBpZiAoIXRoaXMuaXNCdWZmZXJpbmdFbmFibGVkKCkpIHtcbiAgICByZXR1cm4gbmV3IGdvb2cubG9nLkxvZ1JlY29yZChsZXZlbCwgbXNnLCBsb2dnZXJOYW1lKTtcbiAgfVxuICB2YXIgY3VySW5kZXggPSAodGhpcy5jdXJJbmRleF8gKyAxKSAlIHRoaXMuY2FwYWNpdHlfO1xuICB0aGlzLmN1ckluZGV4XyA9IGN1ckluZGV4O1xuICBpZiAodGhpcy5pc0Z1bGxfKSB7XG4gICAgdmFyIHJldCA9IHRoaXMuYnVmZmVyX1tjdXJJbmRleF07XG4gICAgcmV0LnJlc2V0KGxldmVsLCBtc2csIGxvZ2dlck5hbWUpO1xuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgdGhpcy5pc0Z1bGxfID0gY3VySW5kZXggPT0gdGhpcy5jYXBhY2l0eV8gLSAxO1xuICByZXR1cm4gdGhpcy5idWZmZXJfW2N1ckluZGV4XSA9IG5ldyBnb29nLmxvZy5Mb2dSZWNvcmQobGV2ZWwsIG1zZywgbG9nZ2VyTmFtZSk7XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjIucHJvdG90eXBlLmZvckVhY2hSZWNvcmQgPSBmdW5jdGlvbihmdW5jKSB7XG4gIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcl87XG4gIGlmIChidWZmZXJbMF0pIHtcbiAgICB2YXIgY3VySW5kZXggPSB0aGlzLmN1ckluZGV4XywgaSA9IHRoaXMuaXNGdWxsXyA/IGN1ckluZGV4IDogLTE7XG4gICAgZG8ge1xuICAgICAgaSA9IChpICsgMSkgJSB0aGlzLmNhcGFjaXR5XywgZnVuYyhidWZmZXJbaV0pO1xuICAgIH0gd2hpbGUgKGkgIT09IGN1ckluZGV4KTtcbiAgfVxufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIyLnByb3RvdHlwZS5pc0J1ZmZlcmluZ0VuYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDAgPCB0aGlzLmNhcGFjaXR5Xztcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMi5wcm90b3R5cGUuaXNGdWxsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmlzRnVsbF87XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuYnVmZmVyXyA9IEFycmF5KHRoaXMuY2FwYWNpdHlfKTtcbiAgdGhpcy5jdXJJbmRleF8gPSAtMTtcbiAgdGhpcy5pc0Z1bGxfID0gITE7XG59O1xuZ29vZy5sb2cuTG9nQnVmZmVyID0gdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjI7XG5nb29nLmxvZy5Mb2dCdWZmZXIuQ0FQQUNJVFkgPSAwO1xuZ29vZy5sb2cuTG9nQnVmZmVyLmdldEluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cubG9nLkxvZ0J1ZmZlci5pbnN0YW5jZV8gfHwgKGdvb2cubG9nLkxvZ0J1ZmZlci5pbnN0YW5jZV8gPSBuZXcgZ29vZy5sb2cuTG9nQnVmZmVyKGdvb2cubG9nLkxvZ0J1ZmZlci5DQVBBQ0lUWSkpO1xuICByZXR1cm4gZ29vZy5sb2cuTG9nQnVmZmVyLmluc3RhbmNlXztcbn07XG5nb29nLmxvZy5Mb2dCdWZmZXIuaXNCdWZmZXJpbmdFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmxvZy5Mb2dCdWZmZXIuZ2V0SW5zdGFuY2UoKS5pc0J1ZmZlcmluZ0VuYWJsZWQoKTtcbn07XG52YXIgdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMgPSBmdW5jdGlvbihsZXZlbCwgbXNnLCBsb2dnZXJOYW1lLCB0aW1lLCBzZXF1ZW5jZU51bWJlcikge1xuICB0aGlzLmV4Y2VwdGlvbl8gPSB2b2lkIDA7XG4gIHRoaXMucmVzZXQobGV2ZWwgfHwgZ29vZy5sb2cuTGV2ZWwuT0ZGLCBtc2csIGxvZ2dlck5hbWUsIHRpbWUsIHNlcXVlbmNlTnVtYmVyKTtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbihsZXZlbCwgbXNnLCBsb2dnZXJOYW1lLCB0aW1lLCBzZXF1ZW5jZU51bWJlcikge1xuICB0aGlzLnRpbWVfID0gdGltZSB8fCBnb29nLm5vdygpO1xuICB0aGlzLmxldmVsXyA9IGxldmVsO1xuICB0aGlzLm1zZ18gPSBtc2c7XG4gIHRoaXMubG9nZ2VyTmFtZV8gPSBsb2dnZXJOYW1lO1xuICB0aGlzLmV4Y2VwdGlvbl8gPSB2b2lkIDA7XG4gIHRoaXMuc2VxdWVuY2VOdW1iZXJfID0gXCJudW1iZXJcIiA9PT0gdHlwZW9mIHNlcXVlbmNlTnVtYmVyID8gc2VxdWVuY2VOdW1iZXIgOiBnb29nLmxvZy5Mb2dSZWNvcmQubmV4dFNlcXVlbmNlTnVtYmVyXztcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuZ2V0TG9nZ2VyTmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5sb2dnZXJOYW1lXztcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuc2V0TG9nZ2VyTmFtZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdGhpcy5sb2dnZXJOYW1lXyA9IG5hbWU7XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLmdldEV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5leGNlcHRpb25fO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5zZXRFeGNlcHRpb24gPSBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgdGhpcy5leGNlcHRpb25fID0gZXhjZXB0aW9uO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5nZXRMZXZlbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5sZXZlbF87XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLnNldExldmVsID0gZnVuY3Rpb24obGV2ZWwpIHtcbiAgdGhpcy5sZXZlbF8gPSBsZXZlbDtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuZ2V0TWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5tc2dfO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5zZXRNZXNzYWdlID0gZnVuY3Rpb24obXNnKSB7XG4gIHRoaXMubXNnXyA9IG1zZztcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuZ2V0TWlsbGlzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRpbWVfO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5zZXRNaWxsaXMgPSBmdW5jdGlvbih0aW1lKSB7XG4gIHRoaXMudGltZV8gPSB0aW1lO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5nZXRTZXF1ZW5jZU51bWJlciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zZXF1ZW5jZU51bWJlcl87XG59O1xuZ29vZy5sb2cuTG9nUmVjb3JkID0gdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjM7XG5nb29nLmxvZy5Mb2dSZWNvcmQubmV4dFNlcXVlbmNlTnVtYmVyXyA9IDA7XG52YXIgdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjQgPSBmdW5jdGlvbihuYW1lLCBwYXJlbnQpIHtcbiAgdGhpcy5sZXZlbCA9IG51bGw7XG4gIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgdGhpcy5wYXJlbnQgPSAodm9pZCAwID09PSBwYXJlbnQgPyBudWxsIDogcGFyZW50KSB8fCBudWxsO1xuICB0aGlzLmNoaWxkcmVuID0gW107XG4gIHRoaXMubG9nZ2VyID0ge2dldE5hbWU6ZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH19O1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXI0LnByb3RvdHlwZS5nZXRFZmZlY3RpdmVMZXZlbCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5sZXZlbCkge1xuICAgIHJldHVybiB0aGlzLmxldmVsO1xuICB9XG4gIGlmICh0aGlzLnBhcmVudCkge1xuICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXRFZmZlY3RpdmVMZXZlbCgpO1xuICB9XG4gIGdvb2cuYXNzZXJ0cy5mYWlsKFwiUm9vdCBsb2dnZXIgaGFzIG5vIGxldmVsIHNldC5cIik7XG4gIHJldHVybiBnb29nLmxvZy5MZXZlbC5PRkY7XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjQucHJvdG90eXBlLnB1Ymxpc2ggPSBmdW5jdGlvbihsb2dSZWNvcmQpIHtcbiAgZm9yICh2YXIgdGFyZ2V0ID0gdGhpczsgdGFyZ2V0Oykge1xuICAgIHRhcmdldC5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXIobG9nUmVjb3JkKTtcbiAgICB9KSwgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudDtcbiAgfVxufTtcbmdvb2cubG9nLkxvZ1JlZ2lzdHJ5RW50cnlfID0gdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjQ7XG52YXIgdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbnRyaWVzID0ge307XG4gIHZhciByb290TG9nUmVnaXN0cnlFbnRyeSA9IG5ldyBnb29nLmxvZy5Mb2dSZWdpc3RyeUVudHJ5Xyhnb29nLmxvZy5ST09UX0xPR0dFUl9OQU1FKTtcbiAgcm9vdExvZ1JlZ2lzdHJ5RW50cnkubGV2ZWwgPSBnb29nLmxvZy5MZXZlbC5DT05GSUc7XG4gIHRoaXMuZW50cmllc1tnb29nLmxvZy5ST09UX0xPR0dFUl9OQU1FXSA9IHJvb3RMb2dSZWdpc3RyeUVudHJ5O1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXI1LnByb3RvdHlwZS5nZXRMb2dSZWdpc3RyeUVudHJ5ID0gZnVuY3Rpb24obmFtZSwgbGV2ZWwpIHtcbiAgdmFyIGVudHJ5ID0gdGhpcy5lbnRyaWVzW25hbWVdO1xuICBpZiAoZW50cnkpIHtcbiAgICByZXR1cm4gdm9pZCAwICE9PSBsZXZlbCAmJiAoZW50cnkubGV2ZWwgPSBsZXZlbCksIGVudHJ5O1xuICB9XG4gIHZhciBsYXN0RG90SW5kZXggPSBuYW1lLmxhc3RJbmRleE9mKFwiLlwiKSwgcGFyZW50TG9nUmVnaXN0cnlFbnRyeSA9IHRoaXMuZ2V0TG9nUmVnaXN0cnlFbnRyeShuYW1lLnN1YnN0cigwLCBsYXN0RG90SW5kZXgpKSwgbG9nUmVnaXN0cnlFbnRyeSA9IG5ldyBnb29nLmxvZy5Mb2dSZWdpc3RyeUVudHJ5XyhuYW1lLCBwYXJlbnRMb2dSZWdpc3RyeUVudHJ5KTtcbiAgdGhpcy5lbnRyaWVzW25hbWVdID0gbG9nUmVnaXN0cnlFbnRyeTtcbiAgcGFyZW50TG9nUmVnaXN0cnlFbnRyeS5jaGlsZHJlbi5wdXNoKGxvZ1JlZ2lzdHJ5RW50cnkpO1xuICB2b2lkIDAgIT09IGxldmVsICYmIChsb2dSZWdpc3RyeUVudHJ5LmxldmVsID0gbGV2ZWwpO1xuICByZXR1cm4gbG9nUmVnaXN0cnlFbnRyeTtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyNS5wcm90b3R5cGUuZ2V0QWxsTG9nZ2VycyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcztcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZW50cmllcykubWFwKGZ1bmN0aW9uKGxvZ2dlck5hbWUpIHtcbiAgICByZXR1cm4gJGpzY29tcCR0aGlzLmVudHJpZXNbbG9nZ2VyTmFtZV0ubG9nZ2VyO1xuICB9KTtcbn07XG5nb29nLmxvZy5Mb2dSZWdpc3RyeV8gPSB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyNTtcbmdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmxvZy5Mb2dSZWdpc3RyeV8uaW5zdGFuY2VfIHx8IChnb29nLmxvZy5Mb2dSZWdpc3RyeV8uaW5zdGFuY2VfID0gbmV3IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5XygpKTtcbiAgcmV0dXJuIGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5pbnN0YW5jZV87XG59O1xuZ29vZy5sb2cuZ2V0TG9nZ2VyID0gZnVuY3Rpb24obmFtZSwgbGV2ZWwpIHtcbiAgcmV0dXJuIGdvb2cubG9nLkVOQUJMRUQgPyBnb29nLmxvZy5Mb2dSZWdpc3RyeV8uZ2V0SW5zdGFuY2UoKS5nZXRMb2dSZWdpc3RyeUVudHJ5KG5hbWUsIGxldmVsKS5sb2dnZXIgOiBudWxsO1xufTtcbmdvb2cubG9nLmdldFJvb3RMb2dnZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cubG9nLkVOQUJMRUQgPyBnb29nLmxvZy5Mb2dSZWdpc3RyeV8uZ2V0SW5zdGFuY2UoKS5nZXRMb2dSZWdpc3RyeUVudHJ5KGdvb2cubG9nLlJPT1RfTE9HR0VSX05BTUUpLmxvZ2dlciA6IG51bGw7XG59O1xuZ29vZy5sb2cuYWRkSGFuZGxlciA9IGZ1bmN0aW9uKGxvZ2dlciwgaGFuZGxlcikge1xuICBnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlciAmJiBnb29nLmxvZy5Mb2dSZWdpc3RyeV8uZ2V0SW5zdGFuY2UoKS5nZXRMb2dSZWdpc3RyeUVudHJ5KGxvZ2dlci5nZXROYW1lKCkpLmhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG59O1xuZ29vZy5sb2cucmVtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKGxvZ2dlciwgaGFuZGxlcikge1xuICBpZiAoZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIpIHtcbiAgICB2YXIgbG9nZ2VyRW50cnkgPSBnb29nLmxvZy5Mb2dSZWdpc3RyeV8uZ2V0SW5zdGFuY2UoKS5nZXRMb2dSZWdpc3RyeUVudHJ5KGxvZ2dlci5nZXROYW1lKCkpLCBpbmRleE9mSGFuZGxlciA9IGxvZ2dlckVudHJ5LmhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKC0xICE9PSBpbmRleE9mSGFuZGxlcikge1xuICAgICAgcmV0dXJuIGxvZ2dlckVudHJ5LmhhbmRsZXJzLnNwbGljZShpbmRleE9mSGFuZGxlciwgMSksICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5sb2cuc2V0TGV2ZWwgPSBmdW5jdGlvbihsb2dnZXIsIGxldmVsKSB7XG4gIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyICYmIChnb29nLmxvZy5Mb2dSZWdpc3RyeV8uZ2V0SW5zdGFuY2UoKS5nZXRMb2dSZWdpc3RyeUVudHJ5KGxvZ2dlci5nZXROYW1lKCkpLmxldmVsID0gbGV2ZWwpO1xufTtcbmdvb2cubG9nLmdldExldmVsID0gZnVuY3Rpb24obG9nZ2VyKSB7XG4gIHJldHVybiBnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlciA/IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobG9nZ2VyLmdldE5hbWUoKSkubGV2ZWwgOiBudWxsO1xufTtcbmdvb2cubG9nLmdldEVmZmVjdGl2ZUxldmVsID0gZnVuY3Rpb24obG9nZ2VyKSB7XG4gIHJldHVybiBnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlciA/IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobG9nZ2VyLmdldE5hbWUoKSkuZ2V0RWZmZWN0aXZlTGV2ZWwoKSA6IGdvb2cubG9nLkxldmVsLk9GRjtcbn07XG5nb29nLmxvZy5pc0xvZ2dhYmxlID0gZnVuY3Rpb24obG9nZ2VyLCBsZXZlbCkge1xuICByZXR1cm4gZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIgJiYgbGV2ZWwgPyBsZXZlbC52YWx1ZSA+PSBnb29nLmxvZy5nZXRFZmZlY3RpdmVMZXZlbChsb2dnZXIpLnZhbHVlIDogITE7XG59O1xuZ29vZy5sb2cuZ2V0QWxsTG9nZ2VycyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5sb2cuRU5BQkxFRCA/IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldEFsbExvZ2dlcnMoKSA6IFtdO1xufTtcbmdvb2cubG9nLmdldExvZ1JlY29yZCA9IGZ1bmN0aW9uKGxvZ2dlciwgbGV2ZWwsIG1zZywgZXhjZXB0aW9uKSB7XG4gIHZhciBsb2dSZWNvcmQgPSBnb29nLmxvZy5Mb2dCdWZmZXIuZ2V0SW5zdGFuY2UoKS5hZGRSZWNvcmQobGV2ZWwgfHwgZ29vZy5sb2cuTGV2ZWwuT0ZGLCBtc2csIGxvZ2dlci5nZXROYW1lKCkpO1xuICBsb2dSZWNvcmQuc2V0RXhjZXB0aW9uKGV4Y2VwdGlvbik7XG4gIHJldHVybiBsb2dSZWNvcmQ7XG59O1xuZ29vZy5sb2cucHVibGlzaExvZ1JlY29yZCA9IGZ1bmN0aW9uKGxvZ2dlciwgbG9nUmVjb3JkKSB7XG4gIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyICYmIGdvb2cubG9nLmlzTG9nZ2FibGUobG9nZ2VyLCBsb2dSZWNvcmQuZ2V0TGV2ZWwoKSkgJiYgZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmdldEluc3RhbmNlKCkuZ2V0TG9nUmVnaXN0cnlFbnRyeShsb2dnZXIuZ2V0TmFtZSgpKS5wdWJsaXNoKGxvZ1JlY29yZCk7XG59O1xuZ29vZy5sb2cubG9nID0gZnVuY3Rpb24obG9nZ2VyLCBsZXZlbCwgbXNnLCBleGNlcHRpb24pIHtcbiAgaWYgKGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyICYmIGdvb2cubG9nLmlzTG9nZ2FibGUobG9nZ2VyLCBsZXZlbCkpIHtcbiAgICBsZXZlbCA9IGxldmVsIHx8IGdvb2cubG9nLkxldmVsLk9GRjtcbiAgICB2YXIgbG9nZ2VyRW50cnkgPSBnb29nLmxvZy5Mb2dSZWdpc3RyeV8uZ2V0SW5zdGFuY2UoKS5nZXRMb2dSZWdpc3RyeUVudHJ5KGxvZ2dlci5nZXROYW1lKCkpO1xuICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1zZyAmJiAobXNnID0gbXNnKCkpO1xuICAgIHZhciBsb2dSZWNvcmQgPSBnb29nLmxvZy5Mb2dCdWZmZXIuZ2V0SW5zdGFuY2UoKS5hZGRSZWNvcmQobGV2ZWwsIG1zZywgbG9nZ2VyLmdldE5hbWUoKSk7XG4gICAgbG9nUmVjb3JkLnNldEV4Y2VwdGlvbihleGNlcHRpb24pO1xuICAgIGxvZ2dlckVudHJ5LnB1Ymxpc2gobG9nUmVjb3JkKTtcbiAgfVxufTtcbmdvb2cubG9nLmVycm9yID0gZnVuY3Rpb24obG9nZ2VyLCBtc2csIGV4Y2VwdGlvbikge1xuICBnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlciAmJiBnb29nLmxvZy5sb2cobG9nZ2VyLCBnb29nLmxvZy5MZXZlbC5TRVZFUkUsIG1zZywgZXhjZXB0aW9uKTtcbn07XG5nb29nLmxvZy53YXJuaW5nID0gZnVuY3Rpb24obG9nZ2VyLCBtc2csIGV4Y2VwdGlvbikge1xuICBnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlciAmJiBnb29nLmxvZy5sb2cobG9nZ2VyLCBnb29nLmxvZy5MZXZlbC5XQVJOSU5HLCBtc2csIGV4Y2VwdGlvbik7XG59O1xuZ29vZy5sb2cuaW5mbyA9IGZ1bmN0aW9uKGxvZ2dlciwgbXNnLCBleGNlcHRpb24pIHtcbiAgZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIgJiYgZ29vZy5sb2cubG9nKGxvZ2dlciwgZ29vZy5sb2cuTGV2ZWwuSU5GTywgbXNnLCBleGNlcHRpb24pO1xufTtcbmdvb2cubG9nLmZpbmUgPSBmdW5jdGlvbihsb2dnZXIsIG1zZywgZXhjZXB0aW9uKSB7XG4gIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyICYmIGdvb2cubG9nLmxvZyhsb2dnZXIsIGdvb2cubG9nLkxldmVsLkZJTkUsIG1zZywgZXhjZXB0aW9uKTtcbn07XG5nb29nLm5ldC5FcnJvckNvZGUgPSB7Tk9fRVJST1I6MCwgQUNDRVNTX0RFTklFRDoxLCBGSUxFX05PVF9GT1VORDoyLCBGRl9TSUxFTlRfRVJST1I6MywgQ1VTVE9NX0VSUk9SOjQsIEVYQ0VQVElPTjo1LCBIVFRQX0VSUk9SOjYsIEFCT1JUOjcsIFRJTUVPVVQ6OCwgT0ZGTElORTo5LH07XG5nb29nLm5ldC5FcnJvckNvZGUuZ2V0RGVidWdNZXNzYWdlID0gZnVuY3Rpb24oZXJyb3JDb2RlKSB7XG4gIHN3aXRjaChlcnJvckNvZGUpIHtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5OT19FUlJPUjpcbiAgICAgIHJldHVybiBcIk5vIEVycm9yXCI7XG4gICAgY2FzZSBnb29nLm5ldC5FcnJvckNvZGUuQUNDRVNTX0RFTklFRDpcbiAgICAgIHJldHVybiBcIkFjY2VzcyBkZW5pZWQgdG8gY29udGVudCBkb2N1bWVudFwiO1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLkZJTEVfTk9UX0ZPVU5EOlxuICAgICAgcmV0dXJuIFwiRmlsZSBub3QgZm91bmRcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5GRl9TSUxFTlRfRVJST1I6XG4gICAgICByZXR1cm4gXCJGaXJlZm94IHNpbGVudGx5IGVycm9yZWRcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5DVVNUT01fRVJST1I6XG4gICAgICByZXR1cm4gXCJBcHBsaWNhdGlvbiBjdXN0b20gZXJyb3JcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5FWENFUFRJT046XG4gICAgICByZXR1cm4gXCJBbiBleGNlcHRpb24gb2NjdXJyZWRcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5IVFRQX0VSUk9SOlxuICAgICAgcmV0dXJuIFwiSHR0cCByZXNwb25zZSBhdCA0MDAgb3IgNTAwIGxldmVsXCI7XG4gICAgY2FzZSBnb29nLm5ldC5FcnJvckNvZGUuQUJPUlQ6XG4gICAgICByZXR1cm4gXCJSZXF1ZXN0IHdhcyBhYm9ydGVkXCI7XG4gICAgY2FzZSBnb29nLm5ldC5FcnJvckNvZGUuVElNRU9VVDpcbiAgICAgIHJldHVybiBcIlJlcXVlc3QgdGltZWQgb3V0XCI7XG4gICAgY2FzZSBnb29nLm5ldC5FcnJvckNvZGUuT0ZGTElORTpcbiAgICAgIHJldHVybiBcIlRoZSByZXNvdXJjZSBpcyBub3QgYXZhaWxhYmxlIG9mZmxpbmVcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiVW5yZWNvZ25pemVkIGVycm9yIGNvZGVcIjtcbiAgfVxufTtcbmdvb2cubmV0LkV2ZW50VHlwZSA9IHtDT01QTEVURTpcImNvbXBsZXRlXCIsIFNVQ0NFU1M6XCJzdWNjZXNzXCIsIEVSUk9SOlwiZXJyb3JcIiwgQUJPUlQ6XCJhYm9ydFwiLCBSRUFEWTpcInJlYWR5XCIsIFJFQURZX1NUQVRFX0NIQU5HRTpcInJlYWR5c3RhdGVjaGFuZ2VcIiwgVElNRU9VVDpcInRpbWVvdXRcIiwgSU5DUkVNRU5UQUxfREFUQTpcImluY3JlbWVudGFsZGF0YVwiLCBQUk9HUkVTUzpcInByb2dyZXNzXCIsIERPV05MT0FEX1BST0dSRVNTOlwiZG93bmxvYWRwcm9ncmVzc1wiLCBVUExPQURfUFJPR1JFU1M6XCJ1cGxvYWRwcm9ncmVzc1wiLH07XG5nb29nLm5ldC5IdHRwU3RhdHVzID0ge0NPTlRJTlVFOjEwMCwgU1dJVENISU5HX1BST1RPQ09MUzoxMDEsIE9LOjIwMCwgQ1JFQVRFRDoyMDEsIEFDQ0VQVEVEOjIwMiwgTk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT046MjAzLCBOT19DT05URU5UOjIwNCwgUkVTRVRfQ09OVEVOVDoyMDUsIFBBUlRJQUxfQ09OVEVOVDoyMDYsIE1VTFRJX1NUQVRVUzoyMDcsIE1VTFRJUExFX0NIT0lDRVM6MzAwLCBNT1ZFRF9QRVJNQU5FTlRMWTozMDEsIEZPVU5EOjMwMiwgU0VFX09USEVSOjMwMywgTk9UX01PRElGSUVEOjMwNCwgVVNFX1BST1hZOjMwNSwgVEVNUE9SQVJZX1JFRElSRUNUOjMwNywgUEVSTUFORU5UX1JFRElSRUNUOjMwOCwgQkFEX1JFUVVFU1Q6NDAwLCBVTkFVVEhPUklaRUQ6NDAxLCBQQVlNRU5UX1JFUVVJUkVEOjQwMiwgRk9SQklEREVOOjQwMywgTk9UX0ZPVU5EOjQwNCwgTUVUSE9EX05PVF9BTExPV0VEOjQwNSwgTk9UX0FDQ0VQVEFCTEU6NDA2LCBQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRDo0MDcsIFxuUkVRVUVTVF9USU1FT1VUOjQwOCwgQ09ORkxJQ1Q6NDA5LCBHT05FOjQxMCwgTEVOR1RIX1JFUVVJUkVEOjQxMSwgUFJFQ09ORElUSU9OX0ZBSUxFRDo0MTIsIFJFUVVFU1RfRU5USVRZX1RPT19MQVJHRTo0MTMsIFJFUVVFU1RfVVJJX1RPT19MT05HOjQxNCwgVU5TVVBQT1JURURfTUVESUFfVFlQRTo0MTUsIFJFUVVFU1RfUkFOR0VfTk9UX1NBVElTRklBQkxFOjQxNiwgRVhQRUNUQVRJT05fRkFJTEVEOjQxNywgVU5QUk9DRVNTQUJMRV9FTlRJVFk6NDIyLCBMT0NLRUQ6NDIzLCBGQUlMRURfREVQRU5ERU5DWTo0MjQsIFBSRUNPTkRJVElPTl9SRVFVSVJFRDo0MjgsIFRPT19NQU5ZX1JFUVVFU1RTOjQyOSwgUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRTo0MzEsIENMSUVOVF9DTE9TRURfUkVRVUVTVDo0OTksIElOVEVSTkFMX1NFUlZFUl9FUlJPUjo1MDAsIE5PVF9JTVBMRU1FTlRFRDo1MDEsIEJBRF9HQVRFV0FZOjUwMiwgU0VSVklDRV9VTkFWQUlMQUJMRTo1MDMsIEdBVEVXQVlfVElNRU9VVDo1MDQsIFxuSFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQ6NTA1LCBJTlNVRkZJQ0lFTlRfU1RPUkFHRTo1MDcsIE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ6NTExLCBRVUlSS19JRV9OT19DT05URU5UOjEyMjMsfTtcbmdvb2cubmV0Lkh0dHBTdGF0dXMuaXNTdWNjZXNzID0gZnVuY3Rpb24oc3RhdHVzKSB7XG4gIHN3aXRjaChzdGF0dXMpIHtcbiAgICBjYXNlIGdvb2cubmV0Lkh0dHBTdGF0dXMuT0s6XG4gICAgY2FzZSBnb29nLm5ldC5IdHRwU3RhdHVzLkNSRUFURUQ6XG4gICAgY2FzZSBnb29nLm5ldC5IdHRwU3RhdHVzLkFDQ0VQVEVEOlxuICAgIGNhc2UgZ29vZy5uZXQuSHR0cFN0YXR1cy5OT19DT05URU5UOlxuICAgIGNhc2UgZ29vZy5uZXQuSHR0cFN0YXR1cy5QQVJUSUFMX0NPTlRFTlQ6XG4gICAgY2FzZSBnb29nLm5ldC5IdHRwU3RhdHVzLk5PVF9NT0RJRklFRDpcbiAgICBjYXNlIGdvb2cubmV0Lkh0dHBTdGF0dXMuUVVJUktfSUVfTk9fQ09OVEVOVDpcbiAgICAgIHJldHVybiAhMDtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICExO1xuICB9XG59O1xuZ29vZy5uZXQuWGhyTGlrZSA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cubmV0Llhockxpa2UucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbihtZXRob2QsIHVybCwgb3B0X2FzeW5jLCBvcHRfdXNlciwgb3B0X3Bhc3N3b3JkKSB7XG59O1xuZ29vZy5uZXQuWGhyTGlrZS5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKG9wdF9kYXRhKSB7XG59O1xuZ29vZy5uZXQuWGhyTGlrZS5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLm5ldC5YaHJMaWtlLnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyID0gZnVuY3Rpb24oaGVhZGVyLCB2YWx1ZSkge1xufTtcbmdvb2cubmV0Llhockxpa2UucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyID0gZnVuY3Rpb24oaGVhZGVyKSB7XG59O1xuZ29vZy5uZXQuWGhyTGlrZS5wcm90b3R5cGUuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5uZXQuWGhyTGlrZS5wcm90b3R5cGUuc2V0VHJ1c3RUb2tlbiA9IGZ1bmN0aW9uKHRydXN0VG9rZW5BdHRyaWJ1dGUpIHtcbn07XG5nb29nLm5ldC5YbWxIdHRwRmFjdG9yeSA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cubmV0LlhtbEh0dHBGYWN0b3J5LnByb3RvdHlwZS5jYWNoZWRPcHRpb25zXyA9IG51bGw7XG5nb29nLm5ldC5YbWxIdHRwRmFjdG9yeS5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5jYWNoZWRPcHRpb25zXyB8fCAodGhpcy5jYWNoZWRPcHRpb25zXyA9IHRoaXMuaW50ZXJuYWxHZXRPcHRpb25zKCkpO1xufTtcbmdvb2cubmV0LldyYXBwZXJYbWxIdHRwRmFjdG9yeSA9IGZ1bmN0aW9uKHhockZhY3RvcnksIG9wdGlvbnNGYWN0b3J5KSB7XG4gIHRoaXMueGhyRmFjdG9yeV8gPSB4aHJGYWN0b3J5O1xuICB0aGlzLm9wdGlvbnNGYWN0b3J5XyA9IG9wdGlvbnNGYWN0b3J5O1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5uZXQuV3JhcHBlclhtbEh0dHBGYWN0b3J5LCBnb29nLm5ldC5YbWxIdHRwRmFjdG9yeSk7XG5nb29nLm5ldC5XcmFwcGVyWG1sSHR0cEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZUluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnhockZhY3RvcnlfKCk7XG59O1xuZ29vZy5uZXQuV3JhcHBlclhtbEh0dHBGYWN0b3J5LnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbnNGYWN0b3J5XygpO1xufTtcbmdvb2cubmV0LlhtbEh0dHAgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cubmV0LlhtbEh0dHAuZmFjdG9yeV8uY3JlYXRlSW5zdGFuY2UoKTtcbn07XG5nb29nLm5ldC5YbWxIdHRwLkFTU1VNRV9OQVRJVkVfWEhSID0gITE7XG5nb29nLm5ldC5YbWxIdHRwRGVmaW5lcyA9IHt9O1xuZ29vZy5uZXQuWG1sSHR0cERlZmluZXMuQVNTVU1FX05BVElWRV9YSFIgPSAhMTtcbmdvb2cubmV0LlhtbEh0dHAuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5uZXQuWG1sSHR0cC5mYWN0b3J5Xy5nZXRPcHRpb25zKCk7XG59O1xuZ29vZy5uZXQuWG1sSHR0cC5PcHRpb25UeXBlID0ge1VTRV9OVUxMX0ZVTkNUSU9OOjAsIExPQ0FMX1JFUVVFU1RfRVJST1I6MSx9O1xuZ29vZy5uZXQuWG1sSHR0cC5SZWFkeVN0YXRlID0ge1VOSU5JVElBTElaRUQ6MCwgTE9BRElORzoxLCBMT0FERUQ6MiwgSU5URVJBQ1RJVkU6MywgQ09NUExFVEU6NCx9O1xuZ29vZy5uZXQuWG1sSHR0cC5zZXRGYWN0b3J5ID0gZnVuY3Rpb24oZmFjdG9yeSwgb3B0aW9uc0ZhY3RvcnkpIHtcbiAgZ29vZy5uZXQuWG1sSHR0cC5zZXRHbG9iYWxGYWN0b3J5KG5ldyBnb29nLm5ldC5XcmFwcGVyWG1sSHR0cEZhY3RvcnkoZ29vZy5hc3NlcnRzLmFzc2VydChmYWN0b3J5KSwgZ29vZy5hc3NlcnRzLmFzc2VydChvcHRpb25zRmFjdG9yeSkpKTtcbn07XG5nb29nLm5ldC5YbWxIdHRwLnNldEdsb2JhbEZhY3RvcnkgPSBmdW5jdGlvbihmYWN0b3J5KSB7XG4gIGdvb2cubmV0LlhtbEh0dHAuZmFjdG9yeV8gPSBmYWN0b3J5O1xufTtcbmdvb2cubmV0LkRlZmF1bHRYbWxIdHRwRmFjdG9yeSA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5uZXQuRGVmYXVsdFhtbEh0dHBGYWN0b3J5LCBnb29nLm5ldC5YbWxIdHRwRmFjdG9yeSk7XG5nb29nLm5ldC5EZWZhdWx0WG1sSHR0cEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZUluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwcm9nSWQgPSB0aGlzLmdldFByb2dJZF8oKTtcbiAgcmV0dXJuIHByb2dJZCA/IG5ldyBBY3RpdmVYT2JqZWN0KHByb2dJZCkgOiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbn07XG5nb29nLm5ldC5EZWZhdWx0WG1sSHR0cEZhY3RvcnkucHJvdG90eXBlLmludGVybmFsR2V0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgb3B0aW9ucyA9IHt9O1xuICB0aGlzLmdldFByb2dJZF8oKSAmJiAob3B0aW9uc1tnb29nLm5ldC5YbWxIdHRwLk9wdGlvblR5cGUuVVNFX05VTExfRlVOQ1RJT05dID0gITAsIG9wdGlvbnNbZ29vZy5uZXQuWG1sSHR0cC5PcHRpb25UeXBlLkxPQ0FMX1JFUVVFU1RfRVJST1JdID0gITApO1xuICByZXR1cm4gb3B0aW9ucztcbn07XG5nb29nLm5ldC5EZWZhdWx0WG1sSHR0cEZhY3RvcnkucHJvdG90eXBlLmdldFByb2dJZF8gPSBmdW5jdGlvbigpIHtcbiAgaWYgKGdvb2cubmV0LlhtbEh0dHAuQVNTVU1FX05BVElWRV9YSFIgfHwgZ29vZy5uZXQuWG1sSHR0cERlZmluZXMuQVNTVU1FX05BVElWRV9YSFIpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBpZiAoIXRoaXMuaWVQcm9nSWRfICYmIFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICYmIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIEFjdGl2ZVhPYmplY3QpIHtcbiAgICBmb3IgKHZhciBBQ1RJVkVfWF9JREVOVFMgPSBbXCJNU1hNTDIuWE1MSFRUUC42LjBcIiwgXCJNU1hNTDIuWE1MSFRUUC4zLjBcIiwgXCJNU1hNTDIuWE1MSFRUUFwiLCBcIk1pY3Jvc29mdC5YTUxIVFRQXCIsXSwgaSA9IDA7IGkgPCBBQ1RJVkVfWF9JREVOVFMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjYW5kaWRhdGUgPSBBQ1RJVkVfWF9JREVOVFNbaV07XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoY2FuZGlkYXRlKSwgdGhpcy5pZVByb2dJZF8gPSBjYW5kaWRhdGU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IEVycm9yKFwiQ291bGQgbm90IGNyZWF0ZSBBY3RpdmVYT2JqZWN0LiBBY3RpdmVYIG1pZ2h0IGJlIGRpc2FibGVkLCBvciBNU1hNTCBtaWdodCBub3QgYmUgaW5zdGFsbGVkXCIpO1xuICB9XG4gIHJldHVybiB0aGlzLmllUHJvZ0lkXztcbn07XG5nb29nLm5ldC5YbWxIdHRwLnNldEdsb2JhbEZhY3RvcnkobmV3IGdvb2cubmV0LkRlZmF1bHRYbWxIdHRwRmFjdG9yeSgpKTtcbmdvb2cubmV0LlhocklvID0gZnVuY3Rpb24ob3B0X3htbEh0dHBGYWN0b3J5KSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gIHRoaXMuaGVhZGVycyA9IG5ldyBNYXAoKTtcbiAgdGhpcy54bWxIdHRwRmFjdG9yeV8gPSBvcHRfeG1sSHR0cEZhY3RvcnkgfHwgbnVsbDtcbiAgdGhpcy5hY3RpdmVfID0gITE7XG4gIHRoaXMueGhyT3B0aW9uc18gPSB0aGlzLnhocl8gPSBudWxsO1xuICB0aGlzLmxhc3RNZXRob2RfID0gdGhpcy5sYXN0VXJpXyA9IFwiXCI7XG4gIHRoaXMubGFzdEVycm9yQ29kZV8gPSBnb29nLm5ldC5FcnJvckNvZGUuTk9fRVJST1I7XG4gIHRoaXMubGFzdEVycm9yXyA9IFwiXCI7XG4gIHRoaXMuaW5BYm9ydF8gPSB0aGlzLmluT3Blbl8gPSB0aGlzLmluU2VuZF8gPSB0aGlzLmVycm9yRGlzcGF0Y2hlZF8gPSAhMTtcbiAgdGhpcy50aW1lb3V0SW50ZXJ2YWxfID0gMDtcbiAgdGhpcy50aW1lb3V0SWRfID0gbnVsbDtcbiAgdGhpcy5yZXNwb25zZVR5cGVfID0gZ29vZy5uZXQuWGhySW8uUmVzcG9uc2VUeXBlLkRFRkFVTFQ7XG4gIHRoaXMudXNlWGhyMlRpbWVvdXRfID0gdGhpcy5wcm9ncmVzc0V2ZW50c0VuYWJsZWRfID0gdGhpcy53aXRoQ3JlZGVudGlhbHNfID0gITE7XG4gIHRoaXMudHJ1c3RUb2tlbl8gPSBudWxsO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5uZXQuWGhySW8sIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KTtcbmdvb2cubmV0LlhocklvLlJlc3BvbnNlVHlwZSA9IHtERUZBVUxUOlwiXCIsIFRFWFQ6XCJ0ZXh0XCIsIERPQ1VNRU5UOlwiZG9jdW1lbnRcIiwgQkxPQjpcImJsb2JcIiwgQVJSQVlfQlVGRkVSOlwiYXJyYXlidWZmZXJcIix9O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmxvZ2dlcl8gPSBnb29nLmxvZy5nZXRMb2dnZXIoXCJnb29nLm5ldC5YaHJJb1wiKTtcbmdvb2cubmV0LlhocklvLkNPTlRFTlRfVFlQRV9IRUFERVIgPSBcIkNvbnRlbnQtVHlwZVwiO1xuZ29vZy5uZXQuWGhySW8uQ09OVEVOVF9UUkFOU0ZFUl9FTkNPRElORyA9IFwiQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZ1wiO1xuZ29vZy5uZXQuWGhySW8uSFRUUF9TQ0hFTUVfUEFUVEVSTiA9IC9eaHR0cHM/JC9pO1xuZ29vZy5uZXQuWGhySW8uTUVUSE9EU19XSVRIX0ZPUk1fREFUQSA9IFtcIlBPU1RcIiwgXCJQVVRcIl07XG5nb29nLm5ldC5YaHJJby5GT1JNX0NPTlRFTlRfVFlQRSA9IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLThcIjtcbmdvb2cubmV0LlhocklvLlhIUjJfVElNRU9VVF8gPSBcInRpbWVvdXRcIjtcbmdvb2cubmV0LlhocklvLlhIUjJfT05fVElNRU9VVF8gPSBcIm9udGltZW91dFwiO1xuZ29vZy5uZXQuWGhySW8uc2VuZEluc3RhbmNlc18gPSBbXTtcbmdvb2cubmV0LlhocklvLnNlbmQgPSBmdW5jdGlvbih1cmwsIG9wdF9jYWxsYmFjaywgb3B0X21ldGhvZCwgb3B0X2NvbnRlbnQsIG9wdF9oZWFkZXJzLCBvcHRfdGltZW91dEludGVydmFsLCBvcHRfd2l0aENyZWRlbnRpYWxzKSB7XG4gIHZhciB4ID0gbmV3IGdvb2cubmV0LlhocklvKCk7XG4gIGdvb2cubmV0LlhocklvLnNlbmRJbnN0YW5jZXNfLnB1c2goeCk7XG4gIG9wdF9jYWxsYmFjayAmJiB4Lmxpc3Rlbihnb29nLm5ldC5FdmVudFR5cGUuQ09NUExFVEUsIG9wdF9jYWxsYmFjayk7XG4gIHgubGlzdGVuT25jZShnb29nLm5ldC5FdmVudFR5cGUuUkVBRFksIHguY2xlYW51cFNlbmRfKTtcbiAgb3B0X3RpbWVvdXRJbnRlcnZhbCAmJiB4LnNldFRpbWVvdXRJbnRlcnZhbChvcHRfdGltZW91dEludGVydmFsKTtcbiAgb3B0X3dpdGhDcmVkZW50aWFscyAmJiB4LnNldFdpdGhDcmVkZW50aWFscyhvcHRfd2l0aENyZWRlbnRpYWxzKTtcbiAgeC5zZW5kKHVybCwgb3B0X21ldGhvZCwgb3B0X2NvbnRlbnQsIG9wdF9oZWFkZXJzKTtcbiAgcmV0dXJuIHg7XG59O1xuZ29vZy5uZXQuWGhySW8uY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBpbnN0YW5jZXMgPSBnb29nLm5ldC5YaHJJby5zZW5kSW5zdGFuY2VzXzsgaW5zdGFuY2VzLmxlbmd0aDspIHtcbiAgICBpbnN0YW5jZXMucG9wKCkuZGlzcG9zZSgpO1xuICB9XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdGVjdEVudHJ5UG9pbnRzID0gZnVuY3Rpb24oZXJyb3JIYW5kbGVyKSB7XG4gIGdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50XyA9IGVycm9ySGFuZGxlci5wcm90ZWN0RW50cnlQb2ludChnb29nLm5ldC5YaHJJby5wcm90b3R5cGUub25SZWFkeVN0YXRlQ2hhbmdlRW50cnlQb2ludF8pO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5jbGVhbnVwU2VuZF8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5kaXNwb3NlKCk7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZShnb29nLm5ldC5YaHJJby5zZW5kSW5zdGFuY2VzXywgdGhpcyk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFRpbWVvdXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50aW1lb3V0SW50ZXJ2YWxfO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5zZXRUaW1lb3V0SW50ZXJ2YWwgPSBmdW5jdGlvbihtcykge1xuICB0aGlzLnRpbWVvdXRJbnRlcnZhbF8gPSBNYXRoLm1heCgwLCBtcyk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLnNldFJlc3BvbnNlVHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdGhpcy5yZXNwb25zZVR5cGVfID0gdHlwZTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UmVzcG9uc2VUeXBlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlc3BvbnNlVHlwZV87XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLnNldFdpdGhDcmVkZW50aWFscyA9IGZ1bmN0aW9uKHdpdGhDcmVkZW50aWFscykge1xuICB0aGlzLndpdGhDcmVkZW50aWFsc18gPSB3aXRoQ3JlZGVudGlhbHM7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFdpdGhDcmVkZW50aWFscyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy53aXRoQ3JlZGVudGlhbHNfO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5zZXRQcm9ncmVzc0V2ZW50c0VuYWJsZWQgPSBmdW5jdGlvbihlbmFibGVkKSB7XG4gIHRoaXMucHJvZ3Jlc3NFdmVudHNFbmFibGVkXyA9IGVuYWJsZWQ7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFByb2dyZXNzRXZlbnRzRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcm9ncmVzc0V2ZW50c0VuYWJsZWRfO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5zZXRUcnVzdFRva2VuID0gZnVuY3Rpb24odHJ1c3RUb2tlbikge1xuICB0aGlzLnRydXN0VG9rZW5fID0gdHJ1c3RUb2tlbjtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKHVybCwgb3B0X21ldGhvZCwgb3B0X2NvbnRlbnQsIG9wdF9oZWFkZXJzKSB7XG4gIGlmICh0aGlzLnhocl8pIHtcbiAgICB0aHJvdyBFcnJvcihcIltnb29nLm5ldC5YaHJJb10gT2JqZWN0IGlzIGFjdGl2ZSB3aXRoIGFub3RoZXIgcmVxdWVzdD1cIiArIHRoaXMubGFzdFVyaV8gKyBcIjsgbmV3VXJpPVwiICsgdXJsKTtcbiAgfVxuICB2YXIgbWV0aG9kID0gb3B0X21ldGhvZCA/IG9wdF9tZXRob2QudG9VcHBlckNhc2UoKSA6IFwiR0VUXCI7XG4gIHRoaXMubGFzdFVyaV8gPSB1cmw7XG4gIHRoaXMubGFzdEVycm9yXyA9IFwiXCI7XG4gIHRoaXMubGFzdEVycm9yQ29kZV8gPSBnb29nLm5ldC5FcnJvckNvZGUuTk9fRVJST1I7XG4gIHRoaXMubGFzdE1ldGhvZF8gPSBtZXRob2Q7XG4gIHRoaXMuZXJyb3JEaXNwYXRjaGVkXyA9ICExO1xuICB0aGlzLmFjdGl2ZV8gPSAhMDtcbiAgdGhpcy54aHJfID0gdGhpcy5jcmVhdGVYaHIoKTtcbiAgdGhpcy54aHJPcHRpb25zXyA9IHRoaXMueG1sSHR0cEZhY3RvcnlfID8gdGhpcy54bWxIdHRwRmFjdG9yeV8uZ2V0T3B0aW9ucygpIDogZ29vZy5uZXQuWG1sSHR0cC5nZXRPcHRpb25zKCk7XG4gIHRoaXMueGhyXy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBnb29nLmJpbmQodGhpcy5vblJlYWR5U3RhdGVDaGFuZ2VfLCB0aGlzKTtcbiAgdGhpcy5nZXRQcm9ncmVzc0V2ZW50c0VuYWJsZWQoKSAmJiBcIm9ucHJvZ3Jlc3NcIiBpbiB0aGlzLnhocl8gJiYgKHRoaXMueGhyXy5vbnByb2dyZXNzID0gZ29vZy5iaW5kKGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLm9uUHJvZ3Jlc3NIYW5kbGVyXyhlLCAhMCk7XG4gIH0sIHRoaXMpLCB0aGlzLnhocl8udXBsb2FkICYmICh0aGlzLnhocl8udXBsb2FkLm9ucHJvZ3Jlc3MgPSBnb29nLmJpbmQodGhpcy5vblByb2dyZXNzSGFuZGxlcl8sIHRoaXMpKSk7XG4gIHRyeSB7XG4gICAgZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIHRoaXMuZm9ybWF0TXNnXyhcIk9wZW5pbmcgWGhyXCIpKSwgdGhpcy5pbk9wZW5fID0gITAsIHRoaXMueGhyXy5vcGVuKG1ldGhvZCwgU3RyaW5nKHVybCksICEwKSwgdGhpcy5pbk9wZW5fID0gITE7XG4gIH0gY2F0Y2ggKGVyciQ1Nykge1xuICAgIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18oXCJFcnJvciBvcGVuaW5nIFhocjogXCIgKyBlcnIkNTcubWVzc2FnZSkpO1xuICAgIHRoaXMuZXJyb3JfKGdvb2cubmV0LkVycm9yQ29kZS5FWENFUFRJT04sIGVyciQ1Nyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBjb250ZW50ID0gb3B0X2NvbnRlbnQgfHwgXCJcIiwgaGVhZGVycyA9IG5ldyBNYXAodGhpcy5oZWFkZXJzKTtcbiAgaWYgKG9wdF9oZWFkZXJzKSB7XG4gICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihvcHRfaGVhZGVycykgPT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvcHRfaGVhZGVycykge1xuICAgICAgICBoZWFkZXJzLnNldChrZXksIG9wdF9oZWFkZXJzW2tleV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0X2hlYWRlcnMua2V5cyAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvcHRfaGVhZGVycy5nZXQpIHtcbiAgICAgICAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDE4ID0gJGpzY29tcC5tYWtlSXRlcmF0b3Iob3B0X2hlYWRlcnMua2V5cygpKSwgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDE4Lm5leHQoKTsgISRqc2NvbXAka2V5JGtleS5kb25lOyAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMTgubmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGtleSQ1OCA9ICRqc2NvbXAka2V5JGtleS52YWx1ZTtcbiAgICAgICAgICBoZWFkZXJzLnNldChrZXkkNTgsIG9wdF9oZWFkZXJzLmdldChrZXkkNTgpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIGlucHV0IHR5cGUgZm9yIG9wdF9oZWFkZXJzOiBcIiArIFN0cmluZyhvcHRfaGVhZGVycykpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2YXIgY29udGVudFR5cGVLZXkgPSBBcnJheS5mcm9tKGhlYWRlcnMua2V5cygpKS5maW5kKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgIHJldHVybiBnb29nLnN0cmluZy5jYXNlSW5zZW5zaXRpdmVFcXVhbHMoZ29vZy5uZXQuWGhySW8uQ09OVEVOVF9UWVBFX0hFQURFUiwgaGVhZGVyKTtcbiAgfSksIGNvbnRlbnRJc0Zvcm1EYXRhID0gZ29vZy5nbG9iYWwuRm9ybURhdGEgJiYgY29udGVudCBpbnN0YW5jZW9mIGdvb2cuZ2xvYmFsLkZvcm1EYXRhO1xuICAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnMoZ29vZy5uZXQuWGhySW8uTUVUSE9EU19XSVRIX0ZPUk1fREFUQSwgbWV0aG9kKSB8fCBjb250ZW50VHlwZUtleSB8fCBjb250ZW50SXNGb3JtRGF0YSB8fCBoZWFkZXJzLnNldChnb29nLm5ldC5YaHJJby5DT05URU5UX1RZUEVfSEVBREVSLCBnb29nLm5ldC5YaHJJby5GT1JNX0NPTlRFTlRfVFlQRSk7XG4gIGZvciAodmFyICRqc2NvbXAkaXRlciQxOSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKGhlYWRlcnMpLCAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMTkubmV4dCgpOyAhJGpzY29tcCRrZXkkLmRvbmU7ICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQxOS5uZXh0KCkpIHtcbiAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE5ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRrZXkkLnZhbHVlKSwga2V5JDU5ID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE5Lm5leHQoKS52YWx1ZSwgdmFsdWUgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTkubmV4dCgpLnZhbHVlO1xuICAgIHRoaXMueGhyXy5zZXRSZXF1ZXN0SGVhZGVyKGtleSQ1OSwgdmFsdWUpO1xuICB9XG4gIHRoaXMucmVzcG9uc2VUeXBlXyAmJiAodGhpcy54aHJfLnJlc3BvbnNlVHlwZSA9IHRoaXMucmVzcG9uc2VUeXBlXyk7XG4gIFwid2l0aENyZWRlbnRpYWxzXCIgaW4gdGhpcy54aHJfICYmIHRoaXMueGhyXy53aXRoQ3JlZGVudGlhbHMgIT09IHRoaXMud2l0aENyZWRlbnRpYWxzXyAmJiAodGhpcy54aHJfLndpdGhDcmVkZW50aWFscyA9IHRoaXMud2l0aENyZWRlbnRpYWxzXyk7XG4gIGlmIChcInNldFRydXN0VG9rZW5cIiBpbiB0aGlzLnhocl8gJiYgdGhpcy50cnVzdFRva2VuXykge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnhocl8uc2V0VHJ1c3RUb2tlbih0aGlzLnRydXN0VG9rZW5fKTtcbiAgICB9IGNhdGNoIChlcnIkNjApIHtcbiAgICAgIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18oXCJFcnJvciBTZXRUcnVzdFRva2VuOiBcIiArIGVyciQ2MC5tZXNzYWdlKSk7XG4gICAgfVxuICB9XG4gIHRyeSB7XG4gICAgdGhpcy5jbGVhblVwVGltZW91dFRpbWVyXygpLCAwIDwgdGhpcy50aW1lb3V0SW50ZXJ2YWxfICYmICh0aGlzLnVzZVhocjJUaW1lb3V0XyA9IGdvb2cubmV0LlhocklvLnNob3VsZFVzZVhocjJUaW1lb3V0Xyh0aGlzLnhocl8pLCBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgdGhpcy5mb3JtYXRNc2dfKFwiV2lsbCBhYm9ydCBhZnRlciBcIiArIHRoaXMudGltZW91dEludGVydmFsXyArIFwibXMgaWYgaW5jb21wbGV0ZSwgeGhyMiBcIiArIHRoaXMudXNlWGhyMlRpbWVvdXRfKSksIHRoaXMudXNlWGhyMlRpbWVvdXRfID8gKHRoaXMueGhyX1tnb29nLm5ldC5YaHJJby5YSFIyX1RJTUVPVVRfXSA9IHRoaXMudGltZW91dEludGVydmFsXywgdGhpcy54aHJfW2dvb2cubmV0LlhocklvLlhIUjJfT05fVElNRU9VVF9dID0gZ29vZy5iaW5kKHRoaXMudGltZW91dF8sIHRoaXMpKSA6IHRoaXMudGltZW91dElkXyA9IGdvb2cuVGltZXIuY2FsbE9uY2UodGhpcy50aW1lb3V0XywgdGhpcy50aW1lb3V0SW50ZXJ2YWxfLCBcbiAgICB0aGlzKSksIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18oXCJTZW5kaW5nIHJlcXVlc3RcIikpLCB0aGlzLmluU2VuZF8gPSAhMCwgdGhpcy54aHJfLnNlbmQoY29udGVudCksIHRoaXMuaW5TZW5kXyA9ICExO1xuICB9IGNhdGNoIChlcnIkNjEpIHtcbiAgICBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgdGhpcy5mb3JtYXRNc2dfKFwiU2VuZCBlcnJvcjogXCIgKyBlcnIkNjEubWVzc2FnZSkpLCB0aGlzLmVycm9yXyhnb29nLm5ldC5FcnJvckNvZGUuRVhDRVBUSU9OLCBlcnIkNjEpO1xuICB9XG59O1xuZ29vZy5uZXQuWGhySW8uc2hvdWxkVXNlWGhyMlRpbWVvdXRfID0gZnVuY3Rpb24oeGhyKSB7XG4gIHJldHVybiBnb29nLnVzZXJBZ2VudC5JRSAmJiBnb29nLnVzZXJBZ2VudC5pc1ZlcnNpb25PckhpZ2hlcig5KSAmJiBcIm51bWJlclwiID09PSB0eXBlb2YgeGhyW2dvb2cubmV0LlhocklvLlhIUjJfVElNRU9VVF9dICYmIHZvaWQgMCAhPT0geGhyW2dvb2cubmV0LlhocklvLlhIUjJfT05fVElNRU9VVF9dO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5jcmVhdGVYaHIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMueG1sSHR0cEZhY3RvcnlfID8gdGhpcy54bWxIdHRwRmFjdG9yeV8uY3JlYXRlSW5zdGFuY2UoKSA6IGdvb2cubmV0LlhtbEh0dHAoKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUudGltZW91dF8gPSBmdW5jdGlvbigpIHtcbiAgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZ29vZyAmJiB0aGlzLnhocl8gJiYgKHRoaXMubGFzdEVycm9yXyA9IFwiVGltZWQgb3V0IGFmdGVyIFwiICsgdGhpcy50aW1lb3V0SW50ZXJ2YWxfICsgXCJtcywgYWJvcnRpbmdcIiwgdGhpcy5sYXN0RXJyb3JDb2RlXyA9IGdvb2cubmV0LkVycm9yQ29kZS5USU1FT1VULCBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgdGhpcy5mb3JtYXRNc2dfKHRoaXMubGFzdEVycm9yXykpLCB0aGlzLmRpc3BhdGNoRXZlbnQoZ29vZy5uZXQuRXZlbnRUeXBlLlRJTUVPVVQpLCB0aGlzLmFib3J0KGdvb2cubmV0LkVycm9yQ29kZS5USU1FT1VUKSk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmVycm9yXyA9IGZ1bmN0aW9uKGVycm9yQ29kZSwgZXJyKSB7XG4gIHRoaXMuYWN0aXZlXyA9ICExO1xuICB0aGlzLnhocl8gJiYgKHRoaXMuaW5BYm9ydF8gPSAhMCwgdGhpcy54aHJfLmFib3J0KCksIHRoaXMuaW5BYm9ydF8gPSAhMSk7XG4gIHRoaXMubGFzdEVycm9yXyA9IGVycjtcbiAgdGhpcy5sYXN0RXJyb3JDb2RlXyA9IGVycm9yQ29kZTtcbiAgdGhpcy5kaXNwYXRjaEVycm9yc18oKTtcbiAgdGhpcy5jbGVhblVwWGhyXygpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5kaXNwYXRjaEVycm9yc18gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lcnJvckRpc3BhdGNoZWRfIHx8ICh0aGlzLmVycm9yRGlzcGF0Y2hlZF8gPSAhMCwgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSksIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5FdmVudFR5cGUuRVJST1IpKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbihvcHRfZmFpbHVyZUNvZGUpIHtcbiAgdGhpcy54aHJfICYmIHRoaXMuYWN0aXZlXyAmJiAoZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIHRoaXMuZm9ybWF0TXNnXyhcIkFib3J0aW5nXCIpKSwgdGhpcy5hY3RpdmVfID0gITEsIHRoaXMuaW5BYm9ydF8gPSAhMCwgdGhpcy54aHJfLmFib3J0KCksIHRoaXMuaW5BYm9ydF8gPSAhMSwgdGhpcy5sYXN0RXJyb3JDb2RlXyA9IG9wdF9mYWlsdXJlQ29kZSB8fCBnb29nLm5ldC5FcnJvckNvZGUuQUJPUlQsIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5FdmVudFR5cGUuQ09NUExFVEUpLCB0aGlzLmRpc3BhdGNoRXZlbnQoZ29vZy5uZXQuRXZlbnRUeXBlLkFCT1JUKSwgdGhpcy5jbGVhblVwWGhyXygpKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMueGhyXyAmJiAodGhpcy5hY3RpdmVfICYmICh0aGlzLmFjdGl2ZV8gPSAhMSwgdGhpcy5pbkFib3J0XyA9ICEwLCB0aGlzLnhocl8uYWJvcnQoKSwgdGhpcy5pbkFib3J0XyA9ICExKSwgdGhpcy5jbGVhblVwWGhyXyghMCkpO1xuICBnb29nLm5ldC5YaHJJby5zdXBlckNsYXNzXy5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUub25SZWFkeVN0YXRlQ2hhbmdlXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuaXNEaXNwb3NlZCgpKSB7XG4gICAgaWYgKHRoaXMuaW5PcGVuXyB8fCB0aGlzLmluU2VuZF8gfHwgdGhpcy5pbkFib3J0Xykge1xuICAgICAgdGhpcy5vblJlYWR5U3RhdGVDaGFuZ2VIZWxwZXJfKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub25SZWFkeVN0YXRlQ2hhbmdlRW50cnlQb2ludF8oKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUub25SZWFkeVN0YXRlQ2hhbmdlRW50cnlQb2ludF8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5vblJlYWR5U3RhdGVDaGFuZ2VIZWxwZXJfKCk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLm9uUmVhZHlTdGF0ZUNoYW5nZUhlbHBlcl8gPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuYWN0aXZlXyAmJiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBnb29nKSB7XG4gICAgaWYgKHRoaXMueGhyT3B0aW9uc19bZ29vZy5uZXQuWG1sSHR0cC5PcHRpb25UeXBlLkxPQ0FMX1JFUVVFU1RfRVJST1JdICYmIHRoaXMuZ2V0UmVhZHlTdGF0ZSgpID09IGdvb2cubmV0LlhtbEh0dHAuUmVhZHlTdGF0ZS5DT01QTEVURSAmJiAyID09IHRoaXMuZ2V0U3RhdHVzKCkpIHtcbiAgICAgIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18oXCJMb2NhbCByZXF1ZXN0IGVycm9yIGRldGVjdGVkIGFuZCBpZ25vcmVkXCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuaW5TZW5kXyAmJiB0aGlzLmdldFJlYWR5U3RhdGUoKSA9PSBnb29nLm5ldC5YbWxIdHRwLlJlYWR5U3RhdGUuQ09NUExFVEUpIHtcbiAgICAgICAgZ29vZy5UaW1lci5jYWxsT25jZSh0aGlzLm9uUmVhZHlTdGF0ZUNoYW5nZV8sIDAsIHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5FdmVudFR5cGUuUkVBRFlfU1RBVEVfQ0hBTkdFKSwgdGhpcy5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgdGhpcy5mb3JtYXRNc2dfKFwiUmVxdWVzdCBjb21wbGV0ZVwiKSk7XG4gICAgICAgICAgdGhpcy5hY3RpdmVfID0gITE7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaXNTdWNjZXNzKCkgPyAodGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSksIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5FdmVudFR5cGUuU1VDQ0VTUykpIDogKHRoaXMubGFzdEVycm9yQ29kZV8gPSBnb29nLm5ldC5FcnJvckNvZGUuSFRUUF9FUlJPUiwgdGhpcy5sYXN0RXJyb3JfID0gdGhpcy5nZXRTdGF0dXNUZXh0KCkgKyBcIiBbXCIgKyB0aGlzLmdldFN0YXR1cygpICsgXCJdXCIsIHRoaXMuZGlzcGF0Y2hFcnJvcnNfKCkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFuVXBYaHJfKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLm9uUHJvZ3Jlc3NIYW5kbGVyXyA9IGZ1bmN0aW9uKGUsIG9wdF9pc0Rvd25sb2FkKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZS50eXBlID09PSBnb29nLm5ldC5FdmVudFR5cGUuUFJPR1JFU1MsIFwiZ29vZy5uZXQuRXZlbnRUeXBlLlBST0dSRVNTIGlzIG9mIHRoZSBzYW1lIHR5cGUgYXMgcmF3IFhIUiBwcm9ncmVzcy5cIik7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5YaHJJby5idWlsZFByb2dyZXNzRXZlbnRfKGUsIGdvb2cubmV0LkV2ZW50VHlwZS5QUk9HUkVTUykpO1xuICB0aGlzLmRpc3BhdGNoRXZlbnQoZ29vZy5uZXQuWGhySW8uYnVpbGRQcm9ncmVzc0V2ZW50XyhlLCBvcHRfaXNEb3dubG9hZCA/IGdvb2cubmV0LkV2ZW50VHlwZS5ET1dOTE9BRF9QUk9HUkVTUyA6IGdvb2cubmV0LkV2ZW50VHlwZS5VUExPQURfUFJPR1JFU1MpKTtcbn07XG5nb29nLm5ldC5YaHJJby5idWlsZFByb2dyZXNzRXZlbnRfID0gZnVuY3Rpb24oZSwgZXZlbnRUeXBlKSB7XG4gIHJldHVybiB7dHlwZTpldmVudFR5cGUsIGxlbmd0aENvbXB1dGFibGU6ZS5sZW5ndGhDb21wdXRhYmxlLCBsb2FkZWQ6ZS5sb2FkZWQsIHRvdGFsOmUudG90YWwsfTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuY2xlYW5VcFhocl8gPSBmdW5jdGlvbihvcHRfZnJvbURpc3Bvc2UpIHtcbiAgaWYgKHRoaXMueGhyXykge1xuICAgIHRoaXMuY2xlYW5VcFRpbWVvdXRUaW1lcl8oKTtcbiAgICB2YXIgeGhyID0gdGhpcy54aHJfLCBjbGVhcmVkT25SZWFkeVN0YXRlQ2hhbmdlID0gdGhpcy54aHJPcHRpb25zX1tnb29nLm5ldC5YbWxIdHRwLk9wdGlvblR5cGUuVVNFX05VTExfRlVOQ1RJT05dID8gZ29vZy5udWxsRnVuY3Rpb24gOiBudWxsO1xuICAgIHRoaXMueGhyT3B0aW9uc18gPSB0aGlzLnhocl8gPSBudWxsO1xuICAgIG9wdF9mcm9tRGlzcG9zZSB8fCB0aGlzLmRpc3BhdGNoRXZlbnQoZ29vZy5uZXQuRXZlbnRUeXBlLlJFQURZKTtcbiAgICB0cnkge1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGNsZWFyZWRPblJlYWR5U3RhdGVDaGFuZ2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZ29vZy5sb2cuZXJyb3IodGhpcy5sb2dnZXJfLCBcIlByb2JsZW0gZW5jb3VudGVyZWQgcmVzZXR0aW5nIG9ucmVhZHlzdGF0ZWNoYW5nZTogXCIgKyBlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5jbGVhblVwVGltZW91dFRpbWVyXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnhocl8gJiYgdGhpcy51c2VYaHIyVGltZW91dF8gJiYgKHRoaXMueGhyX1tnb29nLm5ldC5YaHJJby5YSFIyX09OX1RJTUVPVVRfXSA9IG51bGwpO1xuICB0aGlzLnRpbWVvdXRJZF8gJiYgKGdvb2cuVGltZXIuY2xlYXIodGhpcy50aW1lb3V0SWRfKSwgdGhpcy50aW1lb3V0SWRfID0gbnVsbCk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMueGhyXztcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuaXNDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5nZXRSZWFkeVN0YXRlKCkgPT0gZ29vZy5uZXQuWG1sSHR0cC5SZWFkeVN0YXRlLkNPTVBMRVRFO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5pc1N1Y2Nlc3MgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0YXR1cyA9IHRoaXMuZ2V0U3RhdHVzKCk7XG4gIHJldHVybiBnb29nLm5ldC5IdHRwU3RhdHVzLmlzU3VjY2VzcyhzdGF0dXMpIHx8IDAgPT09IHN0YXR1cyAmJiAhdGhpcy5pc0xhc3RVcmlFZmZlY3RpdmVTY2hlbWVIdHRwXygpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5pc0xhc3RVcmlFZmZlY3RpdmVTY2hlbWVIdHRwXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2NoZW1lID0gZ29vZy51cmkudXRpbHMuZ2V0RWZmZWN0aXZlU2NoZW1lKFN0cmluZyh0aGlzLmxhc3RVcmlfKSk7XG4gIHJldHVybiBnb29nLm5ldC5YaHJJby5IVFRQX1NDSEVNRV9QQVRURVJOLnRlc3Qoc2NoZW1lKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UmVhZHlTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy54aHJfID8gdGhpcy54aHJfLnJlYWR5U3RhdGUgOiBnb29nLm5ldC5YbWxIdHRwLlJlYWR5U3RhdGUuVU5JTklUSUFMSVpFRDtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0U3RhdHVzID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVhZHlTdGF0ZSgpID4gZ29vZy5uZXQuWG1sSHR0cC5SZWFkeVN0YXRlLkxPQURFRCA/IHRoaXMueGhyXy5zdGF0dXMgOiAtMTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRTdGF0dXNUZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVhZHlTdGF0ZSgpID4gZ29vZy5uZXQuWG1sSHR0cC5SZWFkeVN0YXRlLkxPQURFRCA/IHRoaXMueGhyXy5zdGF0dXNUZXh0IDogXCJcIjtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgXCJDYW4gbm90IGdldCBzdGF0dXM6IFwiICsgZS5tZXNzYWdlKSwgXCJcIjtcbiAgfVxufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRMYXN0VXJpID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBTdHJpbmcodGhpcy5sYXN0VXJpXyk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFJlc3BvbnNlVGV4dCA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiB0aGlzLnhocl8gPyB0aGlzLnhocl8ucmVzcG9uc2VUZXh0IDogXCJcIjtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgXCJDYW4gbm90IGdldCByZXNwb25zZVRleHQ6IFwiICsgZS5tZXNzYWdlKSwgXCJcIjtcbiAgfVxufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRSZXNwb25zZUJvZHkgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBpZiAodGhpcy54aHJfICYmIFwicmVzcG9uc2VCb2R5XCIgaW4gdGhpcy54aHJfKSB7XG4gICAgICByZXR1cm4gdGhpcy54aHJfLnJlc3BvbnNlQm9keTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgXCJDYW4gbm90IGdldCByZXNwb25zZUJvZHk6IFwiICsgZS5tZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UmVzcG9uc2VYbWwgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdGhpcy54aHJfID8gdGhpcy54aHJfLnJlc3BvbnNlWE1MIDogbnVsbDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgXCJDYW4gbm90IGdldCByZXNwb25zZVhNTDogXCIgKyBlLm1lc3NhZ2UpLCBudWxsO1xuICB9XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFJlc3BvbnNlSnNvbiA9IGZ1bmN0aW9uKG9wdF94c3NpUHJlZml4KSB7XG4gIGlmICh0aGlzLnhocl8pIHtcbiAgICB2YXIgcmVzcG9uc2VUZXh0ID0gdGhpcy54aHJfLnJlc3BvbnNlVGV4dDtcbiAgICBvcHRfeHNzaVByZWZpeCAmJiAwID09IHJlc3BvbnNlVGV4dC5pbmRleE9mKG9wdF94c3NpUHJlZml4KSAmJiAocmVzcG9uc2VUZXh0ID0gcmVzcG9uc2VUZXh0LnN1YnN0cmluZyhvcHRfeHNzaVByZWZpeC5sZW5ndGgpKTtcbiAgICByZXR1cm4gZ29vZy5qc29uLmh5YnJpZC5wYXJzZShyZXNwb25zZVRleHQpO1xuICB9XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFJlc3BvbnNlID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgaWYgKCF0aGlzLnhocl8pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoXCJyZXNwb25zZVwiIGluIHRoaXMueGhyXykge1xuICAgICAgcmV0dXJuIHRoaXMueGhyXy5yZXNwb25zZTtcbiAgICB9XG4gICAgc3dpdGNoKHRoaXMucmVzcG9uc2VUeXBlXykge1xuICAgICAgY2FzZSBnb29nLm5ldC5YaHJJby5SZXNwb25zZVR5cGUuREVGQVVMVDpcbiAgICAgIGNhc2UgZ29vZy5uZXQuWGhySW8uUmVzcG9uc2VUeXBlLlRFWFQ6XG4gICAgICAgIHJldHVybiB0aGlzLnhocl8ucmVzcG9uc2VUZXh0O1xuICAgICAgY2FzZSBnb29nLm5ldC5YaHJJby5SZXNwb25zZVR5cGUuQVJSQVlfQlVGRkVSOlxuICAgICAgICBpZiAoXCJtb3pSZXNwb25zZUFycmF5QnVmZmVyXCIgaW4gdGhpcy54aHJfKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMueGhyXy5tb3pSZXNwb25zZUFycmF5QnVmZmVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdvb2cubG9nLmVycm9yKHRoaXMubG9nZ2VyXywgXCJSZXNwb25zZSB0eXBlIFwiICsgdGhpcy5yZXNwb25zZVR5cGVfICsgXCIgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXJcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIFwiQ2FuIG5vdCBnZXQgcmVzcG9uc2U6IFwiICsgZS5tZXNzYWdlKSwgbnVsbDtcbiAgfVxufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRSZXNwb25zZUhlYWRlciA9IGZ1bmN0aW9uKGtleSkge1xuICBpZiAodGhpcy54aHJfICYmIHRoaXMuaXNDb21wbGV0ZSgpKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy54aHJfLmdldFJlc3BvbnNlSGVhZGVyKGtleSk7XG4gICAgcmV0dXJuIG51bGwgPT09IHZhbHVlID8gdm9pZCAwIDogdmFsdWU7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnhocl8gJiYgdGhpcy5pc0NvbXBsZXRlKCkgPyB0aGlzLnhocl8uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgXCJcIiA6IFwiXCI7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVycyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBoZWFkZXJzT2JqZWN0ID0ge30sIGhlYWRlcnNBcnJheSA9IHRoaXMuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkuc3BsaXQoXCJcXHJcXG5cIiksIGkgPSAwOyBpIDwgaGVhZGVyc0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFnb29nLnN0cmluZy5pc0VtcHR5T3JXaGl0ZXNwYWNlKGhlYWRlcnNBcnJheVtpXSkpIHtcbiAgICAgIHZhciBrZXlWYWx1ZSA9IGdvb2cuc3RyaW5nLnNwbGl0TGltaXQoaGVhZGVyc0FycmF5W2ldLCBcIjpcIiwgMSksIGtleSA9IGtleVZhbHVlWzBdLCB2YWx1ZSA9IGtleVZhbHVlWzFdO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgdmFyIHZhbHVlcyRqc2NvbXAkMCA9IGhlYWRlcnNPYmplY3Rba2V5XSB8fCBbXTtcbiAgICAgICAgaGVhZGVyc09iamVjdFtrZXldID0gdmFsdWVzJGpzY29tcCQwO1xuICAgICAgICB2YWx1ZXMkanNjb21wJDAucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKGhlYWRlcnNPYmplY3QsIGZ1bmN0aW9uKHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMuam9pbihcIiwgXCIpO1xuICB9KTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0U3RyZWFtaW5nUmVzcG9uc2VIZWFkZXIgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIHRoaXMueGhyXyA/IHRoaXMueGhyXy5nZXRSZXNwb25zZUhlYWRlcihrZXkpIDogbnVsbDtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0QWxsU3RyZWFtaW5nUmVzcG9uc2VIZWFkZXJzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnhocl8gPyB0aGlzLnhocl8uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgOiBcIlwiO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRMYXN0RXJyb3JDb2RlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmxhc3RFcnJvckNvZGVfO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRMYXN0RXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGlzLmxhc3RFcnJvcl8gPyB0aGlzLmxhc3RFcnJvcl8gOiBTdHJpbmcodGhpcy5sYXN0RXJyb3JfKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZm9ybWF0TXNnXyA9IGZ1bmN0aW9uKG1zZykge1xuICByZXR1cm4gbXNnICsgXCIgW1wiICsgdGhpcy5sYXN0TWV0aG9kXyArIFwiIFwiICsgdGhpcy5sYXN0VXJpXyArIFwiIFwiICsgdGhpcy5nZXRTdGF0dXMoKSArIFwiXVwiO1xufTtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKHRyYW5zZm9ybWVyKSB7XG4gIGdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50XyA9IHRyYW5zZm9ybWVyKGdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50Xyk7XG59KTtcbmVlLmFwaWNsaWVudCA9IHt9O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50ID0ge307XG5lZS5hcGljbGllbnQuVkVSU0lPTiA9IG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQTtcbmVlLmFwaWNsaWVudC5BUElfQ0xJRU5UX1ZFUlNJT04gPSBcIjAuMS4yODlcIjtcbmVlLmFwaWNsaWVudC5OVUxMX1ZBTFVFID0gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5OVUxMX1ZBTFVFO1xuZWUuYXBpY2xpZW50LlByb21pc2VSZXF1ZXN0U2VydmljZSA9IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfcmVxdWVzdF9zZXJ2aWNlLlByb21pc2VSZXF1ZXN0U2VydmljZTtcbmVlLmFwaWNsaWVudC5NYWtlUmVxdWVzdFBhcmFtcyA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19NYWtlUmVxdWVzdFBhcmFtcztcbmVlLmFwaWNsaWVudC5kZXNlcmlhbGl6ZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplO1xuZWUuYXBpY2xpZW50LnNlcmlhbGl6ZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZTtcbnZhciBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwgPSBmdW5jdGlvbihjYWxsYmFjaywgcmV0cmllcykge1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplKCk7XG4gIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgdGhpcy5yZXF1ZXN0U2VydmljZSA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0VFUmVxdWVzdFNlcnZpY2UoIWNhbGxiYWNrLCByZXRyaWVzKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLmhhbmRsZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKHJlc3VsdCwgZXJyb3IpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gJGpzY29tcCR0aGlzLmNhbGxiYWNrKHJlc3VsdCwgZXJyb3IpO1xuICAgICAgICB9IGNhdGNoIChjYWxsYmFja0Vycm9yKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRocm93IGNhbGxiYWNrRXJyb3I7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXNwb25zZS50aGVuKGNhbGxiYWNrLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodm9pZCAwLCBlcnJvcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzcG9uc2UudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgIHJlc3BvbnNlID0gcmVzdWx0O1xuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnByb2plY3RzUGF0aCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJwcm9qZWN0cy9cIiArIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFByb2plY3QoKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLmFsZ29yaXRobXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnByb2plY3RzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLmFzc2V0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS5vcGVyYXRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLm1hcHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUudGFibGVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnZpZGVvID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUudmlkZW9NYXAgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS5jbGFzc2lmaWVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS5kbXNNYXBzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Rtc01hcHNBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS50aHVtYm5haWxzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS52aWRlb1RodW1ibmFpbHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUuZmlsbXN0cmlwVGh1bWJuYWlscyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0VFUmVxdWVzdFNlcnZpY2UgPSBmdW5jdGlvbihzeW5jLCByZXRyaWVzKSB7XG4gIHRoaXMuc3luYyA9IHN5bmMgPSB2b2lkIDAgPT09IHN5bmMgPyAhMSA6IHN5bmM7XG4gIHRoaXMucmV0cmllcyA9IG51bGwgIT0gcmV0cmllcyA/IHJldHJpZXMgOiBzeW5jID8gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuTUFYX1NZTkNfUkVUUklFU18gOiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5NQVhfQVNZTkNfUkVUUklFU187XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0VFUmVxdWVzdFNlcnZpY2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfcmVxdWVzdF9zZXJ2aWNlLlByb21pc2VSZXF1ZXN0U2VydmljZSk7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0VFUmVxdWVzdFNlcnZpY2UucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihwYXJhbXMsIHJlc3BvbnNlQ3Rvcikge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcztcbiAgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX3Byb2Nlc3NQYXJhbXMocGFyYW1zKTtcbiAgdmFyIHBhdGggPSBwYXJhbXMucGF0aCB8fCBcIlwiLCB1cmwgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRTYWZlQXBpVXJsKCkgKyBwYXRoLCBhcmdzID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQubWFrZVJlcXVlc3RfKHBhcmFtcy5xdWVyeVBhcmFtcyB8fCB7fSksIGJvZHkgPSBwYXJhbXMuYm9keSA/IEpTT04uc3RyaW5naWZ5KHBhcmFtcy5ib2R5KSA6IHZvaWQgMDtcbiAgaWYgKHRoaXMuc3luYykge1xuICAgIHZhciByYXcgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZW5kKHVybCwgYXJncywgdm9pZCAwLCBwYXJhbXMuaHR0cE1ldGhvZCwgYm9keSwgdGhpcy5yZXRyaWVzKSwgdmFsdWUkNjIgPSByZXNwb25zZUN0b3IgPyBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZShyZXNwb25zZUN0b3IsIHJhdykgOiByYXcsIHRoZW5hYmxlID0gZnVuY3Rpb24odikge1xuICAgICAgcmV0dXJuIHt0aGVuOmZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIHRoZW5hYmxlKGYodikpO1xuICAgICAgfX07XG4gICAgfTtcbiAgICByZXR1cm4gdGhlbmFibGUodmFsdWUkNjIpO1xuICB9XG4gIHJldHVybiAobmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2VuZCh1cmwsIGFyZ3MsIGZ1bmN0aW9uKHZhbHVlLCBlcnJvcikge1xuICAgICAgZXJyb3IgPyByZWplY3QoZXJyb3IpIDogcmVzb2x2ZSh2YWx1ZSk7XG4gICAgfSwgcGFyYW1zLmh0dHBNZXRob2QsIGJvZHksICRqc2NvbXAkdGhpcy5yZXRyaWVzKTtcbiAgfSkpLnRoZW4oZnVuY3Rpb24ocikge1xuICAgIHJldHVybiByZXNwb25zZUN0b3IgPyBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZShyZXNwb25zZUN0b3IsIHIpIDogcjtcbiAgfSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9FRVJlcXVlc3RTZXJ2aWNlLnByb3RvdHlwZS5tYWtlUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtcykge1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0JhdGNoQ2FsbCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5jYWxsKHRoaXMsIGNhbGxiYWNrKTtcbiAgdGhpcy5yZXF1ZXN0U2VydmljZSA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0JhdGNoUmVxdWVzdFNlcnZpY2UoKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hDYWxsLCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaENhbGwucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihwYXJ0cywgZ2V0UmVzcG9uc2UpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXMsIGJhdGNoVXJsID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0U2FmZUFwaVVybCgpICsgXCIvYmF0Y2hcIiwgYm9keSA9IHBhcnRzLm1hcChmdW5jdGlvbigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjApIHtcbiAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIxID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIwKSwgaWQgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjEubmV4dCgpLnZhbHVlLCAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjIgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjEubmV4dCgpLnZhbHVlKSwgcGFydEJvZHkgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjIubmV4dCgpLnZhbHVlLCBjdG9yID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIyLm5leHQoKS52YWx1ZTtcbiAgICByZXR1cm4gXCItLWJhdGNoX0VBUlRIRU5HSU5FX2JhdGNoXFxyXFxuQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9odHRwXFxyXFxuQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogYmluYXJ5XFxyXFxuTUlNRS1WZXJzaW9uOiAxLjBcXHJcXG5Db250ZW50LUlEOiA8XCIgKyBpZCArIFwiPlxcclxcblxcclxcblwiICsgcGFydEJvZHkgKyBcIlxcclxcblwiO1xuICB9KS5qb2luKFwiXCIpICsgXCItLWJhdGNoX0VBUlRIRU5HSU5FX2JhdGNoLS1cXHJcXG5cIiwgZGVzZXJpYWxpemVSZXNwb25zZXMgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBwYXJ0cy5mb3JFYWNoKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyMykge1xuICAgICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyNCA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyMyksIGlkID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI0Lm5leHQoKS52YWx1ZSwgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI1ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI0Lm5leHQoKS52YWx1ZSksIHBhcnRCb2R5ID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI1Lm5leHQoKS52YWx1ZSwgY3RvciA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyNS5uZXh0KCkudmFsdWU7XG4gICAgICBudWxsICE9IHJlc3BvbnNlW2lkXSAmJiAocmVzdWx0W2lkXSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKGN0b3IsIHJlc3BvbnNlW2lkXSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBnZXRSZXNwb25zZSA/IGdldFJlc3BvbnNlKHJlc3VsdCkgOiByZXN1bHQ7XG4gIH07XG4gIHJldHVybiB0aGlzLmNhbGxiYWNrID8gKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNlbmQoYmF0Y2hVcmwsIG51bGwsIGZ1bmN0aW9uKHJlc3VsdCwgZXJyKSB7XG4gICAgcmV0dXJuICRqc2NvbXAkdGhpcy5jYWxsYmFjayhlcnIgPyByZXN1bHQgOiBkZXNlcmlhbGl6ZVJlc3BvbnNlcyhyZXN1bHQpLCBlcnIpO1xuICB9LCBcIm11bHRpcGFydC9taXhlZDsgYm91bmRhcnk9YmF0Y2hfRUFSVEhFTkdJTkVfYmF0Y2hcIiwgYm9keSksIG51bGwpIDogZGVzZXJpYWxpemVSZXNwb25zZXMobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2VuZChiYXRjaFVybCwgbnVsbCwgdm9pZCAwLCBcIm11bHRpcGFydC9taXhlZDsgYm91bmRhcnk9YmF0Y2hfRUFSVEhFTkdJTkVfYmF0Y2hcIiwgYm9keSkpO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0JhdGNoUmVxdWVzdFNlcnZpY2UgPSBmdW5jdGlvbigpIHtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hSZXF1ZXN0U2VydmljZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UuUHJvbWlzZVJlcXVlc3RTZXJ2aWNlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hSZXF1ZXN0U2VydmljZS5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKHBhcmFtcywgcmVzcG9uc2VDdG9yKSB7XG4gIHZhciByZXF1ZXN0ID0gW3BhcmFtcy5odHRwTWV0aG9kICsgXCIgXCIgKyBwYXJhbXMucGF0aCArIFwiIEhUVFAvMS4xXCJdO1xuICByZXF1ZXN0LnB1c2goXCJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIik7XG4gIHZhciBhdXRoVG9rZW4gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoVG9rZW4oKTtcbiAgbnVsbCAhPSBhdXRoVG9rZW4gJiYgcmVxdWVzdC5wdXNoKFwiQXV0aG9yaXphdGlvbjogXCIgKyBhdXRoVG9rZW4pO1xuICB2YXIgYm9keSA9IHBhcmFtcy5ib2R5ID8gSlNPTi5zdHJpbmdpZnkocGFyYW1zLmJvZHkpIDogXCJcIjtcbiAgcmV0dXJuIFtyZXF1ZXN0LmpvaW4oXCJcXHJcXG5cIikgKyBcIlxcclxcblxcclxcblwiICsgYm9keSwgcmVzcG9uc2VDdG9yXTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0JhdGNoUmVxdWVzdFNlcnZpY2UucHJvdG90eXBlLm1ha2VSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucGFyc2VCYXRjaFJlcGx5ID0gZnVuY3Rpb24oY29udGVudFR5cGUsIHJlc3BvbnNlVGV4dCwgaGFuZGxlKSB7XG4gIGZvciAodmFyIGJvdW5kYXJ5ID0gY29udGVudFR5cGUuc3BsaXQoXCI7IGJvdW5kYXJ5PVwiKVsxXSwgJGpzY29tcCRpdGVyJDIwID0gJGpzY29tcC5tYWtlSXRlcmF0b3IocmVzcG9uc2VUZXh0LnNwbGl0KFwiLS1cIiArIGJvdW5kYXJ5KSksICRqc2NvbXAka2V5JHBhcnQgPSAkanNjb21wJGl0ZXIkMjAubmV4dCgpOyAhJGpzY29tcCRrZXkkcGFydC5kb25lOyAkanNjb21wJGtleSRwYXJ0ID0gJGpzY29tcCRpdGVyJDIwLm5leHQoKSkge1xuICAgIHZhciBncm91cHMgPSAkanNjb21wJGtleSRwYXJ0LnZhbHVlLnNwbGl0KFwiXFxyXFxuXFxyXFxuXCIpO1xuICAgIGlmICghKDMgPiBncm91cHMubGVuZ3RoKSkge1xuICAgICAgdmFyIGlkID0gZ3JvdXBzWzBdLm1hdGNoKC9cXHJcXG5Db250ZW50LUlEOiA8cmVzcG9uc2UtKFtePl0qKT4vKVsxXSwgc3RhdHVzID0gTnVtYmVyKGdyb3Vwc1sxXS5tYXRjaCgvXkhUVFBcXFMqXFxzKFxcZCspXFxzLylbMV0pLCB0ZXh0ID0gZ3JvdXBzLnNsaWNlKDIpLmpvaW4oXCJcXHJcXG5cXHJcXG5cIik7XG4gICAgICBoYW5kbGUoaWQsIHN0YXR1cywgdGV4dCk7XG4gICAgfVxuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXBpS2V5ID0gZnVuY3Rpb24oYXBpS2V5KSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsb3VkQXBpS2V5XyA9IGFwaUtleTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBcGlLZXkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsb3VkQXBpS2V5Xztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5ERUZBVUxUX1BST0pFQ1RfID0gXCJlYXJ0aGVuZ2luZS1sZWdhY3lcIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldFByb2plY3QgPSBmdW5jdGlvbihwcm9qZWN0KSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnByb2plY3RfID0gcHJvamVjdDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRQcm9qZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wcm9qZWN0Xztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRTYWZlQXBpVXJsID0gZnVuY3Rpb24oKSB7XG4gIHZhciB1cmwgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXy5yZXBsYWNlKC9cXC9hcGkkLywgXCJcIik7XG4gIHJldHVybiBcIndpbmRvd1wiIGluIGdvb2cuZ2xvYmFsICYmICF1cmwubWF0Y2goL15odHRwcz86XFwvXFwvY29udGVudC0vKSA/IHVybC5yZXBsYWNlKC9eKGh0dHBzPzpcXC9cXC8pKC4qXFwuZ29vZ2xlYXBpc1xcLmNvbSkkLywgXCIkMWNvbnRlbnQtJDJcIikgOiB1cmw7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQubWVyZ2VBdXRoU2NvcGVzXyA9IGZ1bmN0aW9uKGluY2x1ZGVEZWZhdWx0U2NvcGVzLCBpbmNsdWRlU3RvcmFnZVNjb3BlLCBleHRyYVNjb3Blcykge1xuICB2YXIgc2NvcGVzID0gW107XG4gIGluY2x1ZGVEZWZhdWx0U2NvcGVzICYmIChzY29wZXMgPSBzY29wZXMuY29uY2F0KG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfQVVUSF9TQ09QRVNfKSk7XG4gIGluY2x1ZGVTdG9yYWdlU2NvcGUgJiYgc2NvcGVzLnB1c2gobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuU1RPUkFHRV9TQ09QRV8pO1xuICBzY29wZXMgPSBzY29wZXMuY29uY2F0KGV4dHJhU2NvcGVzKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlRHVwbGljYXRlcyhzY29wZXMpO1xuICByZXR1cm4gc2NvcGVzO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldEF1dGhUb2tlbiA9IGZ1bmN0aW9uKGNsaWVudElkLCB0b2tlblR5cGUsIGFjY2Vzc1Rva2VuLCBleHBpcmVzSW4sIGV4dHJhU2NvcGVzLCBjYWxsYmFjaywgdXBkYXRlQXV0aExpYnJhcnksIHN1cHByZXNzRGVmYXVsdFNjb3Blcykge1xuICB2YXIgc2NvcGVzID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQubWVyZ2VBdXRoU2NvcGVzXyghc3VwcHJlc3NEZWZhdWx0U2NvcGVzLCAhMSwgZXh0cmFTY29wZXMgfHwgW10pO1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoQ2xpZW50SWRfID0gY2xpZW50SWQ7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhTY29wZXNfID0gc2NvcGVzO1xuICB2YXIgdG9rZW5PYmplY3QgPSB7dG9rZW5fdHlwZTp0b2tlblR5cGUsIGFjY2Vzc190b2tlbjphY2Nlc3NUb2tlbiwgc3RhdGU6c2NvcGVzLmpvaW4oXCIgXCIpLCBleHBpcmVzX2luOmV4cGlyZXNJbn07XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmhhbmRsZUF1dGhSZXN1bHRfKHZvaWQgMCwgdm9pZCAwLCB0b2tlbk9iamVjdCk7XG4gICExID09PSB1cGRhdGVBdXRoTGlicmFyeSA/IGNhbGxiYWNrICYmIGNhbGxiYWNrKCkgOiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5lbnN1cmVBdXRoTGliTG9hZGVkXyhmdW5jdGlvbigpIHtcbiAgICBnb29nLmdsb2JhbC5nYXBpLmF1dGguc2V0VG9rZW4odG9rZW5PYmplY3QpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gIH0pO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlZnJlc2hBdXRoVG9rZW4gPSBmdW5jdGlvbihzdWNjZXNzLCBlcnJvciwgb25JbW1lZGlhdGVGYWlsZWQpIHtcbiAgaWYgKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmlzQXV0aFRva2VuUmVmcmVzaGluZ0VuYWJsZWRfKCkpIHtcbiAgICB2YXIgYXV0aEFyZ3MgPSB7Y2xpZW50X2lkOlN0cmluZyhtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoQ2xpZW50SWRfKSwgaW1tZWRpYXRlOiEwLCBzY29wZTptb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoU2NvcGVzXy5qb2luKFwiIFwiKX07XG4gICAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuUmVmcmVzaGVyXyhhdXRoQXJncywgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICBpZiAoXCJpbW1lZGlhdGVfZmFpbGVkXCIgPT0gcmVzdWx0LmVycm9yICYmIG9uSW1tZWRpYXRlRmFpbGVkKSB7XG4gICAgICAgIG9uSW1tZWRpYXRlRmFpbGVkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoXCJ3aW5kb3dcIiBpbiBnb29nLmdsb2JhbCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5lbnN1cmVBdXRoTGliTG9hZGVkXyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBnb29nLmdsb2JhbC5nYXBpLmF1dGguc2V0VG9rZW4ocmVzdWx0KSwgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlQXV0aFJlc3VsdF8oc3VjY2VzcywgZXJyb3IsIHJlc3VsdCk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBlcnJvcihlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvcihlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5oYW5kbGVBdXRoUmVzdWx0XyhzdWNjZXNzLCBlcnJvciwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aFRva2VuUmVmcmVzaGVyID0gZnVuY3Rpb24ocmVmcmVzaGVyKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlblJlZnJlc2hlcl8gPSByZWZyZXNoZXI7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFRva2VuID0gZnVuY3Rpb24oKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbkV4cGlyYXRpb25fICYmIDAgPD0gRGF0ZS5ub3coKSAtIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbkV4cGlyYXRpb25fICYmIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsZWFyQXV0aFRva2VuKCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5fO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsZWFyQXV0aFRva2VuID0gZnVuY3Rpb24oKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbl8gPSBudWxsO1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5FeHBpcmF0aW9uXyA9IG51bGw7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aENsaWVudElkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoQ2xpZW50SWRfO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhTY29wZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhTY29wZXNfO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldEF1dGhDbGllbnQgPSBmdW5jdGlvbihjbGllbnRJZCwgc2NvcGVzKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhDbGllbnRJZF8gPSBjbGllbnRJZDtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFNjb3Blc18gPSBzY29wZXM7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXBwSWRUb2tlbiA9IGZ1bmN0aW9uKHRva2VuKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwcElkVG9rZW5fID0gdG9rZW47XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKGFwaUJhc2VVcmwsIHRpbGVCYXNlVXJsLCB4c3JmVG9rZW4sIHByb2plY3QpIHtcbiAgbnVsbCAhPSBhcGlCYXNlVXJsID8gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBpQmFzZVVybF8gPSBhcGlCYXNlVXJsIDogbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZWRfIHx8IChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfQVBJX0JBU0VfVVJMXyk7XG4gIG51bGwgIT0gdGlsZUJhc2VVcmwgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC50aWxlQmFzZVVybF8gPSB0aWxlQmFzZVVybCA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemVkXyB8fCAobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQudGlsZUJhc2VVcmxfID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9USUxFX0JBU0VfVVJMXyk7XG4gIHZvaWQgMCAhPT0geHNyZlRva2VuICYmIChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC54c3JmVG9rZW5fID0geHNyZlRva2VuKTtcbiAgbnVsbCAhPSBwcm9qZWN0ID8gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0UHJvamVjdChwcm9qZWN0KSA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldFByb2plY3QobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0UHJvamVjdCgpIHx8IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfUFJPSkVDVF8pO1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplZF8gPSAhMDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXyA9IG51bGw7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnRpbGVCYXNlVXJsXyA9IG51bGw7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnhzcmZUb2tlbl8gPSBudWxsO1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXREZWFkbGluZSA9IGZ1bmN0aW9uKG1pbGxpc2Vjb25kcykge1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5kZWFkbGluZU1zXyA9IG1pbGxpc2Vjb25kcztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRQYXJhbUF1Z21lbnRlciA9IGZ1bmN0aW9uKGF1Z21lbnRlcikge1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wYXJhbUF1Z21lbnRlcl8gPSBhdWdtZW50ZXIgfHwgZ29vZy5mdW5jdGlvbnMuaWRlbnRpdHk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXBpQmFzZVVybCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBpQmFzZVVybF87XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0VGlsZUJhc2VVcmwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnRpbGVCYXNlVXJsXztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRYc3JmVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnhzcmZUb2tlbl87XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaXNJbml0aWFsaXplZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZWRfO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNlbmQgPSBmdW5jdGlvbihwYXRoLCBwYXJhbXMsIGNhbGxiYWNrLCBtZXRob2QsIGJvZHksIHJldHJpZXMpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZSgpO1xuICB2YXIgcHJvZmlsZUhvb2tBdENhbGxUaW1lID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucHJvZmlsZUhvb2tfLCBjb250ZW50VHlwZSA9IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCI7XG4gIGJvZHkgJiYgKGNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi9qc29uXCIsIG1ldGhvZCAmJiBtZXRob2Quc3RhcnRzV2l0aChcIm11bHRpcGFydFwiKSAmJiAoY29udGVudFR5cGUgPSBtZXRob2QsIG1ldGhvZCA9IFwiUE9TVFwiKSk7XG4gIG1ldGhvZCA9IG1ldGhvZCB8fCBcIlBPU1RcIjtcbiAgdmFyIGhlYWRlcnMgPSB7XCJDb250ZW50LVR5cGVcIjpjb250ZW50VHlwZSx9LCB2ZXJzaW9uID0gXCIwLjEuMjg5XCI7XG4gIFwiMC4xLjI4OVwiID09PSB2ZXJzaW9uICYmICh2ZXJzaW9uID0gXCJsYXRlc3RcIik7XG4gIGhlYWRlcnNbbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVBJX0NMSUVOVF9WRVJTSU9OX0hFQURFUl0gPSBcImVlLWpzL1wiICsgdmVyc2lvbjtcbiAgdmFyIGF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhUb2tlbigpO1xuICBpZiAobnVsbCAhPSBhdXRoVG9rZW4pIHtcbiAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSBhdXRoVG9rZW47XG4gIH0gZWxzZSB7XG4gICAgaWYgKGNhbGxiYWNrICYmIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmlzQXV0aFRva2VuUmVmcmVzaGluZ0VuYWJsZWRfKCkpIHtcbiAgICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5yZWZyZXNoQXV0aFRva2VuKGZ1bmN0aW9uKCkge1xuICAgICAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC53aXRoUHJvZmlsaW5nKHByb2ZpbGVIb29rQXRDYWxsVGltZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2VuZChwYXRoLCBwYXJhbXMsIGNhbGxiYWNrLCBtZXRob2QpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLCBudWxsO1xuICAgIH1cbiAgfVxuICBwYXJhbXMgPSBwYXJhbXMgPyBwYXJhbXMuY2xvbmUoKSA6IG5ldyBnb29nLlVyaS5RdWVyeURhdGEoKTtcbiAgbnVsbCAhPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5jbG91ZEFwaUtleV8gJiYgcGFyYW1zLmFkZChcImtleVwiLCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5jbG91ZEFwaUtleV8pO1xuICBwcm9maWxlSG9va0F0Q2FsbFRpbWUgJiYgKGhlYWRlcnNbbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUFJPRklMRV9SRVFVRVNUX0hFQURFUl0gPSBcIjFcIik7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFByb2plY3QoKSAmJiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRQcm9qZWN0KCkgIT09IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfUFJPSkVDVF8gJiYgKGhlYWRlcnNbbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuVVNFUl9QUk9KRUNUX09WRVJSSURFX0hFQURFUl9dID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0UHJvamVjdCgpKTtcbiAgcGFyYW1zID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucGFyYW1BdWdtZW50ZXJfKHBhcmFtcywgcGF0aCk7XG4gIG51bGwgIT0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQueHNyZlRva2VuXyAmJiAoaGVhZGVyc1tcIlgtWFNSRi1Ub2tlblwiXSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnhzcmZUb2tlbl8pO1xuICBudWxsICE9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwcElkVG9rZW5fICYmIChoZWFkZXJzW21vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkFQUF9JRF9UT0tFTl9IRUFERVJfXSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwcElkVG9rZW5fKTtcbiAgdmFyIHJlcXVlc3REYXRhID0gYm9keSB8fCBudWxsLCBwYXJhbVN0cmluZyA9IHBhcmFtcyA/IHBhcmFtcy50b1N0cmluZygpIDogXCJcIjtcbiAgXCJQT1NUXCIgPT09IG1ldGhvZCAmJiB2b2lkIDAgPT09IGJvZHkgPyByZXF1ZXN0RGF0YSA9IHBhcmFtU3RyaW5nIDogZ29vZy5zdHJpbmcuaXNFbXB0eU9yV2hpdGVzcGFjZShwYXJhbVN0cmluZykgfHwgKHBhdGggKz0gZ29vZy5zdHJpbmcuY29udGFpbnMocGF0aCwgXCI/XCIpID8gXCImXCIgOiBcIj9cIiwgcGF0aCArPSBwYXJhbVN0cmluZyk7XG4gIHZhciB1cmwgPSBwYXRoLnN0YXJ0c1dpdGgoXCIvXCIpID8gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBpQmFzZVVybF8gKyBwYXRoIDogcGF0aDtcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlcXVlc3RRdWV1ZV8ucHVzaChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5idWlsZEFzeW5jUmVxdWVzdF8odXJsLCBjYWxsYmFjaywgbWV0aG9kLCByZXF1ZXN0RGF0YSwgaGVhZGVycywgcmV0cmllcykpLCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5SZXF1ZXN0VGhyb3R0bGVfLmZpcmUoKSwgbnVsbDtcbiAgfVxuICBmb3IgKHZhciBzZXRSZXF1ZXN0SGVhZGVyID0gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHRoaXMuc2V0UmVxdWVzdEhlYWRlciAmJiB0aGlzLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWx1ZSk7XG4gIH0sIHhtbEh0dHAsIHJldHJ5Q291bnQgPSAwLCBtYXhSZXRyaWVzID0gbnVsbCAhPSByZXRyaWVzID8gcmV0cmllcyA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lk1BWF9TWU5DX1JFVFJJRVNfOzspIHtcbiAgICB4bWxIdHRwID0gKDAsZ29vZy5uZXQuWG1sSHR0cCkoKTtcbiAgICB4bWxIdHRwLm9wZW4obWV0aG9kLCB1cmwsICExKTtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaChoZWFkZXJzLCBzZXRSZXF1ZXN0SGVhZGVyLCB4bWxIdHRwKTtcbiAgICB4bWxIdHRwLnNlbmQocmVxdWVzdERhdGEpO1xuICAgIGlmICg0MjkgIT0geG1sSHR0cC5zdGF0dXMgfHwgcmV0cnlDb3VudCA+IG1heFJldHJpZXMpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXRyeUNvdW50Kys7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmhhbmRsZVJlc3BvbnNlXyh4bWxIdHRwLnN0YXR1cywgZnVuY3Rpb24gZ2V0UmVzcG9uc2VIZWFkZXJTYWZlKGhlYWRlcikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geG1sSHR0cC5nZXRSZXNwb25zZUhlYWRlcihoZWFkZXIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSwgeG1sSHR0cC5yZXNwb25zZVRleHQsIHByb2ZpbGVIb29rQXRDYWxsVGltZSwgdm9pZCAwLCB1cmwsIG1ldGhvZCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYnVpbGRBc3luY1JlcXVlc3RfID0gZnVuY3Rpb24odXJsLCBjYWxsYmFjaywgbWV0aG9kLCBjb250ZW50LCBoZWFkZXJzLCByZXRyaWVzKSB7XG4gIHZhciByZXRyeUNvdW50ID0gMCwgcmVxdWVzdCA9IHt1cmw6dXJsLCBtZXRob2Q6bWV0aG9kLCBjb250ZW50OmNvbnRlbnQsIGhlYWRlcnM6aGVhZGVyc30sIHByb2ZpbGVIb29rQXRDYWxsVGltZSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnByb2ZpbGVIb29rXywgbWF4UmV0cmllcyA9IG51bGwgIT0gcmV0cmllcyA/IHJldHJpZXMgOiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5NQVhfQVNZTkNfUkVUUklFU187XG4gIHJlcXVlc3QuY2FsbGJhY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHhocklvID0gZS50YXJnZXQ7XG4gICAgcmV0dXJuIDQyOSA9PSB4aHJJby5nZXRTdGF0dXMoKSAmJiByZXRyeUNvdW50IDwgbWF4UmV0cmllcyA/IChyZXRyeUNvdW50KyssIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5yZXF1ZXN0UXVldWVfLnB1c2gocmVxdWVzdCk7XG4gICAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5SZXF1ZXN0VGhyb3R0bGVfLmZpcmUoKTtcbiAgICB9LCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5jYWxjdWxhdGVSZXRyeVdhaXRfKHJldHJ5Q291bnQpKSwgbnVsbCkgOiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5oYW5kbGVSZXNwb25zZV8oeGhySW8uZ2V0U3RhdHVzKCksIGdvb2cuYmluZCh4aHJJby5nZXRSZXNwb25zZUhlYWRlciwgeGhySW8pLCB4aHJJby5nZXRSZXNwb25zZVRleHQoKSwgcHJvZmlsZUhvb2tBdENhbGxUaW1lLCBjYWxsYmFjaywgdXJsLCBtZXRob2QpO1xuICB9O1xuICByZXR1cm4gcmVxdWVzdDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC53aXRoUHJvZmlsaW5nID0gZnVuY3Rpb24oaG9vaywgYm9keSwgdGhpc09iamVjdCkge1xuICB2YXIgc2F2ZWQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wcm9maWxlSG9va187XG4gIHRyeSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnByb2ZpbGVIb29rXyA9IGhvb2ssIGJvZHkuY2FsbCh0aGlzT2JqZWN0KTtcbiAgfSBmaW5hbGx5IHtcbiAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wcm9maWxlSG9va18gPSBzYXZlZDtcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmhhbmRsZVJlc3BvbnNlXyA9IGZ1bmN0aW9uKHN0YXR1cyRqc2NvbXAkMCwgZ2V0UmVzcG9uc2VIZWFkZXIsIHJlc3BvbnNlVGV4dCwgcHJvZmlsZUhvb2ssIGNhbGxiYWNrLCB1cmwsIG1ldGhvZCkge1xuICB2YXIgcHJvZmlsZUlkID0gcHJvZmlsZUhvb2sgPyBnZXRSZXNwb25zZUhlYWRlcihtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX0hFQURFUikgOiBcIlwiO1xuICBwcm9maWxlSWQgJiYgcHJvZmlsZUhvb2sgJiYgcHJvZmlsZUhvb2socHJvZmlsZUlkKTtcbiAgdmFyIHBhcnNlSnNvbiA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICAgIHJldHVybiBnb29nLmlzT2JqZWN0KHJlc3BvbnNlKSAmJiBcImVycm9yXCIgaW4gcmVzcG9uc2UgJiYgXCJtZXNzYWdlXCIgaW4gcmVzcG9uc2UuZXJyb3IgPyByZXNwb25zZS5lcnJvci5tZXNzYWdlIDoge3BhcnNlZDpyZXNwb25zZX07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIFwiSW52YWxpZCBKU09OOiBcIiArIGJvZHk7XG4gICAgfVxuICB9LCBzdGF0dXNFcnJvciA9IGZ1bmN0aW9uKHN0YXR1cykge1xuICAgIGlmICgwID09PSBzdGF0dXMpIHtcbiAgICAgIHJldHVybiBcIkZhaWxlZCB0byBjb250YWN0IEVhcnRoIEVuZ2luZSBzZXJ2ZXJzLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uLCBmaXJld2FsbCwgb3IgYnJvd3NlciBleHRlbnNpb24gc2V0dGluZ3MuXCI7XG4gICAgfVxuICAgIGlmICgyMDAgPiBzdGF0dXMgfHwgMzAwIDw9IHN0YXR1cykge1xuICAgICAgcmV0dXJuIFwiU2VydmVyIHJldHVybmVkIEhUVFAgY29kZTogXCIgKyBzdGF0dXMgKyBcIiBmb3IgXCIgKyBtZXRob2QgKyBcIiBcIiArIHVybDtcbiAgICB9XG4gIH0sIGVycm9yTWVzc2FnZSwgdHlwZUhlYWRlciA9IGdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpIHx8IFwiYXBwbGljYXRpb24vanNvblwiLCBjb250ZW50VHlwZSA9IHR5cGVIZWFkZXIucmVwbGFjZSgvOy4qLywgXCJcIik7XG4gIGlmIChcImFwcGxpY2F0aW9uL2pzb25cIiA9PT0gY29udGVudFR5cGUgfHwgXCJ0ZXh0L2pzb25cIiA9PT0gY29udGVudFR5cGUpIHtcbiAgICB2YXIgcmVzcG9uc2UkanNjb21wJDAgPSBwYXJzZUpzb24ocmVzcG9uc2VUZXh0KTtcbiAgICBpZiAocmVzcG9uc2UkanNjb21wJDAucGFyc2VkKSB7XG4gICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlJGpzY29tcCQwLnBhcnNlZDtcbiAgICAgIHZvaWQgMCA9PT0gZGF0YSAmJiAoZXJyb3JNZXNzYWdlID0gXCJNYWxmb3JtZWQgcmVzcG9uc2U6IFwiICsgcmVzcG9uc2VUZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXJyb3JNZXNzYWdlID0gcmVzcG9uc2UkanNjb21wJDA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChcIm11bHRpcGFydC9taXhlZFwiID09PSBjb250ZW50VHlwZSkge1xuICAgICAgZGF0YSA9IHt9O1xuICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucGFyc2VCYXRjaFJlcGx5KHR5cGVIZWFkZXIsIHJlc3BvbnNlVGV4dCwgZnVuY3Rpb24oaWQsIHN0YXR1cywgdGV4dCkge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBwYXJzZUpzb24odGV4dCk7XG4gICAgICAgIHJlc3BvbnNlLnBhcnNlZCAmJiAoZGF0YVtpZF0gPSByZXNwb25zZS5wYXJzZWQpO1xuICAgICAgICB2YXIgZXJyb3IgPSAocmVzcG9uc2UucGFyc2VkID8gXCJcIiA6IHJlc3BvbnNlKSB8fCBzdGF0dXNFcnJvcihzdGF0dXMpO1xuICAgICAgICBlcnJvciAmJiBlcnJvcnMucHVzaChpZCArIFwiOiBcIiArIGVycm9yKTtcbiAgICAgIH0pO1xuICAgICAgZXJyb3JzLmxlbmd0aCAmJiAoZXJyb3JNZXNzYWdlID0gZXJyb3JzLmpvaW4oXCJcXG5cIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdHlwZUVycm9yID0gXCJSZXNwb25zZSB3YXMgdW5leHBlY3RlZGx5IG5vdCBKU09OLCBidXQgXCIgKyBjb250ZW50VHlwZTtcbiAgICB9XG4gIH1cbiAgZXJyb3JNZXNzYWdlID0gZXJyb3JNZXNzYWdlIHx8IHN0YXR1c0Vycm9yKHN0YXR1cyRqc2NvbXAkMCkgfHwgdHlwZUVycm9yO1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZGF0YSwgZXJyb3JNZXNzYWdlKSwgbnVsbDtcbiAgfVxuICBpZiAoIWVycm9yTWVzc2FnZSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIHRocm93IEVycm9yKGVycm9yTWVzc2FnZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZW5zdXJlQXV0aExpYkxvYWRlZF8gPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICB2YXIgZG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIGdvb2cuZ2xvYmFsLmdhcGkuY29uZmlnLnVwZGF0ZShcImNsaWVudC9jb3JzXCIsICEwKTtcbiAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5SZWZyZXNoZXJfIHx8IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldEF1dGhUb2tlblJlZnJlc2hlcihnb29nLmdsb2JhbC5nYXBpLmF1dGguYXV0aG9yaXplKTtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuICBpZiAoZ29vZy5pc09iamVjdChnb29nLmdsb2JhbC5nYXBpKSAmJiBnb29nLmlzT2JqZWN0KGdvb2cuZ2xvYmFsLmdhcGkuYXV0aCkgJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZ29vZy5nbG9iYWwuZ2FwaS5hdXRoLmF1dGhvcml6ZSkge1xuICAgIGRvbmUoKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBjYWxsYmFja05hbWUgPSBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KTsgY2FsbGJhY2tOYW1lIGluIGdvb2cuZ2xvYmFsOykge1xuICAgICAgY2FsbGJhY2tOYW1lICs9IFwiX1wiO1xuICAgIH1cbiAgICBnb29nLmdsb2JhbFtjYWxsYmFja05hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICBkZWxldGUgZ29vZy5nbG9iYWxbY2FsbGJhY2tOYW1lXTtcbiAgICAgIGRvbmUoKTtcbiAgICB9O1xuICAgIGdvb2cubmV0LmpzbG9hZGVyLnNhZmVMb2FkKGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuZm9ybWF0KG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkFVVEhfTElCUkFSWV9VUkxfLCB7b25sb2FkOmNhbGxiYWNrTmFtZX0pKTtcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmhhbmRsZUF1dGhSZXN1bHRfID0gZnVuY3Rpb24oc3VjY2VzcywgZXJyb3IsIHJlc3VsdCkge1xuICBpZiAocmVzdWx0LmFjY2Vzc190b2tlbikge1xuICAgIHZhciB0b2tlbiA9IHJlc3VsdC50b2tlbl90eXBlICsgXCIgXCIgKyByZXN1bHQuYWNjZXNzX3Rva2VuO1xuICAgIGlmIChyZXN1bHQuZXhwaXJlc19pbiB8fCAwID09PSByZXN1bHQuZXhwaXJlc19pbikge1xuICAgICAgdmFyIGV4cGlyZXNJbk1zID0gOTAwICogcmVzdWx0LmV4cGlyZXNfaW4sIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlZnJlc2hBdXRoVG9rZW4sIDAuOSAqIGV4cGlyZXNJbk1zKTtcbiAgICAgIHZvaWQgMCAhPT0gdGltZW91dC51bnJlZiAmJiB0aW1lb3V0LnVucmVmKCk7XG4gICAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5FeHBpcmF0aW9uXyA9IERhdGUubm93KCkgKyBleHBpcmVzSW5NcztcbiAgICB9XG4gICAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuXyA9IHRva2VuO1xuICAgIHN1Y2Nlc3MgJiYgc3VjY2VzcygpO1xuICB9IGVsc2Uge1xuICAgIGVycm9yICYmIGVycm9yKHJlc3VsdC5lcnJvciB8fCBcIlVua25vd24gZXJyb3IuXCIpO1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQubWFrZVJlcXVlc3RfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGZvciAodmFyIHJlcXVlc3QgPSBuZXcgZ29vZy5VcmkuUXVlcnlEYXRhKCksICRqc2NvbXAkaXRlciQyMSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5lbnRyaWVzKHBhcmFtcykpLCAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMjEubmV4dCgpOyAhJGpzY29tcCRrZXkkLmRvbmU7ICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQyMS5uZXh0KCkpIHtcbiAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI3ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRrZXkkLnZhbHVlKSwgbmFtZSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyNy5uZXh0KCkudmFsdWUsIGl0ZW0gPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjcubmV4dCgpLnZhbHVlO1xuICAgIHJlcXVlc3Quc2V0KG5hbWUsIGl0ZW0pO1xuICB9XG4gIHJldHVybiByZXF1ZXN0O1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldHVwTW9ja1NlbmQgPSBmdW5jdGlvbihjYWxscykge1xuICBmdW5jdGlvbiBnZXRSZXNwb25zZSh1cmwsIG1ldGhvZCwgZGF0YSkge1xuICAgIHVybCA9IHVybC5yZXBsYWNlKGFwaUJhc2VVcmwsIFwiXCIpLnJlcGxhY2UobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBICsgXCIvcHJvamVjdHMvXCIgKyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5ERUZBVUxUX1BST0pFQ1RfICsgXCIvXCIsIFwiXCIpO1xuICAgIGlmICh1cmwgaW4gY2FsbHMpIHtcbiAgICAgIHZhciByZXNwb25zZSA9IGNhbGxzW3VybF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKHVybCArIFwiIG1vY2sgcmVzcG9uc2Ugbm90IHNwZWNpZmllZFwiKTtcbiAgICB9XG4gICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVzcG9uc2UgJiYgKHJlc3BvbnNlID0gcmVzcG9uc2UodXJsLCBtZXRob2QsIGRhdGEpKTtcbiAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcmVzcG9uc2UgJiYgKHJlc3BvbnNlID0ge3RleHQ6cmVzcG9uc2UsIHN0YXR1czoyMDAsIGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwifSk7XG4gICAgaWYgKFwic3RyaW5nXCIgIT09IHR5cGVvZiByZXNwb25zZS50ZXh0KSB7XG4gICAgICB0aHJvdyBFcnJvcih1cmwgKyBcIiBtb2NrIHJlc3BvbnNlIG1pc3NpbmcvaW52YWxpZCB0ZXh0XCIpO1xuICAgIH1cbiAgICBpZiAoXCJudW1iZXJcIiAhPT0gdHlwZW9mIHJlc3BvbnNlLnN0YXR1cyAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiByZXNwb25zZS5zdGF0dXMpIHtcbiAgICAgIHRocm93IEVycm9yKHVybCArIFwiIG1vY2sgcmVzcG9uc2UgbWlzc2luZy9pbnZhbGlkIHN0YXR1c1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG4gIGNhbGxzID0gY2FsbHMgPyBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xvbmUoY2FsbHMpIDoge307XG4gIHZhciBhcGlCYXNlVXJsO1xuICBnb29nLm5ldC5YaHJJby5zZW5kID0gZnVuY3Rpb24odXJsLCBjYWxsYmFjaywgbWV0aG9kLCBkYXRhKSB7XG4gICAgYXBpQmFzZVVybCA9IGFwaUJhc2VVcmwgfHwgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBpQmFzZVVybF87XG4gICAgdmFyIHJlc3BvbnNlRGF0YSA9IGdldFJlc3BvbnNlKHVybCwgbWV0aG9kLCBkYXRhKSwgZSA9IG5ldyBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMudGFyZ2V0ID0ge307XG4gICAgfSgpO1xuICAgIGUudGFyZ2V0LmdldFJlc3BvbnNlVGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlRGF0YS50ZXh0O1xuICAgIH07XG4gICAgZS50YXJnZXQuZ2V0U3RhdHVzID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVzcG9uc2VEYXRhLnN0YXR1cyA/IHJlc3BvbnNlRGF0YS5zdGF0dXMgOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZXNwb25zZURhdGEuc3RhdHVzO1xuICAgIH07XG4gICAgZS50YXJnZXQuZ2V0UmVzcG9uc2VIZWFkZXIgPSBmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIHJldHVybiBcIkNvbnRlbnQtVHlwZVwiID09PSBoZWFkZXIgPyByZXNwb25zZURhdGEuY29udGVudFR5cGUgOiBudWxsO1xuICAgIH07XG4gICAgc2V0VGltZW91dChnb29nLmJpbmQoY2FsbGJhY2ssIGUsIGUpLCAwKTtcbiAgICByZXR1cm4gbmV3IGdvb2cubmV0LlhocklvKCk7XG4gIH07XG4gIHZhciBmYWtlWG1sSHR0cCA9IGZ1bmN0aW9uKCkge1xuICB9O1xuICBmYWtlWG1sSHR0cC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsSW4pIHtcbiAgICBhcGlCYXNlVXJsID0gYXBpQmFzZVVybCB8fCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXztcbiAgICB0aGlzLnVybCA9IHVybEluO1xuICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICB9O1xuICBmYWtlWG1sSHR0cC5wcm90b3R5cGUuc2V0UmVxdWVzdEhlYWRlciA9IGZ1bmN0aW9uKCkge1xuICB9O1xuICBmYWtlWG1sSHR0cC5wcm90b3R5cGUuZ2V0UmVzcG9uc2VIZWFkZXIgPSBmdW5jdGlvbihoZWFkZXIpIHtcbiAgICByZXR1cm4gXCJDb250ZW50LVR5cGVcIiA9PT0gaGVhZGVyID8gdGhpcy5jb250ZW50VHlwZV8gfHwgbnVsbCA6IG51bGw7XG4gIH07XG4gIGZha2VYbWxIdHRwLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciByZXNwb25zZURhdGEgPSBnZXRSZXNwb25zZSh0aGlzLnVybCwgdGhpcy5tZXRob2QsIGRhdGEpO1xuICAgIHRoaXMucmVzcG9uc2VUZXh0ID0gcmVzcG9uc2VEYXRhLnRleHQ7XG4gICAgdGhpcy5zdGF0dXMgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXNwb25zZURhdGEuc3RhdHVzID8gcmVzcG9uc2VEYXRhLnN0YXR1cygpIDogcmVzcG9uc2VEYXRhLnN0YXR1cztcbiAgICB0aGlzLmNvbnRlbnRUeXBlXyA9IHJlc3BvbnNlRGF0YS5jb250ZW50VHlwZTtcbiAgfTtcbiAgZ29vZy5uZXQuWG1sSHR0cC5zZXRHbG9iYWxGYWN0b3J5KHtjcmVhdGVJbnN0YW5jZTpmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IGZha2VYbWxIdHRwKCk7XG4gIH0sIGdldE9wdGlvbnM6ZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9fSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaXNBdXRoVG9rZW5SZWZyZXNoaW5nRW5hYmxlZF8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEoIW1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlblJlZnJlc2hlcl8gfHwgIW1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhDbGllbnRJZF8pO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNhbGN1bGF0ZVJldHJ5V2FpdF8gPSBmdW5jdGlvbihyZXRyeUNvdW50KSB7XG4gIHJldHVybiBNYXRoLm1pbihtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5NQVhfUkVUUllfV0FJVF8sIE1hdGgucG93KDIsIHJldHJ5Q291bnQpICogbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQkFTRV9SRVRSWV9XQUlUXyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2xlZXBfID0gZnVuY3Rpb24odGltZUluTXMpIHtcbiAgZm9yICh2YXIgZW5kID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSArIHRpbWVJbk1zOyAobmV3IERhdGUoKSkuZ2V0VGltZSgpIDwgZW5kOykge1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuTmV0d29ya1JlcXVlc3RfID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVxdWVzdFF1ZXVlXyA9IFtdO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUkVRVUVTVF9USFJPVFRMRV9JTlRFUlZBTF9NU18gPSAzNTA7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5SZXF1ZXN0VGhyb3R0bGVfID0gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlKGZ1bmN0aW9uKCkge1xuICB2YXIgcmVxdWVzdCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlcXVlc3RRdWV1ZV8uc2hpZnQoKTtcbiAgcmVxdWVzdCAmJiBnb29nLm5ldC5YaHJJby5zZW5kKHJlcXVlc3QudXJsLCByZXF1ZXN0LmNhbGxiYWNrLCByZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC5jb250ZW50LCByZXF1ZXN0LmhlYWRlcnMsIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmRlYWRsaW5lTXNfKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNFbXB0eShtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5yZXF1ZXN0UXVldWVfKSB8fCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5SZXF1ZXN0VGhyb3R0bGVfLmZpcmUoKTtcbn0sIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJFUVVFU1RfVEhST1RUTEVfSU5URVJWQUxfTVNfKTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwaUJhc2VVcmxfID0gbnVsbDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnRpbGVCYXNlVXJsXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC54c3JmVG9rZW5fID0gbnVsbDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwcElkVG9rZW5fID0gbnVsbDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnBhcmFtQXVnbWVudGVyXyA9IGdvb2cuZnVuY3Rpb25zLmlkZW50aXR5O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5FeHBpcmF0aW9uXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoQ2xpZW50SWRfID0gbnVsbDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhTY29wZXNfID0gW107XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5SZWZyZXNoZXJfID0gbnVsbDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkFVVEhfU0NPUEVfID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2VhcnRoZW5naW5lXCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5SRUFEX09OTFlfQVVUSF9TQ09QRV8gPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZWFydGhlbmdpbmUucmVhZG9ubHlcIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkNMT1VEX1BMQVRGT1JNX1NDT1BFXyA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9jbG91ZC1wbGF0Zm9ybVwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9BVVRIX1NDT1BFU18gPSBbbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVVUSF9TQ09QRV8sIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkNMT1VEX1BMQVRGT1JNX1NDT1BFX107XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BVVRIX0xJQlJBUllfVVJMXyA9IGdvb2cuc3RyaW5nLkNvbnN0LmZyb20oXCJodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9jbGllbnQuanM/b25sb2FkPSV7b25sb2FkfVwiKTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlNUT1JBR0VfU0NPUEVfID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RldnN0b3JhZ2UucmVhZF93cml0ZVwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xvdWRBcGlLZXlfID0gbnVsbDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemVkXyA9ICExO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZGVhZGxpbmVNc18gPSAwO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucHJvZmlsZUhvb2tfID0gbnVsbDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkJBU0VfUkVUUllfV0FJVF8gPSAxMDAwO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuTUFYX1JFVFJZX1dBSVRfID0gMTIwMDAwO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuTUFYX0FTWU5DX1JFVFJJRVNfID0gMTA7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5NQVhfU1lOQ19SRVRSSUVTXyA9IDU7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BUFBfSURfVE9LRU5fSEVBREVSXyA9IFwiWC1FYXJ0aC1FbmdpbmUtQXBwLUlELVRva2VuXCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX0hFQURFUiA9IFwiWC1FYXJ0aC1FbmdpbmUtQ29tcHV0YXRpb24tUHJvZmlsZVwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUFJPRklMRV9SRVFVRVNUX0hFQURFUiA9IFwiWC1FYXJ0aC1FbmdpbmUtQ29tcHV0YXRpb24tUHJvZmlsaW5nXCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5VU0VSX1BST0pFQ1RfT1ZFUlJJREVfSEVBREVSXyA9IFwiWC1Hb29nLVVzZXItUHJvamVjdFwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVBJX0NMSUVOVF9WRVJTSU9OX0hFQURFUiA9IFwieC1nb29nLWFwaS1jbGllbnRcIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfQVBJX0JBU0VfVVJMXyA9IFwiaHR0cHM6Ly9lYXJ0aGVuZ2luZS5nb29nbGVhcGlzLmNvbS9hcGlcIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfVElMRV9CQVNFX1VSTF8gPSBcImh0dHBzOi8vZWFydGhlbmdpbmUuZ29vZ2xlYXBpcy5jb21cIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkF1dGhBcmdzID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQXV0aFJlc3BvbnNlID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuYXBpY2xpZW50LkNhbGwgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGw7XG5lZS5hcGljbGllbnQuQmF0Y2hDYWxsID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaENhbGw7XG5lZS5hcGljbGllbnQuc2V0QXBpS2V5ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXBpS2V5O1xuZWUuYXBpY2xpZW50LmdldEFwaUtleSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEFwaUtleTtcbmVlLmFwaWNsaWVudC5zZXRQcm9qZWN0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0UHJvamVjdDtcbmVlLmFwaWNsaWVudC5nZXRQcm9qZWN0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0UHJvamVjdDtcbmVlLmFwaWNsaWVudC5ERUZBVUxUX1BST0pFQ1QgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5ERUZBVUxUX1BST0pFQ1RfO1xuZWUuYXBpY2xpZW50LlBST0ZJTEVfSEVBREVSID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUFJPRklMRV9IRUFERVI7XG5lZS5hcGljbGllbnQuUFJPRklMRV9SRVFVRVNUX0hFQURFUiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfUkVRVUVTVF9IRUFERVI7XG5lZS5hcGljbGllbnQuQVBJX0NMSUVOVF9WRVJTSU9OX0hFQURFUiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkFQSV9DTElFTlRfVkVSU0lPTl9IRUFERVI7XG5lZS5hcGljbGllbnQuc2VuZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNlbmQ7XG5lZS5hcGljbGllbnQuQVVUSF9TQ09QRSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkFVVEhfU0NPUEVfO1xuZWUuYXBpY2xpZW50LlJFQURfT05MWV9BVVRIX1NDT1BFID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUkVBRF9PTkxZX0FVVEhfU0NPUEVfO1xuZWUuYXBpY2xpZW50LkNMT1VEX1BMQVRGT1JNX1NDT1BFID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQ0xPVURfUExBVEZPUk1fU0NPUEVfO1xuZWUuYXBpY2xpZW50LlNUT1JBR0VfU0NPUEUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5TVE9SQUdFX1NDT1BFXztcbmVlLmFwaWNsaWVudC5ERUZBVUxUX0FVVEhfU0NPUEVTID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9BVVRIX1NDT1BFU187XG5lZS5hcGljbGllbnQubWFrZVJlcXVlc3QgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tYWtlUmVxdWVzdF87XG5lZS5hcGljbGllbnQucmVzZXQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5yZXNldDtcbmVlLmFwaWNsaWVudC5pbml0aWFsaXplID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZTtcbmVlLmFwaWNsaWVudC5zZXREZWFkbGluZSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldERlYWRsaW5lO1xuZWUuYXBpY2xpZW50LmlzSW5pdGlhbGl6ZWQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pc0luaXRpYWxpemVkO1xuZWUuYXBpY2xpZW50LmVuc3VyZUF1dGhMaWJMb2FkZWQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5lbnN1cmVBdXRoTGliTG9hZGVkXztcbmVlLmFwaWNsaWVudC5oYW5kbGVBdXRoUmVzdWx0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlQXV0aFJlc3VsdF87XG5lZS5hcGljbGllbnQucmVmcmVzaEF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlZnJlc2hBdXRoVG9rZW47XG5lZS5hcGljbGllbnQuc2V0QXV0aENsaWVudCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldEF1dGhDbGllbnQ7XG5lZS5hcGljbGllbnQuZ2V0QXV0aFNjb3BlcyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhTY29wZXM7XG5lZS5hcGljbGllbnQuZ2V0QXV0aENsaWVudElkID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aENsaWVudElkO1xuZWUuYXBpY2xpZW50LmdldEF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhUb2tlbjtcbmVlLmFwaWNsaWVudC5zZXRBdXRoVG9rZW4gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoVG9rZW47XG5lZS5hcGljbGllbnQuY2xlYXJBdXRoVG9rZW4gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5jbGVhckF1dGhUb2tlbjtcbmVlLmFwaWNsaWVudC5zZXRBdXRoVG9rZW5SZWZyZXNoZXIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoVG9rZW5SZWZyZXNoZXI7XG5lZS5hcGljbGllbnQuc2V0QXBwSWRUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldEFwcElkVG9rZW47XG5lZS5hcGljbGllbnQubWVyZ2VBdXRoU2NvcGVzID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQubWVyZ2VBdXRoU2NvcGVzXztcbmVlLmFwaWNsaWVudC5zZXR1cE1vY2tTZW5kID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0dXBNb2NrU2VuZDtcbmVlLmFwaWNsaWVudC5zZXRQYXJhbUF1Z21lbnRlciA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldFBhcmFtQXVnbWVudGVyO1xuZWUuYXBpY2xpZW50LndpdGhQcm9maWxpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC53aXRoUHJvZmlsaW5nO1xuZWUuYXBpY2xpZW50LmdldEFwaUJhc2VVcmwgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBcGlCYXNlVXJsO1xuZWUuYXBpY2xpZW50LmdldFRpbGVCYXNlVXJsID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0VGlsZUJhc2VVcmw7XG5lZS5hcGljbGllbnQuQXV0aEFyZ3MgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BdXRoQXJncztcbmVlLmFwaWNsaWVudC5BdXRoUmVzcG9uc2UgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BdXRoUmVzcG9uc2U7XG5lZS5hcGljbGllbnQuUmVxdWVzdFRocm90dGxlID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUmVxdWVzdFRocm90dGxlXztcbmVlLmFwaWNsaWVudC5jYWxjdWxhdGVSZXRyeVdhaXQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5jYWxjdWxhdGVSZXRyeVdhaXRfO1xuZWUuYXBpY2xpZW50Lk1BWF9BU1lOQ19SRVRSSUVTID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuTUFYX0FTWU5DX1JFVFJJRVNfO1xuZWUuYXBpY2xpZW50LlJFUVVFU1RfVEhST1RUTEVfSU5URVJWQUxfTVMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5SRVFVRVNUX1RIUk9UVExFX0lOVEVSVkFMX01TXztcbmVlLmFwaWNsaWVudC5pc0F1dGhUb2tlblJlZnJlc2hpbmdFbmFibGVkID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaXNBdXRoVG9rZW5SZWZyZXNoaW5nRW5hYmxlZF87XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmFwaS5MaXN0QXNzZXRzUmVzcG9uc2VcIiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QXNzZXRzUmVzcG9uc2UpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5hcGkuRWFydGhFbmdpbmVBc3NldFwiLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5hcGkuTGlzdEltYWdlc1Jlc3BvbnNlXCIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEltYWdlc1Jlc3BvbnNlKTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuYXBpLkltYWdlXCIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2UpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5hcGkuT3BlcmF0aW9uXCIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uKTtcbmVlLkVuY29kYWJsZSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLnJwY19ub2RlID0ge307XG5lZS5ycGNfbm9kZS5jb25zdGFudCA9IGZ1bmN0aW9uKG9iaikge1xuICBpZiAodm9pZCAwID09PSBvYmogfHwgbnVsbCA9PT0gb2JqKSB7XG4gICAgb2JqID0gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5OVUxMX1ZBTFVFO1xuICB9XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2NvbnN0YW50VmFsdWU6b2JqfSk7XG59O1xuZWUucnBjX25vZGUucmVmZXJlbmNlID0gZnVuY3Rpb24ocmVmKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe3ZhbHVlUmVmZXJlbmNlOnJlZn0pO1xufTtcbmVlLnJwY19ub2RlLmFycmF5ID0gZnVuY3Rpb24odmFsdWVzKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2FycmF5VmFsdWU6bmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXJyYXlWYWx1ZSh7dmFsdWVzOnZhbHVlc30pfSk7XG59O1xuZWUucnBjX25vZGUuZGljdGlvbmFyeSA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlKHtkaWN0aW9uYXJ5VmFsdWU6bmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlKHt2YWx1ZXM6dmFsdWVzfSl9KTtcbn07XG5lZS5ycGNfbm9kZS5mdW5jdGlvbkJ5TmFtZSA9IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7ZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWU6bmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25JbnZvY2F0aW9uKHtmdW5jdGlvbk5hbWU6bmFtZSwgYXJndW1lbnRzOmFyZ3N9KX0pO1xufTtcbmVlLnJwY19ub2RlLmZ1bmN0aW9uQnlSZWZlcmVuY2UgPSBmdW5jdGlvbihyZWYsIGFyZ3MpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7ZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWU6bmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25JbnZvY2F0aW9uKHtmdW5jdGlvblJlZmVyZW5jZTpyZWYsIGFyZ3VtZW50czphcmdzfSl9KTtcbn07XG5lZS5ycGNfbm9kZS5mdW5jdGlvbkRlZmluaXRpb24gPSBmdW5jdGlvbihhcmd1bWVudE5hbWVzLCBib2R5KSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2Z1bmN0aW9uRGVmaW5pdGlvblZhbHVlOm5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvbih7YXJndW1lbnROYW1lczphcmd1bWVudE5hbWVzLCBib2R5OmJvZHl9KX0pO1xufTtcbmVlLnJwY19ub2RlLmFyZ3VtZW50UmVmZXJlbmNlID0gZnVuY3Rpb24ocmVmKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2FyZ3VtZW50UmVmZXJlbmNlOnJlZn0pO1xufTtcbmVlLnJwY19jb252ZXJ0ID0ge307XG5lZS5ycGNfY29udmVydC5maWxlRm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0KSB7XG4gIGlmICghZm9ybWF0KSB7XG4gICAgcmV0dXJuIFwiQVVUT19KUEVHX1BOR1wiO1xuICB9XG4gIHZhciB1cHBlciA9IGZvcm1hdC50b1VwcGVyQ2FzZSgpO1xuICBzd2l0Y2godXBwZXIpIHtcbiAgICBjYXNlIFwiSlBHXCI6XG4gICAgICByZXR1cm4gXCJKUEVHXCI7XG4gICAgY2FzZSBcIkFVVE9cIjpcbiAgICAgIHJldHVybiBcIkFVVE9fSlBFR19QTkdcIjtcbiAgICBjYXNlIFwiVElGXCI6XG4gICAgY2FzZSBcIlRJRkZcIjpcbiAgICBjYXNlIFwiR0VPVElGXCI6XG4gICAgY2FzZSBcIkdFT1RJRkZcIjpcbiAgICAgIHJldHVybiBcIkdFT19USUZGXCI7XG4gICAgY2FzZSBcIlRGX1JFQ09SRFwiOlxuICAgIGNhc2UgXCJURlJFQ09SRFwiOlxuICAgICAgcmV0dXJuIFwiVEZfUkVDT1JEX0lNQUdFXCI7XG4gICAgY2FzZSBcIk5VTVBZXCI6XG4gICAgICByZXR1cm4gXCJOUFlcIjtcbiAgICBjYXNlIFwiWklQUEVEX1RJRlwiOlxuICAgIGNhc2UgXCJaSVBQRURfVElGRlwiOlxuICAgIGNhc2UgXCJaSVBQRURfR0VPVElGXCI6XG4gICAgY2FzZSBcIlpJUFBFRF9HRU9USUZGXCI6XG4gICAgICByZXR1cm4gXCJaSVBQRURfR0VPX1RJRkZcIjtcbiAgICBjYXNlIFwiWklQUEVEX1RJRl9QRVJfQkFORFwiOlxuICAgIGNhc2UgXCJaSVBQRURfVElGRl9QRVJfQkFORFwiOlxuICAgIGNhc2UgXCJaSVBQRURfR0VPVElGX1BFUl9CQU5EXCI6XG4gICAgY2FzZSBcIlpJUFBFRF9HRU9USUZGX1BFUl9CQU5EXCI6XG4gICAgICByZXR1cm4gXCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVwcGVyO1xuICB9XG59O1xuZWUucnBjX2NvbnZlcnQudGFibGVGaWxlRm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0KSB7XG4gIGlmICghZm9ybWF0KSB7XG4gICAgcmV0dXJuIFwiQ1NWXCI7XG4gIH1cbiAgdmFyIHVwcGVyID0gZm9ybWF0LnRvVXBwZXJDYXNlKCk7XG4gIHN3aXRjaCh1cHBlcikge1xuICAgIGNhc2UgXCJURl9SRUNPUkRcIjpcbiAgICBjYXNlIFwiVEZSRUNPUkRcIjpcbiAgICAgIHJldHVybiBcIlRGX1JFQ09SRF9UQUJMRVwiO1xuICAgIGNhc2UgXCJKU09OXCI6XG4gICAgY2FzZSBcIkdFT0pTT05cIjpcbiAgICAgIHJldHVybiBcIkdFT19KU09OXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1cHBlcjtcbiAgfVxufTtcbmVlLnJwY19jb252ZXJ0Lm9yaWVudGF0aW9uID0gZnVuY3Rpb24ob3JpZW50YXRpb24pIHtcbiAgaWYgKCFvcmllbnRhdGlvbikge1xuICAgIHJldHVybiBcIlZFUlRJQ0FMXCI7XG4gIH1cbiAgdmFyIHVwcGVyID0gb3JpZW50YXRpb24udG9VcHBlckNhc2UoKTtcbiAgaWYgKFwiSE9SSVpPTlRBTFwiICE9PSB1cHBlciB8fCBcIlZFUlRJQ0FMXCIgIT09IHVwcGVyKSB7XG4gICAgdGhyb3cgRXJyb3IoJ09yaWVudGF0aW9uIG11c3QgYmUgXCJob3Jpem9udGFsXCIgb3IgXCJ2ZXJ0aWNhbFwiJyk7XG4gIH1cbiAgcmV0dXJuIHVwcGVyO1xufTtcbmVlLnJwY19jb252ZXJ0LmJhbmRMaXN0ID0gZnVuY3Rpb24oYmFuZHMpIHtcbiAgaWYgKCFiYW5kcykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGJhbmRzKSB7XG4gICAgcmV0dXJuIGJhbmRzLnNwbGl0KFwiLFwiKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShiYW5kcykpIHtcbiAgICByZXR1cm4gYmFuZHM7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGJhbmQgbGlzdCBcIiArIGJhbmRzKTtcbn07XG5lZS5ycGNfY29udmVydC52aXN1YWxpemF0aW9uT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICB2YXIgcmVzdWx0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnMoKSwgaGFzUmVzdWx0ID0gITE7XG4gIGlmIChcInBhbGV0dGVcIiBpbiBwYXJhbXMpIHtcbiAgICB2YXIgcGFsID0gcGFyYW1zLnBhbGV0dGU7XG4gICAgcmVzdWx0LnBhbGV0dGVDb2xvcnMgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgcGFsID8gcGFsLnNwbGl0KFwiLFwiKSA6IHBhbDtcbiAgICBoYXNSZXN1bHQgPSAhMDtcbiAgfVxuICB2YXIgcmFuZ2VzID0gW107XG4gIGlmIChcImdhaW5cIiBpbiBwYXJhbXMgfHwgXCJiaWFzXCIgaW4gcGFyYW1zKSB7XG4gICAgaWYgKFwibWluXCIgaW4gcGFyYW1zIHx8IFwibWF4XCIgaW4gcGFyYW1zKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkdhaW4gYW5kIGJpYXMgY2FuJ3QgYmUgc3BlY2lmaWVkIHdpdGggbWluIGFuZCBtYXhcIik7XG4gICAgfVxuICAgIHZhciB2YWx1ZVJhbmdlID0gcmVzdWx0LnBhbGV0dGVDb2xvcnMgPyByZXN1bHQucGFsZXR0ZUNvbG9ycy5sZW5ndGggLSAxIDogMjU1O1xuICAgIHJhbmdlcyA9IGVlLnJwY19jb252ZXJ0LnBhaXJlZFZhbHVlcyhwYXJhbXMsIFwiYmlhc1wiLCBcImdhaW5cIikubWFwKGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgIHZhciBtaW4gPSAtcGFpci5iaWFzIC8gcGFpci5nYWluO1xuICAgICAgcmV0dXJuIHttaW46bWluLCBtYXg6dmFsdWVSYW5nZSAvIHBhaXIuZ2FpbiArIG1pbn07XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKFwibWluXCIgaW4gcGFyYW1zIHx8IFwibWF4XCIgaW4gcGFyYW1zKSB7XG4gICAgICByYW5nZXMgPSBlZS5ycGNfY29udmVydC5wYWlyZWRWYWx1ZXMocGFyYW1zLCBcIm1pblwiLCBcIm1heFwiKTtcbiAgICB9XG4gIH1cbiAgMCAhPT0gcmFuZ2VzLmxlbmd0aCAmJiAocmVzdWx0LnJhbmdlcyA9IHJhbmdlcy5tYXAoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2UocmFuZ2UpO1xuICB9KSwgaGFzUmVzdWx0ID0gITApO1xuICB2YXIgZ2FtbWFzID0gZWUucnBjX2NvbnZlcnQuY3N2VG9OdW1iZXJzKHBhcmFtcy5nYW1tYSk7XG4gIGlmICgxIDwgZ2FtbWFzLmxlbmd0aCkge1xuICAgIHRocm93IEVycm9yKFwiT25seSBvbmUgZ2FtbWEgdmFsdWUgaXMgc3VwcG9ydGVkXCIpO1xuICB9XG4gIDEgPT09IGdhbW1hcy5sZW5ndGggJiYgKHJlc3VsdC5nYW1tYSA9IGdhbW1hc1swXSwgaGFzUmVzdWx0ID0gITApO1xuICByZXR1cm4gaGFzUmVzdWx0ID8gcmVzdWx0IDogbnVsbDtcbn07XG5lZS5ycGNfY29udmVydC5jc3ZUb051bWJlcnMgPSBmdW5jdGlvbihjc3YpIHtcbiAgcmV0dXJuIGNzdiA/IGNzdi5zcGxpdChcIixcIikubWFwKE51bWJlcikgOiBbXTtcbn07XG5lZS5ycGNfY29udmVydC5wYWlyZWRWYWx1ZXMgPSBmdW5jdGlvbihvYmosIGEsIGIpIHtcbiAgdmFyIGFWYWx1ZXMgPSBlZS5ycGNfY29udmVydC5jc3ZUb051bWJlcnMob2JqW2FdKSwgYlZhbHVlcyA9IGVlLnJwY19jb252ZXJ0LmNzdlRvTnVtYmVycyhvYmpbYl0pO1xuICBpZiAoMCA9PT0gYVZhbHVlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gYlZhbHVlcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciAkanNjb21wJGNvbXBwcm9wMSA9IHt9O1xuICAgICAgcmV0dXJuICRqc2NvbXAkY29tcHByb3AxW2FdID0gMCwgJGpzY29tcCRjb21wcHJvcDFbYl0gPSB2YWx1ZSwgJGpzY29tcCRjb21wcHJvcDE7XG4gICAgfSk7XG4gIH1cbiAgaWYgKDAgPT09IGJWYWx1ZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGFWYWx1ZXMubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgJGpzY29tcCRjb21wcHJvcDIgPSB7fTtcbiAgICAgIHJldHVybiAkanNjb21wJGNvbXBwcm9wMlthXSA9IHZhbHVlLCAkanNjb21wJGNvbXBwcm9wMltiXSA9IDEsICRqc2NvbXAkY29tcHByb3AyO1xuICAgIH0pO1xuICB9XG4gIGlmIChhVmFsdWVzLmxlbmd0aCAhPT0gYlZhbHVlcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIkxlbmd0aCBvZiBcIiArIGEgKyBcIiBhbmQgXCIgKyBiICsgXCIgbXVzdCBtYXRjaC5cIik7XG4gIH1cbiAgcmV0dXJuIGFWYWx1ZXMubWFwKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgIHZhciAkanNjb21wJGNvbXBwcm9wMyA9IHt9O1xuICAgIHJldHVybiAkanNjb21wJGNvbXBwcm9wM1thXSA9IHZhbHVlLCAkanNjb21wJGNvbXBwcm9wM1tiXSA9IGJWYWx1ZXNbaW5kZXhdLCAkanNjb21wJGNvbXBwcm9wMztcbiAgfSk7XG59O1xuZWUucnBjX2NvbnZlcnQuYWxnb3JpdGhtcyA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICBmb3IgKHZhciBjb252ZXJ0QXJndW1lbnQgPSBmdW5jdGlvbihhcmd1bWVudCkge1xuICAgIHZhciBpbnRlcm5hbEFyZ3VtZW50ID0ge307XG4gICAgaW50ZXJuYWxBcmd1bWVudC5kZXNjcmlwdGlvbiA9IGFyZ3VtZW50LmRlc2NyaXB0aW9uIHx8IFwiXCI7XG4gICAgaW50ZXJuYWxBcmd1bWVudC50eXBlID0gYXJndW1lbnQudHlwZSB8fCBcIlwiO1xuICAgIG51bGwgIT0gYXJndW1lbnQuYXJndW1lbnROYW1lICYmIChpbnRlcm5hbEFyZ3VtZW50Lm5hbWUgPSBhcmd1bWVudC5hcmd1bWVudE5hbWUpO1xuICAgIHZvaWQgMCAhPT0gYXJndW1lbnQuZGVmYXVsdFZhbHVlICYmIChpbnRlcm5hbEFyZ3VtZW50W1wiZGVmYXVsdFwiXSA9IGFyZ3VtZW50LmRlZmF1bHRWYWx1ZSk7XG4gICAgbnVsbCAhPSBhcmd1bWVudC5vcHRpb25hbCAmJiAoaW50ZXJuYWxBcmd1bWVudC5vcHRpb25hbCA9IGFyZ3VtZW50Lm9wdGlvbmFsKTtcbiAgICByZXR1cm4gaW50ZXJuYWxBcmd1bWVudDtcbiAgfSwgY29udmVydEFsZ29yaXRobSA9IGZ1bmN0aW9uKGFsZ29yaXRobSkge1xuICAgIHZhciBpbnRlcm5hbEFsZ29yaXRobSA9IHt9O1xuICAgIGludGVybmFsQWxnb3JpdGhtLmFyZ3MgPSAoYWxnb3JpdGhtLmFyZ3VtZW50cyB8fCBbXSkubWFwKGNvbnZlcnRBcmd1bWVudCk7XG4gICAgaW50ZXJuYWxBbGdvcml0aG0uZGVzY3JpcHRpb24gPSBhbGdvcml0aG0uZGVzY3JpcHRpb24gfHwgXCJcIjtcbiAgICBpbnRlcm5hbEFsZ29yaXRobS5yZXR1cm5zID0gYWxnb3JpdGhtLnJldHVyblR5cGUgfHwgXCJcIjtcbiAgICBudWxsICE9IGFsZ29yaXRobS5oaWRkZW4gJiYgKGludGVybmFsQWxnb3JpdGhtLmhpZGRlbiA9IGFsZ29yaXRobS5oaWRkZW4pO1xuICAgIGFsZ29yaXRobS5wcmV2aWV3ICYmIChpbnRlcm5hbEFsZ29yaXRobS5wcmV2aWV3ID0gYWxnb3JpdGhtLnByZXZpZXcpO1xuICAgIGFsZ29yaXRobS5kZXByZWNhdGVkICYmIChpbnRlcm5hbEFsZ29yaXRobS5kZXByZWNhdGVkID0gYWxnb3JpdGhtLmRlcHJlY2F0aW9uUmVhc29uKTtcbiAgICBhbGdvcml0aG0uc291cmNlQ29kZVVyaSAmJiAoaW50ZXJuYWxBbGdvcml0aG0uc291cmNlQ29kZVVyaSA9IGFsZ29yaXRobS5zb3VyY2VDb2RlVXJpKTtcbiAgICByZXR1cm4gaW50ZXJuYWxBbGdvcml0aG07XG4gIH0sIGludGVybmFsQWxnb3JpdGhtcyA9IHt9LCAkanNjb21wJGl0ZXIkMjIgPSAkanNjb21wLm1ha2VJdGVyYXRvcihyZXN1bHQuYWxnb3JpdGhtcyB8fCBbXSksICRqc2NvbXAka2V5JGFsZ29yaXRobSA9ICRqc2NvbXAkaXRlciQyMi5uZXh0KCk7ICEkanNjb21wJGtleSRhbGdvcml0aG0uZG9uZTsgJGpzY29tcCRrZXkkYWxnb3JpdGhtID0gJGpzY29tcCRpdGVyJDIyLm5leHQoKSkge1xuICAgIHZhciBhbGdvcml0aG0kanNjb21wJDAgPSAkanNjb21wJGtleSRhbGdvcml0aG0udmFsdWUsIG5hbWUgPSBhbGdvcml0aG0kanNjb21wJDAubmFtZS5yZXBsYWNlKC9eYWxnb3JpdGhtc1xcLy8sIFwiXCIpO1xuICAgIGludGVybmFsQWxnb3JpdGhtc1tuYW1lXSA9IGNvbnZlcnRBbGdvcml0aG0oYWxnb3JpdGhtJGpzY29tcCQwKTtcbiAgfVxuICByZXR1cm4gaW50ZXJuYWxBbGdvcml0aG1zO1xufTtcbmVlLnJwY19jb252ZXJ0LkRFRkFVTFRfUFJPSkVDVCA9IFwiZWFydGhlbmdpbmUtbGVnYWN5XCI7XG5lZS5ycGNfY29udmVydC5QVUJMSUNfUFJPSkVDVCA9IFwiZWFydGhlbmdpbmUtcHVibGljXCI7XG5lZS5ycGNfY29udmVydC5QUk9KRUNUX0lEX1JFID0gL15wcm9qZWN0c1xcLygoPzpcXHcrKD86W1xcd1xcLV0rXFwuW1xcd1xcLV0rKSo/XFwuXFx3KzopP1thLXpdW2EtejAtOVxcLV17NCwyOH1bYS16MC05XSlcXC8uKy87XG5lZS5ycGNfY29udmVydC5DTE9VRF9BU1NFVF9JRF9SRSA9IC9ecHJvamVjdHNcXC8oKD86XFx3Kyg/OltcXHdcXC1dK1xcLltcXHdcXC1dKykqP1xcLlxcdys6KT9bYS16XVthLXowLTlcXC1dezQsMjh9W2EtejAtOV0pXFwvYXNzZXRzXFwvKC4qKSQvO1xuZWUucnBjX2NvbnZlcnQuQ0xPVURfQVNTRVRfUk9PVF9SRSA9IC9ecHJvamVjdHNcXC8oKD86XFx3Kyg/OltcXHdcXC1dK1xcLltcXHdcXC1dKykqP1xcLlxcdys6KT9bYS16XVthLXowLTlcXC1dezQsMjh9W2EtejAtOV0pXFwvYXNzZXRzXFwvPyQvO1xuZWUucnBjX2NvbnZlcnQucHJvamVjdElkRnJvbVBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBtYXRjaGVzID0gZWUucnBjX2NvbnZlcnQuUFJPSkVDVF9JRF9SRS5leGVjKHBhdGgpO1xuICByZXR1cm4gbWF0Y2hlcyA/IG1hdGNoZXNbMV0gOiBlZS5ycGNfY29udmVydC5ERUZBVUxUX1BST0pFQ1Q7XG59O1xuZWUucnBjX2NvbnZlcnQucHJvamVjdFBhcmVudEZyb21QYXRoID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gXCJwcm9qZWN0cy9cIiArIGVlLnJwY19jb252ZXJ0LnByb2plY3RJZEZyb21QYXRoKHBhdGgpO1xufTtcbmVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZSA9IGZ1bmN0aW9uKHBhcmFtKSB7XG4gIHJldHVybiBlZS5ycGNfY29udmVydC5DTE9VRF9BU1NFVF9JRF9SRS5leGVjKHBhcmFtKSA/IHBhcmFtIDogL14odXNlcnN8cHJvamVjdHMpXFwvLiovLmV4ZWMocGFyYW0pID8gXCJwcm9qZWN0cy9cIiArIGVlLnJwY19jb252ZXJ0LkRFRkFVTFRfUFJPSkVDVCArIFwiL2Fzc2V0cy9cIiArIHBhcmFtIDogXCJwcm9qZWN0cy9cIiArIGVlLnJwY19jb252ZXJ0LlBVQkxJQ19QUk9KRUNUICsgXCIvYXNzZXRzL1wiICsgcGFyYW07XG59O1xuZWUucnBjX2NvbnZlcnQuYXNzZXROYW1lVG9Bc3NldElkID0gZnVuY3Rpb24obmFtZSkge1xuICB2YXIgcGFydHMgPSBuYW1lLnNwbGl0KFwiL1wiKSwgaXNMZWdhY3lQcm9qZWN0ID0gZnVuY3Rpb24oaWQpIHtcbiAgICByZXR1cm4gW2VlLnJwY19jb252ZXJ0LkRFRkFVTFRfUFJPSkVDVCwgZWUucnBjX2NvbnZlcnQuUFVCTElDX1BST0pFQ1RdLmluY2x1ZGVzKGlkKTtcbiAgfTtcbiAgcmV0dXJuIFwicHJvamVjdHNcIiA9PT0gcGFydHNbMF0gJiYgXCJhc3NldHNcIiA9PT0gcGFydHNbMl0gJiYgaXNMZWdhY3lQcm9qZWN0KHBhcnRzWzFdKSA/IHBhcnRzLnNsaWNlKDMpLmpvaW4oXCIvXCIpIDogbmFtZTtcbn07XG5lZS5ycGNfY29udmVydC5hc3NldFR5cGVGb3JDcmVhdGUgPSBmdW5jdGlvbihwYXJhbSkge1xuICBzd2l0Y2gocGFyYW0pIHtcbiAgICBjYXNlIFwiSW1hZ2VDb2xsZWN0aW9uXCI6XG4gICAgICByZXR1cm4gXCJJTUFHRV9DT0xMRUNUSU9OXCI7XG4gICAgY2FzZSBcIkZvbGRlclwiOlxuICAgICAgcmV0dXJuIFwiRk9MREVSXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwYXJhbTtcbiAgfVxufTtcbmVlLnJwY19jb252ZXJ0Lmxpc3RBc3NldHNUb0dldExpc3QgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgcmV0dXJuIChyZXN1bHQuYXNzZXRzIHx8IFtdKS5tYXAoZWUucnBjX2NvbnZlcnQuYXNzZXRUb0xlZ2FjeVJlc3VsdCk7XG59O1xuZWUucnBjX2NvbnZlcnQubGlzdEltYWdlc1RvR2V0TGlzdCA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICByZXR1cm4gKHJlc3VsdC5pbWFnZXMgfHwgW10pLm1hcChlZS5ycGNfY29udmVydC5pbWFnZVRvTGVnYWN5UmVzdWx0KTtcbn07XG5lZS5ycGNfY29udmVydC5hc3NldFR5cGVUb0xlZ2FjeUFzc2V0VHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgc3dpdGNoKHR5cGUpIHtcbiAgICBjYXNlIFwiQUxHT1JJVEhNXCI6XG4gICAgICByZXR1cm4gXCJBbGdvcml0aG1cIjtcbiAgICBjYXNlIFwiRk9MREVSXCI6XG4gICAgICByZXR1cm4gXCJGb2xkZXJcIjtcbiAgICBjYXNlIFwiSU1BR0VcIjpcbiAgICAgIHJldHVybiBcIkltYWdlXCI7XG4gICAgY2FzZSBcIklNQUdFX0NPTExFQ1RJT05cIjpcbiAgICAgIHJldHVybiBcIkltYWdlQ29sbGVjdGlvblwiO1xuICAgIGNhc2UgXCJUQUJMRVwiOlxuICAgICAgcmV0dXJuIFwiVGFibGVcIjtcbiAgICBjYXNlIFwiQ0xBU1NJRklFUlwiOlxuICAgICAgcmV0dXJuIFwiQ2xhc3NpZmllclwiO1xuICAgIGNhc2UgXCJEQVRBX01BUFBJTkdfU0VSVklDRVwiOlxuICAgICAgcmV0dXJuIFwiRmVhdHVyZVZpZXdcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiVW5rbm93blwiO1xuICB9XG59O1xuZWUucnBjX2NvbnZlcnQubGVnYWN5QXNzZXRUeXBlVG9Bc3NldFR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHN3aXRjaCh0eXBlKSB7XG4gICAgY2FzZSBcIkFsZ29yaXRobVwiOlxuICAgICAgcmV0dXJuIFwiQUxHT1JJVEhNXCI7XG4gICAgY2FzZSBcIkZvbGRlclwiOlxuICAgICAgcmV0dXJuIFwiRk9MREVSXCI7XG4gICAgY2FzZSBcIkltYWdlXCI6XG4gICAgICByZXR1cm4gXCJJTUFHRVwiO1xuICAgIGNhc2UgXCJJbWFnZUNvbGxlY3Rpb25cIjpcbiAgICAgIHJldHVybiBcIklNQUdFX0NPTExFQ1RJT05cIjtcbiAgICBjYXNlIFwiVGFibGVcIjpcbiAgICAgIHJldHVybiBcIlRBQkxFXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcIlVOS05PV05cIjtcbiAgfVxufTtcbmVlLnJwY19jb252ZXJ0LmFzc2V0VG9MZWdhY3lSZXN1bHQgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgdmFyIGFzc2V0ID0gZWUucnBjX2NvbnZlcnQubWFrZUxlZ2FjeUFzc2V0XyhlZS5ycGNfY29udmVydC5hc3NldFR5cGVUb0xlZ2FjeUFzc2V0VHlwZShyZXN1bHQudHlwZSksIHJlc3VsdC5uYW1lKSwgcHJvcGVydGllcyA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3VsdC5wcm9wZXJ0aWVzIHx8IHt9KTtcbiAgcmVzdWx0LnNpemVCeXRlcyAmJiAocHJvcGVydGllc1tcInN5c3RlbTphc3NldF9zaXplXCJdID0gTnVtYmVyKHJlc3VsdC5zaXplQnl0ZXMpKTtcbiAgcmVzdWx0LnN0YXJ0VGltZSAmJiAocHJvcGVydGllc1tcInN5c3RlbTp0aW1lX3N0YXJ0XCJdID0gRGF0ZS5wYXJzZShyZXN1bHQuc3RhcnRUaW1lKSk7XG4gIHJlc3VsdC5lbmRUaW1lICYmIChwcm9wZXJ0aWVzW1wic3lzdGVtOnRpbWVfZW5kXCJdID0gRGF0ZS5wYXJzZShyZXN1bHQuZW5kVGltZSkpO1xuICByZXN1bHQuZ2VvbWV0cnkgJiYgKHByb3BlcnRpZXNbXCJzeXN0ZW06Zm9vdHByaW50XCJdID0gcmVzdWx0Lmdlb21ldHJ5KTtcbiAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHJlc3VsdC50aXRsZSAmJiAocHJvcGVydGllc1tcInN5c3RlbTp0aXRsZVwiXSA9IHJlc3VsdC50aXRsZSk7XG4gIFwic3RyaW5nXCIgPT09IHR5cGVvZiByZXN1bHQuZGVzY3JpcHRpb24gJiYgKHByb3BlcnRpZXNbXCJzeXN0ZW06ZGVzY3JpcHRpb25cIl0gPSByZXN1bHQuZGVzY3JpcHRpb24pO1xuICByZXN1bHQudXBkYXRlVGltZSAmJiAoYXNzZXQudmVyc2lvbiA9IDEwMDAgKiBEYXRlLnBhcnNlKHJlc3VsdC51cGRhdGVUaW1lKSk7XG4gIGFzc2V0LnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICByZXN1bHQuYmFuZHMgJiYgKGFzc2V0LmJhbmRzID0gcmVzdWx0LmJhbmRzLm1hcChmdW5jdGlvbihiYW5kKSB7XG4gICAgdmFyIGxlZ2FjeUJhbmQgPSB7aWQ6YmFuZC5pZCwgY3JzOmJhbmQuZ3JpZC5jcnNDb2RlLCBkaW1lbnNpb25zOnZvaWQgMCwgY3JzX3RyYW5zZm9ybTp2b2lkIDAsfTtcbiAgICBpZiAoYmFuZC5ncmlkKSB7XG4gICAgICBpZiAobnVsbCAhPSBiYW5kLmdyaWQuYWZmaW5lVHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciBhZmZpbmUgPSBiYW5kLmdyaWQuYWZmaW5lVHJhbnNmb3JtO1xuICAgICAgICBsZWdhY3lCYW5kLmNyc190cmFuc2Zvcm0gPSBbYWZmaW5lLnNjYWxlWCB8fCAwLCBhZmZpbmUuc2hlYXJYIHx8IDAsIGFmZmluZS50cmFuc2xhdGVYIHx8IDAsIGFmZmluZS5zaGVhclkgfHwgMCwgYWZmaW5lLnNjYWxlWSB8fCAwLCBhZmZpbmUudHJhbnNsYXRlWSB8fCAwLF07XG4gICAgICB9XG4gICAgICBudWxsICE9IGJhbmQuZ3JpZC5kaW1lbnNpb25zICYmIChsZWdhY3lCYW5kLmRpbWVuc2lvbnMgPSBbYmFuZC5ncmlkLmRpbWVuc2lvbnMud2lkdGgsIGJhbmQuZ3JpZC5kaW1lbnNpb25zLmhlaWdodF0pO1xuICAgIH1cbiAgICBpZiAoYmFuZC5kYXRhVHlwZSkge1xuICAgICAgdmFyIGRhdGFUeXBlID0ge3R5cGU6XCJQaXhlbFR5cGVcIn07XG4gICAgICBkYXRhVHlwZS5wcmVjaXNpb24gPSAoYmFuZC5kYXRhVHlwZS5wcmVjaXNpb24gfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgIGJhbmQuZGF0YVR5cGUucmFuZ2UgJiYgKGRhdGFUeXBlLm1pbiA9IGJhbmQuZGF0YVR5cGUucmFuZ2UubWluIHx8IDAsIGRhdGFUeXBlLm1heCA9IGJhbmQuZGF0YVR5cGUucmFuZ2UubWF4KTtcbiAgICAgIGxlZ2FjeUJhbmQuZGF0YV90eXBlID0gZGF0YVR5cGU7XG4gICAgfVxuICAgIHJldHVybiBsZWdhY3lCYW5kO1xuICB9KSk7XG4gIHJlc3VsdC5kbXNBc3NldExvY2F0aW9uICYmIChhc3NldC5tYXBMb2NhdGlvbiA9IHJlc3VsdC5kbXNBc3NldExvY2F0aW9uKTtcbiAgcmVzdWx0LmZlYXR1cmVDb3VudCAmJiAoYXNzZXQuZmVhdHVyZUNvdW50ID0gcmVzdWx0LmZlYXR1cmVDb3VudCk7XG4gIHJldHVybiBhc3NldDtcbn07XG5lZS5ycGNfY29udmVydC5sZWdhY3lQcm9wZXJ0aWVzVG9Bc3NldFVwZGF0ZSA9IGZ1bmN0aW9uKGxlZ2FjeVByb3BlcnRpZXMpIHtcbiAgdmFyIGFzc2V0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldCgpLCB0b1RpbWVzdGFtcCA9IGZ1bmN0aW9uKG1zZWMpIHtcbiAgICByZXR1cm4gKG5ldyBEYXRlKE51bWJlcihtc2VjKSkpLnRvSVNPU3RyaW5nKCk7XG4gIH0sIGFzTnVsbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIG51bGwgPT09IHZhbHVlID8gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5OVUxMX1ZBTFVFIDogdm9pZCAwO1xuICB9LCBwcm9wZXJ0aWVzID0gT2JqZWN0LmFzc2lnbih7fSwgbGVnYWN5UHJvcGVydGllcyksIHZhbHVlJGpzY29tcCQwLCBleHRyYWN0VmFsdWUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YWx1ZSRqc2NvbXAkMCA9IHByb3BlcnRpZXNba2V5XTtcbiAgICBkZWxldGUgcHJvcGVydGllc1trZXldO1xuICAgIHJldHVybiB2YWx1ZSRqc2NvbXAkMDtcbiAgfTtcbiAgdm9pZCAwICE9PSBleHRyYWN0VmFsdWUoXCJzeXN0ZW06YXNzZXRfc2l6ZVwiKSAmJiAoYXNzZXQuc2l6ZUJ5dGVzID0gYXNOdWxsKHZhbHVlJGpzY29tcCQwKSB8fCBTdHJpbmcodmFsdWUkanNjb21wJDApKTtcbiAgdm9pZCAwICE9PSBleHRyYWN0VmFsdWUoXCJzeXN0ZW06dGltZV9zdGFydFwiKSAmJiAoYXNzZXQuc3RhcnRUaW1lID0gYXNOdWxsKHZhbHVlJGpzY29tcCQwKSB8fCB0b1RpbWVzdGFtcCh2YWx1ZSRqc2NvbXAkMCkpO1xuICB2b2lkIDAgIT09IGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aW1lX2VuZFwiKSAmJiAoYXNzZXQuZW5kVGltZSA9IGFzTnVsbCh2YWx1ZSRqc2NvbXAkMCkgfHwgdG9UaW1lc3RhbXAodmFsdWUkanNjb21wJDApKTtcbiAgdm9pZCAwICE9PSBleHRyYWN0VmFsdWUoXCJzeXN0ZW06Zm9vdHByaW50XCIpICYmIChhc3NldC5nZW9tZXRyeSA9IGFzTnVsbCh2YWx1ZSRqc2NvbXAkMCkgfHwgdmFsdWUkanNjb21wJDApO1xuICBleHRyYWN0VmFsdWUoXCJzeXN0ZW06dGl0bGVcIik7XG4gIFwic3RyaW5nXCIgIT09IHR5cGVvZiB2YWx1ZSRqc2NvbXAkMCAmJiBudWxsICE9PSB2YWx1ZSRqc2NvbXAkMCB8fCBudWxsICE9IHByb3BlcnRpZXMudGl0bGUgfHwgKHByb3BlcnRpZXMudGl0bGUgPSBhc051bGwodmFsdWUkanNjb21wJDApIHx8IHZhbHVlJGpzY29tcCQwKTtcbiAgZXh0cmFjdFZhbHVlKFwic3lzdGVtOmRlc2NyaXB0aW9uXCIpO1xuICBcInN0cmluZ1wiICE9PSB0eXBlb2YgdmFsdWUkanNjb21wJDAgJiYgbnVsbCAhPT0gdmFsdWUkanNjb21wJDAgfHwgbnVsbCAhPSBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uIHx8IChwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uID0gYXNOdWxsKHZhbHVlJGpzY29tcCQwKSB8fCB2YWx1ZSRqc2NvbXAkMCk7XG4gIE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24oJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI4KSB7XG4gICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyOSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyOCksIGtleSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyOS5uZXh0KCkudmFsdWUsIHZhbHVlID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI5Lm5leHQoKS52YWx1ZTtcbiAgICBwcm9wZXJ0aWVzW2tleV0gPSBhc051bGwodmFsdWUpIHx8IHZhbHVlO1xuICB9KTtcbiAgYXNzZXQucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gIHJldHVybiBhc3NldDtcbn07XG5lZS5ycGNfY29udmVydC5pbWFnZVRvTGVnYWN5UmVzdWx0ID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gIHJldHVybiBlZS5ycGNfY29udmVydC5tYWtlTGVnYWN5QXNzZXRfKFwiSW1hZ2VcIiwgcmVzdWx0Lm5hbWUpO1xufTtcbmVlLnJwY19jb252ZXJ0Lm1ha2VMZWdhY3lBc3NldF8gPSBmdW5jdGlvbih0eXBlLCBuYW1lKSB7XG4gIHZhciBsZWdhY3lBc3NldCA9IHt9O1xuICBsZWdhY3lBc3NldC50eXBlID0gdHlwZTtcbiAgbnVsbCAhPSBuYW1lICYmIChsZWdhY3lBc3NldC5pZCA9IGVlLnJwY19jb252ZXJ0LmFzc2V0TmFtZVRvQXNzZXRJZChuYW1lKSk7XG4gIHJldHVybiBsZWdhY3lBc3NldDtcbn07XG5lZS5ycGNfY29udmVydC5nZXRMaXN0VG9MaXN0SW1hZ2VzID0gZnVuY3Rpb24ocGFyYW0pIHtcbiAgdmFyIGltYWdlc1JlcXVlc3QgPSB7fSwgdG9UaW1lc3RhbXAgPSBmdW5jdGlvbihtc2VjKSB7XG4gICAgcmV0dXJuIChuZXcgRGF0ZShtc2VjKSkudG9JU09TdHJpbmcoKTtcbiAgfTtcbiAgcGFyYW0ubnVtICYmIChpbWFnZXNSZXF1ZXN0LnBhZ2VTaXplID0gcGFyYW0ubnVtKTtcbiAgcGFyYW0uc3RhcnR0aW1lICYmIChpbWFnZXNSZXF1ZXN0LnN0YXJ0VGltZSA9IHRvVGltZXN0YW1wKHBhcmFtLnN0YXJ0dGltZSkpO1xuICBwYXJhbS5lbmR0aW1lICYmIChpbWFnZXNSZXF1ZXN0LmVuZFRpbWUgPSB0b1RpbWVzdGFtcChwYXJhbS5lbmR0aW1lKSk7XG4gIHBhcmFtLmJib3ggJiYgKGltYWdlc1JlcXVlc3QucmVnaW9uID0gZWUucnBjX2NvbnZlcnQuYm91bmRpbmdCb3hUb0dlb0pzb24ocGFyYW0uYmJveCkpO1xuICBwYXJhbS5yZWdpb24gJiYgKGltYWdlc1JlcXVlc3QucmVnaW9uID0gcGFyYW0ucmVnaW9uKTtcbiAgcGFyYW0uYmJveCAmJiBwYXJhbS5yZWdpb24gJiYgY29uc29sZS53YXJuKFwiTXVsdGlwbGUgcmVxdWVzdCBwYXJhbWV0ZXJzIGNvbnZlcnRlZCB0byByZWdpb25cIik7XG4gIGZvciAodmFyIGFsbEtleXMgPSBcImlkIG51bSBzdGFydHRpbWUgZW5kdGltZSBiYm94IHJlZ2lvblwiLnNwbGl0KFwiIFwiKSwgJGpzY29tcCRpdGVyJDIzID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmtleXMocGFyYW0pLmZpbHRlcihmdW5jdGlvbihrKSB7XG4gICAgcmV0dXJuICFhbGxLZXlzLmluY2x1ZGVzKGspO1xuICB9KSksICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQyMy5uZXh0KCk7ICEkanNjb21wJGtleSRrZXkuZG9uZTsgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDIzLm5leHQoKSkge1xuICAgIGNvbnNvbGUud2FybihcIlVucmVjb2duaXplZCBrZXkgXCIgKyAkanNjb21wJGtleSRrZXkudmFsdWUgKyBcIiBpZ25vcmVkXCIpO1xuICB9XG4gIGltYWdlc1JlcXVlc3QuZmllbGRzID0gXCJhc3NldHModHlwZSxwYXRoKVwiO1xuICByZXR1cm4gaW1hZ2VzUmVxdWVzdDtcbn07XG5lZS5ycGNfY29udmVydC5ib3VuZGluZ0JveFRvR2VvSnNvbiA9IGZ1bmN0aW9uKGJib3gpIHtcbiAgcmV0dXJuICd7XCJ0eXBlXCI6XCJQb2x5Z29uXCIsXCJjb29yZGluYXRlc1wiOltbWycgKyBbWzAsIDFdLCBbMiwgMV0sIFsyLCAzXSwgWzAsIDNdLCBbMCwgMV1dLm1hcChmdW5jdGlvbihpKSB7XG4gICAgcmV0dXJuIGJib3hbaVswXV0gKyBcIixcIiArIGJib3hbaVsxXV07XG4gIH0pLmpvaW4oXCJdLFtcIikgKyBcIl1dXX1cIjtcbn07XG5lZS5ycGNfY29udmVydC5pYW1Qb2xpY3lUb0FjbCA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICB2YXIgYmluZGluZ01hcCA9IHt9O1xuICAocmVzdWx0LmJpbmRpbmdzIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcbiAgICBiaW5kaW5nTWFwW2JpbmRpbmcucm9sZV0gPSBiaW5kaW5nLm1lbWJlcnM7XG4gIH0pO1xuICB2YXIgZ3JvdXBzID0gbmV3IFNldCgpLCB0b0FjbCA9IGZ1bmN0aW9uKG1lbWJlcikge1xuICAgIHZhciBlbWFpbCA9IG1lbWJlci5yZXBsYWNlKC9eZ3JvdXA6fF51c2VyOnxec2VydmljZUFjY291bnQ6LywgXCJcIik7XG4gICAgbWVtYmVyLnN0YXJ0c1dpdGgoXCJncm91cDpcIikgJiYgZ3JvdXBzLmFkZChlbWFpbCk7XG4gICAgcmV0dXJuIGVtYWlsO1xuICB9LCByZWFkZXJzV2l0aEFsbCA9IGJpbmRpbmdNYXBbXCJyb2xlcy92aWV3ZXJcIl0gfHwgW10sIHJlYWRlcnMgPSByZWFkZXJzV2l0aEFsbC5maWx0ZXIoZnVuY3Rpb24ocmVhZGVyKSB7XG4gICAgcmV0dXJuIFwiYWxsVXNlcnNcIiAhPT0gcmVhZGVyO1xuICB9KSwgaW50ZXJuYWxBY2wgPSB7b3duZXJzOihiaW5kaW5nTWFwW1wicm9sZXMvb3duZXJcIl0gfHwgW10pLm1hcCh0b0FjbCksIHdyaXRlcnM6KGJpbmRpbmdNYXBbXCJyb2xlcy9lZGl0b3JcIl0gfHwgW10pLm1hcCh0b0FjbCksIHJlYWRlcnM6cmVhZGVycy5tYXAodG9BY2wpLH07XG4gIDAgPCBncm91cHMuc2l6ZSAmJiAoaW50ZXJuYWxBY2wuZ3JvdXBzID0gZ3JvdXBzKTtcbiAgcmVhZGVyc1dpdGhBbGwubGVuZ3RoICE9IHJlYWRlcnMubGVuZ3RoICYmIChpbnRlcm5hbEFjbC5hbGxfdXNlcnNfY2FuX3JlYWQgPSAhMCk7XG4gIHJldHVybiBpbnRlcm5hbEFjbDtcbn07XG5lZS5ycGNfY29udmVydC5hY2xUb0lhbVBvbGljeSA9IGZ1bmN0aW9uKGFjbHMpIHtcbiAgdmFyIGlzR3JvdXAgPSBmdW5jdGlvbihlbWFpbCkge1xuICAgIHJldHVybiBhY2xzLmdyb3VwcyAmJiBhY2xzLmdyb3Vwcy5oYXMoZW1haWwpO1xuICB9LCBpc1NlcnZpY2VBY2NvdW50ID0gZnVuY3Rpb24oZW1haWwpIHtcbiAgICByZXR1cm4gZW1haWwubWF0Y2goL1tAfFxcLl1nc2VydmljZWFjY291bnRcXC5jb20kLyk7XG4gIH0sIGFzTWVtYmVycyA9IGZ1bmN0aW9uKGFjbE5hbWUpIHtcbiAgICByZXR1cm4gKGFjbHNbYWNsTmFtZV0gfHwgW10pLm1hcChmdW5jdGlvbihlbWFpbCkge1xuICAgICAgdmFyIHByZWZpeCA9IFwidXNlcjpcIjtcbiAgICAgIGlzR3JvdXAoZW1haWwpID8gcHJlZml4ID0gXCJncm91cDpcIiA6IGlzU2VydmljZUFjY291bnQoZW1haWwpICYmIChwcmVmaXggPSBcInNlcnZpY2VBY2NvdW50OlwiKTtcbiAgICAgIHJldHVybiBwcmVmaXggKyBlbWFpbDtcbiAgICB9KTtcbiAgfSwgYWxsID0gYWNscy5hbGxfdXNlcnNfY2FuX3JlYWQgPyBbXCJhbGxVc2Vyc1wiXSA6IFtdLCBiaW5kaW5ncyA9IFt7cm9sZTpcInJvbGVzL293bmVyXCIsIG1lbWJlcnM6YXNNZW1iZXJzKFwib3duZXJzXCIpfSwge3JvbGU6XCJyb2xlcy92aWV3ZXJcIiwgbWVtYmVyczphc01lbWJlcnMoXCJyZWFkZXJzXCIpLmNvbmNhdChhbGwpfSwge3JvbGU6XCJyb2xlcy9lZGl0b3JcIiwgbWVtYmVyczphc01lbWJlcnMoXCJ3cml0ZXJzXCIpfSxdLm1hcChmdW5jdGlvbihwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZyhwYXJhbXMpO1xuICB9KTtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBvbGljeSh7YmluZGluZ3M6YmluZGluZ3MuZmlsdGVyKGZ1bmN0aW9uKGJpbmRpbmcpIHtcbiAgICByZXR1cm4gYmluZGluZy5tZW1iZXJzLmxlbmd0aDtcbiAgfSksIGV0YWc6bnVsbCx9KTtcbn07XG5lZS5ycGNfY29udmVydC50YXNrSWRUb09wZXJhdGlvbk5hbWUgPSBmdW5jdGlvbihvcGVyYXRpb25OYW1lT3JUYXNrSWQpIHtcbiAgcmV0dXJuIFwicHJvamVjdHMvXCIgKyBlZS5ycGNfY29udmVydC5vcGVyYXRpb25OYW1lVG9Qcm9qZWN0KG9wZXJhdGlvbk5hbWVPclRhc2tJZCkgKyBcIi9vcGVyYXRpb25zL1wiICsgZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uTmFtZVRvVGFza0lkKG9wZXJhdGlvbk5hbWVPclRhc2tJZCk7XG59O1xuZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uTmFtZVRvVGFza0lkID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gIHZhciBmb3VuZCA9IC9eLipvcGVyYXRpb25zXFwvKC4qKSQvLmV4ZWMocmVzdWx0KTtcbiAgcmV0dXJuIGZvdW5kID8gZm91bmRbMV0gOiByZXN1bHQ7XG59O1xuZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uTmFtZVRvUHJvamVjdCA9IGZ1bmN0aW9uKG9wZXJhdGlvbk5hbWVPclRhc2tJZCkge1xuICB2YXIgZm91bmQgPSAvXnByb2plY3RzXFwvKC4rKVxcL29wZXJhdGlvbnNcXC8uKyQvLmV4ZWMob3BlcmF0aW9uTmFtZU9yVGFza0lkKTtcbiAgcmV0dXJuIGZvdW5kID8gZm91bmRbMV0gOiBlZS5ycGNfY29udmVydC5ERUZBVUxUX1BST0pFQ1Q7XG59O1xuZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uVG9UYXNrID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gIHZhciBpbnRlcm5hbFRhc2sgPSB7fSwgYXNzaWduVGltZXN0YW1wID0gZnVuY3Rpb24oZmllbGQsIHRpbWVzdGFtcCkge1xuICAgIG51bGwgIT0gdGltZXN0YW1wICYmIChpbnRlcm5hbFRhc2tbZmllbGRdID0gRGF0ZS5wYXJzZSh0aW1lc3RhbXApKTtcbiAgfSwgY29udmVydFN0YXRlID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICBzd2l0Y2goc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJQRU5ESU5HXCI6XG4gICAgICAgIHJldHVybiBcIlJFQURZXCI7XG4gICAgICBjYXNlIFwiUlVOTklOR1wiOlxuICAgICAgICByZXR1cm4gXCJSVU5OSU5HXCI7XG4gICAgICBjYXNlIFwiQ0FOQ0VMTElOR1wiOlxuICAgICAgICByZXR1cm4gXCJDQU5DRUxfUkVRVUVTVEVEXCI7XG4gICAgICBjYXNlIFwiU1VDQ0VFREVEXCI6XG4gICAgICAgIHJldHVybiBcIkNPTVBMRVRFRFwiO1xuICAgICAgY2FzZSBcIkNBTkNFTExFRFwiOlxuICAgICAgICByZXR1cm4gXCJDQU5DRUxMRURcIjtcbiAgICAgIGNhc2UgXCJGQUlMRURcIjpcbiAgICAgICAgcmV0dXJuIFwiRkFJTEVEXCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJVTktOT1dOXCI7XG4gICAgfVxuICB9LCBtZXRhZGF0YSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGEsIHJlc3VsdC5tZXRhZGF0YSB8fCB7fSk7XG4gIG51bGwgIT0gbWV0YWRhdGEuZGVzY3JpcHRpb24gJiYgKGludGVybmFsVGFzay5kZXNjcmlwdGlvbiA9IG1ldGFkYXRhLmRlc2NyaXB0aW9uKTtcbiAgbnVsbCAhPSBtZXRhZGF0YS5zdGF0ZSAmJiAoaW50ZXJuYWxUYXNrLnN0YXRlID0gY29udmVydFN0YXRlKG1ldGFkYXRhLnN0YXRlKSk7XG4gIGFzc2lnblRpbWVzdGFtcChcImNyZWF0aW9uX3RpbWVzdGFtcF9tc1wiLCBtZXRhZGF0YS5jcmVhdGVUaW1lKTtcbiAgYXNzaWduVGltZXN0YW1wKFwidXBkYXRlX3RpbWVzdGFtcF9tc1wiLCBtZXRhZGF0YS51cGRhdGVUaW1lKTtcbiAgYXNzaWduVGltZXN0YW1wKFwic3RhcnRfdGltZXN0YW1wX21zXCIsIG1ldGFkYXRhLnN0YXJ0VGltZSk7XG4gIGludGVybmFsVGFzay5hdHRlbXB0ID0gbWV0YWRhdGEuYXR0ZW1wdDtcbiAgcmVzdWx0LmRvbmUgJiYgbnVsbCAhPSByZXN1bHQuZXJyb3IgJiYgKGludGVybmFsVGFzay5lcnJvcl9tZXNzYWdlID0gcmVzdWx0LmVycm9yLm1lc3NhZ2UpO1xuICBudWxsICE9IHJlc3VsdC5uYW1lICYmIChpbnRlcm5hbFRhc2suaWQgPSBlZS5ycGNfY29udmVydC5vcGVyYXRpb25OYW1lVG9UYXNrSWQocmVzdWx0Lm5hbWUpLCBpbnRlcm5hbFRhc2submFtZSA9IHJlc3VsdC5uYW1lKTtcbiAgaW50ZXJuYWxUYXNrLnRhc2tfdHlwZSA9IG1ldGFkYXRhLnR5cGUgfHwgXCJVTktOT1dOXCI7XG4gIGludGVybmFsVGFzay5vdXRwdXRfdXJsID0gbWV0YWRhdGEuZGVzdGluYXRpb25VcmlzO1xuICBpbnRlcm5hbFRhc2suc291cmNlX3VybCA9IG1ldGFkYXRhLnNjcmlwdFVyaTtcbiAgcmV0dXJuIGludGVybmFsVGFzaztcbn07XG5lZS5ycGNfY29udmVydC5vcGVyYXRpb25Ub1Byb2Nlc3NpbmdSZXNwb25zZSA9IGZ1bmN0aW9uKG9wZXJhdGlvbikge1xuICB2YXIgcmVzdWx0ID0ge3N0YXJ0ZWQ6XCJPS1wifTtcbiAgb3BlcmF0aW9uLm5hbWUgJiYgKHJlc3VsdC50YXNrSWQgPSBlZS5ycGNfY29udmVydC5vcGVyYXRpb25OYW1lVG9UYXNrSWQob3BlcmF0aW9uLm5hbWUpLCByZXN1bHQubmFtZSA9IG9wZXJhdGlvbi5uYW1lKTtcbiAgb3BlcmF0aW9uLmVycm9yICYmIChyZXN1bHQubm90ZSA9IG9wZXJhdGlvbi5lcnJvci5tZXNzYWdlKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5ycGNfY29udmVydC5zb3VyY2VQYXRoc1RvVXJpcyA9IGZ1bmN0aW9uKHNvdXJjZSkge1xuICByZXR1cm4gc291cmNlLnByaW1hcnlQYXRoID8gW3NvdXJjZS5wcmltYXJ5UGF0aF0uY29uY2F0KCRqc2NvbXAuYXJyYXlGcm9tSXRlcmFibGUoc291cmNlLmFkZGl0aW9uYWxQYXRocyB8fCBbXSkpIDogbnVsbDtcbn07XG5lZS5ycGNfY29udmVydC50b0ltYWdlTWFuaWZlc3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgdmFyIGNvbnZlcnRJbWFnZVNvdXJjZSA9IGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgIHZhciBhcGlTb3VyY2UgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZShtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlU291cmNlLCBzb3VyY2UpO1xuICAgIGFwaVNvdXJjZS51cmlzID0gZWUucnBjX2NvbnZlcnQuc291cmNlUGF0aHNUb1VyaXMoc291cmNlKTtcbiAgICByZXR1cm4gYXBpU291cmNlO1xuICB9LCBtYW5pZmVzdCA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdCwgcGFyYW1zKTtcbiAgbWFuaWZlc3QubmFtZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShwYXJhbXMuaWQpO1xuICBtYW5pZmVzdC50aWxlc2V0cyA9IChwYXJhbXMudGlsZXNldHMgfHwgW10pLm1hcChmdW5jdGlvbih0aWxlc2V0KSB7XG4gICAgdmFyIGFwaVRpbGVzZXQgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZShtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXQsIHRpbGVzZXQpO1xuICAgIGFwaVRpbGVzZXQuc291cmNlcyA9ICh0aWxlc2V0LnNvdXJjZXMgfHwgW10pLm1hcChjb252ZXJ0SW1hZ2VTb3VyY2UpO1xuICAgIHJldHVybiBhcGlUaWxlc2V0O1xuICB9KTtcbiAgbWFuaWZlc3QuYmFuZHMgPSAocGFyYW1zLmJhbmRzIHx8IFtdKS5tYXAoZnVuY3Rpb24oYmFuZCkge1xuICAgIHZhciBhcGlCYW5kID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZCwgYmFuZCk7XG4gICAgYXBpQmFuZC5taXNzaW5nRGF0YSA9IGVlLnJwY19jb252ZXJ0LnRvT25lUGxhdGZvcm1NaXNzaW5nRGF0YShiYW5kLm1pc3NpbmdEYXRhKTtcbiAgICByZXR1cm4gYXBpQmFuZDtcbiAgfSk7XG4gIG1hbmlmZXN0Lm1pc3NpbmdEYXRhID0gZWUucnBjX2NvbnZlcnQudG9PbmVQbGF0Zm9ybU1pc3NpbmdEYXRhKHBhcmFtcy5taXNzaW5nRGF0YSk7XG4gIG1hbmlmZXN0Lm1hc2tCYW5kcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZsYXR0ZW4oKHBhcmFtcy50aWxlc2V0cyB8fCBbXSkubWFwKGVlLnJwY19jb252ZXJ0LnRvT25lUGxhdGZvcm1NYXNrQmFuZHMpKTtcbiAgbWFuaWZlc3QucHlyYW1pZGluZ1BvbGljeSA9IHBhcmFtcy5weXJhbWlkaW5nUG9saWN5IHx8IG51bGw7XG4gIGlmIChwYXJhbXMucHJvcGVydGllcykge1xuICAgIHZhciBwcm9wZXJ0aWVzID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zLnByb3BlcnRpZXMpLCB0b1RpbWVzdGFtcCA9IGZ1bmN0aW9uKG1zZWMpIHtcbiAgICAgIHJldHVybiAobmV3IERhdGUoTnVtYmVyKG1zZWMpKSkudG9JU09TdHJpbmcoKTtcbiAgICB9LCB2YWx1ZSwgZXh0cmFjdFZhbHVlID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YWx1ZSA9IHByb3BlcnRpZXNba2V5XTtcbiAgICAgIGRlbGV0ZSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBleHRyYWN0VmFsdWUoXCJzeXN0ZW06dGltZV9zdGFydFwiKSAmJiAobWFuaWZlc3Quc3RhcnRUaW1lID0gdG9UaW1lc3RhbXAodmFsdWUpKTtcbiAgICBleHRyYWN0VmFsdWUoXCJzeXN0ZW06dGltZV9lbmRcIikgJiYgKG1hbmlmZXN0LmVuZFRpbWUgPSB0b1RpbWVzdGFtcCh2YWx1ZSkpO1xuICAgIG1hbmlmZXN0LnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICB9XG4gIHJldHVybiBtYW5pZmVzdDtcbn07XG5lZS5ycGNfY29udmVydC50b09uZVBsYXRmb3JtTWFza0JhbmRzID0gZnVuY3Rpb24odGlsZXNldCkge1xuICB2YXIgbWFza0JhbmRzID0gW107XG4gIGlmICghQXJyYXkuaXNBcnJheSh0aWxlc2V0LmZpbGVCYW5kcykpIHtcbiAgICByZXR1cm4gbWFza0JhbmRzO1xuICB9XG4gIHZhciBjb252ZXJ0TWFza0NvbmZpZyA9IGZ1bmN0aW9uKG1hc2tDb25maWcpIHtcbiAgICB2YXIgYmFuZElkcyA9IFtdO1xuICAgIG51bGwgIT0gbWFza0NvbmZpZyAmJiBBcnJheS5pc0FycmF5KG1hc2tDb25maWcuYmFuZElkKSAmJiAoYmFuZElkcyA9IG1hc2tDb25maWcuYmFuZElkLm1hcChmdW5jdGlvbihiYW5kSWQpIHtcbiAgICAgIHJldHVybiBiYW5kSWQgfHwgXCJcIjtcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZCh7dGlsZXNldElkOnRpbGVzZXQuaWQgfHwgXCJcIiwgYmFuZElkczpiYW5kSWRzfSk7XG4gIH07XG4gIHRpbGVzZXQuZmlsZUJhbmRzLmZvckVhY2goZnVuY3Rpb24oZmlsZUJhbmQpIHtcbiAgICBmaWxlQmFuZC5tYXNrRm9yQWxsQmFuZHMgPyBtYXNrQmFuZHMucHVzaChjb252ZXJ0TWFza0NvbmZpZyhudWxsKSkgOiBudWxsICE9IGZpbGVCYW5kLm1hc2tGb3JCYW5kcyAmJiBtYXNrQmFuZHMucHVzaChjb252ZXJ0TWFza0NvbmZpZyhmaWxlQmFuZC5tYXNrRm9yQmFuZHMpKTtcbiAgfSk7XG4gIHJldHVybiBtYXNrQmFuZHM7XG59O1xuZWUucnBjX2NvbnZlcnQudG9UYWJsZU1hbmlmZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciBtYW5pZmVzdCA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdCwgcGFyYW1zKTtcbiAgbWFuaWZlc3QubmFtZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShwYXJhbXMuaWQpO1xuICBtYW5pZmVzdC5zb3VyY2VzID0gKHBhcmFtcy5zb3VyY2VzIHx8IFtdKS5tYXAoZnVuY3Rpb24oc291cmNlKSB7XG4gICAgdmFyIGFwaVNvdXJjZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2UsIHNvdXJjZSk7XG4gICAgYXBpU291cmNlLnVyaXMgPSBlZS5ycGNfY29udmVydC5zb3VyY2VQYXRoc1RvVXJpcyhzb3VyY2UpO1xuICAgIHNvdXJjZS5tYXhFcnJvciAmJiAoYXBpU291cmNlLm1heEVycm9yTWV0ZXJzID0gc291cmNlLm1heEVycm9yKTtcbiAgICByZXR1cm4gYXBpU291cmNlO1xuICB9KTtcbiAgaWYgKHBhcmFtcy5wcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMucHJvcGVydGllcyksIHRvVGltZXN0YW1wID0gZnVuY3Rpb24obXNlYykge1xuICAgICAgcmV0dXJuIChuZXcgRGF0ZShOdW1iZXIobXNlYykpKS50b0lTT1N0cmluZygpO1xuICAgIH0sIHZhbHVlLCBleHRyYWN0VmFsdWUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhbHVlID0gcHJvcGVydGllc1trZXldO1xuICAgICAgZGVsZXRlIHByb3BlcnRpZXNba2V5XTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aW1lX3N0YXJ0XCIpICYmIChtYW5pZmVzdC5zdGFydFRpbWUgPSB0b1RpbWVzdGFtcCh2YWx1ZSkpO1xuICAgIGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aW1lX2VuZFwiKSAmJiAobWFuaWZlc3QuZW5kVGltZSA9IHRvVGltZXN0YW1wKHZhbHVlKSk7XG4gICAgbWFuaWZlc3QucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gIH1cbiAgcmV0dXJuIG1hbmlmZXN0O1xufTtcbmVlLnJwY19jb252ZXJ0LnRvT25lUGxhdGZvcm1NaXNzaW5nRGF0YSA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBpZiAobnVsbCA9PSBwYXJhbXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbWlzc2luZ0RhdGEgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YSh7dmFsdWVzOltdfSk7XG4gIG51bGwgIT0gcGFyYW1zLnZhbHVlICYmIFwibnVtYmVyXCIgPT09IHR5cGVvZiBwYXJhbXMudmFsdWUgJiYgbWlzc2luZ0RhdGEudmFsdWVzLnB1c2gocGFyYW1zLnZhbHVlKTtcbiAgQXJyYXkuaXNBcnJheShwYXJhbXMudmFsdWVzKSAmJiBwYXJhbXMudmFsdWVzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiB2YWx1ZSAmJiBtaXNzaW5nRGF0YS52YWx1ZXMucHVzaCh2YWx1ZSk7XG4gIH0pO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNFbXB0eShtaXNzaW5nRGF0YS52YWx1ZXMpID8gbnVsbCA6IG1pc3NpbmdEYXRhO1xufTtcbmVlLnJwY19jb252ZXJ0LmZvbGRlclF1b3RhVG9Bc3NldFF1b3RhRGV0YWlscyA9IGZ1bmN0aW9uKHF1b3RhKSB7XG4gIHZhciB0b051bWJlciA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIE51bWJlcihmaWVsZCB8fCAwKTtcbiAgfTtcbiAgcmV0dXJuIHthc3NldF9jb3VudDp7dXNhZ2U6dG9OdW1iZXIocXVvdGEuYXNzZXRDb3VudCksIGxpbWl0OnRvTnVtYmVyKHF1b3RhLm1heEFzc2V0Q291bnQpLH0sIGFzc2V0X3NpemU6e3VzYWdlOnRvTnVtYmVyKHF1b3RhLnNpemVCeXRlcyksIGxpbWl0OnRvTnVtYmVyKHF1b3RhLm1heFNpemVCeXRlcyksfX07XG59O1xuZ29vZy5jcnlwdCA9IHt9O1xuZ29vZy5jcnlwdC5IYXNoID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuYmxvY2tTaXplID0gLTE7XG59O1xuZ29vZy5jcnlwdC5NZDUgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5jcnlwdC5IYXNoLmNhbGwodGhpcyk7XG4gIHRoaXMuYmxvY2tTaXplID0gNjQ7XG4gIHRoaXMuY2hhaW5fID0gQXJyYXkoNCk7XG4gIHRoaXMuYmxvY2tfID0gQXJyYXkodGhpcy5ibG9ja1NpemUpO1xuICB0aGlzLnRvdGFsTGVuZ3RoXyA9IHRoaXMuYmxvY2tMZW5ndGhfID0gMDtcbiAgdGhpcy5yZXNldCgpO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5jcnlwdC5NZDUsIGdvb2cuY3J5cHQuSGFzaCk7XG5nb29nLmNyeXB0Lk1kNS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jaGFpbl9bMF0gPSAxNzMyNTg0MTkzO1xuICB0aGlzLmNoYWluX1sxXSA9IDQwMjMyMzM0MTc7XG4gIHRoaXMuY2hhaW5fWzJdID0gMjU2MjM4MzEwMjtcbiAgdGhpcy5jaGFpbl9bM10gPSAyNzE3MzM4Nzg7XG4gIHRoaXMudG90YWxMZW5ndGhfID0gdGhpcy5ibG9ja0xlbmd0aF8gPSAwO1xufTtcbmdvb2cuY3J5cHQuTWQ1LnByb3RvdHlwZS5jb21wcmVzc18gPSBmdW5jdGlvbihidWYsIG9wdF9vZmZzZXQpIHtcbiAgb3B0X29mZnNldCB8fCAob3B0X29mZnNldCA9IDApO1xuICB2YXIgWCA9IEFycmF5KDE2KTtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBidWYpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgMTYgPiBpOyArK2kpIHtcbiAgICAgIFhbaV0gPSBidWYuY2hhckNvZGVBdChvcHRfb2Zmc2V0KyspIHwgYnVmLmNoYXJDb2RlQXQob3B0X29mZnNldCsrKSA8PCA4IHwgYnVmLmNoYXJDb2RlQXQob3B0X29mZnNldCsrKSA8PCAxNiB8IGJ1Zi5jaGFyQ29kZUF0KG9wdF9vZmZzZXQrKykgPDwgMjQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAoaSA9IDA7IDE2ID4gaTsgKytpKSB7XG4gICAgICBYW2ldID0gYnVmW29wdF9vZmZzZXQrK10gfCBidWZbb3B0X29mZnNldCsrXSA8PCA4IHwgYnVmW29wdF9vZmZzZXQrK10gPDwgMTYgfCBidWZbb3B0X29mZnNldCsrXSA8PCAyNDtcbiAgICB9XG4gIH1cbiAgdmFyIEEgPSB0aGlzLmNoYWluX1swXSwgQiA9IHRoaXMuY2hhaW5fWzFdLCBDID0gdGhpcy5jaGFpbl9bMl0sIEQgPSB0aGlzLmNoYWluX1szXSwgc3VtID0gMDtcbiAgc3VtID0gQSArIChEIF4gQiAmIChDIF4gRCkpICsgWFswXSArIDM2MTQwOTAzNjAgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI1KTtcbiAgc3VtID0gRCArIChDIF4gQSAmIChCIF4gQykpICsgWFsxXSArIDM5MDU0MDI3MTAgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTIgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMCk7XG4gIHN1bSA9IEMgKyAoQiBeIEQgJiAoQSBeIEIpKSArIFhbMl0gKyA2MDYxMDU4MTkgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTcgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNSk7XG4gIHN1bSA9IEIgKyAoQSBeIEMgJiAoRCBeIEEpKSArIFhbM10gKyAzMjUwNDQxOTY2ICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIyICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTApO1xuICBzdW0gPSBBICsgKEQgXiBCICYgKEMgXiBEKSkgKyBYWzRdICsgNDExODU0ODM5OSAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA3ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjUpO1xuICBzdW0gPSBEICsgKEMgXiBBICYgKEIgXiBDKSkgKyBYWzVdICsgMTIwMDA4MDQyNiAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIwKTtcbiAgc3VtID0gQyArIChCIF4gRCAmIChBIF4gQikpICsgWFs2XSArIDI4MjE3MzU5NTUgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTcgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNSk7XG4gIHN1bSA9IEIgKyAoQSBeIEMgJiAoRCBeIEEpKSArIFhbN10gKyA0MjQ5MjYxMzEzICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIyICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTApO1xuICBzdW0gPSBBICsgKEQgXiBCICYgKEMgXiBEKSkgKyBYWzhdICsgMTc3MDAzNTQxNiAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA3ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjUpO1xuICBzdW0gPSBEICsgKEMgXiBBICYgKEIgXiBDKSkgKyBYWzldICsgMjMzNjU1Mjg3OSAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIwKTtcbiAgc3VtID0gQyArIChCIF4gRCAmIChBIF4gQikpICsgWFsxMF0gKyA0Mjk0OTI1MjMzICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE3ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTUpO1xuICBzdW0gPSBCICsgKEEgXiBDICYgKEQgXiBBKSkgKyBYWzExXSArIDIzMDQ1NjMxMzQgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjIgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMCk7XG4gIHN1bSA9IEEgKyAoRCBeIEIgJiAoQyBeIEQpKSArIFhbMTJdICsgMTgwNDYwMzY4MiAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA3ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjUpO1xuICBzdW0gPSBEICsgKEMgXiBBICYgKEIgXiBDKSkgKyBYWzEzXSArIDQyNTQ2MjYxOTUgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTIgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMCk7XG4gIHN1bSA9IEMgKyAoQiBeIEQgJiAoQSBeIEIpKSArIFhbMTRdICsgMjc5Mjk2NTAwNiAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE1KTtcbiAgc3VtID0gQiArIChBIF4gQyAmIChEIF4gQSkpICsgWFsxNV0gKyAxMjM2NTM1MzI5ICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIyICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTApO1xuICBzdW0gPSBBICsgKEMgXiBEICYgKEIgXiBDKSkgKyBYWzFdICsgNDEyOTE3MDc4NiAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA1ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjcpO1xuICBzdW0gPSBEICsgKEIgXiBDICYgKEEgXiBCKSkgKyBYWzZdICsgMzIyNTQ2NTY2NCAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCA5ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjMpO1xuICBzdW0gPSBDICsgKEEgXiBCICYgKEQgXiBBKSkgKyBYWzExXSArIDY0MzcxNzcxMyAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE4KTtcbiAgc3VtID0gQiArIChEIF4gQSAmIChDIF4gRCkpICsgWFswXSArIDM5MjEwNjk5OTQgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjAgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMik7XG4gIHN1bSA9IEEgKyAoQyBeIEQgJiAoQiBeIEMpKSArIFhbNV0gKyAzNTkzNDA4NjA1ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDUgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNyk7XG4gIHN1bSA9IEQgKyAoQiBeIEMgJiAoQSBeIEIpKSArIFhbMTBdICsgMzgwMTYwODMgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgOSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIzKTtcbiAgc3VtID0gQyArIChBIF4gQiAmIChEIF4gQSkpICsgWFsxNV0gKyAzNjM0NDg4OTYxICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE0ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTgpO1xuICBzdW0gPSBCICsgKEQgXiBBICYgKEMgXiBEKSkgKyBYWzRdICsgMzg4OTQyOTQ0OCAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDEyKTtcbiAgc3VtID0gQSArIChDIF4gRCAmIChCIF4gQykpICsgWFs5XSArIDU2ODQ0NjQzOCAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA1ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjcpO1xuICBzdW0gPSBEICsgKEIgXiBDICYgKEEgXiBCKSkgKyBYWzE0XSArIDMyNzUxNjM2MDYgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgOSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIzKTtcbiAgc3VtID0gQyArIChBIF4gQiAmIChEIF4gQSkpICsgWFszXSArIDQxMDc2MDMzMzUgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTQgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxOCk7XG4gIHN1bSA9IEIgKyAoRCBeIEEgJiAoQyBeIEQpKSArIFhbOF0gKyAxMTYzNTMxNTAxICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIwICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTIpO1xuICBzdW0gPSBBICsgKEMgXiBEICYgKEIgXiBDKSkgKyBYWzEzXSArIDI4NTAyODU4MjkgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI3KTtcbiAgc3VtID0gRCArIChCIF4gQyAmIChBIF4gQikpICsgWFsyXSArIDQyNDM1NjM1MTIgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgOSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIzKTtcbiAgc3VtID0gQyArIChBIF4gQiAmIChEIF4gQSkpICsgWFs3XSArIDE3MzUzMjg0NzMgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTQgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxOCk7XG4gIHN1bSA9IEIgKyAoRCBeIEEgJiAoQyBeIEQpKSArIFhbMTJdICsgMjM2ODM1OTU2MiAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDEyKTtcbiAgc3VtID0gQSArIChCIF4gQyBeIEQpICsgWFs1XSArIDQyOTQ1ODg3MzggJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI4KTtcbiAgc3VtID0gRCArIChBIF4gQiBeIEMpICsgWFs4XSArIDIyNzIzOTI4MzMgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTEgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMSk7XG4gIHN1bSA9IEMgKyAoRCBeIEEgXiBCKSArIFhbMTFdICsgMTgzOTAzMDU2MiAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE2KTtcbiAgc3VtID0gQiArIChDIF4gRCBeIEEpICsgWFsxNF0gKyA0MjU5NjU3NzQwICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIzICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gOSk7XG4gIHN1bSA9IEEgKyAoQiBeIEMgXiBEKSArIFhbMV0gKyAyNzYzOTc1MjM2ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDQgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyOCk7XG4gIHN1bSA9IEQgKyAoQSBeIEIgXiBDKSArIFhbNF0gKyAxMjcyODkzMzUzICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDExICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjEpO1xuICBzdW0gPSBDICsgKEQgXiBBIF4gQikgKyBYWzddICsgNDEzOTQ2OTY2NCAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE2KTtcbiAgc3VtID0gQiArIChDIF4gRCBeIEEpICsgWFsxMF0gKyAzMjAwMjM2NjU2ICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIzICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gOSk7XG4gIHN1bSA9IEEgKyAoQiBeIEMgXiBEKSArIFhbMTNdICsgNjgxMjc5MTc0ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDQgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyOCk7XG4gIHN1bSA9IEQgKyAoQSBeIEIgXiBDKSArIFhbMF0gKyAzOTM2NDMwMDc0ICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDExICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjEpO1xuICBzdW0gPSBDICsgKEQgXiBBIF4gQikgKyBYWzNdICsgMzU3MjQ0NTMxNyAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE2KTtcbiAgc3VtID0gQiArIChDIF4gRCBeIEEpICsgWFs2XSArIDc2MDI5MTg5ICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIzICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gOSk7XG4gIHN1bSA9IEEgKyAoQiBeIEMgXiBEKSArIFhbOV0gKyAzNjU0NjAyODA5ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDQgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyOCk7XG4gIHN1bSA9IEQgKyAoQSBeIEIgXiBDKSArIFhbMTJdICsgMzg3MzE1MTQ2MSAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIxKTtcbiAgc3VtID0gQyArIChEIF4gQSBeIEIpICsgWFsxNV0gKyA1MzA3NDI1MjAgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTYgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNik7XG4gIHN1bSA9IEIgKyAoQyBeIEQgXiBBKSArIFhbMl0gKyAzMjk5NjI4NjQ1ICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIzICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gOSk7XG4gIHN1bSA9IEEgKyAoQyBeIChCIHwgfkQpKSArIFhbMF0gKyA0MDk2MzM2NDUyICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDYgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNik7XG4gIHN1bSA9IEQgKyAoQiBeIChBIHwgfkMpKSArIFhbN10gKyAxMTI2ODkxNDE1ICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDEwICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjIpO1xuICBzdW0gPSBDICsgKEEgXiAoRCB8IH5CKSkgKyBYWzE0XSArIDI4Nzg2MTIzOTEgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTUgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNyk7XG4gIHN1bSA9IEIgKyAoRCBeIChDIHwgfkEpKSArIFhbNV0gKyA0MjM3NTMzMjQxICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIxICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTEpO1xuICBzdW0gPSBBICsgKEMgXiAoQiB8IH5EKSkgKyBYWzEyXSArIDE3MDA0ODU1NzEgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI2KTtcbiAgc3VtID0gRCArIChCIF4gKEEgfCB+QykpICsgWFszXSArIDIzOTk5ODA2OTAgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTAgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMik7XG4gIHN1bSA9IEMgKyAoQSBeIChEIHwgfkIpKSArIFhbMTBdICsgNDI5MzkxNTc3MyAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE3KTtcbiAgc3VtID0gQiArIChEIF4gKEMgfCB+QSkpICsgWFsxXSArIDIyNDAwNDQ0OTcgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjEgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMSk7XG4gIHN1bSA9IEEgKyAoQyBeIChCIHwgfkQpKSArIFhbOF0gKyAxODczMzEzMzU5ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDYgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNik7XG4gIHN1bSA9IEQgKyAoQiBeIChBIHwgfkMpKSArIFhbMTVdICsgNDI2NDM1NTU1MiAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIyKTtcbiAgc3VtID0gQyArIChBIF4gKEQgfCB+QikpICsgWFs2XSArIDI3MzQ3Njg5MTYgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTUgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNyk7XG4gIHN1bSA9IEIgKyAoRCBeIChDIHwgfkEpKSArIFhbMTNdICsgMTMwOTE1MTY0OSAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDExKTtcbiAgc3VtID0gQSArIChDIF4gKEIgfCB+RCkpICsgWFs0XSArIDQxNDk0NDQyMjYgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI2KTtcbiAgc3VtID0gRCArIChCIF4gKEEgfCB+QykpICsgWFsxMV0gKyAzMTc0NzU2OTE3ICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDEwICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjIpO1xuICBzdW0gPSBDICsgKEEgXiAoRCB8IH5CKSkgKyBYWzJdICsgNzE4Nzg3MjU5ICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE1ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTcpO1xuICBzdW0gPSBCICsgKEQgXiAoQyB8IH5BKSkgKyBYWzldICsgMzk1MTQ4MTc0NSAmIDQyOTQ5NjcyOTU7XG4gIHRoaXMuY2hhaW5fWzBdID0gdGhpcy5jaGFpbl9bMF0gKyBBICYgNDI5NDk2NzI5NTtcbiAgdGhpcy5jaGFpbl9bMV0gPSB0aGlzLmNoYWluX1sxXSArIChDICsgKHN1bSA8PCAyMSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDExKSkgJiA0Mjk0OTY3Mjk1O1xuICB0aGlzLmNoYWluX1syXSA9IHRoaXMuY2hhaW5fWzJdICsgQyAmIDQyOTQ5NjcyOTU7XG4gIHRoaXMuY2hhaW5fWzNdID0gdGhpcy5jaGFpbl9bM10gKyBEICYgNDI5NDk2NzI5NTtcbn07XG5nb29nLmNyeXB0Lk1kNS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oYnl0ZXMsIG9wdF9sZW5ndGgpIHtcbiAgdm9pZCAwID09PSBvcHRfbGVuZ3RoICYmIChvcHRfbGVuZ3RoID0gYnl0ZXMubGVuZ3RoKTtcbiAgZm9yICh2YXIgbGVuZ3RoTWludXNCbG9jayA9IG9wdF9sZW5ndGggLSB0aGlzLmJsb2NrU2l6ZSwgYmxvY2sgPSB0aGlzLmJsb2NrXywgYmxvY2tMZW5ndGggPSB0aGlzLmJsb2NrTGVuZ3RoXywgaSA9IDA7IGkgPCBvcHRfbGVuZ3RoOykge1xuICAgIGlmICgwID09IGJsb2NrTGVuZ3RoKSB7XG4gICAgICBmb3IgKDsgaSA8PSBsZW5ndGhNaW51c0Jsb2NrOykge1xuICAgICAgICB0aGlzLmNvbXByZXNzXyhieXRlcywgaSksIGkgKz0gdGhpcy5ibG9ja1NpemU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYnl0ZXMpIHtcbiAgICAgIGZvciAoOyBpIDwgb3B0X2xlbmd0aDspIHtcbiAgICAgICAgaWYgKGJsb2NrW2Jsb2NrTGVuZ3RoKytdID0gYnl0ZXMuY2hhckNvZGVBdChpKyspLCBibG9ja0xlbmd0aCA9PSB0aGlzLmJsb2NrU2l6ZSkge1xuICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJsb2NrKTtcbiAgICAgICAgICBibG9ja0xlbmd0aCA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICg7IGkgPCBvcHRfbGVuZ3RoOykge1xuICAgICAgICBpZiAoYmxvY2tbYmxvY2tMZW5ndGgrK10gPSBieXRlc1tpKytdLCBibG9ja0xlbmd0aCA9PSB0aGlzLmJsb2NrU2l6ZSkge1xuICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJsb2NrKTtcbiAgICAgICAgICBibG9ja0xlbmd0aCA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdGhpcy5ibG9ja0xlbmd0aF8gPSBibG9ja0xlbmd0aDtcbiAgdGhpcy50b3RhbExlbmd0aF8gKz0gb3B0X2xlbmd0aDtcbn07XG5nb29nLmNyeXB0Lk1kNS5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYWQgPSBBcnJheSgoNTYgPiB0aGlzLmJsb2NrTGVuZ3RoXyA/IHRoaXMuYmxvY2tTaXplIDogMiAqIHRoaXMuYmxvY2tTaXplKSAtIHRoaXMuYmxvY2tMZW5ndGhfKTtcbiAgcGFkWzBdID0gMTI4O1xuICBmb3IgKHZhciBpID0gMTsgaSA8IHBhZC5sZW5ndGggLSA4OyArK2kpIHtcbiAgICBwYWRbaV0gPSAwO1xuICB9XG4gIHZhciB0b3RhbEJpdHMgPSA4ICogdGhpcy50b3RhbExlbmd0aF87XG4gIGZvciAoaSA9IHBhZC5sZW5ndGggLSA4OyBpIDwgcGFkLmxlbmd0aDsgKytpKSB7XG4gICAgcGFkW2ldID0gdG90YWxCaXRzICYgMjU1LCB0b3RhbEJpdHMgLz0gMjU2O1xuICB9XG4gIHRoaXMudXBkYXRlKHBhZCk7XG4gIHZhciBkaWdlc3QgPSBBcnJheSgxNiksIG4gPSAwO1xuICBmb3IgKGkgPSAwOyA0ID4gaTsgKytpKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IDMyID4gajsgaiArPSA4KSB7XG4gICAgICBkaWdlc3RbbisrXSA9IHRoaXMuY2hhaW5fW2ldID4+PiBqICYgMjU1O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGlnZXN0O1xufTtcbmVlLlNlcmlhbGl6ZXIgPSBmdW5jdGlvbihvcHRfaXNDb21wb3VuZCkge1xuICB0aGlzLkhBU0hfS0VZID0gXCJfX2VlX2hhc2hfX1wiO1xuICB0aGlzLmlzQ29tcG91bmRfID0gITEgIT09IG9wdF9pc0NvbXBvdW5kO1xuICB0aGlzLnNjb3BlXyA9IFtdO1xuICB0aGlzLmVuY29kZWRfID0ge307XG4gIHRoaXMud2l0aEhhc2hlc18gPSBbXTtcbiAgdGhpcy5oYXNoZXNfID0gbmV3IFdlYWtNYXAoKTtcbiAgdGhpcy51bmJvdW5kTmFtZSA9IHZvaWQgMDtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLlNlcmlhbGl6ZXJcIiwgZWUuU2VyaWFsaXplcik7XG5lZS5TZXJpYWxpemVyLmpzb25TZXJpYWxpemVyXyA9IG5ldyBnb29nLmpzb24uU2VyaWFsaXplcigpO1xuZWUuU2VyaWFsaXplci5oYXNoXyA9IG5ldyBnb29nLmNyeXB0Lk1kNSgpO1xuZWUuU2VyaWFsaXplci5lbmNvZGUgPSBmdW5jdGlvbihvYmosIG9wdF9pc0NvbXBvdW5kKSB7XG4gIHJldHVybiAobmV3IGVlLlNlcmlhbGl6ZXIodm9pZCAwICE9PSBvcHRfaXNDb21wb3VuZCA/IG9wdF9pc0NvbXBvdW5kIDogITApKS5lbmNvZGVfKG9iaik7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TZXJpYWxpemVyLmVuY29kZVwiLCBlZS5TZXJpYWxpemVyLmVuY29kZSk7XG5lZS5TZXJpYWxpemVyLnRvSlNPTiA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gZWUuU2VyaWFsaXplci5qc29uU2VyaWFsaXplcl8uc2VyaWFsaXplKGVlLlNlcmlhbGl6ZXIuZW5jb2RlKG9iaikpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuU2VyaWFsaXplci50b0pTT05cIiwgZWUuU2VyaWFsaXplci50b0pTT04pO1xuZWUuU2VyaWFsaXplci50b1JlYWRhYmxlSlNPTiA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gZWUuU2VyaWFsaXplci5zdHJpbmdpZnkoZWUuU2VyaWFsaXplci5lbmNvZGUob2JqLCAhMSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuU2VyaWFsaXplci50b1JlYWRhYmxlSlNPTlwiLCBlZS5TZXJpYWxpemVyLnRvUmVhZGFibGVKU09OKTtcbmVlLlNlcmlhbGl6ZXIuc3RyaW5naWZ5ID0gZnVuY3Rpb24oZW5jb2RlZCkge1xuICByZXR1cm4gXCJKU09OXCIgaW4gZ29vZy5nbG9iYWwgPyBnb29nLmdsb2JhbC5KU09OLnN0cmluZ2lmeShlbmNvZGVkLCBudWxsLCBcIiAgXCIpIDogZWUuU2VyaWFsaXplci5qc29uU2VyaWFsaXplcl8uc2VyaWFsaXplKGVuY29kZWQpO1xufTtcbmVlLlNlcmlhbGl6ZXIucHJvdG90eXBlLmVuY29kZV8gPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgdmFyIHZhbHVlID0gdGhpcy5lbmNvZGVWYWx1ZV8ob2JqZWN0KTtcbiAgdGhpcy5pc0NvbXBvdW5kXyAmJiAodmFsdWUgPSBnb29nLmlzT2JqZWN0KHZhbHVlKSAmJiBcIlZhbHVlUmVmXCIgPT0gdmFsdWUudHlwZSAmJiAxID09IHRoaXMuc2NvcGVfLmxlbmd0aCA/IHRoaXMuc2NvcGVfWzBdWzFdIDoge3R5cGU6XCJDb21wb3VuZFZhbHVlXCIsIHNjb3BlOnRoaXMuc2NvcGVfLCB2YWx1ZTp2YWx1ZX0sIHRoaXMuc2NvcGVfID0gW10sIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2godGhpcy53aXRoSGFzaGVzXywgZ29vZy5iaW5kKGZ1bmN0aW9uKG9iaikge1xuICAgIGRlbGV0ZSBvYmpbdGhpcy5IQVNIX0tFWV07XG4gIH0sIHRoaXMpKSwgdGhpcy53aXRoSGFzaGVzXyA9IFtdLCB0aGlzLmVuY29kZWRfID0ge30pO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZWUuU2VyaWFsaXplci5wcm90b3R5cGUuZW5jb2RlVmFsdWVfID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmICh2b2lkIDAgPT09IG9iamVjdCkge1xuICAgIHRocm93IEVycm9yKFwiQ2FuJ3QgZW5jb2RlIGFuIHVuZGVmaW5lZCB2YWx1ZS5cIik7XG4gIH1cbiAgdmFyIGhhc2ggPSBnb29nLmlzT2JqZWN0KG9iamVjdCkgPyBvYmplY3RbdGhpcy5IQVNIX0tFWV0gOiBudWxsO1xuICBpZiAodGhpcy5pc0NvbXBvdW5kXyAmJiBudWxsICE9IGhhc2ggJiYgdGhpcy5lbmNvZGVkX1toYXNoXSkge1xuICAgIHJldHVybiB7dHlwZTpcIlZhbHVlUmVmXCIsIHZhbHVlOnRoaXMuZW5jb2RlZF9baGFzaF19O1xuICB9XG4gIGlmIChudWxsID09PSBvYmplY3QgfHwgXCJib29sZWFuXCIgPT09IHR5cGVvZiBvYmplY3QgfHwgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9iamVjdCB8fCBcInN0cmluZ1wiID09PSB0eXBlb2Ygb2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuICBpZiAoZ29vZy5pc0RhdGVMaWtlKG9iamVjdCkpIHtcbiAgICByZXR1cm4ge3R5cGU6XCJJbnZvY2F0aW9uXCIsIGZ1bmN0aW9uTmFtZTpcIkRhdGVcIiwgYXJndW1lbnRzOnt2YWx1ZTpNYXRoLmZsb29yKG9iamVjdC5nZXRUaW1lKCkpfX07XG4gIH1cbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIGVlLkVuY29kYWJsZSkge1xuICAgIHZhciByZXN1bHQgPSBvYmplY3QuZW5jb2RlKGdvb2cuYmluZCh0aGlzLmVuY29kZVZhbHVlXywgdGhpcykpO1xuICAgIGlmICghKEFycmF5LmlzQXJyYXkocmVzdWx0KSB8fCBnb29nLmlzT2JqZWN0KHJlc3VsdCkgJiYgXCJBcmd1bWVudFJlZlwiICE9IHJlc3VsdC50eXBlKSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgcmVzdWx0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKG9iamVjdCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVWYWx1ZV8oZWxlbWVudCk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGdvb2cuaXNPYmplY3Qob2JqZWN0KSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBvYmplY3QpIHtcbiAgICAgICAgdmFyIGVuY29kZWRPYmplY3QgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKG9iamVjdCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVWYWx1ZV8oZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3JlbW92ZShlbmNvZGVkT2JqZWN0LCB0aGlzLkhBU0hfS0VZKTtcbiAgICAgICAgcmVzdWx0ID0ge3R5cGU6XCJEaWN0aW9uYXJ5XCIsIHZhbHVlOmVuY29kZWRPYmplY3R9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW4ndCBlbmNvZGUgb2JqZWN0OiBcIiArIG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh0aGlzLmlzQ29tcG91bmRfKSB7XG4gICAgaGFzaCA9IGVlLlNlcmlhbGl6ZXIuY29tcHV0ZUhhc2gocmVzdWx0KTtcbiAgICBpZiAodGhpcy5lbmNvZGVkX1toYXNoXSkge1xuICAgICAgdmFyIG5hbWUgPSB0aGlzLmVuY29kZWRfW2hhc2hdO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gU3RyaW5nKHRoaXMuc2NvcGVfLmxlbmd0aCksIHRoaXMuc2NvcGVfLnB1c2goW25hbWUsIHJlc3VsdF0pLCB0aGlzLmVuY29kZWRfW2hhc2hdID0gbmFtZTtcbiAgICB9XG4gICAgb2JqZWN0W3RoaXMuSEFTSF9LRVldID0gaGFzaDtcbiAgICB0aGlzLndpdGhIYXNoZXNfLnB1c2gob2JqZWN0KTtcbiAgICByZXR1cm4ge3R5cGU6XCJWYWx1ZVJlZlwiLCB2YWx1ZTpuYW1lfTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLlNlcmlhbGl6ZXIuY29tcHV0ZUhhc2ggPSBmdW5jdGlvbihvYmopIHtcbiAgZWUuU2VyaWFsaXplci5oYXNoXy5yZXNldCgpO1xuICBlZS5TZXJpYWxpemVyLmhhc2hfLnVwZGF0ZShlZS5TZXJpYWxpemVyLmpzb25TZXJpYWxpemVyXy5zZXJpYWxpemUob2JqKSk7XG4gIHJldHVybiBlZS5TZXJpYWxpemVyLmhhc2hfLmRpZ2VzdCgpLnRvU3RyaW5nKCk7XG59O1xuZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaSA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKG9iaikpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaVwiLCBlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpKTtcbmVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uID0gZnVuY3Rpb24ob2JqLCB1bmJvdW5kTmFtZSkge1xuICB2YXIgc2VyaWFsaXplciA9IG5ldyBlZS5TZXJpYWxpemVyKCEwKTtcbiAgc2VyaWFsaXplci51bmJvdW5kTmFtZSA9IHVuYm91bmROYW1lO1xuICByZXR1cm4gc2VyaWFsaXplci5lbmNvZGVGb3JDbG91ZEFwaV8ob2JqKTtcbn07XG5lZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpUHJldHR5ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciBlbmNvZGVkID0gKG5ldyBlZS5TZXJpYWxpemVyKCExKSkuZW5jb2RlRm9yQ2xvdWRBcGlfKG9iaiksIHZhbHVlcyA9IGVuY29kZWQudmFsdWVzLCB3YWxrT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgaWYgKCFnb29nLmlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICAgIGZvciAodmFyIHJldCA9IEFycmF5LmlzQXJyYXkob2JqZWN0KSA/IFtdIDoge30sIGlzTm9kZSA9IG9iamVjdCBpbnN0YW5jZW9mIE9iamVjdC5nZXRQcm90b3R5cGVPZihtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSksICRqc2NvbXAkaXRlciQyNCA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5lbnRyaWVzKGlzTm9kZSA/IG9iamVjdC5TZXJpYWxpemFibGUkdmFsdWVzIDogb2JqZWN0KSksICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQyNC5uZXh0KCk7ICEkanNjb21wJGtleSQuZG9uZTsgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDI0Lm5leHQoKSkge1xuICAgICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzMSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAka2V5JC52YWx1ZSksIGtleSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzMS5uZXh0KCkudmFsdWUsIHZhbCA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzMS5uZXh0KCkudmFsdWU7XG4gICAgICBpc05vZGUgPyBudWxsICE9PSB2YWwgJiYgKHJldFtrZXldID0gXCJmdW5jdGlvbkRlZmluaXRpb25WYWx1ZVwiID09PSBrZXkgJiYgbnVsbCAhPSB2YWwuYm9keSA/IHthcmd1bWVudE5hbWVzOnZhbC5hcmd1bWVudE5hbWVzLCBib2R5OndhbGtPYmplY3QodmFsdWVzW3ZhbC5ib2R5XSl9IDogXCJmdW5jdGlvbkludm9jYXRpb25WYWx1ZVwiID09PSBrZXkgJiYgbnVsbCAhPSB2YWwuZnVuY3Rpb25SZWZlcmVuY2UgPyB7YXJndW1lbnRzOm1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAodmFsLmFyZ3VtZW50cywgd2Fsa09iamVjdCksIGZ1bmN0aW9uUmVmZXJlbmNlOndhbGtPYmplY3QodmFsdWVzW3ZhbC5mdW5jdGlvblJlZmVyZW5jZV0pfSA6IFwiY29uc3RhbnRWYWx1ZVwiID09PSBrZXkgPyB2YWwgPT09IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuTlVMTF9WQUxVRSA/IFxuICAgICAgbnVsbCA6IHZhbCA6IHdhbGtPYmplY3QodmFsKSkgOiByZXRba2V5XSA9IHdhbGtPYmplY3QodmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgcmV0dXJuIGVuY29kZWQucmVzdWx0ICYmIHdhbGtPYmplY3QodmFsdWVzW2VuY29kZWQucmVzdWx0XSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpUHJldHR5XCIsIGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlQcmV0dHkpO1xuZWUuU2VyaWFsaXplci50b0Nsb3VkQXBpSlNPTiA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gZWUuU2VyaWFsaXplci5qc29uU2VyaWFsaXplcl8uc2VyaWFsaXplKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGkob2JqKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TZXJpYWxpemVyLnRvQ2xvdWRBcGlKU09OXCIsIGVlLlNlcmlhbGl6ZXIudG9DbG91ZEFwaUpTT04pO1xuZWUuU2VyaWFsaXplci50b1JlYWRhYmxlQ2xvdWRBcGlKU09OID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBlZS5TZXJpYWxpemVyLnN0cmluZ2lmeShlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpUHJldHR5KG9iaikpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuU2VyaWFsaXplci50b1JlYWRhYmxlQ2xvdWRBcGlKU09OXCIsIGVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUNsb3VkQXBpSlNPTik7XG5lZS5TZXJpYWxpemVyLnByb3RvdHlwZS5lbmNvZGVGb3JDbG91ZEFwaV8gPSBmdW5jdGlvbihvYmopIHtcbiAgdHJ5IHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5tYWtlUmVmZXJlbmNlKG9iaik7XG4gICAgcmV0dXJuIChuZXcgRXhwcmVzc2lvbk9wdGltaXplcihyZXN1bHQsIHRoaXMuc2NvcGVfLCB0aGlzLmlzQ29tcG91bmRfKSkub3B0aW1pemUoKTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0aGlzLmhhc2hlc18gPSBuZXcgV2Vha01hcCgpLCB0aGlzLmVuY29kZWRfID0ge30sIHRoaXMuc2NvcGVfID0gW107XG4gIH1cbn07XG5lZS5TZXJpYWxpemVyLnByb3RvdHlwZS5tYWtlUmVmZXJlbmNlID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzLCBtYWtlUmVmID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgdmFyIGhhc2ggPSBlZS5TZXJpYWxpemVyLmNvbXB1dGVIYXNoKHJlc3VsdCk7XG4gICAgZ29vZy5pc09iamVjdChvYmopICYmICRqc2NvbXAkdGhpcy5oYXNoZXNfLnNldChvYmosIGhhc2gpO1xuICAgIGlmICgkanNjb21wJHRoaXMuZW5jb2RlZF9baGFzaF0pIHtcbiAgICAgIHJldHVybiAkanNjb21wJHRoaXMuZW5jb2RlZF9baGFzaF07XG4gICAgfVxuICAgIHZhciBuYW1lID0gU3RyaW5nKCRqc2NvbXAkdGhpcy5zY29wZV8ubGVuZ3RoKTtcbiAgICAkanNjb21wJHRoaXMuc2NvcGVfLnB1c2goW25hbWUsIHJlc3VsdF0pO1xuICAgIHJldHVybiAkanNjb21wJHRoaXMuZW5jb2RlZF9baGFzaF0gPSBuYW1lO1xuICB9O1xuICBpZiAoZ29vZy5pc09iamVjdChvYmopICYmIHRoaXMuZW5jb2RlZF9bdGhpcy5oYXNoZXNfLmdldChvYmopXSkge1xuICAgIHJldHVybiB0aGlzLmVuY29kZWRfW3RoaXMuaGFzaGVzXy5nZXQob2JqKV07XG4gIH1cbiAgaWYgKG51bGwgPT09IG9iaiB8fCBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIG9iaiB8fCBcInN0cmluZ1wiID09PSB0eXBlb2Ygb2JqIHx8IFwibnVtYmVyXCIgPT09IHR5cGVvZiBvYmopIHtcbiAgICByZXR1cm4gbWFrZVJlZihlZS5ycGNfbm9kZS5jb25zdGFudChvYmopKTtcbiAgfVxuICBpZiAoZ29vZy5pc0RhdGVMaWtlKG9iaikpIHtcbiAgICByZXR1cm4gbWFrZVJlZihlZS5ycGNfbm9kZS5mdW5jdGlvbkJ5TmFtZShcIkRhdGVcIiwge3ZhbHVlOmVlLnJwY19ub2RlLmNvbnN0YW50KE1hdGguZmxvb3Iob2JqLmdldFRpbWUoKSkpfSkpO1xuICB9XG4gIGlmIChvYmogaW5zdGFuY2VvZiBlZS5FbmNvZGFibGUpIHtcbiAgICByZXR1cm4gbWFrZVJlZihvYmouZW5jb2RlQ2xvdWRWYWx1ZSh0aGlzKSk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBtYWtlUmVmKGVlLnJwY19ub2RlLmFycmF5KG9iai5tYXAoZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIGVlLnJwY19ub2RlLnJlZmVyZW5jZSgkanNjb21wJHRoaXMubWFrZVJlZmVyZW5jZSh4KSk7XG4gICAgfSkpKTtcbiAgfVxuICBpZiAoZ29vZy5pc09iamVjdChvYmopICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIG9iaikge1xuICAgIHZhciB2YWx1ZXMgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhvYmopLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhbHVlc1trXSA9IGVlLnJwY19ub2RlLnJlZmVyZW5jZSgkanNjb21wJHRoaXMubWFrZVJlZmVyZW5jZShvYmpba10pKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWFrZVJlZihlZS5ycGNfbm9kZS5kaWN0aW9uYXJ5KHZhbHVlcykpO1xuICB9XG4gIHRocm93IEVycm9yKFwiQ2FuJ3QgZW5jb2RlIG9iamVjdDogXCIgKyBvYmopO1xufTtcbnZhciBFeHByZXNzaW9uT3B0aW1pemVyID0gZnVuY3Rpb24ocm9vdFJlZmVyZW5jZSwgdmFsdWVzLCBpc0NvbXBvdW5kKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuICB0aGlzLnJvb3RSZWZlcmVuY2UgPSByb290UmVmZXJlbmNlO1xuICB0aGlzLnZhbHVlcyA9IHt9O1xuICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih0dXBsZSkge1xuICAgIHJldHVybiAkanNjb21wJHRoaXMudmFsdWVzW3R1cGxlWzBdXSA9IHR1cGxlWzFdO1xuICB9KTtcbiAgdGhpcy5yZWZlcmVuY2VDb3VudHMgPSBpc0NvbXBvdW5kID8gdGhpcy5jb3VudFJlZmVyZW5jZXMoKSA6IG51bGw7XG4gIHRoaXMub3B0aW1pemVkVmFsdWVzID0ge307XG4gIHRoaXMucmVmZXJlbmNlTWFwID0ge307XG4gIHRoaXMubmV4dE1hcHBlZFJlZiA9IDA7XG59O1xuRXhwcmVzc2lvbk9wdGltaXplci5wcm90b3R5cGUub3B0aW1pemUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMub3B0aW1pemVSZWZlcmVuY2UodGhpcy5yb290UmVmZXJlbmNlKTtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24oe3Jlc3VsdDpyZXN1bHQsIHZhbHVlczp0aGlzLm9wdGltaXplZFZhbHVlcyx9KTtcbn07XG5FeHByZXNzaW9uT3B0aW1pemVyLnByb3RvdHlwZS5vcHRpbWl6ZVJlZmVyZW5jZSA9IGZ1bmN0aW9uKHJlZikge1xuICBpZiAocmVmIGluIHRoaXMucmVmZXJlbmNlTWFwKSB7XG4gICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlTWFwW3JlZl07XG4gIH1cbiAgdmFyIG1hcHBlZFJlZiA9IFN0cmluZyh0aGlzLm5leHRNYXBwZWRSZWYrKyk7XG4gIHRoaXMucmVmZXJlbmNlTWFwW3JlZl0gPSBtYXBwZWRSZWY7XG4gIHRoaXMub3B0aW1pemVkVmFsdWVzW21hcHBlZFJlZl0gPSB0aGlzLm9wdGltaXplVmFsdWUodGhpcy52YWx1ZXNbcmVmXSwgMCk7XG4gIHJldHVybiBtYXBwZWRSZWY7XG59O1xuRXhwcmVzc2lvbk9wdGltaXplci5wcm90b3R5cGUub3B0aW1pemVWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBkZXB0aCkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgaXNDb25zdCA9IGZ1bmN0aW9uKHYpIHtcbiAgICByZXR1cm4gbnVsbCAhPT0gdi5jb25zdGFudFZhbHVlO1xuICB9LCBzZXJpYWxpemVDb25zdCA9IGZ1bmN0aW9uKHYpIHtcbiAgICByZXR1cm4gdiA9PT0gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5OVUxMX1ZBTFVFID8gbnVsbCA6IHY7XG4gIH07XG4gIGlmIChpc0NvbnN0KHZhbHVlKSB8fCBudWxsICE9IHZhbHVlLmludGVnZXJWYWx1ZSB8fCBudWxsICE9IHZhbHVlLmJ5dGVzVmFsdWUgfHwgbnVsbCAhPSB2YWx1ZS5hcmd1bWVudFJlZmVyZW5jZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAobnVsbCAhPSB2YWx1ZS52YWx1ZVJlZmVyZW5jZSkge1xuICAgIHZhciB2YWwgPSB0aGlzLnZhbHVlc1t2YWx1ZS52YWx1ZVJlZmVyZW5jZV07XG4gICAgcmV0dXJuIG51bGwgPT09IHRoaXMucmVmZXJlbmNlQ291bnRzIHx8IDUwID4gZGVwdGggJiYgMSA9PT0gdGhpcy5yZWZlcmVuY2VDb3VudHNbdmFsdWUudmFsdWVSZWZlcmVuY2VdID8gdGhpcy5vcHRpbWl6ZVZhbHVlKHZhbCwgZGVwdGgpIDogRXhwcmVzc2lvbk9wdGltaXplci5pc0Fsd2F5c0xpZnRhYmxlKHZhbCkgPyB2YWwgOiBlZS5ycGNfbm9kZS5yZWZlcmVuY2UodGhpcy5vcHRpbWl6ZVJlZmVyZW5jZSh2YWx1ZS52YWx1ZVJlZmVyZW5jZSkpO1xuICB9XG4gIGlmIChudWxsICE9IHZhbHVlLmFycmF5VmFsdWUpIHtcbiAgICB2YXIgYXJyID0gdmFsdWUuYXJyYXlWYWx1ZS52YWx1ZXMubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiAkanNjb21wJHRoaXMub3B0aW1pemVWYWx1ZSh2LCBkZXB0aCArIDMpO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnIuZXZlcnkoaXNDb25zdCkgPyBlZS5ycGNfbm9kZS5jb25zdGFudChhcnIubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiBzZXJpYWxpemVDb25zdCh2LmNvbnN0YW50VmFsdWUpO1xuICAgIH0pKSA6IGVlLnJwY19ub2RlLmFycmF5KGFycik7XG4gIH1cbiAgaWYgKG51bGwgIT0gdmFsdWUuZGljdGlvbmFyeVZhbHVlKSB7XG4gICAgZm9yICh2YXIgdmFsdWVzID0ge30sIGNvbnN0YW50VmFsdWVzID0ge30sICRqc2NvbXAkaXRlciQyNSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5lbnRyaWVzKHZhbHVlLmRpY3Rpb25hcnlWYWx1ZS52YWx1ZXMgfHwge30pKSwgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDI1Lm5leHQoKTsgISRqc2NvbXAka2V5JC5kb25lOyAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMjUubmV4dCgpKSB7XG4gICAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjMzID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRrZXkkLnZhbHVlKSwgayA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzMy5uZXh0KCkudmFsdWUsIHYkanNjb21wJDAgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzMubmV4dCgpLnZhbHVlO1xuICAgICAgdmFsdWVzW2tdID0gdGhpcy5vcHRpbWl6ZVZhbHVlKHYkanNjb21wJDAsIGRlcHRoICsgMyk7XG4gICAgICBudWxsICE9PSBjb25zdGFudFZhbHVlcyAmJiBpc0NvbnN0KHZhbHVlc1trXSkgPyBjb25zdGFudFZhbHVlc1trXSA9IHNlcmlhbGl6ZUNvbnN0KHZhbHVlc1trXS5jb25zdGFudFZhbHVlKSA6IGNvbnN0YW50VmFsdWVzID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGwgIT09IGNvbnN0YW50VmFsdWVzID8gZWUucnBjX25vZGUuY29uc3RhbnQoY29uc3RhbnRWYWx1ZXMpIDogZWUucnBjX25vZGUuZGljdGlvbmFyeSh2YWx1ZXMpO1xuICB9XG4gIGlmIChudWxsICE9IHZhbHVlLmZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlKSB7XG4gICAgdmFyIGRlZiA9IHZhbHVlLmZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlO1xuICAgIHJldHVybiBlZS5ycGNfbm9kZS5mdW5jdGlvbkRlZmluaXRpb24oZGVmLmFyZ3VtZW50TmFtZXMgfHwgW10sIHRoaXMub3B0aW1pemVSZWZlcmVuY2UoZGVmLmJvZHkgfHwgXCJcIikpO1xuICB9XG4gIGlmIChudWxsICE9IHZhbHVlLmZ1bmN0aW9uSW52b2NhdGlvblZhbHVlKSB7XG4gICAgZm9yICh2YXIgaW52ID0gdmFsdWUuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUsIGFyZ3MgPSB7fSwgJGpzY29tcCRpdGVyJDI2ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmtleXMoaW52LmFyZ3VtZW50cyB8fCB7fSkpLCAkanNjb21wJGtleSRrID0gJGpzY29tcCRpdGVyJDI2Lm5leHQoKTsgISRqc2NvbXAka2V5JGsuZG9uZTsgJGpzY29tcCRrZXkkayA9ICRqc2NvbXAkaXRlciQyNi5uZXh0KCkpIHtcbiAgICAgIHZhciBrJDYzID0gJGpzY29tcCRrZXkkay52YWx1ZTtcbiAgICAgIGFyZ3NbayQ2M10gPSB0aGlzLm9wdGltaXplVmFsdWUoaW52LmFyZ3VtZW50c1trJDYzXSwgZGVwdGggKyAzKTtcbiAgICB9XG4gICAgcmV0dXJuIGludi5mdW5jdGlvbk5hbWUgPyBlZS5ycGNfbm9kZS5mdW5jdGlvbkJ5TmFtZShpbnYuZnVuY3Rpb25OYW1lLCBhcmdzKSA6IGVlLnJwY19ub2RlLmZ1bmN0aW9uQnlSZWZlcmVuY2UodGhpcy5vcHRpbWl6ZVJlZmVyZW5jZShpbnYuZnVuY3Rpb25SZWZlcmVuY2UgfHwgXCJcIiksIGFyZ3MpO1xuICB9XG4gIHRocm93IEVycm9yKFwiQ2FuJ3Qgb3B0aW1pemUgdmFsdWU6IFwiICsgdmFsdWUpO1xufTtcbkV4cHJlc3Npb25PcHRpbWl6ZXIuaXNBbHdheXNMaWZ0YWJsZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBjb25zdGFudCA9IHZhbHVlLmNvbnN0YW50VmFsdWU7XG4gIHJldHVybiBudWxsICE9PSBjb25zdGFudCA/IGNvbnN0YW50ID09PSBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0Lk5VTExfVkFMVUUgfHwgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGNvbnN0YW50IHx8IFwiYm9vbGVhblwiID09PSB0eXBlb2YgY29uc3RhbnQgOiBudWxsICE9IHZhbHVlLmFyZ3VtZW50UmVmZXJlbmNlO1xufTtcbkV4cHJlc3Npb25PcHRpbWl6ZXIucHJvdG90eXBlLmNvdW50UmVmZXJlbmNlcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgY291bnRzID0ge30sIHZpc2l0UmVmZXJlbmNlID0gZnVuY3Rpb24ocmVmZXJlbmNlKSB7XG4gICAgY291bnRzW3JlZmVyZW5jZV0gPyBjb3VudHNbcmVmZXJlbmNlXSsrIDogKGNvdW50c1tyZWZlcmVuY2VdID0gMSwgdmlzaXRWYWx1ZSgkanNjb21wJHRoaXMudmFsdWVzW3JlZmVyZW5jZV0pKTtcbiAgfSwgdmlzaXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKG51bGwgIT0gdmFsdWUuYXJyYXlWYWx1ZSkge1xuICAgICAgdmFsdWUuYXJyYXlWYWx1ZS52YWx1ZXMuZm9yRWFjaCh2aXNpdFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG51bGwgIT0gdmFsdWUuZGljdGlvbmFyeVZhbHVlKSB7XG4gICAgICAgIE9iamVjdC52YWx1ZXModmFsdWUuZGljdGlvbmFyeVZhbHVlLnZhbHVlcykuZm9yRWFjaCh2aXNpdFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChudWxsICE9IHZhbHVlLmZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlKSB7XG4gICAgICAgICAgdmlzaXRSZWZlcmVuY2UodmFsdWUuZnVuY3Rpb25EZWZpbml0aW9uVmFsdWUuYm9keSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG51bGwgIT0gdmFsdWUuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBpbnYgPSB2YWx1ZS5mdW5jdGlvbkludm9jYXRpb25WYWx1ZTtcbiAgICAgICAgICAgIG51bGwgIT0gaW52LmZ1bmN0aW9uUmVmZXJlbmNlICYmIHZpc2l0UmVmZXJlbmNlKGludi5mdW5jdGlvblJlZmVyZW5jZSk7XG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKGludi5hcmd1bWVudHMpLmZvckVhY2godmlzaXRWYWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG51bGwgIT0gdmFsdWUudmFsdWVSZWZlcmVuY2UgJiYgdmlzaXRSZWZlcmVuY2UodmFsdWUudmFsdWVSZWZlcmVuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmlzaXRSZWZlcmVuY2UodGhpcy5yb290UmVmZXJlbmNlKTtcbiAgcmV0dXJuIGNvdW50cztcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaCA9IHt9O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24gPSB7RFJJVkU6XCJEUklWRVwiLCBHQ1M6XCJHT09HTEVfQ0xPVURfU1RPUkFHRVwiLCBBU1NFVDpcIkFTU0VUXCIsIEZFQVRVUkVfVklFVzpcIkZFQVRVUkVfVklFV1wiLH07XG5lZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRJbWFnZVJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgaWYgKG51bGwgPT0gcGFyYW1zLmVsZW1lbnQpIHtcbiAgICB0aHJvdyBFcnJvcignXCJlbGVtZW50XCIgbm90IGZvdW5kIGluIHBhcmFtcyAnICsgcGFyYW1zKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0SW1hZ2VSZXF1ZXN0KHtleHByZXNzaW9uOmVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy5lbGVtZW50KSwgZGVzY3JpcHRpb246c3RyaW5nT3JOdWxsXyhwYXJhbXMuZGVzY3JpcHRpb24pLCBmaWxlRXhwb3J0T3B0aW9uczpudWxsLCBhc3NldEV4cG9ydE9wdGlvbnM6bnVsbCwgZ3JpZDpudWxsLCBtYXhQaXhlbHM6c3RyaW5nT3JOdWxsXyhwYXJhbXMubWF4UGl4ZWxzKSwgcmVxdWVzdElkOnN0cmluZ09yTnVsbF8ocGFyYW1zLmlkKSwgbWF4V29ya2VyQ291bnQ6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4V29ya2Vycyl9KSwgZGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5ndWVzc0Rlc3RpbmF0aW9uXyhwYXJhbXMpO1xuICBzd2l0Y2goZGVzdGluYXRpb24pIHtcbiAgICBjYXNlIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkdDUzpcbiAgICBjYXNlIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkRSSVZFOlxuICAgICAgcmVzdWx0LmZpbGVFeHBvcnRPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRJbWFnZUZpbGVFeHBvcnRPcHRpb25zXyhwYXJhbXMsIGRlc3RpbmF0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uQVNTRVQ6XG4gICAgICByZXN1bHQuYXNzZXRFeHBvcnRPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRJbWFnZUFzc2V0RXhwb3J0T3B0aW9uc18ocGFyYW1zKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcignRXhwb3J0IGRlc3RpbmF0aW9uIFwiJyArIGRlc3RpbmF0aW9uICsgJ1wiIHVua25vd24nKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydFRhYmxlUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBpZiAobnVsbCA9PSBwYXJhbXMuZWxlbWVudCkge1xuICAgIHRocm93IEVycm9yKCdcImVsZW1lbnRcIiBub3QgZm91bmQgaW4gcGFyYW1zICcgKyBwYXJhbXMpO1xuICB9XG4gIHZhciBzZWxlY3RvcnMgPSBwYXJhbXMuc2VsZWN0b3JzIHx8IG51bGw7XG4gIG51bGwgIT0gc2VsZWN0b3JzICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBzZWxlY3RvcnMgJiYgKHNlbGVjdG9ycyA9IHNlbGVjdG9ycy5zcGxpdChcIixcIikpO1xuICB2YXIgcmVzdWx0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0KHtleHByZXNzaW9uOmVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy5lbGVtZW50KSwgZGVzY3JpcHRpb246c3RyaW5nT3JOdWxsXyhwYXJhbXMuZGVzY3JpcHRpb24pLCBmaWxlRXhwb3J0T3B0aW9uczpudWxsLCBhc3NldEV4cG9ydE9wdGlvbnM6bnVsbCwgZG1zRXhwb3J0T3B0aW9uczpudWxsLCBzZWxlY3RvcnM6c2VsZWN0b3JzLCBtYXhFcnJvck1ldGVyczpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhFcnJvck1ldGVycyksIHJlcXVlc3RJZDpzdHJpbmdPck51bGxfKHBhcmFtcy5pZCksIG1heFZlcnRpY2VzOm51bWJlck9yTnVsbF8ocGFyYW1zLm1heFZlcnRpY2VzKSwgbWF4V29ya2VyQ291bnQ6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4V29ya2Vycyl9KSwgXG4gIGRlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guZ3Vlc3NEZXN0aW5hdGlvbl8ocGFyYW1zKTtcbiAgc3dpdGNoKGRlc3RpbmF0aW9uKSB7XG4gICAgY2FzZSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5HQ1M6XG4gICAgY2FzZSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5EUklWRTpcbiAgICAgIHJlc3VsdC5maWxlRXhwb3J0T3B0aW9ucyA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGFibGVGaWxlRXhwb3J0T3B0aW9uc18ocGFyYW1zLCBkZXN0aW5hdGlvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkFTU0VUOlxuICAgICAgcmVzdWx0LmFzc2V0RXhwb3J0T3B0aW9ucyA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGFibGVBc3NldEV4cG9ydE9wdGlvbnNfKHBhcmFtcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkZFQVRVUkVfVklFVzpcbiAgICAgIHJlc3VsdC5kbXNFeHBvcnRPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRGZWF0dXJlVmlld0V4cG9ydE9wdGlvbnNfKHBhcmFtcyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoJ0V4cG9ydCBkZXN0aW5hdGlvbiBcIicgKyBkZXN0aW5hdGlvbiArICdcIiB1bmtub3duJyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRWaWRlb1JlcXVlc3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgaWYgKG51bGwgPT0gcGFyYW1zLmVsZW1lbnQpIHtcbiAgICB0aHJvdyBFcnJvcignXCJlbGVtZW50XCIgbm90IGZvdW5kIGluIHBhcmFtcyAnICsgcGFyYW1zKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9SZXF1ZXN0KHtleHByZXNzaW9uOmVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy5lbGVtZW50KSwgZGVzY3JpcHRpb246c3RyaW5nT3JOdWxsXyhwYXJhbXMuZGVzY3JpcHRpb24pLCB2aWRlb09wdGlvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRWaWRlb09wdGlvbnNfKHBhcmFtcyksIGZpbGVFeHBvcnRPcHRpb25zOm51bGwsIHJlcXVlc3RJZDpzdHJpbmdPck51bGxfKHBhcmFtcy5pZCksIG1heFdvcmtlckNvdW50Om51bWJlck9yTnVsbF8ocGFyYW1zLm1heFdvcmtlcnMpfSk7XG4gIHJlc3VsdC5maWxlRXhwb3J0T3B0aW9ucyA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVmlkZW9GaWxlRXhwb3J0T3B0aW9uc18ocGFyYW1zLCBlZS5ycGNfY29udmVydF9iYXRjaC5ndWVzc0Rlc3RpbmF0aW9uXyhwYXJhbXMpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRNYXBSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGlmIChudWxsID09IHBhcmFtcy5lbGVtZW50KSB7XG4gICAgdGhyb3cgRXJyb3IoJ1wiZWxlbWVudFwiIG5vdCBmb3VuZCBpbiBwYXJhbXMgJyArIHBhcmFtcyk7XG4gIH1cbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydE1hcFJlcXVlc3Qoe2V4cHJlc3Npb246ZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLmVsZW1lbnQpLCBkZXNjcmlwdGlvbjpzdHJpbmdPck51bGxfKHBhcmFtcy5kZXNjcmlwdGlvbiksIHRpbGVPcHRpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGlsZU9wdGlvbnNfKHBhcmFtcyksIHRpbGVFeHBvcnRPcHRpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc18ocGFyYW1zLCBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5HQ1MpLCByZXF1ZXN0SWQ6c3RyaW5nT3JOdWxsXyhwYXJhbXMuaWQpLCBtYXhXb3JrZXJDb3VudDpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhXb3JrZXJzKX0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydFZpZGVvTWFwUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBpZiAobnVsbCA9PSBwYXJhbXMuZWxlbWVudCkge1xuICAgIHRocm93IEVycm9yKCdcImVsZW1lbnRcIiBub3QgZm91bmQgaW4gcGFyYW1zICcgKyBwYXJhbXMpO1xuICB9XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3Qoe2V4cHJlc3Npb246ZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLmVsZW1lbnQpLCBkZXNjcmlwdGlvbjpzdHJpbmdPck51bGxfKHBhcmFtcy5kZXNjcmlwdGlvbiksIHZpZGVvT3B0aW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFZpZGVvTWFwT3B0aW9uc18ocGFyYW1zKSwgdGlsZU9wdGlvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUaWxlT3B0aW9uc18ocGFyYW1zKSwgdGlsZUV4cG9ydE9wdGlvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRWaWRlb0ZpbGVFeHBvcnRPcHRpb25zXyhwYXJhbXMsIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkdDUyksIHJlcXVlc3RJZDpzdHJpbmdPck51bGxfKHBhcmFtcy5pZCksIFxuICB2ZXJzaW9uOnN0cmluZ09yTnVsbF8ocGFyYW1zLnZlcnNpb24pLCBtYXhXb3JrZXJDb3VudDpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhXb3JrZXJzKX0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydENsYXNzaWZpZXJSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGlmIChudWxsID09IHBhcmFtcy5lbGVtZW50KSB7XG4gICAgdGhyb3cgRXJyb3IoJ1wiZWxlbWVudFwiIG5vdCBmb3VuZCBpbiBwYXJhbXMgJyArIHBhcmFtcyk7XG4gIH1cbiAgdmFyIGRlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guZ3Vlc3NEZXN0aW5hdGlvbl8ocGFyYW1zKTtcbiAgaWYgKGRlc3RpbmF0aW9uICE9IGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkFTU0VUKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0V4cG9ydCBkZXN0aW5hdGlvbiBcIicgKyBkZXN0aW5hdGlvbiArICdcIiB1bmtub3duJyk7XG4gIH1cbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0KHtleHByZXNzaW9uOmVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy5lbGVtZW50KSwgZGVzY3JpcHRpb246c3RyaW5nT3JOdWxsXyhwYXJhbXMuZGVzY3JpcHRpb24pLCByZXF1ZXN0SWQ6c3RyaW5nT3JOdWxsXyhwYXJhbXMuaWQpLCBhc3NldEV4cG9ydE9wdGlvbnM6bmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9ucyh7ZWFydGhFbmdpbmVEZXN0aW5hdGlvbjplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEVhcnRoRW5naW5lRGVzdGluYXRpb25fKHBhcmFtcyl9KSwgbWF4V29ya2VyQ291bnQ6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4V29ya2VycyksXG4gIH0pO1xufTtcbmZ1bmN0aW9uIHN0cmluZ09yTnVsbF8odmFsdWUpIHtcbiAgcmV0dXJuIG51bGwgIT0gdmFsdWUgPyBTdHJpbmcodmFsdWUpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIG51bWJlck9yTnVsbF8odmFsdWUpIHtcbiAgcmV0dXJuIG51bGwgIT0gdmFsdWUgPyBOdW1iZXIodmFsdWUpIDogbnVsbDtcbn1cbmVlLnJwY19jb252ZXJ0X2JhdGNoLmd1ZXNzRGVzdGluYXRpb25fID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciBkZXN0aW5hdGlvbiA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkRSSVZFO1xuICBpZiAobnVsbCA9PSBwYXJhbXMpIHtcbiAgICByZXR1cm4gZGVzdGluYXRpb247XG4gIH1cbiAgbnVsbCAhPSBwYXJhbXMub3V0cHV0QnVja2V0IHx8IG51bGwgIT0gcGFyYW1zLm91dHB1dFByZWZpeCA/IGRlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uR0NTIDogbnVsbCAhPSBwYXJhbXMuYXNzZXRJZCA/IGRlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uQVNTRVQgOiBudWxsICE9IHBhcmFtcy5tYXBOYW1lICYmIChkZXN0aW5hdGlvbiA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkZFQVRVUkVfVklFVyk7XG4gIHJldHVybiBkZXN0aW5hdGlvbjtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdlb1RpZmZGb3JtYXRPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBpZiAocGFyYW1zLmZpbGVEaW1lbnNpb25zICYmIHBhcmFtcy50aWZmRmlsZURpbWVuc2lvbnMpIHtcbiAgICB0aHJvdyBFcnJvcignRXhwb3J0IGNhbm5vdCBzZXQgYm90aCBcImZpbGVEaW1lbnNpb25zXCIgYW5kIFwidGlmZkZpbGVEaW1lbnNpb25zXCIuJyk7XG4gIH1cbiAgdmFyIHRpbGVTaXplID0gcGFyYW1zLnRpZmZTaGFyZFNpemUgfHwgcGFyYW1zLnNoYXJkU2l6ZTtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdlb1RpZmZJbWFnZUV4cG9ydE9wdGlvbnMoe2Nsb3VkT3B0aW1pemVkOiEhcGFyYW1zLnRpZmZDbG91ZE9wdGltaXplZCwgc2tpcEVtcHR5RmlsZXM6ISghcGFyYW1zLnNraXBFbXB0eVRpbGVzICYmICFwYXJhbXMudGlmZlNraXBFbXB0eUZpbGVzKSwgdGlsZURpbWVuc2lvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRHcmlkRGltZW5zaW9uc18ocGFyYW1zLmZpbGVEaW1lbnNpb25zIHx8IHBhcmFtcy50aWZmRmlsZURpbWVuc2lvbnMpLCB0aWxlU2l6ZTpudW1iZXJPck51bGxfKHRpbGVTaXplKSx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFRmUmVjb3JkRm9ybWF0T3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgdmFyIHRmUmVjb3JkT3B0aW9ucyA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zKHtjb21wcmVzczohIXBhcmFtcy50ZnJlY29yZENvbXByZXNzZWQsIG1heFNpemVCeXRlczpzdHJpbmdPck51bGxfKHBhcmFtcy50ZnJlY29yZE1heEZpbGVTaXplKSwgc2VxdWVuY2VEYXRhOiEhcGFyYW1zLnRmcmVjb3JkU2VxdWVuY2VEYXRhLCBjb2xsYXBzZUJhbmRzOiEhcGFyYW1zLnRmcmVjb3JkQ29sbGFwc2VCYW5kcywgbWF4TWFza2VkUmF0aW86bnVtYmVyT3JOdWxsXyhwYXJhbXMudGZyZWNvcmRNYXNrZWRUaHJlc2hvbGQpLCBkZWZhdWx0VmFsdWU6bnVtYmVyT3JOdWxsXyhwYXJhbXMudGZyZWNvcmREZWZhdWx0VmFsdWUpLCB0aWxlRGltZW5zaW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdyaWREaW1lbnNpb25zXyhwYXJhbXMudGZyZWNvcmRQYXRjaERpbWVuc2lvbnMpLCBcbiAgbWFyZ2luRGltZW5zaW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdyaWREaW1lbnNpb25zXyhwYXJhbXMudGZyZWNvcmRLZXJuZWxTaXplKSwgdGVuc29yRGVwdGhzOm51bGwsfSksIHRlbnNvckRlcHRocyA9IHBhcmFtcy50ZnJlY29yZFRlbnNvckRlcHRocztcbiAgaWYgKG51bGwgIT0gdGVuc29yRGVwdGhzKSB7XG4gICAgaWYgKGdvb2cuaXNPYmplY3QodGVuc29yRGVwdGhzKSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2godGVuc29yRGVwdGhzLCBmdW5jdGlvbih2LCBrKSB7XG4gICAgICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgayB8fCBcIm51bWJlclwiICE9PSB0eXBlb2Ygdikge1xuICAgICAgICAgIHRocm93IEVycm9yKCdcInRlbnNvckRlcHRoc1wiIG9wdGlvbiBtdXN0IGJlIGFuIG9iamVjdCBvZiB0eXBlIE9iamVjdDxzdHJpbmcsIG51bWJlcj4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRba10gPSB2O1xuICAgICAgfSk7XG4gICAgICB0ZlJlY29yZE9wdGlvbnMudGVuc29yRGVwdGhzID0gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcignXCJ0ZW5zb3JEZXB0aHNcIiBvcHRpb24gbmVlZHMgdG8gaGF2ZSB0aGUgZm9ybSBPYmplY3Q8c3RyaW5nLCBudW1iZXI+LicpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGZSZWNvcmRPcHRpb25zO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMsIGRlc3RpbmF0aW9uKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zKHtnY3NEZXN0aW5hdGlvbjpudWxsLCBkcml2ZURlc3RpbmF0aW9uOm51bGwsIGdlb1RpZmZPcHRpb25zOm51bGwsIHRmUmVjb3JkT3B0aW9uczpudWxsLCBmaWxlRm9ybWF0OmVlLnJwY19jb252ZXJ0LmZpbGVGb3JtYXQocGFyYW1zLmZpbGVGb3JtYXQpLH0pO1xuICBcIkdFT19USUZGXCIgPT09IHJlc3VsdC5maWxlRm9ybWF0ID8gcmVzdWx0Lmdlb1RpZmZPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRHZW9UaWZmRm9ybWF0T3B0aW9uc18ocGFyYW1zKSA6IFwiVEZfUkVDT1JEX0lNQUdFXCIgPT09IHJlc3VsdC5maWxlRm9ybWF0ICYmIChyZXN1bHQudGZSZWNvcmRPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUZlJlY29yZEZvcm1hdE9wdGlvbnNfKHBhcmFtcykpO1xuICBkZXN0aW5hdGlvbiA9PT0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uR0NTID8gcmVzdWx0Lmdjc0Rlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRHY3NEZXN0aW5hdGlvbl8ocGFyYW1zKSA6IHJlc3VsdC5kcml2ZURlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGREcml2ZURlc3RpbmF0aW9uXyhwYXJhbXMpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciBhbGxQb2xpY2llcyA9IHBhcmFtcy5weXJhbWlkaW5nUG9saWN5IHx8IHt9O1xuICB0cnkge1xuICAgIGFsbFBvbGljaWVzID0gSlNPTi5wYXJzZShhbGxQb2xpY2llcyk7XG4gIH0gY2F0Y2ggKCRqc2NvbXAkdW51c2VkJGNhdGNoKSB7XG4gIH1cbiAgdmFyIGRlZmF1bHRQeXJhbWlkaW5nUG9saWN5ID0gXCJQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRFwiO1xuICBcInN0cmluZ1wiID09PSB0eXBlb2YgYWxsUG9saWNpZXMgPyAoZGVmYXVsdFB5cmFtaWRpbmdQb2xpY3kgPSBhbGxQb2xpY2llcywgYWxsUG9saWNpZXMgPSB7fSkgOiBhbGxQb2xpY2llc1tcIi5kZWZhdWx0XCJdICYmIChkZWZhdWx0UHlyYW1pZGluZ1BvbGljeSA9IGFsbFBvbGljaWVzW1wiLmRlZmF1bHRcIl0sIGRlbGV0ZSBhbGxQb2xpY2llc1tcIi5kZWZhdWx0XCJdKTtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zKHtlYXJ0aEVuZ2luZURlc3RpbmF0aW9uOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRWFydGhFbmdpbmVEZXN0aW5hdGlvbl8ocGFyYW1zKSwgcHlyYW1pZGluZ1BvbGljeTpkZWZhdWx0UHlyYW1pZGluZ1BvbGljeSwgcHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlczptb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eShhbGxQb2xpY2llcykgPyBudWxsIDogYWxsUG9saWNpZXMsIHRpbGVTaXplOm51bWJlck9yTnVsbF8ocGFyYW1zLnNoYXJkU2l6ZSksfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUYWJsZUZpbGVFeHBvcnRPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcywgZGVzdGluYXRpb24pIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMoe2djc0Rlc3RpbmF0aW9uOm51bGwsIGRyaXZlRGVzdGluYXRpb246bnVsbCwgZmlsZUZvcm1hdDplZS5ycGNfY29udmVydC50YWJsZUZpbGVGb3JtYXQocGFyYW1zLmZpbGVGb3JtYXQpLH0pO1xuICBkZXN0aW5hdGlvbiA9PT0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uR0NTID8gcmVzdWx0Lmdjc0Rlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRHY3NEZXN0aW5hdGlvbl8ocGFyYW1zKSA6IHJlc3VsdC5kcml2ZURlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGREcml2ZURlc3RpbmF0aW9uXyhwYXJhbXMpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGFibGVBc3NldEV4cG9ydE9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucyh7ZWFydGhFbmdpbmVEZXN0aW5hdGlvbjplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEVhcnRoRW5naW5lRGVzdGluYXRpb25fKHBhcmFtcyl9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEZlYXR1cmVWaWV3RXhwb3J0T3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Fzc2V0RXhwb3J0T3B0aW9ucyh7ZG1zRGVzdGluYXRpb246ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRGZWF0dXJlVmlld0Rlc3RpbmF0aW9uXyhwYXJhbXMpLCBpbmdlc3Rpb25UaW1lUGFyYW1ldGVyczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnNfKHBhcmFtcy5pbmdlc3Rpb25UaW1lUGFyYW1ldGVycyksfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRWaWRlb0ZpbGVFeHBvcnRPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcywgZGVzdGluYXRpb24pIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnMoe2djc0Rlc3RpbmF0aW9uOm51bGwsIGRyaXZlRGVzdGluYXRpb246bnVsbCwgZmlsZUZvcm1hdDpcIk1QNFwiLH0pO1xuICBkZXN0aW5hdGlvbiA9PT0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uR0NTID8gcmVzdWx0Lmdjc0Rlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRHY3NEZXN0aW5hdGlvbl8ocGFyYW1zKSA6IHJlc3VsdC5kcml2ZURlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGREcml2ZURlc3RpbmF0aW9uXyhwYXJhbXMpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVmlkZW9PcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zKHtmcmFtZXNQZXJTZWNvbmQ6bnVtYmVyT3JOdWxsXyhwYXJhbXMuZnJhbWVzUGVyU2Vjb25kKSwgbWF4RnJhbWVzOm51bWJlck9yTnVsbF8ocGFyYW1zLm1heEZyYW1lcyksIG1heFBpeGVsc1BlckZyYW1lOnN0cmluZ09yTnVsbF8ocGFyYW1zLm1heFBpeGVscyksfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRWaWRlb01hcE9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnMoe2ZyYW1lc1BlclNlY29uZDpudW1iZXJPck51bGxfKHBhcmFtcy5mcmFtZXNQZXJTZWNvbmQpLCBtYXhGcmFtZXM6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4RnJhbWVzKSwgbWF4UGl4ZWxzUGVyRnJhbWU6bnVsbCx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFRpbGVPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnMoe21heFpvb206bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4Wm9vbSksIHNjYWxlOm51bWJlck9yTnVsbF8ocGFyYW1zLnNjYWxlKSwgbWluWm9vbTpudW1iZXJPck51bGxfKHBhcmFtcy5taW5ab29tKSwgc2tpcEVtcHR5VGlsZXM6ISFwYXJhbXMuc2tpcEVtcHR5VGlsZXMsIG1hcHNBcGlLZXk6c3RyaW5nT3JOdWxsXyhwYXJhbXMubWFwc0FwaUtleSksIHRpbGVEaW1lbnNpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkR3JpZERpbWVuc2lvbnNfKHBhcmFtcy50aWxlRGltZW5zaW9ucyksIHN0cmlkZTpudW1iZXJPck51bGxfKHBhcmFtcy5zdHJpZGUpLCB6b29tU3Vic2V0OmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkWm9vbVN1YnNldF8obnVtYmVyT3JOdWxsXyhwYXJhbXMubWluVGltZU1hY2hpbmVab29tU3Vic2V0KSwgXG4gIG51bWJlck9yTnVsbF8ocGFyYW1zLm1heFRpbWVNYWNoaW5lWm9vbVN1YnNldCkpLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkWm9vbVN1YnNldF8gPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICBpZiAobnVsbCA9PSBtaW4gJiYgbnVsbCA9PSBtYXgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldCh7bWluOjAsIG1heDpudWxsfSk7XG4gIG51bGwgIT0gbWluICYmIChyZXN1bHQubWluID0gbWluKTtcbiAgcmVzdWx0Lm1heCA9IG1heDtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdyaWREaW1lbnNpb25zXyA9IGZ1bmN0aW9uKGRpbWVuc2lvbnMpIHtcbiAgaWYgKG51bGwgPT0gZGltZW5zaW9ucykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9ucyh7aGVpZ2h0OjAsIHdpZHRoOjB9KTtcbiAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGRpbWVuc2lvbnMgJiYgKC0xICE9PSBkaW1lbnNpb25zLmluZGV4T2YoXCJ4XCIpID8gZGltZW5zaW9ucyA9IGRpbWVuc2lvbnMuc3BsaXQoXCJ4XCIpLm1hcChOdW1iZXIpIDogLTEgIT09IGRpbWVuc2lvbnMuaW5kZXhPZihcIixcIikgJiYgKGRpbWVuc2lvbnMgPSBkaW1lbnNpb25zLnNwbGl0KFwiLFwiKS5tYXAoTnVtYmVyKSkpO1xuICBpZiAoQXJyYXkuaXNBcnJheShkaW1lbnNpb25zKSkge1xuICAgIGlmICgyID09PSBkaW1lbnNpb25zLmxlbmd0aCkge1xuICAgICAgcmVzdWx0LmhlaWdodCA9IGRpbWVuc2lvbnNbMF0sIHJlc3VsdC53aWR0aCA9IGRpbWVuc2lvbnNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgxID09PSBkaW1lbnNpb25zLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQuaGVpZ2h0ID0gZGltZW5zaW9uc1swXSwgcmVzdWx0LndpZHRoID0gZGltZW5zaW9uc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGNvbnN0cnVjdCBncmlkIGZyb20gZGltZW5zaW9uczogXCIgKyBkaW1lbnNpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKFwibnVtYmVyXCIgIT09IHR5cGVvZiBkaW1lbnNpb25zIHx8IGlzTmFOKGRpbWVuc2lvbnMpKSB7XG4gICAgICBpZiAoZ29vZy5pc09iamVjdChkaW1lbnNpb25zKSAmJiBudWxsICE9IGRpbWVuc2lvbnMuaGVpZ2h0ICYmIG51bGwgIT0gZGltZW5zaW9ucy53aWR0aCkge1xuICAgICAgICByZXN1bHQuaGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQsIHJlc3VsdC53aWR0aCA9IGRpbWVuc2lvbnMud2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBjb25zdHJ1Y3QgZ3JpZCBmcm9tIGRpbWVuc2lvbnM6IFwiICsgZGltZW5zaW9ucyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5oZWlnaHQgPSBkaW1lbnNpb25zLCByZXN1bHQud2lkdGggPSBkaW1lbnNpb25zO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkR2NzRGVzdGluYXRpb25fID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciBwZXJtaXNzaW9ucyA9IG51bGw7XG4gIG51bGwgIT0gcGFyYW1zLndyaXRlUHVibGljVGlsZXMgJiYgKHBlcm1pc3Npb25zID0gcGFyYW1zLndyaXRlUHVibGljVGlsZXMgPyBcIlBVQkxJQ1wiIDogXCJERUZBVUxUX09CSkVDVF9BQ0xcIik7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NEZXN0aW5hdGlvbih7YnVja2V0OnN0cmluZ09yTnVsbF8ocGFyYW1zLm91dHB1dEJ1Y2tldCksIGZpbGVuYW1lUHJlZml4OnN0cmluZ09yTnVsbF8ocGFyYW1zLm91dHB1dFByZWZpeCksIGJ1Y2tldENvcnNVcmlzOnBhcmFtcy5idWNrZXRDb3JzVXJpcyB8fCBudWxsLCBwZXJtaXNzaW9uczpwZXJtaXNzaW9ucyx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZERyaXZlRGVzdGluYXRpb25fID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Ecml2ZURlc3RpbmF0aW9uKHtmb2xkZXI6c3RyaW5nT3JOdWxsXyhwYXJhbXMuZHJpdmVGb2xkZXIpLCBmaWxlbmFtZVByZWZpeDpzdHJpbmdPck51bGxfKHBhcmFtcy5kcml2ZUZpbGVOYW1lUHJlZml4KSx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEVhcnRoRW5naW5lRGVzdGluYXRpb25fID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9uKHtuYW1lOmVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShwYXJhbXMuYXNzZXRJZCl9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEZlYXR1cmVWaWV3RGVzdGluYXRpb25fID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNEZXN0aW5hdGlvbih7ZG1zTmFtZTplZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUocGFyYW1zLm1hcE5hbWUpfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRGZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zSW5nZXN0aW9uVGltZVBhcmFtZXRlcnMoe3RoaW5uaW5nT3B0aW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFRoaW5uaW5nT3B0aW9uc18ocGFyYW1zLnRoaW5uaW5nT3B0aW9ucyksIHJhbmtpbmdPcHRpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua2luZ09wdGlvbnNfKHBhcmFtcy5yYW5raW5nT3B0aW9ucyl9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFRoaW5uaW5nT3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG51bGwgPT0gcGFyYW1zID8gbnVsbCA6IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucyh7bWF4RmVhdHVyZXNQZXJUaWxlOm51bWJlck9yTnVsbF8ocGFyYW1zLm1heEZlYXR1cmVzUGVyVGlsZSksIHRoaW5uaW5nU3RyYXRlZ3k6cGFyYW1zLnRoaW5uaW5nU3RyYXRlZ3l9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFJhbmtpbmdPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbnVsbCA9PSBwYXJhbXMgPyBudWxsIDogbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMoe3pPcmRlclJhbmtpbmdSdWxlOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua2luZ1J1bGVfKHBhcmFtcy56T3JkZXJSYW5raW5nUnVsZSksIHRoaW5uaW5nUmFua2luZ1J1bGU6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRSYW5raW5nUnVsZV8ocGFyYW1zLnRoaW5uaW5nUmFua2luZ1J1bGUpLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua2luZ1J1bGVfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGlmIChudWxsID09IHBhcmFtcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChwYXJhbXMucmFua0J5T25lVGhpbmdSdWxlICYmICFBcnJheS5pc0FycmF5KHBhcmFtcy5yYW5rQnlPbmVUaGluZ1J1bGUpKSB7XG4gICAgdGhyb3cgRXJyb3IoJ1BhcmFtZXRlciBcInJhbmtCeU9uZVRoaW5nUnVsZVwiIHNob3VsZCBiZSBhbiBhcnJheSwgZ290ICcgKyB0eXBlb2YgcGFyYW1zLnJhbmtCeU9uZVRoaW5nUnVsZSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdSdWxlKHtyYW5rQnlPbmVUaGluZ1J1bGU6KHBhcmFtcy5yYW5rQnlPbmVUaGluZ1J1bGUgfHwgW10pLm1hcChlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFJhbmtCeU9uZVRoaW5nUnVsZV8pLCBwc2V1ZG9SYW5kb21UaWVicmVha2luZzpwYXJhbXMucHNldWRvUmFuZG9tVGllYnJlYWtpbmcgfHwgbnVsbCx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFJhbmtCeU9uZVRoaW5nUnVsZV8gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZSh7ZGlyZWN0aW9uOnN0cmluZ09yTnVsbF8ocGFyYW1zLmRpcmVjdGlvbiksIHJhbmtCeUF0dHJpYnV0ZVJ1bGU6bnVsbCwgcmFua0J5TWluVmlzaWJsZUxvZFJ1bGU6bnVsbCwgcmFua0J5R2VvbWV0cnlUeXBlUnVsZTpudWxsLCByYW5rQnlOYXR1cmFsT3JkZXJSdWxlOm51bGwsfSk7XG4gIHBhcmFtcy5yYW5rQnlBdHRyaWJ1dGVSdWxlID8gcmVzdWx0LnJhbmtCeUF0dHJpYnV0ZVJ1bGUgPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFJhbmtCeUF0dHJpYnV0ZVJ1bGUocGFyYW1zKSA6IHBhcmFtcy5yYW5rQnlNaW5WaXNpYmxlTG9kUnVsZSA/IHJlc3VsdC5yYW5rQnlNaW5WaXNpYmxlTG9kUnVsZSA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblZpc2libGVMb2RSdWxlKHt9KSA6IHBhcmFtcy5yYW5rQnlHZW9tZXRyeVR5cGVSdWxlID8gcmVzdWx0LnJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlHZW9tZXRyeVR5cGVSdWxlKHt9KSA6IHBhcmFtcy5yYW5rQnlOYXR1cmFsT3JkZXJSdWxlICYmIChyZXN1bHQucmFua0J5TmF0dXJhbE9yZGVyUnVsZSA9IFxuICBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlOYXR1cmFsT3JkZXIoe30pKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFJhbmtCeUF0dHJpYnV0ZVJ1bGUgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUF0dHJpYnV0ZVJ1bGUoe2F0dHJpYnV0ZU5hbWU6c3RyaW5nT3JOdWxsXyhwYXJhbXMuYXR0cmlidXRlTmFtZSl9KTtcbn07XG5lZS5kYXRhID0ge307XG5lZS5kYXRhLkFic3RyYWN0VGFza0NvbmZpZyA9IHt9O1xuZWUuZGF0YS5BbGdvcml0aG1zUmVnaXN0cnkgPSB7fTtcbmVlLmRhdGEuQXNzZXRMaXN0ID0ge307XG5lZS5kYXRhLkNsYXNzaWZpZXJUYXNrQ29uZmlnID0ge307XG5lZS5kYXRhLkZlYXR1cmVWaWV3VGFza0NvbmZpZyA9IHt9O1xuZWUuZGF0YS5JbWFnZVRhc2tDb25maWcgPSB7fTtcbmVlLmRhdGEuTWFwVGFza0NvbmZpZyA9IHt9O1xuZWUuZGF0YS5UYWJsZVRhc2tDb25maWcgPSB7fTtcbmVlLmRhdGEuVmlkZW9NYXBUYXNrQ29uZmlnID0ge307XG5lZS5kYXRhLlZpZGVvVGFza0NvbmZpZyA9IHt9O1xuZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFPYXV0aCA9IGZ1bmN0aW9uKGNsaWVudElkLCBzdWNjZXNzLCBvcHRfZXJyb3IsIG9wdF9leHRyYVNjb3Blcywgb3B0X29uSW1tZWRpYXRlRmFpbGVkLCBvcHRfc3VwcHJlc3NEZWZhdWx0U2NvcGVzKSB7XG4gIHZhciBzY29wZXMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tZXJnZUF1dGhTY29wZXNfKCFvcHRfc3VwcHJlc3NEZWZhdWx0U2NvcGVzLCAhMSwgb3B0X2V4dHJhU2NvcGVzIHx8IFtdKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aENsaWVudChjbGllbnRJZCwgc2NvcGVzKTtcbiAgbnVsbCA9PT0gY2xpZW50SWQgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5jbGVhckF1dGhUb2tlbigpIDogbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZW5zdXJlQXV0aExpYkxvYWRlZF8oZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uSW1tZWRpYXRlRmFpbGVkID0gb3B0X29uSW1tZWRpYXRlRmFpbGVkIHx8IGdvb2cucGFydGlhbChlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVBvcHVwLCBzdWNjZXNzLCBvcHRfZXJyb3IpO1xuICAgIGVlLmRhdGEucmVmcmVzaEF1dGhUb2tlbihzdWNjZXNzLCBvcHRfZXJyb3IsIG9uSW1tZWRpYXRlRmFpbGVkKTtcbiAgfSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYU9hdXRoXCIsIGVlLmRhdGEuYXV0aGVudGljYXRlVmlhT2F1dGgpO1xuZWUuZGF0YS5hdXRoZW50aWNhdGUgPSBmdW5jdGlvbihjbGllbnRJZCwgc3VjY2Vzcywgb3B0X2Vycm9yLCBvcHRfZXh0cmFTY29wZXMsIG9wdF9vbkltbWVkaWF0ZUZhaWxlZCkge1xuICBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYU9hdXRoKGNsaWVudElkLCBzdWNjZXNzLCBvcHRfZXJyb3IsIG9wdF9leHRyYVNjb3Blcywgb3B0X29uSW1tZWRpYXRlRmFpbGVkKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuYXV0aGVudGljYXRlXCIsIGVlLmRhdGEuYXV0aGVudGljYXRlKTtcbmVlLmRhdGEuYXV0aGVudGljYXRlVmlhUG9wdXAgPSBmdW5jdGlvbihvcHRfc3VjY2Vzcywgb3B0X2Vycm9yKSB7XG4gIGdvb2cuZ2xvYmFsLmdhcGkuYXV0aC5hdXRob3JpemUoe2NsaWVudF9pZDptb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoQ2xpZW50SWQoKSwgaW1tZWRpYXRlOiExLCBzY29wZTptb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoU2NvcGVzKCkuam9pbihcIiBcIil9LCBnb29nLnBhcnRpYWwobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlQXV0aFJlc3VsdF8sIG9wdF9zdWNjZXNzLCBvcHRfZXJyb3IpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuYXV0aGVudGljYXRlVmlhUG9wdXBcIiwgZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFQb3B1cCk7XG5lZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVByaXZhdGVLZXkgPSBmdW5jdGlvbihwcml2YXRlS2V5LCBvcHRfc3VjY2Vzcywgb3B0X2Vycm9yLCBvcHRfZXh0cmFTY29wZXMsIG9wdF9zdXBwcmVzc0RlZmF1bHRTY29wZXMpIHtcbiAgaWYgKFwid2luZG93XCIgaW4gZ29vZy5nbG9iYWwpIHtcbiAgICB0aHJvdyBFcnJvcihcIlVzZSBvZiBwcml2YXRlIGtleSBhdXRoZW50aWNhdGlvbiBpbiB0aGUgYnJvd3NlciBpcyBpbnNlY3VyZS4gQ29uc2lkZXIgdXNpbmcgT0F1dGgsIGluc3RlYWQuXCIpO1xuICB9XG4gIHZhciBzY29wZXMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tZXJnZUF1dGhTY29wZXNfKCFvcHRfc3VwcHJlc3NEZWZhdWx0U2NvcGVzLCAhb3B0X3N1cHByZXNzRGVmYXVsdFNjb3Blcywgb3B0X2V4dHJhU2NvcGVzIHx8IFtdKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aENsaWVudChwcml2YXRlS2V5LmNsaWVudF9lbWFpbCwgc2NvcGVzKTtcbiAgdmFyIGp3dENsaWVudCA9IG5ldyBnb29nbGUuYXV0aC5KV1QocHJpdmF0ZUtleS5jbGllbnRfZW1haWwsIG51bGwsIHByaXZhdGVLZXkucHJpdmF0ZV9rZXksIHNjb3BlcywgbnVsbCk7XG4gIGVlLmRhdGEuc2V0QXV0aFRva2VuUmVmcmVzaGVyKGZ1bmN0aW9uKGF1dGhBcmdzLCBjYWxsYmFjaykge1xuICAgIGp3dENsaWVudC5hdXRob3JpemUoZnVuY3Rpb24oZXJyb3IsIHRva2VuKSB7XG4gICAgICBlcnJvciA/IGNhbGxiYWNrKHtlcnJvcjplcnJvcn0pIDogY2FsbGJhY2soe2FjY2Vzc190b2tlbjp0b2tlbi5hY2Nlc3NfdG9rZW4sIHRva2VuX3R5cGU6dG9rZW4udG9rZW5fdHlwZSwgZXhwaXJlc19pbjoodG9rZW4uZXhwaXJ5X2RhdGUgLSBEYXRlLm5vdygpKSAvIDEwMDAsfSk7XG4gICAgfSk7XG4gIH0pO1xuICBlZS5kYXRhLnJlZnJlc2hBdXRoVG9rZW4ob3B0X3N1Y2Nlc3MsIG9wdF9lcnJvcik7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVByaXZhdGVLZXlcIiwgZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFQcml2YXRlS2V5KTtcbmVlLmRhdGEuc2V0QXBpS2V5ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXBpS2V5O1xuZWUuZGF0YS5zZXRQcm9qZWN0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0UHJvamVjdDtcbmVlLmRhdGEuZ2V0UHJvamVjdCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFByb2plY3Q7XG5lZS5kYXRhLlBST0ZJTEVfUkVRVUVTVF9IRUFERVIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX1JFUVVFU1RfSEVBREVSO1xuZWUuZGF0YS5zZXRFeHByZXNzaW9uQXVnbWVudGVyID0gZnVuY3Rpb24oYXVnbWVudGVyKSB7XG4gIGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8gPSBhdWdtZW50ZXIgfHwgZ29vZy5mdW5jdGlvbnMuaWRlbnRpdHk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnNldEV4cHJlc3Npb25BdWdtZW50ZXJcIiwgZWUuZGF0YS5zZXRFeHByZXNzaW9uQXVnbWVudGVyKTtcbmVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8gPSBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eTtcbmVlLmRhdGEuc2V0QXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aFRva2VuO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnNldEF1dGhUb2tlblwiLCBlZS5kYXRhLnNldEF1dGhUb2tlbik7XG5lZS5kYXRhLnJlZnJlc2hBdXRoVG9rZW4gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5yZWZyZXNoQXV0aFRva2VuO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnJlZnJlc2hBdXRoVG9rZW5cIiwgZWUuZGF0YS5yZWZyZXNoQXV0aFRva2VuKTtcbmVlLmRhdGEuc2V0QXV0aFRva2VuUmVmcmVzaGVyID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aFRva2VuUmVmcmVzaGVyO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnNldEF1dGhUb2tlblJlZnJlc2hlclwiLCBlZS5kYXRhLnNldEF1dGhUb2tlblJlZnJlc2hlcik7XG5lZS5kYXRhLmdldEF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhUb2tlbjtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRBdXRoVG9rZW5cIiwgZWUuZGF0YS5nZXRBdXRoVG9rZW4pO1xuZWUuZGF0YS5jbGVhckF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsZWFyQXV0aFRva2VuO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmNsZWFyQXV0aFRva2VuXCIsIGVlLmRhdGEuY2xlYXJBdXRoVG9rZW4pO1xuZWUuZGF0YS5nZXRBdXRoQ2xpZW50SWQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoQ2xpZW50SWQ7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0QXV0aENsaWVudElkXCIsIGVlLmRhdGEuZ2V0QXV0aENsaWVudElkKTtcbmVlLmRhdGEuZ2V0QXV0aFNjb3BlcyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhTY29wZXM7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0QXV0aFNjb3Blc1wiLCBlZS5kYXRhLmdldEF1dGhTY29wZXMpO1xuZWUuZGF0YS5zZXREZWFkbGluZSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldERlYWRsaW5lO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnNldERlYWRsaW5lXCIsIGVlLmRhdGEuc2V0RGVhZGxpbmUpO1xuZWUuZGF0YS5zZXRQYXJhbUF1Z21lbnRlciA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldFBhcmFtQXVnbWVudGVyO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnNldFBhcmFtQXVnbWVudGVyXCIsIGVlLmRhdGEuc2V0UGFyYW1BdWdtZW50ZXIpO1xuZWUuZGF0YS5pbml0aWFsaXplID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZTtcbmVlLmRhdGEucmVzZXQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5yZXNldDtcbmVlLmRhdGEuUFJPRklMRV9IRUFERVIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX0hFQURFUjtcbmVlLmRhdGEubWFrZVJlcXVlc3RfID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQubWFrZVJlcXVlc3RfO1xuZWUuZGF0YS5zZW5kXyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNlbmQ7XG5lZS5kYXRhLnNldHVwTW9ja1NlbmQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXR1cE1vY2tTZW5kO1xuZWUuZGF0YS53aXRoUHJvZmlsaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQud2l0aFByb2ZpbGluZztcbmVlLmRhdGEuZ2V0QWxnb3JpdGhtcyA9IGZ1bmN0aW9uKG9wdF9jYWxsYmFjaykge1xuICB2YXIgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuYWxnb3JpdGhtcygpLmxpc3QoY2FsbC5wcm9qZWN0c1BhdGgoKSwge3ByZXR0eVByaW50OiExfSkudGhlbihlZS5ycGNfY29udmVydC5hbGdvcml0aG1zKSk7XG59O1xuZWUuZGF0YS5nZXRNYXBJZCA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgcGFyYW1zLmltYWdlKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbWFnZSBhcyBKU09OIHN0cmluZyBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgfVxuICBpZiAodm9pZCAwICE9PSBwYXJhbXMudmVyc2lvbikge1xuICAgIHRocm93IEVycm9yKFwiSW1hZ2UgdmVyc2lvbiBzcGVjaWZpY2F0aW9uIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICB9XG4gIHZhciBtYXAgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcCh7bmFtZTpudWxsLCBleHByZXNzaW9uOmVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8oZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLmltYWdlKSksIGZpbGVGb3JtYXQ6ZWUucnBjX2NvbnZlcnQuZmlsZUZvcm1hdChwYXJhbXMuZm9ybWF0KSwgYmFuZElkczplZS5ycGNfY29udmVydC5iYW5kTGlzdChwYXJhbXMuYmFuZHMpLCB2aXN1YWxpemF0aW9uT3B0aW9uczplZS5ycGNfY29udmVydC52aXN1YWxpemF0aW9uT3B0aW9ucyhwYXJhbXMpLH0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5tYXBzKCkuY3JlYXRlKGNhbGwucHJvamVjdHNQYXRoKCksIG1hcCwge2ZpZWxkczpbXCJuYW1lXCJdfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHJldHVybiBlZS5kYXRhLm1ha2VNYXBJZF8ocmVzcG9uc2UubmFtZSwgXCJcIik7XG4gIH0pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0TWFwSWRcIiwgZWUuZGF0YS5nZXRNYXBJZCk7XG5lZS5kYXRhLmdldFRpbGVVcmwgPSBmdW5jdGlvbihpZCwgeCwgeSwgeikge1xuICBpZiAoIWlkLmZvcm1hdFRpbGVVcmwpIHtcbiAgICB2YXIgbmV3SWQgPSBlZS5kYXRhLm1ha2VNYXBJZF8oaWQubWFwaWQsIGlkLnRva2VuLCBpZC51cmxGb3JtYXQpO1xuICAgIGlkLnVybEZvcm1hdCA9IG5ld0lkLnVybEZvcm1hdDtcbiAgICBpZC5mb3JtYXRUaWxlVXJsID0gbmV3SWQuZm9ybWF0VGlsZVVybDtcbiAgfVxuICByZXR1cm4gaWQuZm9ybWF0VGlsZVVybCh4LCB5LCB6KTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0VGlsZVVybFwiLCBlZS5kYXRhLmdldFRpbGVVcmwpO1xuZWUuZGF0YS5tYWtlTWFwSWRfID0gZnVuY3Rpb24obWFwaWQsIHRva2VuLCBvcHRfdXJsRm9ybWF0KSB7XG4gIHZhciB1cmxGb3JtYXQgPSB2b2lkIDAgPT09IG9wdF91cmxGb3JtYXQgPyBcIlwiIDogb3B0X3VybEZvcm1hdDtcbiAgaWYgKCF1cmxGb3JtYXQpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplKCk7XG4gICAgdmFyIGJhc2UgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRUaWxlQmFzZVVybCgpO1xuICAgIHVybEZvcm1hdCA9IHRva2VuID8gYmFzZSArIFwiL21hcC9cIiArIG1hcGlkICsgXCIve3p9L3t4fS97eX0/dG9rZW49XCIgKyB0b2tlbiA6IGJhc2UgKyBcIi9cIiArIG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSArIFwiL1wiICsgbWFwaWQgKyBcIi90aWxlcy97en0ve3h9L3t5fVwiO1xuICB9XG4gIHJldHVybiB7bWFwaWQ6bWFwaWQsIHRva2VuOnRva2VuLCBmb3JtYXRUaWxlVXJsOmZ1bmN0aW9uKHgsIHksIHopIHtcbiAgICB2YXIgd2lkdGggPSBNYXRoLnBvdygyLCB6KTtcbiAgICB4ICU9IHdpZHRoO1xuICAgIHggPSBTdHJpbmcoMCA+IHggPyB4ICsgd2lkdGggOiB4KTtcbiAgICByZXR1cm4gdXJsRm9ybWF0LnJlcGxhY2UoXCJ7eH1cIiwgeCkucmVwbGFjZShcInt5fVwiLCB5KS5yZXBsYWNlKFwie3p9XCIsIHopO1xuICB9LCB1cmxGb3JtYXQ6dXJsRm9ybWF0fTtcbn07XG5lZS5kYXRhLmdldEZlYXR1cmVWaWV3VGlsZXNLZXkgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgdmlzdWFsaXphdGlvbkV4cHJlc3Npb24gPSBwYXJhbXMudmlzUGFyYW1zID8gZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyhlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMudmlzUGFyYW1zKSkgOiBudWxsLCBtYXAgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ETVNNYXAoe25hbWU6bnVsbCwgYXNzZXQ6cGFyYW1zLmFzc2V0TmFtZSwgZG1zTmFtZTpwYXJhbXMubWFwTmFtZSwgdmlzdWFsaXphdGlvbkV4cHJlc3Npb246dmlzdWFsaXphdGlvbkV4cHJlc3Npb24sfSksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLmRtc01hcHMoKS5jcmVhdGUoY2FsbC5wcm9qZWN0c1BhdGgoKSwgbWFwLCB7ZmllbGRzOltcIm5hbWVcIl19KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHt0b2tlbjpyZXNwb25zZS5uYW1lfTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRGZWF0dXJlVmlld1RpbGVzS2V5XCIsIGVlLmRhdGEuZ2V0RmVhdHVyZVZpZXdUaWxlc0tleSk7XG5lZS5kYXRhLmNvbXB1dGVWYWx1ZSA9IGZ1bmN0aW9uKG9iaiwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBleHByZXNzaW9uID0gZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyhlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihvYmopKSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwudmFsdWUoKS5jb21wdXRlKGNhbGwucHJvamVjdHNQYXRoKCksIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlcXVlc3Qoe2V4cHJlc3Npb246ZXhwcmVzc2lvbn0pKS50aGVuKGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geC5yZXN1bHQ7XG4gIH0pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuY29tcHV0ZVZhbHVlXCIsIGVlLmRhdGEuY29tcHV0ZVZhbHVlKTtcbmVlLmRhdGEuZ2V0VGh1bWJJZCA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgcGFyYW1zLmltYWdlKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbWFnZSBhcyBKU09OIHN0cmluZyBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgfVxuICBpZiAodm9pZCAwICE9PSBwYXJhbXMudmVyc2lvbikge1xuICAgIHRocm93IEVycm9yKFwiSW1hZ2UgdmVyc2lvbiBzcGVjaWZpY2F0aW9uIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICB9XG4gIGlmICh2b2lkIDAgIT09IHBhcmFtcy5yZWdpb24pIHtcbiAgICB0aHJvdyBFcnJvcignXCJyZWdpb25cIiBub3Qgc3VwcG9ydGVkIGluIGNhbGwgdG8gZWUuZGF0YS5nZXRUaHVtYklkLiBVc2UgZWUuSW1hZ2UuZ2V0VGh1bWJVUkwuJyk7XG4gIH1cbiAgaWYgKHZvaWQgMCAhPT0gcGFyYW1zLmRpbWVuc2lvbnMpIHtcbiAgICB0aHJvdyBFcnJvcignXCJkaW1lbnNpb25zXCIgaXMgbm90IHN1cHBvcnRlZCBpbiBjYWxsIHRvIGVlLmRhdGEuZ2V0VGh1bWJJZC4gVXNlIGVlLkltYWdlLmdldFRodW1iVVJMLicpO1xuICB9XG4gIHZhciB0aHVtYm5haWwgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWwoe25hbWU6bnVsbCwgZXhwcmVzc2lvbjplZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy5pbWFnZSkpLCBmaWxlRm9ybWF0OmVlLnJwY19jb252ZXJ0LmZpbGVGb3JtYXQocGFyYW1zLmZvcm1hdCksIGZpbGVuYW1lUHJlZml4OnBhcmFtcy5uYW1lLCBiYW5kSWRzOmVlLnJwY19jb252ZXJ0LmJhbmRMaXN0KHBhcmFtcy5iYW5kcyksIHZpc3VhbGl6YXRpb25PcHRpb25zOmVlLnJwY19jb252ZXJ0LnZpc3VhbGl6YXRpb25PcHRpb25zKHBhcmFtcyksIGdyaWQ6bnVsbCx9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwudGh1bWJuYWlscygpLmNyZWF0ZShjYWxsLnByb2plY3RzUGF0aCgpLCB0aHVtYm5haWwsIHtmaWVsZHM6W1wibmFtZVwiXX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4ge3RodW1iaWQ6cmVzcG9uc2UubmFtZSwgdG9rZW46XCJcIn07XG4gIH0pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0VGh1bWJJZFwiLCBlZS5kYXRhLmdldFRodW1iSWQpO1xuZWUuZGF0YS5nZXRWaWRlb1RodW1iSWQgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgdmlkZW9PcHRpb25zID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zKHtmcmFtZXNQZXJTZWNvbmQ6cGFyYW1zLmZyYW1lc1BlclNlY29uZCB8fCBudWxsLCBtYXhGcmFtZXM6cGFyYW1zLm1heEZyYW1lcyB8fCBudWxsLCBtYXhQaXhlbHNQZXJGcmFtZTpwYXJhbXMubWF4UGl4ZWxzUGVyRnJhbWUgfHwgbnVsbCx9KSwgcmVxdWVzdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsKHtuYW1lOm51bGwsIGV4cHJlc3Npb246ZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyhlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuaW1hZ2VDb2xsZWN0aW9uKSksIGZpbGVGb3JtYXQ6ZWUucnBjX2NvbnZlcnQuZmlsZUZvcm1hdChwYXJhbXMuZm9ybWF0KSwgXG4gIHZpZGVvT3B0aW9uczp2aWRlb09wdGlvbnMsIGdyaWQ6bnVsbCx9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwudmlkZW9UaHVtYm5haWxzKCkuY3JlYXRlKGNhbGwucHJvamVjdHNQYXRoKCksIHJlcXVlc3QsIHtmaWVsZHM6W1wibmFtZVwiXX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4ge3RodW1iaWQ6cmVzcG9uc2UubmFtZSwgdG9rZW46XCJcIn07XG4gIH0pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0VmlkZW9UaHVtYklkXCIsIGVlLmRhdGEuZ2V0VmlkZW9UaHVtYklkKTtcbmVlLmRhdGEuZ2V0RmlsbXN0cmlwVGh1bWJJZCA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsKHtuYW1lOm51bGwsIGV4cHJlc3Npb246ZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyhlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuaW1hZ2VDb2xsZWN0aW9uKSksIGZpbGVGb3JtYXQ6ZWUucnBjX2NvbnZlcnQuZmlsZUZvcm1hdChwYXJhbXMuZm9ybWF0KSwgb3JpZW50YXRpb246ZWUucnBjX2NvbnZlcnQub3JpZW50YXRpb24ocGFyYW1zLm9yaWVudGF0aW9uKSwgZ3JpZDpudWxsLH0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5maWxtc3RyaXBUaHVtYm5haWxzKCkuY3JlYXRlKGNhbGwucHJvamVjdHNQYXRoKCksIHJlcXVlc3QsIHtmaWVsZHM6W1wibmFtZVwiXX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4ge3RodW1iaWQ6cmVzcG9uc2UubmFtZSwgdG9rZW46XCJcIn07XG4gIH0pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0RmlsbXN0cmlwVGh1bWJJZFwiLCBlZS5kYXRhLmdldEZpbG1zdHJpcFRodW1iSWQpO1xuZWUuZGF0YS5tYWtlVGh1bWJVcmwgPSBmdW5jdGlvbihpZCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0VGlsZUJhc2VVcmwoKSArIFwiL1wiICsgbW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBICsgXCIvXCIgKyBpZC50aHVtYmlkICsgXCI6Z2V0UGl4ZWxzXCI7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLm1ha2VUaHVtYlVybFwiLCBlZS5kYXRhLm1ha2VUaHVtYlVybCk7XG5lZS5kYXRhLmdldERvd25sb2FkSWQgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMpO1xuICBwYXJhbXMuaWQgJiYgKHBhcmFtcy5pbWFnZSA9IG5ldyBlZS5JbWFnZShwYXJhbXMuaWQpKTtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMuaW1hZ2UpIHtcbiAgICB0aHJvdyBFcnJvcihcIkltYWdlIGFzIHNlcmlhbGl6ZWQgSlNPTiBzdHJpbmcgbm90IHN1cHBvcnRlZC5cIik7XG4gIH1cbiAgaWYgKCFwYXJhbXMuaW1hZ2UpIHtcbiAgICB0aHJvdyBFcnJvcihcIk1pc3NpbmcgSUQgb3IgaW1hZ2UgcGFyYW1ldGVyLlwiKTtcbiAgfVxuICBwYXJhbXMuZmlsZVBlckJhbmQgPSAhMSAhPT0gcGFyYW1zLmZpbGVQZXJCYW5kO1xuICBwYXJhbXMuZm9ybWF0ID0gcGFyYW1zLmZvcm1hdCB8fCAocGFyYW1zLmZpbGVQZXJCYW5kID8gXCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIiA6IFwiWklQUEVEX0dFT19USUZGXCIpO1xuICBpZiAobnVsbCAhPSBwYXJhbXMucmVnaW9uICYmIChudWxsICE9IHBhcmFtcy5zY2FsZSB8fCBudWxsICE9IHBhcmFtcy5jcnNfdHJhbnNmb3JtKSAmJiBudWxsICE9IHBhcmFtcy5kaW1lbnNpb25zKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc3BlY2lmeSAoYm91bmRpbmcgcmVnaW9uLCBjcnNfdHJhbnNmb3JtL3NjYWxlLCBkaW1lbnNpb25zKSBzaW11bHRhbmVvdXNseS5cIik7XG4gIH1cbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMuYmFuZHMpIHtcbiAgICB0cnkge1xuICAgICAgcGFyYW1zLmJhbmRzID0gSlNPTi5wYXJzZShwYXJhbXMuYmFuZHMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHBhcmFtcy5iYW5kcyA9IGVlLnJwY19jb252ZXJ0LmJhbmRMaXN0KHBhcmFtcy5iYW5kcyk7XG4gICAgfVxuICB9XG4gIGlmIChwYXJhbXMuYmFuZHMgJiYgIUFycmF5LmlzQXJyYXkocGFyYW1zLmJhbmRzKSkge1xuICAgIHRocm93IEVycm9yKFwiQmFuZHMgcGFyYW1ldGVyIG11c3QgYmUgYW4gYXJyYXkuXCIpO1xuICB9XG4gIHBhcmFtcy5iYW5kcyAmJiBwYXJhbXMuYmFuZHMuZXZlcnkoZnVuY3Rpb24oYmFuZCkge1xuICAgIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgYmFuZDtcbiAgfSkgJiYgKHBhcmFtcy5iYW5kcyA9IHBhcmFtcy5iYW5kcy5tYXAoZnVuY3Rpb24oYmFuZCkge1xuICAgIHJldHVybiB7aWQ6YmFuZH07XG4gIH0pKTtcbiAgaWYgKHBhcmFtcy5iYW5kcyAmJiBwYXJhbXMuYmFuZHMuc29tZShmdW5jdGlvbigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzQpIHtcbiAgICByZXR1cm4gbnVsbCA9PSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzQuaWQ7XG4gIH0pKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJFYWNoIGJhbmQgZGljdGlvbmFyeSBtdXN0IGhhdmUgYW4gaWQuXCIpO1xuICB9XG4gIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMucmVnaW9uICYmIChwYXJhbXMucmVnaW9uID0gSlNPTi5wYXJzZShwYXJhbXMucmVnaW9uKSk7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgcGFyYW1zLmNyc190cmFuc2Zvcm0pIHtcbiAgICB0cnkge1xuICAgICAgcGFyYW1zLmNyc190cmFuc2Zvcm0gPSBKU09OLnBhcnNlKHBhcmFtcy5jcnNfdHJhbnNmb3JtKTtcbiAgICB9IGNhdGNoIChlJDY0KSB7XG4gICAgfVxuICB9XG4gIHZhciBpbWFnZSA9IGVlLmRhdGEuaW1hZ2VzLmJ1aWxkRG93bmxvYWRJZEltYWdlKHBhcmFtcy5pbWFnZSwgcGFyYW1zKSwgdGh1bWJuYWlsID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsKHtuYW1lOm51bGwsIGV4cHJlc3Npb246ZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyhlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihpbWFnZSkpLCBmaWxlRm9ybWF0OmVlLnJwY19jb252ZXJ0LmZpbGVGb3JtYXQocGFyYW1zLmZvcm1hdCksIGZpbGVuYW1lUHJlZml4OnBhcmFtcy5uYW1lLCBiYW5kSWRzOnBhcmFtcy5iYW5kcyAmJiBlZS5ycGNfY29udmVydC5iYW5kTGlzdChwYXJhbXMuYmFuZHMubWFwKGZ1bmN0aW9uKGJhbmQpIHtcbiAgICByZXR1cm4gYmFuZC5pZDtcbiAgfSkpLCBncmlkOm51bGwsfSksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLnRodW1ibmFpbHMoKS5jcmVhdGUoY2FsbC5wcm9qZWN0c1BhdGgoKSwgdGh1bWJuYWlsLCB7ZmllbGRzOltcIm5hbWVcIl19KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHtkb2NpZDpyZXNwb25zZS5uYW1lLCB0b2tlbjpcIlwifTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXREb3dubG9hZElkXCIsIGVlLmRhdGEuZ2V0RG93bmxvYWRJZCk7XG5lZS5kYXRhLm1ha2VEb3dubG9hZFVybCA9IGZ1bmN0aW9uKGlkKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemUoKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFRpbGVCYXNlVXJsKCkgKyBcIi9cIiArIG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSArIFwiL1wiICsgaWQuZG9jaWQgKyBcIjpnZXRQaXhlbHNcIjtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEubWFrZURvd25sb2FkVXJsXCIsIGVlLmRhdGEubWFrZURvd25sb2FkVXJsKTtcbmVlLmRhdGEuZ2V0VGFibGVEb3dubG9hZElkID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayksIGZpbGVGb3JtYXQgPSBlZS5ycGNfY29udmVydC50YWJsZUZpbGVGb3JtYXQocGFyYW1zLmZvcm1hdCksIGV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy50YWJsZSkpLCBzZWxlY3RvcnMgPSBudWxsO1xuICBpZiAobnVsbCAhPSBwYXJhbXMuc2VsZWN0b3JzKSB7XG4gICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMuc2VsZWN0b3JzKSB7XG4gICAgICBzZWxlY3RvcnMgPSBwYXJhbXMuc2VsZWN0b3JzLnNwbGl0KFwiLFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW1zLnNlbGVjdG9ycykgJiYgcGFyYW1zLnNlbGVjdG9ycy5ldmVyeShmdW5jdGlvbih4KSB7XG4gICAgICAgIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgeDtcbiAgICAgIH0pKSB7XG4gICAgICAgIHNlbGVjdG9ycyA9IHBhcmFtcy5zZWxlY3RvcnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIidzZWxlY3RvcnMnIHBhcmFtZXRlciBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2YXIgdGFibGUgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZSh7bmFtZTpudWxsLCBleHByZXNzaW9uOmV4cHJlc3Npb24sIGZpbGVGb3JtYXQ6ZmlsZUZvcm1hdCwgc2VsZWN0b3JzOnNlbGVjdG9ycywgZmlsZW5hbWU6cGFyYW1zLmZpbGVuYW1lIHx8IG51bGwsfSk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLnRhYmxlcygpLmNyZWF0ZShjYWxsLnByb2plY3RzUGF0aCgpLCB0YWJsZSwge2ZpZWxkczpbXCJuYW1lXCJdfSkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICByZXR1cm4ge2RvY2lkOnJlcy5uYW1lIHx8IFwiXCIsIHRva2VuOlwiXCJ9O1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldFRhYmxlRG93bmxvYWRJZFwiLCBlZS5kYXRhLmdldFRhYmxlRG93bmxvYWRJZCk7XG5lZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFRpbGVCYXNlVXJsKCkgKyBcIi9cIiArIG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSArIFwiL1wiICsgaWQuZG9jaWQgKyBcIjpnZXRGZWF0dXJlc1wiO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5tYWtlVGFibGVEb3dubG9hZFVybFwiLCBlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsKTtcbmVlLmRhdGEubmV3VGFza0lkID0gZnVuY3Rpb24ob3B0X2NvdW50LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJhbmQgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG4pO1xuICB9LCBoZXggPSBmdW5jdGlvbihkKSB7XG4gICAgcmV0dXJuIHJhbmQoTWF0aC5wb3coMiwgNCAqIGQpKS50b1N0cmluZygxNikucGFkU3RhcnQoZCwgXCIwXCIpO1xuICB9LCB2YXJpYW50UGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoOCArIHJhbmQoNCkpLnRvU3RyaW5nKDE2KSArIGhleCgzKTtcbiAgfSwgdXVpZHMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yYW5nZShvcHRfY291bnQgfHwgMSkubWFwKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBbaGV4KDgpLCBoZXgoNCksIFwiNFwiICsgaGV4KDMpLCB2YXJpYW50UGFydCgpLCBoZXgoMTIpXS5qb2luKFwiLVwiKTtcbiAgfSk7XG4gIHJldHVybiBvcHRfY2FsbGJhY2sgPyBvcHRfY2FsbGJhY2sodXVpZHMpIDogdXVpZHM7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLm5ld1Rhc2tJZFwiLCBlZS5kYXRhLm5ld1Rhc2tJZCk7XG5lZS5kYXRhLmdldFRhc2tTdGF0dXMgPSBmdW5jdGlvbih0YXNrSWQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgb3BOYW1lcyA9IGVlLmRhdGEubWFrZVN0cmluZ0FycmF5Xyh0YXNrSWQpLm1hcChlZS5ycGNfY29udmVydC50YXNrSWRUb09wZXJhdGlvbk5hbWUpO1xuICBpZiAoMSA9PT0gb3BOYW1lcy5sZW5ndGgpIHtcbiAgICB2YXIgY2FsbCQ2NiA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgICByZXR1cm4gY2FsbCQ2Ni5oYW5kbGUoY2FsbCQ2Ni5vcGVyYXRpb25zKCkuZ2V0KG9wTmFtZXNbMF0pLnRoZW4oZnVuY3Rpb24ob3ApIHtcbiAgICAgIHJldHVybiBbZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uVG9UYXNrKG9wKV07XG4gICAgfSkpO1xuICB9XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hDYWxsKG9wdF9jYWxsYmFjayksIG9wZXJhdGlvbnMgPSBjYWxsLm9wZXJhdGlvbnMoKTtcbiAgcmV0dXJuIGNhbGwuc2VuZChvcE5hbWVzLm1hcChmdW5jdGlvbihvcCkge1xuICAgIHJldHVybiBbb3AsIG9wZXJhdGlvbnMuZ2V0KG9wKV07XG4gIH0pLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIG9wTmFtZXMubWFwKGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uVG9UYXNrKGRhdGFbaWRdKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldFRhc2tTdGF0dXNcIiwgZWUuZGF0YS5nZXRUYXNrU3RhdHVzKTtcbmVlLmRhdGEubWFrZVN0cmluZ0FycmF5XyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUpIHtcbiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHZhbHVlOiBleHBlY3RlZCBhIHN0cmluZyBvciBhbiBhcnJheSBvZiBzdHJpbmdzLlwiKTtcbn07XG5lZS5kYXRhLlRBU0tMSVNUX1BBR0VfU0laRV8gPSA1MDA7XG5lZS5kYXRhLmdldFRhc2tMaXN0ID0gZnVuY3Rpb24ob3B0X2NhbGxiYWNrKSB7XG4gIHJldHVybiBlZS5kYXRhLmdldFRhc2tMaXN0V2l0aExpbWl0KHZvaWQgMCwgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0VGFza0xpc3RcIiwgZWUuZGF0YS5nZXRUYXNrTGlzdCk7XG5lZS5kYXRhLmdldFRhc2tMaXN0V2l0aExpbWl0ID0gZnVuY3Rpb24ob3B0X2xpbWl0LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNvbnZlcnQgPSBmdW5jdGlvbihvcHMpIHtcbiAgICByZXR1cm4ge3Rhc2tzOm9wcy5tYXAoZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uVG9UYXNrKX07XG4gIH07XG4gIHJldHVybiBvcHRfY2FsbGJhY2sgPyAoZWUuZGF0YS5saXN0T3BlcmF0aW9ucyhvcHRfbGltaXQsIGZ1bmN0aW9uKHYsIGUpIHtcbiAgICByZXR1cm4gb3B0X2NhbGxiYWNrKHYgPyBjb252ZXJ0KHYpIDogbnVsbCwgZSk7XG4gIH0pLCBudWxsKSA6IGNvbnZlcnQoZWUuZGF0YS5saXN0T3BlcmF0aW9ucyhvcHRfbGltaXQpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0VGFza0xpc3RXaXRoTGltaXRcIiwgZWUuZGF0YS5nZXRUYXNrTGlzdFdpdGhMaW1pdCk7XG5lZS5kYXRhLmxpc3RPcGVyYXRpb25zID0gZnVuY3Rpb24ob3B0X2xpbWl0LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIG9wcyA9IFtdLCB0cnVuY2F0ZWRPcHMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gb3B0X2xpbWl0ID8gb3BzLnNsaWNlKDAsIG9wdF9saW1pdCkgOiBvcHM7XG4gIH0sIHBhcmFtcyA9IHtwYWdlU2l6ZTplZS5kYXRhLlRBU0tMSVNUX1BBR0VfU0laRV99LCBnZXRSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXh0ZW5kKG9wcywgcmVzcG9uc2Uub3BlcmF0aW9ucyB8fCBbXSk7XG4gICAgIXJlc3BvbnNlLm5leHRQYWdlVG9rZW4gfHwgb3B0X2xpbWl0ICYmIG9wcy5sZW5ndGggPj0gb3B0X2xpbWl0ID8gb3B0X2NhbGxiYWNrICYmIG9wdF9jYWxsYmFjayh0cnVuY2F0ZWRPcHMoKSkgOiAocGFyYW1zLnBhZ2VUb2tlbiA9IHJlc3BvbnNlLm5leHRQYWdlVG9rZW4sIGNhbGwuaGFuZGxlKG9wZXJhdGlvbnMubGlzdChjYWxsLnByb2plY3RzUGF0aCgpLCBwYXJhbXMpLnRoZW4oZ2V0UmVzcG9uc2UpKSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayA/IGZ1bmN0aW9uKHZhbHVlLCBlcnIpIHtcbiAgICByZXR1cm4gZXJyICYmIG9wdF9jYWxsYmFjayh2YWx1ZSwgZXJyKTtcbiAgfSA6IHZvaWQgMCksIG9wZXJhdGlvbnMgPSBjYWxsLm9wZXJhdGlvbnMoKTtcbiAgY2FsbC5oYW5kbGUob3BlcmF0aW9ucy5saXN0KGNhbGwucHJvamVjdHNQYXRoKCksIHBhcmFtcykudGhlbihnZXRSZXNwb25zZSkpO1xuICByZXR1cm4gb3B0X2NhbGxiYWNrID8gbnVsbCA6IHRydW5jYXRlZE9wcygpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5saXN0T3BlcmF0aW9uc1wiLCBlZS5kYXRhLmxpc3RPcGVyYXRpb25zKTtcbmVlLmRhdGEuY2FuY2VsT3BlcmF0aW9uID0gZnVuY3Rpb24ob3BlcmF0aW9uTmFtZSwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBvcE5hbWVzID0gZWUuZGF0YS5tYWtlU3RyaW5nQXJyYXlfKG9wZXJhdGlvbk5hbWUpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdCgpO1xuICBpZiAoMSA9PT0gb3BOYW1lcy5sZW5ndGgpIHtcbiAgICB2YXIgY2FsbCQ2NyA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgICBjYWxsJDY3LmhhbmRsZShjYWxsJDY3Lm9wZXJhdGlvbnMoKS5jYW5jZWwob3BOYW1lc1swXSwgcmVxdWVzdCkpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hDYWxsKG9wdF9jYWxsYmFjayksIG9wZXJhdGlvbnMgPSBjYWxsLm9wZXJhdGlvbnMoKTtcbiAgICBjYWxsLnNlbmQob3BOYW1lcy5tYXAoZnVuY3Rpb24ob3ApIHtcbiAgICAgIHJldHVybiBbb3AsIG9wZXJhdGlvbnMuY2FuY2VsKG9wLCByZXF1ZXN0KV07XG4gICAgfSkpO1xuICB9XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmNhbmNlbE9wZXJhdGlvblwiLCBlZS5kYXRhLmNhbmNlbE9wZXJhdGlvbik7XG5lZS5kYXRhLmdldE9wZXJhdGlvbiA9IGZ1bmN0aW9uKG9wZXJhdGlvbk5hbWUsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgb3BOYW1lcyA9IGVlLmRhdGEubWFrZVN0cmluZ0FycmF5XyhvcGVyYXRpb25OYW1lKS5tYXAoZWUucnBjX2NvbnZlcnQudGFza0lkVG9PcGVyYXRpb25OYW1lKTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KG9wZXJhdGlvbk5hbWUpKSB7XG4gICAgdmFyIGNhbGwkNjggPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gICAgcmV0dXJuIGNhbGwkNjguaGFuZGxlKGNhbGwkNjgub3BlcmF0aW9ucygpLmdldChvcE5hbWVzWzBdKSk7XG4gIH1cbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaENhbGwob3B0X2NhbGxiYWNrKSwgb3BlcmF0aW9ucyA9IGNhbGwub3BlcmF0aW9ucygpO1xuICByZXR1cm4gY2FsbC5zZW5kKG9wTmFtZXMubWFwKGZ1bmN0aW9uKG9wKSB7XG4gICAgcmV0dXJuIFtvcCwgb3BlcmF0aW9ucy5nZXQob3ApXTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRPcGVyYXRpb25cIiwgZWUuZGF0YS5nZXRPcGVyYXRpb24pO1xuZWUuZGF0YS5jYW5jZWxUYXNrID0gZnVuY3Rpb24odGFza0lkLCBvcHRfY2FsbGJhY2spIHtcbiAgcmV0dXJuIGVlLmRhdGEudXBkYXRlVGFzayh0YXNrSWQsIGVlLmRhdGEuVGFza1VwZGF0ZUFjdGlvbnMuQ0FOQ0VMLCBvcHRfY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5jYW5jZWxUYXNrXCIsIGVlLmRhdGEuY2FuY2VsVGFzayk7XG5lZS5kYXRhLnVwZGF0ZVRhc2sgPSBmdW5jdGlvbih0YXNrSWQsIGFjdGlvbiwgb3B0X2NhbGxiYWNrKSB7XG4gIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zVmFsdWUoZWUuZGF0YS5UYXNrVXBkYXRlQWN0aW9ucywgYWN0aW9uKSkge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBhY3Rpb246IFwiICsgYWN0aW9uKTtcbiAgfVxuICB0YXNrSWQgPSBlZS5kYXRhLm1ha2VTdHJpbmdBcnJheV8odGFza0lkKTtcbiAgdmFyIG9wZXJhdGlvbnMgPSB0YXNrSWQubWFwKGVlLnJwY19jb252ZXJ0LnRhc2tJZFRvT3BlcmF0aW9uTmFtZSk7XG4gIGVlLmRhdGEuY2FuY2VsT3BlcmF0aW9uKG9wZXJhdGlvbnMsIG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS51cGRhdGVUYXNrXCIsIGVlLmRhdGEudXBkYXRlVGFzayk7XG5lZS5kYXRhLnN0YXJ0UHJvY2Vzc2luZyA9IGZ1bmN0aW9uKHRhc2tJZCwgcGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgcGFyYW1zLmlkID0gdGFza0lkO1xuICB2YXIgdGFza1R5cGUgPSBwYXJhbXMudHlwZSwgbWV0YWRhdGEgPSBudWxsICE9IHBhcmFtcy5zb3VyY2VVcmwgPyB7X19zb3VyY2VfdXJsX186cGFyYW1zLnNvdXJjZVVybH0gOiB7fSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKSwgaGFuZGxlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gY2FsbC5oYW5kbGUocmVzcG9uc2UudGhlbihlZS5ycGNfY29udmVydC5vcGVyYXRpb25Ub1Byb2Nlc3NpbmdSZXNwb25zZSkpO1xuICB9O1xuICBzd2l0Y2godGFza1R5cGUpIHtcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5JTUFHRTpcbiAgICAgIHZhciBpbWFnZVJlcXVlc3QgPSBlZS5kYXRhLnByZXBhcmVFeHBvcnRJbWFnZVJlcXVlc3RfKHBhcmFtcywgbWV0YWRhdGEpO1xuICAgICAgcmV0dXJuIGhhbmRsZShjYWxsLmltYWdlKCkuZXhwb3J0KGNhbGwucHJvamVjdHNQYXRoKCksIGltYWdlUmVxdWVzdCkpO1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnRUeXBlLlRBQkxFOlxuICAgICAgdmFyIHRhYmxlUmVxdWVzdCA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydFRhYmxlUmVxdWVzdChwYXJhbXMpO1xuICAgICAgdGFibGVSZXF1ZXN0LmV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKHRhYmxlUmVxdWVzdC5leHByZXNzaW9uLCBtZXRhZGF0YSk7XG4gICAgICByZXR1cm4gaGFuZGxlKGNhbGwudGFibGUoKS5leHBvcnQoY2FsbC5wcm9qZWN0c1BhdGgoKSwgdGFibGVSZXF1ZXN0KSk7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuVklERU86XG4gICAgICB2YXIgdmlkZW9SZXF1ZXN0ID0gZWUuZGF0YS5wcmVwYXJlRXhwb3J0VmlkZW9SZXF1ZXN0XyhwYXJhbXMsIG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiBoYW5kbGUoY2FsbC52aWRlbygpLmV4cG9ydChjYWxsLnByb2plY3RzUGF0aCgpLCB2aWRlb1JlcXVlc3QpKTtcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5NQVA6XG4gICAgICB2YXIgbWFwUmVxdWVzdCA9IGVlLmRhdGEucHJlcGFyZUV4cG9ydE1hcFJlcXVlc3RfKHBhcmFtcywgbWV0YWRhdGEpO1xuICAgICAgcmV0dXJuIGhhbmRsZShjYWxsLm1hcCgpLmV4cG9ydChjYWxsLnByb2plY3RzUGF0aCgpLCBtYXBSZXF1ZXN0KSk7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuVklERU9fTUFQOlxuICAgICAgdmFyIHZpZGVvTWFwUmVxdWVzdCA9IGVlLmRhdGEucHJlcGFyZUV4cG9ydFZpZGVvTWFwUmVxdWVzdF8ocGFyYW1zLCBtZXRhZGF0YSk7XG4gICAgICByZXR1cm4gaGFuZGxlKGNhbGwudmlkZW9NYXAoKS5leHBvcnQoY2FsbC5wcm9qZWN0c1BhdGgoKSwgdmlkZW9NYXBSZXF1ZXN0KSk7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuQ0xBU1NJRklFUjpcbiAgICAgIHZhciBjbGFzc2lmaWVyUmVxdWVzdCA9IGVlLmRhdGEucHJlcGFyZUV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0XyhwYXJhbXMsIG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiBoYW5kbGUoY2FsbC5jbGFzc2lmaWVyKCkuZXhwb3J0KGNhbGwucHJvamVjdHNQYXRoKCksIGNsYXNzaWZpZXJSZXF1ZXN0KSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIHN0YXJ0IHByb2Nlc3NpbmcgZm9yIHRhc2sgb2YgdHlwZSBcIiArIHRhc2tUeXBlKTtcbiAgfVxufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5zdGFydFByb2Nlc3NpbmdcIiwgZWUuZGF0YS5zdGFydFByb2Nlc3NpbmcpO1xuZWUuZGF0YS5wcmVwYXJlRXhwb3J0SW1hZ2VSZXF1ZXN0XyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIG1ldGFkYXRhKSB7XG4gIHZhciBpbWFnZVRhc2sgPSBlZS5kYXRhLmltYWdlcy5hcHBseVRyYW5zZm9ybXNUb0ltYWdlKHRhc2tDb25maWcpLCBpbWFnZVJlcXVlc3QgPSBlZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRJbWFnZVJlcXVlc3QoaW1hZ2VUYXNrKTtcbiAgaW1hZ2VSZXF1ZXN0LmV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGltYWdlUmVxdWVzdC5leHByZXNzaW9uLCBtZXRhZGF0YSk7XG4gIHJldHVybiBpbWFnZVJlcXVlc3Q7XG59O1xuZWUuZGF0YS5wcmVwYXJlRXhwb3J0VmlkZW9SZXF1ZXN0XyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIG1ldGFkYXRhKSB7XG4gIHZhciB2aWRlb1Rhc2sgPSBlZS5kYXRhLmltYWdlcy5hcHBseVRyYW5zZm9ybXNUb0NvbGxlY3Rpb24odGFza0NvbmZpZyksIHZpZGVvUmVxdWVzdCA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydFZpZGVvUmVxdWVzdCh2aWRlb1Rhc2spO1xuICB2aWRlb1JlcXVlc3QuZXhwcmVzc2lvbiA9IGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8odmlkZW9SZXF1ZXN0LmV4cHJlc3Npb24sIG1ldGFkYXRhKTtcbiAgcmV0dXJuIHZpZGVvUmVxdWVzdDtcbn07XG5lZS5kYXRhLnByZXBhcmVFeHBvcnRNYXBSZXF1ZXN0XyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIG1ldGFkYXRhKSB7XG4gIHZhciBzY2FsZSA9IHRhc2tDb25maWcuc2NhbGU7XG4gIGRlbGV0ZSB0YXNrQ29uZmlnLnNjYWxlO1xuICB2YXIgbWFwVGFzayA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5VHJhbnNmb3Jtc1RvSW1hZ2UodGFza0NvbmZpZyk7XG4gIG1hcFRhc2suc2NhbGUgPSBzY2FsZTtcbiAgdmFyIG1hcFJlcXVlc3QgPSBlZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRNYXBSZXF1ZXN0KG1hcFRhc2spO1xuICBtYXBSZXF1ZXN0LmV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKG1hcFJlcXVlc3QuZXhwcmVzc2lvbiwgbWV0YWRhdGEpO1xuICByZXR1cm4gbWFwUmVxdWVzdDtcbn07XG5lZS5kYXRhLnByZXBhcmVFeHBvcnRWaWRlb01hcFJlcXVlc3RfID0gZnVuY3Rpb24odGFza0NvbmZpZywgbWV0YWRhdGEpIHtcbiAgdmFyIHNjYWxlID0gdGFza0NvbmZpZy5zY2FsZTtcbiAgZGVsZXRlIHRhc2tDb25maWcuc2NhbGU7XG4gIHZhciB2aWRlb01hcFRhc2sgPSBlZS5kYXRhLmltYWdlcy5hcHBseVRyYW5zZm9ybXNUb0NvbGxlY3Rpb24odGFza0NvbmZpZyk7XG4gIHZpZGVvTWFwVGFzay5zY2FsZSA9IHNjYWxlO1xuICB2YXIgdmlkZW9NYXBSZXF1ZXN0ID0gZWUucnBjX2NvbnZlcnRfYmF0Y2gudGFza1RvRXhwb3J0VmlkZW9NYXBSZXF1ZXN0KHZpZGVvTWFwVGFzayk7XG4gIHZpZGVvTWFwUmVxdWVzdC5leHByZXNzaW9uID0gZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyh2aWRlb01hcFJlcXVlc3QuZXhwcmVzc2lvbik7XG4gIHJldHVybiB2aWRlb01hcFJlcXVlc3Q7XG59O1xuZWUuZGF0YS5wcmVwYXJlRXhwb3J0Q2xhc3NpZmllclJlcXVlc3RfID0gZnVuY3Rpb24odGFza0NvbmZpZywgbWV0YWRhdGEpIHtcbiAgdmFyIGNsYXNzaWZpZXJSZXF1ZXN0ID0gZWUucnBjX2NvbnZlcnRfYmF0Y2gudGFza1RvRXhwb3J0Q2xhc3NpZmllclJlcXVlc3QodGFza0NvbmZpZyk7XG4gIGNsYXNzaWZpZXJSZXF1ZXN0LmV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGNsYXNzaWZpZXJSZXF1ZXN0LmV4cHJlc3Npb24pO1xuICByZXR1cm4gY2xhc3NpZmllclJlcXVlc3Q7XG59O1xuZWUuZGF0YS5zdGFydEluZ2VzdGlvbiA9IGZ1bmN0aW9uKHRhc2tJZCwgcmVxdWVzdCwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBtYW5pZmVzdCA9IGVlLnJwY19jb252ZXJ0LnRvSW1hZ2VNYW5pZmVzdChyZXF1ZXN0KSwgY29udmVydCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPyBlZS5ycGNfY29udmVydC5vcGVyYXRpb25Ub1Byb2Nlc3NpbmdSZXNwb25zZShhcmcpIDogbnVsbDtcbiAgfTtcbiAgcmV0dXJuIGNvbnZlcnQoZWUuZGF0YS5pbmdlc3RJbWFnZSh0YXNrSWQsIG1hbmlmZXN0LCBvcHRfY2FsbGJhY2sgJiYgZnVuY3Rpb24oYXJnLCBlcnIpIHtcbiAgICByZXR1cm4gb3B0X2NhbGxiYWNrKGNvbnZlcnQoYXJnKSwgZXJyKTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5zdGFydEluZ2VzdGlvblwiLCBlZS5kYXRhLnN0YXJ0SW5nZXN0aW9uKTtcbmVlLmRhdGEuaW5nZXN0SW1hZ2UgPSBmdW5jdGlvbih0YXNrSWQsIGltYWdlTWFuaWZlc3QsIGNhbGxiYWNrKSB7XG4gIHZhciByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0KHtpbWFnZU1hbmlmZXN0OmltYWdlTWFuaWZlc3QsIHJlcXVlc3RJZDp0YXNrSWQsIG92ZXJ3cml0ZTpudWxsLCBkZXNjcmlwdGlvbjpudWxsLH0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChjYWxsYmFjaywgdGFza0lkID8gdm9pZCAwIDogMCk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLmltYWdlKCkuaW1wb3J0KGNhbGwucHJvamVjdHNQYXRoKCksIHJlcXVlc3QpKTtcbn07XG5lZS5kYXRhLmluZ2VzdFRhYmxlID0gZnVuY3Rpb24odGFza0lkLCB0YWJsZU1hbmlmZXN0LCBjYWxsYmFjaykge1xuICB2YXIgcmVxdWVzdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydFRhYmxlUmVxdWVzdCh7dGFibGVNYW5pZmVzdDp0YWJsZU1hbmlmZXN0LCByZXF1ZXN0SWQ6dGFza0lkLCBvdmVyd3JpdGU6bnVsbCwgZGVzY3JpcHRpb246bnVsbCx9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwoY2FsbGJhY2ssIHRhc2tJZCA/IHZvaWQgMCA6IDApO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC50YWJsZSgpLmltcG9ydChjYWxsLnByb2plY3RzUGF0aCgpLCByZXF1ZXN0KSk7XG59O1xuZWUuZGF0YS5zdGFydFRhYmxlSW5nZXN0aW9uID0gZnVuY3Rpb24odGFza0lkLCByZXF1ZXN0LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIG1hbmlmZXN0ID0gZWUucnBjX2NvbnZlcnQudG9UYWJsZU1hbmlmZXN0KHJlcXVlc3QpLCBjb252ZXJ0ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA/IGVlLnJwY19jb252ZXJ0Lm9wZXJhdGlvblRvUHJvY2Vzc2luZ1Jlc3BvbnNlKGFyZykgOiBudWxsO1xuICB9O1xuICByZXR1cm4gY29udmVydChlZS5kYXRhLmluZ2VzdFRhYmxlKHRhc2tJZCwgbWFuaWZlc3QsIG9wdF9jYWxsYmFjayAmJiBmdW5jdGlvbihhcmcsIGVycikge1xuICAgIHJldHVybiBvcHRfY2FsbGJhY2soY29udmVydChhcmcpLCBlcnIpO1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnN0YXJ0VGFibGVJbmdlc3Rpb25cIiwgZWUuZGF0YS5zdGFydFRhYmxlSW5nZXN0aW9uKTtcbmVlLmRhdGEuZ2V0QXNzZXQgPSBmdW5jdGlvbihpZCwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spLCBuYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGlkKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkuZ2V0KG5hbWUsIHtwcmV0dHlQcmludDohMX0pLnRoZW4oZWUucnBjX2NvbnZlcnQuYXNzZXRUb0xlZ2FjeVJlc3VsdCkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRBc3NldFwiLCBlZS5kYXRhLmdldEFzc2V0KTtcbmVlLmRhdGEuZ2V0SW5mbyA9IGVlLmRhdGEuZ2V0QXNzZXQ7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0SW5mb1wiLCBlZS5kYXRhLmdldEluZm8pO1xuZWUuZGF0YS5nZXRMaXN0ID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayksIG1ldGhvZFJvb3QgPSBjYWxsLmFzc2V0cygpLCBwYXJlbnQgPSBlZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUocGFyYW1zLmlkKSwgaXNQcm9qZWN0QXNzZXRSb290ID0gZWUucnBjX2NvbnZlcnQuQ0xPVURfQVNTRVRfUk9PVF9SRS50ZXN0KHBhcmFtcy5pZCk7XG4gIGlzUHJvamVjdEFzc2V0Um9vdCAmJiAobWV0aG9kUm9vdCA9IGNhbGwucHJvamVjdHMoKSwgcGFyZW50ID0gZWUucnBjX2NvbnZlcnQucHJvamVjdFBhcmVudEZyb21QYXRoKHBhcmFtcy5pZCkpO1xuICBpZiAoT2JqZWN0LmtleXMocGFyYW1zKS5ldmVyeShmdW5jdGlvbihrKSB7XG4gICAgcmV0dXJuIFwiaWRcIiA9PT0gayB8fCBcIm51bVwiID09PSBrO1xuICB9KSkge1xuICAgIHJldHVybiBjYWxsLmhhbmRsZShtZXRob2RSb290Lmxpc3RBc3NldHMocGFyZW50LCB7cGFnZVNpemU6cGFyYW1zLm51bX0pLnRoZW4oZWUucnBjX2NvbnZlcnQubGlzdEFzc2V0c1RvR2V0TGlzdCkpO1xuICB9XG4gIGlmIChpc1Byb2plY3RBc3NldFJvb3QpIHtcbiAgICB0aHJvdyBFcnJvcihcImdldExpc3Qgb24gYSBwcm9qZWN0IGRvZXMgbm90IHN1cHBvcnQgZmlsdGVyaW5nIG9wdGlvbnMuIFBsZWFzZSBwcm92aWRlIGEgZnVsbCBhc3NldCBwYXRoLiBHb3Q6IFwiICsgcGFyYW1zLmlkKTtcbiAgfVxuICB2YXIgYm9keSA9IGVlLnJwY19jb252ZXJ0LmdldExpc3RUb0xpc3RJbWFnZXMocGFyYW1zKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKG1ldGhvZFJvb3QubGlzdEltYWdlcyhwYXJlbnQsIGJvZHkpLnRoZW4oZWUucnBjX2NvbnZlcnQubGlzdEltYWdlc1RvR2V0TGlzdCkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRMaXN0XCIsIGVlLmRhdGEuZ2V0TGlzdCk7XG5lZS5kYXRhLmxpc3RBc3NldHMgPSBmdW5jdGlvbihwYXJlbnQsIHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHBhcmFtcyA9IHZvaWQgMCA9PT0gcGFyYW1zID8ge30gOiBwYXJhbXM7XG4gIHZhciBpc1Byb2plY3RBc3NldFJvb3QgPSBlZS5ycGNfY29udmVydC5DTE9VRF9BU1NFVF9ST09UX1JFLnRlc3QocGFyZW50KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKSwgbWV0aG9kUm9vdCA9IGlzUHJvamVjdEFzc2V0Um9vdCA/IGNhbGwucHJvamVjdHMoKSA6IGNhbGwuYXNzZXRzKCk7XG4gIHBhcmVudCA9IGlzUHJvamVjdEFzc2V0Um9vdCA/IGVlLnJwY19jb252ZXJ0LnByb2plY3RQYXJlbnRGcm9tUGF0aChwYXJlbnQpIDogZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKHBhcmVudCk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShtZXRob2RSb290Lmxpc3RBc3NldHMocGFyZW50LCBwYXJhbXMpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEubGlzdEFzc2V0c1wiLCBlZS5kYXRhLmxpc3RBc3NldHMpO1xuZWUuZGF0YS5saXN0SW1hZ2VzID0gZnVuY3Rpb24ocGFyZW50LCBwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICBwYXJhbXMgPSB2b2lkIDAgPT09IHBhcmFtcyA/IHt9IDogcGFyYW1zO1xuICB2YXIgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkubGlzdEltYWdlcyhwYXJlbnQsIHBhcmFtcykpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5saXN0SW1hZ2VzXCIsIGVlLmRhdGEubGlzdEltYWdlcyk7XG5lZS5kYXRhLmxpc3RCdWNrZXRzID0gZnVuY3Rpb24ocHJvamVjdCwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5wcm9qZWN0cygpLmxpc3RBc3NldHMocHJvamVjdCB8fCBjYWxsLnByb2plY3RzUGF0aCgpKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmxpc3RCdWNrZXRzXCIsIGVlLmRhdGEubGlzdEJ1Y2tldHMpO1xuZWUuZGF0YS5nZXRBc3NldFJvb3RzID0gZnVuY3Rpb24ob3B0X2NhbGxiYWNrKSB7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5wcm9qZWN0cygpLmxpc3RBc3NldHMoY2FsbC5wcm9qZWN0c1BhdGgoKSkudGhlbihlZS5ycGNfY29udmVydC5saXN0QXNzZXRzVG9HZXRMaXN0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEFzc2V0Um9vdHNcIiwgZWUuZGF0YS5nZXRBc3NldFJvb3RzKTtcbmVlLmRhdGEuY3JlYXRlQXNzZXRIb21lID0gZnVuY3Rpb24ocmVxdWVzdGVkSWQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgcGFyZW50ID0gZWUucnBjX2NvbnZlcnQucHJvamVjdFBhcmVudEZyb21QYXRoKHJlcXVlc3RlZElkKSwgYXNzZXRJZCA9IHBhcmVudCA9PT0gXCJwcm9qZWN0cy9cIiArIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfUFJPSkVDVF8gPyByZXF1ZXN0ZWRJZCA6IHZvaWQgMCwgYXNzZXQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0KHt0eXBlOlwiRm9sZGVyXCJ9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5jcmVhdGUocGFyZW50LCBhc3NldCwge2Fzc2V0SWQ6YXNzZXRJZH0pLnRoZW4oZWUucnBjX2NvbnZlcnQuYXNzZXRUb0xlZ2FjeVJlc3VsdCkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5jcmVhdGVBc3NldEhvbWVcIiwgZWUuZGF0YS5jcmVhdGVBc3NldEhvbWUpO1xuZWUuZGF0YS5jcmVhdGVBc3NldCA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRfcGF0aCwgb3B0X2ZvcmNlLCBvcHRfcHJvcGVydGllcywgb3B0X2NhbGxiYWNrKSB7XG4gIGlmIChvcHRfZm9yY2UpIHtcbiAgICB0aHJvdyBFcnJvcihcIkFzc2V0IG92ZXJ3cml0ZSBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgfVxuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHZhbHVlKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJBc3NldCBjYW5ub3QgYmUgc3BlY2lmaWVkIGFzIHN0cmluZy5cIik7XG4gIH1cbiAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lIHx8IG9wdF9wYXRoICYmIGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShvcHRfcGF0aCk7XG4gIGlmICghbmFtZSkge1xuICAgIHRocm93IEVycm9yKFwiRWl0aGVyIGFzc2V0IG5hbWUgb3Igb3B0X3BhdGggbXVzdCBiZSBzcGVjaWZpZWQuXCIpO1xuICB9XG4gIHZhciBzcGxpdCA9IG5hbWUuaW5kZXhPZihcIi9hc3NldHMvXCIpO1xuICBpZiAoLTEgPT09IHNwbGl0KSB7XG4gICAgdGhyb3cgRXJyb3IoXCJBc3NldCBuYW1lIG11c3QgY29udGFpbiAvYXNzZXRzLy5cIik7XG4gIH1cbiAgdmFyIGFzc2V0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldCh2YWx1ZSksIHBhcmVudCA9IG5hbWUuc2xpY2UoMCwgc3BsaXQpLCBhc3NldElkID0gbmFtZS5zbGljZShzcGxpdCArIDgpO1xuICBhc3NldC5pZCA9IG51bGw7XG4gIGFzc2V0Lm5hbWUgPSBudWxsO1xuICBvcHRfcHJvcGVydGllcyAmJiAhYXNzZXQucHJvcGVydGllcyAmJiAoYXNzZXQucHJvcGVydGllcyA9IG9wdF9wcm9wZXJ0aWVzKTtcbiAgYXNzZXQudHlwZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0VHlwZUZvckNyZWF0ZShhc3NldC50eXBlKTtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLmNyZWF0ZShwYXJlbnQsIGFzc2V0LCB7YXNzZXRJZDphc3NldElkfSkudGhlbihlZS5ycGNfY29udmVydC5hc3NldFRvTGVnYWN5UmVzdWx0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmNyZWF0ZUFzc2V0XCIsIGVlLmRhdGEuY3JlYXRlQXNzZXQpO1xuZWUuZGF0YS5jcmVhdGVGb2xkZXIgPSBmdW5jdGlvbihwYXRoLCBvcHRfZm9yY2UsIG9wdF9jYWxsYmFjaykge1xuICByZXR1cm4gZWUuZGF0YS5jcmVhdGVBc3NldCh7dHlwZTpcIkZvbGRlclwifSwgcGF0aCwgb3B0X2ZvcmNlLCB2b2lkIDAsIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmNyZWF0ZUZvbGRlclwiLCBlZS5kYXRhLmNyZWF0ZUZvbGRlcik7XG5lZS5kYXRhLnJlbmFtZUFzc2V0ID0gZnVuY3Rpb24oc291cmNlSWQsIGRlc3RpbmF0aW9uSWQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgc291cmNlTmFtZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShzb3VyY2VJZCksIGRlc3RpbmF0aW9uTmFtZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShkZXN0aW5hdGlvbklkKSwgcmVxdWVzdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1vdmVBc3NldFJlcXVlc3Qoe2Rlc3RpbmF0aW9uTmFtZTpkZXN0aW5hdGlvbk5hbWV9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5tb3ZlKHNvdXJjZU5hbWUsIHJlcXVlc3QpLnRoZW4oZWUucnBjX2NvbnZlcnQuYXNzZXRUb0xlZ2FjeVJlc3VsdCkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5yZW5hbWVBc3NldFwiLCBlZS5kYXRhLnJlbmFtZUFzc2V0KTtcbmVlLmRhdGEuY29weUFzc2V0ID0gZnVuY3Rpb24oc291cmNlSWQsIGRlc3RpbmF0aW9uSWQsIG9wdF9vdmVyd3JpdGUsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgc291cmNlTmFtZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShzb3VyY2VJZCksIGRlc3RpbmF0aW9uTmFtZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShkZXN0aW5hdGlvbklkKSwgcmVxdWVzdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvcHlBc3NldFJlcXVlc3Qoe2Rlc3RpbmF0aW9uTmFtZTpkZXN0aW5hdGlvbk5hbWUsIG92ZXJ3cml0ZTpudWxsICE9IG9wdF9vdmVyd3JpdGUgPyBvcHRfb3ZlcndyaXRlIDogbnVsbH0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLmNvcHkoc291cmNlTmFtZSwgcmVxdWVzdCkudGhlbihlZS5ycGNfY29udmVydC5hc3NldFRvTGVnYWN5UmVzdWx0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmNvcHlBc3NldFwiLCBlZS5kYXRhLmNvcHlBc3NldCk7XG5lZS5kYXRhLmRlbGV0ZUFzc2V0ID0gZnVuY3Rpb24oYXNzZXRJZCwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLmRlbGV0ZShlZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUoYXNzZXRJZCkpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZGVsZXRlQXNzZXRcIiwgZWUuZGF0YS5kZWxldGVBc3NldCk7XG5lZS5kYXRhLmdldEFzc2V0QWNsID0gZnVuY3Rpb24oYXNzZXRJZCwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciByZXNvdXJjZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShhc3NldElkKSwgcmVxdWVzdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldElhbVBvbGljeVJlcXVlc3QoKSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkuZ2V0SWFtUG9saWN5KHJlc291cmNlLCByZXF1ZXN0LCB7cHJldHR5UHJpbnQ6ITF9KS50aGVuKGVlLnJwY19jb252ZXJ0LmlhbVBvbGljeVRvQWNsKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEFzc2V0QWNsXCIsIGVlLmRhdGEuZ2V0QXNzZXRBY2wpO1xuZWUuZGF0YS5nZXRJYW1Qb2xpY3kgPSBmdW5jdGlvbihhc3NldElkLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJlc291cmNlID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGFzc2V0SWQpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0SWFtUG9saWN5UmVxdWVzdCgpLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5nZXRJYW1Qb2xpY3kocmVzb3VyY2UsIHJlcXVlc3QsIHtwcmV0dHlQcmludDohMX0pKTtcbn07XG5lZS5kYXRhLnNldElhbVBvbGljeSA9IGZ1bmN0aW9uKGFzc2V0SWQsIHBvbGljeSwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciByZXNvdXJjZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShhc3NldElkKSwgcmVxdWVzdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNldElhbVBvbGljeVJlcXVlc3Qoe3BvbGljeTpwb2xpY3l9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkuc2V0SWFtUG9saWN5KHJlc291cmNlLCByZXF1ZXN0LCB7cHJldHR5UHJpbnQ6ITF9KSk7XG59O1xuZWUuZGF0YS51cGRhdGVBc3NldCA9IGZ1bmN0aW9uKGFzc2V0SWQsIGFzc2V0LCB1cGRhdGVGaWVsZHMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgdXBkYXRlTWFzayA9ICh1cGRhdGVGaWVsZHMgfHwgW10pLmpvaW4oXCIsXCIpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVXBkYXRlQXNzZXRSZXF1ZXN0KHthc3NldDphc3NldCwgdXBkYXRlTWFzazp1cGRhdGVNYXNrfSksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLnBhdGNoKGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShhc3NldElkKSwgcmVxdWVzdCkudGhlbihlZS5ycGNfY29udmVydC5hc3NldFRvTGVnYWN5UmVzdWx0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnVwZGF0ZUFzc2V0XCIsIGVlLmRhdGEudXBkYXRlQXNzZXQpO1xuZWUuZGF0YS5zZXRBc3NldEFjbCA9IGZ1bmN0aW9uKGFzc2V0SWQsIGFjbFVwZGF0ZSwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciByZXNvdXJjZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShhc3NldElkKSwgcG9saWN5ID0gZWUucnBjX2NvbnZlcnQuYWNsVG9JYW1Qb2xpY3koYWNsVXBkYXRlKSwgcmVxdWVzdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNldElhbVBvbGljeVJlcXVlc3Qoe3BvbGljeTpwb2xpY3l9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5zZXRJYW1Qb2xpY3kocmVzb3VyY2UsIHJlcXVlc3QsIHtwcmV0dHlQcmludDohMX0pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0QXNzZXRBY2xcIiwgZWUuZGF0YS5zZXRBc3NldEFjbCk7XG5lZS5kYXRhLnNldEFzc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uKGFzc2V0SWQsIHByb3BlcnRpZXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXNzZXQgPSBlZS5ycGNfY29udmVydC5sZWdhY3lQcm9wZXJ0aWVzVG9Bc3NldFVwZGF0ZShwcm9wZXJ0aWVzKSwgdXBkYXRlRmllbGRzID0gYXNzZXQuZ2V0Q2xhc3NNZXRhZGF0YSgpLmtleXMuZmlsdGVyKGZ1bmN0aW9uKGspIHtcbiAgICByZXR1cm4gXCJwcm9wZXJ0aWVzXCIgIT09IGsgJiYgYXNzZXQuU2VyaWFsaXphYmxlJGhhcyhrKTtcbiAgfSkubWFwKGZ1bmN0aW9uKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbihhbGwsIGNhcCkge1xuICAgICAgcmV0dXJuIFwiX1wiICsgY2FwLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG4gIH0pLmNvbmNhdChPYmplY3Qua2V5cyhhc3NldC5wcm9wZXJ0aWVzIHx8IHt9KS5tYXAoZnVuY3Rpb24oaykge1xuICAgIHJldHVybiAncHJvcGVydGllcy5cIicgKyBrICsgJ1wiJztcbiAgfSkpO1xuICBlZS5kYXRhLnVwZGF0ZUFzc2V0KGFzc2V0SWQsIGFzc2V0LCB1cGRhdGVGaWVsZHMsIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnNldEFzc2V0UHJvcGVydGllc1wiLCBlZS5kYXRhLnNldEFzc2V0UHJvcGVydGllcyk7XG5lZS5kYXRhLmdldEFzc2V0Um9vdFF1b3RhID0gZnVuY3Rpb24ocm9vdElkLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIG5hbWUgPSBlZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUocm9vdElkKSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKSwgYXNzZXRzQ2FsbCA9IGNhbGwuYXNzZXRzKCksIHZhbGlkYXRlUGFyYW1zID0gYXNzZXRzQ2FsbC4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcjtcbiAgYXNzZXRzQ2FsbC4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlciA9IGZ1bmN0aW9uKHBhcmFtLCBwYXR0ZXJuKSB7XG4gICAgXCJecHJvamVjdHNcXFxcL1teL10rXFxcXC9hc3NldHNcXFxcLy4rJFwiID09PSBwYXR0ZXJuLnNvdXJjZSAmJiAocGF0dGVybiA9IFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgICByZXR1cm4gdmFsaWRhdGVQYXJhbXMocGFyYW0sIHBhdHRlcm4pO1xuICB9O1xuICB2YXIgZ2V0QXNzZXRSZXF1ZXN0ID0gYXNzZXRzQ2FsbC5nZXQobmFtZSwge3ByZXR0eVByaW50OiExfSk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShnZXRBc3NldFJlcXVlc3QudGhlbihmdW5jdGlvbihhc3NldCkge1xuICAgIGlmICghKGFzc2V0IGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0ICYmIGFzc2V0LnF1b3RhKSkge1xuICAgICAgdGhyb3cgRXJyb3Iocm9vdElkICsgXCIgaXMgbm90IGEgcm9vdCBmb2xkZXIuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZWUucnBjX2NvbnZlcnQuZm9sZGVyUXVvdGFUb0Fzc2V0UXVvdGFEZXRhaWxzKGFzc2V0LnF1b3RhKTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRBc3NldFJvb3RRdW90YVwiLCBlZS5kYXRhLmdldEFzc2V0Um9vdFF1b3RhKTtcbmVlLmRhdGEuQXNzZXRUeXBlID0ge0FMR09SSVRITTpcIkFsZ29yaXRobVwiLCBDTEFTU0lGSUVSOlwiQ2xhc3NpZmllclwiLCBGRUFUVVJFX1ZJRVc6XCJGZWF0dXJlVmlld1wiLCBGT0xERVI6XCJGb2xkZXJcIiwgRkVBVFVSRV9DT0xMRUNUSU9OOlwiRmVhdHVyZUNvbGxlY3Rpb25cIiwgSU1BR0U6XCJJbWFnZVwiLCBJTUFHRV9DT0xMRUNUSU9OOlwiSW1hZ2VDb2xsZWN0aW9uXCIsIFRBQkxFOlwiVGFibGVcIiwgVU5LTk9XTjpcIlVua25vd25cIn07XG5lZS5kYXRhLkV4cG9ydFR5cGUgPSB7SU1BR0U6XCJFWFBPUlRfSU1BR0VcIiwgTUFQOlwiRVhQT1JUX1RJTEVTXCIsIFRBQkxFOlwiRVhQT1JUX0ZFQVRVUkVTXCIsIFZJREVPOlwiRVhQT1JUX1ZJREVPXCIsIFZJREVPX01BUDpcIkVYUE9SVF9WSURFT19NQVBcIiwgQ0xBU1NJRklFUjpcIkVYUE9SVF9DTEFTU0lGSUVSXCJ9O1xuZWUuZGF0YS5FeHBvcnRTdGF0ZSA9IHtVTlNVQk1JVFRFRDpcIlVOU1VCTUlUVEVEXCIsIFJFQURZOlwiUkVBRFlcIiwgUlVOTklORzpcIlJVTk5JTkdcIiwgQ09NUExFVEVEOlwiQ09NUExFVEVEXCIsIEZBSUxFRDpcIkZBSUxFRFwiLCBDQU5DRUxfUkVRVUVTVEVEOlwiQ0FOQ0VMX1JFUVVFU1RFRFwiLCBDQU5DRUxMRUQ6XCJDQU5DRUxMRURcIix9O1xuZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbiA9IHtEUklWRTpcIkRSSVZFXCIsIEdDUzpcIkdPT0dMRV9DTE9VRF9TVE9SQUdFXCIsIEFTU0VUOlwiQVNTRVRcIiwgRkVBVFVSRV9WSUVXOlwiRkVBVFVSRV9WSUVXXCIsfTtcbmVlLmRhdGEuVGhpbm5pbmdTdHJhdGVneSA9IHtHTE9CQUxMWV9DT05TSVNURU5UOlwiR0xPQkFMTFlfQ09OU0lTVEVOVFwiLCBISUdIRVJfREVOU0lUWTpcIkhJR0hFUl9ERU5TSVRZXCIsfTtcbmVlLmRhdGEuRGlyZWN0aW9uID0ge0FTQ0VORElORzpcIkFTQ0VORElOR1wiLCBERVNDRU5ESU5HOlwiREVTQ0VORElOR1wiLH07XG5lZS5kYXRhLlN5c3RlbVByb3BlcnR5UHJlZml4ID0gXCJzeXN0ZW06XCI7XG5lZS5kYXRhLlN5c3RlbVRpbWVQcm9wZXJ0eSA9IHtTVEFSVDpcInN5c3RlbTp0aW1lX3N0YXJ0XCIsIEVORDpcInN5c3RlbTp0aW1lX2VuZFwifTtcbmVlLmRhdGEuU1lTVEVNX0FTU0VUX1NJWkVfUFJPUEVSVFkgPSBcInN5c3RlbTphc3NldF9zaXplXCI7XG5lZS5kYXRhLkFzc2V0RGV0YWlsc1Byb3BlcnR5ID0ge1RJVExFOlwic3lzdGVtOnRpdGxlXCIsIERFU0NSSVBUSU9OOlwic3lzdGVtOmRlc2NyaXB0aW9uXCIsIFRBR1M6XCJzeXN0ZW06dGFnc1wifTtcbmVlLmRhdGEuQUxMT1dFRF9ERVNDUklQVElPTl9IVE1MX1RBQkxFX0VMRU1FTlRTXyA9IFwiY29sIGNvbGdyb3VwIGNhcHRpb24gdGFibGUgdGJvZHkgdGQgdGZvb3QgdGggdGhlYWQgdHJcIi5zcGxpdChcIiBcIik7XG5lZS5kYXRhLkFMTE9XRURfREVTQ1JJUFRJT05fSFRNTF9FTEVNRU5UUyA9IGVlLmRhdGEuQUxMT1dFRF9ERVNDUklQVElPTl9IVE1MX1RBQkxFX0VMRU1FTlRTXy5jb25jYXQoXCJhIGNvZGUgZW0gaSBsaSBvbCBwIHN0cm9uZyBzdWIgc3VwIHVsXCIuc3BsaXQoXCIgXCIpKTtcbmVlLmRhdGEuU2hvcnRBc3NldERlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5Bc3NldEFjbCA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuQXNzZXRBY2xVcGRhdGUgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkFzc2V0UXVvdGFFbnRyeSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuQXNzZXRRdW90YURldGFpbHMgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkZlYXR1cmVWaWV3RGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkZvbGRlckRlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5GZWF0dXJlQ29sbGVjdGlvbkRlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5GZWF0dXJlVmlzdWFsaXphdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkdlb0pTT05GZWF0dXJlID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5HZW9KU09OR2VvbWV0cnkgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkdlb0pTT05HZW9tZXRyeUNycyA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuR2VvSlNPTkdlb21ldHJ5Q3JzUHJvcGVydGllcyA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuSW1hZ2VDb2xsZWN0aW9uRGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkltYWdlRGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlRhYmxlRGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlRhYmxlRG93bmxvYWRQYXJhbWV0ZXJzID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5JbWFnZVZpc3VhbGl6YXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5GZWF0dXJlVmlld1Zpc3VhbGl6YXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5UaHVtYm5haWxPcHRpb25zID0gZnVuY3Rpb24oKSB7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5kYXRhLlRodW1ibmFpbE9wdGlvbnMsIGVlLmRhdGEuSW1hZ2VWaXN1YWxpemF0aW9uUGFyYW1ldGVycyk7XG5lZS5kYXRhLlZpZGVvVGh1bWJuYWlsT3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuZGF0YS5WaWRlb1RodW1ibmFpbE9wdGlvbnMsIGVlLmRhdGEuVGh1bWJuYWlsT3B0aW9ucyk7XG5lZS5kYXRhLkZpbG1zdHJpcFRodW1ibmFpbE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmRhdGEuRmlsbXN0cmlwVGh1bWJuYWlsT3B0aW9ucywgZWUuZGF0YS5UaHVtYm5haWxPcHRpb25zKTtcbmVlLmRhdGEuQmFuZERlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5QaXhlbFR5cGVEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuQWxnb3JpdGhtU2lnbmF0dXJlID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5BbGdvcml0aG1Bcmd1bWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuVGh1bWJuYWlsSWQgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkRvd25sb2FkSWQgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlJhd01hcElkID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5NYXBJZCA9IGZ1bmN0aW9uKCkge1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuZGF0YS5NYXBJZCwgZWUuZGF0YS5SYXdNYXBJZCk7XG5lZS5kYXRhLkZlYXR1cmVWaWV3VGlsZXNLZXkgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLk1hcFpvb21SYW5nZSA9IHtNSU46MCwgTUFYOjI0fTtcbmVlLmRhdGEuVGFza1N0YXR1cyA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuUHJvY2Vzc2luZ1Jlc3BvbnNlID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5UYXNrTGlzdFJlc3BvbnNlID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5UYXNrVXBkYXRlQWN0aW9ucyA9IHtDQU5DRUw6XCJDQU5DRUxcIiwgVVBEQVRFOlwiVVBEQVRFXCJ9O1xuZWUuZGF0YS5Bc3NldERlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5Jbmdlc3Rpb25SZXF1ZXN0ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5NaXNzaW5nRGF0YSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuUHlyYW1pZGluZ1BvbGljeSA9IHtNRUFOOlwiTUVBTlwiLCBNT0RFOlwiTU9ERVwiLCBNSU46XCJNSU5cIiwgTUFYOlwiTUFYXCIsIFNBTVBMRTpcIlNBTVBMRVwifTtcbmVlLmRhdGEuQmFuZCA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuVGlsZXNldCA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuRmlsZUJhbmQgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkZpbGVTb3VyY2UgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlRhYmxlSW5nZXN0aW9uUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuVGFibGVTb3VyY2UgPSBmdW5jdGlvbigpIHtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmRhdGEuVGFibGVTb3VyY2UsIGVlLmRhdGEuRmlsZVNvdXJjZSk7XG5lZS5kYXRhLkF1dGhQcml2YXRlS2V5ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuQ29tcHV0ZWRPYmplY3QgPSBmdW5jdGlvbihmdW5jLCBhcmdzLCBvcHRfdmFyTmFtZSkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5Db21wdXRlZE9iamVjdCwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAob3B0X3Zhck5hbWUgJiYgKGZ1bmMgfHwgYXJncykpIHtcbiAgICB0aHJvdyBFcnJvcignV2hlbiBcIm9wdF92YXJOYW1lXCIgaXMgc3BlY2lmaWVkLCBcImZ1bmNcIiBhbmQgXCJhcmdzXCIgbXVzdCBiZSBudWxsLicpO1xuICB9XG4gIGlmIChmdW5jICYmICFhcmdzKSB7XG4gICAgdGhyb3cgRXJyb3IoJ1doZW4gXCJmdW5jXCIgaXMgc3BlY2lmaWVkLCBcImFyZ3NcIiBtdXN0IG5vdCBiZSBudWxsLicpO1xuICB9XG4gIHRoaXMuZnVuYyA9IGZ1bmM7XG4gIHRoaXMuYXJncyA9IGFyZ3M7XG4gIHRoaXMudmFyTmFtZSA9IG9wdF92YXJOYW1lIHx8IG51bGw7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5Db21wdXRlZE9iamVjdCwgZWUuRW5jb2RhYmxlKTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuQ29tcHV0ZWRPYmplY3RcIiwgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgaWYgKCFjYWxsYmFjayB8fCBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjYWxsYmFjaykge1xuICAgIHRocm93IEVycm9yKFwiZXZhbHVhdGUoKSByZXF1aXJlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uLlwiKTtcbiAgfVxuICBlZS5kYXRhLmNvbXB1dGVWYWx1ZSh0aGlzLCBjYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUsIFwiZXZhbHVhdGVcIiwgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmV2YWx1YXRlKTtcbmVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5nZXRJbmZvID0gZnVuY3Rpb24ob3B0X2NhbGxiYWNrKSB7XG4gIHJldHVybiBlZS5kYXRhLmNvbXB1dGVWYWx1ZSh0aGlzLCBvcHRfY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLCBcImdldEluZm9cIiwgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmdldEluZm8pO1xuZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgaWYgKHRoaXMuaXNWYXJpYWJsZSgpKSB7XG4gICAgcmV0dXJuIHt0eXBlOlwiQXJndW1lbnRSZWZcIiwgdmFsdWU6dGhpcy52YXJOYW1lfTtcbiAgfVxuICB2YXIgZW5jb2RlZEFyZ3MgPSB7fSwgbmFtZTtcbiAgZm9yIChuYW1lIGluIHRoaXMuYXJncykge1xuICAgIHZvaWQgMCAhPT0gdGhpcy5hcmdzW25hbWVdICYmIChlbmNvZGVkQXJnc1tuYW1lXSA9IGVuY29kZXIodGhpcy5hcmdzW25hbWVdKSk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHt0eXBlOlwiSW52b2NhdGlvblwiLCBhcmd1bWVudHM6ZW5jb2RlZEFyZ3N9LCBmdW5jID0gZW5jb2Rlcih0aGlzLmZ1bmMpO1xuICByZXN1bHRbXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGZ1bmMgPyBcImZ1bmN0aW9uTmFtZVwiIDogXCJmdW5jdGlvblwiXSA9IGZ1bmM7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmVuY29kZUNsb3VkVmFsdWUgPSBmdW5jdGlvbihzZXJpYWxpemVyKSB7XG4gIGlmICh0aGlzLmlzVmFyaWFibGUoKSkge1xuICAgIHZhciBuYW1lID0gdGhpcy52YXJOYW1lIHx8IHNlcmlhbGl6ZXIudW5ib3VuZE5hbWU7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkEgbWFwcGVkIGZ1bmN0aW9uJ3MgYXJndW1lbnRzIGNhbm5vdCBiZSB1c2VkIGluIGNsaWVudC1zaWRlIG9wZXJhdGlvbnNcIik7XG4gICAgfVxuICAgIHJldHVybiBlZS5ycGNfbm9kZS5hcmd1bWVudFJlZmVyZW5jZShuYW1lKTtcbiAgfVxuICB2YXIgZW5jb2RlZEFyZ3MgPSB7fSwgbmFtZSQ2OTtcbiAgZm9yIChuYW1lJDY5IGluIHRoaXMuYXJncykge1xuICAgIHZvaWQgMCAhPT0gdGhpcy5hcmdzW25hbWUkNjldICYmIChlbmNvZGVkQXJnc1tuYW1lJDY5XSA9IGVlLnJwY19ub2RlLnJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UodGhpcy5hcmdzW25hbWUkNjldKSkpO1xuICB9XG4gIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgdGhpcy5mdW5jID8gZWUucnBjX25vZGUuZnVuY3Rpb25CeU5hbWUoU3RyaW5nKHRoaXMuZnVuYyksIGVuY29kZWRBcmdzKSA6IHRoaXMuZnVuYy5lbmNvZGVDbG91ZEludm9jYXRpb24oc2VyaWFsaXplciwgZW5jb2RlZEFyZ3MpO1xufTtcbmVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5zZXJpYWxpemUgPSBmdW5jdGlvbihsZWdhY3kpIHtcbiAgcmV0dXJuICh2b2lkIDAgPT09IGxlZ2FjeSA/IDAgOiBsZWdhY3kpID8gZWUuU2VyaWFsaXplci50b0pTT04odGhpcykgOiBlZS5TZXJpYWxpemVyLnRvQ2xvdWRBcGlKU09OKHRoaXMpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLCBcInNlcmlhbGl6ZVwiLCBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuc2VyaWFsaXplKTtcbmVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJlZS5cIiArIHRoaXMubmFtZSgpICsgXCIoXCIgKyBlZS5TZXJpYWxpemVyLnRvUmVhZGFibGVKU09OKHRoaXMpICsgXCIpXCI7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcIiwgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKTtcbmVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5pc1ZhcmlhYmxlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBudWxsID09PSB0aGlzLmZ1bmMgJiYgbnVsbCA9PT0gdGhpcy5hcmdzO1xufTtcbmVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkNvbXB1dGVkT2JqZWN0XCI7XG59O1xuZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmFzaWRlID0gZnVuY3Rpb24oZnVuYywgdmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gIGFyZ3NbMF0gPSB0aGlzO1xuICBmdW5jLmFwcGx5KGdvb2cuZ2xvYmFsLCBhcmdzKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUsIFwiYXNpZGVcIiwgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmFzaWRlKTtcbmVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5jYXN0SW50ZXJuYWwgPSBmdW5jdGlvbihvYmopIHtcbiAgaWYgKG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIHZhciBrbGFzcyA9IGZ1bmN0aW9uKCkge1xuICB9O1xuICBrbGFzcy5wcm90b3R5cGUgPSB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBrbGFzcygpO1xuICByZXN1bHQuZnVuYyA9IG9iai5mdW5jO1xuICByZXN1bHQuYXJncyA9IG9iai5hcmdzO1xuICByZXN1bHQudmFyTmFtZSA9IG9iai52YXJOYW1lO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdCA9IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCBhcmdzQXJyYXkpIHtcbiAgZnVuY3Rpb24gRigpIHtcbiAgICByZXR1cm4gY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJnc0FycmF5KTtcbiAgfVxuICBGLnByb3RvdHlwZSA9IGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgcmV0dXJuIG5ldyBGKCk7XG59O1xuZWUuVHlwZXMgPSB7fTtcbmVlLlR5cGVzLnJlZ2lzdGVyZWRDbGFzc2VzXyA9IHt9O1xuZWUuVHlwZXMucmVnaXN0ZXJDbGFzc2VzID0gZnVuY3Rpb24oY2xhc3Nlcykge1xuICBlZS5UeXBlcy5yZWdpc3RlcmVkQ2xhc3Nlc18gPSBjbGFzc2VzO1xufTtcbmVlLlR5cGVzLm5hbWVUb0NsYXNzID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gbmFtZSBpbiBlZS5UeXBlcy5yZWdpc3RlcmVkQ2xhc3Nlc18gPyBlZS5UeXBlcy5yZWdpc3RlcmVkQ2xhc3Nlc19bbmFtZV0gOiBudWxsO1xufTtcbmVlLlR5cGVzLmNsYXNzVG9OYW1lID0gZnVuY3Rpb24oa2xhc3MpIHtcbiAgcmV0dXJuIGtsYXNzLnByb3RvdHlwZSBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0ID8ga2xhc3MucHJvdG90eXBlLm5hbWUuY2FsbChudWxsKSA6IGtsYXNzID09IE51bWJlciA/IFwiTnVtYmVyXCIgOiBrbGFzcyA9PSBTdHJpbmcgPyBcIlN0cmluZ1wiIDoga2xhc3MgPT0gQXJyYXkgPyBcIkFycmF5XCIgOiBrbGFzcyA9PSBEYXRlID8gXCJEYXRlXCIgOiBcIk9iamVjdFwiO1xufTtcbmVlLlR5cGVzLmlzU3VidHlwZSA9IGZ1bmN0aW9uKGZpcnN0VHlwZSwgc2Vjb25kVHlwZSkge1xuICBpZiAoc2Vjb25kVHlwZSA9PSBmaXJzdFR5cGUpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgc3dpdGNoKGZpcnN0VHlwZSkge1xuICAgIGNhc2UgXCJFbGVtZW50XCI6XG4gICAgICByZXR1cm4gXCJFbGVtZW50XCIgPT0gc2Vjb25kVHlwZSB8fCBcIkltYWdlXCIgPT0gc2Vjb25kVHlwZSB8fCBcIkZlYXR1cmVcIiA9PSBzZWNvbmRUeXBlIHx8IFwiQ29sbGVjdGlvblwiID09IHNlY29uZFR5cGUgfHwgXCJJbWFnZUNvbGxlY3Rpb25cIiA9PSBzZWNvbmRUeXBlIHx8IFwiRmVhdHVyZUNvbGxlY3Rpb25cIiA9PSBzZWNvbmRUeXBlO1xuICAgIGNhc2UgXCJGZWF0dXJlQ29sbGVjdGlvblwiOlxuICAgIGNhc2UgXCJDb2xsZWN0aW9uXCI6XG4gICAgICByZXR1cm4gXCJDb2xsZWN0aW9uXCIgPT0gc2Vjb25kVHlwZSB8fCBcIkltYWdlQ29sbGVjdGlvblwiID09IHNlY29uZFR5cGUgfHwgXCJGZWF0dXJlQ29sbGVjdGlvblwiID09IHNlY29uZFR5cGU7XG4gICAgY2FzZSBcIk9iamVjdFwiOlxuICAgICAgcmV0dXJuICEwO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gITE7XG4gIH1cbn07XG5lZS5UeXBlcy5pc051bWJlciA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9iaiB8fCBvYmogaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCAmJiBcIk51bWJlclwiID09IG9iai5uYW1lKCk7XG59O1xuZWUuVHlwZXMuaXNTdHJpbmcgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvYmogfHwgb2JqIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QgJiYgXCJTdHJpbmdcIiA9PSBvYmoubmFtZSgpO1xufTtcbmVlLlR5cGVzLmlzQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSB8fCBvYmogaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCAmJiBcIkxpc3RcIiA9PSBvYmoubmFtZSgpO1xufTtcbmVlLlR5cGVzLmlzUmVndWxhck9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICBpZiAoZ29vZy5pc09iamVjdChvYmopICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIG9iaikge1xuICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuICAgIHJldHVybiBudWxsICE9PSBwcm90byAmJiBudWxsID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICB9XG4gIHJldHVybiAhMTtcbn07XG5lZS5UeXBlcy51c2VLZXl3b3JkQXJncyA9IGZ1bmN0aW9uKGFyZ3MsIHNpZ25hdHVyZSwgaXNJbnN0YW5jZSkge1xuICBpc0luc3RhbmNlID0gdm9pZCAwID09PSBpc0luc3RhbmNlID8gITEgOiBpc0luc3RhbmNlO1xuICBpZiAoMSA9PT0gYXJncy5sZW5ndGggJiYgZWUuVHlwZXMuaXNSZWd1bGFyT2JqZWN0KGFyZ3NbMF0pKSB7XG4gICAgdmFyIGZvcm1hbEFyZ3MgPSBzaWduYXR1cmUuYXJncztcbiAgICBpc0luc3RhbmNlICYmIChmb3JtYWxBcmdzID0gZm9ybWFsQXJncy5zbGljZSgxKSk7XG4gICAgaWYgKGZvcm1hbEFyZ3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gISgxID09PSBmb3JtYWxBcmdzLmxlbmd0aCB8fCBmb3JtYWxBcmdzWzFdLm9wdGlvbmFsKSB8fCBcIkRpY3Rpb25hcnlcIiAhPT0gZm9ybWFsQXJnc1swXS50eXBlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuZWUuRnVuY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkZ1bmN0aW9uKSkge1xuICAgIHJldHVybiBuZXcgZWUuRnVuY3Rpb24oKTtcbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuRnVuY3Rpb24sIGVlLkVuY29kYWJsZSk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkZ1bmN0aW9uXCIsIGVlLkZ1bmN0aW9uKTtcbmVlLkZ1bmN0aW9uLnByb21vdGVyXyA9IGdvb2cuZnVuY3Rpb25zLmlkZW50aXR5O1xuZWUuRnVuY3Rpb24ucmVnaXN0ZXJQcm9tb3RlciA9IGZ1bmN0aW9uKHByb21vdGVyKSB7XG4gIGVlLkZ1bmN0aW9uLnByb21vdGVyXyA9IHByb21vdGVyO1xufTtcbmVlLkZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgcmV0dXJuIHRoaXMuYXBwbHkodGhpcy5uYW1lQXJncyhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GdW5jdGlvbi5wcm90b3R5cGUsIFwiY2FsbFwiLCBlZS5GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCk7XG5lZS5GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbihuYW1lZEFyZ3MpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBlZS5Db21wdXRlZE9iamVjdCh0aGlzLCB0aGlzLnByb21vdGVBcmdzKG5hbWVkQXJncykpO1xuICByZXR1cm4gZWUuRnVuY3Rpb24ucHJvbW90ZXJfKHJlc3VsdCwgdGhpcy5nZXRSZXR1cm5UeXBlKCkpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRnVuY3Rpb24ucHJvdG90eXBlLCBcImFwcGx5XCIsIGVlLkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSk7XG5lZS5GdW5jdGlvbi5wcm90b3R5cGUuY2FsbE9yQXBwbHkgPSBmdW5jdGlvbih0aGlzVmFsdWUsIGFyZ3MpIHtcbiAgdmFyIGlzSW5zdGFuY2UgPSB2b2lkIDAgIT09IHRoaXNWYWx1ZSwgc2lnbmF0dXJlID0gdGhpcy5nZXRTaWduYXR1cmUoKTtcbiAgaWYgKGVlLlR5cGVzLnVzZUtleXdvcmRBcmdzKGFyZ3MsIHNpZ25hdHVyZSwgaXNJbnN0YW5jZSkpIHtcbiAgICB2YXIgbmFtZWRBcmdzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2Nsb25lKGFyZ3NbMF0pO1xuICAgIGlmIChpc0luc3RhbmNlKSB7XG4gICAgICB2YXIgZmlyc3RBcmdOYW1lID0gc2lnbmF0dXJlLmFyZ3NbMF0ubmFtZTtcbiAgICAgIGlmIChmaXJzdEFyZ05hbWUgaW4gbmFtZWRBcmdzKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiTmFtZWQgYXJncyBmb3IgXCIgKyBzaWduYXR1cmUubmFtZSArIFwiIGNhbid0IGNvbnRhaW4ga2V5d29yZCBcIiArIGZpcnN0QXJnTmFtZSk7XG4gICAgICB9XG4gICAgICBuYW1lZEFyZ3NbZmlyc3RBcmdOYW1lXSA9IHRoaXNWYWx1ZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbmFtZWRBcmdzID0gdGhpcy5uYW1lQXJncyhpc0luc3RhbmNlID8gW3RoaXNWYWx1ZV0uY29uY2F0KGFyZ3MpIDogYXJncyk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuYXBwbHkobmFtZWRBcmdzKTtcbn07XG5lZS5GdW5jdGlvbi5wcm90b3R5cGUucHJvbW90ZUFyZ3MgPSBmdW5jdGlvbihhcmdzKSB7XG4gIGZvciAodmFyIHNwZWNzID0gdGhpcy5nZXRTaWduYXR1cmUoKS5hcmdzLCBwcm9tb3RlZEFyZ3MgPSB7fSwga25vd24gPSB7fSwgaSA9IDA7IGkgPCBzcGVjcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBuYW1lID0gc3BlY3NbaV0ubmFtZTtcbiAgICBpZiAobmFtZSBpbiBhcmdzICYmIHZvaWQgMCAhPT0gYXJnc1tuYW1lXSkge1xuICAgICAgcHJvbW90ZWRBcmdzW25hbWVdID0gZWUuRnVuY3Rpb24ucHJvbW90ZXJfKGFyZ3NbbmFtZV0sIHNwZWNzW2ldLnR5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXNwZWNzW2ldLm9wdGlvbmFsKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiUmVxdWlyZWQgYXJndW1lbnQgKFwiICsgbmFtZSArIFwiKSBtaXNzaW5nIHRvIGZ1bmN0aW9uOiBcIiArIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgICBrbm93bltuYW1lXSA9ICEwO1xuICB9XG4gIHZhciB1bmtub3duID0gW10sIGFyZ05hbWU7XG4gIGZvciAoYXJnTmFtZSBpbiBhcmdzKSB7XG4gICAga25vd25bYXJnTmFtZV0gfHwgdW5rbm93bi5wdXNoKGFyZ05hbWUpO1xuICB9XG4gIGlmICgwIDwgdW5rbm93bi5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIlVucmVjb2duaXplZCBhcmd1bWVudHMgKFwiICsgdW5rbm93biArIFwiKSB0byBmdW5jdGlvbjogXCIgKyB0aGlzKTtcbiAgfVxuICByZXR1cm4gcHJvbW90ZWRBcmdzO1xufTtcbmVlLkZ1bmN0aW9uLnByb3RvdHlwZS5uYW1lQXJncyA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgdmFyIHNwZWNzID0gdGhpcy5nZXRTaWduYXR1cmUoKS5hcmdzO1xuICBpZiAoc3BlY3MubGVuZ3RoIDwgYXJncy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIlRvbyBtYW55IChcIiArIGFyZ3MubGVuZ3RoICsgXCIpIGFyZ3VtZW50cyB0byBmdW5jdGlvbjogXCIgKyB0aGlzKTtcbiAgfVxuICBmb3IgKHZhciBuYW1lZEFyZ3MgPSB7fSwgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgbmFtZWRBcmdzW3NwZWNzW2ldLm5hbWVdID0gYXJnc1tpXTtcbiAgfVxuICByZXR1cm4gbmFtZWRBcmdzO1xufTtcbmVlLkZ1bmN0aW9uLnByb3RvdHlwZS5nZXRSZXR1cm5UeXBlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldFNpZ25hdHVyZSgpLnJldHVybnM7XG59O1xuZWUuRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0X25hbWUsIG9wdF9pc0luc3RhbmNlKSB7XG4gIHZhciBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZSgpLCBidWZmZXIgPSBbXTtcbiAgYnVmZmVyLnB1c2gob3B0X25hbWUgfHwgc2lnbmF0dXJlLm5hbWUpO1xuICBidWZmZXIucHVzaChcIihcIik7XG4gIGJ1ZmZlci5wdXNoKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChzaWduYXR1cmUuYXJncy5zbGljZShvcHRfaXNJbnN0YW5jZSA/IDEgOiAwKSwgZnVuY3Rpb24oZWxlbSkge1xuICAgIHJldHVybiBlbGVtLm5hbWU7XG4gIH0pLmpvaW4oXCIsIFwiKSk7XG4gIGJ1ZmZlci5wdXNoKFwiKVxcblwiKTtcbiAgYnVmZmVyLnB1c2goXCJcXG5cIik7XG4gIHNpZ25hdHVyZS5kZXNjcmlwdGlvbiA/IGJ1ZmZlci5wdXNoKHNpZ25hdHVyZS5kZXNjcmlwdGlvbikgOiBidWZmZXIucHVzaChcIlVuZG9jdW1lbnRlZC5cIik7XG4gIGJ1ZmZlci5wdXNoKFwiXFxuXCIpO1xuICBpZiAoc2lnbmF0dXJlLmFyZ3MubGVuZ3RoKSB7XG4gICAgYnVmZmVyLnB1c2goXCJcXG5BcmdzOlxcblwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZ25hdHVyZS5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvcHRfaXNJbnN0YW5jZSAmJiAwID09IGkgPyBidWZmZXIucHVzaChcIiAgdGhpczpcIikgOiBidWZmZXIucHVzaChcIlxcbiAgXCIpO1xuICAgICAgdmFyIGFyZyA9IHNpZ25hdHVyZS5hcmdzW2ldO1xuICAgICAgYnVmZmVyLnB1c2goYXJnLm5hbWUpO1xuICAgICAgYnVmZmVyLnB1c2goXCIgKFwiKTtcbiAgICAgIGJ1ZmZlci5wdXNoKGFyZy50eXBlKTtcbiAgICAgIGFyZy5vcHRpb25hbCAmJiBidWZmZXIucHVzaChcIiwgb3B0aW9uYWxcIik7XG4gICAgICBidWZmZXIucHVzaChcIik6IFwiKTtcbiAgICAgIGFyZy5kZXNjcmlwdGlvbiA/IGJ1ZmZlci5wdXNoKGFyZy5kZXNjcmlwdGlvbikgOiBidWZmZXIucHVzaChcIlVuZG9jdW1lbnRlZC5cIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBidWZmZXIuam9pbihcIlwiKTtcbn07XG5lZS5GdW5jdGlvbi5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24obGVnYWN5KSB7XG4gIHJldHVybiAodm9pZCAwID09PSBsZWdhY3kgPyAwIDogbGVnYWN5KSA/IGVlLlNlcmlhbGl6ZXIudG9KU09OKHRoaXMpIDogZWUuU2VyaWFsaXplci50b0Nsb3VkQXBpSlNPTih0aGlzKTtcbn07XG5lZS5BcGlGdW5jdGlvbiA9IGZ1bmN0aW9uKG5hbWUsIG9wdF9zaWduYXR1cmUpIHtcbiAgaWYgKHZvaWQgMCA9PT0gb3B0X3NpZ25hdHVyZSkge1xuICAgIHJldHVybiBlZS5BcGlGdW5jdGlvbi5sb29rdXAobmFtZSk7XG4gIH1cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkFwaUZ1bmN0aW9uKSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuQXBpRnVuY3Rpb24sIGFyZ3VtZW50cyk7XG4gIH1cbiAgdGhpcy5zaWduYXR1cmVfID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3Vuc2FmZUNsb25lKG9wdF9zaWduYXR1cmUpO1xuICB0aGlzLnNpZ25hdHVyZV8ubmFtZSA9IG5hbWU7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5BcGlGdW5jdGlvbiwgZWUuRnVuY3Rpb24pO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5BcGlGdW5jdGlvblwiLCBlZS5BcGlGdW5jdGlvbik7XG5lZS5BcGlGdW5jdGlvbi5fY2FsbCA9IGZ1bmN0aW9uKG5hbWUsIHZhcl9hcmdzKSB7XG4gIHJldHVybiBlZS5GdW5jdGlvbi5wcm90b3R5cGUuY2FsbC5hcHBseShlZS5BcGlGdW5jdGlvbi5sb29rdXAobmFtZSksIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuQXBpRnVuY3Rpb24uX2NhbGxcIiwgZWUuQXBpRnVuY3Rpb24uX2NhbGwpO1xuZWUuQXBpRnVuY3Rpb24uX2FwcGx5ID0gZnVuY3Rpb24obmFtZSwgbmFtZWRBcmdzKSB7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5sb29rdXAobmFtZSkuYXBwbHkobmFtZWRBcmdzKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkFwaUZ1bmN0aW9uLl9hcHBseVwiLCBlZS5BcGlGdW5jdGlvbi5fYXBwbHkpO1xuZWUuQXBpRnVuY3Rpb24ucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgcmV0dXJuIHRoaXMuc2lnbmF0dXJlXy5uYW1lO1xufTtcbmVlLkFwaUZ1bmN0aW9uLnByb3RvdHlwZS5lbmNvZGVDbG91ZEludm9jYXRpb24gPSBmdW5jdGlvbihzZXJpYWxpemVyLCBhcmdzKSB7XG4gIHJldHVybiBlZS5ycGNfbm9kZS5mdW5jdGlvbkJ5TmFtZSh0aGlzLnNpZ25hdHVyZV8ubmFtZSwgYXJncyk7XG59O1xuZWUuQXBpRnVuY3Rpb24ucHJvdG90eXBlLmdldFNpZ25hdHVyZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zaWduYXR1cmVfO1xufTtcbmVlLkFwaUZ1bmN0aW9uLmFwaV8gPSBudWxsO1xuZWUuQXBpRnVuY3Rpb24uYm91bmRTaWduYXR1cmVzXyA9IHt9O1xuZWUuQXBpRnVuY3Rpb24uYWxsU2lnbmF0dXJlcyA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5pbml0aWFsaXplKCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKGVlLkFwaUZ1bmN0aW9uLmFwaV8sIGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuYy5nZXRTaWduYXR1cmUoKTtcbiAgfSk7XG59O1xuZWUuQXBpRnVuY3Rpb24udW5ib3VuZEZ1bmN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5pbml0aWFsaXplKCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZmlsdGVyKGVlLkFwaUZ1bmN0aW9uLmFwaV8sIGZ1bmN0aW9uKGZ1bmMsIG5hbWUpIHtcbiAgICByZXR1cm4gIWVlLkFwaUZ1bmN0aW9uLmJvdW5kU2lnbmF0dXJlc19bbmFtZV07XG4gIH0pO1xufTtcbmVlLkFwaUZ1bmN0aW9uLmxvb2t1cCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGZ1bmMgPSBlZS5BcGlGdW5jdGlvbi5sb29rdXBJbnRlcm5hbChuYW1lKTtcbiAgaWYgKCFmdW5jKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIGJ1aWx0LWluIGZ1bmN0aW9uIG5hbWU6IFwiICsgbmFtZSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmM7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5BcGlGdW5jdGlvbi5sb29rdXBcIiwgZWUuQXBpRnVuY3Rpb24ubG9va3VwKTtcbmVlLkFwaUZ1bmN0aW9uLmxvb2t1cEludGVybmFsID0gZnVuY3Rpb24obmFtZSkge1xuICBlZS5BcGlGdW5jdGlvbi5pbml0aWFsaXplKCk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5hcGlfW25hbWVdIHx8IG51bGw7XG59O1xuZWUuQXBpRnVuY3Rpb24uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKG9wdF9zdWNjZXNzQ2FsbGJhY2ssIG9wdF9mYWlsdXJlQ2FsbGJhY2spIHtcbiAgaWYgKGVlLkFwaUZ1bmN0aW9uLmFwaV8pIHtcbiAgICBvcHRfc3VjY2Vzc0NhbGxiYWNrICYmIG9wdF9zdWNjZXNzQ2FsbGJhY2soKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBvcHRfZXJyb3IpIHtcbiAgICAgIG9wdF9lcnJvciA/IG9wdF9mYWlsdXJlQ2FsbGJhY2sgJiYgb3B0X2ZhaWx1cmVDYWxsYmFjayhFcnJvcihvcHRfZXJyb3IpKSA6IChlZS5BcGlGdW5jdGlvbi5hcGlfID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X21hcChkYXRhLCBmdW5jdGlvbihzaWcsIG5hbWUpIHtcbiAgICAgICAgc2lnLnJldHVybnMgPSBzaWcucmV0dXJucy5yZXBsYWNlKC88Lio+LywgXCJcIik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2lnLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzaWcuYXJnc1tpXS50eXBlID0gc2lnLmFyZ3NbaV0udHlwZS5yZXBsYWNlKC88Lio+LywgXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBlZS5BcGlGdW5jdGlvbihuYW1lLCBzaWcpO1xuICAgICAgfSksIG9wdF9zdWNjZXNzQ2FsbGJhY2sgJiYgb3B0X3N1Y2Nlc3NDYWxsYmFjaygpKTtcbiAgICB9O1xuICAgIG9wdF9zdWNjZXNzQ2FsbGJhY2sgPyBlZS5kYXRhLmdldEFsZ29yaXRobXMoY2FsbGJhY2spIDogY2FsbGJhY2soZWUuZGF0YS5nZXRBbGdvcml0aG1zKCkpO1xuICB9XG59O1xuZWUuQXBpRnVuY3Rpb24ucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uYXBpXyA9IG51bGw7XG4gIGVlLkFwaUZ1bmN0aW9uLmJvdW5kU2lnbmF0dXJlc18gPSB7fTtcbn07XG5lZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkgPSBmdW5jdGlvbih0YXJnZXQsIHByZWZpeCwgdHlwZU5hbWUsIG9wdF9wcmVwZW5kKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmluaXRpYWxpemUoKTtcbiAgdmFyIHByZXBlbmQgPSBvcHRfcHJlcGVuZCB8fCBcIlwiO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaChlZS5BcGlGdW5jdGlvbi5hcGlfLCBmdW5jdGlvbihhcGlGdW5jLCBuYW1lKSB7XG4gICAgdmFyIHBhcnRzID0gbmFtZS5zcGxpdChcIi5cIik7XG4gICAgaWYgKDIgPT0gcGFydHMubGVuZ3RoICYmIHBhcnRzWzBdID09IHByZWZpeCkge1xuICAgICAgdmFyIGZuYW1lID0gcHJlcGVuZCArIHBhcnRzWzFdLCBzaWduYXR1cmUgPSBhcGlGdW5jLmdldFNpZ25hdHVyZSgpO1xuICAgICAgZWUuQXBpRnVuY3Rpb24uYm91bmRTaWduYXR1cmVzX1tuYW1lXSA9ICEwO1xuICAgICAgdmFyIGlzSW5zdGFuY2UgPSAhMTtcbiAgICAgIGlmIChzaWduYXR1cmUuYXJncy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGZpcnN0QXJnVHlwZSA9IHNpZ25hdHVyZS5hcmdzWzBdLnR5cGU7XG4gICAgICAgIGlzSW5zdGFuY2UgPSBcIk9iamVjdFwiICE9IGZpcnN0QXJnVHlwZSAmJiBlZS5UeXBlcy5pc1N1YnR5cGUoZmlyc3RBcmdUeXBlLCB0eXBlTmFtZSk7XG4gICAgICB9XG4gICAgICB2YXIgZGVzdGluYXRpb24gPSBpc0luc3RhbmNlID8gdGFyZ2V0LnByb3RvdHlwZSA6IHRhcmdldDtcbiAgICAgIGZuYW1lIGluIGRlc3RpbmF0aW9uICYmICFkZXN0aW5hdGlvbltmbmFtZV0uc2lnbmF0dXJlIHx8IChkZXN0aW5hdGlvbltmbmFtZV0gPSBmdW5jdGlvbih2YXJfYXJncykge1xuICAgICAgICByZXR1cm4gYXBpRnVuYy5jYWxsT3JBcHBseShpc0luc3RhbmNlID8gdGhpcyA6IHZvaWQgMCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7XG4gICAgICB9LCBkZXN0aW5hdGlvbltmbmFtZV0udG9TdHJpbmcgPSBnb29nLmJpbmQoYXBpRnVuYy50b1N0cmluZywgYXBpRnVuYywgZm5hbWUsIGlzSW5zdGFuY2UpLCBkZXN0aW5hdGlvbltmbmFtZV0uc2lnbmF0dXJlID0gc2lnbmF0dXJlKTtcbiAgICB9XG4gIH0pO1xufTtcbmVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpID0gZnVuY3Rpb24odGFyZ2V0JGpzY29tcCQwKSB7XG4gIHZhciBjbGVhciA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIGZvciAodmFyIG5hbWUgaW4gdGFyZ2V0KSB7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0YXJnZXRbbmFtZV0gJiYgdGFyZ2V0W25hbWVdLnNpZ25hdHVyZSAmJiBkZWxldGUgdGFyZ2V0W25hbWVdO1xuICAgIH1cbiAgfTtcbiAgY2xlYXIodGFyZ2V0JGpzY29tcCQwKTtcbiAgY2xlYXIodGFyZ2V0JGpzY29tcCQwLnByb3RvdHlwZSB8fCB7fSk7XG59O1xuZWUuYXJndW1lbnRzID0ge307XG5lZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbiA9IGZ1bmN0aW9uKGZuLCBvcmlnaW5hbEFyZ3MpIHtcbiAgcmV0dXJuIGVlLmFyZ3VtZW50cy5leHRyYWN0SW1wbF8oZm4sIG9yaWdpbmFsQXJncywgZWUuYXJndW1lbnRzLkpTX1BBUkFNX0RFQ0xfTUFUQ0hFUl9GVU5DVElPTl8pO1xufTtcbmVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUNsYXNzQ29uc3RydWN0b3IgPSBmdW5jdGlvbihmbiwgb3JpZ2luYWxBcmdzKSB7XG4gIHJldHVybiBlZS5hcmd1bWVudHMuZXh0cmFjdEltcGxfKGZuLCBvcmlnaW5hbEFyZ3MsIGVlLmFyZ3VtZW50cy5KU19QQVJBTV9ERUNMX01BVENIRVJfQ0xBU1NfQ09OU1RSVUNUT1JfKTtcbn07XG5lZS5hcmd1bWVudHMuZXh0cmFjdEZyb21DbGFzc01ldGhvZCA9IGZ1bmN0aW9uKGZuLCBvcmlnaW5hbEFyZ3MpIHtcbiAgcmV0dXJuIGVlLmFyZ3VtZW50cy5leHRyYWN0SW1wbF8oZm4sIG9yaWdpbmFsQXJncywgZWUuYXJndW1lbnRzLkpTX1BBUkFNX0RFQ0xfTUFUQ0hFUl9DTEFTU19NRVRIT0RfKTtcbn07XG5lZS5hcmd1bWVudHMuZXh0cmFjdCA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uO1xuZWUuYXJndW1lbnRzLmV4dHJhY3RJbXBsXyA9IGZ1bmN0aW9uKGZuLCBvcmlnaW5hbEFyZ3MsIHBhcmFtZXRlck1hdGNoZXIpIHtcbiAgdmFyIHBhcmFtTmFtZXNXaXRoT3B0UHJlZml4ID0gZWUuYXJndW1lbnRzLmdldFBhcmFtTmFtZXNfKGZuLCBwYXJhbWV0ZXJNYXRjaGVyKSwgcGFyYW1OYW1lcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChwYXJhbU5hbWVzV2l0aE9wdFByZWZpeCwgZnVuY3Rpb24ocGFyYW0pIHtcbiAgICByZXR1cm4gcGFyYW0ucmVwbGFjZSgvXm9wdF8vLCBcIlwiKTtcbiAgfSksIGZuTmFtZSA9IGVlLmFyZ3VtZW50cy5nZXRGbk5hbWVfKGZuKSwgZm5OYW1lU25pcHBldCA9IGZuTmFtZSA/IFwiIHRvIGZ1bmN0aW9uIFwiICsgZm5OYW1lIDogXCJcIiwgYXJncyA9IHt9LCBmaXJzdEFyZyA9IG9yaWdpbmFsQXJnc1swXSwgZmlyc3RBcmdDb3VsZEJlRGljdGlvbmFyeSA9IGdvb2cuaXNPYmplY3QoZmlyc3RBcmcpICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGZpcnN0QXJnICYmICFBcnJheS5pc0FycmF5KGZpcnN0QXJnKSAmJiBcIk9iamVjdFwiID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZmlyc3RBcmcpLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmICgxIDwgb3JpZ2luYWxBcmdzLmxlbmd0aCB8fCAhZmlyc3RBcmdDb3VsZEJlRGljdGlvbmFyeSkge1xuICAgIGlmIChvcmlnaW5hbEFyZ3MubGVuZ3RoID4gcGFyYW1OYW1lcy5sZW5ndGgpIHtcbiAgICAgIHRocm93IEVycm9yKFwiUmVjZWl2ZWQgdG9vIG1hbnkgYXJndW1lbnRzXCIgKyBmbk5hbWVTbmlwcGV0ICsgXCIuIEV4cGVjdGVkIGF0IG1vc3QgXCIgKyBwYXJhbU5hbWVzLmxlbmd0aCArIFwiIGJ1dCBnb3QgXCIgKyBvcmlnaW5hbEFyZ3MubGVuZ3RoICsgXCIuXCIpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yaWdpbmFsQXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1twYXJhbU5hbWVzW2ldXSA9IG9yaWdpbmFsQXJnc1tpXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNlZW4gPSBuZXcgZ29vZy5zdHJ1Y3RzLlNldChtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyhmaXJzdEFyZykpLCBleHBlY3RlZCA9IG5ldyBnb29nLnN0cnVjdHMuU2V0KHBhcmFtTmFtZXMpO1xuICAgIGlmIChleHBlY3RlZC5pbnRlcnNlY3Rpb24oc2VlbikuaXNFbXB0eSgpKSB7XG4gICAgICBhcmdzW3BhcmFtTmFtZXNbMF1dID0gb3JpZ2luYWxBcmdzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdW5leHBlY3RlZCA9IHNlZW4uZGlmZmVyZW5jZShleHBlY3RlZCk7XG4gICAgICBpZiAoMCAhPT0gdW5leHBlY3RlZC5zaXplKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiVW5leHBlY3RlZCBhcmd1bWVudHNcIiArIGZuTmFtZVNuaXBwZXQgKyBcIjogXCIgKyBBcnJheS5mcm9tKHVuZXhwZWN0ZWQudmFsdWVzKCkpLmpvaW4oXCIsIFwiKSk7XG4gICAgICB9XG4gICAgICBhcmdzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2Nsb25lKGZpcnN0QXJnKTtcbiAgICB9XG4gIH1cbiAgdmFyIHByb3ZpZGVkID0gbmV3IGdvb2cuc3RydWN0cy5TZXQobW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEtleXMoYXJncykpLCBtaXNzaW5nID0gKG5ldyBnb29nLnN0cnVjdHMuU2V0KG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbHRlcihwYXJhbU5hbWVzV2l0aE9wdFByZWZpeCwgZnVuY3Rpb24ocGFyYW0pIHtcbiAgICByZXR1cm4gIWdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgocGFyYW0sIFwib3B0X1wiKTtcbiAgfSkpKS5kaWZmZXJlbmNlKHByb3ZpZGVkKTtcbiAgaWYgKDAgIT09IG1pc3Npbmcuc2l6ZSkge1xuICAgIHRocm93IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudHNcIiArIGZuTmFtZVNuaXBwZXQgKyBcIjogXCIgKyBBcnJheS5mcm9tKG1pc3NpbmcudmFsdWVzKCkpLmpvaW4oXCIsIFwiKSk7XG4gIH1cbiAgcmV0dXJuIGFyZ3M7XG59O1xuZWUuYXJndW1lbnRzLmdldFBhcmFtTmFtZXNfID0gZnVuY3Rpb24oZm4sIHBhcmFtZXRlck1hdGNoZXIpIHtcbiAgdmFyIHBhcmFtTmFtZXMgPSBbXTtcbiAgaWYgKGdvb2cuZ2xvYmFsLkVYUE9SVEVEX0ZOX0lORk8pIHtcbiAgICB2YXIgZXhwb3J0ZWRGbkluZm8gPSBnb29nLmdsb2JhbC5FWFBPUlRFRF9GTl9JTkZPW2ZuLnRvU3RyaW5nKCldO1xuICAgIGdvb2cuaXNPYmplY3QoZXhwb3J0ZWRGbkluZm8pIHx8IGVlLmFyZ3VtZW50cy50aHJvd01hdGNoRmFpbGVkRXJyb3JfKCk7XG4gICAgcGFyYW1OYW1lcyA9IGV4cG9ydGVkRm5JbmZvLnBhcmFtTmFtZXM7XG4gICAgQXJyYXkuaXNBcnJheShwYXJhbU5hbWVzKSB8fCBlZS5hcmd1bWVudHMudGhyb3dNYXRjaEZhaWxlZEVycm9yXygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBmbk1hdGNoUmVzdWx0ID0gZm4udG9TdHJpbmcoKS5yZXBsYWNlKGVlLmFyZ3VtZW50cy5KU19DT01NRU5UX01BVENIRVJfLCBcIlwiKS5tYXRjaChwYXJhbWV0ZXJNYXRjaGVyKTtcbiAgICBudWxsID09PSBmbk1hdGNoUmVzdWx0ICYmIGVlLmFyZ3VtZW50cy50aHJvd01hdGNoRmFpbGVkRXJyb3JfKCk7XG4gICAgcGFyYW1OYW1lcyA9IChmbk1hdGNoUmVzdWx0WzFdLnNwbGl0KFwiLFwiKSB8fCBbXSkubWFwKGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBwLnJlcGxhY2UoZWUuYXJndW1lbnRzLkpTX1BBUkFNX0RFRkFVTFRfTUFUQ0hFUl8sIFwiXCIpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXJhbU5hbWVzO1xufTtcbmVlLmFyZ3VtZW50cy5nZXRGbk5hbWVfID0gZnVuY3Rpb24oZm4pIHtcbiAgcmV0dXJuIGdvb2cuZ2xvYmFsLkVYUE9SVEVEX0ZOX0lORk8gPyBnb29nLmdsb2JhbC5FWFBPUlRFRF9GTl9JTkZPW2ZuLnRvU3RyaW5nKCldLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpICsgXCIoKVwiIDogbnVsbDtcbn07XG5lZS5hcmd1bWVudHMudGhyb3dNYXRjaEZhaWxlZEVycm9yXyA9IGZ1bmN0aW9uKCkge1xuICB0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBsb2NhdGUgZnVuY3Rpb24gcGFyYW1ldGVycy5cIik7XG59O1xuZWUuYXJndW1lbnRzLkpTX0NPTU1FTlRfTUFUQ0hFUl8gPSAvKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKXwoXFxzKSkvbWc7XG5lZS5hcmd1bWVudHMuSlNfUEFSQU1fREVDTF9NQVRDSEVSX0ZVTkNUSU9OXyA9IC9eZnVuY3Rpb25bXlxcKF0qXFwoKFteXFwpXSopXFwpL207XG5lZS5hcmd1bWVudHMuSlNfUEFSQU1fREVDTF9NQVRDSEVSX0NMQVNTX0NPTlNUUlVDVE9SXyA9IC9eY2xhc3NbXlxce10qe1xcUyo/XFxiY29uc3RydWN0b3JcXCgoW15cXCldKilcXCkvbTtcbmVlLmFyZ3VtZW50cy5KU19QQVJBTV9ERUNMX01BVENIRVJfQ0xBU1NfTUVUSE9EXyA9IC9bXlxcKF0qXFwoKFteXFwpXSopXFwpL207XG5lZS5hcmd1bWVudHMuSlNfUEFSQU1fREVGQVVMVF9NQVRDSEVSXyA9IC89LiokLztcbmVlLkVsZW1lbnQgPSBmdW5jdGlvbihmdW5jLCBhcmdzLCBvcHRfdmFyTmFtZSkge1xuICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIGZ1bmMsIGFyZ3MsIG9wdF92YXJOYW1lKTtcbiAgZWUuRWxlbWVudC5pbml0aWFsaXplKCk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5FbGVtZW50LCBlZS5Db21wdXRlZE9iamVjdCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkVsZW1lbnRcIiwgZWUuRWxlbWVudCk7XG5lZS5FbGVtZW50LmluaXRpYWxpemVkXyA9ICExO1xuZWUuRWxlbWVudC5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLkVsZW1lbnQuaW5pdGlhbGl6ZWRfIHx8IChlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuRWxlbWVudCwgXCJFbGVtZW50XCIsIFwiRWxlbWVudFwiKSwgZWUuRWxlbWVudC5pbml0aWFsaXplZF8gPSAhMCk7XG59O1xuZWUuRWxlbWVudC5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5FbGVtZW50KTtcbiAgZWUuRWxlbWVudC5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5lZS5FbGVtZW50LnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkVsZW1lbnRcIjtcbn07XG5lZS5FbGVtZW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICBpZiAoMSA+PSBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBhcmd1bWVudHNbMF07XG4gICAgZWUuVHlwZXMuaXNSZWd1bGFyT2JqZWN0KHByb3BlcnRpZXMpICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2VxdWFscyhtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyhwcm9wZXJ0aWVzKSwgW1wicHJvcGVydGllc1wiXSkgJiYgZ29vZy5pc09iamVjdChwcm9wZXJ0aWVzLnByb3BlcnRpZXMpICYmIChwcm9wZXJ0aWVzID0gcHJvcGVydGllcy5wcm9wZXJ0aWVzKTtcbiAgICBpZiAoZWUuVHlwZXMuaXNSZWd1bGFyT2JqZWN0KHByb3BlcnRpZXMpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgcmVzdWx0ID0gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJFbGVtZW50LnNldFwiLCByZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcGVydGllcyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0ICYmIGVlLkFwaUZ1bmN0aW9uLmxvb2t1cEludGVybmFsKFwiRWxlbWVudC5zZXRNdWx0aVwiKSkge1xuICAgICAgICByZXN1bHQgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkVsZW1lbnQuc2V0TXVsdGlcIiwgdGhpcywgcHJvcGVydGllcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIldoZW4gRWxlbWVudC5zZXQoKSBpcyBwYXNzZWQgb25lIGFyZ3VtZW50LCBpdCBtdXN0IGJlIGEgZGljdGlvbmFyeS5cIik7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICgwICE9IGFyZ3VtZW50cy5sZW5ndGggJSAyKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIldoZW4gRWxlbWVudC5zZXQoKSBpcyBwYXNzZWQgbXVsdGlwbGUgYXJndW1lbnRzLCB0aGVyZSBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIHRoZW0uXCIpO1xuICAgIH1cbiAgICByZXN1bHQgPSB0aGlzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBrZXkgPSBhcmd1bWVudHNbaV0sIHZhbHVlID0gYXJndW1lbnRzW2kgKyAxXSwgcmVzdWx0ID0gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJFbGVtZW50LnNldFwiLCByZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcy5jYXN0SW50ZXJuYWwocmVzdWx0KTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkVsZW1lbnQucHJvdG90eXBlLCBcInNldFwiLCBlZS5FbGVtZW50LnByb3RvdHlwZS5zZXQpO1xuZWUuR2VvbWV0cnkgPSBmdW5jdGlvbihnZW9Kc29uLCBvcHRfcHJvaiwgb3B0X2dlb2Rlc2ljLCBvcHRfZXZlbk9kZCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkpKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5HZW9tZXRyeSwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAoIShcInR5cGVcIiBpbiBnZW9Kc29uKSkge1xuICAgIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuR2VvbWV0cnksIGFyZ3VtZW50cyk7XG4gICAgZ2VvSnNvbiA9IGFyZ3MuZ2VvSnNvbjtcbiAgICBvcHRfcHJvaiA9IGFyZ3MucHJvajtcbiAgICBvcHRfZ2VvZGVzaWMgPSBhcmdzLmdlb2Rlc2ljO1xuICAgIG9wdF9ldmVuT2RkID0gYXJncy5ldmVuT2RkO1xuICB9XG4gIGVlLkdlb21ldHJ5LmluaXRpYWxpemUoKTtcbiAgdmFyIG9wdGlvbnMgPSBudWxsICE9IG9wdF9wcm9qIHx8IG51bGwgIT0gb3B0X2dlb2Rlc2ljIHx8IG51bGwgIT0gb3B0X2V2ZW5PZGQ7XG4gIGlmIChnZW9Kc29uIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QgJiYgIShnZW9Kc29uIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkgJiYgZ2VvSnNvbi50eXBlXykpIHtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgdGhyb3cgRXJyb3IoXCJTZXR0aW5nIHRoZSBDUlMsIGdlb2Rlc2ljLCBvciBldmVuT2RkIGZsYWcgb24gYSBjb21wdXRlZCBHZW9tZXRyeSBpcyBub3Qgc3VwcG9ydGVkLiAgVXNlIEdlb21ldHJ5LnRyYW5zZm9ybSgpLlwiKTtcbiAgICB9XG4gICAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBnZW9Kc29uLmZ1bmMsIGdlb0pzb24uYXJncywgZ2VvSnNvbi52YXJOYW1lKTtcbiAgfSBlbHNlIHtcbiAgICBnZW9Kc29uIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkgJiYgKGdlb0pzb24gPSBnZW9Kc29uLmVuY29kZSgpKTtcbiAgICBpZiAoIWVlLkdlb21ldHJ5LmlzVmFsaWRHZW9tZXRyeV8oZ2VvSnNvbikpIHtcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBHZW9KU09OIGdlb21ldHJ5OiBcIiArIEpTT04uc3RyaW5naWZ5KGdlb0pzb24pKTtcbiAgICB9XG4gICAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBudWxsLCBudWxsKTtcbiAgICB0aGlzLnR5cGVfID0gZ2VvSnNvbi50eXBlO1xuICAgIHRoaXMuY29vcmRpbmF0ZXNfID0gbnVsbCAhPSBnZW9Kc29uLmNvb3JkaW5hdGVzID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3Vuc2FmZUNsb25lKGdlb0pzb24uY29vcmRpbmF0ZXMpIDogbnVsbDtcbiAgICB0aGlzLmdlb21ldHJpZXNfID0gZ2VvSnNvbi5nZW9tZXRyaWVzIHx8IG51bGw7XG4gICAgaWYgKG51bGwgIT0gb3B0X3Byb2opIHtcbiAgICAgIHRoaXMucHJval8gPSBvcHRfcHJvajtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFwiY3JzXCIgaW4gZ2VvSnNvbikge1xuICAgICAgICBpZiAoZ29vZy5pc09iamVjdChnZW9Kc29uLmNycykgJiYgXCJuYW1lXCIgPT0gZ2VvSnNvbi5jcnMudHlwZSAmJiBnb29nLmlzT2JqZWN0KGdlb0pzb24uY3JzLnByb3BlcnRpZXMpICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBnZW9Kc29uLmNycy5wcm9wZXJ0aWVzLm5hbWUpIHtcbiAgICAgICAgICB0aGlzLnByb2pfID0gZ2VvSnNvbi5jcnMucHJvcGVydGllcy5uYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBDUlMgZGVjbGFyYXRpb24gaW4gR2VvSlNPTjogXCIgKyAobmV3IGdvb2cuanNvbi5TZXJpYWxpemVyKCkpLnNlcmlhbGl6ZShnZW9Kc29uLmNycykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZ2VvZGVzaWNfID0gb3B0X2dlb2Rlc2ljO1xuICAgIHZvaWQgMCA9PT0gdGhpcy5nZW9kZXNpY18gJiYgXCJnZW9kZXNpY1wiIGluIGdlb0pzb24gJiYgKHRoaXMuZ2VvZGVzaWNfID0gISFnZW9Kc29uLmdlb2Rlc2ljKTtcbiAgICB0aGlzLmV2ZW5PZGRfID0gb3B0X2V2ZW5PZGQ7XG4gICAgdm9pZCAwID09PSB0aGlzLmV2ZW5PZGRfICYmIFwiZXZlbk9kZFwiIGluIGdlb0pzb24gJiYgKHRoaXMuZXZlbk9kZF8gPSAhIWdlb0pzb24uZXZlbk9kZCk7XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLkdlb21ldHJ5LCBlZS5Db21wdXRlZE9iamVjdCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkdlb21ldHJ5XCIsIGVlLkdlb21ldHJ5KTtcbmVlLkdlb21ldHJ5LmluaXRpYWxpemVkXyA9ICExO1xuZWUuR2VvbWV0cnkuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5HZW9tZXRyeS5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5HZW9tZXRyeSwgXCJHZW9tZXRyeVwiLCBcIkdlb21ldHJ5XCIpLCBlZS5HZW9tZXRyeS5pbml0aWFsaXplZF8gPSAhMCk7XG59O1xuZWUuR2VvbWV0cnkucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuR2VvbWV0cnkpO1xuICBlZS5HZW9tZXRyeS5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5lZS5HZW9tZXRyeS5Qb2ludCA9IGZ1bmN0aW9uKGNvb3Jkcywgb3B0X3Byb2opIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5LlBvaW50KSkge1xuICAgIHJldHVybiBlZS5HZW9tZXRyeS5jcmVhdGVJbnN0YW5jZV8oZWUuR2VvbWV0cnkuUG9pbnQsIGFyZ3VtZW50cyk7XG4gIH1cbiAgdmFyIGluaXQgPSBlZS5HZW9tZXRyeS5jb25zdHJ1Y3RfKGVlLkdlb21ldHJ5LlBvaW50LCBcIlBvaW50XCIsIDEsIGFyZ3VtZW50cyk7XG4gIGlmICghKGluaXQgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkpIHtcbiAgICB2YXIgeHkgPSBpbml0LmNvb3JkaW5hdGVzO1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh4eSkgfHwgMiAhPSB4eS5sZW5ndGgpIHtcbiAgICAgIHRocm93IEVycm9yKFwiVGhlIEdlb21ldHJ5LlBvaW50IGNvbnN0cnVjdG9yIHJlcXVpcmVzIDIgY29vcmRpbmF0ZXMuXCIpO1xuICAgIH1cbiAgfVxuICBlZS5HZW9tZXRyeS5jYWxsKHRoaXMsIGluaXQpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuR2VvbWV0cnkuUG9pbnQsIGVlLkdlb21ldHJ5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnksIFwiUG9pbnRcIiwgZWUuR2VvbWV0cnkuUG9pbnQpO1xuZWUuR2VvbWV0cnkuTXVsdGlQb2ludCA9IGZ1bmN0aW9uKGNvb3Jkcywgb3B0X3Byb2opIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5Lk11bHRpUG9pbnQpKSB7XG4gICAgcmV0dXJuIGVlLkdlb21ldHJ5LmNyZWF0ZUluc3RhbmNlXyhlZS5HZW9tZXRyeS5NdWx0aVBvaW50LCBhcmd1bWVudHMpO1xuICB9XG4gIGVlLkdlb21ldHJ5LmNhbGwodGhpcywgZWUuR2VvbWV0cnkuY29uc3RydWN0XyhlZS5HZW9tZXRyeS5NdWx0aVBvaW50LCBcIk11bHRpUG9pbnRcIiwgMiwgYXJndW1lbnRzKSk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5HZW9tZXRyeS5NdWx0aVBvaW50LCBlZS5HZW9tZXRyeSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LCBcIk11bHRpUG9pbnRcIiwgZWUuR2VvbWV0cnkuTXVsdGlQb2ludCk7XG5lZS5HZW9tZXRyeS5SZWN0YW5nbGUgPSBmdW5jdGlvbihjb29yZHMsIG9wdF9wcm9qLCBvcHRfZ2VvZGVzaWMsIG9wdF9ldmVuT2RkKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5SZWN0YW5nbGUpKSB7XG4gICAgcmV0dXJuIGVlLkdlb21ldHJ5LmNyZWF0ZUluc3RhbmNlXyhlZS5HZW9tZXRyeS5SZWN0YW5nbGUsIGFyZ3VtZW50cyk7XG4gIH1cbiAgdmFyIGluaXQgPSBlZS5HZW9tZXRyeS5jb25zdHJ1Y3RfKGVlLkdlb21ldHJ5LlJlY3RhbmdsZSwgXCJSZWN0YW5nbGVcIiwgMiwgYXJndW1lbnRzKTtcbiAgaWYgKCEoaW5pdCBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSkge1xuICAgIHZhciB4eSA9IGluaXQuY29vcmRpbmF0ZXM7XG4gICAgaWYgKDIgIT0geHkubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlRoZSBHZW9tZXRyeS5SZWN0YW5nbGUgY29uc3RydWN0b3IgcmVxdWlyZXMgMiBwb2ludHMgb3IgNCBjb29yZGluYXRlcy5cIik7XG4gICAgfVxuICAgIHZhciB4MSA9IHh5WzBdWzBdLCB5MSA9IHh5WzBdWzFdLCB4MiA9IHh5WzFdWzBdLCB5MiA9IHh5WzFdWzFdO1xuICAgIGluaXQuY29vcmRpbmF0ZXMgPSBbW1t4MSwgeTJdLCBbeDEsIHkxXSwgW3gyLCB5MV0sIFt4MiwgeTJdXV07XG4gICAgaW5pdC50eXBlID0gXCJQb2x5Z29uXCI7XG4gIH1cbiAgZWUuR2VvbWV0cnkuY2FsbCh0aGlzLCBpbml0KTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkdlb21ldHJ5LlJlY3RhbmdsZSwgZWUuR2VvbWV0cnkpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeSwgXCJSZWN0YW5nbGVcIiwgZWUuR2VvbWV0cnkuUmVjdGFuZ2xlKTtcbmVlLkdlb21ldHJ5LkJCb3ggPSBmdW5jdGlvbih3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGgpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5LkJCb3gpKSB7XG4gICAgcmV0dXJuIGVlLkdlb21ldHJ5LmNyZWF0ZUluc3RhbmNlXyhlZS5HZW9tZXRyeS5CQm94LCBhcmd1bWVudHMpO1xuICB9XG4gIHZhciBjb29yZGluYXRlcyA9IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdO1xuICBpZiAoZWUuR2VvbWV0cnkuaGFzU2VydmVyVmFsdWVfKGNvb3JkaW5hdGVzKSkge1xuICAgIHJldHVybiAobmV3IGVlLkFwaUZ1bmN0aW9uKFwiR2VvbWV0cnlDb25zdHJ1Y3RvcnMuQkJveFwiKSkuYXBwbHkoY29vcmRpbmF0ZXMpO1xuICB9XG4gIGlmICghKEluZmluaXR5ID4gd2VzdCkpIHtcbiAgICB0aHJvdyBFcnJvcihcIkdlb21ldHJ5LkJCb3g6IHdlc3QgbXVzdCBub3QgYmUgXCIgKyB3ZXN0KTtcbiAgfVxuICBpZiAoISgtSW5maW5pdHkgPCBlYXN0KSkge1xuICAgIHRocm93IEVycm9yKFwiR2VvbWV0cnkuQkJveDogZWFzdCBtdXN0IG5vdCBiZSBcIiArIGVhc3QpO1xuICB9XG4gIGlmICghKDkwID49IHNvdXRoKSkge1xuICAgIHRocm93IEVycm9yKFwiR2VvbWV0cnkuQkJveDogc291dGggbXVzdCBiZSBhdCBtb3N0ICs5MFxcdTAwYjAsIGJ1dCB3YXMgXCIgKyBzb3V0aCArIFwiXFx1MDBiMFwiKTtcbiAgfVxuICBpZiAoISgtOTAgPD0gbm9ydGgpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJHZW9tZXRyeS5CQm94OiBub3J0aCBtdXN0IGJlIGF0IGxlYXN0IC05MFxcdTAwYjAsIGJ1dCB3YXMgXCIgKyBub3J0aCArIFwiXFx1MDBiMFwiKTtcbiAgfVxuICBzb3V0aCA9IE1hdGgubWF4KHNvdXRoLCAtOTApO1xuICBub3J0aCA9IE1hdGgubWluKG5vcnRoLCA5MCk7XG4gIDM2MCA8PSBlYXN0IC0gd2VzdCA/ICh3ZXN0ID0gLTE4MCwgZWFzdCA9IDE4MCkgOiAod2VzdCA9IGVlLkdlb21ldHJ5LmNhbm9uaWNhbGl6ZUxvbmdpdHVkZV8od2VzdCksIGVhc3QgPSBlZS5HZW9tZXRyeS5jYW5vbmljYWxpemVMb25naXR1ZGVfKGVhc3QpLCBlYXN0IDwgd2VzdCAmJiAoZWFzdCArPSAzNjApKTtcbiAgZWUuR2VvbWV0cnkuY2FsbCh0aGlzLCB7dHlwZTpcIlBvbHlnb25cIiwgY29vcmRpbmF0ZXM6W1tbd2VzdCwgbm9ydGhdLCBbd2VzdCwgc291dGhdLCBbZWFzdCwgc291dGhdLCBbZWFzdCwgbm9ydGhdXV0sfSwgdm9pZCAwLCAhMSwgITApO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuR2VvbWV0cnkuQkJveCwgZWUuR2VvbWV0cnkuUmVjdGFuZ2xlKTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnksIFwiQkJveFwiLCBlZS5HZW9tZXRyeS5CQm94KTtcbmVlLkdlb21ldHJ5LmNhbm9uaWNhbGl6ZUxvbmdpdHVkZV8gPSBmdW5jdGlvbihsb25naXR1ZGUpIHtcbiAgbG9uZ2l0dWRlICU9IDM2MDtcbiAgMTgwIDwgbG9uZ2l0dWRlID8gbG9uZ2l0dWRlIC09IDM2MCA6IC0xODAgPiBsb25naXR1ZGUgJiYgKGxvbmdpdHVkZSArPSAzNjApO1xuICByZXR1cm4gbG9uZ2l0dWRlO1xufTtcbmVlLkdlb21ldHJ5LkxpbmVTdHJpbmcgPSBmdW5jdGlvbihjb29yZHMsIG9wdF9wcm9qLCBvcHRfZ2VvZGVzaWMsIG9wdF9tYXhFcnJvcikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkuTGluZVN0cmluZykpIHtcbiAgICByZXR1cm4gZWUuR2VvbWV0cnkuY3JlYXRlSW5zdGFuY2VfKGVlLkdlb21ldHJ5LkxpbmVTdHJpbmcsIGFyZ3VtZW50cyk7XG4gIH1cbiAgZWUuR2VvbWV0cnkuY2FsbCh0aGlzLCBlZS5HZW9tZXRyeS5jb25zdHJ1Y3RfKGVlLkdlb21ldHJ5LkxpbmVTdHJpbmcsIFwiTGluZVN0cmluZ1wiLCAyLCBhcmd1bWVudHMpKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkdlb21ldHJ5LkxpbmVTdHJpbmcsIGVlLkdlb21ldHJ5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnksIFwiTGluZVN0cmluZ1wiLCBlZS5HZW9tZXRyeS5MaW5lU3RyaW5nKTtcbmVlLkdlb21ldHJ5LkxpbmVhclJpbmcgPSBmdW5jdGlvbihjb29yZHMsIG9wdF9wcm9qLCBvcHRfZ2VvZGVzaWMsIG9wdF9tYXhFcnJvcikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkuTGluZWFyUmluZykpIHtcbiAgICByZXR1cm4gZWUuR2VvbWV0cnkuY3JlYXRlSW5zdGFuY2VfKGVlLkdlb21ldHJ5LkxpbmVhclJpbmcsIGFyZ3VtZW50cyk7XG4gIH1cbiAgZWUuR2VvbWV0cnkuY2FsbCh0aGlzLCBlZS5HZW9tZXRyeS5jb25zdHJ1Y3RfKGVlLkdlb21ldHJ5LkxpbmVhclJpbmcsIFwiTGluZWFyUmluZ1wiLCAyLCBhcmd1bWVudHMpKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkdlb21ldHJ5LkxpbmVhclJpbmcsIGVlLkdlb21ldHJ5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnksIFwiTGluZWFyUmluZ1wiLCBlZS5HZW9tZXRyeS5MaW5lYXJSaW5nKTtcbmVlLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyA9IGZ1bmN0aW9uKGNvb3Jkcywgb3B0X3Byb2osIG9wdF9nZW9kZXNpYywgb3B0X21heEVycm9yKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcpKSB7XG4gICAgcmV0dXJuIGVlLkdlb21ldHJ5LmNyZWF0ZUluc3RhbmNlXyhlZS5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcsIGFyZ3VtZW50cyk7XG4gIH1cbiAgZWUuR2VvbWV0cnkuY2FsbCh0aGlzLCBlZS5HZW9tZXRyeS5jb25zdHJ1Y3RfKGVlLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZywgXCJNdWx0aUxpbmVTdHJpbmdcIiwgMywgYXJndW1lbnRzKSk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcsIGVlLkdlb21ldHJ5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnksIFwiTXVsdGlMaW5lU3RyaW5nXCIsIGVlLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyk7XG5lZS5HZW9tZXRyeS5Qb2x5Z29uID0gZnVuY3Rpb24oY29vcmRzLCBvcHRfcHJvaiwgb3B0X2dlb2Rlc2ljLCBvcHRfbWF4RXJyb3IsIG9wdF9ldmVuT2RkKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5Qb2x5Z29uKSkge1xuICAgIHJldHVybiBlZS5HZW9tZXRyeS5jcmVhdGVJbnN0YW5jZV8oZWUuR2VvbWV0cnkuUG9seWdvbiwgYXJndW1lbnRzKTtcbiAgfVxuICBlZS5HZW9tZXRyeS5jYWxsKHRoaXMsIGVlLkdlb21ldHJ5LmNvbnN0cnVjdF8oZWUuR2VvbWV0cnkuUG9seWdvbiwgXCJQb2x5Z29uXCIsIDMsIGFyZ3VtZW50cykpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuR2VvbWV0cnkuUG9seWdvbiwgZWUuR2VvbWV0cnkpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeSwgXCJQb2x5Z29uXCIsIGVlLkdlb21ldHJ5LlBvbHlnb24pO1xuZWUuR2VvbWV0cnkuTXVsdGlQb2x5Z29uID0gZnVuY3Rpb24oY29vcmRzLCBvcHRfcHJvaiwgb3B0X2dlb2Rlc2ljLCBvcHRfbWF4RXJyb3IsIG9wdF9ldmVuT2RkKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5NdWx0aVBvbHlnb24pKSB7XG4gICAgcmV0dXJuIGVlLkdlb21ldHJ5LmNyZWF0ZUluc3RhbmNlXyhlZS5HZW9tZXRyeS5NdWx0aVBvbHlnb24sIGFyZ3VtZW50cyk7XG4gIH1cbiAgZWUuR2VvbWV0cnkuY2FsbCh0aGlzLCBlZS5HZW9tZXRyeS5jb25zdHJ1Y3RfKGVlLkdlb21ldHJ5Lk11bHRpUG9seWdvbiwgXCJNdWx0aVBvbHlnb25cIiwgNCwgYXJndW1lbnRzKSk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5HZW9tZXRyeS5NdWx0aVBvbHlnb24sIGVlLkdlb21ldHJ5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnksIFwiTXVsdGlQb2x5Z29uXCIsIGVlLkdlb21ldHJ5Lk11bHRpUG9seWdvbik7XG5lZS5HZW9tZXRyeS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24ob3B0X2VuY29kZXIpIHtcbiAgaWYgKCF0aGlzLnR5cGVfKSB7XG4gICAgaWYgKCFvcHRfZW5jb2Rlcikge1xuICAgICAgdGhyb3cgRXJyb3IoXCJNdXN0IHNwZWNpZnkgYW4gZW5jb2RlIGZ1bmN0aW9uIHdoZW4gZW5jb2RpbmcgYSBjb21wdXRlZCBnZW9tZXRyeS5cIik7XG4gICAgfVxuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZW5jb2RlLmNhbGwodGhpcywgb3B0X2VuY29kZXIpO1xuICB9XG4gIHZhciByZXN1bHQgPSB7dHlwZTp0aGlzLnR5cGVffTtcbiAgXCJHZW9tZXRyeUNvbGxlY3Rpb25cIiA9PSB0aGlzLnR5cGVfID8gcmVzdWx0Lmdlb21ldHJpZXMgPSB0aGlzLmdlb21ldHJpZXNfIDogcmVzdWx0LmNvb3JkaW5hdGVzID0gdGhpcy5jb29yZGluYXRlc187XG4gIG51bGwgIT0gdGhpcy5wcm9qXyAmJiAocmVzdWx0LmNycyA9IHt0eXBlOlwibmFtZVwiLCBwcm9wZXJ0aWVzOntuYW1lOnRoaXMucHJval99fSk7XG4gIG51bGwgIT0gdGhpcy5nZW9kZXNpY18gJiYgKHJlc3VsdC5nZW9kZXNpYyA9IHRoaXMuZ2VvZGVzaWNfKTtcbiAgbnVsbCAhPSB0aGlzLmV2ZW5PZGRfICYmIChyZXN1bHQuZXZlbk9kZCA9IHRoaXMuZXZlbk9kZF8pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLkdlb21ldHJ5LnByb3RvdHlwZS50b0dlb0pTT04gPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuZnVuYykge1xuICAgIHRocm93IEVycm9yKFwiQ2FuJ3QgY29udmVydCBhIGNvbXB1dGVkIEdlb21ldHJ5IHRvIEdlb0pTT04uIFVzZSBldmFsdWF0ZSgpIGluc3RlYWQuXCIpO1xuICB9XG4gIHJldHVybiB0aGlzLmVuY29kZSgpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnkucHJvdG90eXBlLCBcInRvR2VvSlNPTlwiLCBlZS5HZW9tZXRyeS5wcm90b3R5cGUudG9HZW9KU09OKTtcbmVlLkdlb21ldHJ5LnByb3RvdHlwZS50b0dlb0pTT05TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuZnVuYykge1xuICAgIHRocm93IEVycm9yKFwiQ2FuJ3QgY29udmVydCBhIGNvbXB1dGVkIEdlb21ldHJ5IHRvIEdlb0pTT04uIFVzZSBldmFsdWF0ZSgpIGluc3RlYWQuXCIpO1xuICB9XG4gIHJldHVybiAobmV3IGdvb2cuanNvbi5TZXJpYWxpemVyKCkpLnNlcmlhbGl6ZSh0aGlzLnRvR2VvSlNPTigpKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LnByb3RvdHlwZSwgXCJ0b0dlb0pTT05TdHJpbmdcIiwgZWUuR2VvbWV0cnkucHJvdG90eXBlLnRvR2VvSlNPTlN0cmluZyk7XG5lZS5HZW9tZXRyeS5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24obGVnYWN5KSB7XG4gIHJldHVybiAodm9pZCAwID09PSBsZWdhY3kgPyAwIDogbGVnYWN5KSA/IGVlLlNlcmlhbGl6ZXIudG9KU09OKHRoaXMpIDogZWUuU2VyaWFsaXplci50b0Nsb3VkQXBpSlNPTih0aGlzKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LnByb3RvdHlwZSwgXCJzZXJpYWxpemVcIiwgZWUuR2VvbWV0cnkucHJvdG90eXBlLnNlcmlhbGl6ZSk7XG5lZS5HZW9tZXRyeS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiZWUuR2VvbWV0cnkoXCIgKyB0aGlzLnRvR2VvSlNPTlN0cmluZygpICsgXCIpXCI7XG59O1xuZWUuR2VvbWV0cnkucHJvdG90eXBlLmVuY29kZUNsb3VkVmFsdWUgPSBmdW5jdGlvbihzZXJpYWxpemVyKSB7XG4gIGlmICghdGhpcy50eXBlXykge1xuICAgIGlmICghc2VyaWFsaXplcikge1xuICAgICAgdGhyb3cgRXJyb3IoXCJNdXN0IHNwZWNpZnkgYSBzZXJpYWxpemVyIHdoZW4gZW5jb2RpbmcgYSBjb21wdXRlZCBnZW9tZXRyeS5cIik7XG4gICAgfVxuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZW5jb2RlQ2xvdWRWYWx1ZS5jYWxsKHRoaXMsIHNlcmlhbGl6ZXIpO1xuICB9XG4gIHZhciBhcmdzID0ge30sIGZ1bmMgPSBcIlwiO1xuICBcIkdlb21ldHJ5Q29sbGVjdGlvblwiID09PSB0aGlzLnR5cGVfID8gKGFyZ3MuZ2VvbWV0cmllcyA9IHRoaXMuZ2VvbWV0cmllc18ubWFwKGZ1bmN0aW9uKGdlb21ldHJ5KSB7XG4gICAgcmV0dXJuIG5ldyBlZS5HZW9tZXRyeShnZW9tZXRyeSk7XG4gIH0pLCBmdW5jID0gXCJHZW9tZXRyeUNvbnN0cnVjdG9ycy5NdWx0aUdlb21ldHJ5XCIpIDogKGFyZ3MuY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzXywgZnVuYyA9IFwiR2VvbWV0cnlDb25zdHJ1Y3RvcnMuXCIgKyB0aGlzLnR5cGVfKTtcbiAgbnVsbCAhPSB0aGlzLnByb2pfICYmIChhcmdzLmNycyA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGlzLnByb2pfID8gKG5ldyBlZS5BcGlGdW5jdGlvbihcIlByb2plY3Rpb25cIikpLmNhbGwodGhpcy5wcm9qXykgOiB0aGlzLnByb2pfKTtcbiAgdmFyIGFjY2VwdHNHZW9kZXNpY0FyZyA9IFwiUG9pbnRcIiAhPT0gdGhpcy50eXBlXyAmJiBcIk11bHRpUG9pbnRcIiAhPT0gdGhpcy50eXBlXztcbiAgbnVsbCAhPSB0aGlzLmdlb2Rlc2ljXyAmJiBhY2NlcHRzR2VvZGVzaWNBcmcgJiYgKGFyZ3MuZ2VvZGVzaWMgPSB0aGlzLmdlb2Rlc2ljXyk7XG4gIG51bGwgIT0gdGhpcy5ldmVuT2RkXyAmJiAoYXJncy5ldmVuT2RkID0gdGhpcy5ldmVuT2RkXyk7XG4gIHJldHVybiAobmV3IGVlLkFwaUZ1bmN0aW9uKGZ1bmMpKS5hcHBseShhcmdzKS5lbmNvZGVDbG91ZFZhbHVlKHNlcmlhbGl6ZXIpO1xufTtcbmVlLkdlb21ldHJ5LmlzVmFsaWRHZW9tZXRyeV8gPSBmdW5jdGlvbihnZW9tZXRyeSkge1xuICB2YXIgdHlwZSA9IGdlb21ldHJ5LnR5cGU7XG4gIGlmIChcIkdlb21ldHJ5Q29sbGVjdGlvblwiID09IHR5cGUpIHtcbiAgICB2YXIgZ2VvbWV0cmllcyA9IGdlb21ldHJ5Lmdlb21ldHJpZXM7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGdlb21ldHJpZXMpKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFlZS5HZW9tZXRyeS5pc1ZhbGlkR2VvbWV0cnlfKGdlb21ldHJpZXNbaV0pKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIHZhciBjb29yZHMgPSBnZW9tZXRyeS5jb29yZGluYXRlcywgbmVzdGluZyA9IGVlLkdlb21ldHJ5LmlzVmFsaWRDb29yZGluYXRlc18oY29vcmRzKTtcbiAgcmV0dXJuIFwiUG9pbnRcIiA9PSB0eXBlICYmIDEgPT0gbmVzdGluZyB8fCBcIk11bHRpUG9pbnRcIiA9PSB0eXBlICYmICgyID09IG5lc3RpbmcgfHwgMCA9PSBjb29yZHMubGVuZ3RoKSB8fCBcIkxpbmVTdHJpbmdcIiA9PSB0eXBlICYmIDIgPT0gbmVzdGluZyB8fCBcIkxpbmVhclJpbmdcIiA9PSB0eXBlICYmIDIgPT0gbmVzdGluZyB8fCBcIk11bHRpTGluZVN0cmluZ1wiID09IHR5cGUgJiYgKDMgPT0gbmVzdGluZyB8fCAwID09IGNvb3Jkcy5sZW5ndGgpIHx8IFwiUG9seWdvblwiID09IHR5cGUgJiYgMyA9PSBuZXN0aW5nIHx8IFwiTXVsdGlQb2x5Z29uXCIgPT0gdHlwZSAmJiAoNCA9PSBuZXN0aW5nIHx8IDAgPT0gY29vcmRzLmxlbmd0aCk7XG59O1xuZWUuR2VvbWV0cnkuaXNWYWxpZENvb3JkaW5hdGVzXyA9IGZ1bmN0aW9uKHNoYXBlKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShzaGFwZSkpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoc2hhcGVbMF0pKSB7XG4gICAgZm9yICh2YXIgY291bnQgPSBlZS5HZW9tZXRyeS5pc1ZhbGlkQ29vcmRpbmF0ZXNfKHNoYXBlWzBdKSwgaSA9IDE7IGkgPCBzaGFwZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGVlLkdlb21ldHJ5LmlzVmFsaWRDb29yZGluYXRlc18oc2hhcGVbaV0pICE9IGNvdW50KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdW50ICsgMTtcbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwgc2hhcGUubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoXCJudW1iZXJcIiAhPT0gdHlwZW9mIHNoYXBlW2ldKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiAwID09IHNoYXBlLmxlbmd0aCAlIDIgPyAxIDogLTE7XG59O1xuZWUuR2VvbWV0cnkuY29vcmRpbmF0ZXNUb0xpbmVfID0gZnVuY3Rpb24oY29vcmRpbmF0ZXMpIHtcbiAgaWYgKFwibnVtYmVyXCIgIT09IHR5cGVvZiBjb29yZGluYXRlc1swXSB8fCAyID09IGNvb3JkaW5hdGVzLmxlbmd0aCkge1xuICAgIHJldHVybiBjb29yZGluYXRlcztcbiAgfVxuICBpZiAoMCAhPSBjb29yZGluYXRlcy5sZW5ndGggJSAyKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIG51bWJlciBvZiBjb29yZGluYXRlczogXCIgKyBjb29yZGluYXRlcy5sZW5ndGgpO1xuICB9XG4gIGZvciAodmFyIGxpbmUgPSBbXSwgaSA9IDA7IGkgPCBjb29yZGluYXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIGxpbmUucHVzaChbY29vcmRpbmF0ZXNbaV0sIGNvb3JkaW5hdGVzW2kgKyAxXV0pO1xuICB9XG4gIHJldHVybiBsaW5lO1xufTtcbmVlLkdlb21ldHJ5LmNvbnN0cnVjdF8gPSBmdW5jdGlvbihqc0NvbnN0cnVjdG9yRm4sIGFwaUNvbnN0cnVjdG9yTmFtZSwgZGVwdGgsIG9yaWdpbmFsQXJncykge1xuICB2YXIgZWVBcmdzID0gZWUuR2VvbWV0cnkuZ2V0RWVBcGlBcmdzXyhqc0NvbnN0cnVjdG9yRm4sIG9yaWdpbmFsQXJncyk7XG4gIGlmIChlZS5HZW9tZXRyeS5oYXNTZXJ2ZXJWYWx1ZV8oZWVBcmdzLmNvb3JkaW5hdGVzKSB8fCBudWxsICE9IGVlQXJncy5jcnMgfHwgbnVsbCAhPSBlZUFyZ3MubWF4RXJyb3IpIHtcbiAgICByZXR1cm4gKG5ldyBlZS5BcGlGdW5jdGlvbihcIkdlb21ldHJ5Q29uc3RydWN0b3JzLlwiICsgYXBpQ29uc3RydWN0b3JOYW1lKSkuYXBwbHkoZWVBcmdzKTtcbiAgfVxuICBlZUFyZ3MudHlwZSA9IGFwaUNvbnN0cnVjdG9yTmFtZTtcbiAgZWVBcmdzLmNvb3JkaW5hdGVzID0gZWUuR2VvbWV0cnkuZml4RGVwdGhfKGRlcHRoLCBlZUFyZ3MuY29vcmRpbmF0ZXMpO1xuICB2YXIgaXNQb2x5Z29uID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnMoW1wiUG9seWdvblwiLCBcIlJlY3RhbmdsZVwiLCBcIk11bHRpUG9seWdvblwiXSwgYXBpQ29uc3RydWN0b3JOYW1lKTtcbiAgaXNQb2x5Z29uICYmIG51bGwgPT0gZWVBcmdzLmV2ZW5PZGQgJiYgKGVlQXJncy5ldmVuT2RkID0gITApO1xuICBpZiAoaXNQb2x5Z29uICYmICExID09PSBlZUFyZ3MuZ2VvZGVzaWMgJiYgITEgPT09IGVlQXJncy5ldmVuT2RkKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJQbGFuYXIgaW50ZXJpb3JzIG11c3QgYmUgZXZlbi9vZGQuXCIpO1xuICB9XG4gIHJldHVybiBlZUFyZ3M7XG59O1xuZWUuR2VvbWV0cnkuZ2V0RWVBcGlBcmdzXyA9IGZ1bmN0aW9uKGpzQ29uc3RydWN0b3JGbiwgb3JpZ2luYWxBcmdzKSB7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9ldmVyeShvcmlnaW5hbEFyZ3MsIGVlLlR5cGVzLmlzTnVtYmVyKSkge1xuICAgIHJldHVybiB7Y29vcmRpbmF0ZXM6bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9BcnJheShvcmlnaW5hbEFyZ3MpfTtcbiAgfVxuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGpzQ29uc3RydWN0b3JGbiwgb3JpZ2luYWxBcmdzKTtcbiAgYXJncy5jb29yZGluYXRlcyA9IGFyZ3MuY29vcmRzO1xuICBkZWxldGUgYXJncy5jb29yZHM7XG4gIGFyZ3MuY3JzID0gYXJncy5wcm9qO1xuICBkZWxldGUgYXJncy5wcm9qO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZpbHRlcihhcmdzLCBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIG51bGwgIT0geDtcbiAgfSk7XG59O1xuZWUuR2VvbWV0cnkuaGFzU2VydmVyVmFsdWVfID0gZnVuY3Rpb24oY29vcmRpbmF0ZXMpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoY29vcmRpbmF0ZXMpID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29tZShjb29yZGluYXRlcywgZWUuR2VvbWV0cnkuaGFzU2VydmVyVmFsdWVfKSA6IGNvb3JkaW5hdGVzIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3Q7XG59O1xuZWUuR2VvbWV0cnkuZml4RGVwdGhfID0gZnVuY3Rpb24oZGVwdGgsIGNvb3Jkcykge1xuICBpZiAoMSA+IGRlcHRoIHx8IDQgPCBkZXB0aCkge1xuICAgIHRocm93IEVycm9yKFwiVW5leHBlY3RlZCBuZXN0aW5nIGxldmVsLlwiKTtcbiAgfVxuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9ldmVyeShjb29yZHMsIGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gXCJudW1iZXJcIiA9PT0gdHlwZW9mIHg7XG4gIH0pICYmIChjb29yZHMgPSBlZS5HZW9tZXRyeS5jb29yZGluYXRlc1RvTGluZV8oY29vcmRzKSk7XG4gIGZvciAodmFyIGl0ZW0gPSBjb29yZHMsIGNvdW50ID0gMDsgQXJyYXkuaXNBcnJheShpdGVtKTspIHtcbiAgICBpdGVtID0gaXRlbVswXSwgY291bnQrKztcbiAgfVxuICBmb3IgKDsgY291bnQgPCBkZXB0aDspIHtcbiAgICBjb29yZHMgPSBbY29vcmRzXSwgY291bnQrKztcbiAgfVxuICBpZiAoZWUuR2VvbWV0cnkuaXNWYWxpZENvb3JkaW5hdGVzXyhjb29yZHMpICE9IGRlcHRoKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGdlb21ldHJ5XCIpO1xuICB9XG4gIGZvciAoaXRlbSA9IGNvb3JkczsgQXJyYXkuaXNBcnJheShpdGVtKSAmJiAxID09IGl0ZW0ubGVuZ3RoOykge1xuICAgIGl0ZW0gPSBpdGVtWzBdO1xuICB9XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGl0ZW0pICYmIDAgPT0gaXRlbS5sZW5ndGggPyBbXSA6IGNvb3Jkcztcbn07XG5lZS5HZW9tZXRyeS5jcmVhdGVJbnN0YW5jZV8gPSBmdW5jdGlvbihrbGFzcywgYXJncykge1xuICB2YXIgZiA9IGZ1bmN0aW9uKCkge1xuICB9O1xuICBmLnByb3RvdHlwZSA9IGtsYXNzLnByb3RvdHlwZTtcbiAgdmFyIGluc3RhbmNlID0gbmV3IGYoKSwgcmVzdWx0ID0ga2xhc3MuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xuICByZXR1cm4gdm9pZCAwICE9PSByZXN1bHQgPyByZXN1bHQgOiBpbnN0YW5jZTtcbn07XG5lZS5HZW9tZXRyeS5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJHZW9tZXRyeVwiO1xufTtcbmVlLkZpbHRlciA9IGZ1bmN0aW9uKG9wdF9maWx0ZXIpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkZpbHRlcikpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkZpbHRlciwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAob3B0X2ZpbHRlciBpbnN0YW5jZW9mIGVlLkZpbHRlcikge1xuICAgIHJldHVybiBvcHRfZmlsdGVyO1xuICB9XG4gIGVlLkZpbHRlci5pbml0aWFsaXplKCk7XG4gIGlmIChBcnJheS5pc0FycmF5KG9wdF9maWx0ZXIpKSB7XG4gICAgaWYgKDAgPT0gb3B0X2ZpbHRlci5sZW5ndGgpIHtcbiAgICAgIHRocm93IEVycm9yKFwiRW1wdHkgbGlzdCBzcGVjaWZpZWQgZm9yIGVlLkZpbHRlcigpLlwiKTtcbiAgICB9XG4gICAgaWYgKDEgPT0gb3B0X2ZpbHRlci5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBuZXcgZWUuRmlsdGVyKG9wdF9maWx0ZXJbMF0pO1xuICAgIH1cbiAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkZpbHRlci5hbmRcIiksIHtmaWx0ZXJzOm9wdF9maWx0ZXJ9KTtcbiAgICB0aGlzLmZpbHRlcl8gPSBvcHRfZmlsdGVyO1xuICB9IGVsc2Uge1xuICAgIGlmIChvcHRfZmlsdGVyIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgb3B0X2ZpbHRlci5mdW5jLCBvcHRfZmlsdGVyLmFyZ3MsIG9wdF9maWx0ZXIudmFyTmFtZSksIHRoaXMuZmlsdGVyXyA9IFtvcHRfZmlsdGVyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gb3B0X2ZpbHRlcikge1xuICAgICAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG51bGwsIG51bGwpLCB0aGlzLmZpbHRlcl8gPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBzcGVjaWZpZWQgZm9yIGVlLkZpbHRlcigpOiBcIiArIG9wdF9maWx0ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuRmlsdGVyLCBlZS5Db21wdXRlZE9iamVjdCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkZpbHRlclwiLCBlZS5GaWx0ZXIpO1xuZWUuRmlsdGVyLmluaXRpYWxpemVkXyA9ICExO1xuZWUuRmlsdGVyLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuRmlsdGVyLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkZpbHRlciwgXCJGaWx0ZXJcIiwgXCJGaWx0ZXJcIiksIGVlLkZpbHRlci5pbml0aWFsaXplZF8gPSAhMCk7XG59O1xuZWUuRmlsdGVyLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkZpbHRlcik7XG4gIGVlLkZpbHRlci5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5lZS5GaWx0ZXIuZnVuY3Rpb25OYW1lc18gPSB7ZXF1YWxzOlwiZXF1YWxzXCIsIGxlc3NfdGhhbjpcImxlc3NUaGFuXCIsIGdyZWF0ZXJfdGhhbjpcImdyZWF0ZXJUaGFuXCIsIGNvbnRhaW5zOlwic3RyaW5nQ29udGFpbnNcIiwgc3RhcnRzX3dpdGg6XCJzdHJpbmdTdGFydHNXaXRoXCIsIGVuZHNfd2l0aDpcInN0cmluZ0VuZHNXaXRoXCJ9O1xuZWUuRmlsdGVyLnByb3RvdHlwZS5hcHBlbmRfID0gZnVuY3Rpb24obmV3RmlsdGVyKSB7XG4gIHZhciBwcmV2ID0gdGhpcy5maWx0ZXJfLnNsaWNlKDApO1xuICBuZXdGaWx0ZXIgaW5zdGFuY2VvZiBlZS5GaWx0ZXIgPyBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9leHRlbmQocHJldiwgbmV3RmlsdGVyLmZpbHRlcl8pIDogbmV3RmlsdGVyIGluc3RhbmNlb2YgQXJyYXkgPyBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9leHRlbmQocHJldiwgbmV3RmlsdGVyKSA6IHByZXYucHVzaChuZXdGaWx0ZXIpO1xuICByZXR1cm4gbmV3IGVlLkZpbHRlcihwcmV2KTtcbn07XG5lZS5GaWx0ZXIucHJvdG90eXBlLm5vdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJGaWx0ZXIubm90XCIsIHRoaXMpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLnByb3RvdHlwZSwgXCJub3RcIiwgZWUuRmlsdGVyLnByb3RvdHlwZS5ub3QpO1xuZWUuRmlsdGVyLmVxID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GaWx0ZXIuZXEsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkZpbHRlci5lcXVhbHNcIiwgYXJncy5uYW1lLCBhcmdzLnZhbHVlKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJlcVwiLCBlZS5GaWx0ZXIuZXEpO1xuZWUuRmlsdGVyLm5lcSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmlsdGVyLm5lcSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkZpbHRlci5lcShhcmdzLm5hbWUsIGFyZ3MudmFsdWUpLm5vdCgpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcIm5lcVwiLCBlZS5GaWx0ZXIubmVxKTtcbmVlLkZpbHRlci5sdCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmlsdGVyLmx0LCBhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJGaWx0ZXIubGVzc1RoYW5cIiwgYXJncy5uYW1lLCBhcmdzLnZhbHVlKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJsdFwiLCBlZS5GaWx0ZXIubHQpO1xuZWUuRmlsdGVyLmd0ZSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmlsdGVyLmd0ZSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkZpbHRlci5sdChhcmdzLm5hbWUsIGFyZ3MudmFsdWUpLm5vdCgpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcImd0ZVwiLCBlZS5GaWx0ZXIuZ3RlKTtcbmVlLkZpbHRlci5ndCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmlsdGVyLmd0LCBhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJGaWx0ZXIuZ3JlYXRlclRoYW5cIiwgYXJncy5uYW1lLCBhcmdzLnZhbHVlKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJndFwiLCBlZS5GaWx0ZXIuZ3QpO1xuZWUuRmlsdGVyLmx0ZSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmlsdGVyLmx0ZSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkZpbHRlci5ndChhcmdzLm5hbWUsIGFyZ3MudmFsdWUpLm5vdCgpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcImx0ZVwiLCBlZS5GaWx0ZXIubHRlKTtcbmVlLkZpbHRlci5hbmQgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkZpbHRlci5hbmRcIiwgYXJncyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwiYW5kXCIsIGVlLkZpbHRlci5hbmQpO1xuZWUuRmlsdGVyLm9yID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJGaWx0ZXIub3JcIiwgYXJncyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwib3JcIiwgZWUuRmlsdGVyLm9yKTtcbmVlLkZpbHRlci5kYXRlID0gZnVuY3Rpb24oc3RhcnQsIG9wdF9lbmQpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GaWx0ZXIuZGF0ZSwgYXJndW1lbnRzKSwgcmFuZ2UgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkRhdGVSYW5nZVwiLCBhcmdzLnN0YXJ0LCBhcmdzLmVuZCk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJGaWx0ZXIuZGF0ZVJhbmdlQ29udGFpbnNcIiwge2xlZnRWYWx1ZTpyYW5nZSwgcmlnaHRGaWVsZDpcInN5c3RlbTp0aW1lX3N0YXJ0XCJ9KTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJkYXRlXCIsIGVlLkZpbHRlci5kYXRlKTtcbmVlLkZpbHRlci5pbkxpc3QgPSBmdW5jdGlvbihvcHRfbGVmdEZpZWxkLCBvcHRfcmlnaHRWYWx1ZSwgb3B0X3JpZ2h0RmllbGQsIG9wdF9sZWZ0VmFsdWUpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GaWx0ZXIuaW5MaXN0LCBhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiRmlsdGVyLmxpc3RDb250YWluc1wiLCB7bGVmdEZpZWxkOmFyZ3MucmlnaHRGaWVsZCwgcmlnaHRWYWx1ZTphcmdzLmxlZnRWYWx1ZSwgcmlnaHRGaWVsZDphcmdzLmxlZnRGaWVsZCwgbGVmdFZhbHVlOmFyZ3MucmlnaHRWYWx1ZX0pO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcImluTGlzdFwiLCBlZS5GaWx0ZXIuaW5MaXN0KTtcbmVlLkZpbHRlci5ib3VuZHMgPSBmdW5jdGlvbihnZW9tZXRyeSwgb3B0X2Vycm9yTWFyZ2luKSB7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJGaWx0ZXIuaW50ZXJzZWN0c1wiLCB7bGVmdEZpZWxkOlwiLmFsbFwiLCByaWdodFZhbHVlOmVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRmVhdHVyZVwiLCBnZW9tZXRyeSksIG1heEVycm9yOm9wdF9lcnJvck1hcmdpbn0pO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcImJvdW5kc1wiLCBlZS5GaWx0ZXIuYm91bmRzKTtcbmVlLkZpbHRlci5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJGaWx0ZXJcIjtcbn07XG5lZS5GaWx0ZXIubWV0YWRhdGEgPSBmdW5jdGlvbihuYW1lLCBvcGVyYXRvciwgdmFsdWUpIHtcbiAgb3BlcmF0b3IgPSBvcGVyYXRvci50b0xvd2VyQ2FzZSgpO1xuICB2YXIgbmVnYXRlZCA9ICExO1xuICBnb29nLnN0cmluZy5zdGFydHNXaXRoKG9wZXJhdG9yLCBcIm5vdF9cIikgJiYgKG5lZ2F0ZWQgPSAhMCwgb3BlcmF0b3IgPSBvcGVyYXRvci5zdWJzdHJpbmcoNCkpO1xuICBpZiAoIShvcGVyYXRvciBpbiBlZS5GaWx0ZXIuZnVuY3Rpb25OYW1lc18pKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIGZpbHRlcmluZyBvcGVyYXRvcjogXCIgKyBvcGVyYXRvcik7XG4gIH1cbiAgdmFyIGZpbHRlciA9IGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRmlsdGVyLlwiICsgZWUuRmlsdGVyLmZ1bmN0aW9uTmFtZXNfW29wZXJhdG9yXSwgbmFtZSwgdmFsdWUpO1xuICByZXR1cm4gbmVnYXRlZCA/IGZpbHRlci5ub3QoKSA6IGZpbHRlcjtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJtZXRhZGF0YVwiLCBlZS5GaWx0ZXIubWV0YWRhdGEpO1xuZWUuQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKGZ1bmMsIGFyZ3MsIG9wdF92YXJOYW1lKSB7XG4gIGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBmdW5jLCBhcmdzLCBvcHRfdmFyTmFtZSk7XG4gIGVlLkNvbGxlY3Rpb24uaW5pdGlhbGl6ZSgpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuQ29sbGVjdGlvbiwgZWUuRWxlbWVudCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkNvbGxlY3Rpb25cIiwgZWUuQ29sbGVjdGlvbik7XG5lZS5Db2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICExO1xuZWUuQ29sbGVjdGlvbi5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLkNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfIHx8IChlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuQ29sbGVjdGlvbiwgXCJDb2xsZWN0aW9uXCIsIFwiQ29sbGVjdGlvblwiKSwgZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkNvbGxlY3Rpb24sIFwiQWdncmVnYXRlRmVhdHVyZUNvbGxlY3Rpb25cIiwgXCJDb2xsZWN0aW9uXCIsIFwiYWdncmVnYXRlX1wiKSwgZWUuQ29sbGVjdGlvbi5pbml0aWFsaXplZF8gPSAhMCk7XG59O1xuZWUuQ29sbGVjdGlvbi5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5Db2xsZWN0aW9uKTtcbiAgZWUuQ29sbGVjdGlvbi5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5lZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbihmaWx0ZXIpIHtcbiAgZmlsdGVyID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyLCBhcmd1bWVudHMpLmZpbHRlcjtcbiAgaWYgKCFmaWx0ZXIpIHtcbiAgICB0aHJvdyBFcnJvcihcIkVtcHR5IGZpbHRlcnMuXCIpO1xuICB9XG4gIHJldHVybiB0aGlzLmNhc3RJbnRlcm5hbChlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkNvbGxlY3Rpb24uZmlsdGVyXCIsIHRoaXMsIGZpbHRlcikpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZmlsdGVyXCIsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlcik7XG5lZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJNZXRhZGF0YSA9IGZ1bmN0aW9uKG5hbWUsIG9wZXJhdG9yLCB2YWx1ZSkge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlck1ldGFkYXRhLCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcy5maWx0ZXIoZWUuRmlsdGVyLm1ldGFkYXRhKGFyZ3MubmFtZSwgYXJncy5vcGVyYXRvciwgYXJncy52YWx1ZSkpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZmlsdGVyTWV0YWRhdGFcIiwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyTWV0YWRhdGEpO1xuZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyQm91bmRzID0gZnVuY3Rpb24oZ2VvbWV0cnkpIHtcbiAgcmV0dXJuIHRoaXMuZmlsdGVyKGVlLkZpbHRlci5ib3VuZHMoZ2VvbWV0cnkpKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImZpbHRlckJvdW5kc1wiLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJCb3VuZHMpO1xuZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyRGF0ZSA9IGZ1bmN0aW9uKHN0YXJ0LCBvcHRfZW5kKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyRGF0ZSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIHRoaXMuZmlsdGVyKGVlLkZpbHRlci5kYXRlKGFyZ3Muc3RhcnQsIGFyZ3MuZW5kKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db2xsZWN0aW9uLnByb3RvdHlwZSwgXCJmaWx0ZXJEYXRlXCIsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlckRhdGUpO1xuZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUubGltaXQgPSBmdW5jdGlvbihtYXgsIG9wdF9wcm9wZXJ0eSwgb3B0X2FzY2VuZGluZykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmxpbWl0LCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcy5jYXN0SW50ZXJuYWwoZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJDb2xsZWN0aW9uLmxpbWl0XCIsIHRoaXMsIGFyZ3MubWF4LCBhcmdzLnByb3BlcnR5LCBhcmdzLmFzY2VuZGluZykpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwibGltaXRcIiwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUubGltaXQpO1xuZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uKHByb3BlcnR5LCBvcHRfYXNjZW5kaW5nKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuc29ydCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIHRoaXMuY2FzdEludGVybmFsKGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiQ29sbGVjdGlvbi5saW1pdFwiLCB0aGlzLCB2b2lkIDAsIGFyZ3MucHJvcGVydHksIGFyZ3MuYXNjZW5kaW5nKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db2xsZWN0aW9uLnByb3RvdHlwZSwgXCJzb3J0XCIsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLnNvcnQpO1xuZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJDb2xsZWN0aW9uXCI7XG59O1xuZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZWxlbWVudFR5cGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGVlLkVsZW1lbnQ7XG59O1xuZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24oYWxnb3JpdGhtLCBvcHRfZHJvcE51bGxzKSB7XG4gIHZhciBlbGVtZW50VHlwZSA9IHRoaXMuZWxlbWVudFR5cGUoKTtcbiAgcmV0dXJuIHRoaXMuY2FzdEludGVybmFsKGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiQ29sbGVjdGlvbi5tYXBcIiwgdGhpcywgZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiBhbGdvcml0aG0obmV3IGVsZW1lbnRUeXBlKGUpKTtcbiAgfSwgb3B0X2Ryb3BOdWxscykpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwibWFwXCIsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLm1hcCk7XG5lZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24oYWxnb3JpdGhtLCBvcHRfZmlyc3QpIHtcbiAgdmFyIGZpcnN0ID0gdm9pZCAwICE9PSBvcHRfZmlyc3QgPyBvcHRfZmlyc3QgOiBudWxsLCBlbGVtZW50VHlwZSA9IHRoaXMuZWxlbWVudFR5cGUoKTtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiQ29sbGVjdGlvbi5pdGVyYXRlXCIsIHRoaXMsIGZ1bmN0aW9uKGUsIHApIHtcbiAgICByZXR1cm4gYWxnb3JpdGhtKG5ldyBlbGVtZW50VHlwZShlKSwgcCk7XG4gIH0sIGZpcnN0KTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLCBcIml0ZXJhdGVcIiwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuaXRlcmF0ZSk7XG5lZS5GZWF0dXJlID0gZnVuY3Rpb24oZ2VvbWV0cnksIG9wdF9wcm9wZXJ0aWVzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5GZWF0dXJlKSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuRmVhdHVyZSwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAoZ2VvbWV0cnkgaW5zdGFuY2VvZiBlZS5GZWF0dXJlKSB7XG4gICAgaWYgKG9wdF9wcm9wZXJ0aWVzKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkNhbid0IGNyZWF0ZSBGZWF0dXJlIG91dCBvZiBhIEZlYXR1cmUgYW5kIHByb3BlcnRpZXMuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZ2VvbWV0cnk7XG4gIH1cbiAgaWYgKDIgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJUaGUgRmVhdHVyZSBjb25zdHJ1Y3RvciB0YWtlcyBhdCBtb3N0IDIgYXJndW1lbnRzIChcIiArIGFyZ3VtZW50cy5sZW5ndGggKyBcIiBnaXZlbilcIik7XG4gIH1cbiAgZWUuRmVhdHVyZS5pbml0aWFsaXplKCk7XG4gIGlmIChnZW9tZXRyeSBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5IHx8IG51bGwgPT09IGdlb21ldHJ5KSB7XG4gICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkZlYXR1cmVcIiksIHtnZW9tZXRyeTpnZW9tZXRyeSwgbWV0YWRhdGE6b3B0X3Byb3BlcnRpZXMgfHwgbnVsbH0pO1xuICB9IGVsc2Uge1xuICAgIGlmIChnZW9tZXRyeSBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgICBlZS5FbGVtZW50LmNhbGwodGhpcywgZ2VvbWV0cnkuZnVuYywgZ2VvbWV0cnkuYXJncywgZ2VvbWV0cnkudmFyTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcIkZlYXR1cmVcIiA9PSBnZW9tZXRyeS50eXBlKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gZ2VvbWV0cnkucHJvcGVydGllcyB8fCB7fTtcbiAgICAgICAgaWYgKFwiaWRcIiBpbiBnZW9tZXRyeSkge1xuICAgICAgICAgIGlmIChcInN5c3RlbTppbmRleFwiIGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdDYW5cXCd0IHNwZWNpZnkgYm90aCBcImlkXCIgYW5kIFwic3lzdGVtOmluZGV4XCIuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByb3BlcnRpZXMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xvbmUocHJvcGVydGllcyk7XG4gICAgICAgICAgcHJvcGVydGllc1tcInN5c3RlbTppbmRleFwiXSA9IGdlb21ldHJ5LmlkO1xuICAgICAgICB9XG4gICAgICAgIGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJGZWF0dXJlXCIpLCB7Z2VvbWV0cnk6bmV3IGVlLkdlb21ldHJ5KGdlb21ldHJ5Lmdlb21ldHJ5KSwgbWV0YWRhdGE6cHJvcGVydGllc30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkZlYXR1cmVcIiksIHtnZW9tZXRyeTpuZXcgZWUuR2VvbWV0cnkoZ2VvbWV0cnkpLCBtZXRhZGF0YTpvcHRfcHJvcGVydGllcyB8fCBudWxsfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZ29vZy5pbmhlcml0cyhlZS5GZWF0dXJlLCBlZS5FbGVtZW50KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRmVhdHVyZVwiLCBlZS5GZWF0dXJlKTtcbmVlLkZlYXR1cmUuaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5GZWF0dXJlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuRmVhdHVyZS5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5GZWF0dXJlLCBcIkZlYXR1cmVcIiwgXCJGZWF0dXJlXCIpLCBlZS5GZWF0dXJlLmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5GZWF0dXJlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkZlYXR1cmUpO1xuICBlZS5GZWF0dXJlLmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkZlYXR1cmUucHJvdG90eXBlLmdldEluZm8gPSBmdW5jdGlvbihvcHRfY2FsbGJhY2spIHtcbiAgcmV0dXJuIGVlLkZlYXR1cmUuc3VwZXJDbGFzc18uZ2V0SW5mby5jYWxsKHRoaXMsIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GZWF0dXJlLnByb3RvdHlwZSwgXCJnZXRJbmZvXCIsIGVlLkZlYXR1cmUucHJvdG90eXBlLmdldEluZm8pO1xuZWUuRmVhdHVyZS5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24ob3B0X3Zpc1BhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmVhdHVyZS5wcm90b3R5cGUuZ2V0TWFwLCBhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJDb2xsZWN0aW9uXCIsIFt0aGlzXSkuZ2V0TWFwKGFyZ3MudmlzUGFyYW1zLCBhcmdzLmNhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZlYXR1cmUucHJvdG90eXBlLCBcImdldE1hcFwiLCBlZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRNYXApO1xuZWUuRmVhdHVyZS5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJGZWF0dXJlXCI7XG59O1xuZWUuZGF0YS5pbWFnZXMgPSB7fTtcbmVlLmRhdGEuaW1hZ2VzLmFwcGx5VHJhbnNmb3Jtc1RvSW1hZ2UgPSBmdW5jdGlvbih0YXNrQ29uZmlnKSB7XG4gIHZhciByZXN1bHRQYXJhbXMgPSB7fSwgaW1hZ2UgPSBlZS5kYXRhLmltYWdlcy5hcHBseUNyc0FuZFRyYW5zZm9ybSh0YXNrQ29uZmlnLmVsZW1lbnQsIHRhc2tDb25maWcpO1xuICBpbWFnZSA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5U2VsZWN0aW9uQW5kU2NhbGUoaW1hZ2UsIHRhc2tDb25maWcsIHJlc3VsdFBhcmFtcyk7XG4gIHJlc3VsdFBhcmFtcy5lbGVtZW50ID0gaW1hZ2U7XG4gIHJldHVybiByZXN1bHRQYXJhbXM7XG59O1xuZWUuZGF0YS5pbWFnZXMuYXBwbHlUcmFuc2Zvcm1zVG9Db2xsZWN0aW9uID0gZnVuY3Rpb24odGFza0NvbmZpZykge1xuICB2YXIgcmVzdWx0UGFyYW1zID0ge30sIGNvbGxlY3Rpb24gPSB0YXNrQ29uZmlnLmVsZW1lbnQubWFwKGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgdmFyIHByb2plY3RlZCA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5Q3JzQW5kVHJhbnNmb3JtKGltYWdlLCB0YXNrQ29uZmlnKTtcbiAgICByZXR1cm4gZWUuZGF0YS5pbWFnZXMuYXBwbHlTZWxlY3Rpb25BbmRTY2FsZShwcm9qZWN0ZWQsIHRhc2tDb25maWcsIHJlc3VsdFBhcmFtcyk7XG4gIH0pO1xuICByZXN1bHRQYXJhbXMuZWxlbWVudCA9IGNvbGxlY3Rpb247XG4gIHJldHVybiByZXN1bHRQYXJhbXM7XG59O1xuZWUuZGF0YS5pbWFnZXMuYXBwbHlTZWxlY3Rpb25BbmRTY2FsZSA9IGZ1bmN0aW9uKGltYWdlLCBwYXJhbXMsIG91dFBhcmFtcykge1xuICB2YXIgY2xpcFBhcmFtcyA9IHt9LCBkaW1lbnNpb25zX2NvbnN1bWVkID0gITEsIFNDQUxJTkdfS0VZUyA9IFtcIm1heERpbWVuc2lvblwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwic2NhbGVcIl07XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGlmIChudWxsICE9IHZhbHVlKSB7XG4gICAgICBzd2l0Y2goa2V5KSB7XG4gICAgICAgIGNhc2UgXCJkaW1lbnNpb25zXCI6XG4gICAgICAgICAgdmFyIGRpbXMgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUgPyB2YWx1ZS5zcGxpdChcInhcIikubWFwKE51bWJlcikgOiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlID8gW3ZhbHVlXSA6IFtdO1xuICAgICAgICAgIGlmICgxID09PSBkaW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgY2xpcFBhcmFtcy5tYXhEaW1lbnNpb24gPSBkaW1zWzBdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoMiA9PT0gZGltcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY2xpcFBhcmFtcy53aWR0aCA9IGRpbXNbMF0sIGNsaXBQYXJhbXMuaGVpZ2h0ID0gZGltc1sxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBkaW1lbnNpb25zIFwiICsgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRpbWVuc2lvbnNfY29uc3VtZWRcIjpcbiAgICAgICAgICBkaW1lbnNpb25zX2NvbnN1bWVkID0gITA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJiYm94XCI6XG4gICAgICAgICAgbnVsbCAhPSBjbGlwUGFyYW1zLmdlb21ldHJ5ICYmIGNvbnNvbGUud2FybihcIk11bHRpcGxlIHJlcXVlc3QgcGFyYW1ldGVycyBjb252ZXJ0ZWQgdG8gcmVnaW9uLlwiKTtcbiAgICAgICAgICBjbGlwUGFyYW1zLmdlb21ldHJ5ID0gZWUuZGF0YS5pbWFnZXMuYmJveFRvR2VvbWV0cnkodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVnaW9uXCI6XG4gICAgICAgICAgbnVsbCAhPSBjbGlwUGFyYW1zLmdlb21ldHJ5ICYmIGNvbnNvbGUud2FybihcIk11bHRpcGxlIHJlcXVlc3QgcGFyYW1ldGVycyBjb252ZXJ0ZWQgdG8gcmVnaW9uLlwiKTtcbiAgICAgICAgICBjbGlwUGFyYW1zLmdlb21ldHJ5ID0gZWUuZGF0YS5pbWFnZXMucmVnaW9uVG9HZW9tZXRyeSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzY2FsZVwiOlxuICAgICAgICAgIGNsaXBQYXJhbXMuc2NhbGUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG91dFBhcmFtc1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2lzRW1wdHkoY2xpcFBhcmFtcykgfHwgKGNsaXBQYXJhbXMuaW5wdXQgPSBpbWFnZSwgaW1hZ2UgPSBTQ0FMSU5HX0tFWVMuc29tZShmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluIGNsaXBQYXJhbXM7XG4gIH0pIHx8IGRpbWVuc2lvbnNfY29uc3VtZWQgPyBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJJbWFnZS5jbGlwVG9Cb3VuZHNBbmRTY2FsZVwiLCBjbGlwUGFyYW1zKSA6IGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkltYWdlLmNsaXBcIiwgY2xpcFBhcmFtcykpO1xuICByZXR1cm4gaW1hZ2U7XG59O1xuZWUuZGF0YS5pbWFnZXMuYmJveFRvR2VvbWV0cnkgPSBmdW5jdGlvbihiYm94KSB7XG4gIGlmIChiYm94IGluc3RhbmNlb2YgZWUuR2VvbWV0cnkuUmVjdGFuZ2xlKSB7XG4gICAgcmV0dXJuIGJib3g7XG4gIH1cbiAgdmFyIGJib3hBcnJheSA9IGJib3g7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYmJveCkge1xuICAgIHRyeSB7XG4gICAgICBiYm94QXJyYXkgPSBKU09OLnBhcnNlKGJib3gpO1xuICAgIH0gY2F0Y2ggKCRqc2NvbXAkdW51c2VkJGNhdGNoKSB7XG4gICAgICBiYm94QXJyYXkgPSBiYm94LnNwbGl0KC9cXHMqLFxccyovKS5tYXAoTnVtYmVyKTtcbiAgICB9XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYmJveEFycmF5KSkge1xuICAgIGlmIChiYm94QXJyYXkuc29tZShpc05hTikpIHtcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBiYm94IGB7YmJveEFycmF5fWAsIHBsZWFzZSBzcGVjaWZ5IGEgbGlzdCBvZiBudW1iZXJzLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBlZS5HZW9tZXRyeS5SZWN0YW5nbGUoYmJveEFycmF5LCBudWxsLCAhMSk7XG4gIH1cbiAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgYmJveCBcIntiYm94fVwiIHR5cGUsIG11c3QgYmUgb2YgdHlwZSBBcnJheTxudW1iZXI+Jyk7XG59O1xuZWUuZGF0YS5pbWFnZXMucmVnaW9uVG9HZW9tZXRyeSA9IGZ1bmN0aW9uKHJlZ2lvbikge1xuICBpZiAocmVnaW9uIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkpIHtcbiAgICByZXR1cm4gcmVnaW9uO1xuICB9XG4gIHZhciByZWdpb25PYmplY3QgPSByZWdpb247XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgcmVnaW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlZ2lvbk9iamVjdCA9IEpTT04ucGFyc2UocmVnaW9uKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBFcnJvcignUmVnaW9uIHN0cmluZyBcIicgKyByZWdpb24gKyAnXCIgaXMgbm90IHZhbGlkIEdlb0pTT04uJyk7XG4gICAgfVxuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHJlZ2lvbk9iamVjdCkpIHtcbiAgICByZXR1cm4gbmV3IGVlLkdlb21ldHJ5LlBvbHlnb24ocmVnaW9uT2JqZWN0LCBudWxsLCAhMSk7XG4gIH1cbiAgaWYgKGdvb2cuaXNPYmplY3QocmVnaW9uT2JqZWN0KSkge1xuICAgIHJldHVybiBuZXcgZWUuR2VvbWV0cnkocmVnaW9uT2JqZWN0LCBudWxsLCAhMSk7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJSZWdpb24ge3JlZ2lvbn0gd2FzIG5vdCBjb252ZXJ0aWJsZSB0byBhbiBlZS5HZW9tZXRyeS5cIik7XG59O1xuZWUuZGF0YS5pbWFnZXMuYXBwbHlDcnNBbmRUcmFuc2Zvcm0gPSBmdW5jdGlvbihpbWFnZSwgcGFyYW1zKSB7XG4gIHZhciBjcnMgPSBwYXJhbXMuY3JzIHx8IFwiXCIsIGNyc1RyYW5zZm9ybSA9IHBhcmFtcy5jcnNUcmFuc2Zvcm0gfHwgcGFyYW1zLmNyc190cmFuc2Zvcm07XG4gIG51bGwgIT0gY3JzVHJhbnNmb3JtICYmIChjcnNUcmFuc2Zvcm0gPSBlZS5kYXRhLmltYWdlcy5tYXliZUNvbnZlcnRDcnNUcmFuc2Zvcm1Ub0FycmF5XyhjcnNUcmFuc2Zvcm0pKTtcbiAgaWYgKCFjcnMgJiYgIWNyc1RyYW5zZm9ybSkge1xuICAgIHJldHVybiBpbWFnZTtcbiAgfVxuICBpZiAoY3JzVHJhbnNmb3JtICYmICFjcnMpIHtcbiAgICB0aHJvdyBFcnJvcignTXVzdCBzcGVjaWZ5IFwiY3JzXCIgaWYgXCJjcnNUcmFuc2Zvcm1cIiBpcyBzcGVjaWZpZWQuJyk7XG4gIH1cbiAgaWYgKGNyc1RyYW5zZm9ybSkge1xuICAgIGlmIChpbWFnZSA9IGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkltYWdlLnJlcHJvamVjdFwiLCB7aW1hZ2U6aW1hZ2UsIGNyczpjcnMsIGNyc1RyYW5zZm9ybTpjcnNUcmFuc2Zvcm19KSwgbnVsbCAhPSBwYXJhbXMuZGltZW5zaW9ucyAmJiBudWxsID09IHBhcmFtcy5zY2FsZSAmJiBudWxsID09IHBhcmFtcy5yZWdpb24pIHtcbiAgICAgIHZhciBkaW1lbnNpb25zID0gcGFyYW1zLmRpbWVuc2lvbnM7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZGltZW5zaW9ucyAmJiAoZGltZW5zaW9ucyA9IGRpbWVuc2lvbnMuc3BsaXQoXCJ4XCIpLm1hcChOdW1iZXIpKTtcbiAgICAgIGlmICgyID09PSBkaW1lbnNpb25zLmxlbmd0aCkge1xuICAgICAgICBkZWxldGUgcGFyYW1zLmRpbWVuc2lvbnM7XG4gICAgICAgIHBhcmFtcy5kaW1lbnNpb25zX2NvbnN1bWVkID0gITA7XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gKG5ldyBlZS5BcGlGdW5jdGlvbihcIlByb2plY3Rpb25cIikpLmNhbGwoY3JzLCBjcnNUcmFuc2Zvcm0pO1xuICAgICAgICBwYXJhbXMucmVnaW9uID0gbmV3IGVlLkdlb21ldHJ5LlJlY3RhbmdsZShbMCwgMCwgZGltZW5zaW9uc1swXSwgZGltZW5zaW9uc1sxXV0sIHByb2plY3Rpb24sICExKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaW1hZ2UgPSBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJJbWFnZS5zZXREZWZhdWx0UHJvamVjdGlvblwiLCB7aW1hZ2U6aW1hZ2UsIGNyczpjcnMsIGNyc1RyYW5zZm9ybTpbMSwgMCwgMCwgMCwgLTEsIDBdfSk7XG4gIH1cbiAgcmV0dXJuIGltYWdlO1xufTtcbmVlLmRhdGEuaW1hZ2VzLm1heWJlQ29udmVydENyc1RyYW5zZm9ybVRvQXJyYXlfID0gZnVuY3Rpb24oY3JzVHJhbnNmb3JtKSB7XG4gIHZhciB0cmFuc2Zvcm1BcnJheSA9IGNyc1RyYW5zZm9ybTtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0cmFuc2Zvcm1BcnJheSkge1xuICAgIHRyeSB7XG4gICAgICB0cmFuc2Zvcm1BcnJheSA9IEpTT04ucGFyc2UodHJhbnNmb3JtQXJyYXkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICB9XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtQXJyYXkpKSB7XG4gICAgaWYgKDYgPT09IHRyYW5zZm9ybUFycmF5Lmxlbmd0aCAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9ldmVyeSh0cmFuc2Zvcm1BcnJheSwgZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIFwibnVtYmVyXCIgPT09IHR5cGVvZiB4O1xuICAgIH0pKSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtQXJyYXk7XG4gICAgfVxuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCwgY3JzIHRyYW5zZm9ybSBtdXN0IGJlIGEgbGlzdCBvZiA2IG51bWJlcnMuXCIpO1xuICB9XG4gIHRocm93IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCwgY3JzIHRyYW5zZm9ybSB3YXMgbm90IGEgc3RyaW5nIG9yIGFycmF5LlwiKTtcbn07XG5lZS5kYXRhLmltYWdlcy5hcHBseVZpc3VhbGl6YXRpb24gPSBmdW5jdGlvbihpbWFnZSwgcGFyYW1zKSB7XG4gIHZhciByZXF1ZXN0ID0ge30sIHZpc1BhcmFtcyA9IGVlLmRhdGEuaW1hZ2VzLmV4dHJhY3RWaXNQYXJhbXMocGFyYW1zLCByZXF1ZXN0KTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2lzRW1wdHkodmlzUGFyYW1zKSB8fCAodmlzUGFyYW1zLmltYWdlID0gaW1hZ2UsIGltYWdlID0gZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiSW1hZ2UudmlzdWFsaXplXCIsIHZpc1BhcmFtcykpO1xuICByZXF1ZXN0LmltYWdlID0gaW1hZ2U7XG4gIHJldHVybiByZXF1ZXN0O1xufTtcbmVlLmRhdGEuaW1hZ2VzLmV4dHJhY3RWaXNQYXJhbXMgPSBmdW5jdGlvbihwYXJhbXMsIG91dFBhcmFtcykge1xuICB2YXIga2V5c1RvRXh0cmFjdCA9IFwiYmFuZHMgZ2FpbiBiaWFzIG1pbiBtYXggZ2FtbWEgcGFsZXR0ZSBvcGFjaXR5IGZvcmNlUmdiT3V0cHV0XCIuc3BsaXQoXCIgXCIpLCB2aXNQYXJhbXMgPSB7fTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2gocGFyYW1zLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnMoa2V5c1RvRXh0cmFjdCwga2V5KSA/IHZpc1BhcmFtc1trZXldID0gdmFsdWUgOiBvdXRQYXJhbXNba2V5XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHZpc1BhcmFtcztcbn07XG5lZS5kYXRhLmltYWdlcy5idWlsZERvd25sb2FkSWRJbWFnZSA9IGZ1bmN0aW9uKGltYWdlLCBwYXJhbXMpIHtcbiAgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zKTtcbiAgdmFyIGV4dHJhY3RBbmRWYWxpZGF0ZVRyYW5zZm9ybXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZXh0cmFjdGVkID0ge307XG4gICAgW1wiY3JzXCIsIFwiY3JzX3RyYW5zZm9ybVwiLCBcImRpbWVuc2lvbnNcIiwgXCJyZWdpb25cIl0uZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGtleSBpbiBvYmogJiYgKGV4dHJhY3RlZFtrZXldID0gb2JqW2tleV0pO1xuICAgIH0pO1xuICAgIG51bGwgIT0gb2JqLnNjYWxlICYmIG51bGwgPT0gb2JqLmRpbWVuc2lvbnMgJiYgKGV4dHJhY3RlZC5zY2FsZSA9IG9iai5zY2FsZSk7XG4gICAgcmV0dXJuIGV4dHJhY3RlZDtcbiAgfSwgYnVpbGRJbWFnZVBlckJhbmQgPSBmdW5jdGlvbihiYW5kKSB7XG4gICAgdmFyIGJhbmRJZCA9IGJhbmQuaWQ7XG4gICAgaWYgKHZvaWQgMCA9PT0gYmFuZElkKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkVhY2ggYmFuZCBkaWN0aW9uYXJ5IG11c3QgaGF2ZSBhbiBpZC5cIik7XG4gICAgfVxuICAgIHZhciBiYW5kSW1hZ2UgPSBpbWFnZS5zZWxlY3QoYmFuZElkKSwgY29weVBhcmFtcyA9IGV4dHJhY3RBbmRWYWxpZGF0ZVRyYW5zZm9ybXMocGFyYW1zKSwgYmFuZFBhcmFtcyA9IGV4dHJhY3RBbmRWYWxpZGF0ZVRyYW5zZm9ybXMoYmFuZCk7XG4gICAgYmFuZFBhcmFtcyA9IGV4dHJhY3RBbmRWYWxpZGF0ZVRyYW5zZm9ybXMoT2JqZWN0LmFzc2lnbihjb3B5UGFyYW1zLCBiYW5kUGFyYW1zKSk7XG4gICAgYmFuZEltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlDcnNBbmRUcmFuc2Zvcm0oYmFuZEltYWdlLCBiYW5kUGFyYW1zKTtcbiAgICByZXR1cm4gYmFuZEltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlTZWxlY3Rpb25BbmRTY2FsZShiYW5kSW1hZ2UsIGJhbmRQYXJhbXMsIHt9KTtcbiAgfTtcbiAgaWYgKFwiWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXCIgPT09IHBhcmFtcy5mb3JtYXQgJiYgcGFyYW1zLmJhbmRzICYmIHBhcmFtcy5iYW5kcy5sZW5ndGgpIHtcbiAgICB2YXIgaW1hZ2VzID0gcGFyYW1zLmJhbmRzLm1hcChidWlsZEltYWdlUGVyQmFuZCk7XG4gICAgaW1hZ2UgPSBpbWFnZXMucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgYmFuZEltYWdlKSB7XG4gICAgICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJJbWFnZS5hZGRCYW5kc1wiLCByZXN1bHQsIGJhbmRJbWFnZSwgbnVsbCwgITApO1xuICAgIH0sIGltYWdlcy5zaGlmdCgpKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY29weVBhcmFtcyA9IGV4dHJhY3RBbmRWYWxpZGF0ZVRyYW5zZm9ybXMocGFyYW1zKTtcbiAgICBpbWFnZSA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5Q3JzQW5kVHJhbnNmb3JtKGltYWdlLCBjb3B5UGFyYW1zKTtcbiAgICBpbWFnZSA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5U2VsZWN0aW9uQW5kU2NhbGUoaW1hZ2UsIGNvcHlQYXJhbXMsIHt9KTtcbiAgfVxuICByZXR1cm4gaW1hZ2U7XG59O1xuZWUuSW1hZ2UgPSBmdW5jdGlvbihvcHRfYXJncykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuSW1hZ2UpKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5JbWFnZSwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAob3B0X2FyZ3MgaW5zdGFuY2VvZiBlZS5JbWFnZSkge1xuICAgIHJldHVybiBvcHRfYXJncztcbiAgfVxuICBlZS5JbWFnZS5pbml0aWFsaXplKCk7XG4gIHZhciBhcmdDb3VudCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGlmICgwID09IGFyZ0NvdW50IHx8IDEgPT0gYXJnQ291bnQgJiYgdm9pZCAwID09PSBvcHRfYXJncykge1xuICAgIGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJJbWFnZS5tYXNrXCIpLCB7aW1hZ2U6bmV3IGVlLkltYWdlKDApLCBtYXNrOm5ldyBlZS5JbWFnZSgwKX0pO1xuICB9IGVsc2Uge1xuICAgIGlmICgxID09IGFyZ0NvdW50KSB7XG4gICAgICBpZiAoZWUuVHlwZXMuaXNOdW1iZXIob3B0X2FyZ3MpKSB7XG4gICAgICAgIGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJJbWFnZS5jb25zdGFudFwiKSwge3ZhbHVlOm9wdF9hcmdzfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZWUuVHlwZXMuaXNTdHJpbmcob3B0X2FyZ3MpKSB7XG4gICAgICAgICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkltYWdlLmxvYWRcIiksIHtpZDpvcHRfYXJnc30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdF9hcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVlLkltYWdlLmNvbWJpbmVfKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChvcHRfYXJncywgZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IGVlLkltYWdlKGVsZW0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAob3B0X2FyZ3MgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgICAgICAgICAgXCJBcnJheVwiID09IG9wdF9hcmdzLm5hbWUoKSA/IGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJJbWFnZS5jb25zdGFudFwiKSwge3ZhbHVlOm9wdF9hcmdzfSkgOiBlZS5FbGVtZW50LmNhbGwodGhpcywgb3B0X2FyZ3MuZnVuYywgb3B0X2FyZ3MuYXJncywgb3B0X2FyZ3MudmFyTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGFyZ3VtZW50IHR5cGUgdG8gY29udmVydCB0byBhbiBJbWFnZTogXCIgKyBvcHRfYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgyID09IGFyZ0NvdW50KSB7XG4gICAgICAgIHZhciBpZCA9IGFyZ3VtZW50c1swXSwgdmVyc2lvbiA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKGlkKSAmJiBlZS5UeXBlcy5pc051bWJlcih2ZXJzaW9uKSkge1xuICAgICAgICAgIGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJJbWFnZS5sb2FkXCIpLCB7aWQ6aWQsIHZlcnNpb246dmVyc2lvbn0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGFyZ3VtZW50IHR5cGVzIHRvIGNvbnZlcnQgdG8gYW4gSW1hZ2U6IFwiICsgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgSW1hZ2UgY29uc3RydWN0b3IgdGFrZXMgYXQgbW9zdCAyIGFyZ3VtZW50cyAoXCIgKyBhcmdDb3VudCArIFwiIGdpdmVuKVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLkltYWdlLCBlZS5FbGVtZW50KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuSW1hZ2VcIiwgZWUuSW1hZ2UpO1xuZWUuSW1hZ2UuaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5JbWFnZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLkltYWdlLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkltYWdlLCBcIkltYWdlXCIsIFwiSW1hZ2VcIiksIGVlLkltYWdlLmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5JbWFnZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5JbWFnZSk7XG4gIGVlLkltYWdlLmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkltYWdlLnByb3RvdHlwZS5nZXRJbmZvID0gZnVuY3Rpb24ob3B0X2NhbGxiYWNrKSB7XG4gIHJldHVybiBlZS5JbWFnZS5zdXBlckNsYXNzXy5nZXRJbmZvLmNhbGwodGhpcywgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlLnByb3RvdHlwZSwgXCJnZXRJbmZvXCIsIGVlLkltYWdlLnByb3RvdHlwZS5nZXRJbmZvKTtcbmVlLkltYWdlLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbihvcHRfdmlzUGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXMsIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5JbWFnZS5wcm90b3R5cGUuZ2V0TWFwLCBhcmd1bWVudHMpLCByZXF1ZXN0ID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlWaXN1YWxpemF0aW9uKHRoaXMsIGFyZ3MudmlzUGFyYW1zKTtcbiAgaWYgKGFyZ3MuY2FsbGJhY2spIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLmNhbGxiYWNrO1xuICAgIGVlLmRhdGEuZ2V0TWFwSWQocmVxdWVzdCwgZnVuY3Rpb24oZGF0YSwgZXJyb3IpIHtcbiAgICAgIHZhciBtYXBJZCA9IGRhdGEgPyBPYmplY3QuYXNzaWduKGRhdGEsIHtpbWFnZTokanNjb21wJHRoaXN9KSA6IHZvaWQgMDtcbiAgICAgIGNhbGxiYWNrKG1hcElkLCBlcnJvcik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHJlc3BvbnNlID0gZWUuZGF0YS5nZXRNYXBJZChyZXF1ZXN0KTtcbiAgICByZXNwb25zZS5pbWFnZSA9IHRoaXM7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwiZ2V0TWFwXCIsIGVlLkltYWdlLnByb3RvdHlwZS5nZXRNYXApO1xuZWUuSW1hZ2UucHJvdG90eXBlLmdldERvd25sb2FkVVJMID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5JbWFnZS5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwsIGFyZ3VtZW50cyksIHJlcXVlc3QgPSBhcmdzLnBhcmFtcyA/IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbG9uZShhcmdzLnBhcmFtcykgOiB7fTtcbiAgcmVxdWVzdC5pbWFnZSA9IHRoaXM7XG4gIGlmIChhcmdzLmNhbGxiYWNrKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gYXJncy5jYWxsYmFjaztcbiAgICBlZS5kYXRhLmdldERvd25sb2FkSWQocmVxdWVzdCwgZnVuY3Rpb24oZG93bmxvYWRJZCwgZXJyb3IpIHtcbiAgICAgIGRvd25sb2FkSWQgPyBjYWxsYmFjayhlZS5kYXRhLm1ha2VEb3dubG9hZFVybChkb3dubG9hZElkKSkgOiBjYWxsYmFjayhudWxsLCBlcnJvcik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGVlLmRhdGEubWFrZURvd25sb2FkVXJsKGVlLmRhdGEuZ2V0RG93bmxvYWRJZChyZXF1ZXN0KSk7XG4gIH1cbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlLnByb3RvdHlwZSwgXCJnZXREb3dubG9hZFVSTFwiLCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwpO1xuZWUuSW1hZ2UucHJvdG90eXBlLmdldFRodW1iSWQgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCwgYXJndW1lbnRzKSwgcmVxdWVzdCA9IGFyZ3MucGFyYW1zID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2Nsb25lKGFyZ3MucGFyYW1zKSA6IHt9LCBleHRyYSA9IHt9LCBpbWFnZSA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5Q3JzQW5kVHJhbnNmb3JtKHRoaXMsIHJlcXVlc3QpO1xuICBpbWFnZSA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5U2VsZWN0aW9uQW5kU2NhbGUoaW1hZ2UsIHJlcXVlc3QsIGV4dHJhKTtcbiAgcmVxdWVzdCA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5VmlzdWFsaXphdGlvbihpbWFnZSwgZXh0cmEpO1xuICByZXR1cm4gYXJncy5jYWxsYmFjayA/IChlZS5kYXRhLmdldFRodW1iSWQocmVxdWVzdCwgYXJncy5jYWxsYmFjayksIG51bGwpIDogZWUuZGF0YS5nZXRUaHVtYklkKHJlcXVlc3QpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2UucHJvdG90eXBlLCBcImdldFRodW1iSWRcIiwgZWUuSW1hZ2UucHJvdG90eXBlLmdldFRodW1iSWQpO1xuZWUuSW1hZ2UucHJvdG90eXBlLmdldFRodW1iVVJMID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJVUkwsIGFyZ3VtZW50cyk7XG4gIGlmIChhcmdzLmNhbGxiYWNrKSB7XG4gICAgdGhpcy5nZXRUaHVtYklkKGFyZ3MucGFyYW1zLCBmdW5jdGlvbih0aHVtYklkLCBvcHRfZXJyb3IpIHtcbiAgICAgIHZhciB0aHVtYlVybCA9IFwiXCI7XG4gICAgICBpZiAodm9pZCAwID09PSBvcHRfZXJyb3IpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHVtYlVybCA9IGVlLmRhdGEubWFrZVRodW1iVXJsKHRodW1iSWQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgb3B0X2Vycm9yID0gU3RyaW5nKGUubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFyZ3MuY2FsbGJhY2sodGh1bWJVcmwsIG9wdF9lcnJvcik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGVlLmRhdGEubWFrZVRodW1iVXJsKHRoaXMuZ2V0VGh1bWJJZChhcmdzLnBhcmFtcykpO1xuICB9XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwiZ2V0VGh1bWJVUkxcIiwgZWUuSW1hZ2UucHJvdG90eXBlLmdldFRodW1iVVJMKTtcbmVlLkltYWdlLnJnYiA9IGZ1bmN0aW9uKHIsIGcsIGIpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5JbWFnZS5yZ2IsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5JbWFnZS5jb21iaW5lXyhbYXJncy5yLCBhcmdzLmcsIGFyZ3MuYl0sIFtcInZpcy1yZWRcIiwgXCJ2aXMtZ3JlZW5cIiwgXCJ2aXMtYmx1ZVwiXSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZSwgXCJyZ2JcIiwgZWUuSW1hZ2UucmdiKTtcbmVlLkltYWdlLmNhdCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkltYWdlLmNvbWJpbmVfKGFyZ3MsIG51bGwpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2UsIFwiY2F0XCIsIGVlLkltYWdlLmNhdCk7XG5lZS5JbWFnZS5jb21iaW5lXyA9IGZ1bmN0aW9uKGltYWdlcywgb3B0X25hbWVzKSB7XG4gIGlmICgwID09IGltYWdlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJJbWFnZS5jb25zdGFudFwiLCBbXSk7XG4gIH1cbiAgZm9yICh2YXIgcmVzdWx0ID0gbmV3IGVlLkltYWdlKGltYWdlc1swXSksIGkgPSAxOyBpIDwgaW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ID0gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJJbWFnZS5hZGRCYW5kc1wiLCByZXN1bHQsIGltYWdlc1tpXSk7XG4gIH1cbiAgb3B0X25hbWVzICYmIChyZXN1bHQgPSByZXN1bHQuc2VsZWN0KFtcIi4qXCJdLCBvcHRfbmFtZXMpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5JbWFnZS5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLCBhbGdvcml0aG1BcmdzID0ge2lucHV0OnRoaXMsIGJhbmRTZWxlY3RvcnM6YXJnc1swXSB8fCBbXX07XG4gIGlmICgyIDwgYXJncy5sZW5ndGggfHwgZWUuVHlwZXMuaXNTdHJpbmcoYXJnc1swXSkgfHwgZWUuVHlwZXMuaXNOdW1iZXIoYXJnc1swXSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghKGVlLlR5cGVzLmlzU3RyaW5nKGFyZ3NbaV0pIHx8IGVlLlR5cGVzLmlzTnVtYmVyKGFyZ3NbaV0pIHx8IGFyZ3NbaV0gaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGFyZ3VtZW50IHRvIHNlbGVjdCgpOiBcIiArIGFyZ3NbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBhbGdvcml0aG1BcmdzLmJhbmRTZWxlY3RvcnMgPSBhcmdzO1xuICB9IGVsc2Uge1xuICAgIGFyZ3NbMV0gJiYgKGFsZ29yaXRobUFyZ3MubmV3TmFtZXMgPSBhcmdzWzFdKTtcbiAgfVxuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiSW1hZ2Uuc2VsZWN0XCIsIGFsZ29yaXRobUFyZ3MpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2UucHJvdG90eXBlLCBcInNlbGVjdFwiLCBlZS5JbWFnZS5wcm90b3R5cGUuc2VsZWN0KTtcbmVlLkltYWdlLnByb3RvdHlwZS5leHByZXNzaW9uID0gZnVuY3Rpb24oZXhwcmVzc2lvbiwgb3B0X21hcCkge1xuICB2YXIgb3JpZ2luYWxBcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuSW1hZ2UucHJvdG90eXBlLmV4cHJlc3Npb24sIGFyZ3VtZW50cyksIHZhcnMgPSBbXCJERUZBVUxUX0VYUFJFU1NJT05fSU1BR0VcIl0sIGVlQXJncyA9IHtERUZBVUxUX0VYUFJFU1NJT05fSU1BR0U6dGhpc307XG4gIGlmIChvcmlnaW5hbEFyZ3MubWFwKSB7XG4gICAgdmFyIG1hcCA9IG9yaWdpbmFsQXJncy5tYXAsIG5hbWUkanNjb21wJDA7XG4gICAgZm9yIChuYW1lJGpzY29tcCQwIGluIG1hcCkge1xuICAgICAgdmFycy5wdXNoKG5hbWUkanNjb21wJDApLCBlZUFyZ3NbbmFtZSRqc2NvbXAkMF0gPSBuZXcgZWUuSW1hZ2UobWFwW25hbWUkanNjb21wJDBdKTtcbiAgICB9XG4gIH1cbiAgdmFyIGJvZHkgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlLnBhcnNlRXhwcmVzc2lvblwiLCBvcmlnaW5hbEFyZ3MuZXhwcmVzc2lvbiwgXCJERUZBVUxUX0VYUFJFU1NJT05fSU1BR0VcIiwgdmFycyksIGZ1bmMgPSBuZXcgZWUuRnVuY3Rpb24oKTtcbiAgZnVuYy5lbmNvZGUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gICAgcmV0dXJuIGJvZHkuZW5jb2RlKGVuY29kZXIpO1xuICB9O1xuICBmdW5jLmVuY29kZUNsb3VkSW52b2NhdGlvbiA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gZWUucnBjX25vZGUuZnVuY3Rpb25CeVJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UoYm9keSksIGFyZ3MpO1xuICB9O1xuICBmdW5jLmdldFNpZ25hdHVyZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7bmFtZTpcIlwiLCBhcmdzOm1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcCh2YXJzLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4ge25hbWU6bmFtZSwgdHlwZTpcIkltYWdlXCIsIG9wdGlvbmFsOiExfTtcbiAgICB9LCB0aGlzKSwgcmV0dXJuczpcIkltYWdlXCJ9O1xuICB9O1xuICByZXR1cm4gZnVuYy5hcHBseShlZUFyZ3MpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2UucHJvdG90eXBlLCBcImV4cHJlc3Npb25cIiwgZWUuSW1hZ2UucHJvdG90eXBlLmV4cHJlc3Npb24pO1xuZWUuSW1hZ2UucHJvdG90eXBlLmNsaXAgPSBmdW5jdGlvbihnZW9tZXRyeSkge1xuICB0cnkge1xuICAgIGdlb21ldHJ5ID0gbmV3IGVlLkdlb21ldHJ5KGdlb21ldHJ5KTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlLmNsaXBcIiwgdGhpcywgZ2VvbWV0cnkpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2UucHJvdG90eXBlLCBcImNsaXBcIiwgZWUuSW1hZ2UucHJvdG90eXBlLmNsaXApO1xuZWUuSW1hZ2UucHJvdG90eXBlLnJlbmFtZSA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBuYW1lcyA9IDEgIT0gYXJndW1lbnRzLmxlbmd0aCB8fCBlZS5UeXBlcy5pc1N0cmluZyhhcmd1bWVudHNbMF0pID8gQXJyYXkuZnJvbShhcmd1bWVudHMpIDogYXJndW1lbnRzWzBdO1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJJbWFnZS5yZW5hbWVcIiwgdGhpcywgbmFtZXMpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2UucHJvdG90eXBlLCBcInJlbmFtZVwiLCBlZS5JbWFnZS5wcm90b3R5cGUucmVuYW1lKTtcbmVlLkltYWdlLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkltYWdlXCI7XG59O1xuZWUuTGlzdCA9IGZ1bmN0aW9uKGxpc3QpIHtcbiAgaWYgKHRoaXMgaW5zdGFuY2VvZiBlZS5MaXN0KSB7XG4gICAgaWYgKDEgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBFcnJvcihcImVlLkxpc3QoKSBvbmx5IGFjY2VwdHMgMSBhcmd1bWVudC5cIik7XG4gICAgfVxuICAgIGlmIChsaXN0IGluc3RhbmNlb2YgZWUuTGlzdCkge1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuTGlzdCwgYXJndW1lbnRzKTtcbiAgfVxuICBlZS5MaXN0LmluaXRpYWxpemUoKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkobGlzdCkpIHtcbiAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG51bGwsIG51bGwpLCB0aGlzLmxpc3RfID0gbGlzdDtcbiAgfSBlbHNlIHtcbiAgICBpZiAobGlzdCBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIGxpc3QuZnVuYywgbGlzdC5hcmdzLCBsaXN0LnZhck5hbWUpLCB0aGlzLmxpc3RfID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHNwZWNpZmllZCBmb3IgZWUuTGlzdCgpOiBcIiArIGxpc3QpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuTGlzdCwgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5MaXN0XCIsIGVlLkxpc3QpO1xuZWUuTGlzdC5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkxpc3QuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5MaXN0LmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkxpc3QsIFwiTGlzdFwiLCBcIkxpc3RcIiksIGVlLkxpc3QuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkxpc3QucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuTGlzdCk7XG4gIGVlLkxpc3QuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuTGlzdC5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLmxpc3RfKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcCh0aGlzLmxpc3RfLCBmdW5jdGlvbihlbGVtKSB7XG4gICAgcmV0dXJuIGVuY29kZXIoZWxlbSk7XG4gIH0pIDogZWUuTGlzdC5zdXBlckNsYXNzXy5lbmNvZGUuY2FsbCh0aGlzLCBlbmNvZGVyKTtcbn07XG5lZS5MaXN0LnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlID0gZnVuY3Rpb24oc2VyaWFsaXplcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLmxpc3RfKSA/IGVlLnJwY19ub2RlLnJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UodGhpcy5saXN0XykpIDogZWUuTGlzdC5zdXBlckNsYXNzXy5lbmNvZGVDbG91ZFZhbHVlLmNhbGwodGhpcywgc2VyaWFsaXplcik7XG59O1xuZWUuTGlzdC5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJMaXN0XCI7XG59O1xuZWUuRmVhdHVyZUNvbGxlY3Rpb24gPSBmdW5jdGlvbihhcmdzLCBvcHRfY29sdW1uKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5GZWF0dXJlQ29sbGVjdGlvbikpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkZlYXR1cmVDb2xsZWN0aW9uLCBhcmd1bWVudHMpO1xuICB9XG4gIGlmIChhcmdzIGluc3RhbmNlb2YgZWUuRmVhdHVyZUNvbGxlY3Rpb24pIHtcbiAgICByZXR1cm4gYXJncztcbiAgfVxuICBpZiAoMiA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIlRoZSBGZWF0dXJlQ29sbGVjdGlvbiBjb25zdHJ1Y3RvciB0YWtlcyBhdCBtb3N0IDIgYXJndW1lbnRzIChcIiArIGFyZ3VtZW50cy5sZW5ndGggKyBcIiBnaXZlbilcIik7XG4gIH1cbiAgZWUuRmVhdHVyZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZSgpO1xuICBhcmdzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkgJiYgKGFyZ3MgPSBuZXcgZWUuRmVhdHVyZShhcmdzKSk7XG4gIGFyZ3MgaW5zdGFuY2VvZiBlZS5GZWF0dXJlICYmIChhcmdzID0gW2FyZ3NdKTtcbiAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKGFyZ3MpKSB7XG4gICAgdmFyIGFjdHVhbEFyZ3MgPSB7dGFibGVJZDphcmdzfTtcbiAgICBvcHRfY29sdW1uICYmIChhY3R1YWxBcmdzLmdlb21ldHJ5Q29sdW1uID0gb3B0X2NvbHVtbik7XG4gICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkNvbGxlY3Rpb24ubG9hZFRhYmxlXCIpLCBhY3R1YWxBcmdzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdzKSkge1xuICAgICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkNvbGxlY3Rpb25cIiksIHtmZWF0dXJlczptb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoYXJncywgZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICByZXR1cm4gbmV3IGVlLkZlYXR1cmUoZWxlbSk7XG4gICAgICB9KX0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXJncyBpbnN0YW5jZW9mIGVlLkxpc3QpIHtcbiAgICAgICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkNvbGxlY3Rpb25cIiksIHtmZWF0dXJlczphcmdzfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXJncyAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgYXJncyAmJiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIgPT09IGFyZ3MudHlwZSkge1xuICAgICAgICAgIGVlLkNvbGxlY3Rpb24uY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJDb2xsZWN0aW9uXCIpLCB7ZmVhdHVyZXM6YXJncy5mZWF0dXJlcy5tYXAoZnVuY3Rpb24oZikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBlZS5GZWF0dXJlKGYpO1xuICAgICAgICAgIH0pfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGFyZ3MgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgICAgICAgICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIGFyZ3MuZnVuYywgYXJncy5hcmdzLCBhcmdzLnZhck5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlVucmVjb2duaXplZCBhcmd1bWVudCB0eXBlIHRvIGNvbnZlcnQgdG8gYSBGZWF0dXJlQ29sbGVjdGlvbjogXCIgKyBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLkZlYXR1cmVDb2xsZWN0aW9uLCBlZS5Db2xsZWN0aW9uKTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRmVhdHVyZUNvbGxlY3Rpb25cIiwgZWUuRmVhdHVyZUNvbGxlY3Rpb24pO1xuZWUuRmVhdHVyZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLkZlYXR1cmVDb2xsZWN0aW9uLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkZlYXR1cmVDb2xsZWN0aW9uLCBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsIFwiRmVhdHVyZUNvbGxlY3Rpb25cIiksIGVlLkZlYXR1cmVDb2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5GZWF0dXJlQ29sbGVjdGlvbik7XG4gIGVlLkZlYXR1cmVDb2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbihvcHRfdmlzUGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFwLCBhcmd1bWVudHMpLCBwYWludGVkID0gZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiQ29sbGVjdGlvbi5kcmF3XCIsIHtjb2xsZWN0aW9uOnRoaXMsIGNvbG9yOihhcmdzLnZpc1BhcmFtcyB8fCB7fSkuY29sb3IgfHwgXCIwMDAwMDBcIn0pO1xuICBpZiAoYXJncy5jYWxsYmFjaykge1xuICAgIHBhaW50ZWQuZ2V0TWFwKHZvaWQgMCwgYXJncy5jYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhaW50ZWQuZ2V0TWFwKCk7XG4gIH1cbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZSwgXCJnZXRNYXBcIiwgZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCk7XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SW5mbyA9IGZ1bmN0aW9uKG9wdF9jYWxsYmFjaykge1xuICByZXR1cm4gZWUuRmVhdHVyZUNvbGxlY3Rpb24uc3VwZXJDbGFzc18uZ2V0SW5mby5jYWxsKHRoaXMsIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZ2V0SW5mb1wiLCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SW5mbyk7XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwgPSBmdW5jdGlvbihvcHRfZm9ybWF0LCBvcHRfc2VsZWN0b3JzLCBvcHRfZmlsZW5hbWUsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCwgYXJndW1lbnRzKSwgcmVxdWVzdCA9IHt0YWJsZTp0aGlzfTtcbiAgYXJncy5mb3JtYXQgJiYgKHJlcXVlc3QuZm9ybWF0ID0gYXJncy5mb3JtYXQudG9VcHBlckNhc2UoKSk7XG4gIGFyZ3MuZmlsZW5hbWUgJiYgKHJlcXVlc3QuZmlsZW5hbWUgPSBhcmdzLmZpbGVuYW1lKTtcbiAgYXJncy5zZWxlY3RvcnMgJiYgKHJlcXVlc3Quc2VsZWN0b3JzID0gYXJncy5zZWxlY3RvcnMpO1xuICBpZiAoYXJncy5jYWxsYmFjaykge1xuICAgIGVlLmRhdGEuZ2V0VGFibGVEb3dubG9hZElkKHJlcXVlc3QsIGZ1bmN0aW9uKGRvd25sb2FkSWQsIGVycm9yKSB7XG4gICAgICBkb3dubG9hZElkID8gYXJncy5jYWxsYmFjayhlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsKGRvd25sb2FkSWQpKSA6IGFyZ3MuY2FsbGJhY2sobnVsbCwgZXJyb3IpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsKGVlLmRhdGEuZ2V0VGFibGVEb3dubG9hZElkKHJlcXVlc3QpKTtcbiAgfVxufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImdldERvd25sb2FkVVJMXCIsIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCk7XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24ocHJvcGVydHlTZWxlY3RvcnMsIG9wdF9uZXdQcm9wZXJ0aWVzLCBvcHRfcmV0YWluR2VvbWV0cnkpIHtcbiAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKHByb3BlcnR5U2VsZWN0b3JzKSkge1xuICAgIHZhciB2YXJhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oZmVhdHVyZSkge1xuICAgICAgcmV0dXJuIGZlYXR1cmUuc2VsZWN0KHZhcmFyZ3MpO1xuICAgIH0pO1xuICB9XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLnNlbGVjdCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICByZXR1cm4gZmVhdHVyZS5zZWxlY3QoYXJncyk7XG4gIH0pO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcInNlbGVjdFwiLCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0KTtcbmVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkZlYXR1cmVDb2xsZWN0aW9uXCI7XG59O1xuZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmVsZW1lbnRUeXBlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBlZS5GZWF0dXJlO1xufTtcbmVlLkltYWdlQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkltYWdlQ29sbGVjdGlvbikpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkltYWdlQ29sbGVjdGlvbiwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAoYXJncyBpbnN0YW5jZW9mIGVlLkltYWdlQ29sbGVjdGlvbikge1xuICAgIHJldHVybiBhcmdzO1xuICB9XG4gIGlmICgxICE9IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIlRoZSBJbWFnZUNvbGxlY3Rpb24gY29uc3RydWN0b3IgdGFrZXMgZXhhY3RseSAxIGFyZ3VtZW50IChcIiArIGFyZ3VtZW50cy5sZW5ndGggKyBcIiBnaXZlbilcIik7XG4gIH1cbiAgZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemUoKTtcbiAgYXJncyBpbnN0YW5jZW9mIGVlLkltYWdlICYmIChhcmdzID0gW2FyZ3NdKTtcbiAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKGFyZ3MpKSB7XG4gICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkltYWdlQ29sbGVjdGlvbi5sb2FkXCIpLCB7aWQ6YXJnc30pO1xuICB9IGVsc2Uge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZ3MpKSB7XG4gICAgICBlZS5Db2xsZWN0aW9uLmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiSW1hZ2VDb2xsZWN0aW9uLmZyb21JbWFnZXNcIiksIHtpbWFnZXM6bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGFyZ3MsIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBlZS5JbWFnZShlbGVtKTtcbiAgICAgIH0pfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhcmdzIGluc3RhbmNlb2YgZWUuTGlzdCkge1xuICAgICAgICBlZS5Db2xsZWN0aW9uLmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiSW1hZ2VDb2xsZWN0aW9uLmZyb21JbWFnZXNcIiksIHtpbWFnZXM6YXJnc30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFyZ3MgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgICAgICAgIGVlLkNvbGxlY3Rpb24uY2FsbCh0aGlzLCBhcmdzLmZ1bmMsIGFyZ3MuYXJncywgYXJncy52YXJOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlVucmVjb2duaXplZCBhcmd1bWVudCB0eXBlIHRvIGNvbnZlcnQgdG8gYW4gSW1hZ2VDb2xsZWN0aW9uOiBcIiArIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZ29vZy5pbmhlcml0cyhlZS5JbWFnZUNvbGxlY3Rpb24sIGVlLkNvbGxlY3Rpb24pO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5JbWFnZUNvbGxlY3Rpb25cIiwgZWUuSW1hZ2VDb2xsZWN0aW9uKTtcbmVlLkltYWdlQ29sbGVjdGlvbi5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkltYWdlQ29sbGVjdGlvbi5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLkltYWdlQ29sbGVjdGlvbi5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5JbWFnZUNvbGxlY3Rpb24sIFwiSW1hZ2VDb2xsZWN0aW9uXCIsIFwiSW1hZ2VDb2xsZWN0aW9uXCIpLCBlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuSW1hZ2VDb2xsZWN0aW9uLCBcInJlZHVjZVwiLCBcIkltYWdlQ29sbGVjdGlvblwiKSwgZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5JbWFnZUNvbGxlY3Rpb24ucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuSW1hZ2VDb2xsZWN0aW9uKTtcbiAgZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0RmlsbXN0cmlwVGh1bWJVUkwgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0RmlsbXN0cmlwVGh1bWJVUkwsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldFRodW1iVVJMXyh0aGlzLCBhcmdzLCBbXCJwbmdcIiwgXCJqcGdcIiwgXCJqcGVnXCJdLCBlZS5JbWFnZUNvbGxlY3Rpb24uVGh1bWJUeXBlcy5GSUxNU1RSSVAsIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImdldEZpbG1zdHJpcFRodW1iVVJMXCIsIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0RmlsbXN0cmlwVGh1bWJVUkwpO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRWaWRlb1RodW1iVVJMID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldFZpZGVvVGh1bWJVUkwsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldFRodW1iVVJMXyh0aGlzLCBhcmdzLCBbXCJnaWZcIl0sIGVlLkltYWdlQ29sbGVjdGlvbi5UaHVtYlR5cGVzLlZJREVPLCBvcHRfY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZSwgXCJnZXRWaWRlb1RodW1iVVJMXCIsIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0VmlkZW9UaHVtYlVSTCk7XG5lZS5JbWFnZUNvbGxlY3Rpb24uVGh1bWJUeXBlcyA9IHtGSUxNU1RSSVA6XCJmaWxtc3RyaXBcIiwgVklERU86XCJ2aWRlb1wiLCBJTUFHRTpcImltYWdlXCIsfTtcbmVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0VGh1bWJVUkxfID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgYXJncywgdmFsaWRGb3JtYXRzLCBvcHRfdGh1bWJUeXBlLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGV4dHJhUGFyYW1zID0ge30sIGNsaXBwZWRDb2xsZWN0aW9uID0gY29sbGVjdGlvbi5tYXAoZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICB2YXIgcHJvamVjdGVkID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlDcnNBbmRUcmFuc2Zvcm0oaW1hZ2UsIGFyZ3MucGFyYW1zKTtcbiAgICByZXR1cm4gZWUuZGF0YS5pbWFnZXMuYXBwbHlTZWxlY3Rpb25BbmRTY2FsZShwcm9qZWN0ZWQsIGFyZ3MucGFyYW1zLCBleHRyYVBhcmFtcyk7XG4gIH0pLCByZXF1ZXN0ID0ge30sIHZpc1BhcmFtcyA9IGVlLmRhdGEuaW1hZ2VzLmV4dHJhY3RWaXNQYXJhbXMoZXh0cmFQYXJhbXMsIHJlcXVlc3QpO1xuICByZXF1ZXN0LmltYWdlQ29sbGVjdGlvbiA9IGNsaXBwZWRDb2xsZWN0aW9uLm1hcChmdW5jdGlvbihpbWFnZSkge1xuICAgIHZpc1BhcmFtcy5pbWFnZSA9IGltYWdlO1xuICAgIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJJbWFnZS52aXN1YWxpemVcIiwgdmlzUGFyYW1zKTtcbiAgfSk7XG4gIG51bGwgIT0gYXJncy5wYXJhbXMuZGltZW5zaW9ucyAmJiAocmVxdWVzdC5kaW1lbnNpb25zID0gYXJncy5wYXJhbXMuZGltZW5zaW9ucyk7XG4gIGlmIChyZXF1ZXN0LmZvcm1hdCkge1xuICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29tZSh2YWxpZEZvcm1hdHMsIGZ1bmN0aW9uKGZvcm1hdCkge1xuICAgICAgcmV0dXJuIGdvb2cuc3RyaW5nLmNhc2VJbnNlbnNpdGl2ZUVxdWFscyhmb3JtYXQsIHJlcXVlc3QuZm9ybWF0KTtcbiAgICB9KSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGZvcm1hdCBzcGVjaWZpZWQuXCIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXF1ZXN0LmZvcm1hdCA9IHZhbGlkRm9ybWF0c1swXTtcbiAgfVxuICB2YXIgZ2V0VGh1bWJJZCA9IGVlLmRhdGEuZ2V0VGh1bWJJZDtcbiAgc3dpdGNoKG9wdF90aHVtYlR5cGUpIHtcbiAgICBjYXNlIGVlLkltYWdlQ29sbGVjdGlvbi5UaHVtYlR5cGVzLlZJREVPOlxuICAgICAgZ2V0VGh1bWJJZCA9IGVlLmRhdGEuZ2V0VmlkZW9UaHVtYklkO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBlZS5JbWFnZUNvbGxlY3Rpb24uVGh1bWJUeXBlcy5GSUxNU1RSSVA6XG4gICAgICBnZXRUaHVtYklkID0gZWUuZGF0YS5nZXRGaWxtc3RyaXBUaHVtYklkO1xuICB9XG4gIGlmIChhcmdzLmNhbGxiYWNrKSB7XG4gICAgZ2V0VGh1bWJJZChyZXF1ZXN0LCBmdW5jdGlvbih0aHVtYklkLCBvcHRfZXJyb3IpIHtcbiAgICAgIHZhciB0aHVtYlVybCA9IFwiXCI7XG4gICAgICBpZiAodm9pZCAwID09PSBvcHRfZXJyb3IpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHVtYlVybCA9IGVlLmRhdGEubWFrZVRodW1iVXJsKHRodW1iSWQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgb3B0X2Vycm9yID0gU3RyaW5nKGUubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFyZ3MuY2FsbGJhY2sodGh1bWJVcmwsIG9wdF9lcnJvcik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGVlLmRhdGEubWFrZVRodW1iVXJsKGdldFRodW1iSWQocmVxdWVzdCkpO1xuICB9XG59O1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbihvcHRfdmlzUGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCwgYXJndW1lbnRzKSwgbW9zYWljID0gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJJbWFnZUNvbGxlY3Rpb24ubW9zYWljXCIsIHRoaXMpO1xuICBpZiAoYXJncy5jYWxsYmFjaykge1xuICAgIG1vc2FpYy5nZXRNYXAoYXJncy52aXNQYXJhbXMsIGFyZ3MuY2FsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBtb3NhaWMuZ2V0TWFwKGFyZ3MudmlzUGFyYW1zKTtcbiAgfVxufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZSwgXCJnZXRNYXBcIiwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRNYXApO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJbmZvID0gZnVuY3Rpb24ob3B0X2NhbGxiYWNrKSB7XG4gIHJldHVybiBlZS5JbWFnZUNvbGxlY3Rpb24uc3VwZXJDbGFzc18uZ2V0SW5mby5jYWxsKHRoaXMsIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImdldEluZm9cIiwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJbmZvKTtcbmVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24oc2VsZWN0b3JzLCBvcHRfbmFtZXMpIHtcbiAgdmFyIHZhcmFyZ3MgPSBhcmd1bWVudHM7XG4gIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqLnNlbGVjdC5hcHBseShvYmosIHZhcmFyZ3MpO1xuICB9KTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwic2VsZWN0XCIsIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0KTtcbmVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBlZS5JbWFnZShlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkNvbGxlY3Rpb24uZmlyc3RcIiwgdGhpcykpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZSwgXCJmaXJzdFwiLCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmZpcnN0KTtcbmVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJJbWFnZUNvbGxlY3Rpb25cIjtcbn07XG5lZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmVsZW1lbnRUeXBlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBlZS5JbWFnZTtcbn07XG5lZS5iYXRjaCA9IHt9O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQgPSB7aW1hZ2U6e30sIG1hcDp7fSwgdGFibGU6e30sIHZpZGVvOnt9LCB2aWRlb01hcDp7fSwgY2xhc3NpZmllcjp7fX0sIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gIHRoaXMuY29uZmlnXyA9IGNvbmZpZztcbiAgdGhpcy5pZCA9IG51bGw7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlID0gZnVuY3Rpb24oZXhwb3J0QXJncykge1xuICB2YXIgY29uZmlnID0ge2VsZW1lbnQ6bW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5leHRyYWN0RWxlbWVudChleHBvcnRBcmdzKX07XG4gIE9iamVjdC5hc3NpZ24oY29uZmlnLCBleHBvcnRBcmdzKTtcbiAgY29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZpbHRlcihjb25maWcsIGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gbnVsbCAhPSB4O1xuICB9KTtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzayhjb25maWcpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKG9wdF9zdWNjZXNzLCBvcHRfZXJyb3IpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXM7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQodGhpcy5jb25maWdfLCBcIlRhc2sgY29uZmlnIG11c3QgYmUgc3BlY2lmaWVkIGZvciB0YXNrcyB0byBiZSBzdGFydGVkLlwiKTtcbiAgaWYgKG9wdF9zdWNjZXNzKSB7XG4gICAgdmFyIHN0YXJ0UHJvY2Vzc2luZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgZ29vZy5hc3NlcnRzLmFzc2VydFN0cmluZygkanNjb21wJHRoaXMuaWQpO1xuICAgICAgZWUuZGF0YS5zdGFydFByb2Nlc3NpbmcoJGpzY29tcCR0aGlzLmlkLCAkanNjb21wJHRoaXMuY29uZmlnXywgZnVuY3Rpb24oXywgZXJyb3IpIHtcbiAgICAgICAgZXJyb3IgPyBvcHRfZXJyb3IoZXJyb3IpIDogb3B0X3N1Y2Nlc3MoKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5pZCA/IHN0YXJ0UHJvY2Vzc2luZygpIDogZWUuZGF0YS5uZXdUYXNrSWQoMSwgZnVuY3Rpb24oaWRzKSB7XG4gICAgICB2YXIgaWQgPSBpZHMgJiYgaWRzWzBdO1xuICAgICAgaWQgPyAoJGpzY29tcCR0aGlzLmlkID0gaWQsIHN0YXJ0UHJvY2Vzc2luZygpKSA6IG9wdF9lcnJvcihcIkZhaWxlZCB0byBvYnRhaW4gdGFzayBJRC5cIik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5pZCA9IHRoaXMuaWQgfHwgZWUuZGF0YS5uZXdUYXNrSWQoMSlbMF0sIGdvb2cuYXNzZXJ0cy5hc3NlcnRTdHJpbmcodGhpcy5pZCwgXCJGYWlsZWQgdG8gb2J0YWluIHRhc2sgSUQuXCIpLCBlZS5kYXRhLnN0YXJ0UHJvY2Vzc2luZyh0aGlzLmlkLCB0aGlzLmNvbmZpZ18pO1xuICB9XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5wcm90b3R5cGUsIFwic3RhcnRcIiwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2sucHJvdG90eXBlLnN0YXJ0KTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Bc3NldCA9IGZ1bmN0aW9uKGltYWdlLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9hc3NldElkLCBvcHRfcHlyYW1pZGluZ1BvbGljeSwgb3B0X2RpbWVuc2lvbnMsIG9wdF9yZWdpb24sIG9wdF9zY2FsZSwgb3B0X2Nycywgb3B0X2Nyc1RyYW5zZm9ybSwgb3B0X21heFBpeGVscywgb3B0X3NoYXJkU2l6ZSkge1xuICB2YXIgY2xpZW50Q29uZmlnID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24obW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0Fzc2V0LCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uQVNTRVQsIGVlLmRhdGEuRXhwb3J0VHlwZS5JTUFHRSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUoc2VydmVyQ29uZmlnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcIm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Bc3NldFwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQXNzZXQpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0Nsb3VkU3RvcmFnZSA9IGZ1bmN0aW9uKGltYWdlLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9idWNrZXQsIG9wdF9maWxlTmFtZVByZWZpeCwgb3B0X2RpbWVuc2lvbnMsIG9wdF9yZWdpb24sIG9wdF9zY2FsZSwgb3B0X2Nycywgb3B0X2Nyc1RyYW5zZm9ybSwgb3B0X21heFBpeGVscywgb3B0X3NoYXJkU2l6ZSwgb3B0X2ZpbGVEaW1lbnNpb25zLCBvcHRfc2tpcEVtcHR5VGlsZXMsIG9wdF9maWxlRm9ybWF0LCBvcHRfZm9ybWF0T3B0aW9ucykge1xuICB2YXIgY2xpZW50Q29uZmlnID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24obW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0Nsb3VkU3RvcmFnZSwgYXJndW1lbnRzKSwgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkdDUywgZWUuZGF0YS5FeHBvcnRUeXBlLklNQUdFKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0Nsb3VkU3RvcmFnZVwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQ2xvdWRTdG9yYWdlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Ecml2ZSA9IGZ1bmN0aW9uKGltYWdlLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9mb2xkZXIsIG9wdF9maWxlTmFtZVByZWZpeCwgb3B0X2RpbWVuc2lvbnMsIG9wdF9yZWdpb24sIG9wdF9zY2FsZSwgb3B0X2Nycywgb3B0X2Nyc1RyYW5zZm9ybSwgb3B0X21heFBpeGVscywgb3B0X3NoYXJkU2l6ZSwgb3B0X2ZpbGVEaW1lbnNpb25zLCBvcHRfc2tpcEVtcHR5VGlsZXMsIG9wdF9maWxlRm9ybWF0LCBvcHRfZm9ybWF0T3B0aW9ucykge1xuICB2YXIgY2xpZW50Q29uZmlnID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24obW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0RyaXZlLCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uRFJJVkUsIGVlLmRhdGEuRXhwb3J0VHlwZS5JTUFHRSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUoc2VydmVyQ29uZmlnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcIm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Ecml2ZVwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvRHJpdmUpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5tYXAudG9DbG91ZFN0b3JhZ2UgPSBmdW5jdGlvbihpbWFnZSwgb3B0X2Rlc2NyaXB0aW9uLCBvcHRfYnVja2V0LCBvcHRfZmlsZUZvcm1hdCwgb3B0X3BhdGgsIG9wdF93cml0ZVB1YmxpY1RpbGVzLCBvcHRfc2NhbGUsIG9wdF9tYXhab29tLCBvcHRfbWluWm9vbSwgb3B0X3JlZ2lvbiwgb3B0X3NraXBFbXB0eVRpbGVzLCBvcHRfbWFwc0FwaUtleSwgb3B0X2J1Y2tldENvcnNVcmlzKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0Lm1hcC50b0Nsb3VkU3RvcmFnZSwgYXJndW1lbnRzKSwgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkdDUywgZWUuZGF0YS5FeHBvcnRUeXBlLk1BUCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUoc2VydmVyQ29uZmlnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcIm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQubWFwLnRvQ2xvdWRTdG9yYWdlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQubWFwLnRvQ2xvdWRTdG9yYWdlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9DbG91ZFN0b3JhZ2UgPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9idWNrZXQsIG9wdF9maWxlTmFtZVByZWZpeCwgb3B0X2ZpbGVGb3JtYXQsIG9wdF9zZWxlY3RvcnMsIG9wdF9tYXhWZXJ0aWNlcykge1xuICB2YXIgY2xpZW50Q29uZmlnID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24obW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Nsb3VkU3RvcmFnZSwgYXJndW1lbnRzKSwgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkdDUywgZWUuZGF0YS5FeHBvcnRUeXBlLlRBQkxFKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Nsb3VkU3RvcmFnZVwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQ2xvdWRTdG9yYWdlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9Ecml2ZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2ZvbGRlciwgb3B0X2ZpbGVOYW1lUHJlZml4LCBvcHRfZmlsZUZvcm1hdCwgb3B0X3NlbGVjdG9ycywgb3B0X21heFZlcnRpY2VzKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRHJpdmUsIGFyZ3VtZW50cyk7XG4gIGNsaWVudENvbmZpZy50eXBlID0gZWUuZGF0YS5FeHBvcnRUeXBlLlRBQkxFO1xuICB2YXIgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkRSSVZFLCBlZS5kYXRhLkV4cG9ydFR5cGUuVEFCTEUpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlKHNlcnZlckNvbmZpZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRHJpdmVcIiwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0RyaXZlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9Bc3NldCA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2Fzc2V0SWQsIG9wdF9tYXhWZXJ0aWNlcykge1xuICB2YXIgY2xpZW50Q29uZmlnID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24obW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Fzc2V0LCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uQVNTRVQsIGVlLmRhdGEuRXhwb3J0VHlwZS5UQUJMRSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUoc2VydmVyQ29uZmlnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcIm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9Bc3NldFwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQXNzZXQpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0ZlYXR1cmVWaWV3ID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgb3B0X2Rlc2NyaXB0aW9uLCBvcHRfYXNzZXRJZCkge1xuICB2YXIgY2xpZW50Q29uZmlnID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24obW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0ZlYXR1cmVWaWV3LCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uRkVBVFVSRV9WSUVXLCBlZS5kYXRhLkV4cG9ydFR5cGUuVEFCTEUpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlKHNlcnZlckNvbmZpZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRmVhdHVyZVZpZXdcIiwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0ZlYXR1cmVWaWV3KTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8udG9DbG91ZFN0b3JhZ2UgPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9idWNrZXQsIG9wdF9maWxlTmFtZVByZWZpeCwgb3B0X2ZyYW1lc1BlclNlY29uZCwgb3B0X2RpbWVuc2lvbnMsIG9wdF9yZWdpb24sIG9wdF9zY2FsZSwgb3B0X2Nycywgb3B0X2Nyc1RyYW5zZm9ybSwgb3B0X21heFBpeGVscywgb3B0X21heEZyYW1lcykge1xuICB2YXIgY2xpZW50Q29uZmlnID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24obW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0Nsb3VkU3RvcmFnZSwgYXJndW1lbnRzKSwgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkdDUywgZWUuZGF0YS5FeHBvcnRUeXBlLlZJREVPKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0Nsb3VkU3RvcmFnZVwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvLnRvQ2xvdWRTdG9yYWdlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8udG9Ecml2ZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2ZvbGRlciwgb3B0X2ZpbGVOYW1lUHJlZml4LCBvcHRfZnJhbWVzUGVyU2Vjb25kLCBvcHRfZGltZW5zaW9ucywgb3B0X3JlZ2lvbiwgb3B0X3NjYWxlLCBvcHRfY3JzLCBvcHRfY3JzVHJhbnNmb3JtLCBvcHRfbWF4UGl4ZWxzLCBvcHRfbWF4RnJhbWVzKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvLnRvRHJpdmUsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5EUklWRSwgZWUuZGF0YS5FeHBvcnRUeXBlLlZJREVPKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0RyaXZlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8udG9Ecml2ZSk7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvTWFwLnRvQ2xvdWRTdG9yYWdlID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgb3B0X2Rlc2NyaXB0aW9uLCBvcHRfYnVja2V0LCBvcHRfZmlsZU5hbWVQcmVmaXgsIG9wdF9mcmFtZXNQZXJTZWNvbmQsIG9wdF93cml0ZVB1YmxpY1RpbGVzLCBvcHRfbWluWm9vbSwgb3B0X21heFpvb20sIG9wdF9zY2FsZSwgb3B0X3JlZ2lvbiwgb3B0X3NraXBFbXB0eVRpbGVzLCBvcHRfbWluVGltZU1hY2hpbmVab29tU3Vic2V0LCBvcHRfbWF4VGltZU1hY2hpbmVab29tU3Vic2V0LCBvcHRfdGlsZVdpZHRoLCBvcHRfdGlsZUhlaWdodCwgb3B0X3RpbGVTdHJpZGUsIG9wdF92aWRlb0Zvcm1hdCwgb3B0X3ZlcnNpb24sIG9wdF9tYXBzQXBpS2V5LCBvcHRfYnVja2V0Q29yc1VyaXMpIHtcbiAgdmFyIGNsaWVudENvbmZpZyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW9NYXAudG9DbG91ZFN0b3JhZ2UsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5HQ1MsIGVlLmRhdGEuRXhwb3J0VHlwZS5WSURFT19NQVApO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlKHNlcnZlckNvbmZpZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvTWFwLnRvQ2xvdWRTdG9yYWdlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW9NYXAudG9DbG91ZFN0b3JhZ2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jbGFzc2lmaWVyLnRvQXNzZXQgPSBmdW5jdGlvbihjbGFzc2lmaWVyLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9hc3NldElkKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNsYXNzaWZpZXIudG9Bc3NldCwgYXJndW1lbnRzKSwgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkFTU0VULCBlZS5kYXRhLkV4cG9ydFR5cGUuQ0xBU1NJRklFUik7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUoc2VydmVyQ29uZmlnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcIm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY2xhc3NpZmllci50b0Fzc2V0XCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY2xhc3NpZmllci50b0Fzc2V0KTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuc2VyaWFsaXplUmVnaW9uID0gZnVuY3Rpb24ocmVnaW9uKSB7XG4gIGlmIChyZWdpb24gaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSkge1xuICAgIHJlZ2lvbiA9IHJlZ2lvbi50b0dlb0pTT04oKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHJlZ2lvbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVnaW9uID0gZ29vZy5hc3NlcnRzLmFzc2VydE9iamVjdChKU09OLnBhcnNlKHJlZ2lvbikpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZm9ybWF0IGZvciByZWdpb24gcHJvcGVydHkuIFJlZ2lvbiBtdXN0IGJlIEdlb0pTT04gTGluZWFyUmluZyBvciBQb2x5Z29uIHNwZWNpZmllZCBhcyBhY3R1YWwgY29vcmRpbmF0ZXMgb3Igc2VyaWFsaXplZCBhcyBhIHN0cmluZy4gU2VlIEV4cG9ydCBkb2N1bWVudGF0aW9uLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCEoZ29vZy5pc09iamVjdChyZWdpb24pICYmIFwidHlwZVwiIGluIHJlZ2lvbikpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IGVlLkdlb21ldHJ5LkxpbmVTdHJpbmcocmVnaW9uKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgZWUuR2VvbWV0cnkuUG9seWdvbihyZWdpb24pO1xuICAgICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGZvcm1hdCBmb3IgcmVnaW9uIHByb3BlcnR5LiBSZWdpb24gbXVzdCBiZSBHZW9KU09OIExpbmVhclJpbmcgb3IgUG9seWdvbiBzcGVjaWZpZWQgYXMgYWN0dWFsIGNvb3JkaW5hdGVzIG9yIHNlcmlhbGl6ZWQgYXMgYSBzdHJpbmcuIFNlZSBFeHBvcnQgZG9jdW1lbnRhdGlvbi5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShyZWdpb24pO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVzb2x2ZVJlZ2lvblBhcmFtID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHBhcmFtcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbG9uZShwYXJhbXMpO1xuICBpZiAoIXBhcmFtcy5yZWdpb24pIHtcbiAgICByZXR1cm4gZ29vZy5Qcm9taXNlLnJlc29sdmUocGFyYW1zKTtcbiAgfVxuICB2YXIgcmVnaW9uID0gcGFyYW1zLnJlZ2lvbjtcbiAgaWYgKHJlZ2lvbiBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgcmV0dXJuIHJlZ2lvbiBpbnN0YW5jZW9mIGVlLkVsZW1lbnQgJiYgKHJlZ2lvbiA9IHJlZ2lvbi5nZW9tZXRyeSgpKSwgbmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlZ2lvbi5nZXRJbmZvKGZ1bmN0aW9uKHJlZ2lvbkluZm8sIGVycm9yKSB7XG4gICAgICAgIGVycm9yID8gcmVqZWN0KGVycm9yKSA6IChwYXJhbXMucmVnaW9uID0gcGFyYW1zLnR5cGUgPT09IGVlLmRhdGEuRXhwb3J0VHlwZS5JTUFHRSA/IG5ldyBlZS5HZW9tZXRyeShyZWdpb25JbmZvKSA6IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuc2VyaWFsaXplUmVnaW9uKHJlZ2lvbkluZm8pLCByZXNvbHZlKHBhcmFtcykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcGFyYW1zLnJlZ2lvbiA9IHBhcmFtcy50eXBlID09PSBlZS5kYXRhLkV4cG9ydFR5cGUuSU1BR0UgPyBuZXcgZWUuR2VvbWV0cnkocmVnaW9uKSA6IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuc2VyaWFsaXplUmVnaW9uKHJlZ2lvbik7XG4gIHJldHVybiBnb29nLlByb21pc2UucmVzb2x2ZShwYXJhbXMpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuZXh0cmFjdEVsZW1lbnQgPSBmdW5jdGlvbihleHBvcnRBcmdzKSB7XG4gIHZhciBpc0luQXJncyA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBrZXkgaW4gZXhwb3J0QXJncztcbiAgfSwgZWVFbGVtZW50S2V5ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5FRV9FTEVNRU5UX0tFWVMuZmluZChpc0luQXJncyk7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoMSA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY291bnQobW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5FRV9FTEVNRU5UX0tFWVMsIGlzSW5BcmdzKSwgJ0V4cGVjdGVkIGEgc2luZ2xlIFwiaW1hZ2VcIiwgXCJjb2xsZWN0aW9uXCIgb3IgXCJjbGFzc2lmaWVyXCIga2V5LicpO1xuICB2YXIgZWxlbWVudCA9IGV4cG9ydEFyZ3NbZWVFbGVtZW50S2V5XTtcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBlZS5JbWFnZSkge1xuICAgIHZhciByZXN1bHQgPSBlbGVtZW50O1xuICB9IGVsc2Uge1xuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgZWUuRmVhdHVyZUNvbGxlY3Rpb24pIHtcbiAgICAgIHJlc3VsdCA9IGVsZW1lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgZWUuSW1hZ2VDb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IGVsZW1lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIGVlLkVsZW1lbnQpIHtcbiAgICAgICAgICByZXN1bHQgPSBlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGVsZW1lbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biBlbGVtZW50IHR5cGUgcHJvdmlkZWQ6IFwiICsgdHlwZW9mIGVsZW1lbnQgKyBcIi4gRXhwZWN0ZWQ6ICBlZS5JbWFnZSwgZWUuSW1hZ2VDb2xsZWN0aW9uLCBlZS5GZWF0dXJlQ29sbGVjdGlvbiwgIGVlLkVsZW1lbnQgb3IgZWUuQ29tcHV0ZWRPYmplY3QuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBkZWxldGUgZXhwb3J0QXJnc1tlZUVsZW1lbnRLZXldO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zID0gZnVuY3Rpb24ob3JpZ2luYWxBcmdzLCBkZXN0aW5hdGlvbiwgZXhwb3J0VHlwZSwgc2VyaWFsaXplUmVnaW9uKSB7XG4gIHNlcmlhbGl6ZVJlZ2lvbiA9IHZvaWQgMCA9PT0gc2VyaWFsaXplUmVnaW9uID8gITAgOiBzZXJpYWxpemVSZWdpb247XG4gIHZhciB0YXNrQ29uZmlnID0ge3R5cGU6ZXhwb3J0VHlwZX07XG4gIE9iamVjdC5hc3NpZ24odGFza0NvbmZpZywgb3JpZ2luYWxBcmdzKTtcbiAgc3dpdGNoKGV4cG9ydFR5cGUpIHtcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5JTUFHRTpcbiAgICAgIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnByZXBhcmVUYXNrQ29uZmlnXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5NQVA6XG4gICAgICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5tYXAucHJlcGFyZVRhc2tDb25maWdfKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnRUeXBlLlRBQkxFOlxuICAgICAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUucHJlcGFyZVRhc2tDb25maWdfKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnRUeXBlLlZJREVPOlxuICAgICAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8ucHJlcGFyZVRhc2tDb25maWdfKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnRUeXBlLlZJREVPX01BUDpcbiAgICAgIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvTWFwLnByZXBhcmVUYXNrQ29uZmlnXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5DTEFTU0lGSUVSOlxuICAgICAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY2xhc3NpZmllci5wcmVwYXJlVGFza0NvbmZpZ18odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biBleHBvcnQgdHlwZTogXCIgKyB0YXNrQ29uZmlnLnR5cGUpO1xuICB9XG4gIHNlcmlhbGl6ZVJlZ2lvbiAmJiBudWxsICE9IHRhc2tDb25maWcucmVnaW9uICYmICh0YXNrQ29uZmlnLnJlZ2lvbiA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuc2VyaWFsaXplUmVnaW9uKHRhc2tDb25maWcucmVnaW9uKSk7XG4gIHJldHVybiB0YXNrQ29uZmlnO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucHJlcGFyZURlc3RpbmF0aW9uXyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKSB7XG4gIHN3aXRjaChkZXN0aW5hdGlvbikge1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5HQ1M6XG4gICAgICB0YXNrQ29uZmlnLm91dHB1dEJ1Y2tldCA9IHRhc2tDb25maWcuYnVja2V0IHx8IFwiXCI7XG4gICAgICB0YXNrQ29uZmlnLm91dHB1dFByZWZpeCA9IHRhc2tDb25maWcuZmlsZU5hbWVQcmVmaXggfHwgdGFza0NvbmZpZy5wYXRoIHx8IFwiXCI7XG4gICAgICBkZWxldGUgdGFza0NvbmZpZy5maWxlTmFtZVByZWZpeDtcbiAgICAgIGRlbGV0ZSB0YXNrQ29uZmlnLnBhdGg7XG4gICAgICBkZWxldGUgdGFza0NvbmZpZy5idWNrZXQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uQVNTRVQ6XG4gICAgICB0YXNrQ29uZmlnLmFzc2V0SWQgPSB0YXNrQ29uZmlnLmFzc2V0SWQgfHwgXCJcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5GRUFUVVJFX1ZJRVc6XG4gICAgICB0YXNrQ29uZmlnLm1hcE5hbWUgPSB0YXNrQ29uZmlnLm1hcE5hbWUgfHwgXCJcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB2YXIgZm9sZGVyVHlwZSA9IGdvb2cudHlwZU9mKHRhc2tDb25maWcuZm9sZGVyKTtcbiAgICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnMoW1wic3RyaW5nXCIsIFwidW5kZWZpbmVkXCJdLCBmb2xkZXJUeXBlKSkge1xuICAgICAgICB0aHJvdyBFcnJvcignRXJyb3I6IHRvRHJpdmUgXCJmb2xkZXJcIiBwYXJhbWV0ZXIgbXVzdCBiZSBhIHN0cmluZywgYnV0IGlzIG9mIHR5cGUgJyArIGZvbGRlclR5cGUgKyBcIi5cIik7XG4gICAgICB9XG4gICAgICB0YXNrQ29uZmlnLmRyaXZlRm9sZGVyID0gdGFza0NvbmZpZy5mb2xkZXIgfHwgXCJcIjtcbiAgICAgIHRhc2tDb25maWcuZHJpdmVGaWxlTmFtZVByZWZpeCA9IHRhc2tDb25maWcuZmlsZU5hbWVQcmVmaXggfHwgXCJcIjtcbiAgICAgIGRlbGV0ZSB0YXNrQ29uZmlnLmZvbGRlcjtcbiAgICAgIGRlbGV0ZSB0YXNrQ29uZmlnLmZpbGVOYW1lUHJlZml4O1xuICB9XG4gIHJldHVybiB0YXNrQ29uZmlnO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UucHJlcGFyZVRhc2tDb25maWdfID0gZnVuY3Rpb24odGFza0NvbmZpZywgZGVzdGluYXRpb24pIHtcbiAgbnVsbCA9PSB0YXNrQ29uZmlnLmZpbGVGb3JtYXQgJiYgKHRhc2tDb25maWcuZmlsZUZvcm1hdCA9IFwiR2VvVElGRlwiKTtcbiAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVjb25jaWxlSW1hZ2VGb3JtYXQodGFza0NvbmZpZyk7XG4gIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnByZXBhcmVEZXN0aW5hdGlvbl8odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xuICBudWxsICE9IHRhc2tDb25maWcuY3JzVHJhbnNmb3JtICYmICh0YXNrQ29uZmlnW21vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuQ1JTX1RSQU5TRk9STV9LRVldID0gdGFza0NvbmZpZy5jcnNUcmFuc2Zvcm0sIGRlbGV0ZSB0YXNrQ29uZmlnLmNyc1RyYW5zZm9ybSk7XG4gIHJldHVybiB0YXNrQ29uZmlnO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUucHJlcGFyZVRhc2tDb25maWdfID0gZnVuY3Rpb24odGFza0NvbmZpZywgZGVzdGluYXRpb24pIHtcbiAgQXJyYXkuaXNBcnJheSh0YXNrQ29uZmlnLnNlbGVjdG9ycykgJiYgKHRhc2tDb25maWcuc2VsZWN0b3JzID0gdGFza0NvbmZpZy5zZWxlY3RvcnMuam9pbigpKTtcbiAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVjb25jaWxlVGFibGVGb3JtYXQodGFza0NvbmZpZyk7XG4gIHJldHVybiB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5wcmVwYXJlRGVzdGluYXRpb25fKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0Lm1hcC5wcmVwYXJlVGFza0NvbmZpZ18gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbikge1xuICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5wcmVwYXJlRGVzdGluYXRpb25fKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbiAgcmV0dXJuIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnJlY29uY2lsZU1hcEZvcm1hdCh0YXNrQ29uZmlnKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvLnByZXBhcmVUYXNrQ29uZmlnXyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKSB7XG4gIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnJlY29uY2lsZVZpZGVvRm9ybWF0Xyh0YXNrQ29uZmlnKTtcbiAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucHJlcGFyZURlc3RpbmF0aW9uXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG4gIG51bGwgIT0gdGFza0NvbmZpZy5jcnNUcmFuc2Zvcm0gJiYgKHRhc2tDb25maWdbbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5DUlNfVFJBTlNGT1JNX0tFWV0gPSB0YXNrQ29uZmlnLmNyc1RyYW5zZm9ybSwgZGVsZXRlIHRhc2tDb25maWcuY3JzVHJhbnNmb3JtKTtcbiAgcmV0dXJuIHRhc2tDb25maWc7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlb01hcC5wcmVwYXJlVGFza0NvbmZpZ18gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbikge1xuICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5yZWNvbmNpbGVWaWRlb0Zvcm1hdF8odGFza0NvbmZpZyk7XG4gIHRhc2tDb25maWcudmVyc2lvbiA9IHRhc2tDb25maWcudmVyc2lvbiB8fCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVmlkZW9NYXBWZXJzaW9uLlYxO1xuICB0YXNrQ29uZmlnLnN0cmlkZSA9IHRhc2tDb25maWcuc3RyaWRlIHx8IDE7XG4gIHRhc2tDb25maWcudGlsZURpbWVuc2lvbnMgPSB7d2lkdGg6dGFza0NvbmZpZy50aWxlV2lkdGggfHwgMjU2LCBoZWlnaHQ6dGFza0NvbmZpZy50aWxlSGVpZ2h0IHx8IDI1Nn07XG4gIHJldHVybiB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5wcmVwYXJlRGVzdGluYXRpb25fKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNsYXNzaWZpZXIucHJlcGFyZVRhc2tDb25maWdfID0gZnVuY3Rpb24odGFza0NvbmZpZywgZGVzdGluYXRpb24pIHtcbiAgcmV0dXJuIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnByZXBhcmVEZXN0aW5hdGlvbl8odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVmlkZW9Gb3JtYXQgPSB7TVA0OlwiTVA0XCIsIEdJRjpcIkdJRlwiLCBWUDk6XCJWUDlcIix9LCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfTWFwRm9ybWF0ID0ge0FVVE9fSlBFR19QTkc6XCJBVVRPX0pQRUdfUE5HXCIsIEpQRUc6XCJKUEVHXCIsIFBORzpcIlBOR1wiLH0sIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9JbWFnZUZvcm1hdCA9IHtHRU9fVElGRjpcIkdFT19USUZGXCIsIFRGX1JFQ09SRF9JTUFHRTpcIlRGX1JFQ09SRF9JTUFHRVwiLH0sIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9UYWJsZUZvcm1hdCA9IHtDU1Y6XCJDU1ZcIiwgR0VPX0pTT046XCJHRU9fSlNPTlwiLCBLTUw6XCJLTUxcIiwgS01aOlwiS01aXCIsIFNIUDpcIlNIUFwiLCBURl9SRUNPUkRfVEFCTEU6XCJURl9SRUNPUkRfVEFCTEVcIix9LCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVmlkZW9NYXBWZXJzaW9uID0ge1YxOlwiVjFcIiwgVjI6XCJWMlwiLH0sIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9GT1JNQVRfT1BUSU9OU19NQVAgPSBcbntHRU9fVElGRjpbXCJjbG91ZE9wdGltaXplZFwiLCBcImZpbGVEaW1lbnNpb25zXCIsIFwic2hhcmRTaXplXCIsXSwgVEZfUkVDT1JEX0lNQUdFOlwicGF0Y2hEaW1lbnNpb25zIGtlcm5lbFNpemUgY29tcHJlc3NlZCBtYXhGaWxlU2l6ZSBkZWZhdWx0VmFsdWUgdGVuc29yRGVwdGhzIHNlcXVlbmNlRGF0YSBjb2xsYXBzZUJhbmRzIG1hc2tlZFRocmVzaG9sZFwiLnNwbGl0KFwiIFwiKX0sIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9GT1JNQVRfUFJFRklYX01BUCA9IHtHRU9fVElGRjpcInRpZmZcIiwgVEZfUkVDT1JEX0lNQUdFOlwidGZyZWNvcmRcIn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnJlY29uY2lsZVZpZGVvRm9ybWF0XyA9IGZ1bmN0aW9uKHRhc2tDb25maWcpIHtcbiAgdGFza0NvbmZpZy52aWRlb09wdGlvbnMgPSB0YXNrQ29uZmlnLmZyYW1lc1BlclNlY29uZCB8fCA1LjA7XG4gIHRhc2tDb25maWcubWF4RnJhbWVzID0gdGFza0NvbmZpZy5tYXhGcmFtZXMgfHwgMTAwMDtcbiAgdGFza0NvbmZpZy5tYXhQaXhlbHMgPSB0YXNrQ29uZmlnLm1heFBpeGVscyB8fCAxZTg7XG4gIHZhciBmb3JtYXRTdHJpbmcgPSB0YXNrQ29uZmlnLmZpbGVGb3JtYXQ7XG4gIG51bGwgPT0gZm9ybWF0U3RyaW5nICYmIChmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVmlkZW9Gb3JtYXQuTVA0KTtcbiAgZm9ybWF0U3RyaW5nID0gZm9ybWF0U3RyaW5nLnRvVXBwZXJDYXNlKCk7XG4gIHN3aXRjaChmb3JtYXRTdHJpbmcpIHtcbiAgICBjYXNlIFwiTVA0XCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVmlkZW9Gb3JtYXQuTVA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkdJRlwiOlxuICAgIGNhc2UgXCJKSUZcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9WaWRlb0Zvcm1hdC5HSUY7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiVlA5XCI6XG4gICAgY2FzZSBcIldFQk1cIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9WaWRlb0Zvcm1hdC5WUDk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGZpbGUgZm9ybWF0IFwiICsgZm9ybWF0U3RyaW5nICsgXCIuIFN1cHBvcnRlZCBmb3JtYXRzIGFyZTogJ01QNCcsICdHSUYnLCBhbmQgJ1dFQk0nLlwiKTtcbiAgfVxuICB0YXNrQ29uZmlnLmZpbGVGb3JtYXQgPSBmb3JtYXRTdHJpbmc7XG4gIHJldHVybiB0YXNrQ29uZmlnO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVjb25jaWxlSW1hZ2VGb3JtYXQgPSBmdW5jdGlvbih0YXNrQ29uZmlnKSB7XG4gIHZhciBmb3JtYXRTdHJpbmcgPSB0YXNrQ29uZmlnLmZpbGVGb3JtYXQ7XG4gIG51bGwgPT0gZm9ybWF0U3RyaW5nICYmIChmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfSW1hZ2VGb3JtYXQuR0VPX1RJRkYpO1xuICBmb3JtYXRTdHJpbmcgPSBmb3JtYXRTdHJpbmcudG9VcHBlckNhc2UoKTtcbiAgc3dpdGNoKGZvcm1hdFN0cmluZykge1xuICAgIGNhc2UgXCJUSUZGXCI6XG4gICAgY2FzZSBcIlRJRlwiOlxuICAgIGNhc2UgXCJHRU9fVElGRlwiOlxuICAgIGNhc2UgXCJHRU9USUZGXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfSW1hZ2VGb3JtYXQuR0VPX1RJRkY7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiVEZfUkVDT1JEXCI6XG4gICAgY2FzZSBcIlRGX1JFQ09SRF9JTUFHRVwiOlxuICAgIGNhc2UgXCJURlJFQ09SRFwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0ltYWdlRm9ybWF0LlRGX1JFQ09SRF9JTUFHRTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZmlsZSBmb3JtYXQgXCIgKyBmb3JtYXRTdHJpbmcgKyBcIi4gU3VwcG9ydGVkIGZvcm1hdHMgYXJlOiAnR0VPVElGRicsICdURlJFQ09SRCcuXCIpO1xuICB9XG4gIHRhc2tDb25maWcuZmlsZUZvcm1hdCA9IGZvcm1hdFN0cmluZztcbiAgaWYgKG51bGwgIT0gdGFza0NvbmZpZy5mb3JtYXRPcHRpb25zKSB7XG4gICAgdmFyIGZvcm1hdE9wdGlvbnMgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnByZWZpeEltYWdlRm9ybWF0T3B0aW9uc18odGFza0NvbmZpZywgZm9ybWF0U3RyaW5nKTtcbiAgICBkZWxldGUgdGFza0NvbmZpZy5mb3JtYXRPcHRpb25zO1xuICAgIE9iamVjdC5hc3NpZ24odGFza0NvbmZpZywgZm9ybWF0T3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIHRhc2tDb25maWc7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5yZWNvbmNpbGVNYXBGb3JtYXQgPSBmdW5jdGlvbih0YXNrQ29uZmlnKSB7XG4gIHZhciBmb3JtYXRTdHJpbmcgPSB0YXNrQ29uZmlnLmZpbGVGb3JtYXQ7XG4gIG51bGwgPT0gZm9ybWF0U3RyaW5nICYmIChmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfTWFwRm9ybWF0LkFVVE9fSlBFR19QTkcpO1xuICBmb3JtYXRTdHJpbmcgPSBmb3JtYXRTdHJpbmcudG9VcHBlckNhc2UoKTtcbiAgc3dpdGNoKGZvcm1hdFN0cmluZykge1xuICAgIGNhc2UgXCJBVVRPXCI6XG4gICAgY2FzZSBcIkFVVE9fSlBFR19QTkdcIjpcbiAgICBjYXNlIFwiQVVUT19KUEdfUE5HXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfTWFwRm9ybWF0LkFVVE9fSlBFR19QTkc7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiSlBHXCI6XG4gICAgY2FzZSBcIkpQRUdcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9NYXBGb3JtYXQuSlBFRztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJQTkdcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9NYXBGb3JtYXQuUE5HO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBmaWxlIGZvcm1hdCBcIiArIGZvcm1hdFN0cmluZyArIFwiLiBTdXBwb3J0ZWQgZm9ybWF0cyBhcmU6ICdBVVRPJywgJ1BORycsIGFuZCAnSlBFRycuXCIpO1xuICB9XG4gIHRhc2tDb25maWcuZmlsZUZvcm1hdCA9IGZvcm1hdFN0cmluZztcbiAgcmV0dXJuIHRhc2tDb25maWc7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5yZWNvbmNpbGVUYWJsZUZvcm1hdCA9IGZ1bmN0aW9uKHRhc2tDb25maWcpIHtcbiAgdmFyIGZvcm1hdFN0cmluZyA9IHRhc2tDb25maWcuZmlsZUZvcm1hdDtcbiAgbnVsbCA9PSBmb3JtYXRTdHJpbmcgJiYgKGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9UYWJsZUZvcm1hdC5DU1YpO1xuICBmb3JtYXRTdHJpbmcgPSBmb3JtYXRTdHJpbmcudG9VcHBlckNhc2UoKTtcbiAgc3dpdGNoKGZvcm1hdFN0cmluZykge1xuICAgIGNhc2UgXCJDU1ZcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9UYWJsZUZvcm1hdC5DU1Y7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiSlNPTlwiOlxuICAgIGNhc2UgXCJHRU9KU09OXCI6XG4gICAgY2FzZSBcIkdFT19KU09OXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVGFibGVGb3JtYXQuR0VPX0pTT047XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiS01MXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVGFibGVGb3JtYXQuS01MO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIktNWlwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1RhYmxlRm9ybWF0LktNWjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJTSFBcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9UYWJsZUZvcm1hdC5TSFA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiVEZfUkVDT1JEXCI6XG4gICAgY2FzZSBcIlRGX1JFQ09SRF9UQUJMRVwiOlxuICAgIGNhc2UgXCJURlJFQ09SRFwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1RhYmxlRm9ybWF0LlRGX1JFQ09SRF9UQUJMRTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZmlsZSBmb3JtYXQgXCIgKyBmb3JtYXRTdHJpbmcgKyBcIi4gU3VwcG9ydGVkIGZvcm1hdHMgYXJlOiAnQ1NWJywgJ0dlb0pTT04nLCAnS01MJywgJ0tNWicsICdTSFAnLCBhbmQgJ1RGUmVjb3JkJy5cIik7XG4gIH1cbiAgdGFza0NvbmZpZy5maWxlRm9ybWF0ID0gZm9ybWF0U3RyaW5nO1xuICByZXR1cm4gdGFza0NvbmZpZztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnByZWZpeEltYWdlRm9ybWF0T3B0aW9uc18gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBpbWFnZUZvcm1hdCkge1xuICB2YXIgZm9ybWF0T3B0aW9ucyA9IHRhc2tDb25maWcuZm9ybWF0T3B0aW9ucztcbiAgaWYgKG51bGwgPT0gZm9ybWF0T3B0aW9ucykge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBpZiAoT2JqZWN0LmtleXModGFza0NvbmZpZykuc29tZShmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zS2V5KGZvcm1hdE9wdGlvbnMsIGtleSk7XG4gIH0pKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJQYXJhbWV0ZXIgc3BlY2lmaWVkIGF0IGxlYXN0IHR3aWNlOiBvbmNlIGluIGNvbmZpZywgYW5kIG9uY2UgaW4gY29uZmlnIGZvcm1hdCBvcHRpb25zLlwiKTtcbiAgfVxuICBmb3IgKHZhciBwcmVmaXggPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRk9STUFUX1BSRUZJWF9NQVBbaW1hZ2VGb3JtYXRdLCB2YWxpZE9wdGlvbktleXMgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRk9STUFUX09QVElPTlNfTUFQW2ltYWdlRm9ybWF0XSwgcHJlZml4ZWRPcHRpb25zID0ge30sICRqc2NvbXAkaXRlciQyNyA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5lbnRyaWVzKGZvcm1hdE9wdGlvbnMpKSwgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDI3Lm5leHQoKTsgISRqc2NvbXAka2V5JC5kb25lOyAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMjcubmV4dCgpKSB7XG4gICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzNyA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAka2V5JC52YWx1ZSksIGtleSRqc2NvbXAkMCA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzNy5uZXh0KCkudmFsdWUsIHZhbHVlID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjM3Lm5leHQoKS52YWx1ZTtcbiAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKHZhbGlkT3B0aW9uS2V5cywga2V5JGpzY29tcCQwKSkge1xuICAgICAgdmFyIHZhbGlkS2V5c01zZyA9IHZhbGlkT3B0aW9uS2V5cy5qb2luKFwiLCBcIik7XG4gICAgICB0aHJvdyBFcnJvcignXCInICsga2V5JGpzY29tcCQwICsgJ1wiIGlzIG5vdCBhIHZhbGlkIG9wdGlvbiwgdGhlIGltYWdlIGZvcm1hdCBcIicgKyBpbWFnZUZvcm1hdCArICdcIlwibWF5IGhhdmUgdGhlIGZvbGxvd2luZyBvcHRpb25zOiAnICsgKHZhbGlkS2V5c01zZyArICdcIi4nKSk7XG4gICAgfVxuICAgIHZhciBwcmVmaXhlZEtleSA9IHByZWZpeCArIGtleSRqc2NvbXAkMFswXS50b1VwcGVyQ2FzZSgpICsga2V5JGpzY29tcCQwLnN1YnN0cmluZygxKTtcbiAgICBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHByZWZpeGVkT3B0aW9uc1twcmVmaXhlZEtleV0gPSB2YWx1ZS5qb2luKCkgOiBwcmVmaXhlZE9wdGlvbnNbcHJlZml4ZWRLZXldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHByZWZpeGVkT3B0aW9ucztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LkNSU19UUkFOU0ZPUk1fS0VZID0gXCJjcnNfdHJhbnNmb3JtXCI7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LkVFX0VMRU1FTlRfS0VZUyA9IFtcImltYWdlXCIsIFwiY29sbGVjdGlvblwiLCBcImNsYXNzaWZpZXJcIl07XG5lZS5iYXRjaC5FeHBvcnQgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0O1xuZWUuYmF0Y2guRXhwb3J0VGFzayA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrO1xuZWUuYmF0Y2guSW1hZ2VGb3JtYXQgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfSW1hZ2VGb3JtYXQ7XG5lZS5iYXRjaC5NYXBGb3JtYXQgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfTWFwRm9ybWF0O1xuZWUuYmF0Y2guU2VydmVyVGFza0NvbmZpZyA9IHt9O1xuZWUuYmF0Y2guVGFibGVGb3JtYXQgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVGFibGVGb3JtYXQ7XG5lZS5iYXRjaC5WaWRlb0Zvcm1hdCA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9WaWRlb0Zvcm1hdDtcbmVlLk51bWJlciA9IGZ1bmN0aW9uKG51bWJlcikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuTnVtYmVyKSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuTnVtYmVyLCBhcmd1bWVudHMpO1xuICB9XG4gIGlmIChudW1iZXIgaW5zdGFuY2VvZiBlZS5OdW1iZXIpIHtcbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG4gIGVlLk51bWJlci5pbml0aWFsaXplKCk7XG4gIGlmIChcIm51bWJlclwiID09PSB0eXBlb2YgbnVtYmVyKSB7XG4gICAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBudWxsLCBudWxsKSwgdGhpcy5udW1iZXJfID0gbnVtYmVyO1xuICB9IGVsc2Uge1xuICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgICAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBudW1iZXIuZnVuYywgbnVtYmVyLmFyZ3MsIG51bWJlci52YXJOYW1lKSwgdGhpcy5udW1iZXJfID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHNwZWNpZmllZCBmb3IgZWUuTnVtYmVyKCk6IFwiICsgbnVtYmVyKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLk51bWJlciwgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5OdW1iZXJcIiwgZWUuTnVtYmVyKTtcbmVlLk51bWJlci5pbml0aWFsaXplZF8gPSAhMTtcbmVlLk51bWJlci5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLk51bWJlci5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5OdW1iZXIsIFwiTnVtYmVyXCIsIFwiTnVtYmVyXCIpLCBlZS5OdW1iZXIuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLk51bWJlci5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5OdW1iZXIpO1xuICBlZS5OdW1iZXIuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuTnVtYmVyLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gIHJldHVybiBcIm51bWJlclwiID09PSB0eXBlb2YgdGhpcy5udW1iZXJfID8gdGhpcy5udW1iZXJfIDogZWUuTnVtYmVyLnN1cGVyQ2xhc3NfLmVuY29kZS5jYWxsKHRoaXMsIGVuY29kZXIpO1xufTtcbmVlLk51bWJlci5wcm90b3R5cGUuZW5jb2RlQ2xvdWRWYWx1ZSA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIpIHtcbiAgcmV0dXJuIFwibnVtYmVyXCIgPT09IHR5cGVvZiB0aGlzLm51bWJlcl8gPyBlZS5ycGNfbm9kZS5yZWZlcmVuY2Uoc2VyaWFsaXplci5tYWtlUmVmZXJlbmNlKHRoaXMubnVtYmVyXykpIDogZWUuTnVtYmVyLnN1cGVyQ2xhc3NfLmVuY29kZUNsb3VkVmFsdWUuY2FsbCh0aGlzLCBzZXJpYWxpemVyKTtcbn07XG5lZS5OdW1iZXIucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiTnVtYmVyXCI7XG59O1xuZWUuU3RyaW5nID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5TdHJpbmcsIGFyZ3VtZW50cyk7XG4gIH1cbiAgaWYgKHN0cmluZyBpbnN0YW5jZW9mIGVlLlN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cbiAgZWUuU3RyaW5nLmluaXRpYWxpemUoKTtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBzdHJpbmcpIHtcbiAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG51bGwsIG51bGwpLCB0aGlzLnN0cmluZ18gPSBzdHJpbmc7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHN0cmluZyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgICB0aGlzLnN0cmluZ18gPSBudWxsLCBzdHJpbmcuZnVuYyAmJiBcIlN0cmluZ1wiID09IHN0cmluZy5mdW5jLmdldFNpZ25hdHVyZSgpLnJldHVybnMgPyBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIHN0cmluZy5mdW5jLCBzdHJpbmcuYXJncywgc3RyaW5nLnZhck5hbWUpIDogZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJTdHJpbmdcIiksIHtpbnB1dDpzdHJpbmd9LCBudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHNwZWNpZmllZCBmb3IgZWUuU3RyaW5nKCk6IFwiICsgc3RyaW5nKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLlN0cmluZywgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TdHJpbmdcIiwgZWUuU3RyaW5nKTtcbmVlLlN0cmluZy5pbml0aWFsaXplZF8gPSAhMTtcbmVlLlN0cmluZy5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLlN0cmluZy5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5TdHJpbmcsIFwiU3RyaW5nXCIsIFwiU3RyaW5nXCIpLCBlZS5TdHJpbmcuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLlN0cmluZy5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5TdHJpbmcpO1xuICBlZS5TdHJpbmcuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuU3RyaW5nLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgdGhpcy5zdHJpbmdfID8gdGhpcy5zdHJpbmdfIDogZWUuU3RyaW5nLnN1cGVyQ2xhc3NfLmVuY29kZS5jYWxsKHRoaXMsIGVuY29kZXIpO1xufTtcbmVlLlN0cmluZy5wcm90b3R5cGUuZW5jb2RlQ2xvdWRWYWx1ZSA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIpIHtcbiAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGlzLnN0cmluZ18gPyBlZS5ycGNfbm9kZS5yZWZlcmVuY2Uoc2VyaWFsaXplci5tYWtlUmVmZXJlbmNlKHRoaXMuc3RyaW5nXykpIDogZWUuU3RyaW5nLnN1cGVyQ2xhc3NfLmVuY29kZUNsb3VkVmFsdWUuY2FsbCh0aGlzLCBzZXJpYWxpemVyKTtcbn07XG5lZS5TdHJpbmcucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiU3RyaW5nXCI7XG59O1xuZWUuQ3VzdG9tRnVuY3Rpb24gPSBmdW5jdGlvbihzaWduYXR1cmUsIGJvZHkpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkN1c3RvbUZ1bmN0aW9uKSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuQ3VzdG9tRnVuY3Rpb24sIGFyZ3VtZW50cyk7XG4gIH1cbiAgZm9yICh2YXIgdmFycyA9IFtdLCBhcmdzID0gc2lnbmF0dXJlLmFyZ3MsIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhcmcgPSBhcmdzW2ldO1xuICAgIHZhcnMucHVzaChlZS5DdXN0b21GdW5jdGlvbi52YXJpYWJsZShlZS5UeXBlcy5uYW1lVG9DbGFzcyhhcmcudHlwZSksIGFyZy5uYW1lKSk7XG4gIH1cbiAgaWYgKHZvaWQgMCA9PT0gYm9keS5hcHBseShudWxsLCB2YXJzKSkge1xuICAgIHRocm93IEVycm9yKFwiVXNlci1kZWZpbmVkIG1ldGhvZHMgbXVzdCByZXR1cm4gYSB2YWx1ZS5cIik7XG4gIH1cbiAgdGhpcy5zaWduYXR1cmVfID0gZWUuQ3VzdG9tRnVuY3Rpb24ucmVzb2x2ZU5hbWVsZXNzQXJnc18oc2lnbmF0dXJlLCB2YXJzLCBib2R5KTtcbiAgdGhpcy5ib2R5XyA9IGJvZHkuYXBwbHkobnVsbCwgdmFycyk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5DdXN0b21GdW5jdGlvbiwgZWUuRnVuY3Rpb24pO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5DdXN0b21GdW5jdGlvblwiLCBlZS5DdXN0b21GdW5jdGlvbik7XG5lZS5DdXN0b21GdW5jdGlvbi5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICByZXR1cm4ge3R5cGU6XCJGdW5jdGlvblwiLCBhcmd1bWVudE5hbWVzOm1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcCh0aGlzLnNpZ25hdHVyZV8uYXJncywgZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZy5uYW1lO1xuICB9KSwgYm9keTplbmNvZGVyKHRoaXMuYm9keV8pfTtcbn07XG5lZS5DdXN0b21GdW5jdGlvbi5wcm90b3R5cGUuZW5jb2RlQ2xvdWRWYWx1ZSA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIpIHtcbiAgcmV0dXJuIGVlLnJwY19ub2RlLmZ1bmN0aW9uRGVmaW5pdGlvbih0aGlzLnNpZ25hdHVyZV8uYXJncy5tYXAoZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZy5uYW1lO1xuICB9KSwgc2VyaWFsaXplci5tYWtlUmVmZXJlbmNlKHRoaXMuYm9keV8pKTtcbn07XG5lZS5DdXN0b21GdW5jdGlvbi5wcm90b3R5cGUuZW5jb2RlQ2xvdWRJbnZvY2F0aW9uID0gZnVuY3Rpb24oc2VyaWFsaXplciwgYXJncykge1xuICByZXR1cm4gZWUucnBjX25vZGUuZnVuY3Rpb25CeVJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UodGhpcyksIGFyZ3MpO1xufTtcbmVlLkN1c3RvbUZ1bmN0aW9uLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc2lnbmF0dXJlXztcbn07XG5lZS5DdXN0b21GdW5jdGlvbi52YXJpYWJsZSA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUkanNjb21wJDApIHtcbiAgdHlwZSA9IHR5cGUgfHwgT2JqZWN0O1xuICBpZiAoISh0eXBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSkge1xuICAgIGlmICh0eXBlICYmIHR5cGUgIT0gT2JqZWN0KSB7XG4gICAgICBpZiAodHlwZSA9PSBTdHJpbmcpIHtcbiAgICAgICAgdHlwZSA9IGVlLlN0cmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlID09IE51bWJlcikge1xuICAgICAgICAgIHR5cGUgPSBlZS5OdW1iZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGUgPT0gQXJyYXkpIHtcbiAgICAgICAgICAgIHR5cGUgPSBnb29nLmdsb2JhbC5lZS5MaXN0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlZhcmlhYmxlcyBtdXN0IGJlIG9mIGFuIEVFIHR5cGUsIGUuZy4gZWUuSW1hZ2Ugb3IgZWUuTnVtYmVyLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IGVlLkNvbXB1dGVkT2JqZWN0O1xuICAgIH1cbiAgfVxuICB2YXIga2xhc3MgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgdGhpcy5hcmdzID0gdGhpcy5mdW5jID0gbnVsbDtcbiAgICB0aGlzLnZhck5hbWUgPSBuYW1lO1xuICB9O1xuICBrbGFzcy5wcm90b3R5cGUgPSB0eXBlLnByb3RvdHlwZTtcbiAgcmV0dXJuIG5ldyBrbGFzcyhuYW1lJGpzY29tcCQwKTtcbn07XG5lZS5DdXN0b21GdW5jdGlvbi5jcmVhdGUgPSBmdW5jdGlvbihmdW5jLCByZXR1cm5UeXBlLCBhcmdfdHlwZXMpIHtcbiAgdmFyIHN0cmluZ2lmeVR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlID8gdHlwZSA6IGVlLlR5cGVzLmNsYXNzVG9OYW1lKHR5cGUpO1xuICB9LCBhcmdzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGFyZ190eXBlcywgZnVuY3Rpb24oYXJnVHlwZSkge1xuICAgIHJldHVybiB7bmFtZTpudWxsLCB0eXBlOnN0cmluZ2lmeVR5cGUoYXJnVHlwZSl9O1xuICB9KSwgc2lnbmF0dXJlID0ge25hbWU6XCJcIiwgcmV0dXJuczpzdHJpbmdpZnlUeXBlKHJldHVyblR5cGUpLCBhcmdzOmFyZ3N9O1xuICByZXR1cm4gbmV3IGVlLkN1c3RvbUZ1bmN0aW9uKHNpZ25hdHVyZSwgZnVuYyk7XG59O1xuZWUuQ3VzdG9tRnVuY3Rpb24ucmVzb2x2ZU5hbWVsZXNzQXJnc18gPSBmdW5jdGlvbihzaWduYXR1cmUsIHZhcnMsIGJvZHkpIHtcbiAgZm9yICh2YXIgbmFtZWxlc3NBcmdJbmRpY2VzID0gW10sIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgIG51bGwgPT09IHZhcnNbaV0udmFyTmFtZSAmJiBuYW1lbGVzc0FyZ0luZGljZXMucHVzaChpKTtcbiAgfVxuICBpZiAoMCA9PT0gbmFtZWxlc3NBcmdJbmRpY2VzLmxlbmd0aCkge1xuICAgIHJldHVybiBzaWduYXR1cmU7XG4gIH1cbiAgZm9yICh2YXIgYmFzZU5hbWUgPSBcIl9NQVBQSU5HX1ZBUl9cIiArIGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcbiAgICB2YXIgY291bnROb2RlcyA9IGZ1bmN0aW9uKG5vZGVzKSB7XG4gICAgICByZXR1cm4gbm9kZXMubWFwKGNvdW50Tm9kZSkucmVkdWNlKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgKyBiO1xuICAgICAgfSwgMCk7XG4gICAgfSwgY291bnROb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUuZnVuY3Rpb25EZWZpbml0aW9uVmFsdWUgPyAxIDogbm9kZS5hcnJheVZhbHVlID8gY291bnROb2Rlcyhub2RlLmFycmF5VmFsdWUudmFsdWVzKSA6IG5vZGUuZGljdGlvbmFyeVZhbHVlID8gY291bnROb2RlcyhPYmplY3QudmFsdWVzKG5vZGUuZGljdGlvbmFyeVZhbHVlLnZhbHVlcykpIDogbm9kZS5mdW5jdGlvbkludm9jYXRpb25WYWx1ZSA/IGNvdW50Tm9kZXMoT2JqZWN0LnZhbHVlcyhub2RlLmZ1bmN0aW9uSW52b2NhdGlvblZhbHVlLmFyZ3VtZW50cykpIDogMDtcbiAgICB9O1xuICAgIHJldHVybiBjb3VudE5vZGVzKE9iamVjdC52YWx1ZXMoZXhwcmVzc2lvbi52YWx1ZXMpKTtcbiAgfShlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihib2R5LmFwcGx5KG51bGwsIHZhcnMpLCBcIjx1bmJvdW5kPlwiKSkgKyBcIl9cIiwgaSQ3MCA9IDA7IGkkNzAgPCBuYW1lbGVzc0FyZ0luZGljZXMubGVuZ3RoOyBpJDcwKyspIHtcbiAgICB2YXIgaW5kZXggPSBuYW1lbGVzc0FyZ0luZGljZXNbaSQ3MF0sIG5hbWUgPSBiYXNlTmFtZSArIGkkNzA7XG4gICAgdmFyc1tpbmRleF0udmFyTmFtZSA9IG5hbWU7XG4gICAgc2lnbmF0dXJlLmFyZ3NbaW5kZXhdLm5hbWUgPSBuYW1lO1xuICB9XG4gIHJldHVybiBzaWduYXR1cmU7XG59O1xuZWUuRGF0ZSA9IGZ1bmN0aW9uKGRhdGUsIG9wdF90eikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuRGF0ZSkpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkRhdGUsIGFyZ3VtZW50cyk7XG4gIH1cbiAgaWYgKGRhdGUgaW5zdGFuY2VvZiBlZS5EYXRlKSB7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbiAgZWUuRGF0ZS5pbml0aWFsaXplKCk7XG4gIHZhciBqc0FyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5EYXRlLCBhcmd1bWVudHMpO1xuICBkYXRlID0ganNBcmdzLmRhdGU7XG4gIHZhciB0eiA9IGpzQXJncy50eiwgZnVuYyA9IG5ldyBlZS5BcGlGdW5jdGlvbihcIkRhdGVcIiksIGFyZ3MgPSB7fSwgdmFyTmFtZSA9IG51bGw7XG4gIGlmIChlZS5UeXBlcy5pc1N0cmluZyhkYXRlKSkge1xuICAgIGlmIChhcmdzLnZhbHVlID0gZGF0ZSwgdHopIHtcbiAgICAgIGlmIChlZS5UeXBlcy5pc1N0cmluZyh0eikpIHtcbiAgICAgICAgYXJncy50aW1lWm9uZSA9IHR6O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHNwZWNpZmllZCBmb3IgZWUuRGF0ZSguLi4sIG9wdF90eik6IFwiICsgdHopO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZWUuVHlwZXMuaXNOdW1iZXIoZGF0ZSkpIHtcbiAgICAgIGFyZ3MudmFsdWUgPSBkYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZ29vZy5pc0RhdGVMaWtlKGRhdGUpKSB7XG4gICAgICAgIGFyZ3MudmFsdWUgPSBNYXRoLmZsb29yKGRhdGUuZ2V0VGltZSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkYXRlIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICAgICAgICBkYXRlLmZ1bmMgJiYgXCJEYXRlXCIgPT0gZGF0ZS5mdW5jLmdldFNpZ25hdHVyZSgpLnJldHVybnMgPyAoZnVuYyA9IGRhdGUuZnVuYywgYXJncyA9IGRhdGUuYXJncywgdmFyTmFtZSA9IGRhdGUudmFyTmFtZSkgOiBhcmdzLnZhbHVlID0gZGF0ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgc3BlY2lmaWVkIGZvciBlZS5EYXRlKCk6IFwiICsgZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBmdW5jLCBhcmdzLCB2YXJOYW1lKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkRhdGUsIGVlLkNvbXB1dGVkT2JqZWN0KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRGF0ZVwiLCBlZS5EYXRlKTtcbmVlLkRhdGUuaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5EYXRlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuRGF0ZS5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5EYXRlLCBcIkRhdGVcIiwgXCJEYXRlXCIpLCBlZS5EYXRlLmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5EYXRlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkRhdGUpO1xuICBlZS5EYXRlLmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkRhdGUucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiRGF0ZVwiO1xufTtcbmVlLkRlc2VyaWFsaXplciA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRGVzZXJpYWxpemVyXCIsIGVlLkRlc2VyaWFsaXplcik7XG5lZS5EZXNlcmlhbGl6ZXIuZnJvbUpTT04gPSBmdW5jdGlvbihqc29uKSB7XG4gIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlKEpTT04ucGFyc2UoanNvbikpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRGVzZXJpYWxpemVyLmZyb21KU09OXCIsIGVlLkRlc2VyaWFsaXplci5mcm9tSlNPTik7XG5lZS5EZXNlcmlhbGl6ZXIuZGVjb2RlID0gZnVuY3Rpb24oanNvbikge1xuICBpZiAoXCJyZXN1bHRcIiBpbiBqc29uICYmIFwidmFsdWVzXCIgaW4ganNvbikge1xuICAgIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlQ2xvdWRBcGkoanNvbik7XG4gIH1cbiAgdmFyIG5hbWVkVmFsdWVzID0ge307XG4gIGlmIChnb29nLmlzT2JqZWN0KGpzb24pICYmIFwiQ29tcG91bmRWYWx1ZVwiID09PSBqc29uLnR5cGUpIHtcbiAgICBmb3IgKHZhciBzY29wZXMgPSBqc29uLnNjb3BlLCBpID0gMDsgaSA8IHNjb3Blcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHNjb3Blc1tpXVswXSwgdmFsdWUgPSBzY29wZXNbaV1bMV07XG4gICAgICBpZiAoa2V5IGluIG5hbWVkVmFsdWVzKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdEdXBsaWNhdGUgc2NvcGUga2V5IFwiJyArIGtleSArICdcIiBpbiBzY29wZSAjJyArIGkgKyBcIi5cIik7XG4gICAgICB9XG4gICAgICBuYW1lZFZhbHVlc1trZXldID0gZWUuRGVzZXJpYWxpemVyLmRlY29kZVZhbHVlXyh2YWx1ZSwgbmFtZWRWYWx1ZXMpO1xuICAgIH1cbiAgICBqc29uID0ganNvbi52YWx1ZTtcbiAgfVxuICByZXR1cm4gZWUuRGVzZXJpYWxpemVyLmRlY29kZVZhbHVlXyhqc29uLCBuYW1lZFZhbHVlcyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlXCIsIGVlLkRlc2VyaWFsaXplci5kZWNvZGUpO1xuZWUuRGVzZXJpYWxpemVyLmRlY29kZVZhbHVlXyA9IGZ1bmN0aW9uKGpzb24sIG5hbWVkVmFsdWVzKSB7XG4gIGlmIChudWxsID09PSBqc29uIHx8IFwibnVtYmVyXCIgPT09IHR5cGVvZiBqc29uIHx8IFwiYm9vbGVhblwiID09PSB0eXBlb2YganNvbiB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YganNvbikge1xuICAgIHJldHVybiBqc29uO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChqc29uLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWUuRGVzZXJpYWxpemVyLmRlY29kZVZhbHVlXyhlbGVtZW50LCBuYW1lZFZhbHVlcyk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFnb29nLmlzT2JqZWN0KGpzb24pIHx8IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGpzb24pIHtcbiAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBkZWNvZGUgb2JqZWN0OiBcIiArIGpzb24pO1xuICB9XG4gIHZhciB0eXBlTmFtZSA9IGpzb24udHlwZTtcbiAgc3dpdGNoKHR5cGVOYW1lKSB7XG4gICAgY2FzZSBcIlZhbHVlUmVmXCI6XG4gICAgICBpZiAoanNvbi52YWx1ZSBpbiBuYW1lZFZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmFtZWRWYWx1ZXNbanNvbi52YWx1ZV07XG4gICAgICB9XG4gICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gVmFsdWVSZWY6IFwiICsganNvbik7XG4gICAgY2FzZSBcIkFyZ3VtZW50UmVmXCI6XG4gICAgICB2YXIgdmFyTmFtZSA9IGpzb24udmFsdWU7XG4gICAgICBpZiAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHZhck5hbWUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHZhcmlhYmxlIG5hbWU6IFwiICsgdmFyTmFtZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWUuQ3VzdG9tRnVuY3Rpb24udmFyaWFibGUoT2JqZWN0LCB2YXJOYW1lKTtcbiAgICBjYXNlIFwiRGF0ZVwiOlxuICAgICAgdmFyIG1pY3Jvc2Vjb25kcyA9IGpzb24udmFsdWU7XG4gICAgICBpZiAoXCJudW1iZXJcIiAhPT0gdHlwZW9mIG1pY3Jvc2Vjb25kcykge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZGF0ZSB2YWx1ZTogXCIgKyBtaWNyb3NlY29uZHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBlZS5EYXRlKG1pY3Jvc2Vjb25kcyAvIDEwMDApO1xuICAgIGNhc2UgXCJCeXRlc1wiOlxuICAgICAgcmV0dXJuIGVlLkRlc2VyaWFsaXplci5yb3VuZFRyaXBfKG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7Ynl0ZXNWYWx1ZTpqc29ufSksIGpzb24pO1xuICAgIGNhc2UgXCJJbnZvY2F0aW9uXCI6XG4gICAgICB2YXIgZnVuYyA9IFwiZnVuY3Rpb25OYW1lXCIgaW4ganNvbiA/IGVlLkFwaUZ1bmN0aW9uLmxvb2t1cChqc29uLmZ1bmN0aW9uTmFtZSkgOiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfKGpzb25bXCJmdW5jdGlvblwiXSwgbmFtZWRWYWx1ZXMpO1xuICAgICAgdmFyIGFyZ3MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKGpzb24uYXJndW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfKGVsZW1lbnQsIG5hbWVkVmFsdWVzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVlLkRlc2VyaWFsaXplci5pbnZvY2F0aW9uXyhmdW5jLCBhcmdzKTtcbiAgICBjYXNlIFwiRGljdGlvbmFyeVwiOlxuICAgICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAoanNvbi52YWx1ZSwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWUuRGVzZXJpYWxpemVyLmRlY29kZVZhbHVlXyhlbGVtZW50LCBuYW1lZFZhbHVlcyk7XG4gICAgICB9KTtcbiAgICBjYXNlIFwiRnVuY3Rpb25cIjpcbiAgICAgIHZhciBib2R5ID0gZWUuRGVzZXJpYWxpemVyLmRlY29kZVZhbHVlXyhqc29uLmJvZHksIG5hbWVkVmFsdWVzKSwgc2lnbmF0dXJlID0ge25hbWU6XCJcIiwgYXJnczptb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoanNvbi5hcmd1bWVudE5hbWVzLCBmdW5jdGlvbihhcmdOYW1lKSB7XG4gICAgICAgIHJldHVybiB7bmFtZTphcmdOYW1lLCB0eXBlOlwiT2JqZWN0XCIsIG9wdGlvbmFsOiExfTtcbiAgICAgIH0pLCByZXR1cm5zOlwiT2JqZWN0XCJ9O1xuICAgICAgcmV0dXJuIG5ldyBlZS5DdXN0b21GdW5jdGlvbihzaWduYXR1cmUsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgIH0pO1xuICAgIGNhc2UgXCJQb2ludFwiOlxuICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgY2FzZSBcIkxpbmVhclJpbmdcIjpcbiAgICBjYXNlIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI6XG4gICAgICByZXR1cm4gbmV3IGVlLkdlb21ldHJ5KGpzb24pO1xuICAgIGNhc2UgXCJDb21wb3VuZFZhbHVlXCI6XG4gICAgICB0aHJvdyBFcnJvcihcIk5lc3RlZCBDb21wb3VuZFZhbHVlcyBhcmUgZGlzYWxsb3dlZC5cIik7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biBlbmNvZGVkIG9iamVjdCB0eXBlOiBcIiArIHR5cGVOYW1lKTtcbiAgfVxufTtcbmVlLkRlc2VyaWFsaXplci5yb3VuZFRyaXBfID0gZnVuY3Rpb24obm9kZSwgdmFsdWUpIHtcbiAgdmFyIFJlZW5jb2RlciA9IGZ1bmN0aW9uKCkge1xuICB9O1xuICAkanNjb21wLmluaGVyaXRzKFJlZW5jb2RlciwgZWUuRW5jb2RhYmxlKTtcbiAgUmVlbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuICBSZWVuY29kZXIucHJvdG90eXBlLmVuY29kZUNsb3VkVmFsdWUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIHJldHVybiBuZXcgUmVlbmNvZGVyKCk7XG59O1xuZWUuRGVzZXJpYWxpemVyLmludm9jYXRpb25fID0gZnVuY3Rpb24oZnVuYywgYXJncyRqc2NvbXAkMCkge1xuICBpZiAoZnVuYyBpbnN0YW5jZW9mIGVlLkZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkoYXJncyRqc2NvbXAkMCk7XG4gIH1cbiAgaWYgKGZ1bmMgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgIHZhciBDb21wdXRlZEZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZWUuRnVuY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH07XG4gICAgJGpzY29tcC5pbmhlcml0cyhDb21wdXRlZEZ1bmN0aW9uLCBlZS5GdW5jdGlvbik7XG4gICAgQ29tcHV0ZWRGdW5jdGlvbi5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICAgICAgcmV0dXJuIGZ1bmMuZW5jb2RlKGVuY29kZXIpO1xuICAgIH07XG4gICAgQ29tcHV0ZWRGdW5jdGlvbi5wcm90b3R5cGUuZW5jb2RlQ2xvdWRJbnZvY2F0aW9uID0gZnVuY3Rpb24oc2VyaWFsaXplciwgYXJncykge1xuICAgICAgcmV0dXJuIGVlLnJwY19ub2RlLmZ1bmN0aW9uQnlSZWZlcmVuY2Uoc2VyaWFsaXplci5tYWtlUmVmZXJlbmNlKGZ1bmMpLCBhcmdzKTtcbiAgICB9O1xuICAgIHJldHVybiBuZXcgZWUuQ29tcHV0ZWRPYmplY3QobmV3IENvbXB1dGVkRnVuY3Rpb24oKSwgYXJncyRqc2NvbXAkMCk7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGZ1bmN0aW9uIHZhbHVlXCIpO1xufTtcbmVlLkRlc2VyaWFsaXplci5mcm9tQ2xvdWRBcGlKU09OID0gZnVuY3Rpb24oanNvbikge1xuICByZXR1cm4gZWUuRGVzZXJpYWxpemVyLmRlY29kZUNsb3VkQXBpKEpTT04ucGFyc2UoanNvbikpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRGVzZXJpYWxpemVyLmZyb21DbG91ZEFwaUpTT05cIiwgZWUuRGVzZXJpYWxpemVyLmZyb21DbG91ZEFwaUpTT04pO1xuZWUuRGVzZXJpYWxpemVyLmRlY29kZUNsb3VkQXBpID0gZnVuY3Rpb24oanNvbikge1xuICB2YXIgZXhwcmVzc2lvbiA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwganNvbiksIGRlY29kZWQgPSB7fSwgbG9va3VwID0gZnVuY3Rpb24ocmVmZXJlbmNlLCBraW5kKSB7XG4gICAgaWYgKCEocmVmZXJlbmNlIGluIGRlY29kZWQpKSB7XG4gICAgICBpZiAoIShyZWZlcmVuY2UgaW4gZXhwcmVzc2lvbi52YWx1ZXMpKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgXCIgKyBraW5kICsgXCIgXCIgKyByZWZlcmVuY2UpO1xuICAgICAgfVxuICAgICAgZGVjb2RlZFtyZWZlcmVuY2VdID0gZGVjb2RlKGV4cHJlc3Npb24udmFsdWVzW3JlZmVyZW5jZV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb2RlZFtyZWZlcmVuY2VdO1xuICB9LCBkZWNvZGUgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIG51bGwgIT09IG5vZGUuY29uc3RhbnRWYWx1ZSA/IG5vZGUuY29uc3RhbnRWYWx1ZSA6IG51bGwgIT09IG5vZGUuYXJyYXlWYWx1ZSA/IG5vZGUuYXJyYXlWYWx1ZS52YWx1ZXMubWFwKGRlY29kZSkgOiBudWxsICE9PSBub2RlLmRpY3Rpb25hcnlWYWx1ZSA/IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAobm9kZS5kaWN0aW9uYXJ5VmFsdWUudmFsdWVzLCBkZWNvZGUpIDogbnVsbCAhPT0gbm9kZS5hcmd1bWVudFJlZmVyZW5jZSA/IGVlLkN1c3RvbUZ1bmN0aW9uLnZhcmlhYmxlKE9iamVjdCwgbm9kZS5hcmd1bWVudFJlZmVyZW5jZSkgOiBudWxsICE9PSBub2RlLmZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlID8gZGVjb2RlRnVuY3Rpb25EZWZpbml0aW9uKG5vZGUuZnVuY3Rpb25EZWZpbml0aW9uVmFsdWUpIDogbnVsbCAhPT0gbm9kZS5mdW5jdGlvbkludm9jYXRpb25WYWx1ZSA/IGRlY29kZUZ1bmN0aW9uSW52b2NhdGlvbihub2RlLmZ1bmN0aW9uSW52b2NhdGlvblZhbHVlKSA6IFxuICAgIG51bGwgIT09IG5vZGUuYnl0ZXNWYWx1ZSA/IGVlLkRlc2VyaWFsaXplci5yb3VuZFRyaXBfKG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7Ynl0ZXNWYWx1ZTpub2RlLmJ5dGVzVmFsdWV9KSwgbm9kZS5ieXRlc1ZhbHVlKSA6IG51bGwgIT09IG5vZGUuaW50ZWdlclZhbHVlID8gZWUuRGVzZXJpYWxpemVyLnJvdW5kVHJpcF8obmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlKHtpbnRlZ2VyVmFsdWU6bm9kZS5pbnRlZ2VyVmFsdWV9KSwgbm9kZS5pbnRlZ2VyVmFsdWUpIDogbnVsbCAhPT0gbm9kZS52YWx1ZVJlZmVyZW5jZSA/IGxvb2t1cChub2RlLnZhbHVlUmVmZXJlbmNlLCBcInJlZmVyZW5jZVwiKSA6IG51bGw7XG4gIH0sIGRlY29kZUZ1bmN0aW9uRGVmaW5pdGlvbiA9IGZ1bmN0aW9uKGRlZmluZWQpIHtcbiAgICB2YXIgYm9keSA9IGxvb2t1cChkZWZpbmVkLmJvZHksIFwiZnVuY3Rpb24gYm9keVwiKSwgc2lnbmF0dXJlID0ge2FyZ3M6ZGVmaW5lZC5hcmd1bWVudE5hbWVzLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4ge25hbWU6bmFtZSwgdHlwZTpcIk9iamVjdFwiLCBvcHRpb25hbDohMX07XG4gICAgfSksIG5hbWU6XCJcIiwgcmV0dXJuczpcIk9iamVjdFwifTtcbiAgICByZXR1cm4gbmV3IGVlLkN1c3RvbUZ1bmN0aW9uKHNpZ25hdHVyZSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYm9keTtcbiAgICB9KTtcbiAgfSwgZGVjb2RlRnVuY3Rpb25JbnZvY2F0aW9uID0gZnVuY3Rpb24oaW52b2tlZCkge1xuICAgIHZhciBmdW5jID0gaW52b2tlZC5mdW5jdGlvblJlZmVyZW5jZSA/IGxvb2t1cChpbnZva2VkLmZ1bmN0aW9uUmVmZXJlbmNlLCBcImZ1bmN0aW9uXCIpIDogZWUuQXBpRnVuY3Rpb24ubG9va3VwKGludm9rZWQuZnVuY3Rpb25OYW1lKSwgYXJncyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAoaW52b2tlZC5hcmd1bWVudHMsIGRlY29kZSk7XG4gICAgcmV0dXJuIGVlLkRlc2VyaWFsaXplci5pbnZvY2F0aW9uXyhmdW5jLCBhcmdzKTtcbiAgfTtcbiAgcmV0dXJuIGxvb2t1cChleHByZXNzaW9uLnJlc3VsdCwgXCJyZXN1bHQgdmFsdWVcIik7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlQ2xvdWRBcGlcIiwgZWUuRGVzZXJpYWxpemVyLmRlY29kZUNsb3VkQXBpKTtcbmVlLkRpY3Rpb25hcnkgPSBmdW5jdGlvbihvcHRfZGljdCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuRGljdGlvbmFyeSkpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkRpY3Rpb25hcnksIGFyZ3VtZW50cyk7XG4gIH1cbiAgaWYgKG9wdF9kaWN0IGluc3RhbmNlb2YgZWUuRGljdGlvbmFyeSkge1xuICAgIHJldHVybiBvcHRfZGljdDtcbiAgfVxuICBlZS5EaWN0aW9uYXJ5LmluaXRpYWxpemUoKTtcbiAgZWUuVHlwZXMuaXNSZWd1bGFyT2JqZWN0KG9wdF9kaWN0KSA/IChlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG51bGwsIG51bGwpLCB0aGlzLmRpY3RfID0gb3B0X2RpY3QpIDogKG9wdF9kaWN0IGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QgJiYgb3B0X2RpY3QuZnVuYyAmJiBcIkRpY3Rpb25hcnlcIiA9PSBvcHRfZGljdC5mdW5jLmdldFNpZ25hdHVyZSgpLnJldHVybnMgPyBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG9wdF9kaWN0LmZ1bmMsIG9wdF9kaWN0LmFyZ3MsIG9wdF9kaWN0LnZhck5hbWUpIDogZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJEaWN0aW9uYXJ5XCIpLCB7aW5wdXQ6b3B0X2RpY3R9LCBudWxsKSwgdGhpcy5kaWN0XyA9IG51bGwpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuRGljdGlvbmFyeSwgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5EaWN0aW9uYXJ5XCIsIGVlLkRpY3Rpb25hcnkpO1xuZWUuRGljdGlvbmFyeS5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkRpY3Rpb25hcnkuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5EaWN0aW9uYXJ5LmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkRpY3Rpb25hcnksIFwiRGljdGlvbmFyeVwiLCBcIkRpY3Rpb25hcnlcIiksIGVlLkRpY3Rpb25hcnkuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkRpY3Rpb25hcnkucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuRGljdGlvbmFyeSk7XG4gIGVlLkRpY3Rpb25hcnkuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuRGljdGlvbmFyeS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICByZXR1cm4gbnVsbCAhPT0gdGhpcy5kaWN0XyA/IGVuY29kZXIodGhpcy5kaWN0XykgOiBlZS5EaWN0aW9uYXJ5LnN1cGVyQ2xhc3NfLmVuY29kZS5jYWxsKHRoaXMsIGVuY29kZXIpO1xufTtcbmVlLkRpY3Rpb25hcnkucHJvdG90eXBlLmVuY29kZUNsb3VkVmFsdWUgPSBmdW5jdGlvbihzZXJpYWxpemVyKSB7XG4gIHJldHVybiBudWxsICE9PSB0aGlzLmRpY3RfID8gZWUucnBjX25vZGUucmVmZXJlbmNlKHNlcmlhbGl6ZXIubWFrZVJlZmVyZW5jZSh0aGlzLmRpY3RfKSkgOiBlZS5EaWN0aW9uYXJ5LnN1cGVyQ2xhc3NfLmVuY29kZUNsb3VkVmFsdWUuY2FsbCh0aGlzLCBzZXJpYWxpemVyKTtcbn07XG5lZS5EaWN0aW9uYXJ5LnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkRpY3Rpb25hcnlcIjtcbn07XG5lZS5UZXJyYWluID0ge307XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLlRlcnJhaW5cIiwgZWUuVGVycmFpbik7XG5lZS5UZXJyYWluLmluaXRpYWxpemVkXyA9ICExO1xuZWUuVGVycmFpbi5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLlRlcnJhaW4uaW5pdGlhbGl6ZWRfIHx8IChlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuVGVycmFpbiwgXCJUZXJyYWluXCIsIFwiVGVycmFpblwiKSwgZWUuVGVycmFpbi5pbml0aWFsaXplZF8gPSAhMCk7XG59O1xuZWUuVGVycmFpbi5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5UZXJyYWluKTtcbiAgZWUuVGVycmFpbi5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5lZS5pbml0aWFsaXplID0gZnVuY3Rpb24ob3B0X2Jhc2V1cmwsIG9wdF90aWxldXJsLCBvcHRfc3VjY2Vzc0NhbGxiYWNrLCBvcHRfZXJyb3JDYWxsYmFjaywgb3B0X3hzcmZUb2tlbiwgb3B0X3Byb2plY3QpIHtcbiAgaWYgKGVlLnJlYWR5XyAhPSBlZS5Jbml0U3RhdGUuUkVBRFkgfHwgb3B0X2Jhc2V1cmwgfHwgb3B0X3RpbGV1cmwpIHtcbiAgICB2YXIgaXNBc3luY2hyb25vdXMgPSBudWxsICE9IG9wdF9zdWNjZXNzQ2FsbGJhY2s7XG4gICAgaWYgKG9wdF9lcnJvckNhbGxiYWNrKSB7XG4gICAgICBpZiAoaXNBc3luY2hyb25vdXMpIHtcbiAgICAgICAgZWUuZXJyb3JDYWxsYmFja3NfLnB1c2gob3B0X2Vycm9yQ2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW4ndCBwYXNzIGFuIGVycm9yIGNhbGxiYWNrIHdpdGhvdXQgYSBzdWNjZXNzIGNhbGxiYWNrLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVlLnJlYWR5XyA9PSBlZS5Jbml0U3RhdGUuTE9BRElORyAmJiBpc0FzeW5jaHJvbm91cykge1xuICAgICAgZWUuc3VjY2Vzc0NhbGxiYWNrc18ucHVzaChvcHRfc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVlLnJlYWR5XyA9IGVlLkluaXRTdGF0ZS5MT0FESU5HLCBlZS5kYXRhLmluaXRpYWxpemUob3B0X2Jhc2V1cmwsIG9wdF90aWxldXJsLCBvcHRfeHNyZlRva2VuLCBvcHRfcHJvamVjdCksIGlzQXN5bmNocm9ub3VzKSB7XG4gICAgICAgIGVlLnN1Y2Nlc3NDYWxsYmFja3NfLnB1c2gob3B0X3N1Y2Nlc3NDYWxsYmFjayksIGVlLkFwaUZ1bmN0aW9uLmluaXRpYWxpemUoZWUuaW5pdGlhbGl6YXRpb25TdWNjZXNzXywgZWUuaW5pdGlhbGl6YXRpb25GYWlsdXJlXyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGVlLkFwaUZ1bmN0aW9uLmluaXRpYWxpemUoKSwgZWUuaW5pdGlhbGl6YXRpb25TdWNjZXNzXygpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhyb3cgZWUuaW5pdGlhbGl6YXRpb25GYWlsdXJlXyhlKSwgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvcHRfc3VjY2Vzc0NhbGxiYWNrICYmIG9wdF9zdWNjZXNzQ2FsbGJhY2soKTtcbiAgfVxufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuaW5pdGlhbGl6ZVwiLCBlZS5pbml0aWFsaXplKTtcbmVlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLnJlYWR5XyA9IGVlLkluaXRTdGF0ZS5OT1RfUkVBRFk7XG4gIGVlLmRhdGEucmVzZXQoKTtcbiAgZWUuQXBpRnVuY3Rpb24ucmVzZXQoKTtcbiAgZWUuRGF0ZS5yZXNldCgpO1xuICBlZS5EaWN0aW9uYXJ5LnJlc2V0KCk7XG4gIGVlLkVsZW1lbnQucmVzZXQoKTtcbiAgZWUuSW1hZ2UucmVzZXQoKTtcbiAgZWUuRmVhdHVyZS5yZXNldCgpO1xuICBlZS5Db2xsZWN0aW9uLnJlc2V0KCk7XG4gIGVlLkltYWdlQ29sbGVjdGlvbi5yZXNldCgpO1xuICBlZS5GZWF0dXJlQ29sbGVjdGlvbi5yZXNldCgpO1xuICBlZS5GaWx0ZXIucmVzZXQoKTtcbiAgZWUuR2VvbWV0cnkucmVzZXQoKTtcbiAgZWUuTGlzdC5yZXNldCgpO1xuICBlZS5OdW1iZXIucmVzZXQoKTtcbiAgZWUuU3RyaW5nLnJlc2V0KCk7XG4gIGVlLlRlcnJhaW4ucmVzZXQoKTtcbiAgZWUucmVzZXRHZW5lcmF0ZWRDbGFzc2VzXygpO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xlYXIoZWUuQWxnb3JpdGhtcyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5yZXNldFwiLCBlZS5yZXNldCk7XG5lZS5Jbml0U3RhdGUgPSB7Tk9UX1JFQURZOlwibm90X3JlYWR5XCIsIExPQURJTkc6XCJsb2FkaW5nXCIsIFJFQURZOlwicmVhZHlcIn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkluaXRTdGF0ZVwiLCBlZS5Jbml0U3RhdGUpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5Jbml0U3RhdGUuTk9UX1JFQURZXCIsIGVlLkluaXRTdGF0ZS5OT1RfUkVBRFkpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5Jbml0U3RhdGUuTE9BRElOR1wiLCBlZS5Jbml0U3RhdGUuTE9BRElORyk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkluaXRTdGF0ZS5SRUFEWVwiLCBlZS5Jbml0U3RhdGUuUkVBRFkpO1xuZWUucmVhZHlfID0gZWUuSW5pdFN0YXRlLk5PVF9SRUFEWTtcbmVlLnN1Y2Nlc3NDYWxsYmFja3NfID0gW107XG5lZS5lcnJvckNhbGxiYWNrc18gPSBbXTtcbmVlLlRJTEVfU0laRSA9IDI1Njtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuVElMRV9TSVpFXCIsIGVlLlRJTEVfU0laRSk7XG5lZS5nZW5lcmF0ZWRDbGFzc2VzXyA9IFtdO1xuZWUuQWxnb3JpdGhtcyA9IHt9O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5BbGdvcml0aG1zXCIsIGVlLkFsZ29yaXRobXMpO1xuZWUucmVhZHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGVlLnJlYWR5Xztcbn07XG5lZS5jYWxsID0gZnVuY3Rpb24oZnVuYywgdmFyX2FyZ3MpIHtcbiAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGZ1bmMgJiYgKGZ1bmMgPSBuZXcgZWUuQXBpRnVuY3Rpb24oZnVuYykpO1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHJldHVybiBlZS5GdW5jdGlvbi5wcm90b3R5cGUuY2FsbC5hcHBseShmdW5jLCBhcmdzKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmNhbGxcIiwgZWUuY2FsbCk7XG5lZS5hcHBseSA9IGZ1bmN0aW9uKGZ1bmMsIG5hbWVkQXJncykge1xuICBcInN0cmluZ1wiID09PSB0eXBlb2YgZnVuYyAmJiAoZnVuYyA9IG5ldyBlZS5BcGlGdW5jdGlvbihmdW5jKSk7XG4gIHJldHVybiBmdW5jLmFwcGx5KG5hbWVkQXJncyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5hcHBseVwiLCBlZS5hcHBseSk7XG5lZS5pbml0aWFsaXphdGlvblN1Y2Nlc3NfID0gZnVuY3Rpb24oKSB7XG4gIGlmIChlZS5yZWFkeV8gPT0gZWUuSW5pdFN0YXRlLkxPQURJTkcpIHtcbiAgICB0cnkge1xuICAgICAgZWUuRGF0ZS5pbml0aWFsaXplKCksIGVlLkRpY3Rpb25hcnkuaW5pdGlhbGl6ZSgpLCBlZS5FbGVtZW50LmluaXRpYWxpemUoKSwgZWUuSW1hZ2UuaW5pdGlhbGl6ZSgpLCBlZS5GZWF0dXJlLmluaXRpYWxpemUoKSwgZWUuQ29sbGVjdGlvbi5pbml0aWFsaXplKCksIGVlLkltYWdlQ29sbGVjdGlvbi5pbml0aWFsaXplKCksIGVlLkZlYXR1cmVDb2xsZWN0aW9uLmluaXRpYWxpemUoKSwgZWUuRmlsdGVyLmluaXRpYWxpemUoKSwgZWUuR2VvbWV0cnkuaW5pdGlhbGl6ZSgpLCBlZS5MaXN0LmluaXRpYWxpemUoKSwgZWUuTnVtYmVyLmluaXRpYWxpemUoKSwgZWUuU3RyaW5nLmluaXRpYWxpemUoKSwgZWUuVGVycmFpbi5pbml0aWFsaXplKCksIGVlLmluaXRpYWxpemVHZW5lcmF0ZWRDbGFzc2VzXygpLCBlZS5pbml0aWFsaXplVW5ib3VuZE1ldGhvZHNfKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZWUuaW5pdGlhbGl6YXRpb25GYWlsdXJlXyhlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWUucmVhZHlfID0gZWUuSW5pdFN0YXRlLlJFQURZO1xuICAgIGZvciAoZWUuZXJyb3JDYWxsYmFja3NfID0gW107IDAgPCBlZS5zdWNjZXNzQ2FsbGJhY2tzXy5sZW5ndGg7KSB7XG4gICAgICBlZS5zdWNjZXNzQ2FsbGJhY2tzXy5zaGlmdCgpKCk7XG4gICAgfVxuICB9XG59O1xuZWUuaW5pdGlhbGl6YXRpb25GYWlsdXJlXyA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGVlLnJlYWR5XyA9PSBlZS5Jbml0U3RhdGUuTE9BRElORykge1xuICAgIGZvciAoZWUucmVhZHlfID0gZWUuSW5pdFN0YXRlLk5PVF9SRUFEWSwgZWUuc3VjY2Vzc0NhbGxiYWNrc18gPSBbXTsgMCA8IGVlLmVycm9yQ2FsbGJhY2tzXy5sZW5ndGg7KSB7XG4gICAgICBlZS5lcnJvckNhbGxiYWNrc18uc2hpZnQoKShlKTtcbiAgICB9XG4gIH1cbn07XG5lZS5wcm9tb3RlXyA9IGZ1bmN0aW9uKGFyZywga2xhc3MpIHtcbiAgaWYgKG51bGwgPT09IGFyZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICh2b2lkIDAgIT09IGFyZykge1xuICAgIHZhciBleHBvcnRlZEVFID0gZ29vZy5nbG9iYWwuZWU7XG4gICAgc3dpdGNoKGtsYXNzKSB7XG4gICAgICBjYXNlIFwiSW1hZ2VcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBlZS5JbWFnZShhcmcpO1xuICAgICAgY2FzZSBcIkZlYXR1cmVcIjpcbiAgICAgICAgcmV0dXJuIGFyZyBpbnN0YW5jZW9mIGVlLkNvbGxlY3Rpb24gPyBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkZlYXR1cmVcIiwgZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJDb2xsZWN0aW9uLmdlb21ldHJ5XCIsIGFyZykpIDogbmV3IGVlLkZlYXR1cmUoYXJnKTtcbiAgICAgIGNhc2UgXCJFbGVtZW50XCI6XG4gICAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBlZS5FbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IGVlLkZlYXR1cmUoYXJnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IGVlLkVsZW1lbnQoYXJnLmZ1bmMsIGFyZy5hcmdzLCBhcmcudmFyTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3QgY29udmVydCBcIiArIGFyZyArIFwiIHRvIEVsZW1lbnQuXCIpO1xuICAgICAgY2FzZSBcIkdlb21ldHJ5XCI6XG4gICAgICAgIHJldHVybiBhcmcgaW5zdGFuY2VvZiBlZS5GZWF0dXJlQ29sbGVjdGlvbiA/IGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiQ29sbGVjdGlvbi5nZW9tZXRyeVwiLCBhcmcpIDogbmV3IGVlLkdlb21ldHJ5KGFyZyk7XG4gICAgICBjYXNlIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjpcbiAgICAgIGNhc2UgXCJDb2xsZWN0aW9uXCI6XG4gICAgICAgIHJldHVybiBhcmcgaW5zdGFuY2VvZiBlZS5Db2xsZWN0aW9uID8gYXJnIDogbmV3IGVlLkZlYXR1cmVDb2xsZWN0aW9uKGFyZyk7XG4gICAgICBjYXNlIFwiSW1hZ2VDb2xsZWN0aW9uXCI6XG4gICAgICAgIHJldHVybiBuZXcgZWUuSW1hZ2VDb2xsZWN0aW9uKGFyZyk7XG4gICAgICBjYXNlIFwiRmlsdGVyXCI6XG4gICAgICAgIHJldHVybiBuZXcgZWUuRmlsdGVyKGFyZyk7XG4gICAgICBjYXNlIFwiQWxnb3JpdGhtXCI6XG4gICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYXJnKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBlZS5BcGlGdW5jdGlvbihhcmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhcmcpIHtcbiAgICAgICAgICByZXR1cm4gZWUuQ3VzdG9tRnVuY3Rpb24uY3JlYXRlKGFyZywgXCJPYmplY3RcIiwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVwZWF0KFwiT2JqZWN0XCIsIGFyZy5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgZWUuRW5jb2RhYmxlKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBFcnJvcihcIkFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uOiBcIiArIGFyZyk7XG4gICAgICBjYXNlIFwiU3RyaW5nXCI6XG4gICAgICAgIHJldHVybiBlZS5UeXBlcy5pc1N0cmluZyhhcmcpIHx8IGFyZyBpbnN0YW5jZW9mIGVlLlN0cmluZyB8fCBhcmcgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCA/IG5ldyBlZS5TdHJpbmcoYXJnKSA6IGFyZztcbiAgICAgIGNhc2UgXCJEaWN0aW9uYXJ5XCI6XG4gICAgICAgIHJldHVybiBlZS5UeXBlcy5pc1JlZ3VsYXJPYmplY3QoYXJnKSA/IGFyZyA6IG5ldyBlZS5EaWN0aW9uYXJ5KGFyZyk7XG4gICAgICBjYXNlIFwiTGlzdFwiOlxuICAgICAgICByZXR1cm4gbmV3IGVlLkxpc3QoYXJnKTtcbiAgICAgIGNhc2UgXCJOdW1iZXJcIjpcbiAgICAgIGNhc2UgXCJGbG9hdFwiOlxuICAgICAgY2FzZSBcIkxvbmdcIjpcbiAgICAgIGNhc2UgXCJJbnRlZ2VyXCI6XG4gICAgICBjYXNlIFwiU2hvcnRcIjpcbiAgICAgIGNhc2UgXCJCeXRlXCI6XG4gICAgICAgIHJldHVybiBuZXcgZWUuTnVtYmVyKGFyZyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoa2xhc3MgaW4gZXhwb3J0ZWRFRSkge1xuICAgICAgICAgIHZhciBjdG9yID0gZWUuQXBpRnVuY3Rpb24ubG9va3VwSW50ZXJuYWwoa2xhc3MpO1xuICAgICAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBleHBvcnRlZEVFW2tsYXNzXSkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGN0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZXhwb3J0ZWRFRVtrbGFzc10oYXJnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcmcpIHtcbiAgICAgICAgICAgIGlmIChhcmcgaW4gZXhwb3J0ZWRFRVtrbGFzc10pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydGVkRUVba2xhc3NdW2FyZ10uY2FsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIGFsZ29yaXRobTogXCIgKyBrbGFzcyArIFwiLlwiICsgYXJnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBleHBvcnRlZEVFW2tsYXNzXShhcmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuICB9XG59O1xuZWUuaW5pdGlhbGl6ZVVuYm91bmRNZXRob2RzXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdW5ib3VuZCA9IGVlLkFwaUZ1bmN0aW9uLnVuYm91bmRGdW5jdGlvbnMoKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEtleXModW5ib3VuZCkuc29ydCgpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBmdW5jID0gdW5ib3VuZFtuYW1lXSwgc2lnbmF0dXJlID0gZnVuYy5nZXRTaWduYXR1cmUoKTtcbiAgICBpZiAoIXNpZ25hdHVyZS5oaWRkZW4pIHtcbiAgICAgIHZhciBuYW1lUGFydHMgPSBuYW1lLnNwbGl0KFwiLlwiKSwgdGFyZ2V0ID0gZWUuQWxnb3JpdGhtcztcbiAgICAgIGZvciAodGFyZ2V0LnNpZ25hdHVyZSA9IHt9OyAxIDwgbmFtZVBhcnRzLmxlbmd0aDspIHtcbiAgICAgICAgdmFyIGZpcnN0ID0gbmFtZVBhcnRzWzBdO1xuICAgICAgICBmaXJzdCBpbiB0YXJnZXQgfHwgKHRhcmdldFtmaXJzdF0gPSB7c2lnbmF0dXJlOnt9fSk7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldFtmaXJzdF07XG4gICAgICAgIG5hbWVQYXJ0cyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NsaWNlKG5hbWVQYXJ0cywgMSk7XG4gICAgICB9XG4gICAgICB2YXIgYm91bmQgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsT3JBcHBseSh2b2lkIDAsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xuICAgICAgfTtcbiAgICAgIGJvdW5kLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICAgIGJvdW5kLnRvU3RyaW5nID0gZ29vZy5iaW5kKGZ1bmMudG9TdHJpbmcsIGZ1bmMpO1xuICAgICAgdGFyZ2V0W25hbWVQYXJ0c1swXV0gPSBib3VuZDtcbiAgICB9XG4gIH0pO1xufTtcbmVlLmluaXRpYWxpemVHZW5lcmF0ZWRDbGFzc2VzXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2lnbmF0dXJlcyA9IGVlLkFwaUZ1bmN0aW9uLmFsbFNpZ25hdHVyZXMoKSwgbmFtZXMgPSB7fSwgcmV0dXJuVHlwZXMgPSB7fSwgc2lnO1xuICBmb3IgKHNpZyBpbiBzaWduYXR1cmVzKSB7XG4gICAgdmFyIHR5cGUgPSAtMSAhPSBzaWcuaW5kZXhPZihcIi5cIikgPyBzaWcuc2xpY2UoMCwgc2lnLmluZGV4T2YoXCIuXCIpKSA6IHNpZztcbiAgICBuYW1lc1t0eXBlXSA9ICEwO1xuICAgIHZhciBydHlwZSA9IHNpZ25hdHVyZXNbc2lnXS5yZXR1cm5zLnJlcGxhY2UoLzwuKj4vLCBcIlwiKTtcbiAgICByZXR1cm5UeXBlc1tydHlwZV0gPSAhMDtcbiAgfVxuICB2YXIgZXhwb3J0ZWRFRSA9IGdvb2cuZ2xvYmFsLmVlLCBuYW1lO1xuICBmb3IgKG5hbWUgaW4gbmFtZXMpIHtcbiAgICBuYW1lIGluIHJldHVyblR5cGVzICYmICEobmFtZSBpbiBleHBvcnRlZEVFKSAmJiAoZXhwb3J0ZWRFRVtuYW1lXSA9IGVlLm1ha2VDbGFzc18obmFtZSksIGVlLmdlbmVyYXRlZENsYXNzZXNfLnB1c2gobmFtZSksIHNpZ25hdHVyZXNbbmFtZV0gPyAoZXhwb3J0ZWRFRVtuYW1lXS5zaWduYXR1cmUgPSBzaWduYXR1cmVzW25hbWVdLCBleHBvcnRlZEVFW25hbWVdLnNpZ25hdHVyZS5pc0NvbnN0cnVjdG9yID0gITAsIGVlLkFwaUZ1bmN0aW9uLmJvdW5kU2lnbmF0dXJlc19bbmFtZV0gPSAhMCkgOiBleHBvcnRlZEVFW25hbWVdLnNpZ25hdHVyZSA9IHt9KTtcbiAgfVxuICBlZS5UeXBlcy5yZWdpc3RlckNsYXNzZXMoZXhwb3J0ZWRFRSk7XG59O1xuZWUucmVzZXRHZW5lcmF0ZWRDbGFzc2VzXyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBleHBvcnRlZEVFID0gZ29vZy5nbG9iYWwuZWUsIGkgPSAwOyBpIDwgZWUuZ2VuZXJhdGVkQ2xhc3Nlc18ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbmFtZSA9IGVlLmdlbmVyYXRlZENsYXNzZXNfW2ldO1xuICAgIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGV4cG9ydGVkRUVbbmFtZV0pO1xuICAgIGRlbGV0ZSBleHBvcnRlZEVFW25hbWVdO1xuICB9XG4gIGVlLmdlbmVyYXRlZENsYXNzZXNfID0gW107XG4gIGVlLlR5cGVzLnJlZ2lzdGVyQ2xhc3NlcyhleHBvcnRlZEVFKTtcbn07XG5lZS5tYWtlQ2xhc3NfID0gZnVuY3Rpb24obmFtZSkge1xuICB2YXIgdGFyZ2V0ID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgICB2YXIga2xhc3MgPSBnb29nLmdsb2JhbC5lZVtuYW1lXSwgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksIG9ubHlPbmVBcmcgPSAxID09IGFyZ3MubGVuZ3RoO1xuICAgIGlmIChvbmx5T25lQXJnICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBrbGFzcykge1xuICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgfVxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBrbGFzcykpIHtcbiAgICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3Qoa2xhc3MsIGFyZ3MpO1xuICAgIH1cbiAgICB2YXIgY3RvciA9IGVlLkFwaUZ1bmN0aW9uLmxvb2t1cEludGVybmFsKG5hbWUpLCBmaXJzdEFyZ0lzUHJpbWl0aXZlID0gIShhcmdzWzBdIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpLCBzaG91bGRVc2VDb25zdHJ1Y3RvciA9ICExO1xuICAgIGN0b3IgJiYgKG9ubHlPbmVBcmcgPyBmaXJzdEFyZ0lzUHJpbWl0aXZlID8gc2hvdWxkVXNlQ29uc3RydWN0b3IgPSAhMCA6IGFyZ3NbMF0uZnVuYyAmJiBhcmdzWzBdLmZ1bmMuZ2V0U2lnbmF0dXJlKCkucmV0dXJucyA9PSBjdG9yLmdldFNpZ25hdHVyZSgpLnJldHVybnMgfHwgKHNob3VsZFVzZUNvbnN0cnVjdG9yID0gITApIDogc2hvdWxkVXNlQ29uc3RydWN0b3IgPSAhMCk7XG4gICAgaWYgKHNob3VsZFVzZUNvbnN0cnVjdG9yKSB7XG4gICAgICB2YXIgbmFtZWRBcmdzID0gZWUuVHlwZXMudXNlS2V5d29yZEFyZ3MoYXJncywgY3Rvci5nZXRTaWduYXR1cmUoKSkgPyBhcmdzWzBdIDogY3Rvci5uYW1lQXJncyhhcmdzKTtcbiAgICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgY3RvciwgY3Rvci5wcm9tb3RlQXJncyhuYW1lZEFyZ3MpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFvbmx5T25lQXJnKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiVG9vIG1hbnkgYXJndW1lbnRzIGZvciBlZS5cIiArIG5hbWUgKyBcIigpOiBcIiArIGFyZ3MpO1xuICAgICAgfVxuICAgICAgaWYgKGZpcnN0QXJnSXNQcmltaXRpdmUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IGZvciBlZS5cIiArIG5hbWUgKyBcIigpOiBcIiArIGFyZ3MgKyBcIi4gTXVzdCBiZSBhIENvbXB1dGVkT2JqZWN0LlwiKTtcbiAgICAgIH1cbiAgICAgIHZhciB0aGVPbmVBcmcgPSBhcmdzWzBdO1xuICAgICAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCB0aGVPbmVBcmcuZnVuYywgdGhlT25lQXJnLmFyZ3MsIHRoZU9uZUFyZy52YXJOYW1lKTtcbiAgICB9XG4gIH07XG4gIGdvb2cuaW5oZXJpdHModGFyZ2V0LCBlZS5Db21wdXRlZE9iamVjdCk7XG4gIHRhcmdldC5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuYW1lO1xuICB9O1xuICBlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkodGFyZ2V0LCBuYW1lLCBuYW1lKTtcbiAgcmV0dXJuIHRhcmdldDtcbn07XG5lZS5GdW5jdGlvbi5yZWdpc3RlclByb21vdGVyKGVlLnByb21vdGVfKTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkgPSBmdW5jdGlvbih1cmwsIG1hcElkLCB0b2tlbikge1xuICBlZS5BYnN0cmFjdE92ZXJsYXkuY2FsbCh0aGlzLCB1cmwsIG1hcElkLCB0b2tlbik7XG4gIHRoaXMudGlsZVNpemUgPSBuZXcgZ29vZ2xlLm1hcHMuU2l6ZShlZS5GbG9hdFRpbGVPdmVybGF5LlRJTEVfRURHRV9MRU5HVEgsIGVlLkZsb2F0VGlsZU92ZXJsYXkuVElMRV9FREdFX0xFTkdUSCk7XG4gIHRoaXMuZmxvYXRUaWxlc18gPSBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCgpO1xuICB0aGlzLmZsb2F0VGlsZURpdnNfID0gbmV3IGdvb2cuc3RydWN0cy5NYXAoKTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLkZsb2F0VGlsZU92ZXJsYXksIGVlLkFic3RyYWN0T3ZlcmxheSk7XG5lZS5GbG9hdFRpbGVPdmVybGF5LnByb3RvdHlwZS5nZXRUaWxlID0gZnVuY3Rpb24oY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQpIHtcbiAgdmFyIHRpbGVJZCA9IHRoaXMuZ2V0VGlsZUlkKGNvb3JkLCB6b29tKSwgc3JjID0gW3RoaXMudXJsLCB0aWxlSWRdLmpvaW4oXCIvXCIpICsgXCI/dG9rZW49XCIgKyB0aGlzLnRva2VuLCB1bmlxdWVUaWxlSWQgPSBbdGlsZUlkLCB0aGlzLnRpbGVDb3VudGVyLCB0aGlzLnRva2VuXS5qb2luKFwiL1wiKTtcbiAgdGhpcy50aWxlc0xvYWRpbmcucHVzaCh1bmlxdWVUaWxlSWQpO1xuICB0aGlzLnRpbGVDb3VudGVyICs9IDE7XG4gIHZhciBkaXYgPSBnb29nLmRvbS5jcmVhdGVEb20oZ29vZy5kb20uVGFnTmFtZS5ESVYpLCBmbG9hdFRpbGUgPSB0aGlzLmxvYWRGbG9hdFRpbGVfKHNyYywgY29vcmQsIHVuaXF1ZVRpbGVJZCwgZGl2KTtcbiAgdGhpcy5kaXNwYXRjaFRpbGVFdmVudF8oKTtcbiAgcmV0dXJuIGRpdjtcbn07XG5lZS5GbG9hdFRpbGVPdmVybGF5LnByb3RvdHlwZS5sb2FkRmxvYXRUaWxlXyA9IGZ1bmN0aW9uKHRpbGVVcmwsIGNvb3JkLCB0aWxlSWQsIGRpdikge1xuICB2YXIgdGlsZVJlcXVlc3QgPSBnb29nLm5ldC5YbWxIdHRwKCk7XG4gIHRpbGVSZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgdGlsZVVybCwgITApO1xuICB0aWxlUmVxdWVzdC5yZXNwb25zZVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG4gIHRpbGVSZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGdvb2cuYmluZChmdW5jdGlvbigpIHtcbiAgICBpZiAodGlsZVJlcXVlc3QucmVhZHlTdGF0ZSA9PT0gWE1MSHR0cFJlcXVlc3QuRE9ORSAmJiAyMDAgPT09IHRpbGVSZXF1ZXN0LnN0YXR1cykge1xuICAgICAgdmFyIHRpbGVSZXNwb25zZSA9IHRpbGVSZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgaWYgKHRpbGVSZXNwb25zZSkge1xuICAgICAgICB2YXIgZmxvYXRCdWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KHRpbGVSZXNwb25zZSk7XG4gICAgICAgIHRoaXMuaGFuZGxlRmxvYXRUaWxlTG9hZGVkXyhmbG9hdEJ1ZmZlciwgY29vcmQsIHRpbGVJZCwgZGl2KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHRoaXMudGlsZXNGYWlsZWQuYWRkKHRpbGVJZCksIEVycm9yKFwiVW5hYmxlIHRvIHJlcXVlc3QgZmxvYXRpbmcgcG9pbnQgYXJyYXkgYnVmZmVycy5cIik7XG4gICAgICB9XG4gICAgfVxuICB9LCB0aGlzKTtcbiAgdGlsZVJlcXVlc3Quc2VuZCgpO1xufTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkucHJvdG90eXBlLmhhbmRsZUZsb2F0VGlsZUxvYWRlZF8gPSBmdW5jdGlvbihmbG9hdFRpbGUsIGNvb3JkLCB0aWxlSWQsIGRpdikge1xuICB0aGlzLmZsb2F0VGlsZXNfLnNldChjb29yZCwgZmxvYXRUaWxlKTtcbiAgdGhpcy5mbG9hdFRpbGVEaXZzXy5zZXQoY29vcmQsIGRpdik7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZSh0aGlzLnRpbGVzTG9hZGluZywgdGlsZUlkKTtcbiAgdGhpcy5kaXNwYXRjaFRpbGVFdmVudF8oKTtcbn07XG5lZS5GbG9hdFRpbGVPdmVybGF5LnByb3RvdHlwZS5nZXRBbGxGbG9hdFRpbGVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZsb2F0VGlsZXNfO1xufTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkucHJvdG90eXBlLmdldEFsbEZsb2F0VGlsZURpdnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZmxvYXRUaWxlRGl2c187XG59O1xuZWUuRmxvYXRUaWxlT3ZlcmxheS5wcm90b3R5cGUuZ2V0TG9hZGVkRmxvYXRUaWxlc0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZsb2F0VGlsZXNfLmdldENvdW50KCk7XG59O1xuZWUuRmxvYXRUaWxlT3ZlcmxheS5wcm90b3R5cGUuZGlzcGF0Y2hUaWxlRXZlbnRfID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZWUuVGlsZUV2ZW50KHRoaXMudGlsZXNMb2FkaW5nLmxlbmd0aCkpO1xufTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmZsb2F0VGlsZURpdnNfID0gdGhpcy5mbG9hdFRpbGVzXyA9IG51bGw7XG4gIGVlLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5GbG9hdFRpbGVPdmVybGF5XCIsIGVlLkZsb2F0VGlsZU92ZXJsYXkpO1xuZWUuRmxvYXRUaWxlT3ZlcmxheS5USUxFX0VER0VfTEVOR1RIID0gMjU2O1xuZWUubGF5ZXJzID0ge307XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cyA9IGZ1bmN0aW9uKHVuaXF1ZUlkKSB7XG4gIHRoaXMuc3RhdHNCeVpvb21fID0gbmV3IE1hcCgpO1xuICB0aGlzLnVuaXF1ZUlkXyA9IHVuaXF1ZUlkO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQWJzdHJhY3RPdmVybGF5U3RhdHNfQWJzdHJhY3RPdmVybGF5U3RhdHMucHJvdG90eXBlLmFkZFRpbGVTdGF0cyA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHpvb20pIHtcbiAgdGhpcy5nZXRTdGF0c0Zvclpvb21fKHpvb20pLnRpbGVMYXRlbmNpZXMucHVzaChlbmQgLSBzdGFydCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5wcm90b3R5cGUuaW5jcmVtZW50VGhyb3R0bGVDb3VudGVyID0gZnVuY3Rpb24oem9vbSkge1xuICB0aGlzLmdldFN0YXRzRm9yWm9vbV8oem9vbSkudGhyb3R0bGVDb3VudCsrO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQWJzdHJhY3RPdmVybGF5U3RhdHNfQWJzdHJhY3RPdmVybGF5U3RhdHMucHJvdG90eXBlLmluY3JlbWVudEVycm9yQ291bnRlciA9IGZ1bmN0aW9uKHpvb20pIHtcbiAgdGhpcy5nZXRTdGF0c0Zvclpvb21fKHpvb20pLmVycm9yQ291bnQrKztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEFic3RyYWN0T3ZlcmxheVN0YXRzX0Fic3RyYWN0T3ZlcmxheVN0YXRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnN0YXRzQnlab29tXy5jbGVhcigpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQWJzdHJhY3RPdmVybGF5U3RhdHNfQWJzdHJhY3RPdmVybGF5U3RhdHMucHJvdG90eXBlLmhhc0RhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDAgPCB0aGlzLnN0YXRzQnlab29tXy5zaXplO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQWJzdHJhY3RPdmVybGF5U3RhdHNfQWJzdHJhY3RPdmVybGF5U3RhdHMucHJvdG90eXBlLmdldFN1bW1hcnlMaXN0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzLCBzdW1tYXJ5TGlzdCA9IFtdO1xuICB0aGlzLnN0YXRzQnlab29tXy5mb3JFYWNoKGZ1bmN0aW9uKHN0YXRzLCB6b29tKSB7XG4gICAgcmV0dXJuIHN1bW1hcnlMaXN0LnB1c2goe2xheWVySWQ6JGpzY29tcCR0aGlzLnVuaXF1ZUlkXywgem9vbUxldmVsOnpvb20sIHRpbGVMYXRlbmNpZXM6c3RhdHMudGlsZUxhdGVuY2llcywgdGhyb3R0bGVDb3VudDpzdGF0cy50aHJvdHRsZUNvdW50LCBlcnJvckNvdW50OnN0YXRzLmVycm9yQ291bnQsfSk7XG4gIH0pO1xuICByZXR1cm4gc3VtbWFyeUxpc3Q7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5wcm90b3R5cGUuZ2V0U3RhdHNGb3Jab29tXyA9IGZ1bmN0aW9uKHpvb20pIHtcbiAgdGhpcy5zdGF0c0J5Wm9vbV8uaGFzKHpvb20pIHx8IHRoaXMuc3RhdHNCeVpvb21fLnNldCh6b29tLCB7dGhyb3R0bGVDb3VudDowLCBlcnJvckNvdW50OjAsIHRpbGVMYXRlbmNpZXM6W10sfSk7XG4gIHJldHVybiB0aGlzLnN0YXRzQnlab29tXy5nZXQoem9vbSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5MYXllclN0YXRzRm9yWm9vbUxldmVsID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5TdW1tYXJ5ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheVN0YXRzID0gbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cztcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKG9wdF9zY29wZSkge1xuICBnb29nLkRpc3Bvc2FibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5oYW5kbGVyXyA9IG9wdF9zY29wZTtcbiAgdGhpcy5rZXlzXyA9IHt9O1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLCBnb29nLkRpc3Bvc2FibGUpO1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnR5cGVBcnJheV8gPSBbXTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBvcHRfZm4sIG9wdF9vcHRpb25zKSB7XG4gIHJldHVybiB0aGlzLmxpc3Rlbl8oc3JjLCB0eXBlLCBvcHRfZm4sIG9wdF9vcHRpb25zKTtcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmxpc3RlbldpdGhTY29wZSA9IGZ1bmN0aW9uKHNyYywgdHlwZSwgZm4sIG9wdGlvbnMsIHNjb3BlKSB7XG4gIHJldHVybiB0aGlzLmxpc3Rlbl8oc3JjLCB0eXBlLCBmbiwgb3B0aW9ucywgc2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuXyA9IGZ1bmN0aW9uKHNyYywgdHlwZSwgb3B0X2ZuLCBvcHRfb3B0aW9ucywgb3B0X3Njb3BlKSB7XG4gIEFycmF5LmlzQXJyYXkodHlwZSkgfHwgKHR5cGUgJiYgKGdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci50eXBlQXJyYXlfWzBdID0gdHlwZS50b1N0cmluZygpKSwgdHlwZSA9IGdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci50eXBlQXJyYXlfKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxpc3RlbmVyT2JqID0gZ29vZy5ldmVudHMubGlzdGVuKHNyYywgdHlwZVtpXSwgb3B0X2ZuIHx8IHRoaXMuaGFuZGxlRXZlbnQsIG9wdF9vcHRpb25zIHx8ICExLCBvcHRfc2NvcGUgfHwgdGhpcy5oYW5kbGVyXyB8fCB0aGlzKTtcbiAgICBpZiAoIWxpc3RlbmVyT2JqKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5rZXlzX1tsaXN0ZW5lck9iai5rZXldID0gbGlzdGVuZXJPYmo7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5saXN0ZW5PbmNlID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBvcHRfZm4sIG9wdF9vcHRpb25zKSB7XG4gIHJldHVybiB0aGlzLmxpc3Rlbk9uY2VfKHNyYywgdHlwZSwgb3B0X2ZuLCBvcHRfb3B0aW9ucyk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5saXN0ZW5PbmNlV2l0aFNjb3BlID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBmbiwgY2FwdHVyZSwgc2NvcGUpIHtcbiAgcmV0dXJuIHRoaXMubGlzdGVuT25jZV8oc3JjLCB0eXBlLCBmbiwgY2FwdHVyZSwgc2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuT25jZV8gPSBmdW5jdGlvbihzcmMsIHR5cGUsIG9wdF9mbiwgb3B0X29wdGlvbnMsIG9wdF9zY29wZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5saXN0ZW5PbmNlXyhzcmMsIHR5cGVbaV0sIG9wdF9mbiwgb3B0X29wdGlvbnMsIG9wdF9zY29wZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBsaXN0ZW5lck9iaiA9IGdvb2cuZXZlbnRzLmxpc3Rlbk9uY2Uoc3JjLCB0eXBlLCBvcHRfZm4gfHwgdGhpcy5oYW5kbGVFdmVudCwgb3B0X29wdGlvbnMsIG9wdF9zY29wZSB8fCB0aGlzLmhhbmRsZXJfIHx8IHRoaXMpO1xuICAgIGlmICghbGlzdGVuZXJPYmopIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0aGlzLmtleXNfW2xpc3RlbmVyT2JqLmtleV0gPSBsaXN0ZW5lck9iajtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmxpc3RlbldpdGhXcmFwcGVyID0gZnVuY3Rpb24oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgb3B0X2NhcHQpIHtcbiAgcmV0dXJuIHRoaXMubGlzdGVuV2l0aFdyYXBwZXJfKHNyYywgd3JhcHBlciwgbGlzdGVuZXIsIG9wdF9jYXB0KTtcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmxpc3RlbldpdGhXcmFwcGVyQW5kU2NvcGUgPSBmdW5jdGlvbihzcmMsIHdyYXBwZXIsIGxpc3RlbmVyLCBjYXB0dXJlLCBzY29wZSkge1xuICByZXR1cm4gdGhpcy5saXN0ZW5XaXRoV3JhcHBlcl8oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgY2FwdHVyZSwgc2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuV2l0aFdyYXBwZXJfID0gZnVuY3Rpb24oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgb3B0X2NhcHQsIG9wdF9zY29wZSkge1xuICB3cmFwcGVyLmxpc3RlbihzcmMsIGxpc3RlbmVyLCBvcHRfY2FwdCwgb3B0X3Njb3BlIHx8IHRoaXMuaGFuZGxlcl8gfHwgdGhpcywgdGhpcyk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUuZ2V0TGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY291bnQgPSAwLCBrZXk7XG4gIGZvciAoa2V5IGluIHRoaXMua2V5c18pIHtcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5rZXlzXywga2V5KSAmJiBjb3VudCsrO1xuICB9XG4gIHJldHVybiBjb3VudDtcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLnVubGlzdGVuID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBvcHRfZm4sIG9wdF9vcHRpb25zLCBvcHRfc2NvcGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMudW5saXN0ZW4oc3JjLCB0eXBlW2ldLCBvcHRfZm4sIG9wdF9vcHRpb25zLCBvcHRfc2NvcGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgbGlzdGVuZXIgPSBnb29nLmV2ZW50cy5nZXRMaXN0ZW5lcihzcmMsIHR5cGUsIG9wdF9mbiB8fCB0aGlzLmhhbmRsZUV2ZW50LCBnb29nLmlzT2JqZWN0KG9wdF9vcHRpb25zKSA/ICEhb3B0X29wdGlvbnMuY2FwdHVyZSA6ICEhb3B0X29wdGlvbnMsIG9wdF9zY29wZSB8fCB0aGlzLmhhbmRsZXJfIHx8IHRoaXMpO1xuICAgIGxpc3RlbmVyICYmIChnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGxpc3RlbmVyKSwgZGVsZXRlIHRoaXMua2V5c19bbGlzdGVuZXIua2V5XSk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS51bmxpc3RlbldpdGhXcmFwcGVyID0gZnVuY3Rpb24oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgb3B0X2NhcHQsIG9wdF9zY29wZSkge1xuICB3cmFwcGVyLnVubGlzdGVuKHNyYywgbGlzdGVuZXIsIG9wdF9jYXB0LCBvcHRfc2NvcGUgfHwgdGhpcy5oYW5kbGVyXyB8fCB0aGlzLCB0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2godGhpcy5rZXlzXywgZnVuY3Rpb24obGlzdGVuZXJPYmosIGtleSkge1xuICAgIHRoaXMua2V5c18uaGFzT3duUHJvcGVydHkoa2V5KSAmJiBnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGxpc3RlbmVyT2JqKTtcbiAgfSwgdGhpcyk7XG4gIHRoaXMua2V5c18gPSB7fTtcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmV2ZW50cy5FdmVudEhhbmRsZXIuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMucmVtb3ZlQWxsKCk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhyb3cgRXJyb3IoXCJFdmVudEhhbmRsZXIuaGFuZGxlRXZlbnQgbm90IGltcGxlbWVudGVkXCIpO1xufTtcbmdvb2cuZnMuRE9NRXJyb3JMaWtlID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5mcy5FcnJvciA9IGZ1bmN0aW9uKGVycm9yLCBhY3Rpb24pIHtcbiAgaWYgKHZvaWQgMCAhPT0gZXJyb3IubmFtZSkge1xuICAgIHRoaXMubmFtZSA9IGVycm9yLm5hbWUsIHRoaXMuY29kZSA9IGdvb2cuZnMuRXJyb3IuZ2V0Q29kZUZyb21OYW1lXyhlcnJvci5uYW1lKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY29kZSA9IGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIoZXJyb3IuY29kZSk7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB0aGlzLm5hbWUgPSBnb29nLmZzLkVycm9yLmdldE5hbWVGcm9tQ29kZV8oY29kZSk7XG4gIH1cbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvci5jYWxsKHRoaXMsIGdvb2cuc3RyaW5nLnN1YnMoXCIlcyAlc1wiLCB0aGlzLm5hbWUsIGFjdGlvbikpO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5mcy5FcnJvciwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvcik7XG5nb29nLmZzLkVycm9yLkVycm9yTmFtZSA9IHtBQk9SVDpcIkFib3J0RXJyb3JcIiwgRU5DT0RJTkc6XCJFbmNvZGluZ0Vycm9yXCIsIElOVkFMSURfTU9ESUZJQ0FUSU9OOlwiSW52YWxpZE1vZGlmaWNhdGlvbkVycm9yXCIsIElOVkFMSURfU1RBVEU6XCJJbnZhbGlkU3RhdGVFcnJvclwiLCBOT1RfRk9VTkQ6XCJOb3RGb3VuZEVycm9yXCIsIE5PVF9SRUFEQUJMRTpcIk5vdFJlYWRhYmxlRXJyb3JcIiwgTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRUQ6XCJOb01vZGlmaWNhdGlvbkFsbG93ZWRFcnJvclwiLCBQQVRIX0VYSVNUUzpcIlBhdGhFeGlzdHNFcnJvclwiLCBRVU9UQV9FWENFRURFRDpcIlF1b3RhRXhjZWVkZWRFcnJvclwiLCBTRUNVUklUWTpcIlNlY3VyaXR5RXJyb3JcIiwgU1lOVEFYOlwiU3ludGF4RXJyb3JcIiwgVFlQRV9NSVNNQVRDSDpcIlR5cGVNaXNtYXRjaEVycm9yXCJ9O1xuZ29vZy5mcy5FcnJvci5FcnJvckNvZGUgPSB7Tk9UX0ZPVU5EOjEsIFNFQ1VSSVRZOjIsIEFCT1JUOjMsIE5PVF9SRUFEQUJMRTo0LCBFTkNPRElORzo1LCBOT19NT0RJRklDQVRJT05fQUxMT1dFRDo2LCBJTlZBTElEX1NUQVRFOjcsIFNZTlRBWDo4LCBJTlZBTElEX01PRElGSUNBVElPTjo5LCBRVU9UQV9FWENFRURFRDoxMCwgVFlQRV9NSVNNQVRDSDoxMSwgUEFUSF9FWElTVFM6MTJ9O1xuZ29vZy5mcy5FcnJvci5nZXROYW1lRnJvbUNvZGVfID0gZnVuY3Rpb24oY29kZSkge1xuICB2YXIgbmFtZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maW5kS2V5KGdvb2cuZnMuRXJyb3IuTmFtZVRvQ29kZU1hcF8sIGZ1bmN0aW9uKGMpIHtcbiAgICByZXR1cm4gY29kZSA9PSBjO1xuICB9KTtcbiAgaWYgKHZvaWQgMCA9PT0gbmFtZSkge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBjb2RlOiBcIiArIGNvZGUpO1xuICB9XG4gIHJldHVybiBuYW1lO1xufTtcbmdvb2cuZnMuRXJyb3IuZ2V0Q29kZUZyb21OYW1lXyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIGdvb2cuZnMuRXJyb3IuTmFtZVRvQ29kZU1hcF9bbmFtZV07XG59O1xudmFyICRqc2NvbXAkY29tcHByb3A0ID0ge307XG5nb29nLmZzLkVycm9yLk5hbWVUb0NvZGVNYXBfID0gKCRqc2NvbXAkY29tcHByb3A0W2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLkFCT1JUXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLkFCT1JULCAkanNjb21wJGNvbXBwcm9wNFtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5FTkNPRElOR10gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5FTkNPRElORywgJGpzY29tcCRjb21wcHJvcDRbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuSU5WQUxJRF9NT0RJRklDQVRJT05dID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuSU5WQUxJRF9NT0RJRklDQVRJT04sICRqc2NvbXAkY29tcHByb3A0W2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLklOVkFMSURfU1RBVEVdID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuSU5WQUxJRF9TVEFURSwgJGpzY29tcCRjb21wcHJvcDRbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuTk9UX0ZPVU5EXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLk5PVF9GT1VORCwgXG4kanNjb21wJGNvbXBwcm9wNFtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5OT1RfUkVBREFCTEVdID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuTk9UX1JFQURBQkxFLCAkanNjb21wJGNvbXBwcm9wNFtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5OT19NT0RJRklDQVRJT05fQUxMT1dFRF0gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5OT19NT0RJRklDQVRJT05fQUxMT1dFRCwgJGpzY29tcCRjb21wcHJvcDRbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuUEFUSF9FWElTVFNdID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuUEFUSF9FWElTVFMsICRqc2NvbXAkY29tcHByb3A0W2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLlFVT1RBX0VYQ0VFREVEXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLlFVT1RBX0VYQ0VFREVELCAkanNjb21wJGNvbXBwcm9wNFtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5TRUNVUklUWV0gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5TRUNVUklUWSwgJGpzY29tcCRjb21wcHJvcDRbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuU1lOVEFYXSA9IFxuZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuU1lOVEFYLCAkanNjb21wJGNvbXBwcm9wNFtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5UWVBFX01JU01BVENIXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLlRZUEVfTUlTTUFUQ0gsICRqc2NvbXAkY29tcHByb3A0KTtcbmdvb2cuZnMuUHJvZ3Jlc3NFdmVudCA9IGZ1bmN0aW9uKGV2ZW50LCB0YXJnZXQpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnQuY2FsbCh0aGlzLCBldmVudC50eXBlLCB0YXJnZXQpO1xuICB0aGlzLmV2ZW50XyA9IGV2ZW50O1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5mcy5Qcm9ncmVzc0V2ZW50LCBnb29nLmV2ZW50cy5FdmVudCk7XG5nb29nLmZzLlByb2dyZXNzRXZlbnQucHJvdG90eXBlLmlzTGVuZ3RoQ29tcHV0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ldmVudF8ubGVuZ3RoQ29tcHV0YWJsZTtcbn07XG5nb29nLmZzLlByb2dyZXNzRXZlbnQucHJvdG90eXBlLmdldExvYWRlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ldmVudF8ubG9hZGVkO1xufTtcbmdvb2cuZnMuUHJvZ3Jlc3NFdmVudC5wcm90b3R5cGUuZ2V0VG90YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZXZlbnRfLnRvdGFsO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlciA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuICB0aGlzLnJlYWRlcl8gPSBuZXcgRmlsZVJlYWRlcigpO1xuICB0aGlzLnJlYWRlcl8ub25sb2Fkc3RhcnQgPSBnb29nLmJpbmQodGhpcy5kaXNwYXRjaFByb2dyZXNzRXZlbnRfLCB0aGlzKTtcbiAgdGhpcy5yZWFkZXJfLm9ucHJvZ3Jlc3MgPSBnb29nLmJpbmQodGhpcy5kaXNwYXRjaFByb2dyZXNzRXZlbnRfLCB0aGlzKTtcbiAgdGhpcy5yZWFkZXJfLm9ubG9hZCA9IGdvb2cuYmluZCh0aGlzLmRpc3BhdGNoUHJvZ3Jlc3NFdmVudF8sIHRoaXMpO1xuICB0aGlzLnJlYWRlcl8ub25hYm9ydCA9IGdvb2cuYmluZCh0aGlzLmRpc3BhdGNoUHJvZ3Jlc3NFdmVudF8sIHRoaXMpO1xuICB0aGlzLnJlYWRlcl8ub25lcnJvciA9IGdvb2cuYmluZCh0aGlzLmRpc3BhdGNoUHJvZ3Jlc3NFdmVudF8sIHRoaXMpO1xuICB0aGlzLnJlYWRlcl8ub25sb2FkZW5kID0gZ29vZy5iaW5kKHRoaXMuZGlzcGF0Y2hQcm9ncmVzc0V2ZW50XywgdGhpcyk7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmZzLkZpbGVSZWFkZXIsIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KTtcbmdvb2cuZnMuRmlsZVJlYWRlci5SZWFkeVN0YXRlID0ge0lOSVQ6MCwgTE9BRElORzoxLCBET05FOjJ9O1xuZ29vZy5mcy5GaWxlUmVhZGVyLkV2ZW50VHlwZSA9IHtMT0FEX1NUQVJUOlwibG9hZHN0YXJ0XCIsIFBST0dSRVNTOlwicHJvZ3Jlc3NcIiwgTE9BRDpcImxvYWRcIiwgQUJPUlQ6XCJhYm9ydFwiLCBFUlJPUjpcImVycm9yXCIsIExPQURfRU5EOlwibG9hZGVuZFwifTtcbmdvb2cuZnMuRmlsZVJlYWRlci5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB0aGlzLnJlYWRlcl8uYWJvcnQoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBnb29nLmZzLkVycm9yKGUsIFwiYWJvcnRpbmcgcmVhZFwiKTtcbiAgfVxufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5wcm90b3R5cGUuZ2V0UmVhZHlTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5yZWFkZXJfLnJlYWR5U3RhdGU7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnByb3RvdHlwZS5nZXRSZXN1bHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucmVhZGVyXy5yZXN1bHQ7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnByb3RvdHlwZS5nZXRFcnJvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5yZWFkZXJfLmVycm9yICYmIG5ldyBnb29nLmZzLkVycm9yKHRoaXMucmVhZGVyXy5lcnJvciwgXCJyZWFkaW5nIGZpbGVcIik7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnByb3RvdHlwZS5kaXNwYXRjaFByb2dyZXNzRXZlbnRfID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBnb29nLmZzLlByb2dyZXNzRXZlbnQoZXZlbnQsIHRoaXMpKTtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmZzLkZpbGVSZWFkZXIuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIGRlbGV0ZSB0aGlzLnJlYWRlcl87XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnByb3RvdHlwZS5yZWFkQXNCaW5hcnlTdHJpbmcgPSBmdW5jdGlvbihibG9iKSB7XG4gIHRoaXMucmVhZGVyXy5yZWFkQXNCaW5hcnlTdHJpbmcoYmxvYik7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBnb29nLmZzLkZpbGVSZWFkZXIoKSwgZCA9IGdvb2cuZnMuRmlsZVJlYWRlci5jcmVhdGVEZWZlcnJlZF8ocmVhZGVyKTtcbiAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhibG9iKTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnByb3RvdHlwZS5yZWFkQXNBcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgdGhpcy5yZWFkZXJfLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBnb29nLmZzLkZpbGVSZWFkZXIoKSwgZCA9IGdvb2cuZnMuRmlsZVJlYWRlci5jcmVhdGVEZWZlcnJlZF8ocmVhZGVyKTtcbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuICByZXR1cm4gZDtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLnJlYWRBc1RleHQgPSBmdW5jdGlvbihibG9iLCBvcHRfZW5jb2RpbmcpIHtcbiAgdGhpcy5yZWFkZXJfLnJlYWRBc1RleHQoYmxvYiwgb3B0X2VuY29kaW5nKTtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucmVhZEFzVGV4dCA9IGZ1bmN0aW9uKGJsb2IsIG9wdF9lbmNvZGluZykge1xuICB2YXIgcmVhZGVyID0gbmV3IGdvb2cuZnMuRmlsZVJlYWRlcigpLCBkID0gZ29vZy5mcy5GaWxlUmVhZGVyLmNyZWF0ZURlZmVycmVkXyhyZWFkZXIpO1xuICByZWFkZXIucmVhZEFzVGV4dChibG9iLCBvcHRfZW5jb2RpbmcpO1xuICByZXR1cm4gZDtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLnJlYWRBc0RhdGFVcmwgPSBmdW5jdGlvbihibG9iKSB7XG4gIHRoaXMucmVhZGVyXy5yZWFkQXNEYXRhVVJMKGJsb2IpO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5yZWFkQXNEYXRhVXJsID0gZnVuY3Rpb24oYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IGdvb2cuZnMuRmlsZVJlYWRlcigpLCBkID0gZ29vZy5mcy5GaWxlUmVhZGVyLmNyZWF0ZURlZmVycmVkXyhyZWFkZXIpO1xuICByZWFkZXIucmVhZEFzRGF0YVVybChibG9iKTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLmNyZWF0ZURlZmVycmVkXyA9IGZ1bmN0aW9uKHJlYWRlcikge1xuICB2YXIgZGVmZXJyZWQgPSBuZXcgZ29vZy5hc3luYy5EZWZlcnJlZCgpO1xuICByZWFkZXIubGlzdGVuKGdvb2cuZnMuRmlsZVJlYWRlci5FdmVudFR5cGUuTE9BRF9FTkQsIGdvb2cucGFydGlhbChmdW5jdGlvbihkLCByLCBlKSB7XG4gICAgdmFyIHJlc3VsdCA9IHIuZ2V0UmVzdWx0KCksIGVycm9yID0gci5nZXRFcnJvcigpO1xuICAgIG51bGwgPT0gcmVzdWx0IHx8IGVycm9yID8gZC5lcnJiYWNrKGVycm9yKSA6IGQuY2FsbGJhY2socmVzdWx0KTtcbiAgICByLmRpc3Bvc2UoKTtcbiAgfSwgZGVmZXJyZWQsIHJlYWRlcikpO1xuICByZXR1cm4gZGVmZXJyZWQ7XG59O1xuZ29vZy5kb20udmVuZG9yID0ge307XG5nb29nLmRvbS52ZW5kb3IuZ2V0VmVuZG9ySnNQcmVmaXggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cudXNlckFnZW50LldFQktJVCA/IFwiV2Via2l0XCIgOiBnb29nLnVzZXJBZ2VudC5HRUNLTyA/IFwiTW96XCIgOiBnb29nLnVzZXJBZ2VudC5JRSA/IFwibXNcIiA6IG51bGw7XG59O1xuZ29vZy5kb20udmVuZG9yLmdldFZlbmRvclByZWZpeCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy51c2VyQWdlbnQuV0VCS0lUID8gXCItd2Via2l0XCIgOiBnb29nLnVzZXJBZ2VudC5HRUNLTyA/IFwiLW1velwiIDogZ29vZy51c2VyQWdlbnQuSUUgPyBcIi1tc1wiIDogbnVsbDtcbn07XG5nb29nLmRvbS52ZW5kb3IuZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWUgPSBmdW5jdGlvbihwcm9wZXJ0eU5hbWUsIG9wdF9vYmplY3QpIHtcbiAgaWYgKG9wdF9vYmplY3QgJiYgcHJvcGVydHlOYW1lIGluIG9wdF9vYmplY3QpIHtcbiAgICByZXR1cm4gcHJvcGVydHlOYW1lO1xuICB9XG4gIHZhciBwcmVmaXggPSBnb29nLmRvbS52ZW5kb3IuZ2V0VmVuZG9ySnNQcmVmaXgoKTtcbiAgaWYgKHByZWZpeCkge1xuICAgIHByZWZpeCA9IHByZWZpeC50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBwcmVmaXhlZFByb3BlcnR5TmFtZSA9IHByZWZpeCArIGdvb2cuc3RyaW5nLnRvVGl0bGVDYXNlKHByb3BlcnR5TmFtZSk7XG4gICAgcmV0dXJuIHZvaWQgMCA9PT0gb3B0X29iamVjdCB8fCBwcmVmaXhlZFByb3BlcnR5TmFtZSBpbiBvcHRfb2JqZWN0ID8gcHJlZml4ZWRQcm9wZXJ0eU5hbWUgOiBudWxsO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuZG9tLnZlbmRvci5nZXRQcmVmaXhlZEV2ZW50VHlwZSA9IGZ1bmN0aW9uKGV2ZW50VHlwZSkge1xuICByZXR1cm4gKChnb29nLmRvbS52ZW5kb3IuZ2V0VmVuZG9ySnNQcmVmaXgoKSB8fCBcIlwiKSArIGV2ZW50VHlwZSkudG9Mb3dlckNhc2UoKTtcbn07XG5nb29nLm1hdGguQm94ID0gZnVuY3Rpb24odG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KSB7XG4gIHRoaXMudG9wID0gdG9wO1xuICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gIHRoaXMuYm90dG9tID0gYm90dG9tO1xuICB0aGlzLmxlZnQgPSBsZWZ0O1xufTtcbmdvb2cubWF0aC5Cb3guYm91bmRpbmdCb3ggPSBmdW5jdGlvbih2YXJfYXJncykge1xuICBmb3IgKHZhciBib3ggPSBuZXcgZ29vZy5tYXRoLkJveChhcmd1bWVudHNbMF0ueSwgYXJndW1lbnRzWzBdLngsIGFyZ3VtZW50c1swXS55LCBhcmd1bWVudHNbMF0ueCksIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYm94LmV4cGFuZFRvSW5jbHVkZUNvb3JkaW5hdGUoYXJndW1lbnRzW2ldKTtcbiAgfVxuICByZXR1cm4gYm94O1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJpZ2h0IC0gdGhpcy5sZWZ0O1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ib3R0b20gLSB0aGlzLnRvcDtcbn07XG5nb29nLm1hdGguQm94LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Cb3godGhpcy50b3AsIHRoaXMucmlnaHQsIHRoaXMuYm90dG9tLCB0aGlzLmxlZnQpO1xufTtcbmdvb2cuREVCVUcgJiYgKGdvb2cubWF0aC5Cb3gucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIihcIiArIHRoaXMudG9wICsgXCJ0LCBcIiArIHRoaXMucmlnaHQgKyBcInIsIFwiICsgdGhpcy5ib3R0b20gKyBcImIsIFwiICsgdGhpcy5sZWZ0ICsgXCJsKVwiO1xufSk7XG5nb29nLm1hdGguQm94LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gIHJldHVybiBnb29nLm1hdGguQm94LmNvbnRhaW5zKHRoaXMsIG90aGVyKTtcbn07XG5nb29nLm1hdGguQm94LnByb3RvdHlwZS5leHBhbmQgPSBmdW5jdGlvbih0b3AsIG9wdF9yaWdodCwgb3B0X2JvdHRvbSwgb3B0X2xlZnQpIHtcbiAgZ29vZy5pc09iamVjdCh0b3ApID8gKHRoaXMudG9wIC09IHRvcC50b3AsIHRoaXMucmlnaHQgKz0gdG9wLnJpZ2h0LCB0aGlzLmJvdHRvbSArPSB0b3AuYm90dG9tLCB0aGlzLmxlZnQgLT0gdG9wLmxlZnQpIDogKHRoaXMudG9wIC09IHRvcCwgdGhpcy5yaWdodCArPSBOdW1iZXIob3B0X3JpZ2h0KSwgdGhpcy5ib3R0b20gKz0gTnVtYmVyKG9wdF9ib3R0b20pLCB0aGlzLmxlZnQgLT0gTnVtYmVyKG9wdF9sZWZ0KSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmV4cGFuZFRvSW5jbHVkZSA9IGZ1bmN0aW9uKGJveCkge1xuICB0aGlzLmxlZnQgPSBNYXRoLm1pbih0aGlzLmxlZnQsIGJveC5sZWZ0KTtcbiAgdGhpcy50b3AgPSBNYXRoLm1pbih0aGlzLnRvcCwgYm94LnRvcCk7XG4gIHRoaXMucmlnaHQgPSBNYXRoLm1heCh0aGlzLnJpZ2h0LCBib3gucmlnaHQpO1xuICB0aGlzLmJvdHRvbSA9IE1hdGgubWF4KHRoaXMuYm90dG9tLCBib3guYm90dG9tKTtcbn07XG5nb29nLm1hdGguQm94LnByb3RvdHlwZS5leHBhbmRUb0luY2x1ZGVDb29yZGluYXRlID0gZnVuY3Rpb24oY29vcmQpIHtcbiAgdGhpcy50b3AgPSBNYXRoLm1pbih0aGlzLnRvcCwgY29vcmQueSk7XG4gIHRoaXMucmlnaHQgPSBNYXRoLm1heCh0aGlzLnJpZ2h0LCBjb29yZC54KTtcbiAgdGhpcy5ib3R0b20gPSBNYXRoLm1heCh0aGlzLmJvdHRvbSwgY29vcmQueSk7XG4gIHRoaXMubGVmdCA9IE1hdGgubWluKHRoaXMubGVmdCwgY29vcmQueCk7XG59O1xuZ29vZy5tYXRoLkJveC5lcXVhbHMgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhID09IGIgPyAhMCA6IGEgJiYgYiA/IGEudG9wID09IGIudG9wICYmIGEucmlnaHQgPT0gYi5yaWdodCAmJiBhLmJvdHRvbSA9PSBiLmJvdHRvbSAmJiBhLmxlZnQgPT0gYi5sZWZ0IDogITE7XG59O1xuZ29vZy5tYXRoLkJveC5jb250YWlucyA9IGZ1bmN0aW9uKGJveCwgb3RoZXIpIHtcbiAgcmV0dXJuIGJveCAmJiBvdGhlciA/IG90aGVyIGluc3RhbmNlb2YgZ29vZy5tYXRoLkJveCA/IG90aGVyLmxlZnQgPj0gYm94LmxlZnQgJiYgb3RoZXIucmlnaHQgPD0gYm94LnJpZ2h0ICYmIG90aGVyLnRvcCA+PSBib3gudG9wICYmIG90aGVyLmJvdHRvbSA8PSBib3guYm90dG9tIDogb3RoZXIueCA+PSBib3gubGVmdCAmJiBvdGhlci54IDw9IGJveC5yaWdodCAmJiBvdGhlci55ID49IGJveC50b3AgJiYgb3RoZXIueSA8PSBib3guYm90dG9tIDogITE7XG59O1xuZ29vZy5tYXRoLkJveC5yZWxhdGl2ZVBvc2l0aW9uWCA9IGZ1bmN0aW9uKGJveCwgY29vcmQpIHtcbiAgcmV0dXJuIGNvb3JkLnggPCBib3gubGVmdCA/IGNvb3JkLnggLSBib3gubGVmdCA6IGNvb3JkLnggPiBib3gucmlnaHQgPyBjb29yZC54IC0gYm94LnJpZ2h0IDogMDtcbn07XG5nb29nLm1hdGguQm94LnJlbGF0aXZlUG9zaXRpb25ZID0gZnVuY3Rpb24oYm94LCBjb29yZCkge1xuICByZXR1cm4gY29vcmQueSA8IGJveC50b3AgPyBjb29yZC55IC0gYm94LnRvcCA6IGNvb3JkLnkgPiBib3guYm90dG9tID8gY29vcmQueSAtIGJveC5ib3R0b20gOiAwO1xufTtcbmdvb2cubWF0aC5Cb3guZGlzdGFuY2UgPSBmdW5jdGlvbihib3gsIGNvb3JkKSB7XG4gIHZhciB4ID0gZ29vZy5tYXRoLkJveC5yZWxhdGl2ZVBvc2l0aW9uWChib3gsIGNvb3JkKSwgeSA9IGdvb2cubWF0aC5Cb3gucmVsYXRpdmVQb3NpdGlvblkoYm94LCBjb29yZCk7XG4gIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG59O1xuZ29vZy5tYXRoLkJveC5pbnRlcnNlY3RzID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYS5sZWZ0IDw9IGIucmlnaHQgJiYgYi5sZWZ0IDw9IGEucmlnaHQgJiYgYS50b3AgPD0gYi5ib3R0b20gJiYgYi50b3AgPD0gYS5ib3R0b207XG59O1xuZ29vZy5tYXRoLkJveC5pbnRlcnNlY3RzV2l0aFBhZGRpbmcgPSBmdW5jdGlvbihhLCBiLCBwYWRkaW5nKSB7XG4gIHJldHVybiBhLmxlZnQgPD0gYi5yaWdodCArIHBhZGRpbmcgJiYgYi5sZWZ0IDw9IGEucmlnaHQgKyBwYWRkaW5nICYmIGEudG9wIDw9IGIuYm90dG9tICsgcGFkZGluZyAmJiBiLnRvcCA8PSBhLmJvdHRvbSArIHBhZGRpbmc7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUuY2VpbCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnRvcCA9IE1hdGguY2VpbCh0aGlzLnRvcCk7XG4gIHRoaXMucmlnaHQgPSBNYXRoLmNlaWwodGhpcy5yaWdodCk7XG4gIHRoaXMuYm90dG9tID0gTWF0aC5jZWlsKHRoaXMuYm90dG9tKTtcbiAgdGhpcy5sZWZ0ID0gTWF0aC5jZWlsKHRoaXMubGVmdCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmZsb29yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudG9wID0gTWF0aC5mbG9vcih0aGlzLnRvcCk7XG4gIHRoaXMucmlnaHQgPSBNYXRoLmZsb29yKHRoaXMucmlnaHQpO1xuICB0aGlzLmJvdHRvbSA9IE1hdGguZmxvb3IodGhpcy5ib3R0b20pO1xuICB0aGlzLmxlZnQgPSBNYXRoLmZsb29yKHRoaXMubGVmdCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLnJvdW5kID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudG9wID0gTWF0aC5yb3VuZCh0aGlzLnRvcCk7XG4gIHRoaXMucmlnaHQgPSBNYXRoLnJvdW5kKHRoaXMucmlnaHQpO1xuICB0aGlzLmJvdHRvbSA9IE1hdGgucm91bmQodGhpcy5ib3R0b20pO1xuICB0aGlzLmxlZnQgPSBNYXRoLnJvdW5kKHRoaXMubGVmdCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKHR4LCBvcHRfdHkpIHtcbiAgdHggaW5zdGFuY2VvZiBnb29nLm1hdGguQ29vcmRpbmF0ZSA/ICh0aGlzLmxlZnQgKz0gdHgueCwgdGhpcy5yaWdodCArPSB0eC54LCB0aGlzLnRvcCArPSB0eC55LCB0aGlzLmJvdHRvbSArPSB0eC55KSA6IChnb29nLmFzc2VydHMuYXNzZXJ0TnVtYmVyKHR4KSwgdGhpcy5sZWZ0ICs9IHR4LCB0aGlzLnJpZ2h0ICs9IHR4LCBcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0X3R5ICYmICh0aGlzLnRvcCArPSBvcHRfdHksIHRoaXMuYm90dG9tICs9IG9wdF90eSkpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguQm94LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uKHN4LCBvcHRfc3kpIHtcbiAgdmFyIHN5ID0gXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdF9zeSA/IG9wdF9zeSA6IHN4O1xuICB0aGlzLmxlZnQgKj0gc3g7XG4gIHRoaXMucmlnaHQgKj0gc3g7XG4gIHRoaXMudG9wICo9IHN5O1xuICB0aGlzLmJvdHRvbSAqPSBzeTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLklSZWN0ID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5tYXRoLlJlY3QgPSBmdW5jdGlvbih4LCB5LCB3LCBoKSB7XG4gIHRoaXMubGVmdCA9IHg7XG4gIHRoaXMudG9wID0geTtcbiAgdGhpcy53aWR0aCA9IHc7XG4gIHRoaXMuaGVpZ2h0ID0gaDtcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguUmVjdCh0aGlzLmxlZnQsIHRoaXMudG9wLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLnRvQm94ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkJveCh0aGlzLnRvcCwgdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCwgdGhpcy50b3AgKyB0aGlzLmhlaWdodCwgdGhpcy5sZWZ0KTtcbn07XG5nb29nLm1hdGguUmVjdC5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaXplID0gZnVuY3Rpb24ocG9zaXRpb24sIHNpemUpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguUmVjdChwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XG59O1xuZ29vZy5tYXRoLlJlY3QuY3JlYXRlRnJvbUJveCA9IGZ1bmN0aW9uKGJveCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5SZWN0KGJveC5sZWZ0LCBib3gudG9wLCBib3gucmlnaHQgLSBib3gubGVmdCwgYm94LmJvdHRvbSAtIGJveC50b3ApO1xufTtcbmdvb2cuREVCVUcgJiYgKGdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCIoXCIgKyB0aGlzLmxlZnQgKyBcIiwgXCIgKyB0aGlzLnRvcCArIFwiIC0gXCIgKyB0aGlzLndpZHRoICsgXCJ3IHggXCIgKyB0aGlzLmhlaWdodCArIFwiaClcIjtcbn0pO1xuZ29vZy5tYXRoLlJlY3QuZXF1YWxzID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9PSBiID8gITAgOiBhICYmIGIgPyBhLmxlZnQgPT0gYi5sZWZ0ICYmIGEud2lkdGggPT0gYi53aWR0aCAmJiBhLnRvcCA9PSBiLnRvcCAmJiBhLmhlaWdodCA9PSBiLmhlaWdodCA6ICExO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihyZWN0KSB7XG4gIHZhciB4MCA9IE1hdGgubWF4KHRoaXMubGVmdCwgcmVjdC5sZWZ0KSwgeDEgPSBNYXRoLm1pbih0aGlzLmxlZnQgKyB0aGlzLndpZHRoLCByZWN0LmxlZnQgKyByZWN0LndpZHRoKTtcbiAgaWYgKHgwIDw9IHgxKSB7XG4gICAgdmFyIHkwID0gTWF0aC5tYXgodGhpcy50b3AsIHJlY3QudG9wKSwgeTEgPSBNYXRoLm1pbih0aGlzLnRvcCArIHRoaXMuaGVpZ2h0LCByZWN0LnRvcCArIHJlY3QuaGVpZ2h0KTtcbiAgICBpZiAoeTAgPD0geTEpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlZnQgPSB4MCwgdGhpcy50b3AgPSB5MCwgdGhpcy53aWR0aCA9IHgxIC0geDAsIHRoaXMuaGVpZ2h0ID0geTEgLSB5MCwgITA7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLm1hdGguUmVjdC5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihhLCBiKSB7XG4gIHZhciB4MCA9IE1hdGgubWF4KGEubGVmdCwgYi5sZWZ0KSwgeDEgPSBNYXRoLm1pbihhLmxlZnQgKyBhLndpZHRoLCBiLmxlZnQgKyBiLndpZHRoKTtcbiAgaWYgKHgwIDw9IHgxKSB7XG4gICAgdmFyIHkwID0gTWF0aC5tYXgoYS50b3AsIGIudG9wKSwgeTEgPSBNYXRoLm1pbihhLnRvcCArIGEuaGVpZ2h0LCBiLnRvcCArIGIuaGVpZ2h0KTtcbiAgICBpZiAoeTAgPD0geTEpIHtcbiAgICAgIHJldHVybiBuZXcgZ29vZy5tYXRoLlJlY3QoeDAsIHkwLCB4MSAtIHgwLCB5MSAtIHkwKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5tYXRoLlJlY3QuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEubGVmdCA8PSBiLmxlZnQgKyBiLndpZHRoICYmIGIubGVmdCA8PSBhLmxlZnQgKyBhLndpZHRoICYmIGEudG9wIDw9IGIudG9wICsgYi5oZWlnaHQgJiYgYi50b3AgPD0gYS50b3AgKyBhLmhlaWdodDtcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uKHJlY3QpIHtcbiAgcmV0dXJuIGdvb2cubWF0aC5SZWN0LmludGVyc2VjdHModGhpcywgcmVjdCk7XG59O1xuZ29vZy5tYXRoLlJlY3QuZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGludGVyc2VjdGlvbiA9IGdvb2cubWF0aC5SZWN0LmludGVyc2VjdGlvbihhLCBiKTtcbiAgaWYgKCFpbnRlcnNlY3Rpb24gfHwgIWludGVyc2VjdGlvbi5oZWlnaHQgfHwgIWludGVyc2VjdGlvbi53aWR0aCkge1xuICAgIHJldHVybiBbYS5jbG9uZSgpXTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW10sIHRvcCA9IGEudG9wLCBoZWlnaHQgPSBhLmhlaWdodCwgYXIgPSBhLmxlZnQgKyBhLndpZHRoLCBhYiA9IGEudG9wICsgYS5oZWlnaHQsIGJyID0gYi5sZWZ0ICsgYi53aWR0aCwgYmIgPSBiLnRvcCArIGIuaGVpZ2h0O1xuICBiLnRvcCA+IGEudG9wICYmIChyZXN1bHQucHVzaChuZXcgZ29vZy5tYXRoLlJlY3QoYS5sZWZ0LCBhLnRvcCwgYS53aWR0aCwgYi50b3AgLSBhLnRvcCkpLCB0b3AgPSBiLnRvcCwgaGVpZ2h0IC09IGIudG9wIC0gYS50b3ApO1xuICBiYiA8IGFiICYmIChyZXN1bHQucHVzaChuZXcgZ29vZy5tYXRoLlJlY3QoYS5sZWZ0LCBiYiwgYS53aWR0aCwgYWIgLSBiYikpLCBoZWlnaHQgPSBiYiAtIHRvcCk7XG4gIGIubGVmdCA+IGEubGVmdCAmJiByZXN1bHQucHVzaChuZXcgZ29vZy5tYXRoLlJlY3QoYS5sZWZ0LCB0b3AsIGIubGVmdCAtIGEubGVmdCwgaGVpZ2h0KSk7XG4gIGJyIDwgYXIgJiYgcmVzdWx0LnB1c2gobmV3IGdvb2cubWF0aC5SZWN0KGJyLCB0b3AsIGFyIC0gYnIsIGhlaWdodCkpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5kaWZmZXJlbmNlID0gZnVuY3Rpb24ocmVjdCkge1xuICByZXR1cm4gZ29vZy5tYXRoLlJlY3QuZGlmZmVyZW5jZSh0aGlzLCByZWN0KTtcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUuYm91bmRpbmdSZWN0ID0gZnVuY3Rpb24ocmVjdCkge1xuICB2YXIgcmlnaHQgPSBNYXRoLm1heCh0aGlzLmxlZnQgKyB0aGlzLndpZHRoLCByZWN0LmxlZnQgKyByZWN0LndpZHRoKSwgYm90dG9tID0gTWF0aC5tYXgodGhpcy50b3AgKyB0aGlzLmhlaWdodCwgcmVjdC50b3AgKyByZWN0LmhlaWdodCk7XG4gIHRoaXMubGVmdCA9IE1hdGgubWluKHRoaXMubGVmdCwgcmVjdC5sZWZ0KTtcbiAgdGhpcy50b3AgPSBNYXRoLm1pbih0aGlzLnRvcCwgcmVjdC50b3ApO1xuICB0aGlzLndpZHRoID0gcmlnaHQgLSB0aGlzLmxlZnQ7XG4gIHRoaXMuaGVpZ2h0ID0gYm90dG9tIC0gdGhpcy50b3A7XG59O1xuZ29vZy5tYXRoLlJlY3QuYm91bmRpbmdSZWN0ID0gZnVuY3Rpb24oYSwgYikge1xuICBpZiAoIWEgfHwgIWIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbmV3UmVjdCA9IG5ldyBnb29nLm1hdGguUmVjdChhLmxlZnQsIGEudG9wLCBhLndpZHRoLCBhLmhlaWdodCk7XG4gIG5ld1JlY3QuYm91bmRpbmdSZWN0KGIpO1xuICByZXR1cm4gbmV3UmVjdDtcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihhbm90aGVyKSB7XG4gIHJldHVybiBhbm90aGVyIGluc3RhbmNlb2YgZ29vZy5tYXRoLkNvb3JkaW5hdGUgPyBhbm90aGVyLnggPj0gdGhpcy5sZWZ0ICYmIGFub3RoZXIueCA8PSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoICYmIGFub3RoZXIueSA+PSB0aGlzLnRvcCAmJiBhbm90aGVyLnkgPD0gdGhpcy50b3AgKyB0aGlzLmhlaWdodCA6IHRoaXMubGVmdCA8PSBhbm90aGVyLmxlZnQgJiYgdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCA+PSBhbm90aGVyLmxlZnQgKyBhbm90aGVyLndpZHRoICYmIHRoaXMudG9wIDw9IGFub3RoZXIudG9wICYmIHRoaXMudG9wICsgdGhpcy5oZWlnaHQgPj0gYW5vdGhlci50b3AgKyBhbm90aGVyLmhlaWdodDtcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUuc3F1YXJlZERpc3RhbmNlID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgdmFyIGR4ID0gcG9pbnQueCA8IHRoaXMubGVmdCA/IHRoaXMubGVmdCAtIHBvaW50LnggOiBNYXRoLm1heChwb2ludC54IC0gKHRoaXMubGVmdCArIHRoaXMud2lkdGgpLCAwKSwgZHkgPSBwb2ludC55IDwgdGhpcy50b3AgPyB0aGlzLnRvcCAtIHBvaW50LnkgOiBNYXRoLm1heChwb2ludC55IC0gKHRoaXMudG9wICsgdGhpcy5oZWlnaHQpLCAwKTtcbiAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5kaXN0YW5jZSA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gIHJldHVybiBNYXRoLnNxcnQodGhpcy5zcXVhcmVkRGlzdGFuY2UocG9pbnQpKTtcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5TaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUuZ2V0VG9wTGVmdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHRoaXMubGVmdCwgdGhpcy50b3ApO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZSh0aGlzLmxlZnQgKyB0aGlzLndpZHRoIC8gMiwgdGhpcy50b3AgKyB0aGlzLmhlaWdodCAvIDIpO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5nZXRCb3R0b21SaWdodCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHRoaXMubGVmdCArIHRoaXMud2lkdGgsIHRoaXMudG9wICsgdGhpcy5oZWlnaHQpO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5jZWlsID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubGVmdCA9IE1hdGguY2VpbCh0aGlzLmxlZnQpO1xuICB0aGlzLnRvcCA9IE1hdGguY2VpbCh0aGlzLnRvcCk7XG4gIHRoaXMud2lkdGggPSBNYXRoLmNlaWwodGhpcy53aWR0aCk7XG4gIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKHRoaXMuaGVpZ2h0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmZsb29yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubGVmdCA9IE1hdGguZmxvb3IodGhpcy5sZWZ0KTtcbiAgdGhpcy50b3AgPSBNYXRoLmZsb29yKHRoaXMudG9wKTtcbiAgdGhpcy53aWR0aCA9IE1hdGguZmxvb3IodGhpcy53aWR0aCk7XG4gIHRoaXMuaGVpZ2h0ID0gTWF0aC5mbG9vcih0aGlzLmhlaWdodCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5yb3VuZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmxlZnQgPSBNYXRoLnJvdW5kKHRoaXMubGVmdCk7XG4gIHRoaXMudG9wID0gTWF0aC5yb3VuZCh0aGlzLnRvcCk7XG4gIHRoaXMud2lkdGggPSBNYXRoLnJvdW5kKHRoaXMud2lkdGgpO1xuICB0aGlzLmhlaWdodCA9IE1hdGgucm91bmQodGhpcy5oZWlnaHQpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24odHgsIG9wdF90eSkge1xuICB0eCBpbnN0YW5jZW9mIGdvb2cubWF0aC5Db29yZGluYXRlID8gKHRoaXMubGVmdCArPSB0eC54LCB0aGlzLnRvcCArPSB0eC55KSA6ICh0aGlzLmxlZnQgKz0gZ29vZy5hc3NlcnRzLmFzc2VydE51bWJlcih0eCksIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfdHkgJiYgKHRoaXMudG9wICs9IG9wdF90eSkpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbihzeCwgb3B0X3N5KSB7XG4gIHZhciBzeSA9IFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfc3kgPyBvcHRfc3kgOiBzeDtcbiAgdGhpcy5sZWZ0ICo9IHN4O1xuICB0aGlzLndpZHRoICo9IHN4O1xuICB0aGlzLnRvcCAqPSBzeTtcbiAgdGhpcy5oZWlnaHQgKj0gc3k7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuc3R5bGUgPSB7fTtcbmdvb2cuc3R5bGUuc2V0U3R5bGUgPSBmdW5jdGlvbihlbGVtZW50LCBzdHlsZSwgb3B0X3ZhbHVlKSB7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2Ygc3R5bGUpIHtcbiAgICBnb29nLnN0eWxlLnNldFN0eWxlXyhlbGVtZW50LCBvcHRfdmFsdWUsIHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gc3R5bGUpIHtcbiAgICAgIGdvb2cuc3R5bGUuc2V0U3R5bGVfKGVsZW1lbnQsIHN0eWxlW2tleV0sIGtleSk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5zdHlsZS5zZXRTdHlsZV8gPSBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSwgc3R5bGUpIHtcbiAgdmFyIHByb3BlcnR5TmFtZSA9IGdvb2cuc3R5bGUuZ2V0VmVuZG9ySnNTdHlsZU5hbWVfKGVsZW1lbnQsIHN0eWxlKTtcbiAgcHJvcGVydHlOYW1lICYmIChlbGVtZW50LnN0eWxlW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZSk7XG59O1xuZ29vZy5zdHlsZS5zdHlsZU5hbWVDYWNoZV8gPSB7fTtcbmdvb2cuc3R5bGUuZ2V0VmVuZG9ySnNTdHlsZU5hbWVfID0gZnVuY3Rpb24oZWxlbWVudCwgc3R5bGUpIHtcbiAgdmFyIHByb3BlcnR5TmFtZSA9IGdvb2cuc3R5bGUuc3R5bGVOYW1lQ2FjaGVfW3N0eWxlXTtcbiAgaWYgKCFwcm9wZXJ0eU5hbWUpIHtcbiAgICB2YXIgY2FtZWxTdHlsZSA9IGdvb2cuc3RyaW5nLnRvQ2FtZWxDYXNlKHN0eWxlKTtcbiAgICBwcm9wZXJ0eU5hbWUgPSBjYW1lbFN0eWxlO1xuICAgIGlmICh2b2lkIDAgPT09IGVsZW1lbnQuc3R5bGVbY2FtZWxTdHlsZV0pIHtcbiAgICAgIHZhciBwcmVmaXhlZFN0eWxlID0gZ29vZy5kb20udmVuZG9yLmdldFZlbmRvckpzUHJlZml4KCkgKyBnb29nLnN0cmluZy50b1RpdGxlQ2FzZShjYW1lbFN0eWxlKTtcbiAgICAgIHZvaWQgMCAhPT0gZWxlbWVudC5zdHlsZVtwcmVmaXhlZFN0eWxlXSAmJiAocHJvcGVydHlOYW1lID0gcHJlZml4ZWRTdHlsZSk7XG4gICAgfVxuICAgIGdvb2cuc3R5bGUuc3R5bGVOYW1lQ2FjaGVfW3N0eWxlXSA9IHByb3BlcnR5TmFtZTtcbiAgfVxuICByZXR1cm4gcHJvcGVydHlOYW1lO1xufTtcbmdvb2cuc3R5bGUuZ2V0VmVuZG9yU3R5bGVOYW1lXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0eWxlKSB7XG4gIHZhciBjYW1lbFN0eWxlID0gZ29vZy5zdHJpbmcudG9DYW1lbENhc2Uoc3R5bGUpO1xuICBpZiAodm9pZCAwID09PSBlbGVtZW50LnN0eWxlW2NhbWVsU3R5bGVdKSB7XG4gICAgdmFyIHByZWZpeGVkU3R5bGUgPSBnb29nLmRvbS52ZW5kb3IuZ2V0VmVuZG9ySnNQcmVmaXgoKSArIGdvb2cuc3RyaW5nLnRvVGl0bGVDYXNlKGNhbWVsU3R5bGUpO1xuICAgIGlmICh2b2lkIDAgIT09IGVsZW1lbnQuc3R5bGVbcHJlZml4ZWRTdHlsZV0pIHtcbiAgICAgIHJldHVybiBnb29nLmRvbS52ZW5kb3IuZ2V0VmVuZG9yUHJlZml4KCkgKyBcIi1cIiArIHN0eWxlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3R5bGU7XG59O1xuZ29vZy5zdHlsZS5nZXRTdHlsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gIHZhciBzdHlsZVZhbHVlID0gZWxlbWVudC5zdHlsZVtnb29nLnN0cmluZy50b0NhbWVsQ2FzZShwcm9wZXJ0eSldO1xuICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIHN0eWxlVmFsdWUgPyBzdHlsZVZhbHVlIDogZWxlbWVudC5zdHlsZVtnb29nLnN0eWxlLmdldFZlbmRvckpzU3R5bGVOYW1lXyhlbGVtZW50LCBwcm9wZXJ0eSldIHx8IFwiXCI7XG59O1xuZ29vZy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgdmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQoZWxlbWVudCk7XG4gIGlmIChkb2MuZGVmYXVsdFZpZXcgJiYgZG9jLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICB2YXIgc3R5bGVzID0gZG9jLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG4gICAgaWYgKHN0eWxlcykge1xuICAgICAgcmV0dXJuIHN0eWxlc1twcm9wZXJ0eV0gfHwgc3R5bGVzLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpIHx8IFwiXCI7XG4gICAgfVxuICB9XG4gIHJldHVybiBcIlwiO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q2FzY2FkZWRTdHlsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0eWxlKSB7XG4gIHJldHVybiBlbGVtZW50LmN1cnJlbnRTdHlsZSA/IGVsZW1lbnQuY3VycmVudFN0eWxlW3N0eWxlXSA6IG51bGw7XG59O1xuZ29vZy5zdHlsZS5nZXRTdHlsZV8gPSBmdW5jdGlvbihlbGVtZW50LCBzdHlsZSkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIHN0eWxlKSB8fCBnb29nLnN0eWxlLmdldENhc2NhZGVkU3R5bGUoZWxlbWVudCwgc3R5bGUpIHx8IGVsZW1lbnQuc3R5bGUgJiYgZWxlbWVudC5zdHlsZVtzdHlsZV07XG59O1xuZ29vZy5zdHlsZS5nZXRDb21wdXRlZEJveFNpemluZyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwiYm94U2l6aW5nXCIpIHx8IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwiTW96Qm94U2l6aW5nXCIpIHx8IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwiV2Via2l0Qm94U2l6aW5nXCIpIHx8IG51bGw7XG59O1xuZ29vZy5zdHlsZS5nZXRDb21wdXRlZFBvc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJwb3NpdGlvblwiKTtcbn07XG5nb29nLnN0eWxlLmdldEJhY2tncm91bmRDb2xvciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwiYmFja2dyb3VuZENvbG9yXCIpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRPdmVyZmxvd1ggPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBcIm92ZXJmbG93WFwiKTtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkT3ZlcmZsb3dZID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJvdmVyZmxvd1lcIik7XG59O1xuZ29vZy5zdHlsZS5nZXRDb21wdXRlZFpJbmRleCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwiekluZGV4XCIpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRUZXh0QWxpZ24gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBcInRleHRBbGlnblwiKTtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkQ3Vyc29yID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJjdXJzb3JcIik7XG59O1xuZ29vZy5zdHlsZS5nZXRDb21wdXRlZFRyYW5zZm9ybSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIHByb3BlcnR5ID0gZ29vZy5zdHlsZS5nZXRWZW5kb3JTdHlsZU5hbWVfKGVsZW1lbnQsIFwidHJhbnNmb3JtXCIpO1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgcHJvcGVydHkpIHx8IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwidHJhbnNmb3JtXCIpO1xufTtcbmdvb2cuc3R5bGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbihlbCwgYXJnMSwgb3B0X2FyZzIpIHtcbiAgaWYgKGFyZzEgaW5zdGFuY2VvZiBnb29nLm1hdGguQ29vcmRpbmF0ZSkge1xuICAgIHZhciB4ID0gYXJnMS54O1xuICAgIHZhciB5ID0gYXJnMS55O1xuICB9IGVsc2Uge1xuICAgIHggPSBhcmcxLCB5ID0gb3B0X2FyZzI7XG4gIH1cbiAgZWwuc3R5bGUubGVmdCA9IGdvb2cuc3R5bGUuZ2V0UGl4ZWxTdHlsZVZhbHVlXyh4LCAhMSk7XG4gIGVsLnN0eWxlLnRvcCA9IGdvb2cuc3R5bGUuZ2V0UGl4ZWxTdHlsZVZhbHVlXyh5LCAhMSk7XG59O1xuZ29vZy5zdHlsZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZShlbGVtZW50Lm9mZnNldExlZnQsIGVsZW1lbnQub2Zmc2V0VG9wKTtcbn07XG5nb29nLnN0eWxlLmdldENsaWVudFZpZXdwb3J0RWxlbWVudCA9IGZ1bmN0aW9uKG9wdF9ub2RlKSB7XG4gIHZhciBkb2MgPSBvcHRfbm9kZSA/IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQob3B0X25vZGUpIDogZ29vZy5kb20uZ2V0RG9jdW1lbnQoKTtcbiAgcmV0dXJuICFnb29nLnVzZXJBZ2VudC5JRSB8fCBnb29nLnVzZXJBZ2VudC5pc0RvY3VtZW50TW9kZU9ySGlnaGVyKDkpIHx8IGdvb2cuZG9tLmdldERvbUhlbHBlcihkb2MpLmlzQ3NzMUNvbXBhdE1vZGUoKSA/IGRvYy5kb2N1bWVudEVsZW1lbnQgOiBkb2MuYm9keTtcbn07XG5nb29nLnN0eWxlLmdldFZpZXdwb3J0UGFnZU9mZnNldCA9IGZ1bmN0aW9uKGRvYykge1xuICB2YXIgYm9keSA9IGRvYy5ib2R5LCBkb2N1bWVudEVsZW1lbnQgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGJvZHkuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCwgYm9keS5zY3JvbGxUb3AgfHwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCk7XG59O1xuZ29vZy5zdHlsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3RfID0gZnVuY3Rpb24oZWwpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge2xlZnQ6MCwgdG9wOjAsIHJpZ2h0OjAsIGJvdHRvbTowfTtcbiAgfVxufTtcbmdvb2cuc3R5bGUuZ2V0T2Zmc2V0UGFyZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBpZiAoZ29vZy51c2VyQWdlbnQuSUUgJiYgIWdvb2cudXNlckFnZW50LmlzRG9jdW1lbnRNb2RlT3JIaWdoZXIoOCkpIHtcbiAgICByZXR1cm4gZ29vZy5hc3NlcnRzLmFzc2VydChlbGVtZW50ICYmIFwib2Zmc2V0UGFyZW50XCIgaW4gZWxlbWVudCksIGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICB9XG4gIGZvciAodmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQoZWxlbWVudCksIHBvc2l0aW9uU3R5bGUgPSBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBcInBvc2l0aW9uXCIpLCBza2lwU3RhdGljID0gXCJmaXhlZFwiID09IHBvc2l0aW9uU3R5bGUgfHwgXCJhYnNvbHV0ZVwiID09IHBvc2l0aW9uU3R5bGUsIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsgcGFyZW50ICYmIHBhcmVudCAhPSBkb2M7IHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKSB7XG4gICAgaWYgKHBhcmVudC5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5ET0NVTUVOVF9GUkFHTUVOVCAmJiBwYXJlbnQuaG9zdCAmJiAocGFyZW50ID0gcGFyZW50Lmhvc3QpLCBwb3NpdGlvblN0eWxlID0gZ29vZy5zdHlsZS5nZXRTdHlsZV8ocGFyZW50LCBcInBvc2l0aW9uXCIpLCBza2lwU3RhdGljID0gc2tpcFN0YXRpYyAmJiBcInN0YXRpY1wiID09IHBvc2l0aW9uU3R5bGUgJiYgcGFyZW50ICE9IGRvYy5kb2N1bWVudEVsZW1lbnQgJiYgcGFyZW50ICE9IGRvYy5ib2R5LCAhc2tpcFN0YXRpYyAmJiAocGFyZW50LnNjcm9sbFdpZHRoID4gcGFyZW50LmNsaWVudFdpZHRoIHx8IHBhcmVudC5zY3JvbGxIZWlnaHQgPiBwYXJlbnQuY2xpZW50SGVpZ2h0IHx8IFwiZml4ZWRcIiA9PSBwb3NpdGlvblN0eWxlIHx8IFwiYWJzb2x1dGVcIiA9PSBwb3NpdGlvblN0eWxlIHx8IFwicmVsYXRpdmVcIiA9PSBwb3NpdGlvblN0eWxlKSkge1xuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5zdHlsZS5nZXRWaXNpYmxlUmVjdEZvckVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGZvciAodmFyIHZpc2libGVSZWN0ID0gbmV3IGdvb2cubWF0aC5Cb3goMCwgSW5maW5pdHksIEluZmluaXR5LCAwKSwgZG9tID0gZ29vZy5kb20uZ2V0RG9tSGVscGVyKGVsZW1lbnQpLCBib2R5ID0gZG9tLmdldERvY3VtZW50KCkuYm9keSwgZG9jdW1lbnRFbGVtZW50ID0gZG9tLmdldERvY3VtZW50KCkuZG9jdW1lbnRFbGVtZW50LCBzY3JvbGxFbCA9IGRvbS5nZXREb2N1bWVudFNjcm9sbEVsZW1lbnQoKSwgZWwgPSBlbGVtZW50OyBlbCA9IGdvb2cuc3R5bGUuZ2V0T2Zmc2V0UGFyZW50KGVsKTspIHtcbiAgICBpZiAoIShnb29nLnVzZXJBZ2VudC5JRSAmJiAwID09IGVsLmNsaWVudFdpZHRoIHx8IGdvb2cudXNlckFnZW50LldFQktJVCAmJiAwID09IGVsLmNsaWVudEhlaWdodCAmJiBlbCA9PSBib2R5KSAmJiBlbCAhPSBib2R5ICYmIGVsICE9IGRvY3VtZW50RWxlbWVudCAmJiBcInZpc2libGVcIiAhPSBnb29nLnN0eWxlLmdldFN0eWxlXyhlbCwgXCJvdmVyZmxvd1wiKSkge1xuICAgICAgdmFyIHBvcyA9IGdvb2cuc3R5bGUuZ2V0UGFnZU9mZnNldChlbCksIGNsaWVudCA9IGdvb2cuc3R5bGUuZ2V0Q2xpZW50TGVmdFRvcChlbCk7XG4gICAgICBwb3MueCArPSBjbGllbnQueDtcbiAgICAgIHBvcy55ICs9IGNsaWVudC55O1xuICAgICAgdmlzaWJsZVJlY3QudG9wID0gTWF0aC5tYXgodmlzaWJsZVJlY3QudG9wLCBwb3MueSk7XG4gICAgICB2aXNpYmxlUmVjdC5yaWdodCA9IE1hdGgubWluKHZpc2libGVSZWN0LnJpZ2h0LCBwb3MueCArIGVsLmNsaWVudFdpZHRoKTtcbiAgICAgIHZpc2libGVSZWN0LmJvdHRvbSA9IE1hdGgubWluKHZpc2libGVSZWN0LmJvdHRvbSwgcG9zLnkgKyBlbC5jbGllbnRIZWlnaHQpO1xuICAgICAgdmlzaWJsZVJlY3QubGVmdCA9IE1hdGgubWF4KHZpc2libGVSZWN0LmxlZnQsIHBvcy54KTtcbiAgICB9XG4gIH1cbiAgdmFyIHNjcm9sbFggPSBzY3JvbGxFbC5zY3JvbGxMZWZ0LCBzY3JvbGxZID0gc2Nyb2xsRWwuc2Nyb2xsVG9wO1xuICB2aXNpYmxlUmVjdC5sZWZ0ID0gTWF0aC5tYXgodmlzaWJsZVJlY3QubGVmdCwgc2Nyb2xsWCk7XG4gIHZpc2libGVSZWN0LnRvcCA9IE1hdGgubWF4KHZpc2libGVSZWN0LnRvcCwgc2Nyb2xsWSk7XG4gIHZhciB3aW5TaXplID0gZG9tLmdldFZpZXdwb3J0U2l6ZSgpO1xuICB2aXNpYmxlUmVjdC5yaWdodCA9IE1hdGgubWluKHZpc2libGVSZWN0LnJpZ2h0LCBzY3JvbGxYICsgd2luU2l6ZS53aWR0aCk7XG4gIHZpc2libGVSZWN0LmJvdHRvbSA9IE1hdGgubWluKHZpc2libGVSZWN0LmJvdHRvbSwgc2Nyb2xsWSArIHdpblNpemUuaGVpZ2h0KTtcbiAgcmV0dXJuIDAgPD0gdmlzaWJsZVJlY3QudG9wICYmIDAgPD0gdmlzaWJsZVJlY3QubGVmdCAmJiB2aXNpYmxlUmVjdC5ib3R0b20gPiB2aXNpYmxlUmVjdC50b3AgJiYgdmlzaWJsZVJlY3QucmlnaHQgPiB2aXNpYmxlUmVjdC5sZWZ0ID8gdmlzaWJsZVJlY3QgOiBudWxsO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q29udGFpbmVyT2Zmc2V0VG9TY3JvbGxJbnRvID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0X2NvbnRhaW5lciwgb3B0X2NlbnRlcikge1xuICB2YXIgY29udGFpbmVyID0gb3B0X2NvbnRhaW5lciB8fCBnb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbEVsZW1lbnQoKSwgZWxlbWVudFBvcyA9IGdvb2cuc3R5bGUuZ2V0UGFnZU9mZnNldChlbGVtZW50KSwgY29udGFpbmVyUG9zID0gZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGNvbnRhaW5lciksIGNvbnRhaW5lckJvcmRlciA9IGdvb2cuc3R5bGUuZ2V0Qm9yZGVyQm94KGNvbnRhaW5lcik7XG4gIGlmIChjb250YWluZXIgPT0gZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50KCkpIHtcbiAgICB2YXIgcmVsWCA9IGVsZW1lbnRQb3MueCAtIGNvbnRhaW5lci5zY3JvbGxMZWZ0LCByZWxZID0gZWxlbWVudFBvcy55IC0gY29udGFpbmVyLnNjcm9sbFRvcDtcbiAgICBnb29nLnVzZXJBZ2VudC5JRSAmJiAhZ29vZy51c2VyQWdlbnQuaXNEb2N1bWVudE1vZGVPckhpZ2hlcigxMCkgJiYgKHJlbFggKz0gY29udGFpbmVyQm9yZGVyLmxlZnQsIHJlbFkgKz0gY29udGFpbmVyQm9yZGVyLnRvcCk7XG4gIH0gZWxzZSB7XG4gICAgcmVsWCA9IGVsZW1lbnRQb3MueCAtIGNvbnRhaW5lclBvcy54IC0gY29udGFpbmVyQm9yZGVyLmxlZnQsIHJlbFkgPSBlbGVtZW50UG9zLnkgLSBjb250YWluZXJQb3MueSAtIGNvbnRhaW5lckJvcmRlci50b3A7XG4gIH1cbiAgdmFyIGVsZW1lbnRTaXplID0gZ29vZy5zdHlsZS5nZXRTaXplV2l0aERpc3BsYXlfKGVsZW1lbnQpLCBzcGFjZVggPSBjb250YWluZXIuY2xpZW50V2lkdGggLSBlbGVtZW50U2l6ZS53aWR0aCwgc3BhY2VZID0gY29udGFpbmVyLmNsaWVudEhlaWdodCAtIGVsZW1lbnRTaXplLmhlaWdodCwgc2Nyb2xsTGVmdCA9IGNvbnRhaW5lci5zY3JvbGxMZWZ0LCBzY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsVG9wO1xuICBvcHRfY2VudGVyID8gKHNjcm9sbExlZnQgKz0gcmVsWCAtIHNwYWNlWCAvIDIsIHNjcm9sbFRvcCArPSByZWxZIC0gc3BhY2VZIC8gMikgOiAoc2Nyb2xsTGVmdCArPSBNYXRoLm1pbihyZWxYLCBNYXRoLm1heChyZWxYIC0gc3BhY2VYLCAwKSksIHNjcm9sbFRvcCArPSBNYXRoLm1pbihyZWxZLCBNYXRoLm1heChyZWxZIC0gc3BhY2VZLCAwKSkpO1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHNjcm9sbExlZnQsIHNjcm9sbFRvcCk7XG59O1xuZ29vZy5zdHlsZS5zY3JvbGxJbnRvQ29udGFpbmVyVmlldyA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdF9jb250YWluZXIsIG9wdF9jZW50ZXIpIHtcbiAgdmFyIGNvbnRhaW5lciA9IG9wdF9jb250YWluZXIgfHwgZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50KCksIG9mZnNldCA9IGdvb2cuc3R5bGUuZ2V0Q29udGFpbmVyT2Zmc2V0VG9TY3JvbGxJbnRvKGVsZW1lbnQsIGNvbnRhaW5lciwgb3B0X2NlbnRlcik7XG4gIGNvbnRhaW5lci5zY3JvbGxMZWZ0ID0gb2Zmc2V0Lng7XG4gIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBvZmZzZXQueTtcbn07XG5nb29nLnN0eWxlLmdldENsaWVudExlZnRUb3AgPSBmdW5jdGlvbihlbCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGVsLmNsaWVudExlZnQsIGVsLmNsaWVudFRvcCk7XG59O1xuZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0ID0gZnVuY3Rpb24oZWwpIHtcbiAgdmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQoZWwpO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0T2JqZWN0KGVsLCBcIlBhcmFtZXRlciBpcyByZXF1aXJlZFwiKTtcbiAgdmFyIHBvcyA9IG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZSgwLCAwKSwgdmlld3BvcnRFbGVtZW50ID0gZ29vZy5zdHlsZS5nZXRDbGllbnRWaWV3cG9ydEVsZW1lbnQoZG9jKTtcbiAgaWYgKGVsID09IHZpZXdwb3J0RWxlbWVudCkge1xuICAgIHJldHVybiBwb3M7XG4gIH1cbiAgdmFyIGJveCA9IGdvb2cuc3R5bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XyhlbCksIHNjcm9sbENvb3JkID0gZ29vZy5kb20uZ2V0RG9tSGVscGVyKGRvYykuZ2V0RG9jdW1lbnRTY3JvbGwoKTtcbiAgcG9zLnggPSBib3gubGVmdCArIHNjcm9sbENvb3JkLng7XG4gIHBvcy55ID0gYm94LnRvcCArIHNjcm9sbENvb3JkLnk7XG4gIHJldHVybiBwb3M7XG59O1xuZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0TGVmdCA9IGZ1bmN0aW9uKGVsKSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQoZWwpLng7XG59O1xuZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0VG9wID0gZnVuY3Rpb24oZWwpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0UGFnZU9mZnNldChlbCkueTtcbn07XG5nb29nLnN0eWxlLmdldEZyYW1lZFBhZ2VPZmZzZXQgPSBmdW5jdGlvbihlbCwgcmVsYXRpdmVXaW4pIHtcbiAgdmFyIHBvc2l0aW9uID0gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKDAsIDApLCBjdXJyZW50V2luID0gZ29vZy5kb20uZ2V0V2luZG93KGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQoZWwpKTtcbiAgaWYgKCFnb29nLnJlZmxlY3QuY2FuQWNjZXNzUHJvcGVydHkoY3VycmVudFdpbiwgXCJwYXJlbnRcIikpIHtcbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH1cbiAgdmFyIGN1cnJlbnRFbCA9IGVsO1xuICBkbyB7XG4gICAgdmFyIG9mZnNldCA9IGN1cnJlbnRXaW4gPT0gcmVsYXRpdmVXaW4gPyBnb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQoY3VycmVudEVsKSA6IGdvb2cuc3R5bGUuZ2V0Q2xpZW50UG9zaXRpb25Gb3JFbGVtZW50Xyhnb29nLmFzc2VydHMuYXNzZXJ0KGN1cnJlbnRFbCkpO1xuICAgIHBvc2l0aW9uLnggKz0gb2Zmc2V0Lng7XG4gICAgcG9zaXRpb24ueSArPSBvZmZzZXQueTtcbiAgfSB3aGlsZSAoY3VycmVudFdpbiAmJiBjdXJyZW50V2luICE9IHJlbGF0aXZlV2luICYmIGN1cnJlbnRXaW4gIT0gY3VycmVudFdpbi5wYXJlbnQgJiYgKGN1cnJlbnRFbCA9IGN1cnJlbnRXaW4uZnJhbWVFbGVtZW50KSAmJiAoY3VycmVudFdpbiA9IGN1cnJlbnRXaW4ucGFyZW50KSk7XG4gIHJldHVybiBwb3NpdGlvbjtcbn07XG5nb29nLnN0eWxlLnRyYW5zbGF0ZVJlY3RGb3JBbm90aGVyRnJhbWUgPSBmdW5jdGlvbihyZWN0LCBvcmlnQmFzZSwgbmV3QmFzZSkge1xuICBpZiAob3JpZ0Jhc2UuZ2V0RG9jdW1lbnQoKSAhPSBuZXdCYXNlLmdldERvY3VtZW50KCkpIHtcbiAgICB2YXIgYm9keSA9IG9yaWdCYXNlLmdldERvY3VtZW50KCkuYm9keSwgcG9zID0gZ29vZy5zdHlsZS5nZXRGcmFtZWRQYWdlT2Zmc2V0KGJvZHksIG5ld0Jhc2UuZ2V0V2luZG93KCkpO1xuICAgIHBvcyA9IGdvb2cubWF0aC5Db29yZGluYXRlLmRpZmZlcmVuY2UocG9zLCBnb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQoYm9keSkpO1xuICAgICFnb29nLnVzZXJBZ2VudC5JRSB8fCBnb29nLnVzZXJBZ2VudC5pc0RvY3VtZW50TW9kZU9ySGlnaGVyKDkpIHx8IG9yaWdCYXNlLmlzQ3NzMUNvbXBhdE1vZGUoKSB8fCAocG9zID0gZ29vZy5tYXRoLkNvb3JkaW5hdGUuZGlmZmVyZW5jZShwb3MsIG9yaWdCYXNlLmdldERvY3VtZW50U2Nyb2xsKCkpKTtcbiAgICByZWN0LmxlZnQgKz0gcG9zLng7XG4gICAgcmVjdC50b3AgKz0gcG9zLnk7XG4gIH1cbn07XG5nb29nLnN0eWxlLmdldFJlbGF0aXZlUG9zaXRpb24gPSBmdW5jdGlvbihhLCBiKSB7XG4gIHZhciBhcCA9IGdvb2cuc3R5bGUuZ2V0Q2xpZW50UG9zaXRpb24oYSksIGJwID0gZ29vZy5zdHlsZS5nZXRDbGllbnRQb3NpdGlvbihiKTtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZShhcC54IC0gYnAueCwgYXAueSAtIGJwLnkpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q2xpZW50UG9zaXRpb25Gb3JFbGVtZW50XyA9IGZ1bmN0aW9uKGVsKSB7XG4gIHZhciBib3ggPSBnb29nLnN0eWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdF8oZWwpO1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGJveC5sZWZ0LCBib3gudG9wKTtcbn07XG5nb29nLnN0eWxlLmdldENsaWVudFBvc2l0aW9uID0gZnVuY3Rpb24oZWwpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChlbCk7XG4gIGlmIChlbC5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UKSB7XG4gICAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0Q2xpZW50UG9zaXRpb25Gb3JFbGVtZW50XyhlbCk7XG4gIH1cbiAgdmFyIHRhcmdldEV2ZW50ID0gZWwuY2hhbmdlZFRvdWNoZXMgPyBlbC5jaGFuZ2VkVG91Y2hlc1swXSA6IGVsO1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHRhcmdldEV2ZW50LmNsaWVudFgsIHRhcmdldEV2ZW50LmNsaWVudFkpO1xufTtcbmdvb2cuc3R5bGUuc2V0UGFnZU9mZnNldCA9IGZ1bmN0aW9uKGVsLCB4LCBvcHRfeSkge1xuICB2YXIgY3VyID0gZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGVsKTtcbiAgeCBpbnN0YW5jZW9mIGdvb2cubWF0aC5Db29yZGluYXRlICYmIChvcHRfeSA9IHgueSwgeCA9IHgueCk7XG4gIHZhciBkeCA9IGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIoeCkgLSBjdXIueDtcbiAgZ29vZy5zdHlsZS5zZXRQb3NpdGlvbihlbCwgZWwub2Zmc2V0TGVmdCArIGR4LCBlbC5vZmZzZXRUb3AgKyAoTnVtYmVyKG9wdF95KSAtIGN1ci55KSk7XG59O1xuZ29vZy5zdHlsZS5zZXRTaXplID0gZnVuY3Rpb24oZWxlbWVudCwgdywgb3B0X2gpIHtcbiAgaWYgKHcgaW5zdGFuY2VvZiBnb29nLm1hdGguU2l6ZSkge1xuICAgIHZhciBoID0gdy5oZWlnaHQ7XG4gICAgdyA9IHcud2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZvaWQgMCA9PSBvcHRfaCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJtaXNzaW5nIGhlaWdodCBhcmd1bWVudFwiKTtcbiAgICB9XG4gICAgaCA9IG9wdF9oO1xuICB9XG4gIGdvb2cuc3R5bGUuc2V0V2lkdGgoZWxlbWVudCwgdyk7XG4gIGdvb2cuc3R5bGUuc2V0SGVpZ2h0KGVsZW1lbnQsIGgpO1xufTtcbmdvb2cuc3R5bGUuZ2V0UGl4ZWxTdHlsZVZhbHVlXyA9IGZ1bmN0aW9uKHZhbHVlLCByb3VuZCkge1xuICBcIm51bWJlclwiID09IHR5cGVvZiB2YWx1ZSAmJiAodmFsdWUgPSAocm91bmQgPyBNYXRoLnJvdW5kKHZhbHVlKSA6IHZhbHVlKSArIFwicHhcIik7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLnN0eWxlLnNldEhlaWdodCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGhlaWdodCkge1xuICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IGdvb2cuc3R5bGUuZ2V0UGl4ZWxTdHlsZVZhbHVlXyhoZWlnaHQsICEwKTtcbn07XG5nb29nLnN0eWxlLnNldFdpZHRoID0gZnVuY3Rpb24oZWxlbWVudCwgd2lkdGgpIHtcbiAgZWxlbWVudC5zdHlsZS53aWR0aCA9IGdvb2cuc3R5bGUuZ2V0UGl4ZWxTdHlsZVZhbHVlXyh3aWR0aCwgITApO1xufTtcbmdvb2cuc3R5bGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZXZhbHVhdGVXaXRoVGVtcG9yYXJ5RGlzcGxheV8oZ29vZy5zdHlsZS5nZXRTaXplV2l0aERpc3BsYXlfLCBlbGVtZW50KTtcbn07XG5nb29nLnN0eWxlLmV2YWx1YXRlV2l0aFRlbXBvcmFyeURpc3BsYXlfID0gZnVuY3Rpb24oZm4sIGVsZW1lbnQpIHtcbiAgaWYgKFwibm9uZVwiICE9IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwiZGlzcGxheVwiKSkge1xuICAgIHJldHVybiBmbihlbGVtZW50KTtcbiAgfVxuICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlLCBvcmlnaW5hbERpc3BsYXkgPSBzdHlsZS5kaXNwbGF5LCBvcmlnaW5hbFZpc2liaWxpdHkgPSBzdHlsZS52aXNpYmlsaXR5LCBvcmlnaW5hbFBvc2l0aW9uID0gc3R5bGUucG9zaXRpb247XG4gIHN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICBzdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XG4gIHZhciByZXRWYWwgPSBmbihlbGVtZW50KTtcbiAgc3R5bGUuZGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTtcbiAgc3R5bGUucG9zaXRpb24gPSBvcmlnaW5hbFBvc2l0aW9uO1xuICBzdHlsZS52aXNpYmlsaXR5ID0gb3JpZ2luYWxWaXNpYmlsaXR5O1xuICByZXR1cm4gcmV0VmFsO1xufTtcbmdvb2cuc3R5bGUuZ2V0U2l6ZVdpdGhEaXNwbGF5XyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIG9mZnNldFdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCwgb2Zmc2V0SGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQsIHdlYmtpdE9mZnNldHNaZXJvID0gZ29vZy51c2VyQWdlbnQuV0VCS0lUICYmICFvZmZzZXRXaWR0aCAmJiAhb2Zmc2V0SGVpZ2h0O1xuICBpZiAoKHZvaWQgMCA9PT0gb2Zmc2V0V2lkdGggfHwgd2Via2l0T2Zmc2V0c1plcm8pICYmIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7XG4gICAgdmFyIGNsaWVudFJlY3QgPSBnb29nLnN0eWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdF8oZWxlbWVudCk7XG4gICAgcmV0dXJuIG5ldyBnb29nLm1hdGguU2l6ZShjbGllbnRSZWN0LnJpZ2h0IC0gY2xpZW50UmVjdC5sZWZ0LCBjbGllbnRSZWN0LmJvdHRvbSAtIGNsaWVudFJlY3QudG9wKTtcbiAgfVxuICByZXR1cm4gbmV3IGdvb2cubWF0aC5TaXplKG9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQpO1xufTtcbmdvb2cuc3R5bGUuZ2V0VHJhbnNmb3JtZWRTaXplID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGNsaWVudFJlY3QgPSBnb29nLnN0eWxlLmV2YWx1YXRlV2l0aFRlbXBvcmFyeURpc3BsYXlfKGdvb2cuc3R5bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XywgZWxlbWVudCk7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlNpemUoY2xpZW50UmVjdC5yaWdodCAtIGNsaWVudFJlY3QubGVmdCwgY2xpZW50UmVjdC5ib3R0b20gLSBjbGllbnRSZWN0LnRvcCk7XG59O1xuZ29vZy5zdHlsZS5nZXRCb3VuZHMgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBvID0gZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGVsZW1lbnQpLCBzID0gZ29vZy5zdHlsZS5nZXRTaXplKGVsZW1lbnQpO1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5SZWN0KG8ueCwgby55LCBzLndpZHRoLCBzLmhlaWdodCk7XG59O1xuZ29vZy5zdHlsZS50b0NhbWVsQ2FzZSA9IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gIHJldHVybiBnb29nLnN0cmluZy50b0NhbWVsQ2FzZShTdHJpbmcoc2VsZWN0b3IpKTtcbn07XG5nb29nLnN0eWxlLnRvU2VsZWN0b3JDYXNlID0gZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLnRvU2VsZWN0b3JDYXNlKHNlbGVjdG9yKTtcbn07XG5nb29nLnN0eWxlLmdldE9wYWNpdHkgPSBmdW5jdGlvbihlbCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGVsKTtcbiAgdmFyIHN0eWxlID0gZWwuc3R5bGUsIHJlc3VsdCA9IFwiXCI7XG4gIGlmIChcIm9wYWNpdHlcIiBpbiBzdHlsZSkge1xuICAgIHJlc3VsdCA9IHN0eWxlLm9wYWNpdHk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKFwiTW96T3BhY2l0eVwiIGluIHN0eWxlKSB7XG4gICAgICByZXN1bHQgPSBzdHlsZS5Nb3pPcGFjaXR5O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXCJmaWx0ZXJcIiBpbiBzdHlsZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBzdHlsZS5maWx0ZXIubWF0Y2goL2FscGhhXFwob3BhY2l0eT0oW1xcZC5dKylcXCkvKTtcbiAgICAgICAgbWF0Y2ggJiYgKHJlc3VsdCA9IFN0cmluZyhtYXRjaFsxXSAvIDEwMCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gXCJcIiA9PSByZXN1bHQgPyByZXN1bHQgOiBOdW1iZXIocmVzdWx0KTtcbn07XG5nb29nLnN0eWxlLnNldE9wYWNpdHkgPSBmdW5jdGlvbihlbCwgYWxwaGEpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChlbCk7XG4gIHZhciBzdHlsZSA9IGVsLnN0eWxlO1xuICBcIm9wYWNpdHlcIiBpbiBzdHlsZSA/IHN0eWxlLm9wYWNpdHkgPSBhbHBoYSA6IFwiTW96T3BhY2l0eVwiIGluIHN0eWxlID8gc3R5bGUuTW96T3BhY2l0eSA9IGFscGhhIDogXCJmaWx0ZXJcIiBpbiBzdHlsZSAmJiAoc3R5bGUuZmlsdGVyID0gXCJcIiA9PT0gYWxwaGEgPyBcIlwiIDogXCJhbHBoYShvcGFjaXR5PVwiICsgMTAwICogTnVtYmVyKGFscGhhKSArIFwiKVwiKTtcbn07XG5nb29nLnN0eWxlLnNldFRyYW5zcGFyZW50QmFja2dyb3VuZEltYWdlID0gZnVuY3Rpb24oZWwsIHNyYykge1xuICB2YXIgc3R5bGUgPSBlbC5zdHlsZTtcbiAgc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBzcmMgKyBcIilcIjtcbiAgc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gXCJ0b3AgbGVmdFwiO1xuICBzdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gXCJuby1yZXBlYXRcIjtcbn07XG5nb29nLnN0eWxlLmNsZWFyVHJhbnNwYXJlbnRCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbihlbCkge1xuICB2YXIgc3R5bGUgPSBlbC5zdHlsZTtcbiAgXCJmaWx0ZXJcIiBpbiBzdHlsZSA/IHN0eWxlLmZpbHRlciA9IFwiXCIgOiBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcIm5vbmVcIjtcbn07XG5nb29nLnN0eWxlLnNob3dFbGVtZW50ID0gZnVuY3Rpb24oZWwsIGRpc3BsYXkpIHtcbiAgZ29vZy5zdHlsZS5zZXRFbGVtZW50U2hvd24oZWwsIGRpc3BsYXkpO1xufTtcbmdvb2cuc3R5bGUuc2V0RWxlbWVudFNob3duID0gZnVuY3Rpb24oZWwsIGlzU2hvd24pIHtcbiAgZWwuc3R5bGUuZGlzcGxheSA9IGlzU2hvd24gPyBcIlwiIDogXCJub25lXCI7XG59O1xuZ29vZy5zdHlsZS5pc0VsZW1lbnRTaG93biA9IGZ1bmN0aW9uKGVsKSB7XG4gIHJldHVybiBcIm5vbmVcIiAhPSBlbC5zdHlsZS5kaXNwbGF5O1xufTtcbmdvb2cuc3R5bGUuaW5zdGFsbFNhZmVTdHlsZVNoZWV0ID0gZnVuY3Rpb24oc2FmZVN0eWxlU2hlZXQsIG9wdF9ub2RlKSB7XG4gIHZhciBkaCA9IGdvb2cuZG9tLmdldERvbUhlbHBlcihvcHRfbm9kZSksIGRvYyA9IGRoLmdldERvY3VtZW50KCk7XG4gIGlmIChnb29nLnVzZXJBZ2VudC5JRSAmJiBkb2MuY3JlYXRlU3R5bGVTaGVldCkge1xuICAgIHZhciBzdHlsZVNoZWV0ID0gZG9jLmNyZWF0ZVN0eWxlU2hlZXQoKTtcbiAgICBnb29nLnN0eWxlLnNldFNhZmVTdHlsZVNoZWV0KHN0eWxlU2hlZXQsIHNhZmVTdHlsZVNoZWV0KTtcbiAgICByZXR1cm4gc3R5bGVTaGVldDtcbiAgfVxuICB2YXIgaGVhZCA9IGRoLmdldEVsZW1lbnRzQnlUYWdOYW1lQW5kQ2xhc3MoZ29vZy5kb20uVGFnTmFtZS5IRUFEKVswXTtcbiAgaWYgKCFoZWFkKSB7XG4gICAgdmFyIGJvZHkgPSBkaC5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzKGdvb2cuZG9tLlRhZ05hbWUuQk9EWSlbMF07XG4gICAgaGVhZCA9IGRoLmNyZWF0ZURvbShnb29nLmRvbS5UYWdOYW1lLkhFQUQpO1xuICAgIGJvZHkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaGVhZCwgYm9keSk7XG4gIH1cbiAgdmFyIGVsID0gZGguY3JlYXRlRG9tKGdvb2cuZG9tLlRhZ05hbWUuU1RZTEUpLCBub25jZSA9IGdvb2cuZG9tLnNhZmUuZ2V0U3R5bGVOb25jZSgpO1xuICBub25jZSAmJiBlbC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIGdvb2cuc3R5bGUuc2V0U2FmZVN0eWxlU2hlZXQoZWwsIHNhZmVTdHlsZVNoZWV0KTtcbiAgZGguYXBwZW5kQ2hpbGQoaGVhZCwgZWwpO1xuICByZXR1cm4gZWw7XG59O1xuZ29vZy5zdHlsZS51bmluc3RhbGxTdHlsZXMgPSBmdW5jdGlvbihzdHlsZVNoZWV0KSB7XG4gIGdvb2cuZG9tLnJlbW92ZU5vZGUoc3R5bGVTaGVldC5vd25lck5vZGUgfHwgc3R5bGVTaGVldC5vd25pbmdFbGVtZW50IHx8IHN0eWxlU2hlZXQpO1xufTtcbmdvb2cuc3R5bGUuc2V0U2FmZVN0eWxlU2hlZXQgPSBmdW5jdGlvbihlbGVtZW50LCBzYWZlU3R5bGVTaGVldCkge1xuICB2YXIgc3R5bGVzU3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC51bndyYXAoc2FmZVN0eWxlU2hlZXQpO1xuICBnb29nLnVzZXJBZ2VudC5JRSAmJiB2b2lkIDAgIT09IGVsZW1lbnQuY3NzVGV4dCA/IGVsZW1lbnQuY3NzVGV4dCA9IHN0eWxlc1N0cmluZyA6IGdvb2cuZ2xvYmFsLnRydXN0ZWRUeXBlcyA/IGdvb2cuZG9tLnNldFRleHRDb250ZW50KGVsZW1lbnQsIHN0eWxlc1N0cmluZykgOiBlbGVtZW50LmlubmVySFRNTCA9IHN0eWxlc1N0cmluZztcbn07XG5nb29nLnN0eWxlLnNldFByZVdyYXAgPSBmdW5jdGlvbihlbCkge1xuICBlbC5zdHlsZS53aGl0ZVNwYWNlID0gZ29vZy51c2VyQWdlbnQuR0VDS08gPyBcIi1tb3otcHJlLXdyYXBcIiA6IFwicHJlLXdyYXBcIjtcbn07XG5nb29nLnN0eWxlLnNldElubGluZUJsb2NrID0gZnVuY3Rpb24oZWwpIHtcbiAgdmFyIHN0eWxlID0gZWwuc3R5bGU7XG4gIHN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICBzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbn07XG5nb29nLnN0eWxlLmlzUmlnaHRUb0xlZnQgPSBmdW5jdGlvbihlbCkge1xuICByZXR1cm4gXCJydGxcIiA9PSBnb29nLnN0eWxlLmdldFN0eWxlXyhlbCwgXCJkaXJlY3Rpb25cIik7XG59O1xuZ29vZy5zdHlsZS51bnNlbGVjdGFibGVTdHlsZV8gPSBnb29nLnVzZXJBZ2VudC5HRUNLTyA/IFwiTW96VXNlclNlbGVjdFwiIDogZ29vZy51c2VyQWdlbnQuV0VCS0lUIHx8IGdvb2cudXNlckFnZW50LkVER0UgPyBcIldlYmtpdFVzZXJTZWxlY3RcIiA6IG51bGw7XG5nb29nLnN0eWxlLmlzVW5zZWxlY3RhYmxlID0gZnVuY3Rpb24oZWwpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUudW5zZWxlY3RhYmxlU3R5bGVfID8gXCJub25lXCIgPT0gZWwuc3R5bGVbZ29vZy5zdHlsZS51bnNlbGVjdGFibGVTdHlsZV9dLnRvTG93ZXJDYXNlKCkgOiBnb29nLnVzZXJBZ2VudC5JRSA/IFwib25cIiA9PSBlbC5nZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIikgOiAhMTtcbn07XG5nb29nLnN0eWxlLnNldFVuc2VsZWN0YWJsZSA9IGZ1bmN0aW9uKGVsLCB1bnNlbGVjdGFibGUsIG9wdF9ub1JlY3Vyc2UpIHtcbiAgdmFyIGRlc2NlbmRhbnRzID0gb3B0X25vUmVjdXJzZSA/IG51bGwgOiBlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIiksIG5hbWUgPSBnb29nLnN0eWxlLnVuc2VsZWN0YWJsZVN0eWxlXztcbiAgaWYgKG5hbWUpIHtcbiAgICB2YXIgdmFsdWUgPSB1bnNlbGVjdGFibGUgPyBcIm5vbmVcIiA6IFwiXCI7XG4gICAgZWwuc3R5bGUgJiYgKGVsLnN0eWxlW25hbWVdID0gdmFsdWUpO1xuICAgIGlmIChkZXNjZW5kYW50cykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGRlc2NlbmRhbnQ7IGRlc2NlbmRhbnQgPSBkZXNjZW5kYW50c1tpXTsgaSsrKSB7XG4gICAgICAgIGRlc2NlbmRhbnQuc3R5bGUgJiYgKGRlc2NlbmRhbnQuc3R5bGVbbmFtZV0gPSB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChnb29nLnVzZXJBZ2VudC5JRSAmJiAodmFsdWUgPSB1bnNlbGVjdGFibGUgPyBcIm9uXCIgOiBcIlwiLCBlbC5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIiwgdmFsdWUpLCBkZXNjZW5kYW50cykpIHtcbiAgICAgIGZvciAoaSA9IDA7IGRlc2NlbmRhbnQgPSBkZXNjZW5kYW50c1tpXTsgaSsrKSB7XG4gICAgICAgIGRlc2NlbmRhbnQuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLnN0eWxlLmdldEJvcmRlckJveFNpemUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlNpemUoZWxlbWVudC5vZmZzZXRXaWR0aCwgZWxlbWVudC5vZmZzZXRIZWlnaHQpO1xufTtcbmdvb2cuc3R5bGUuc2V0Qm9yZGVyQm94U2l6ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNpemUpIHtcbiAgdmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQoZWxlbWVudCksIGlzQ3NzMUNvbXBhdE1vZGUgPSBnb29nLmRvbS5nZXREb21IZWxwZXIoZG9jKS5pc0NzczFDb21wYXRNb2RlKCk7XG4gIGlmICghZ29vZy51c2VyQWdlbnQuSUUgfHwgZ29vZy51c2VyQWdlbnQuaXNWZXJzaW9uT3JIaWdoZXIoXCIxMFwiKSB8fCBpc0NzczFDb21wYXRNb2RlKSB7XG4gICAgZ29vZy5zdHlsZS5zZXRCb3hTaXppbmdTaXplXyhlbGVtZW50LCBzaXplLCBcImJvcmRlci1ib3hcIik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZTtcbiAgICBpZiAoaXNDc3MxQ29tcGF0TW9kZSkge1xuICAgICAgdmFyIHBhZGRpbmdCb3ggPSBnb29nLnN0eWxlLmdldFBhZGRpbmdCb3goZWxlbWVudCksIGJvcmRlckJveCA9IGdvb2cuc3R5bGUuZ2V0Qm9yZGVyQm94KGVsZW1lbnQpO1xuICAgICAgc3R5bGUucGl4ZWxXaWR0aCA9IHNpemUud2lkdGggLSBib3JkZXJCb3gubGVmdCAtIHBhZGRpbmdCb3gubGVmdCAtIHBhZGRpbmdCb3gucmlnaHQgLSBib3JkZXJCb3gucmlnaHQ7XG4gICAgICBzdHlsZS5waXhlbEhlaWdodCA9IHNpemUuaGVpZ2h0IC0gYm9yZGVyQm94LnRvcCAtIHBhZGRpbmdCb3gudG9wIC0gcGFkZGluZ0JveC5ib3R0b20gLSBib3JkZXJCb3guYm90dG9tO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5waXhlbFdpZHRoID0gc2l6ZS53aWR0aCwgc3R5bGUucGl4ZWxIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICB9XG4gIH1cbn07XG5nb29nLnN0eWxlLmdldENvbnRlbnRCb3hTaXplID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgZG9jID0gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbGVtZW50KSwgaWVDdXJyZW50U3R5bGUgPSBnb29nLnVzZXJBZ2VudC5JRSAmJiBlbGVtZW50LmN1cnJlbnRTdHlsZTtcbiAgaWYgKGllQ3VycmVudFN0eWxlICYmIGdvb2cuZG9tLmdldERvbUhlbHBlcihkb2MpLmlzQ3NzMUNvbXBhdE1vZGUoKSAmJiBcImF1dG9cIiAhPSBpZUN1cnJlbnRTdHlsZS53aWR0aCAmJiBcImF1dG9cIiAhPSBpZUN1cnJlbnRTdHlsZS5oZWlnaHQgJiYgIWllQ3VycmVudFN0eWxlLmJveFNpemluZykge1xuICAgIHZhciB3aWR0aCA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbFZhbHVlXyhlbGVtZW50LCBpZUN1cnJlbnRTdHlsZS53aWR0aCwgXCJ3aWR0aFwiLCBcInBpeGVsV2lkdGhcIiksIGhlaWdodCA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbFZhbHVlXyhlbGVtZW50LCBpZUN1cnJlbnRTdHlsZS5oZWlnaHQsIFwiaGVpZ2h0XCIsIFwicGl4ZWxIZWlnaHRcIik7XG4gICAgcmV0dXJuIG5ldyBnb29nLm1hdGguU2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuICB2YXIgYm9yZGVyQm94U2l6ZSA9IGdvb2cuc3R5bGUuZ2V0Qm9yZGVyQm94U2l6ZShlbGVtZW50KSwgcGFkZGluZ0JveCA9IGdvb2cuc3R5bGUuZ2V0UGFkZGluZ0JveChlbGVtZW50KSwgYm9yZGVyQm94ID0gZ29vZy5zdHlsZS5nZXRCb3JkZXJCb3goZWxlbWVudCk7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlNpemUoYm9yZGVyQm94U2l6ZS53aWR0aCAtIGJvcmRlckJveC5sZWZ0IC0gcGFkZGluZ0JveC5sZWZ0IC0gcGFkZGluZ0JveC5yaWdodCAtIGJvcmRlckJveC5yaWdodCwgYm9yZGVyQm94U2l6ZS5oZWlnaHQgLSBib3JkZXJCb3gudG9wIC0gcGFkZGluZ0JveC50b3AgLSBwYWRkaW5nQm94LmJvdHRvbSAtIGJvcmRlckJveC5ib3R0b20pO1xufTtcbmdvb2cuc3R5bGUuc2V0Q29udGVudEJveFNpemUgPSBmdW5jdGlvbihlbGVtZW50LCBzaXplKSB7XG4gIHZhciBkb2MgPSBnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KGVsZW1lbnQpLCBpc0NzczFDb21wYXRNb2RlID0gZ29vZy5kb20uZ2V0RG9tSGVscGVyKGRvYykuaXNDc3MxQ29tcGF0TW9kZSgpO1xuICBpZiAoIWdvb2cudXNlckFnZW50LklFIHx8IGdvb2cudXNlckFnZW50LmlzVmVyc2lvbk9ySGlnaGVyKFwiMTBcIikgfHwgaXNDc3MxQ29tcGF0TW9kZSkge1xuICAgIGdvb2cuc3R5bGUuc2V0Qm94U2l6aW5nU2l6ZV8oZWxlbWVudCwgc2l6ZSwgXCJjb250ZW50LWJveFwiKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICAgIGlmIChpc0NzczFDb21wYXRNb2RlKSB7XG4gICAgICBzdHlsZS5waXhlbFdpZHRoID0gc2l6ZS53aWR0aCwgc3R5bGUucGl4ZWxIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBhZGRpbmdCb3ggPSBnb29nLnN0eWxlLmdldFBhZGRpbmdCb3goZWxlbWVudCksIGJvcmRlckJveCA9IGdvb2cuc3R5bGUuZ2V0Qm9yZGVyQm94KGVsZW1lbnQpO1xuICAgICAgc3R5bGUucGl4ZWxXaWR0aCA9IHNpemUud2lkdGggKyBib3JkZXJCb3gubGVmdCArIHBhZGRpbmdCb3gubGVmdCArIHBhZGRpbmdCb3gucmlnaHQgKyBib3JkZXJCb3gucmlnaHQ7XG4gICAgICBzdHlsZS5waXhlbEhlaWdodCA9IHNpemUuaGVpZ2h0ICsgYm9yZGVyQm94LnRvcCArIHBhZGRpbmdCb3gudG9wICsgcGFkZGluZ0JveC5ib3R0b20gKyBib3JkZXJCb3guYm90dG9tO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuc3R5bGUuc2V0Qm94U2l6aW5nU2l6ZV8gPSBmdW5jdGlvbihlbGVtZW50LCBzaXplLCBib3hTaXppbmcpIHtcbiAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZTtcbiAgZ29vZy51c2VyQWdlbnQuR0VDS08gPyBzdHlsZS5Nb3pCb3hTaXppbmcgPSBib3hTaXppbmcgOiBnb29nLnVzZXJBZ2VudC5XRUJLSVQgPyBzdHlsZS5XZWJraXRCb3hTaXppbmcgPSBib3hTaXppbmcgOiBzdHlsZS5ib3hTaXppbmcgPSBib3hTaXppbmc7XG4gIHN0eWxlLndpZHRoID0gTWF0aC5tYXgoc2l6ZS53aWR0aCwgMCkgKyBcInB4XCI7XG4gIHN0eWxlLmhlaWdodCA9IE1hdGgubWF4KHNpemUuaGVpZ2h0LCAwKSArIFwicHhcIjtcbn07XG5nb29nLnN0eWxlLmdldEllUGl4ZWxWYWx1ZV8gPSBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSwgbmFtZSwgcGl4ZWxOYW1lKSB7XG4gIGlmICgvXlxcZCtweD8kLy50ZXN0KHZhbHVlKSkge1xuICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICB9XG4gIHZhciBvbGRTdHlsZVZhbHVlID0gZWxlbWVudC5zdHlsZVtuYW1lXSwgb2xkUnVudGltZVZhbHVlID0gZWxlbWVudC5ydW50aW1lU3R5bGVbbmFtZV07XG4gIGVsZW1lbnQucnVudGltZVN0eWxlW25hbWVdID0gZWxlbWVudC5jdXJyZW50U3R5bGVbbmFtZV07XG4gIGVsZW1lbnQuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcbiAgdmFyIHBpeGVsVmFsdWUgPSBlbGVtZW50LnN0eWxlW3BpeGVsTmFtZV07XG4gIGVsZW1lbnQuc3R5bGVbbmFtZV0gPSBvbGRTdHlsZVZhbHVlO1xuICBlbGVtZW50LnJ1bnRpbWVTdHlsZVtuYW1lXSA9IG9sZFJ1bnRpbWVWYWx1ZTtcbiAgcmV0dXJuICtwaXhlbFZhbHVlO1xufTtcbmdvb2cuc3R5bGUuZ2V0SWVQaXhlbERpc3RhbmNlXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3BOYW1lKSB7XG4gIHZhciB2YWx1ZSA9IGdvb2cuc3R5bGUuZ2V0Q2FzY2FkZWRTdHlsZShlbGVtZW50LCBwcm9wTmFtZSk7XG4gIHJldHVybiB2YWx1ZSA/IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbFZhbHVlXyhlbGVtZW50LCB2YWx1ZSwgXCJsZWZ0XCIsIFwicGl4ZWxMZWZ0XCIpIDogMDtcbn07XG5nb29nLnN0eWxlLmdldEJveF8gPSBmdW5jdGlvbihlbGVtZW50LCBzdHlsZVByZWZpeCkge1xuICBpZiAoZ29vZy51c2VyQWdlbnQuSUUpIHtcbiAgICB2YXIgbGVmdCA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbERpc3RhbmNlXyhlbGVtZW50LCBzdHlsZVByZWZpeCArIFwiTGVmdFwiKSwgcmlnaHQgPSBnb29nLnN0eWxlLmdldEllUGl4ZWxEaXN0YW5jZV8oZWxlbWVudCwgc3R5bGVQcmVmaXggKyBcIlJpZ2h0XCIpLCB0b3AgPSBnb29nLnN0eWxlLmdldEllUGl4ZWxEaXN0YW5jZV8oZWxlbWVudCwgc3R5bGVQcmVmaXggKyBcIlRvcFwiKSwgYm90dG9tID0gZ29vZy5zdHlsZS5nZXRJZVBpeGVsRGlzdGFuY2VfKGVsZW1lbnQsIHN0eWxlUHJlZml4ICsgXCJCb3R0b21cIik7XG4gICAgcmV0dXJuIG5ldyBnb29nLm1hdGguQm94KHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCk7XG4gIH1cbiAgbGVmdCA9IGdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBzdHlsZVByZWZpeCArIFwiTGVmdFwiKTtcbiAgcmlnaHQgPSBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgc3R5bGVQcmVmaXggKyBcIlJpZ2h0XCIpO1xuICB0b3AgPSBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgc3R5bGVQcmVmaXggKyBcIlRvcFwiKTtcbiAgYm90dG9tID0gZ29vZy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIHN0eWxlUHJlZml4ICsgXCJCb3R0b21cIik7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkJveChwYXJzZUZsb2F0KHRvcCksIHBhcnNlRmxvYXQocmlnaHQpLCBwYXJzZUZsb2F0KGJvdHRvbSksIHBhcnNlRmxvYXQobGVmdCkpO1xufTtcbmdvb2cuc3R5bGUuZ2V0UGFkZGluZ0JveCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0Qm94XyhlbGVtZW50LCBcInBhZGRpbmdcIik7XG59O1xuZ29vZy5zdHlsZS5nZXRNYXJnaW5Cb3ggPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldEJveF8oZWxlbWVudCwgXCJtYXJnaW5cIik7XG59O1xuZ29vZy5zdHlsZS5pZUJvcmRlcldpZHRoS2V5d29yZHNfID0ge3RoaW46MiwgbWVkaXVtOjQsIHRoaWNrOjZ9O1xuZ29vZy5zdHlsZS5nZXRJZVBpeGVsQm9yZGVyXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3ApIHtcbiAgaWYgKFwibm9uZVwiID09IGdvb2cuc3R5bGUuZ2V0Q2FzY2FkZWRTdHlsZShlbGVtZW50LCBwcm9wICsgXCJTdHlsZVwiKSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHZhciB3aWR0aCA9IGdvb2cuc3R5bGUuZ2V0Q2FzY2FkZWRTdHlsZShlbGVtZW50LCBwcm9wICsgXCJXaWR0aFwiKTtcbiAgcmV0dXJuIHdpZHRoIGluIGdvb2cuc3R5bGUuaWVCb3JkZXJXaWR0aEtleXdvcmRzXyA/IGdvb2cuc3R5bGUuaWVCb3JkZXJXaWR0aEtleXdvcmRzX1t3aWR0aF0gOiBnb29nLnN0eWxlLmdldEllUGl4ZWxWYWx1ZV8oZWxlbWVudCwgd2lkdGgsIFwibGVmdFwiLCBcInBpeGVsTGVmdFwiKTtcbn07XG5nb29nLnN0eWxlLmdldEJvcmRlckJveCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgaWYgKGdvb2cudXNlckFnZW50LklFICYmICFnb29nLnVzZXJBZ2VudC5pc0RvY3VtZW50TW9kZU9ySGlnaGVyKDkpKSB7XG4gICAgdmFyIGxlZnQgPSBnb29nLnN0eWxlLmdldEllUGl4ZWxCb3JkZXJfKGVsZW1lbnQsIFwiYm9yZGVyTGVmdFwiKSwgcmlnaHQgPSBnb29nLnN0eWxlLmdldEllUGl4ZWxCb3JkZXJfKGVsZW1lbnQsIFwiYm9yZGVyUmlnaHRcIiksIHRvcCA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbEJvcmRlcl8oZWxlbWVudCwgXCJib3JkZXJUb3BcIiksIGJvdHRvbSA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbEJvcmRlcl8oZWxlbWVudCwgXCJib3JkZXJCb3R0b21cIik7XG4gICAgcmV0dXJuIG5ldyBnb29nLm1hdGguQm94KHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCk7XG4gIH1cbiAgbGVmdCA9IGdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBcImJvcmRlckxlZnRXaWR0aFwiKTtcbiAgcmlnaHQgPSBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgXCJib3JkZXJSaWdodFdpZHRoXCIpO1xuICB0b3AgPSBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgXCJib3JkZXJUb3BXaWR0aFwiKTtcbiAgYm90dG9tID0gZ29vZy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIFwiYm9yZGVyQm90dG9tV2lkdGhcIik7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkJveChwYXJzZUZsb2F0KHRvcCksIHBhcnNlRmxvYXQocmlnaHQpLCBwYXJzZUZsb2F0KGJvdHRvbSksIHBhcnNlRmxvYXQobGVmdCkpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Rm9udEZhbWlseSA9IGZ1bmN0aW9uKGVsKSB7XG4gIHZhciBkb2MgPSBnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KGVsKSwgZm9udCA9IFwiXCI7XG4gIGlmIChkb2MuYm9keS5jcmVhdGVUZXh0UmFuZ2UgJiYgZ29vZy5kb20uY29udGFpbnMoZG9jLCBlbCkpIHtcbiAgICB2YXIgcmFuZ2UgPSBkb2MuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICByYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChlbCk7XG4gICAgdHJ5IHtcbiAgICAgIGZvbnQgPSByYW5nZS5xdWVyeUNvbW1hbmRWYWx1ZShcIkZvbnROYW1lXCIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGZvbnQgPSBcIlwiO1xuICAgIH1cbiAgfVxuICBmb250IHx8IChmb250ID0gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWwsIFwiZm9udEZhbWlseVwiKSk7XG4gIHZhciBmb250c0FycmF5ID0gZm9udC5zcGxpdChcIixcIik7XG4gIDEgPCBmb250c0FycmF5Lmxlbmd0aCAmJiAoZm9udCA9IGZvbnRzQXJyYXlbMF0pO1xuICByZXR1cm4gZ29vZy5zdHJpbmcuc3RyaXBRdW90ZXMoZm9udCwgXCJcXFwiJ1wiKTtcbn07XG5nb29nLnN0eWxlLmxlbmd0aFVuaXRSZWdleF8gPSAvW15cXGRdKyQvO1xuZ29vZy5zdHlsZS5nZXRMZW5ndGhVbml0cyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciB1bml0cyA9IHZhbHVlLm1hdGNoKGdvb2cuc3R5bGUubGVuZ3RoVW5pdFJlZ2V4Xyk7XG4gIHJldHVybiB1bml0cyAmJiB1bml0c1swXSB8fCBudWxsO1xufTtcbmdvb2cuc3R5bGUuQUJTT0xVVEVfQ1NTX0xFTkdUSF9VTklUU18gPSB7Y206MSwgXCJpblwiOjEsIG1tOjEsIHBjOjEsIHB0OjF9O1xuZ29vZy5zdHlsZS5DT05WRVJUSUJMRV9SRUxBVElWRV9DU1NfVU5JVFNfID0ge2VtOjEsIGV4OjF9O1xuZ29vZy5zdHlsZS5nZXRGb250U2l6ZSA9IGZ1bmN0aW9uKGVsKSB7XG4gIHZhciBmb250U2l6ZSA9IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsLCBcImZvbnRTaXplXCIpLCBzaXplVW5pdHMgPSBnb29nLnN0eWxlLmdldExlbmd0aFVuaXRzKGZvbnRTaXplKTtcbiAgaWYgKGZvbnRTaXplICYmIFwicHhcIiA9PSBzaXplVW5pdHMpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoZm9udFNpemUsIDEwKTtcbiAgfVxuICBpZiAoZ29vZy51c2VyQWdlbnQuSUUpIHtcbiAgICBpZiAoU3RyaW5nKHNpemVVbml0cykgaW4gZ29vZy5zdHlsZS5BQlNPTFVURV9DU1NfTEVOR1RIX1VOSVRTXykge1xuICAgICAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0SWVQaXhlbFZhbHVlXyhlbCwgZm9udFNpemUsIFwibGVmdFwiLCBcInBpeGVsTGVmdFwiKTtcbiAgICB9XG4gICAgaWYgKGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UICYmIFN0cmluZyhzaXplVW5pdHMpIGluIGdvb2cuc3R5bGUuQ09OVkVSVElCTEVfUkVMQVRJVkVfQ1NTX1VOSVRTXykge1xuICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBlbC5wYXJlbnROb2RlLCBwYXJlbnRTaXplID0gZ29vZy5zdHlsZS5nZXRTdHlsZV8ocGFyZW50RWxlbWVudCwgXCJmb250U2l6ZVwiKTtcbiAgICAgIHJldHVybiBnb29nLnN0eWxlLmdldEllUGl4ZWxWYWx1ZV8ocGFyZW50RWxlbWVudCwgZm9udFNpemUgPT0gcGFyZW50U2l6ZSA/IFwiMWVtXCIgOiBmb250U2l6ZSwgXCJsZWZ0XCIsIFwicGl4ZWxMZWZ0XCIpO1xuICAgIH1cbiAgfVxuICB2YXIgc2l6ZUVsZW1lbnQgPSBnb29nLmRvbS5jcmVhdGVEb20oZ29vZy5kb20uVGFnTmFtZS5TUEFOLCB7c3R5bGU6XCJ2aXNpYmlsaXR5OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTtsaW5lLWhlaWdodDowO3BhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6MDtoZWlnaHQ6MWVtO1wifSk7XG4gIGdvb2cuZG9tLmFwcGVuZENoaWxkKGVsLCBzaXplRWxlbWVudCk7XG4gIGZvbnRTaXplID0gc2l6ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICBnb29nLmRvbS5yZW1vdmVOb2RlKHNpemVFbGVtZW50KTtcbiAgcmV0dXJuIGZvbnRTaXplO1xufTtcbmdvb2cuc3R5bGUucGFyc2VTdHlsZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgdmFsdWUuc3BsaXQoL1xccyo7XFxzKi8pLmZvckVhY2goZnVuY3Rpb24ocGFpcikge1xuICAgIHZhciBrZXlWYWx1ZSA9IHBhaXIubWF0Y2goL1xccyooW1xcdy1dKylcXHMqOiguKykvKTtcbiAgICBpZiAoa2V5VmFsdWUpIHtcbiAgICAgIHZhciBzdHlsZVZhbHVlID0gZ29vZy5zdHJpbmcudHJpbShrZXlWYWx1ZVsyXSk7XG4gICAgICByZXN1bHRbZ29vZy5zdHJpbmcudG9DYW1lbENhc2Uoa2V5VmFsdWVbMV0udG9Mb3dlckNhc2UoKSldID0gc3R5bGVWYWx1ZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmdvb2cuc3R5bGUudG9TdHlsZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG9iaikge1xuICB2YXIgYnVmZmVyID0gW107XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGJ1ZmZlci5wdXNoKGdvb2cuc3RyaW5nLnRvU2VsZWN0b3JDYXNlKGtleSksIFwiOlwiLCB2YWx1ZSwgXCI7XCIpO1xuICB9KTtcbiAgcmV0dXJuIGJ1ZmZlci5qb2luKFwiXCIpO1xufTtcbmdvb2cuc3R5bGUuc2V0RmxvYXQgPSBmdW5jdGlvbihlbCwgdmFsdWUpIHtcbiAgZWwuc3R5bGVbZ29vZy51c2VyQWdlbnQuSUUgPyBcInN0eWxlRmxvYXRcIiA6IFwiY3NzRmxvYXRcIl0gPSB2YWx1ZTtcbn07XG5nb29nLnN0eWxlLmdldEZsb2F0ID0gZnVuY3Rpb24oZWwpIHtcbiAgcmV0dXJuIGVsLnN0eWxlW2dvb2cudXNlckFnZW50LklFID8gXCJzdHlsZUZsb2F0XCIgOiBcImNzc0Zsb2F0XCJdIHx8IFwiXCI7XG59O1xuZ29vZy5zdHlsZS5nZXRTY3JvbGxiYXJXaWR0aCA9IGZ1bmN0aW9uKG9wdF9jbGFzc05hbWUpIHtcbiAgdmFyIG91dGVyRGl2ID0gZ29vZy5kb20uY3JlYXRlRWxlbWVudChnb29nLmRvbS5UYWdOYW1lLkRJVik7XG4gIG9wdF9jbGFzc05hbWUgJiYgKG91dGVyRGl2LmNsYXNzTmFtZSA9IG9wdF9jbGFzc05hbWUpO1xuICBvdXRlckRpdi5zdHlsZS5jc3NUZXh0ID0gXCJvdmVyZmxvdzphdXRvO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMHB4O2hlaWdodDoxMDBweFwiO1xuICB2YXIgaW5uZXJEaXYgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50KGdvb2cuZG9tLlRhZ05hbWUuRElWKTtcbiAgZ29vZy5zdHlsZS5zZXRTaXplKGlubmVyRGl2LCBcIjIwMHB4XCIsIFwiMjAwcHhcIik7XG4gIG91dGVyRGl2LmFwcGVuZENoaWxkKGlubmVyRGl2KTtcbiAgZ29vZy5kb20uYXBwZW5kQ2hpbGQoZ29vZy5kb20uZ2V0RG9jdW1lbnQoKS5ib2R5LCBvdXRlckRpdik7XG4gIHZhciB3aWR0aCA9IG91dGVyRGl2Lm9mZnNldFdpZHRoIC0gb3V0ZXJEaXYuY2xpZW50V2lkdGg7XG4gIGdvb2cuZG9tLnJlbW92ZU5vZGUob3V0ZXJEaXYpO1xuICByZXR1cm4gd2lkdGg7XG59O1xuZ29vZy5zdHlsZS5NQVRSSVhfVFJBTlNMQVRJT05fUkVHRVhfID0gUmVnRXhwKFwibWF0cml4XFxcXChbMC05XFxcXC5cXFxcLV0rLCBbMC05XFxcXC5cXFxcLV0rLCBbMC05XFxcXC5cXFxcLV0rLCBbMC05XFxcXC5cXFxcLV0rLCAoWzAtOVxcXFwuXFxcXC1dKylwP3g/LCAoWzAtOVxcXFwuXFxcXC1dKylwP3g/XFxcXClcIik7XG5nb29nLnN0eWxlLmdldENzc1RyYW5zbGF0aW9uID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgdHJhbnNmb3JtID0gZ29vZy5zdHlsZS5nZXRDb21wdXRlZFRyYW5zZm9ybShlbGVtZW50KTtcbiAgaWYgKCF0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKDAsIDApO1xuICB9XG4gIHZhciBtYXRjaGVzID0gdHJhbnNmb3JtLm1hdGNoKGdvb2cuc3R5bGUuTUFUUklYX1RSQU5TTEFUSU9OX1JFR0VYXyk7XG4gIHJldHVybiBtYXRjaGVzID8gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHBhcnNlRmxvYXQobWF0Y2hlc1sxXSksIHBhcnNlRmxvYXQobWF0Y2hlc1syXSkpIDogbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKDAsIDApO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkgPSBmdW5jdGlvbih0aWxlU291cmNlLCBvcHRfb3B0aW9ucykge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICB0aGlzLm1pblpvb20gPSBvcHRpb25zLm1pblpvb20gfHwgMDtcbiAgdGhpcy5tYXhab29tID0gb3B0aW9ucy5tYXhab29tIHx8IDIwO1xuICBpZiAoIXdpbmRvdy5nb29nbGUgfHwgIXdpbmRvdy5nb29nbGUubWFwcykge1xuICAgIHRocm93IEVycm9yKFwiR29vZ2xlIE1hcHMgQVBJIGhhc24ndCBiZWVuIGluaXRpYWxpemVkLlwiKTtcbiAgfVxuICB0aGlzLnRpbGVTaXplID0gb3B0aW9ucy50aWxlU2l6ZSB8fCBuZXcgZ29vZ2xlLm1hcHMuU2l6ZShlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LkRFRkFVTFRfVElMRV9FREdFX0xFTkdUSCwgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5ERUZBVUxUX1RJTEVfRURHRV9MRU5HVEgpO1xuICB0aGlzLmlzUG5nID0gXCJpc1BuZ1wiIGluIG9wdGlvbnMgPyBvcHRpb25zLmlzUG5nIDogITA7XG4gIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZTtcbiAgdGhpcy5vcGFjaXR5ID0gXCJvcGFjaXR5XCIgaW4gb3B0aW9ucyA/IG9wdGlvbnMub3BhY2l0eSA6IDE7XG4gIHRoaXMuc3RhdHMgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cyh0aWxlU291cmNlLmdldFVuaXF1ZUlkKCkpO1xuICB0aGlzLnRpbGVzQnlJZCA9IG5ldyBnb29nLnN0cnVjdHMuTWFwKCk7XG4gIHRoaXMudGlsZUNvdW50ZXIgPSAwO1xuICB0aGlzLnRpbGVTb3VyY2UgPSB0aWxlU291cmNlO1xuICB0aGlzLmhhbmRsZXIgPSBuZXcgZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyKHRoaXMpO1xuICB0aGlzLnByb2plY3Rpb24gPSBudWxsO1xuICB0aGlzLnJhZGl1cyA9IDA7XG4gIHRoaXMuYWx0ID0gbnVsbDtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXksIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLmFkZFRpbGVDYWxsYmFjayA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIHJldHVybiBnb29nLmV2ZW50cy5saXN0ZW4odGhpcywgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5FdmVudFR5cGUuVElMRV9MT0FELCBjYWxsYmFjayk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUucmVtb3ZlVGlsZUNhbGxiYWNrID0gZnVuY3Rpb24oY2FsbGJhY2tJZCkge1xuICBnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGNhbGxiYWNrSWQpO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLmdldExvYWRpbmdUaWxlc0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldFRpbGVDb3VudEZvclN0YXR1c18oZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuVEhST1RUTEVEKSArIHRoaXMuZ2V0VGlsZUNvdW50Rm9yU3RhdHVzXyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5MT0FESU5HKSArIHRoaXMuZ2V0VGlsZUNvdW50Rm9yU3RhdHVzXyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5ORVcpO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLmdldEZhaWxlZFRpbGVzQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0VGlsZUNvdW50Rm9yU3RhdHVzXyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5GQUlMRUQpO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLmdldExvYWRlZFRpbGVzQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0VGlsZUNvdW50Rm9yU3RhdHVzXyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5MT0FERUQpO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLnNldE9wYWNpdHkgPSBmdW5jdGlvbihvcGFjaXR5KSB7XG4gIHRoaXMub3BhY2l0eSA9IG9wYWNpdHk7XG4gIHRoaXMudGlsZXNCeUlkLmZvckVhY2goZnVuY3Rpb24odGlsZSkge1xuICAgIGdvb2cuc3R5bGUuc2V0T3BhY2l0eSh0aWxlLmRpdiwgdGhpcy5vcGFjaXR5KTtcbiAgfSwgdGhpcyk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc3RhdHM7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uKGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50KSB7XG4gIHZhciBtYXhDb29yZCA9IDEgPDwgem9vbTtcbiAgaWYgKHpvb20gPCB0aGlzLm1pblpvb20gfHwgMCA+IGNvb3JkLnkgfHwgY29vcmQueSA+PSBtYXhDb29yZCkge1xuICAgIHJldHVybiBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIH1cbiAgdmFyIHggPSBjb29yZC54ICUgbWF4Q29vcmQ7XG4gIDAgPiB4ICYmICh4ICs9IG1heENvb3JkKTtcbiAgdmFyIG5vcm1hbGl6ZWRDb29yZCA9IG5ldyBnb29nbGUubWFwcy5Qb2ludCh4LCBjb29yZC55KSwgdW5pcXVlSWQgPSB0aGlzLmdldFVuaXF1ZVRpbGVJZF8oY29vcmQsIHpvb20pLCB0aWxlID0gdGhpcy5jcmVhdGVUaWxlKG5vcm1hbGl6ZWRDb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpO1xuICB0aWxlLnRpbGVTaXplID0gdGhpcy50aWxlU2l6ZTtcbiAgZ29vZy5zdHlsZS5zZXRPcGFjaXR5KHRpbGUuZGl2LCB0aGlzLm9wYWNpdHkpO1xuICB0aGlzLnRpbGVzQnlJZC5zZXQodW5pcXVlSWQsIHRpbGUpO1xuICB0aGlzLnJlZ2lzdGVyU3RhdHVzQ2hhbmdlTGlzdGVuZXJfKHRpbGUpO1xuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGVlLmxheWVycy5UaWxlU3RhcnRFdmVudCh0aGlzLmdldExvYWRpbmdUaWxlc0NvdW50KCkpKTtcbiAgdGhpcy50aWxlU291cmNlLmxvYWRUaWxlKHRpbGUsIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgcmV0dXJuIHRpbGUuZGl2O1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLnJlbGVhc2VUaWxlID0gZnVuY3Rpb24odGlsZURpdikge1xuICB2YXIgdGlsZSA9IHRoaXMudGlsZXNCeUlkLmdldCh0aWxlRGl2LmlkKTtcbiAgdGhpcy50aWxlc0J5SWQucmVtb3ZlKHRpbGVEaXYuaWQpO1xuICB0aWxlICYmICh0aWxlLmFib3J0KCksIG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZSh0aWxlKSk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUucmVnaXN0ZXJTdGF0dXNDaGFuZ2VMaXN0ZW5lcl8gPSBmdW5jdGlvbih0aWxlKSB7XG4gIHRoaXMuaGFuZGxlci5saXN0ZW4odGlsZSwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5FdmVudFR5cGUuU1RBVFVTX0NIQU5HRUQsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBTdGF0dXMgPSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cztcbiAgICBzd2l0Y2godGlsZS5nZXRTdGF0dXMoKSkge1xuICAgICAgY2FzZSBTdGF0dXMuTE9BREVEOlxuICAgICAgICB0aGlzLnN0YXRzLmFkZFRpbGVTdGF0cyh0aWxlLmxvYWRpbmdTdGFydFRzXywgKG5ldyBEYXRlKCkpLmdldFRpbWUoKSwgdGlsZS56b29tKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlZS5sYXllcnMuVGlsZUxvYWRFdmVudCh0aGlzLmdldExvYWRpbmdUaWxlc0NvdW50KCkpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXR1cy5USFJPVFRMRUQ6XG4gICAgICAgIHRoaXMuc3RhdHMuaW5jcmVtZW50VGhyb3R0bGVDb3VudGVyKHRpbGUuem9vbSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZWUubGF5ZXJzLlRpbGVUaHJvdHRsZUV2ZW50KHRpbGUuc291cmNlVXJsKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0dXMuRkFJTEVEOlxuICAgICAgICB0aGlzLnN0YXRzLmluY3JlbWVudEVycm9yQ291bnRlcih0aWxlLnpvb20pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGVlLmxheWVycy5UaWxlRmFpbEV2ZW50KHRpbGUuc291cmNlVXJsLCB0aWxlLmVycm9yTWVzc2FnZV8pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXR1cy5BQk9SVEVEOlxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGVlLmxheWVycy5UaWxlQWJvcnRFdmVudCh0aGlzLmdldExvYWRpbmdUaWxlc0NvdW50KCkpKTtcbiAgICB9XG4gIH0pO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLmdldFVuaXF1ZVRpbGVJZF8gPSBmdW5jdGlvbihjb29yZCwgeikge1xuICB2YXIgdGlsZUlkID0gW2Nvb3JkLngsIGNvb3JkLnksIHosIHRoaXMudGlsZUNvdW50ZXIrK10uam9pbihcIi1cIiksIHNvdXJjZUlkID0gdGhpcy50aWxlU291cmNlLmdldFVuaXF1ZUlkKCk7XG4gIHJldHVybiBbdGlsZUlkLCBzb3VyY2VJZF0uam9pbihcIi1cIik7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgdGhpcy50aWxlc0J5SWQuZm9yRWFjaChtb2R1bGUkY29udGVudHMkZ29vZyRkaXNwb3NlX2Rpc3Bvc2UpO1xuICB0aGlzLnRpbGVzQnlJZC5jbGVhcigpO1xuICB0aGlzLnRpbGVzQnlJZCA9IG51bGw7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZSh0aGlzLmhhbmRsZXIpO1xuICB0aGlzLnRpbGVTb3VyY2UgPSB0aGlzLmhhbmRsZXIgPSBudWxsO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLmdldFRpbGVDb3VudEZvclN0YXR1c18gPSBmdW5jdGlvbihzdGF0dXMpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvdW50KHRoaXMudGlsZXNCeUlkLmdldFZhbHVlcygpLCBmdW5jdGlvbih0aWxlKSB7XG4gICAgcmV0dXJuIHRpbGUuZ2V0U3RhdHVzKCkgPT0gc3RhdHVzO1xuICB9KTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXlcIiwgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLCBcInJlbW92ZVRpbGVDYWxsYmFja1wiLCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5yZW1vdmVUaWxlQ2FsbGJhY2spO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZSwgXCJhZGRUaWxlQ2FsbGJhY2tcIiwgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuYWRkVGlsZUNhbGxiYWNrKTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlID0ge1RJTEVfRkFJTDpcInRpbGUtZmFpbFwiLCBUSUxFX0FCT1JUOlwidGlsZS1hYm9ydFwiLCBUSUxFX1RIUk9UVExFOlwidGlsZS10aHJvdHRsZVwiLCBUSUxFX0xPQUQ6XCJ0aWxlLWxvYWRcIiwgVElMRV9TVEFSVDpcInRpbGUtc3RhcnRcIix9O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5ERUZBVUxUX1RJTEVfRURHRV9MRU5HVEggPSAyNTY7XG5lZS5sYXllcnMuVGlsZUxvYWRFdmVudCA9IGZ1bmN0aW9uKGxvYWRpbmdUaWxlQ291bnQpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnQuY2FsbCh0aGlzLCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LkV2ZW50VHlwZS5USUxFX0xPQUQpO1xuICB0aGlzLmxvYWRpbmdUaWxlQ291bnQgPSBsb2FkaW5nVGlsZUNvdW50O1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLlRpbGVMb2FkRXZlbnQsIGdvb2cuZXZlbnRzLkV2ZW50KTtcbmVlLmxheWVycy5UaWxlU3RhcnRFdmVudCA9IGZ1bmN0aW9uKGxvYWRpbmdUaWxlQ291bnQpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnQuY2FsbCh0aGlzLCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LkV2ZW50VHlwZS5USUxFX1NUQVJUKTtcbiAgdGhpcy5sb2FkaW5nVGlsZUNvdW50ID0gbG9hZGluZ1RpbGVDb3VudDtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmxheWVycy5UaWxlU3RhcnRFdmVudCwgZ29vZy5ldmVudHMuRXZlbnQpO1xuZWUubGF5ZXJzLlRpbGVUaHJvdHRsZUV2ZW50ID0gZnVuY3Rpb24odGlsZVVybCkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfVEhST1RUTEUpO1xuICB0aGlzLnRpbGVVcmwgPSB0aWxlVXJsO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLlRpbGVUaHJvdHRsZUV2ZW50LCBnb29nLmV2ZW50cy5FdmVudCk7XG5lZS5sYXllcnMuVGlsZUZhaWxFdmVudCA9IGZ1bmN0aW9uKHRpbGVVcmwsIG9wdF9lcnJvck1lc3NhZ2UpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnQuY2FsbCh0aGlzLCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LkV2ZW50VHlwZS5USUxFX0ZBSUwpO1xuICB0aGlzLnRpbGVVcmwgPSB0aWxlVXJsO1xuICB0aGlzLmVycm9yTWVzc2FnZSA9IG9wdF9lcnJvck1lc3NhZ2U7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuVGlsZUZhaWxFdmVudCwgZ29vZy5ldmVudHMuRXZlbnQpO1xuZWUubGF5ZXJzLlRpbGVBYm9ydEV2ZW50ID0gZnVuY3Rpb24obG9hZGluZ1RpbGVDb3VudCkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfQUJPUlQpO1xuICB0aGlzLmxvYWRpbmdUaWxlQ291bnQgPSBsb2FkaW5nVGlsZUNvdW50O1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLlRpbGVBYm9ydEV2ZW50LCBnb29nLmV2ZW50cy5FdmVudCk7XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlID0gZnVuY3Rpb24oY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQsIHVuaXF1ZUlkKSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gIHRoaXMuY29vcmQgPSBjb29yZDtcbiAgdGhpcy56b29tID0gem9vbTtcbiAgdGhpcy5kaXYgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRoaXMuZGl2LmlkID0gdW5pcXVlSWQ7XG4gIHRoaXMubWF4UmV0cmllcyA9IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuREVGQVVMVF9NQVhfTE9BRF9SRVRSSUVTXztcbiAgdGhpcy5yZW5kZXJlciA9IGZ1bmN0aW9uKCkge1xuICB9O1xuICB0aGlzLnN0YXR1c18gPSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5ORVc7XG4gIHRoaXMucmV0cnlBdHRlbXB0Q291bnRfID0gMDtcbiAgdGhpcy5pc1JldHJ5aW5nXyA9ICExO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLkFic3RyYWN0VGlsZSwgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuc3RhcnRMb2FkID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuICBpZiAoIXRoaXMuaXNSZXRyeWluZ18gJiYgdGhpcy5nZXRTdGF0dXMoKSA9PSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5MT0FESU5HKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJzdGFydExvYWQoKSBjYW4gb25seSBiZSBpbnZva2VkIG9uY2UuIFVzZSByZXRyeUxvYWQoKSBhZnRlciB0aGUgZmlyc3QgYXR0ZW1wdC5cIik7XG4gIH1cbiAgdGhpcy5zZXRTdGF0dXMoZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuTE9BRElORyk7XG4gIHRoaXMubG9hZGluZ1N0YXJ0VHNfID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgdGhpcy54aHJJb18gPSBuZXcgZ29vZy5uZXQuWGhySW8oKTtcbiAgdGhpcy54aHJJb18uc2V0UmVzcG9uc2VUeXBlKGdvb2cubmV0LlhocklvLlJlc3BvbnNlVHlwZS5CTE9CKTtcbiAgdGhpcy54aHJJb18ubGlzdGVuKGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgYmxvYiA9ICRqc2NvbXAkdGhpcy54aHJJb18uZ2V0UmVzcG9uc2UoKSwgc3RhdHVzID0gJGpzY29tcCR0aGlzLnhocklvXy5nZXRTdGF0dXMoKSwgSHR0cFN0YXR1cyA9IGdvb2cubmV0Lkh0dHBTdGF0dXM7XG4gICAgc3RhdHVzID09IEh0dHBTdGF0dXMuVE9PX01BTllfUkVRVUVTVFMgJiYgJGpzY29tcCR0aGlzLnNldFN0YXR1cyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5USFJPVFRMRUQpO1xuICAgIGlmIChIdHRwU3RhdHVzLmlzU3VjY2VzcyhzdGF0dXMpKSB7XG4gICAgICB2YXIgc291cmNlUmVzcG9uc2VIZWFkZXJzID0ge307XG4gICAgICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaCgkanNjb21wJHRoaXMueGhySW9fLmdldFJlc3BvbnNlSGVhZGVycygpLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICBzb3VyY2VSZXNwb25zZUhlYWRlcnNbbmFtZS50b0xvd2VyQ2FzZSgpXSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgICAkanNjb21wJHRoaXMuc291cmNlUmVzcG9uc2VIZWFkZXJzID0gc291cmNlUmVzcG9uc2VIZWFkZXJzO1xuICAgICAgJGpzY29tcCR0aGlzLnNvdXJjZURhdGEgPSBibG9iO1xuICAgICAgJGpzY29tcCR0aGlzLmZpbmlzaExvYWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBnb29nLmZzLkZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLmxpc3Rlbihnb29nLmZzLkZpbGVSZWFkZXIuRXZlbnRUeXBlLkxPQURfRU5ELCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkanNjb21wJHRoaXMucmV0cnlMb2FkKHJlYWRlci5nZXRSZXN1bHQoKSk7XG4gICAgICAgIH0sIHZvaWQgMCk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGpzY29tcCR0aGlzLnJldHJ5TG9hZChcIkZhaWxlZCB0byBsb2FkIHRpbGUuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgITEpO1xuICB0aGlzLnhocklvXy5saXN0ZW5PbmNlKGdvb2cubmV0LkV2ZW50VHlwZS5SRUFEWSwgZ29vZy5wYXJ0aWFsKG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZSwgdGhpcy54aHJJb18pKTtcbiAgdGhpcy5zb3VyY2VVcmwgJiYgdGhpcy5zb3VyY2VVcmwuZW5kc1dpdGgoXCImcHJvZmlsaW5nPTFcIikgJiYgKHRoaXMuc291cmNlVXJsID0gdGhpcy5zb3VyY2VVcmwucmVwbGFjZShcIiZwcm9maWxpbmc9MVwiLCBcIlwiKSwgdGhpcy54aHJJb18uaGVhZGVycy5zZXQobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUFJPRklMRV9SRVFVRVNUX0hFQURFUiwgXCIxXCIpKTtcbiAgdGhpcy54aHJJb18uc2VuZCh0aGlzLnNvdXJjZVVybCwgXCJHRVRcIik7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuZmluaXNoTG9hZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnJlbmRlcmVyKHRoaXMpO1xuICB0aGlzLnNldFN0YXR1cyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5MT0FERUQpO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLmNhbmNlbExvYWQgPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlKHRoaXMueGhySW9fKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5yZXRyeUxvYWQgPSBmdW5jdGlvbihvcHRfZXJyb3JNZXNzYWdlKSB7XG4gIHZhciBwYXJzZUVycm9yID0gZnVuY3Rpb24oZXJyb3IpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGVycm9yID0gSlNPTi5wYXJzZShlcnJvciksIGVycm9yLmVycm9yICYmIGVycm9yLmVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yLmVycm9yLm1lc3NhZ2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3I7XG4gIH07XG4gIHRoaXMucmV0cnlBdHRlbXB0Q291bnRfID49IHRoaXMubWF4UmV0cmllcyA/ICh0aGlzLmVycm9yTWVzc2FnZV8gPSBwYXJzZUVycm9yKG9wdF9lcnJvck1lc3NhZ2UpLCB0aGlzLnNldFN0YXR1cyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5GQUlMRUQpKSA6ICh0aGlzLmNhbmNlbExvYWQoKSwgc2V0VGltZW91dChnb29nLmJpbmQoZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc0Rpc3Bvc2VkKCkgfHwgKHRoaXMuaXNSZXRyeWluZ18gPSAhMCwgdGhpcy5zdGFydExvYWQoKSwgdGhpcy5pc1JldHJ5aW5nXyA9ICExKTtcbiAgfSwgdGhpcyksIDEwMDAgKiBNYXRoLnBvdygyLCB0aGlzLnJldHJ5QXR0ZW1wdENvdW50XysrKSkpO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY2FuY2VsTG9hZCgpO1xuICB0aGlzLmdldFN0YXR1cygpICE9IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkFCT1JURUQgJiYgdGhpcy5nZXRTdGF0dXMoKSAhPSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5SRU1PVkVEICYmIHRoaXMuc2V0U3RhdHVzKHRoaXMuaXNEb25lKCkgPyBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5SRU1PVkVEIDogZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuQUJPUlRFRCk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuaXNEb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnN0YXR1c18gaW4gZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5ET05FX1NUQVRVU19TRVRfO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLmdldFN0YXR1cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zdGF0dXNfO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLnNldFN0YXR1cyA9IGZ1bmN0aW9uKHN0YXR1cykge1xuICB0aGlzLnN0YXR1c18gPSBzdGF0dXM7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChlZS5sYXllcnMuQWJzdHJhY3RUaWxlLkV2ZW50VHlwZS5TVEFUVVNfQ0hBTkdFRCk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgdGhpcy5jYW5jZWxMb2FkKCk7XG4gIHRoaXMuZGl2LnJlbW92ZSgpO1xuICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLkV2ZW50VHlwZSA9IHtTVEFUVVNfQ0hBTkdFRDpcInN0YXR1cy1jaGFuZ2VkXCJ9O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMgPSB7TkVXOlwibmV3XCIsIExPQURJTkc6XCJsb2FkaW5nXCIsIFRIUk9UVExFRDpcInRocm90dGxlZFwiLCBMT0FERUQ6XCJsb2FkZWRcIiwgRkFJTEVEOlwiZmFpbGVkXCIsIEFCT1JURUQ6XCJhYm9ydGVkXCIsIFJFTU9WRUQ6XCJyZW1vdmVkXCIsfTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUuRE9ORV9TVEFUVVNfU0VUXyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jcmVhdGVTZXQoZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuQUJPUlRFRCwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuRkFJTEVELCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5MT0FERUQsIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLlJFTU9WRUQpO1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5ERUZBVUxUX01BWF9MT0FEX1JFVFJJRVNfID0gNTtcbnZhciBtb2R1bGUkZXhwb3J0cyRlZSRsYXllcnMkQWJzdHJhY3RUaWxlU291cmNlID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuRGlzcG9zYWJsZS5jYWxsKHRoaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWUkbGF5ZXJzJEFic3RyYWN0VGlsZVNvdXJjZSwgZ29vZy5EaXNwb3NhYmxlKTtcbmVlLmxheWVycy5CaW5hcnlPdmVybGF5ID0gZnVuY3Rpb24odGlsZVNvdXJjZSwgb3B0X29wdGlvbnMpIHtcbiAgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5jYWxsKHRoaXMsIHRpbGVTb3VyY2UsIG9wdF9vcHRpb25zKTtcbiAgdGhpcy5idWZmZXJzQnlDb29yZF8gPSBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCgpO1xuICB0aGlzLmRpdnNCeUNvb3JkXyA9IG5ldyBnb29nLnN0cnVjdHMuTWFwKCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuQmluYXJ5T3ZlcmxheSwgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheSk7XG5lZS5sYXllcnMuQmluYXJ5T3ZlcmxheS5wcm90b3R5cGUuY3JlYXRlVGlsZSA9IGZ1bmN0aW9uKGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50LCB1bmlxdWVJZCkge1xuICB2YXIgdGlsZSA9IG5ldyBlZS5sYXllcnMuQmluYXJ5VGlsZShjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpO1xuICB0aGlzLmhhbmRsZXIubGlzdGVuKHRpbGUsIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuRXZlbnRUeXBlLlNUQVRVU19DSEFOR0VELCBmdW5jdGlvbigpIHtcbiAgICB0aWxlLmdldFN0YXR1cygpID09IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURFRCAmJiAodGhpcy5idWZmZXJzQnlDb29yZF8uc2V0KGNvb3JkLCBuZXcgRmxvYXQzMkFycmF5KHRpbGUuYnVmZmVyXykpLCB0aGlzLmRpdnNCeUNvb3JkXy5zZXQoY29vcmQsIHRpbGUuZGl2KSk7XG4gIH0pO1xuICByZXR1cm4gdGlsZTtcbn07XG5lZS5sYXllcnMuQmluYXJ5T3ZlcmxheS5wcm90b3R5cGUuZ2V0QnVmZmVyc0J5Q29vcmQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuYnVmZmVyc0J5Q29vcmRfO1xufTtcbmVlLmxheWVycy5CaW5hcnlPdmVybGF5LnByb3RvdHlwZS5nZXREaXZzQnlDb29yZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5kaXZzQnlDb29yZF87XG59O1xuZWUubGF5ZXJzLkJpbmFyeU92ZXJsYXkucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgdGhpcy5kaXZzQnlDb29yZF8gPSB0aGlzLmJ1ZmZlcnNCeUNvb3JkXyA9IG51bGw7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5sYXllcnMuQmluYXJ5T3ZlcmxheVwiLCBlZS5sYXllcnMuQmluYXJ5T3ZlcmxheSk7XG5lZS5sYXllcnMuQmluYXJ5VGlsZSA9IGZ1bmN0aW9uKGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50LCB1bmlxdWVJZCkge1xuICBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLmNhbGwodGhpcywgY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQsIHVuaXF1ZUlkKTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmxheWVycy5CaW5hcnlUaWxlLCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlKTtcbmVlLmxheWVycy5CaW5hcnlUaWxlLnByb3RvdHlwZS5maW5pc2hMb2FkID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgZ29vZy5mcy5GaWxlUmVhZGVyKCk7XG4gIHJlYWRlci5saXN0ZW4oZ29vZy5mcy5GaWxlUmVhZGVyLkV2ZW50VHlwZS5MT0FEX0VORCwgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5idWZmZXJfID0gcmVhZGVyLmdldFJlc3VsdCgpO1xuICAgIGVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLmZpbmlzaExvYWQuY2FsbCh0aGlzKTtcbiAgfSwgdm9pZCAwLCB0aGlzKTtcbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKHRoaXMuc291cmNlRGF0YSk7XG59O1xuZ29vZy5uZXQuSW1hZ2VMb2FkZXIgPSBmdW5jdGlvbihvcHRfcGFyZW50KSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gIHRoaXMuaW1hZ2VJZFRvUmVxdWVzdE1hcF8gPSB7fTtcbiAgdGhpcy5pbWFnZUlkVG9JbWFnZU1hcF8gPSB7fTtcbiAgdGhpcy5oYW5kbGVyXyA9IG5ldyBnb29nLmV2ZW50cy5FdmVudEhhbmRsZXIodGhpcyk7XG4gIHRoaXMucGFyZW50XyA9IG9wdF9wYXJlbnQ7XG4gIHRoaXMuY29tcGxldGlvbkZpcmVkXyA9ICExO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5uZXQuSW1hZ2VMb2FkZXIsIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KTtcbmdvb2cubmV0LkltYWdlTG9hZGVyLkNvcnNSZXF1ZXN0VHlwZSA9IHtBTk9OWU1PVVM6XCJhbm9ueW1vdXNcIiwgVVNFX0NSRURFTlRJQUxTOlwidXNlLWNyZWRlbnRpYWxzXCIsfTtcbmdvb2cubmV0LkltYWdlTG9hZGVyLklNQUdFX0xPQURfRVZFTlRTXyA9IFtnb29nLnVzZXJBZ2VudC5JRSAmJiAhZ29vZy51c2VyQWdlbnQuaXNWZXJzaW9uT3JIaWdoZXIoXCIxMVwiKSA/IGdvb2cubmV0LkV2ZW50VHlwZS5SRUFEWV9TVEFURV9DSEFOR0UgOiBnb29nLmV2ZW50cy5FdmVudFR5cGUuTE9BRCwgZ29vZy5uZXQuRXZlbnRUeXBlLkFCT1JULCBnb29nLm5ldC5FdmVudFR5cGUuRVJST1IsXTtcbmdvb2cubmV0LkltYWdlTG9hZGVyLnByb3RvdHlwZS5hZGRJbWFnZSA9IGZ1bmN0aW9uKGlkLCBpbWFnZSwgb3B0X2NvcnNSZXF1ZXN0VHlwZSkge1xuICB2YXIgc3JjID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGltYWdlID8gaW1hZ2UgOiBpbWFnZS5zcmM7XG4gIHNyYyAmJiAodGhpcy5jb21wbGV0aW9uRmlyZWRfID0gITEsIHRoaXMuaW1hZ2VJZFRvUmVxdWVzdE1hcF9baWRdID0ge3NyYzpzcmMsIGNvcnNSZXF1ZXN0VHlwZTp2b2lkIDAgIT09IG9wdF9jb3JzUmVxdWVzdFR5cGUgPyBvcHRfY29yc1JlcXVlc3RUeXBlIDogbnVsbCx9KTtcbn07XG5nb29nLm5ldC5JbWFnZUxvYWRlci5wcm90b3R5cGUucmVtb3ZlSW1hZ2UgPSBmdW5jdGlvbihpZCkge1xuICBkZWxldGUgdGhpcy5pbWFnZUlkVG9SZXF1ZXN0TWFwX1tpZF07XG4gIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2VJZFRvSW1hZ2VNYXBfW2lkXTtcbiAgaW1hZ2UgJiYgKGRlbGV0ZSB0aGlzLmltYWdlSWRUb0ltYWdlTWFwX1tpZF0sIHRoaXMuaGFuZGxlcl8udW5saXN0ZW4oaW1hZ2UsIGdvb2cubmV0LkltYWdlTG9hZGVyLklNQUdFX0xPQURfRVZFTlRTXywgdGhpcy5vbk5ldHdvcmtFdmVudF8pKTtcbn07XG5nb29nLm5ldC5JbWFnZUxvYWRlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGltYWdlSWRUb1JlcXVlc3RNYXAgPSB0aGlzLmltYWdlSWRUb1JlcXVlc3RNYXBfO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyhpbWFnZUlkVG9SZXF1ZXN0TWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgdmFyIGltYWdlUmVxdWVzdCA9IGltYWdlSWRUb1JlcXVlc3RNYXBbaWRdO1xuICAgIGltYWdlUmVxdWVzdCAmJiAoZGVsZXRlIGltYWdlSWRUb1JlcXVlc3RNYXBbaWRdLCB0aGlzLmxvYWRJbWFnZV8oaW1hZ2VSZXF1ZXN0LCBpZCkpO1xuICB9LCB0aGlzKTtcbn07XG5nb29nLm5ldC5JbWFnZUxvYWRlci5wcm90b3R5cGUubG9hZEltYWdlXyA9IGZ1bmN0aW9uKGltYWdlUmVxdWVzdCwgaWQpIHtcbiAgaWYgKCF0aGlzLmlzRGlzcG9zZWQoKSkge1xuICAgIHZhciBpbWFnZSA9IHRoaXMucGFyZW50XyA/IGdvb2cuZG9tLmdldERvbUhlbHBlcih0aGlzLnBhcmVudF8pLmNyZWF0ZURvbShnb29nLmRvbS5UYWdOYW1lLklNRykgOiBuZXcgSW1hZ2UoKTtcbiAgICBpbWFnZVJlcXVlc3QuY29yc1JlcXVlc3RUeXBlICYmIChpbWFnZS5jcm9zc09yaWdpbiA9IGltYWdlUmVxdWVzdC5jb3JzUmVxdWVzdFR5cGUpO1xuICAgIHRoaXMuaGFuZGxlcl8ubGlzdGVuKGltYWdlLCBnb29nLm5ldC5JbWFnZUxvYWRlci5JTUFHRV9MT0FEX0VWRU5UU18sIHRoaXMub25OZXR3b3JrRXZlbnRfKTtcbiAgICB0aGlzLmltYWdlSWRUb0ltYWdlTWFwX1tpZF0gPSBpbWFnZTtcbiAgICBpbWFnZS5pZCA9IGlkO1xuICAgIGltYWdlLnNyYyA9IGltYWdlUmVxdWVzdC5zcmM7XG4gIH1cbn07XG5nb29nLm5ldC5JbWFnZUxvYWRlci5wcm90b3R5cGUub25OZXR3b3JrRXZlbnRfID0gZnVuY3Rpb24oZXZ0KSB7XG4gIHZhciBpbWFnZSA9IGV2dC5jdXJyZW50VGFyZ2V0O1xuICBpZiAoaW1hZ2UpIHtcbiAgICBpZiAoZXZ0LnR5cGUgPT0gZ29vZy5uZXQuRXZlbnRUeXBlLlJFQURZX1NUQVRFX0NIQU5HRSkge1xuICAgICAgaWYgKGltYWdlLnJlYWR5U3RhdGUgPT0gZ29vZy5uZXQuRXZlbnRUeXBlLkNPTVBMRVRFKSB7XG4gICAgICAgIGV2dC50eXBlID0gZ29vZy5ldmVudHMuRXZlbnRUeXBlLkxPQUQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGltYWdlLm5hdHVyYWxXaWR0aCAmJiAoZXZ0LnR5cGUgPT0gZ29vZy5ldmVudHMuRXZlbnRUeXBlLkxPQUQgPyAoaW1hZ2UubmF0dXJhbFdpZHRoID0gaW1hZ2Uud2lkdGgsIGltYWdlLm5hdHVyYWxIZWlnaHQgPSBpbWFnZS5oZWlnaHQpIDogKGltYWdlLm5hdHVyYWxXaWR0aCA9IDAsIGltYWdlLm5hdHVyYWxIZWlnaHQgPSAwKSk7XG4gICAgdGhpcy5yZW1vdmVJbWFnZShpbWFnZS5pZCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOmV2dC50eXBlLCB0YXJnZXQ6aW1hZ2V9KTtcbiAgICB0aGlzLmlzRGlzcG9zZWQoKSB8fCB0aGlzLm1heWJlRmlyZUNvbXBsZXRpb25FdmVudF8oKTtcbiAgfVxufTtcbmdvb2cubmV0LkltYWdlTG9hZGVyLnByb3RvdHlwZS5tYXliZUZpcmVDb21wbGV0aW9uRXZlbnRfID0gZnVuY3Rpb24oKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9pc0VtcHR5KHRoaXMuaW1hZ2VJZFRvSW1hZ2VNYXBfKSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eSh0aGlzLmltYWdlSWRUb1JlcXVlc3RNYXBfKSAmJiAhdGhpcy5jb21wbGV0aW9uRmlyZWRfICYmICh0aGlzLmNvbXBsZXRpb25GaXJlZF8gPSAhMCwgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSkpO1xufTtcbmdvb2cubmV0LkltYWdlTG9hZGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZGVsZXRlIHRoaXMuaW1hZ2VJZFRvUmVxdWVzdE1hcF87XG4gIGRlbGV0ZSB0aGlzLmltYWdlSWRUb0ltYWdlTWFwXztcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlKHRoaXMuaGFuZGxlcl8pO1xuICBnb29nLm5ldC5JbWFnZUxvYWRlci5zdXBlckNsYXNzXy5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbn07XG5lZS5sYXllcnMuSW1hZ2VPdmVybGF5ID0gZnVuY3Rpb24odGlsZVNvdXJjZSwgb3B0X29wdGlvbnMpIHtcbiAgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5jYWxsKHRoaXMsIHRpbGVTb3VyY2UsIG9wdF9vcHRpb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmxheWVycy5JbWFnZU92ZXJsYXksIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkpO1xuZWUubGF5ZXJzLkltYWdlT3ZlcmxheS5wcm90b3R5cGUuY3JlYXRlVGlsZSA9IGZ1bmN0aW9uKGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50LCB1bmlxdWVJZCkge1xuICByZXR1cm4gbmV3IGVlLmxheWVycy5JbWFnZVRpbGUoY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQsIHVuaXF1ZUlkKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmxheWVycy5JbWFnZU92ZXJsYXlcIiwgZWUubGF5ZXJzLkltYWdlT3ZlcmxheSk7XG5lZS5sYXllcnMuSW1hZ2VUaWxlID0gZnVuY3Rpb24oY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQsIHVuaXF1ZUlkKSB7XG4gIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuY2FsbCh0aGlzLCBjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpO1xuICB0aGlzLnJlbmRlcmVyID0gZWUubGF5ZXJzLkltYWdlVGlsZS5kZWZhdWx0UmVuZGVyZXJfO1xuICB0aGlzLmltYWdlTG9hZGVyTGlzdGVuZXJLZXlfID0gdGhpcy5pbWFnZUxvYWRlcl8gPSB0aGlzLmltYWdlRWwgPSBudWxsO1xuICB0aGlzLm9iamVjdFVybF8gPSBcIlwiO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLkltYWdlVGlsZSwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZSk7XG5lZS5sYXllcnMuSW1hZ2VUaWxlLnByb3RvdHlwZS5maW5pc2hMb2FkID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIHNhZmVVcmwgPSBnb29nLmh0bWwuU2FmZVVybC5mcm9tQmxvYih0aGlzLnNvdXJjZURhdGEpO1xuICAgIHRoaXMub2JqZWN0VXJsXyA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKTtcbiAgICB2YXIgaW1hZ2VVcmwgPSB0aGlzLm9iamVjdFVybF8gIT09IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkcgPyB0aGlzLm9iamVjdFVybF8gOiB0aGlzLnNvdXJjZVVybDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGltYWdlVXJsID0gdGhpcy5zb3VyY2VVcmw7XG4gIH1cbiAgdGhpcy5pbWFnZUxvYWRlcl8gPSBuZXcgZ29vZy5uZXQuSW1hZ2VMb2FkZXIoKTtcbiAgdGhpcy5pbWFnZUxvYWRlcl8uYWRkSW1hZ2UodGhpcy5kaXYuaWQgKyBcIi1pbWFnZVwiLCBpbWFnZVVybCk7XG4gIHRoaXMuaW1hZ2VMb2FkZXJMaXN0ZW5lcktleV8gPSBnb29nLmV2ZW50cy5saXN0ZW5PbmNlKHRoaXMuaW1hZ2VMb2FkZXJfLCBlZS5sYXllcnMuSW1hZ2VUaWxlLklNQUdFX0xPQURFUl9FVkVOVFNfLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnR5cGUgPT0gZ29vZy5ldmVudHMuRXZlbnRUeXBlLkxPQUQgPyAodGhpcy5pbWFnZUVsID0gZXZlbnQudGFyZ2V0LCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5maW5pc2hMb2FkLmNhbGwodGhpcykpIDogdGhpcy5yZXRyeUxvYWQoKTtcbiAgfSwgdm9pZCAwLCB0aGlzKTtcbiAgdGhpcy5pbWFnZUxvYWRlcl8uc3RhcnQoKTtcbn07XG5lZS5sYXllcnMuSW1hZ2VUaWxlLnByb3RvdHlwZS5jYW5jZWxMb2FkID0gZnVuY3Rpb24oKSB7XG4gIGVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLmNhbmNlbExvYWQuY2FsbCh0aGlzKTtcbiAgdGhpcy5pbWFnZUxvYWRlcl8gJiYgKGdvb2cuZXZlbnRzLnVubGlzdGVuQnlLZXkodGhpcy5pbWFnZUxvYWRlckxpc3RlbmVyS2V5XyksIG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZSh0aGlzLmltYWdlTG9hZGVyXykpO1xufTtcbmVlLmxheWVycy5JbWFnZVRpbGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgdGhpcy5vYmplY3RVcmxfICYmIFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5vYmplY3RVcmxfKTtcbn07XG5lZS5sYXllcnMuSW1hZ2VUaWxlLmRlZmF1bHRSZW5kZXJlcl8gPSBmdW5jdGlvbih0aWxlKSB7XG4gIHRpbGUuZGl2LmFwcGVuZENoaWxkKHRpbGUuaW1hZ2VFbCk7XG59O1xuZWUubGF5ZXJzLkltYWdlVGlsZS5JTUFHRV9MT0FERVJfRVZFTlRTXyA9IFtnb29nLmV2ZW50cy5FdmVudFR5cGUuTE9BRCwgZ29vZy5uZXQuRXZlbnRUeXBlLkFCT1JULCBnb29nLm5ldC5FdmVudFR5cGUuRVJST1JdO1xuZ29vZy5zdHJpbmcucGF0aCA9IHt9O1xuZ29vZy5zdHJpbmcucGF0aC5iYXNlTmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGkgPSBwYXRoLmxhc3RJbmRleE9mKFwiL1wiKSArIDE7XG4gIHJldHVybiBwYXRoLnNsaWNlKGkpO1xufTtcbmdvb2cuc3RyaW5nLnBhdGguYmFzZW5hbWUgPSBnb29nLnN0cmluZy5wYXRoLmJhc2VOYW1lO1xuZ29vZy5zdHJpbmcucGF0aC5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaSA9IHBhdGgubGFzdEluZGV4T2YoXCIvXCIpICsgMSwgaGVhZCA9IHBhdGguc2xpY2UoMCwgaSk7XG4gIC9eXFwvKyQvLnRlc3QoaGVhZCkgfHwgKGhlYWQgPSBoZWFkLnJlcGxhY2UoL1xcLyskLywgXCJcIikpO1xuICByZXR1cm4gaGVhZDtcbn07XG5nb29nLnN0cmluZy5wYXRoLmV4dGVuc2lvbiA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGJhc2VOYW1lID0gZ29vZy5zdHJpbmcucGF0aC5iYXNlTmFtZShwYXRoKS5yZXBsYWNlKC9cXC4rL2csIFwiLlwiKSwgc2VwYXJhdG9ySW5kZXggPSBiYXNlTmFtZS5sYXN0SW5kZXhPZihcIi5cIik7XG4gIHJldHVybiAwID49IHNlcGFyYXRvckluZGV4ID8gXCJcIiA6IGJhc2VOYW1lLnN1YnN0cihzZXBhcmF0b3JJbmRleCArIDEpO1xufTtcbmdvb2cuc3RyaW5nLnBhdGguam9pbiA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIGZvciAodmFyIHBhdGggPSBhcmd1bWVudHNbMF0sIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICBwYXRoID0gZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChhcmcsIFwiL1wiKSA/IGFyZyA6IFwiXCIgPT0gcGF0aCB8fCBnb29nLnN0cmluZy5lbmRzV2l0aChwYXRoLCBcIi9cIikgPyBwYXRoICsgYXJnIDogcGF0aCArIChcIi9cIiArIGFyZyk7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59O1xuZ29vZy5zdHJpbmcucGF0aC5ub3JtYWxpemVQYXRoID0gZnVuY3Rpb24ocGF0aCkge1xuICBpZiAoXCJcIiA9PSBwYXRoKSB7XG4gICAgcmV0dXJuIFwiLlwiO1xuICB9XG4gIHZhciBpbml0aWFsU2xhc2hlcyA9IFwiXCI7XG4gIGdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgocGF0aCwgXCIvXCIpICYmIChpbml0aWFsU2xhc2hlcyA9IFwiL1wiLCBnb29nLnN0cmluZy5zdGFydHNXaXRoKHBhdGgsIFwiLy9cIikgJiYgIWdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgocGF0aCwgXCIvLy9cIikgJiYgKGluaXRpYWxTbGFzaGVzID0gXCIvL1wiKSk7XG4gIGZvciAodmFyIHBhcnRzID0gcGF0aC5zcGxpdChcIi9cIiksIG5ld1BhcnRzID0gW10sIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuICAgIFwiXCIgIT0gcGFydCAmJiBcIi5cIiAhPSBwYXJ0ICYmIChcIi4uXCIgIT0gcGFydCB8fCAhaW5pdGlhbFNsYXNoZXMgJiYgIW5ld1BhcnRzLmxlbmd0aCB8fCBcIi4uXCIgPT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcGVlayhuZXdQYXJ0cykgPyBuZXdQYXJ0cy5wdXNoKHBhcnQpIDogbmV3UGFydHMucG9wKCkpO1xuICB9XG4gIHJldHVybiBpbml0aWFsU2xhc2hlcyArIG5ld1BhcnRzLmpvaW4oXCIvXCIpIHx8IFwiLlwiO1xufTtcbmdvb2cuc3RyaW5nLnBhdGguc3BsaXQgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBoZWFkID0gZ29vZy5zdHJpbmcucGF0aC5kaXJuYW1lKHBhdGgpLCB0YWlsID0gZ29vZy5zdHJpbmcucGF0aC5iYXNlTmFtZShwYXRoKTtcbiAgcmV0dXJuIFtoZWFkLCB0YWlsXTtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2UgPSBmdW5jdGlvbihidWNrZXQsIHBhdGgsIG1heFpvb20sIG9wdF9zdWZmaXgpIHtcbiAgbW9kdWxlJGV4cG9ydHMkZWUkbGF5ZXJzJEFic3RyYWN0VGlsZVNvdXJjZS5jYWxsKHRoaXMpO1xuICB0aGlzLmJ1Y2tldF8gPSBidWNrZXQ7XG4gIHRoaXMucGF0aF8gPSBwYXRoO1xuICB0aGlzLnN1ZmZpeF8gPSBvcHRfc3VmZml4IHx8IFwiXCI7XG4gIHRoaXMubWF4Wm9vbV8gPSBtYXhab29tO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2UsIG1vZHVsZSRleHBvcnRzJGVlJGxheWVycyRBYnN0cmFjdFRpbGVTb3VyY2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2UucHJvdG90eXBlLmxvYWRUaWxlID0gZnVuY3Rpb24odGlsZSwgb3B0X3ByaW9yaXR5KSB7XG4gIGlmICh0aWxlLnpvb20gPD0gdGhpcy5tYXhab29tXykge1xuICAgIHRpbGUuc291cmNlVXJsID0gdGhpcy5nZXRUaWxlVXJsXyh0aWxlLmNvb3JkLCB0aWxlLnpvb20pO1xuICB9IGVsc2Uge1xuICAgIHZhciB6b29tU3RlcHMgPSB0aWxlLnpvb20gLSB0aGlzLm1heFpvb21fLCB6b29tRmFjdG9yID0gTWF0aC5wb3coMiwgem9vbVN0ZXBzKSwgdXBwZXJDb29yZCA9IG5ldyBnb29nbGUubWFwcy5Qb2ludChNYXRoLmZsb29yKHRpbGUuY29vcmQueCAvIHpvb21GYWN0b3IpLCBNYXRoLmZsb29yKHRpbGUuY29vcmQueSAvIHpvb21GYWN0b3IpKTtcbiAgICB0aWxlLnNvdXJjZVVybCA9IHRoaXMuZ2V0VGlsZVVybF8odXBwZXJDb29yZCwgdGlsZS56b29tIC0gem9vbVN0ZXBzKTtcbiAgICB0aWxlLnJlbmRlcmVyID0gZ29vZy5wYXJ0aWFsKG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLnpvb21UaWxlUmVuZGVyZXJfLCB0aGlzLm1heFpvb21fKTtcbiAgfVxuICB2YXIgb3JpZ2luYWxSZXRyeUxvYWQgPSBnb29nLmJpbmQodGlsZS5yZXRyeUxvYWQsIHRpbGUpO1xuICB0aWxlLnJldHJ5TG9hZCA9IGdvb2cuYmluZChmdW5jdGlvbihvcHRfZXJyb3JNZXNzYWdlKSB7XG4gICAgb3B0X2Vycm9yTWVzc2FnZSAmJiAob3B0X2Vycm9yTWVzc2FnZS5pbmNsdWRlcyhtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZS5NSVNTSU5HX1RJTEVfRVJST1JfKSB8fCBvcHRfZXJyb3JNZXNzYWdlLmluY2x1ZGVzKG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLkFDQ0VTU19ERU5JRURfRVJST1JfKSkgPyB0aWxlLnNldFN0YXR1cyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5MT0FERUQpIDogb3JpZ2luYWxSZXRyeUxvYWQob3B0X2Vycm9yTWVzc2FnZSk7XG4gIH0sIHRpbGUpO1xuICB0aWxlLnN0YXJ0TG9hZCgpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLnByb3RvdHlwZS5nZXRVbmlxdWVJZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gW3RoaXMuYnVja2V0XywgdGhpcy5wYXRoXywgdGhpcy5tYXhab29tXywgdGhpcy5zdWZmaXhfXS5qb2luKFwiLVwiKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZVVybF8gPSBmdW5jdGlvbihjb29yZCwgem9vbSkge1xuICB2YXIgdXJsID0gZ29vZy5zdHJpbmcucGF0aC5qb2luKG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLkJBU0VfVVJMLCB0aGlzLmJ1Y2tldF8sIHRoaXMucGF0aF8sIFN0cmluZyh6b29tKSwgU3RyaW5nKGNvb3JkLngpLCBTdHJpbmcoY29vcmQueSkpO1xuICB0aGlzLnN1ZmZpeF8gJiYgKHVybCArPSB0aGlzLnN1ZmZpeF8pO1xuICByZXR1cm4gdXJsO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLnpvb21UaWxlUmVuZGVyZXJfID0gZnVuY3Rpb24obWF4Wm9vbSwgdGlsZSkge1xuICBpZiAoIXRpbGUuaW1hZ2VFbCkge1xuICAgIHRocm93IEVycm9yKFwiVGlsZSBtdXN0IGhhdmUgYW4gaW1hZ2UgZWxlbWVudCB0byBiZSByZW5kZXJlZC5cIik7XG4gIH1cbiAgdmFyIHpvb21GYWN0b3IgPSBNYXRoLnBvdygyLCB0aWxlLnpvb20gLSBtYXhab29tKSwgc2lkZUxlbmd0aCA9IHRpbGUudGlsZVNpemUud2lkdGgsIGNhbnYgPSB0aWxlLmRpdi5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gIGNhbnYuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgc2lkZUxlbmd0aCk7XG4gIGNhbnYuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIHNpZGVMZW5ndGgpO1xuICB0aWxlLmRpdi5hcHBlbmRDaGlsZChjYW52KTtcbiAgdmFyIGNvbnRleHQgPSBjYW52LmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSAhMTtcbiAgY29udGV4dC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgPSAhMTtcbiAgY29udGV4dC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQgPSAhMTtcbiAgY29udGV4dC5kcmF3SW1hZ2UodGlsZS5pbWFnZUVsLCBzaWRlTGVuZ3RoIC8gem9vbUZhY3RvciAqICh0aWxlLmNvb3JkLnggJSB6b29tRmFjdG9yKSwgc2lkZUxlbmd0aCAvIHpvb21GYWN0b3IgKiAodGlsZS5jb29yZC55ICUgem9vbUZhY3RvciksIHNpZGVMZW5ndGggLyB6b29tRmFjdG9yLCBzaWRlTGVuZ3RoIC8gem9vbUZhY3RvciwgMCwgMCwgc2lkZUxlbmd0aCwgc2lkZUxlbmd0aCk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5sYXllcnMuQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZVwiLCBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZSk7XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZS5CQVNFX1VSTCA9IFwiaHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tXCI7XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZS5NSVNTSU5HX1RJTEVfRVJST1JfID0gXCJUaGUgc3BlY2lmaWVkIGtleSBkb2VzIG5vdCBleGlzdC5cIjtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLkFDQ0VTU19ERU5JRURfRVJST1JfID0gXCJBY2Nlc3NEZW5pZWRcIjtcbmVlLmxheWVycy5DbG91ZFN0b3JhZ2VUaWxlU291cmNlID0gbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2U7XG5nb29nLnN0cnVjdHMuUXVldWUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5mcm9udF8gPSBbXTtcbiAgdGhpcy5iYWNrXyA9IFtdO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUubWF5YmVGbGlwXyA9IGZ1bmN0aW9uKCkge1xuICAwID09PSB0aGlzLmZyb250Xy5sZW5ndGggJiYgKHRoaXMuZnJvbnRfID0gdGhpcy5iYWNrXywgdGhpcy5mcm9udF8ucmV2ZXJzZSgpLCB0aGlzLmJhY2tfID0gW10pO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdGhpcy5iYWNrXy5wdXNoKGVsZW1lbnQpO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuZGVxdWV1ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm1heWJlRmxpcF8oKTtcbiAgcmV0dXJuIHRoaXMuZnJvbnRfLnBvcCgpO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm1heWJlRmxpcF8oKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3BlZWsodGhpcy5mcm9udF8pO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZnJvbnRfLmxlbmd0aCArIHRoaXMuYmFja18ubGVuZ3RoO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMCA9PT0gdGhpcy5mcm9udF8ubGVuZ3RoICYmIDAgPT09IHRoaXMuYmFja18ubGVuZ3RoO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5mcm9udF8gPSBbXTtcbiAgdGhpcy5iYWNrXyA9IFtdO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKHRoaXMuZnJvbnRfLCBvYmopIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKHRoaXMuYmFja18sIG9iaik7XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUxhc3QodGhpcy5mcm9udF8sIG9iaikgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlKHRoaXMuYmFja18sIG9iaik7XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5nZXRWYWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgcmVzID0gW10sIGkgPSB0aGlzLmZyb250Xy5sZW5ndGggLSAxOyAwIDw9IGk7IC0taSkge1xuICAgIHJlcy5wdXNoKHRoaXMuZnJvbnRfW2ldKTtcbiAgfVxuICB2YXIgbGVuID0gdGhpcy5iYWNrXy5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHJlcy5wdXNoKHRoaXMuYmFja19baV0pO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wgPSBmdW5jdGlvbihvcHRfbWluQ291bnQsIG9wdF9tYXhDb3VudCkge1xuICBnb29nLkRpc3Bvc2FibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5taW5Db3VudF8gPSBvcHRfbWluQ291bnQgfHwgMDtcbiAgdGhpcy5tYXhDb3VudF8gPSBvcHRfbWF4Q291bnQgfHwgMTA7XG4gIGlmICh0aGlzLm1pbkNvdW50XyA+IHRoaXMubWF4Q291bnRfKSB7XG4gICAgdGhyb3cgRXJyb3IoZ29vZy5zdHJ1Y3RzLlBvb2wuRVJST1JfTUlOX01BWF8pO1xuICB9XG4gIHRoaXMuZnJlZVF1ZXVlXyA9IG5ldyBnb29nLnN0cnVjdHMuUXVldWUoKTtcbiAgdGhpcy5pblVzZVNldF8gPSBuZXcgZ29vZy5zdHJ1Y3RzLlNldCgpO1xuICB0aGlzLmRlbGF5ID0gMDtcbiAgdGhpcy5sYXN0QWNjZXNzID0gbnVsbDtcbiAgdGhpcy5hZGp1c3RGb3JNaW5NYXgoKTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuc3RydWN0cy5Qb29sLCBnb29nLkRpc3Bvc2FibGUpO1xuZ29vZy5zdHJ1Y3RzLlBvb2wuRVJST1JfTUlOX01BWF8gPSBcIltnb29nLnN0cnVjdHMuUG9vbF0gTWluIGNhbiBub3QgYmUgZ3JlYXRlciB0aGFuIG1heFwiO1xuZ29vZy5zdHJ1Y3RzLlBvb2wuRVJST1JfRElTUE9TRV9VTlJFTEVBU0VEX09CSlNfID0gXCJbZ29vZy5zdHJ1Y3RzLlBvb2xdIE9iamVjdHMgbm90IHJlbGVhc2VkXCI7XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuc2V0TWluaW11bUNvdW50ID0gZnVuY3Rpb24obWluKSB7XG4gIGlmIChtaW4gPiB0aGlzLm1heENvdW50Xykge1xuICAgIHRocm93IEVycm9yKGdvb2cuc3RydWN0cy5Qb29sLkVSUk9SX01JTl9NQVhfKTtcbiAgfVxuICB0aGlzLm1pbkNvdW50XyA9IG1pbjtcbiAgdGhpcy5hZGp1c3RGb3JNaW5NYXgoKTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuc2V0TWF4aW11bUNvdW50ID0gZnVuY3Rpb24obWF4KSB7XG4gIGlmIChtYXggPCB0aGlzLm1pbkNvdW50Xykge1xuICAgIHRocm93IEVycm9yKGdvb2cuc3RydWN0cy5Qb29sLkVSUk9SX01JTl9NQVhfKTtcbiAgfVxuICB0aGlzLm1heENvdW50XyA9IG1heDtcbiAgdGhpcy5hZGp1c3RGb3JNaW5NYXgoKTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuc2V0RGVsYXkgPSBmdW5jdGlvbihkZWxheSkge1xuICB0aGlzLmRlbGF5ID0gZGVsYXk7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmdldE9iamVjdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdGltZSA9IERhdGUubm93KCk7XG4gIGlmICghKG51bGwgIT0gdGhpcy5sYXN0QWNjZXNzICYmIHRpbWUgLSB0aGlzLmxhc3RBY2Nlc3MgPCB0aGlzLmRlbGF5KSkge1xuICAgIHZhciBvYmogPSB0aGlzLnJlbW92ZUZyZWVPYmplY3RfKCk7XG4gICAgb2JqICYmICh0aGlzLmxhc3RBY2Nlc3MgPSB0aW1lLCB0aGlzLmluVXNlU2V0Xy5hZGQob2JqKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5yZWxlYXNlT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiB0aGlzLmluVXNlU2V0Xy5yZW1vdmUob2JqKSA/ICh0aGlzLmFkZEZyZWVPYmplY3Qob2JqKSwgITApIDogITE7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLnJlbW92ZUZyZWVPYmplY3RfID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIG9iajsgMCA8IHRoaXMuZ2V0RnJlZUNvdW50KCkgJiYgKG9iaiA9IHRoaXMuZnJlZVF1ZXVlXy5kZXF1ZXVlKCksICF0aGlzLm9iamVjdENhbkJlUmV1c2VkKG9iaikpOykge1xuICAgIHRoaXMuYWRqdXN0Rm9yTWluTWF4KCk7XG4gIH1cbiAgIW9iaiAmJiB0aGlzLmdldENvdW50KCkgPCB0aGlzLm1heENvdW50XyAmJiAob2JqID0gdGhpcy5jcmVhdGVPYmplY3QoKSk7XG4gIHJldHVybiBvYmo7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmFkZEZyZWVPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgdGhpcy5pblVzZVNldF8ucmVtb3ZlKG9iaik7XG4gIHRoaXMub2JqZWN0Q2FuQmVSZXVzZWQob2JqKSAmJiB0aGlzLmdldENvdW50KCkgPCB0aGlzLm1heENvdW50XyA/IHRoaXMuZnJlZVF1ZXVlXy5lbnF1ZXVlKG9iaikgOiB0aGlzLmRpc3Bvc2VPYmplY3Qob2JqKTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuYWRqdXN0Rm9yTWluTWF4ID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGZyZWVRdWV1ZSA9IHRoaXMuZnJlZVF1ZXVlXzsgdGhpcy5nZXRDb3VudCgpIDwgdGhpcy5taW5Db3VudF87KSB7XG4gICAgZnJlZVF1ZXVlLmVucXVldWUodGhpcy5jcmVhdGVPYmplY3QoKSk7XG4gIH1cbiAgZm9yICg7IHRoaXMuZ2V0Q291bnQoKSA+IHRoaXMubWF4Q291bnRfICYmIDAgPCB0aGlzLmdldEZyZWVDb3VudCgpOykge1xuICAgIHRoaXMuZGlzcG9zZU9iamVjdChmcmVlUXVldWUuZGVxdWV1ZSgpKTtcbiAgfVxufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5jcmVhdGVPYmplY3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHt9O1xufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5kaXNwb3NlT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG9iai5kaXNwb3NlKSB7XG4gICAgb2JqLmRpc3Bvc2UoKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgICAgb2JqW2ldID0gbnVsbDtcbiAgICB9XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUub2JqZWN0Q2FuQmVSZXVzZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygb2JqLmNhbkJlUmV1c2VkID8gb2JqLmNhbkJlUmV1c2VkKCkgOiAhMDtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIHRoaXMuZnJlZVF1ZXVlXy5jb250YWlucyhvYmopIHx8IHRoaXMuaW5Vc2VTZXRfLmNvbnRhaW5zKG9iaik7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZyZWVRdWV1ZV8uZ2V0Q291bnQoKSArIHRoaXMuaW5Vc2VTZXRfLmdldENvdW50KCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmdldEluVXNlQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaW5Vc2VTZXRfLmdldENvdW50KCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmdldEZyZWVDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5mcmVlUXVldWVfLmdldENvdW50KCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZnJlZVF1ZXVlXy5pc0VtcHR5KCkgJiYgdGhpcy5pblVzZVNldF8uaXNFbXB0eSgpO1xufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5zdHJ1Y3RzLlBvb2wuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIGlmICgwIDwgdGhpcy5nZXRJblVzZUNvdW50KCkpIHtcbiAgICB0aHJvdyBFcnJvcihnb29nLnN0cnVjdHMuUG9vbC5FUlJPUl9ESVNQT1NFX1VOUkVMRUFTRURfT0JKU18pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLmluVXNlU2V0XztcbiAgZm9yICh2YXIgZnJlZVF1ZXVlID0gdGhpcy5mcmVlUXVldWVfOyAhZnJlZVF1ZXVlLmlzRW1wdHkoKTspIHtcbiAgICB0aGlzLmRpc3Bvc2VPYmplY3QoZnJlZVF1ZXVlLmRlcXVldWUoKSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuZnJlZVF1ZXVlXztcbn07XG5nb29nLnN0cnVjdHMuTm9kZSA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdGhpcy5rZXlfID0ga2V5O1xuICB0aGlzLnZhbHVlXyA9IHZhbHVlO1xufTtcbmdvb2cuc3RydWN0cy5Ob2RlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMua2V5Xztcbn07XG5nb29nLnN0cnVjdHMuTm9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudmFsdWVfO1xufTtcbmdvb2cuc3RydWN0cy5Ob2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cuc3RydWN0cy5Ob2RlKHRoaXMua2V5XywgdGhpcy52YWx1ZV8pO1xufTtcbmdvb2cuc3RydWN0cy5IZWFwID0gZnVuY3Rpb24ob3B0X2hlYXApIHtcbiAgdGhpcy5ub2Rlc18gPSBbXTtcbiAgb3B0X2hlYXAgJiYgdGhpcy5pbnNlcnRBbGwob3B0X2hlYXApO1xufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gIHZhciBub2RlID0gbmV3IGdvb2cuc3RydWN0cy5Ob2RlKGtleSwgdmFsdWUpLCBub2RlcyA9IHRoaXMubm9kZXNfO1xuICBub2Rlcy5wdXNoKG5vZGUpO1xuICB0aGlzLm1vdmVVcF8obm9kZXMubGVuZ3RoIC0gMSk7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmluc2VydEFsbCA9IGZ1bmN0aW9uKGhlYXApIHtcbiAgaWYgKGhlYXAgaW5zdGFuY2VvZiBnb29nLnN0cnVjdHMuSGVhcCkge1xuICAgIHZhciBrZXlzID0gaGVhcC5nZXRLZXlzKCk7XG4gICAgdmFyIHZhbHVlcyA9IGhlYXAuZ2V0VmFsdWVzKCk7XG4gICAgaWYgKDAgPj0gdGhpcy5nZXRDb3VudCgpKSB7XG4gICAgICBmb3IgKHZhciBub2RlcyA9IHRoaXMubm9kZXNfLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbm9kZXMucHVzaChuZXcgZ29vZy5zdHJ1Y3RzLk5vZGUoa2V5c1tpXSwgdmFsdWVzW2ldKSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGtleXMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyhoZWFwKSwgdmFsdWVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldFZhbHVlcyhoZWFwKTtcbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHRoaXMuaW5zZXJ0KGtleXNbaV0sIHZhbHVlc1tpXSk7XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBub2RlcyA9IHRoaXMubm9kZXNfLCBjb3VudCA9IG5vZGVzLmxlbmd0aCwgcm9vdE5vZGUgPSBub2Rlc1swXTtcbiAgaWYgKCEoMCA+PSBjb3VudCkpIHtcbiAgICByZXR1cm4gMSA9PSBjb3VudCA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NsZWFyKG5vZGVzKSA6IChub2Rlc1swXSA9IG5vZGVzLnBvcCgpLCB0aGlzLm1vdmVEb3duXygwKSksIHJvb3ROb2RlLmdldFZhbHVlKCk7XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzXztcbiAgaWYgKDAgIT0gbm9kZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG5vZGVzWzBdLmdldFZhbHVlKCk7XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUucGVla0tleSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ub2Rlc19bMF0gJiYgdGhpcy5ub2Rlc19bMF0uZ2V0S2V5KCk7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLm1vdmVEb3duXyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIGZvciAodmFyIG5vZGVzID0gdGhpcy5ub2Rlc18sIGNvdW50ID0gbm9kZXMubGVuZ3RoLCBub2RlID0gbm9kZXNbaW5kZXhdOyBpbmRleCA8IGNvdW50ID4+IDE7KSB7XG4gICAgdmFyIGxlZnRDaGlsZEluZGV4ID0gdGhpcy5nZXRMZWZ0Q2hpbGRJbmRleF8oaW5kZXgpLCByaWdodENoaWxkSW5kZXggPSB0aGlzLmdldFJpZ2h0Q2hpbGRJbmRleF8oaW5kZXgpLCBzbWFsbGVyQ2hpbGRJbmRleCA9IHJpZ2h0Q2hpbGRJbmRleCA8IGNvdW50ICYmIG5vZGVzW3JpZ2h0Q2hpbGRJbmRleF0uZ2V0S2V5KCkgPCBub2Rlc1tsZWZ0Q2hpbGRJbmRleF0uZ2V0S2V5KCkgPyByaWdodENoaWxkSW5kZXggOiBsZWZ0Q2hpbGRJbmRleDtcbiAgICBpZiAobm9kZXNbc21hbGxlckNoaWxkSW5kZXhdLmdldEtleSgpID4gbm9kZS5nZXRLZXkoKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIG5vZGVzW2luZGV4XSA9IG5vZGVzW3NtYWxsZXJDaGlsZEluZGV4XTtcbiAgICBpbmRleCA9IHNtYWxsZXJDaGlsZEluZGV4O1xuICB9XG4gIG5vZGVzW2luZGV4XSA9IG5vZGU7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLm1vdmVVcF8gPSBmdW5jdGlvbihpbmRleCkge1xuICBmb3IgKHZhciBub2RlcyA9IHRoaXMubm9kZXNfLCBub2RlID0gbm9kZXNbaW5kZXhdOyAwIDwgaW5kZXg7KSB7XG4gICAgdmFyIHBhcmVudEluZGV4ID0gdGhpcy5nZXRQYXJlbnRJbmRleF8oaW5kZXgpO1xuICAgIGlmIChub2Rlc1twYXJlbnRJbmRleF0uZ2V0S2V5KCkgPiBub2RlLmdldEtleSgpKSB7XG4gICAgICBub2Rlc1tpbmRleF0gPSBub2Rlc1twYXJlbnRJbmRleF0sIGluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBub2Rlc1tpbmRleF0gPSBub2RlO1xufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5nZXRMZWZ0Q2hpbGRJbmRleF8gPSBmdW5jdGlvbihpbmRleCkge1xuICByZXR1cm4gMiAqIGluZGV4ICsgMTtcbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUuZ2V0UmlnaHRDaGlsZEluZGV4XyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHJldHVybiAyICogaW5kZXggKyAyO1xufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5nZXRQYXJlbnRJbmRleF8gPSBmdW5jdGlvbihpbmRleCkge1xuICByZXR1cm4gaW5kZXggLSAxID4+IDE7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmdldFZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBub2RlcyA9IHRoaXMubm9kZXNfLCBydiA9IFtdLCBsID0gbm9kZXMubGVuZ3RoLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIHJ2LnB1c2gobm9kZXNbaV0uZ2V0VmFsdWUoKSk7XG4gIH1cbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIG5vZGVzID0gdGhpcy5ub2Rlc18sIHJ2ID0gW10sIGwgPSBub2Rlcy5sZW5ndGgsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgcnYucHVzaChub2Rlc1tpXS5nZXRLZXkoKSk7XG4gIH1cbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5jb250YWluc1ZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb21lKHRoaXMubm9kZXNfLCBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuZ2V0VmFsdWUoKSA9PSB2YWw7XG4gIH0pO1xufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29tZSh0aGlzLm5vZGVzXywgZnVuY3Rpb24obm9kZSkge1xuICAgIHJldHVybiBub2RlLmdldEtleSgpID09IGtleTtcbiAgfSk7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5zdHJ1Y3RzLkhlYXAodGhpcyk7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm5vZGVzXy5sZW5ndGg7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDAgPT09IHRoaXMubm9kZXNfLmxlbmd0aDtcbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY2xlYXIodGhpcy5ub2Rlc18pO1xufTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVF1ZXVlID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuc3RydWN0cy5IZWFwLmNhbGwodGhpcyk7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLnN0cnVjdHMuUHJpb3JpdHlRdWV1ZSwgZ29vZy5zdHJ1Y3RzLkhlYXApO1xuZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UXVldWUucHJvdG90eXBlLmVucXVldWUgPSBmdW5jdGlvbihwcmlvcml0eSwgdmFsdWUpIHtcbiAgdGhpcy5pbnNlcnQocHJpb3JpdHksIHZhbHVlKTtcbn07XG5nb29nLnN0cnVjdHMuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZGVxdWV1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5yZW1vdmUoKTtcbn07XG5nb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sID0gZnVuY3Rpb24ob3B0X21pbkNvdW50LCBvcHRfbWF4Q291bnQpIHtcbiAgdGhpcy5kZWxheVRpbWVvdXRfID0gdm9pZCAwO1xuICB0aGlzLnJlcXVlc3RRdWV1ZV8gPSBuZXcgZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UXVldWUoKTtcbiAgZ29vZy5zdHJ1Y3RzLlBvb2wuY2FsbCh0aGlzLCBvcHRfbWluQ291bnQsIG9wdF9tYXhDb3VudCk7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLCBnb29nLnN0cnVjdHMuUG9vbCk7XG5nb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLkRFRkFVTFRfUFJJT1JJVFlfID0gMTAwO1xuZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5wcm90b3R5cGUuc2V0RGVsYXkgPSBmdW5jdGlvbihkZWxheSkge1xuICBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnN1cGVyQ2xhc3NfLnNldERlbGF5LmNhbGwodGhpcywgZGVsYXkpO1xuICBudWxsICE9IHRoaXMubGFzdEFjY2VzcyAmJiAoZ29vZy5nbG9iYWwuY2xlYXJUaW1lb3V0KHRoaXMuZGVsYXlUaW1lb3V0XyksIHRoaXMuZGVsYXlUaW1lb3V0XyA9IGdvb2cuZ2xvYmFsLnNldFRpbWVvdXQoZ29vZy5iaW5kKHRoaXMuaGFuZGxlUXVldWVSZXF1ZXN0c18sIHRoaXMpLCB0aGlzLmRlbGF5ICsgdGhpcy5sYXN0QWNjZXNzIC0gRGF0ZS5ub3coKSksIHRoaXMuaGFuZGxlUXVldWVSZXF1ZXN0c18oKSk7XG59O1xuZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5wcm90b3R5cGUuZ2V0T2JqZWN0ID0gZnVuY3Rpb24ob3B0X2NhbGxiYWNrLCBvcHRfcHJpb3JpdHkpIHtcbiAgaWYgKCFvcHRfY2FsbGJhY2spIHtcbiAgICB2YXIgcmVzdWx0ID0gZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5zdXBlckNsYXNzXy5nZXRPYmplY3QuY2FsbCh0aGlzKTtcbiAgICByZXN1bHQgJiYgdGhpcy5kZWxheSAmJiAodGhpcy5kZWxheVRpbWVvdXRfID0gZ29vZy5nbG9iYWwuc2V0VGltZW91dChnb29nLmJpbmQodGhpcy5oYW5kbGVRdWV1ZVJlcXVlc3RzXywgdGhpcyksIHRoaXMuZGVsYXkpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIHRoaXMucmVxdWVzdFF1ZXVlXy5lbnF1ZXVlKHZvaWQgMCAhPT0gb3B0X3ByaW9yaXR5ID8gb3B0X3ByaW9yaXR5IDogZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5ERUZBVUxUX1BSSU9SSVRZXywgb3B0X2NhbGxiYWNrKTtcbiAgdGhpcy5oYW5kbGVRdWV1ZVJlcXVlc3RzXygpO1xufTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wucHJvdG90eXBlLmhhbmRsZVF1ZXVlUmVxdWVzdHNfID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIHJlcXVlc3RRdWV1ZSA9IHRoaXMucmVxdWVzdFF1ZXVlXzsgMCA8IHJlcXVlc3RRdWV1ZS5nZXRDb3VudCgpOykge1xuICAgIHZhciBvYmogPSB0aGlzLmdldE9iamVjdCgpO1xuICAgIGlmIChvYmopIHtcbiAgICAgIHJlcXVlc3RRdWV1ZS5kZXF1ZXVlKCkuYXBwbHkodGhpcywgW29ial0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnByb3RvdHlwZS5hZGRGcmVlT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gIGdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wuc3VwZXJDbGFzc18uYWRkRnJlZU9iamVjdC5jYWxsKHRoaXMsIG9iaik7XG4gIHRoaXMuaGFuZGxlUXVldWVSZXF1ZXN0c18oKTtcbn07XG5nb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnByb3RvdHlwZS5hZGp1c3RGb3JNaW5NYXggPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5zdXBlckNsYXNzXy5hZGp1c3RGb3JNaW5NYXguY2FsbCh0aGlzKTtcbiAgdGhpcy5oYW5kbGVRdWV1ZVJlcXVlc3RzXygpO1xufTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnN1cGVyQ2xhc3NfLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICBnb29nLmdsb2JhbC5jbGVhclRpbWVvdXQodGhpcy5kZWxheVRpbWVvdXRfKTtcbiAgdGhpcy5yZXF1ZXN0UXVldWVfLmNsZWFyKCk7XG4gIHRoaXMucmVxdWVzdFF1ZXVlXyA9IG51bGw7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZSA9IGZ1bmN0aW9uKG1hcElkLCBvcHRfcHJvZmlsZXIpIHtcbiAgbW9kdWxlJGV4cG9ydHMkZWUkbGF5ZXJzJEFic3RyYWN0VGlsZVNvdXJjZS5jYWxsKHRoaXMpO1xuICB0aGlzLm1hcElkXyA9IG1hcElkO1xuICB0aGlzLnByb2ZpbGVyXyA9IG9wdF9wcm9maWxlciB8fCBudWxsO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlLCBtb2R1bGUkZXhwb3J0cyRlZSRsYXllcnMkQWJzdHJhY3RUaWxlU291cmNlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5wcm90b3R5cGUubG9hZFRpbGUgPSBmdW5jdGlvbih0aWxlLCBvcHRfcHJpb3JpdHkpIHtcbiAgdmFyIFByb2ZpbGVySGVhZGVyID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUFJPRklMRV9IRUFERVIudG9Mb3dlckNhc2UoKSwga2V5ID0gZ29vZy5ldmVudHMubGlzdGVuKHRpbGUsIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuRXZlbnRUeXBlLlNUQVRVU19DSEFOR0VELCBmdW5jdGlvbigpIHtcbiAgICBzd2l0Y2godGlsZS5nZXRTdGF0dXMoKSkge1xuICAgICAgY2FzZSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5MT0FERUQ6XG4gICAgICAgIHZhciBwcm9maWxlSWQgPSB0aWxlLnNvdXJjZVJlc3BvbnNlSGVhZGVyc1tQcm9maWxlckhlYWRlcl07XG4gICAgICAgIHRoaXMucHJvZmlsZXJfICYmIHByb2ZpbGVJZCAmJiB0aGlzLnByb2ZpbGVyXy5hZGRUaWxlKHRpbGUuZGl2LmlkLCBwcm9maWxlSWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuRkFJTEVEOlxuICAgICAgY2FzZSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5BQk9SVEVEOlxuICAgICAgICB0aGlzLnByb2ZpbGVyXyAmJiBcIlwiICE9PSB0aWxlLmRpdi5pZCAmJiB0aGlzLnByb2ZpbGVyXy5yZW1vdmVUaWxlKHRpbGUuZGl2LmlkKSwgZ29vZy5ldmVudHMudW5saXN0ZW5CeUtleShrZXkpO1xuICAgIH1cbiAgfSwgdm9pZCAwLCB0aGlzKTtcbiAgdGlsZS5zb3VyY2VVcmwgPSB0aGlzLmdldFRpbGVVcmxfKHRpbGUuY29vcmQsIHRpbGUuem9vbSk7XG4gIHZhciBoYW5kbGVBdmFpbGFibGVUb2tlbiA9IGdvb2cuYmluZCh0aGlzLmhhbmRsZUF2YWlsYWJsZVRva2VuXywgdGhpcywgdGlsZSk7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5nZXRHbG9iYWxUb2tlblBvb2xfKCkuZ2V0T2JqZWN0KGhhbmRsZUF2YWlsYWJsZVRva2VuLCBvcHRfcHJpb3JpdHkpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VW5pcXVlSWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubWFwSWRfLm1hcGlkICsgXCItXCIgKyB0aGlzLm1hcElkXy50b2tlbjtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UucHJvdG90eXBlLmhhbmRsZUF2YWlsYWJsZVRva2VuXyA9IGZ1bmN0aW9uKHRpbGUsIHRva2VuKSB7XG4gIHZhciB0b2tlblBvb2wgPSBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuZ2V0R2xvYmFsVG9rZW5Qb29sXygpO1xuICBpZiAodGlsZS5pc0Rpc3Bvc2VkKCkgfHwgdGlsZS5nZXRTdGF0dXMoKSA9PSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5BQk9SVEVEKSB7XG4gICAgdG9rZW5Qb29sLnJlbGVhc2VPYmplY3QodG9rZW4pO1xuICB9IGVsc2Uge1xuICAgIHZhciBrZXkgPSBnb29nLmV2ZW50cy5saXN0ZW4odGlsZSwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5FdmVudFR5cGUuU1RBVFVTX0NIQU5HRUQsIGZ1bmN0aW9uKCkge1xuICAgICAgdGlsZS5pc0RvbmUoKSAmJiAoZ29vZy5ldmVudHMudW5saXN0ZW5CeUtleShrZXkpLCB0b2tlblBvb2wucmVsZWFzZU9iamVjdCh0b2tlbikpO1xuICAgIH0pO1xuICAgIHRpbGUuc3RhcnRMb2FkKCk7XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVVcmxfID0gZnVuY3Rpb24oY29vcmQsIHpvb20pIHtcbiAgdmFyIHVybCA9IGVlLmRhdGEuZ2V0VGlsZVVybCh0aGlzLm1hcElkXywgY29vcmQueCwgY29vcmQueSwgem9vbSk7XG4gIHJldHVybiB0aGlzLnByb2ZpbGVyXyAmJiB0aGlzLnByb2ZpbGVyXy5pc0VuYWJsZWQoKSA/IHVybCArIFwiJnByb2ZpbGluZz0xXCIgOiB1cmw7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlLmdldEdsb2JhbFRva2VuUG9vbF8gPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlLlRPS0VOX1BPT0xfIHx8IChtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuVE9LRU5fUE9PTF8gPSBuZXcgZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbCgwLCBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuVE9LRU5fQ09VTlRfKSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuVE9LRU5fUE9PTF87XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5sYXllcnMuRWFydGhFbmdpbmVUaWxlU291cmNlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZSk7XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuVE9LRU5fUE9PTF8gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlLlRPS0VOX0NPVU5UXyA9IDQ7XG5lZS5sYXllcnMuRWFydGhFbmdpbmVUaWxlU291cmNlID0gbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlO1xuZ29vZy5zaW5nbGV0b24gPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRzaW5nbGV0b25faW5zdGFudGlhdGVkU2luZ2xldG9ucyA9IFtdLCBtb2R1bGUkY29udGVudHMkZ29vZyRzaW5nbGV0b25fU2luZ2xldG9uID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5zaW5nbGV0b24uZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbihjdG9yKSB7XG4gICgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKCFPYmplY3QuaXNTZWFsZWQoY3RvciksIFwiQ2Fubm90IHVzZSBnZXRJbnN0YW5jZSgpIHdpdGggYSBzZWFsZWQgY29uc3RydWN0b3IuXCIpO1xuICBpZiAoY3Rvci5pbnN0YW5jZV8gJiYgY3Rvci5oYXNPd25Qcm9wZXJ0eShcImluc3RhbmNlX1wiKSkge1xuICAgIHJldHVybiBjdG9yLmluc3RhbmNlXztcbiAgfVxuICBnb29nLkRFQlVHICYmIG1vZHVsZSRjb250ZW50cyRnb29nJHNpbmdsZXRvbl9pbnN0YW50aWF0ZWRTaW5nbGV0b25zLnB1c2goY3Rvcik7XG4gIHZhciBpbnN0YW5jZSA9IG5ldyBjdG9yKCk7XG4gIGN0b3IuaW5zdGFuY2VfID0gaW5zdGFuY2U7XG4gICgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKGN0b3IuaGFzT3duUHJvcGVydHkoXCJpbnN0YW5jZV9cIiksIFwiQ291bGQgbm90IGluc3RhbnRpYXRlIHNpbmdsZXRvbi5cIik7XG4gIHJldHVybiBpbnN0YW5jZTtcbn07XG5nb29nLnNpbmdsZXRvbi5pbnN0YW50aWF0ZWRTaW5nbGV0b25zID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckc2luZ2xldG9uX2luc3RhbnRpYXRlZFNpbmdsZXRvbnM7XG5lZS5NYXBUaWxlTWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuICB0aGlzLnRva2VuUG9vbF8gPSBuZXcgZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5Qb29sXygwLCA2MCk7XG4gIHRoaXMucmVxdWVzdHNfID0gbmV3IGdvb2cuc3RydWN0cy5NYXAoKTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLk1hcFRpbGVNYW5hZ2VyLCBnb29nLmV2ZW50cy5FdmVudFRhcmdldCk7XG5lZS5NYXBUaWxlTWFuYWdlci5wcm90b3R5cGUuZ2V0T3V0c3RhbmRpbmdDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5yZXF1ZXN0c18uZ2V0Q291bnQoKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKGlkLCB1cmwsIG9wdF9wcmlvcml0eSwgb3B0X2ltYWdlQ29tcGxldGVkQ2FsbGJhY2ssIG9wdF9tYXhSZXRyaWVzKSB7XG4gIGlmICh0aGlzLnJlcXVlc3RzXy5nZXQoaWQpKSB7XG4gICAgdGhyb3cgRXJyb3IoZWUuTWFwVGlsZU1hbmFnZXIuRVJST1JfSURfSU5fVVNFXyk7XG4gIH1cbiAgdmFyIHJlcXVlc3QgPSBuZXcgZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8oaWQsIHVybCwgb3B0X2ltYWdlQ29tcGxldGVkQ2FsbGJhY2ssIGdvb2cuYmluZCh0aGlzLnJlbGVhc2VSZXF1ZXN0XywgdGhpcyksIHZvaWQgMCAhPT0gb3B0X21heFJldHJpZXMgPyBvcHRfbWF4UmV0cmllcyA6IGVlLk1hcFRpbGVNYW5hZ2VyLk1BWF9SRVRSSUVTKTtcbiAgdGhpcy5yZXF1ZXN0c18uc2V0KGlkLCByZXF1ZXN0KTtcbiAgdmFyIGNhbGxiYWNrID0gZ29vZy5iaW5kKHRoaXMuaGFuZGxlQXZhaWxhYmxlVG9rZW5fLCB0aGlzLCByZXF1ZXN0KTtcbiAgdGhpcy50b2tlblBvb2xfLmdldE9iamVjdChjYWxsYmFjaywgb3B0X3ByaW9yaXR5KTtcbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24oaWQpIHtcbiAgdmFyIHJlcXVlc3QgPSB0aGlzLnJlcXVlc3RzXy5nZXQoaWQpO1xuICByZXF1ZXN0ICYmIChyZXF1ZXN0LnNldEFib3J0ZWQoITApLCB0aGlzLnJlbGVhc2VSZXF1ZXN0XyhyZXF1ZXN0KSk7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIucHJvdG90eXBlLmhhbmRsZUF2YWlsYWJsZVRva2VuXyA9IGZ1bmN0aW9uKHJlcXVlc3QsIHRva2VuKSB7XG4gIGlmIChyZXF1ZXN0LmdldEltYWdlTG9hZGVyKCkgfHwgcmVxdWVzdC5nZXRBYm9ydGVkKCkpIHtcbiAgICB0aGlzLnJlbGVhc2VPYmplY3RfKHRva2VuKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAocmVxdWVzdC5zZXRUb2tlbih0b2tlbiksIHRva2VuLnNldEFjdGl2ZSghMCksIHJlcXVlc3Quc2V0SW1hZ2VMb2FkZXIobmV3IGdvb2cubmV0LkltYWdlTG9hZGVyKCkpLCAhcmVxdWVzdC5yZXRyeSgpKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBkaXNwYXRjaCBmaXJzdCByZXF1ZXN0IVwiKTtcbiAgICB9XG4gIH1cbn07XG5lZS5NYXBUaWxlTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZVJlcXVlc3RfID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuICB0aGlzLnJlcXVlc3RzXy5yZW1vdmUocmVxdWVzdC5nZXRJZCgpKTtcbiAgcmVxdWVzdC5nZXRJbWFnZUxvYWRlcigpICYmICh0aGlzLnJlbGVhc2VPYmplY3RfKHJlcXVlc3QuZ2V0VG9rZW4oKSksIHJlcXVlc3QuZ2V0SW1hZ2VMb2FkZXIoKS5kaXNwb3NlKCkpO1xuICByZXF1ZXN0LmZpcmVJbWFnZUV2ZW50Q2FsbGJhY2soKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZU9iamVjdF8gPSBmdW5jdGlvbih0b2tlbikge1xuICB0b2tlbi5zZXRBY3RpdmUoITEpO1xuICBpZiAoIXRoaXMudG9rZW5Qb29sXy5yZWxlYXNlT2JqZWN0KHRva2VuKSkge1xuICAgIHRocm93IEVycm9yKFwiT2JqZWN0IG5vdCByZWxlYXNlZFwiKTtcbiAgfVxufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB0aGlzLnRva2VuUG9vbF8uZGlzcG9zZSgpO1xuICB0aGlzLnRva2VuUG9vbF8gPSBudWxsO1xuICB2YXIgcmVxdWVzdHMgPSB0aGlzLnJlcXVlc3RzXztcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaChyZXF1ZXN0cy5nZXRWYWx1ZXMoKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YWx1ZS5kaXNwb3NlKCk7XG4gIH0pO1xuICByZXF1ZXN0cy5jbGVhcigpO1xuICB0aGlzLnJlcXVlc3RzXyA9IG51bGw7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuc2luZ2xldG9uLmdldEluc3RhbmNlKGVlLk1hcFRpbGVNYW5hZ2VyKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLk1hcFRpbGVNYW5hZ2VyXCIsIGVlLk1hcFRpbGVNYW5hZ2VyKTtcbmVlLk1hcFRpbGVNYW5hZ2VyLk1BWF9SRVRSSUVTID0gMTtcbmVlLk1hcFRpbGVNYW5hZ2VyLkVSUk9SX0lEX0lOX1VTRV8gPSBcIltlZS5NYXBUaWxlTWFuYWdlcl0gSUQgaW4gdXNlXCI7XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0XyA9IGZ1bmN0aW9uKGlkLCB1cmwsIG9wdF9pbWFnZUV2ZW50Q2FsbGJhY2ssIG9wdF9yZXF1ZXN0Q29tcGxldGVDYWxsYmFjaywgb3B0X21heFJldHJpZXMpIHtcbiAgZ29vZy5EaXNwb3NhYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuaWRfID0gaWQ7XG4gIHRoaXMudXJsXyA9IHVybDtcbiAgdGhpcy5tYXhSZXRyaWVzXyA9IHZvaWQgMCAhPT0gb3B0X21heFJldHJpZXMgPyBvcHRfbWF4UmV0cmllcyA6IGVlLk1hcFRpbGVNYW5hZ2VyLk1BWF9SRVRSSUVTO1xuICB0aGlzLmltYWdlRXZlbnRDYWxsYmFja18gPSBvcHRfaW1hZ2VFdmVudENhbGxiYWNrO1xuICB0aGlzLnJlcXVlc3RDb21wbGV0ZUNhbGxiYWNrXyA9IG9wdF9yZXF1ZXN0Q29tcGxldGVDYWxsYmFjaztcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLCBnb29nLkRpc3Bvc2FibGUpO1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmdldEltYWdlTG9hZGVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmltYWdlTG9hZGVyXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuc2V0SW1hZ2VMb2FkZXIgPSBmdW5jdGlvbihpbWFnZUxvYWRlcikge1xuICB0aGlzLmltYWdlTG9hZGVyXyA9IGltYWdlTG9hZGVyO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5nZXRUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50b2tlbl87XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcbiAgdGhpcy50b2tlbl8gPSB0b2tlbjtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuYWRkSW1hZ2VFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZXZlbnRzLmxpc3Rlbk9uY2UodGhpcy5pbWFnZUxvYWRlcl8sIGVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLklNQUdFX0xPQURFUl9FVkVOVF9UWVBFU18sIGdvb2cuYmluZCh0aGlzLmhhbmRsZUltYWdlRXZlbnRfLCB0aGlzKSk7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmZpcmVJbWFnZUV2ZW50Q2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWFnZUV2ZW50Q2FsbGJhY2tfICYmIHRoaXMuaW1hZ2VFdmVudENhbGxiYWNrXyh0aGlzLmV2ZW50XywgdGhpcy5wcm9maWxlSWRfKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaWRfO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudXJsXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuZ2V0TWF4UmV0cmllcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5tYXhSZXRyaWVzXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuZ2V0QXR0ZW1wdENvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmF0dGVtcHRDb3VudF87XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmluY3JlYXNlQXR0ZW1wdENvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuYXR0ZW1wdENvdW50XysrO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5oYXNSZWFjaGVkTWF4UmV0cmllcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5hdHRlbXB0Q291bnRfID4gdGhpcy5tYXhSZXRyaWVzXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuc2V0QWJvcnRlZCA9IGZ1bmN0aW9uKGFib3J0ZWQpIHtcbiAgYWJvcnRlZCAmJiAhdGhpcy5hYm9ydGVkXyAmJiAodGhpcy5hYm9ydGVkXyA9IGFib3J0ZWQsIHRoaXMuZXZlbnRfID0gbmV3IGdvb2cuZXZlbnRzLkV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5BQk9SVCkpO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5nZXRBYm9ydGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmFib3J0ZWRfO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5oYW5kbGVJbWFnZUV2ZW50XyA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKHRoaXMuZ2V0QWJvcnRlZCgpKSB7XG4gICAgdGhpcy5tYXJrQ29tcGxldGVkXygpO1xuICB9IGVsc2Uge1xuICAgIHN3aXRjaChlLnR5cGUpIHtcbiAgICAgIGNhc2UgZ29vZy5ldmVudHMuRXZlbnRUeXBlLkxPQUQ6XG4gICAgICAgIHRoaXMuaGFuZGxlU3VjY2Vzc18oZSk7XG4gICAgICAgIHRoaXMubWFya0NvbXBsZXRlZF8oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGdvb2cubmV0LkV2ZW50VHlwZS5FUlJPUjpcbiAgICAgIGNhc2UgZ29vZy5uZXQuRXZlbnRUeXBlLkFCT1JUOlxuICAgICAgICB0aGlzLmhhbmRsZUVycm9yXyhlKTtcbiAgICB9XG4gIH1cbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUubWFya0NvbXBsZXRlZF8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZXF1ZXN0Q29tcGxldGVDYWxsYmFja18gJiYgdGhpcy5yZXF1ZXN0Q29tcGxldGVDYWxsYmFja18odGhpcyk7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmhhbmRsZVN1Y2Nlc3NfID0gZnVuY3Rpb24oZSkge1xuICB0aGlzLmV2ZW50XyA9IGU7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmhhbmRsZUVycm9yXyA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhpcy5yZXRyeSgpIHx8ICh0aGlzLmV2ZW50XyA9IGUsIHRoaXMubWFya0NvbXBsZXRlZF8oKSk7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICBkZWxldGUgdGhpcy5pbWFnZUV2ZW50Q2FsbGJhY2tfO1xuICBkZWxldGUgdGhpcy5yZXF1ZXN0Q29tcGxldGVDYWxsYmFja187XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLnJldHJ5ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmhhc1JlYWNoZWRNYXhSZXRyaWVzKCkpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdGhpcy5pbmNyZWFzZUF0dGVtcHRDb3VudCgpO1xuICB0aGlzLmltYWdlTG9hZGVyXy5yZW1vdmVJbWFnZSh0aGlzLmlkXyk7XG4gIHNldFRpbWVvdXQoZ29vZy5iaW5kKHRoaXMuc3RhcnRfLCB0aGlzKSwgMCk7XG4gIHJldHVybiAhMDtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuc3RhcnRfID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5nZXRBYm9ydGVkKCkpIHtcbiAgICB2YXIgYWN0dWFsbHlMb2FkSW1hZ2UgPSBnb29nLmJpbmQoZnVuY3Rpb24oaW1hZ2VVcmwpIHtcbiAgICAgIHRoaXMuZ2V0QWJvcnRlZCgpIHx8ICh0aGlzLmltYWdlTG9hZGVyXy5hZGRJbWFnZSh0aGlzLmlkXywgaW1hZ2VVcmwpLCB0aGlzLmFkZEltYWdlRXZlbnRMaXN0ZW5lcigpLCB0aGlzLmltYWdlTG9hZGVyXy5zdGFydCgpKTtcbiAgICB9LCB0aGlzKSwgc291cmNlVXJsID0gdGhpcy5nZXRVcmwoKTtcbiAgICBpZiAoZ29vZy5VcmkucGFyc2Uoc291cmNlVXJsKS5nZXRRdWVyeURhdGEoKS5jb250YWluc0tleShcInByb2ZpbGluZ1wiKSkge1xuICAgICAgdmFyIHhocklvID0gbmV3IGdvb2cubmV0LlhocklvKCk7XG4gICAgICB4aHJJby5zZXRSZXNwb25zZVR5cGUoZ29vZy5uZXQuWGhySW8uUmVzcG9uc2VUeXBlLkJMT0IpO1xuICAgICAgeGhySW8ubGlzdGVuKGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSwgZ29vZy5iaW5kKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHRoaXMucHJvZmlsZUlkXyA9IHhocklvLmdldFJlc3BvbnNlSGVhZGVyKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfSEVBREVSKSB8fCBudWxsO1xuICAgICAgICBpZiAoMjAwIDw9IHhocklvLmdldFN0YXR1cygpICYmIDMwMCA+IHhocklvLmdldFN0YXR1cygpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBvYmplY3RVcmwgPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoZ29vZy5odG1sLlNhZmVVcmwuZnJvbUJsb2IoeGhySW8uZ2V0UmVzcG9uc2UoKSkpO1xuICAgICAgICAgICAgdmFyIG9rID0gb2JqZWN0VXJsICE9PSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWN0dWFsbHlMb2FkSW1hZ2Uob2sgPyBvYmplY3RVcmwgOiBzb3VyY2VVcmwpO1xuICAgICAgfSwgdGhpcykpO1xuICAgICAgeGhySW8ubGlzdGVuT25jZShnb29nLm5ldC5FdmVudFR5cGUuUkVBRFksIGdvb2cuYmluZCh4aHJJby5kaXNwb3NlLCB4aHJJbykpO1xuICAgICAgeGhySW8uc2VuZChzb3VyY2VVcmwsIFwiR0VUXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3R1YWxseUxvYWRJbWFnZShzb3VyY2VVcmwpO1xuICAgIH1cbiAgfVxufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5hdHRlbXB0Q291bnRfID0gMDtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5hYm9ydGVkXyA9ICExO1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmltYWdlTG9hZGVyXyA9IG51bGw7XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUudG9rZW5fID0gbnVsbDtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5ldmVudF8gPSBudWxsO1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLnByb2ZpbGVJZF8gPSBudWxsO1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8uSU1BR0VfTE9BREVSX0VWRU5UX1RZUEVTXyA9IFtnb29nLmV2ZW50cy5FdmVudFR5cGUuTE9BRCwgZ29vZy5uZXQuRXZlbnRUeXBlLkFCT1JULCBnb29nLm5ldC5FdmVudFR5cGUuRVJST1JdO1xuZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5fID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuRGlzcG9zYWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLmFjdGl2ZV8gPSAhMTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuXywgZ29vZy5EaXNwb3NhYmxlKTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuXy5wcm90b3R5cGUuc2V0QWN0aXZlID0gZnVuY3Rpb24odmFsKSB7XG4gIHRoaXMuYWN0aXZlXyA9IHZhbDtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5Ub2tlbl8ucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmFjdGl2ZV87XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5Qb29sXyA9IGZ1bmN0aW9uKG9wdF9taW5Db3VudCwgb3B0X21heENvdW50KSB7XG4gIGdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wuY2FsbCh0aGlzLCBvcHRfbWluQ291bnQsIG9wdF9tYXhDb3VudCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5NYXBUaWxlTWFuYWdlci5Ub2tlblBvb2xfLCBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sKTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuUG9vbF8ucHJvdG90eXBlLmNyZWF0ZU9iamVjdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuXygpO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuUG9vbF8ucHJvdG90eXBlLmRpc3Bvc2VPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgb2JqLmRpc3Bvc2UoKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5Ub2tlblBvb2xfLnByb3RvdHlwZS5vYmplY3RDYW5CZVJldXNlZCA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gIW9iai5pc0Rpc3Bvc2VkKCkgJiYgIW9iai5pc0FjdGl2ZSgpO1xufTtcbmVlLk1hcExheWVyT3ZlcmxheSA9IGZ1bmN0aW9uKHVybCwgbWFwSWQsIHRva2VuLCBpbml0LCBvcHRfcHJvZmlsZXIpIHtcbiAgZWUuQWJzdHJhY3RPdmVybGF5LmNhbGwodGhpcywgdXJsLCBtYXBJZCwgdG9rZW4sIGluaXQsIG9wdF9wcm9maWxlcik7XG4gIHRoaXMubWluWm9vbSA9IGluaXQubWluWm9vbSB8fCAwO1xuICB0aGlzLm1heFpvb20gPSBpbml0Lm1heFpvb20gfHwgMjA7XG4gIGlmICghd2luZG93Lmdvb2dsZSB8fCAhd2luZG93Lmdvb2dsZS5tYXBzKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJHb29nbGUgTWFwcyBBUEkgaGFzbid0IGJlZW4gaW5pdGlhbGl6ZWQuXCIpO1xuICB9XG4gIHRoaXMudGlsZVNpemUgPSBpbml0LnRpbGVTaXplIHx8IG5ldyBnb29nbGUubWFwcy5TaXplKDI1NiwgMjU2KTtcbiAgdGhpcy5pc1BuZyA9IHZvaWQgMCAhPT0gaW5pdC5pc1BuZyA/IGluaXQuaXNQbmcgOiAhMDtcbiAgdGhpcy5uYW1lID0gaW5pdC5uYW1lO1xuICB0aGlzLnRpbGVzXyA9IG5ldyBnb29nLnN0cnVjdHMuU2V0KCk7XG4gIHRoaXMub3BhY2l0eV8gPSAxLjA7XG4gIHRoaXMudmlzaWJsZV8gPSAhMDtcbiAgdGhpcy5wcm9maWxlcl8gPSBvcHRfcHJvZmlsZXIgfHwgbnVsbDtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLk1hcExheWVyT3ZlcmxheSwgZWUuQWJzdHJhY3RPdmVybGF5KTtcbmVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUuYWRkVGlsZUNhbGxiYWNrID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgcmV0dXJuIGdvb2cuZXZlbnRzLmxpc3Rlbih0aGlzLCBlZS5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfTE9BREVELCBjYWxsYmFjayk7XG59O1xuZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5yZW1vdmVUaWxlQ2FsbGJhY2sgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7XG4gIGdvb2cuZXZlbnRzLnVubGlzdGVuQnlLZXkoY2FsbGJhY2tJZCk7XG59O1xuZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5kaXNwYXRjaFRpbGVFdmVudF8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlZS5UaWxlRXZlbnQodGhpcy50aWxlc0xvYWRpbmcubGVuZ3RoKSk7XG59O1xuZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5nZXRUaWxlID0gZnVuY3Rpb24oY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQpIHtcbiAgdmFyIG1heENvb3JkO1xuICBpZiAoem9vbSA8IHRoaXMubWluWm9vbSB8fCAwID4gY29vcmQueSB8fCBjb29yZC55ID49IDEgPDwgem9vbSkge1xuICAgIHZhciBpbWcgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJTUdcIik7XG4gICAgaW1nLnN0eWxlLndpZHRoID0gXCIwcHhcIjtcbiAgICBpbWcuc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIjtcbiAgICByZXR1cm4gaW1nO1xuICB9XG4gIHZhciBwcm9maWxpbmcgPSB0aGlzLnByb2ZpbGVyXyAmJiB0aGlzLnByb2ZpbGVyXy5pc0VuYWJsZWQoKSwgdGlsZUlkID0gdGhpcy5nZXRUaWxlSWQoY29vcmQsIHpvb20pLCBzcmMgPSBbdGhpcy51cmwsIHRpbGVJZF0uam9pbihcIi9cIikgKyBcIj90b2tlbj1cIiArIHRoaXMudG9rZW47XG4gIHByb2ZpbGluZyAmJiAoc3JjICs9IFwiJnByb2ZpbGluZz0xXCIpO1xuICB2YXIgdW5pcXVlVGlsZUlkID0gW3RpbGVJZCwgdGhpcy50aWxlQ291bnRlciwgdGhpcy50b2tlbl0uam9pbihcIi9cIik7XG4gIHRoaXMudGlsZUNvdW50ZXIgKz0gMTtcbiAgdmFyIGRpdiA9IGdvb2cuZG9tLmNyZWF0ZURvbShnb29nLmRvbS5UYWdOYW1lLkRJViwge2lkOnVuaXF1ZVRpbGVJZH0pLCBwcmlvcml0eSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxMDAwO1xuICB0aGlzLnRpbGVzTG9hZGluZy5wdXNoKHVuaXF1ZVRpbGVJZCk7XG4gIGVlLk1hcFRpbGVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2VuZCh1bmlxdWVUaWxlSWQsIHNyYywgcHJpb3JpdHksIGdvb2cuYmluZCh0aGlzLmhhbmRsZUltYWdlQ29tcGxldGVkXywgdGhpcywgZGl2LCB1bmlxdWVUaWxlSWQpKTtcbiAgdGhpcy5kaXNwYXRjaFRpbGVFdmVudF8oKTtcbiAgcmV0dXJuIGRpdjtcbn07XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLmdldExvYWRlZFRpbGVzQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudGlsZXNfLmdldENvdW50KCk7XG59O1xuZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5nZXRMb2FkaW5nVGlsZXNDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50aWxlc0xvYWRpbmcubGVuZ3RoO1xufTtcbmVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUucmVsZWFzZVRpbGUgPSBmdW5jdGlvbih0aWxlRGl2KSB7XG4gIGVlLk1hcFRpbGVNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWJvcnQodGlsZURpdi5pZCk7XG4gIHRoaXMudGlsZXNfLnJlbW92ZShnb29nLmRvbS5nZXRGaXJzdEVsZW1lbnRDaGlsZCh0aWxlRGl2KSk7XG4gIFwiXCIgIT09IHRpbGVEaXYuaWQgJiYgKHRoaXMudGlsZXNGYWlsZWQucmVtb3ZlKHRpbGVEaXYuaWQpLCB0aGlzLnByb2ZpbGVyXyAmJiB0aGlzLnByb2ZpbGVyXy5yZW1vdmVUaWxlKHRpbGVEaXYuaWQpKTtcbn07XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLnNldE9wYWNpdHkgPSBmdW5jdGlvbihvcGFjaXR5KSB7XG4gIHRoaXMub3BhY2l0eV8gPSBvcGFjaXR5O1xuICB2YXIgaXRlciA9IHRoaXMudGlsZXNfLl9faXRlcmF0b3JfXygpO1xuICBnb29nLml0ZXIuZm9yRWFjaChpdGVyLCBmdW5jdGlvbih0aWxlKSB7XG4gICAgZ29vZy5zdHlsZS5zZXRPcGFjaXR5KHRpbGUsIG9wYWNpdHkpO1xuICB9KTtcbn07XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLmhhbmRsZUltYWdlQ29tcGxldGVkXyA9IGZ1bmN0aW9uKGRpdiwgdGlsZUlkLCBlLCBwcm9maWxlSWQpIHtcbiAgaWYgKGUudHlwZSA9PSBnb29nLm5ldC5FdmVudFR5cGUuRVJST1IpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmUodGhpcy50aWxlc0xvYWRpbmcsIHRpbGVJZCksIHRoaXMudGlsZXNGYWlsZWQuYWRkKHRpbGVJZCksIHRoaXMuZGlzcGF0Y2hFdmVudChlKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmUodGhpcy50aWxlc0xvYWRpbmcsIHRpbGVJZCk7XG4gICAgaWYgKGUudGFyZ2V0ICYmIGUudHlwZSA9PSBnb29nLmV2ZW50cy5FdmVudFR5cGUuTE9BRCkge1xuICAgICAgdmFyIHRpbGUgPSBlLnRhcmdldDtcbiAgICAgIHRoaXMudGlsZXNfLmFkZCh0aWxlKTtcbiAgICAgIDEuMCAhPSB0aGlzLm9wYWNpdHlfICYmIGdvb2cuc3R5bGUuc2V0T3BhY2l0eSh0aWxlLCB0aGlzLm9wYWNpdHlfKTtcbiAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aWxlKTtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaFRpbGVFdmVudF8oKTtcbiAgfVxuICB0aGlzLnByb2ZpbGVyXyAmJiBudWxsICE9PSBwcm9maWxlSWQgJiYgdGhpcy5wcm9maWxlcl8uYWRkVGlsZSh0aWxlSWQsIHByb2ZpbGVJZCk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5NYXBMYXllck92ZXJsYXlcIiwgZWUuTWFwTGF5ZXJPdmVybGF5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZSwgXCJyZW1vdmVUaWxlQ2FsbGJhY2tcIiwgZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5yZW1vdmVUaWxlQ2FsbGJhY2spO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLCBcImFkZFRpbGVDYWxsYmFja1wiLCBlZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLmFkZFRpbGVDYWxsYmFjayk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUsIFwiZ2V0VGlsZVwiLCBlZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLmdldFRpbGUpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLCBcInNldE9wYWNpdHlcIiwgZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5zZXRPcGFjaXR5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZSwgXCJyZWxlYXNlVGlsZVwiLCBlZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLnJlbGVhc2VUaWxlKTtcbmdvb2cuYXN5bmMuRGVsYXkgPSBmdW5jdGlvbihsaXN0ZW5lciwgb3B0X2ludGVydmFsLCBvcHRfaGFuZGxlcikge1xuICBnb29nLkRpc3Bvc2FibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5saXN0ZW5lcl8gPSBsaXN0ZW5lcjtcbiAgdGhpcy5pbnRlcnZhbF8gPSBvcHRfaW50ZXJ2YWwgfHwgMDtcbiAgdGhpcy5oYW5kbGVyXyA9IG9wdF9oYW5kbGVyO1xuICB0aGlzLmNhbGxiYWNrXyA9IGdvb2cuYmluZCh0aGlzLmRvQWN0aW9uXywgdGhpcyk7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmFzeW5jLkRlbGF5LCBnb29nLkRpc3Bvc2FibGUpO1xuZ29vZy5hc3luYy5EZWxheS5wcm90b3R5cGUuaWRfID0gMDtcbmdvb2cuYXN5bmMuRGVsYXkucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmFzeW5jLkRlbGF5LnN1cGVyQ2xhc3NfLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB0aGlzLnN0b3AoKTtcbiAgZGVsZXRlIHRoaXMubGlzdGVuZXJfO1xuICBkZWxldGUgdGhpcy5oYW5kbGVyXztcbn07XG5nb29nLmFzeW5jLkRlbGF5LnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKG9wdF9pbnRlcnZhbCkge1xuICB0aGlzLnN0b3AoKTtcbiAgdGhpcy5pZF8gPSBnb29nLlRpbWVyLmNhbGxPbmNlKHRoaXMuY2FsbGJhY2tfLCB2b2lkIDAgIT09IG9wdF9pbnRlcnZhbCA/IG9wdF9pbnRlcnZhbCA6IHRoaXMuaW50ZXJ2YWxfKTtcbn07XG5nb29nLmFzeW5jLkRlbGF5LnByb3RvdHlwZS5zdGFydElmTm90QWN0aXZlID0gZnVuY3Rpb24ob3B0X2ludGVydmFsKSB7XG4gIHRoaXMuaXNBY3RpdmUoKSB8fCB0aGlzLnN0YXJ0KG9wdF9pbnRlcnZhbCk7XG59O1xuZ29vZy5hc3luYy5EZWxheS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlzQWN0aXZlKCkgJiYgZ29vZy5UaW1lci5jbGVhcih0aGlzLmlkXyk7XG4gIHRoaXMuaWRfID0gMDtcbn07XG5nb29nLmFzeW5jLkRlbGF5LnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuc3RvcCgpO1xuICB0aGlzLmRvQWN0aW9uXygpO1xufTtcbmdvb2cuYXN5bmMuRGVsYXkucHJvdG90eXBlLmZpcmVJZkFjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlzQWN0aXZlKCkgJiYgdGhpcy5maXJlKCk7XG59O1xuZ29vZy5hc3luYy5EZWxheS5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDAgIT0gdGhpcy5pZF87XG59O1xuZ29vZy5hc3luYy5EZWxheS5wcm90b3R5cGUuZG9BY3Rpb25fID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaWRfID0gMDtcbiAgdGhpcy5saXN0ZW5lcl8gJiYgdGhpcy5saXN0ZW5lcl8uY2FsbCh0aGlzLmhhbmRsZXJfKTtcbn07XG5lZS5kYXRhLlByb2ZpbGVyID0gZnVuY3Rpb24oZm9ybWF0KSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gIHRoaXMuZm9ybWF0XyA9IGZvcm1hdDtcbiAgdGhpcy5pc0VuYWJsZWRfID0gITE7XG4gIHRoaXMubGFzdFJlZnJlc2hUb2tlbl8gPSBudWxsO1xuICB0aGlzLnByb2ZpbGVJZHNfID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy50aWxlUHJvZmlsZUlkc18gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLnNob3dJbnRlcm5hbF8gPSAhMTtcbiAgdGhpcy5wcm9maWxlRXJyb3JfID0gbnVsbDtcbiAgdGhpcy50aHJvdHRsZWRSZWZyZXNoXyA9IG5ldyBnb29nLmFzeW5jLkRlbGF5KGdvb2cuYmluZCh0aGlzLnJlZnJlc2hfLCB0aGlzKSwgZWUuZGF0YS5Qcm9maWxlci5ERUxBWV9CRUZPUkVfUkVGUkVTSF8pO1xuICB0aGlzLnByb2ZpbGVEYXRhXyA9IGVlLmRhdGEuUHJvZmlsZXIuZ2V0RW1wdHlQcm9maWxlXyhmb3JtYXQpO1xuICB0aGlzLk1BWF9SRVRSWV9DT1VOVF8gPSA1O1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuZGF0YS5Qcm9maWxlciwgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuaXNFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmlzRW5hYmxlZF87XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuc2V0RW5hYmxlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuaXNFbmFibGVkXyA9ICEhdmFsdWU7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZ29vZy5ldmVudHMuRXZlbnQoZWUuZGF0YS5Qcm9maWxlci5FdmVudFR5cGUuU1RBVEVfQ0hBTkdFRCkpO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLmlzTG9hZGluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbnVsbCAhPT0gdGhpcy5sYXN0UmVmcmVzaFRva2VuXztcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5pc0Vycm9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBudWxsICE9IHRoaXMucHJvZmlsZUVycm9yXztcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5nZXRTdGF0dXNUZXh0ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLnByb2ZpbGVFcnJvcl8pIHtcbiAgICByZXR1cm4gdGhpcy5wcm9maWxlRXJyb3JfO1xuICB9XG4gIGlmICh0aGlzLmxhc3RSZWZyZXNoVG9rZW5fKSB7XG4gICAgcmV0dXJuIFwiTG9hZGluZy4uLlwiO1xuICB9XG4gIHZhciBwcm9maWxlcyA9IDAsIG5vblRpbGVQcm9maWxlcyA9IDAsIHRpbGVQcm9maWxlcyA9IDA7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKHRoaXMucHJvZmlsZUlkc18sIGZ1bmN0aW9uKHJlZkNvdW50KSB7XG4gICAgcHJvZmlsZXMrKztcbiAgICBJbmZpbml0eSA9PT0gcmVmQ291bnQgPyBub25UaWxlUHJvZmlsZXMrKyA6IHRpbGVQcm9maWxlcysrO1xuICB9LCB0aGlzKTtcbiAgcmV0dXJuIFwiVmlld2luZyBcIiArIHByb2ZpbGVzICsgXCIgcHJvZmlsZXMsIFwiICsgbm9uVGlsZVByb2ZpbGVzICsgXCIgZnJvbSBBUEkgY2FsbHMgYW5kIFwiICsgdGlsZVByb2ZpbGVzICsgXCIgZnJvbSBtYXAgdGlsZXMuXCI7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuZ2V0UHJvZmlsZURhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJvZmlsZURhdGFfO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLmNsZWFyQW5kRHJvcCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnByb2ZpbGVJZHNfID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy50aWxlUHJvZmlsZUlkc18gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLnJlZnJlc2hfKCk7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuZ2V0UHJvZmlsZUhvb2sgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHByb2ZpbGVJZHMgPSB0aGlzLnByb2ZpbGVJZHNfO1xuICByZXR1cm4gdGhpcy5pc0VuYWJsZWRfID8gZ29vZy5iaW5kKGZ1bmN0aW9uKHByb2ZpbGVJZCkge1xuICAgIHByb2ZpbGVJZHNbcHJvZmlsZUlkXSA9IEluZmluaXR5O1xuICAgIHRoaXMudGhyb3R0bGVkUmVmcmVzaF8uc3RhcnQoKTtcbiAgfSwgdGhpcykgOiBudWxsO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLnJlbW92ZVByb2ZpbGVfID0gZnVuY3Rpb24ocHJvZmlsZUlkKSB7XG4gIHZhciBjb3VudCA9IHRoaXMucHJvZmlsZUlkc19bcHJvZmlsZUlkXTtcbiAgMSA8IGNvdW50ID8gdGhpcy5wcm9maWxlSWRzX1twcm9maWxlSWRdLS0gOiB2b2lkIDAgIT09IGNvdW50ICYmIChkZWxldGUgdGhpcy5wcm9maWxlSWRzX1twcm9maWxlSWRdLCB0aGlzLnRocm90dGxlZFJlZnJlc2hfLnN0YXJ0KCkpO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLnJlZnJlc2hfID0gZnVuY3Rpb24ocmV0cnlBdHRlbXB0KSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuICByZXRyeUF0dGVtcHQgPSB2b2lkIDAgPT09IHJldHJ5QXR0ZW1wdCA/IDAgOiByZXRyeUF0dGVtcHQ7XG4gIHZhciBtYXJrZXIgPSB7fTtcbiAgdGhpcy5sYXN0UmVmcmVzaFRva2VuXyA9IG1hcmtlcjtcbiAgdmFyIGhhbmRsZVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzdWx0LCBlcnJvcikge1xuICAgIG1hcmtlciA9PSAkanNjb21wJHRoaXMubGFzdFJlZnJlc2hUb2tlbl8gJiYgKGVycm9yICYmIFwibnVtYmVyXCIgPT09IHR5cGVvZiByZXRyeUF0dGVtcHQgJiYgcmV0cnlBdHRlbXB0IDwgJGpzY29tcCR0aGlzLk1BWF9SRVRSWV9DT1VOVF8gPyBnb29nLlRpbWVyLmNhbGxPbmNlKGdvb2cuYmluZCgkanNjb21wJHRoaXMucmVmcmVzaF8sICRqc2NvbXAkdGhpcywgcmV0cnlBdHRlbXB0ICsgMSksIDIgKiBlZS5kYXRhLlByb2ZpbGVyLkRFTEFZX0JFRk9SRV9SRUZSRVNIXykgOiAoJGpzY29tcCR0aGlzLnByb2ZpbGVFcnJvcl8gPSBlcnJvciB8fCBudWxsLCAkanNjb21wJHRoaXMucHJvZmlsZURhdGFfID0gZXJyb3IgPyBlZS5kYXRhLlByb2ZpbGVyLmdldEVtcHR5UHJvZmlsZV8oJGpzY29tcCR0aGlzLmZvcm1hdF8pIDogcmVzdWx0LCAkanNjb21wJHRoaXMubGFzdFJlZnJlc2hUb2tlbl8gPSBudWxsLCAkanNjb21wJHRoaXMuZGlzcGF0Y2hFdmVudChlZS5kYXRhLlByb2ZpbGVyLkV2ZW50VHlwZS5TVEFURV9DSEFOR0VEKSwgXG4gICAgJGpzY29tcCR0aGlzLmRpc3BhdGNoRXZlbnQoZWUuZGF0YS5Qcm9maWxlci5FdmVudFR5cGUuREFUQV9DSEFOR0VEKSkpO1xuICB9LCBpZHMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyh0aGlzLnByb2ZpbGVJZHNfKTtcbiAgMCA9PT0gaWRzLmxlbmd0aCA/IGhhbmRsZVJlc3BvbnNlKGVlLmRhdGEuUHJvZmlsZXIuZ2V0RW1wdHlQcm9maWxlXyh0aGlzLmZvcm1hdF8pLCB2b2lkIDApIDogKGVlLkFwaUZ1bmN0aW9uLl9hcHBseSh0aGlzLnNob3dJbnRlcm5hbF8gPyBcIlByb2ZpbGUuZ2V0UHJvZmlsZXNJbnRlcm5hbFwiIDogXCJQcm9maWxlLmdldFByb2ZpbGVzXCIsIHtpZHM6aWRzLCBmb3JtYXQ6dGhpcy5mb3JtYXRfLnRvU3RyaW5nKCksfSkuZ2V0SW5mbyhoYW5kbGVSZXNwb25zZSksIHRoaXMuZGlzcGF0Y2hFdmVudChlZS5kYXRhLlByb2ZpbGVyLkV2ZW50VHlwZS5TVEFURV9DSEFOR0VEKSk7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuYWRkVGlsZSA9IGZ1bmN0aW9uKHRpbGVJZCwgcHJvZmlsZUlkKSB7XG4gIHRoaXMudGlsZVByb2ZpbGVJZHNfW3RpbGVJZF0gfHwgKHRoaXMudGlsZVByb2ZpbGVJZHNfW3RpbGVJZF0gPSBwcm9maWxlSWQsIHRoaXMucHJvZmlsZUlkc19bcHJvZmlsZUlkXSA9ICh0aGlzLnByb2ZpbGVJZHNfW3Byb2ZpbGVJZF0gfHwgMCkgKyAxLCB0aGlzLnRocm90dGxlZFJlZnJlc2hfLnN0YXJ0KCkpO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLnJlbW92ZVRpbGUgPSBmdW5jdGlvbih0aWxlSWQpIHtcbiAgdmFyIHByb2ZpbGVJZCA9IHRoaXMudGlsZVByb2ZpbGVJZHNfW3RpbGVJZF07XG4gIHByb2ZpbGVJZCAmJiAoZGVsZXRlIHRoaXMudGlsZVByb2ZpbGVJZHNfW3RpbGVJZF0sIHRoaXMucmVtb3ZlUHJvZmlsZV8ocHJvZmlsZUlkKSk7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuZ2V0U2hvd0ludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnNob3dJbnRlcm5hbF87XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuc2V0U2hvd0ludGVybmFsID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5zaG93SW50ZXJuYWxfID0gISF2YWx1ZTtcbiAgdGhpcy50aHJvdHRsZWRSZWZyZXNoXy5maXJlKCk7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuc2V0UGFyZW50RXZlbnRUYXJnZXQgPSBmdW5jdGlvbihwYXJlbnQpIHtcbiAgdGhyb3cgRXJyb3IoXCJub3QgYXBwbGljYWJsZVwiKTtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLmdldEVtcHR5UHJvZmlsZV8gPSBmdW5jdGlvbihmb3JtYXQpIHtcbiAgc3dpdGNoKGZvcm1hdCkge1xuICAgIGNhc2UgZWUuZGF0YS5Qcm9maWxlci5Gb3JtYXQuVEVYVDpcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIGNhc2UgZWUuZGF0YS5Qcm9maWxlci5Gb3JtYXQuSlNPTjpcbiAgICAgIHJldHVybiBlZS5kYXRhLlByb2ZpbGVyLkVNUFRZX0pTT05fUFJPRklMRV87XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBQcm9maWxlciBkYXRhIGZvcm1hdDogXCIgKyBmb3JtYXQpO1xuICB9XG59O1xuZWUuZGF0YS5Qcm9maWxlci5ERUxBWV9CRUZPUkVfUkVGUkVTSF8gPSA1MDA7XG5lZS5kYXRhLlByb2ZpbGVyLkVNUFRZX0pTT05fUFJPRklMRV8gPSB7Y29sczpbXSwgcm93czpbXX07XG5lZS5kYXRhLlByb2ZpbGVyLkV2ZW50VHlwZSA9IHtTVEFURV9DSEFOR0VEOlwic3RhdGVjaGFuZ2VkXCIsIERBVEFfQ0hBTkdFRDpcImRhdGFjaGFuZ2VkXCJ9O1xuZWUuZGF0YS5Qcm9maWxlci5Gb3JtYXQgPSBmdW5jdGlvbihmb3JtYXQpIHtcbiAgdGhpcy5mb3JtYXRfID0gZm9ybWF0O1xufTtcbmVlLmRhdGEuUHJvZmlsZXIuRm9ybWF0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5mb3JtYXRfO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIuRm9ybWF0LlRFWFQgPSBuZXcgZWUuZGF0YS5Qcm9maWxlci5Gb3JtYXQoXCJ0ZXh0XCIpO1xuZWUuZGF0YS5Qcm9maWxlci5Gb3JtYXQuSlNPTiA9IG5ldyBlZS5kYXRhLlByb2ZpbGVyLkZvcm1hdChcImpzb25cIik7XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBleHBvcnRlZEZuSW5mbyA9IHt9LCBvcmRlcmVkRm5OYW1lcyA9IFwiZWUuQXBpRnVuY3Rpb24uX2FwcGx5IGVlLkFwaUZ1bmN0aW9uLmxvb2t1cCBlZS5BcGlGdW5jdGlvbi5fY2FsbCBlZS5iYXRjaC5FeHBvcnQudGFibGUudG9GZWF0dXJlVmlldyBlZS5iYXRjaC5FeHBvcnQudmlkZW8udG9DbG91ZFN0b3JhZ2UgZWUuYmF0Y2guRXhwb3J0LnZpZGVvTWFwLnRvQ2xvdWRTdG9yYWdlIGVlLmJhdGNoLkV4cG9ydC5pbWFnZS50b0Fzc2V0IGVlLmJhdGNoLkV4cG9ydC50YWJsZS50b0Fzc2V0IGVlLmJhdGNoLkV4cG9ydC5jbGFzc2lmaWVyLnRvQXNzZXQgZWUuYmF0Y2guRXhwb3J0LnZpZGVvLnRvRHJpdmUgZWUuYmF0Y2guRXhwb3J0LmltYWdlLnRvQ2xvdWRTdG9yYWdlIGVlLmJhdGNoLkV4cG9ydC5pbWFnZS50b0RyaXZlIGVlLmJhdGNoLkV4cG9ydC5tYXAudG9DbG91ZFN0b3JhZ2UgZWUuYmF0Y2guRXhwb3J0LnRhYmxlLnRvQ2xvdWRTdG9yYWdlIGVlLmJhdGNoLkV4cG9ydC50YWJsZS50b0RyaXZlIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmxpbWl0IGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLm1hcCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJNZXRhZGF0YSBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5zb3J0IGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlckRhdGUgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLml0ZXJhdGUgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyQm91bmRzIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5hc2lkZSBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZXZhbHVhdGUgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmdldEluZm8gZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLnNlcmlhbGl6ZSBlZS5kYXRhLmRlbGV0ZUFzc2V0IGVlLmRhdGEuc3RhcnRJbmdlc3Rpb24gZWUuZGF0YS5nZXRWaWRlb1RodW1iSWQgZWUuZGF0YS5nZXRMaXN0IGVlLmRhdGEuZ2V0RmlsbXN0cmlwVGh1bWJJZCBlZS5kYXRhLmxpc3RBc3NldHMgZWUuZGF0YS5tYWtlVGh1bWJVcmwgZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFPYXV0aCBlZS5kYXRhLnN0YXJ0VGFibGVJbmdlc3Rpb24gZWUuZGF0YS5nZXREb3dubG9hZElkIGVlLmRhdGEuZ2V0QXNzZXRBY2wgZWUuZGF0YS5saXN0SW1hZ2VzIGVlLmRhdGEuZ2V0QXNzZXRSb290cyBlZS5kYXRhLnNldEFzc2V0QWNsIGVlLmRhdGEudXBkYXRlQXNzZXQgZWUuZGF0YS5nZXRUYWJsZURvd25sb2FkSWQgZWUuZGF0YS5nZXRBc3NldCBlZS5kYXRhLmdldEluZm8gZWUuZGF0YS5tYWtlRG93bmxvYWRVcmwgZWUuZGF0YS5saXN0QnVja2V0cyBlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsIGVlLmRhdGEuc2V0QXNzZXRQcm9wZXJ0aWVzIGVlLmRhdGEuYXV0aGVudGljYXRlVmlhUG9wdXAgZWUuZGF0YS5jcmVhdGVBc3NldEhvbWUgZWUuZGF0YS5nZXRBc3NldFJvb3RRdW90YSBlZS5kYXRhLm5ld1Rhc2tJZCBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVByaXZhdGVLZXkgZWUuZGF0YS5jYW5jZWxPcGVyYXRpb24gZWUuZGF0YS5jcmVhdGVBc3NldCBlZS5kYXRhLmdldE9wZXJhdGlvbiBlZS5kYXRhLmdldFRhc2tTdGF0dXMgZWUuZGF0YS5jcmVhdGVGb2xkZXIgZWUuZGF0YS5nZXRNYXBJZCBlZS5kYXRhLmxpc3RPcGVyYXRpb25zIGVlLmRhdGEucmVuYW1lQXNzZXQgZWUuZGF0YS5nZXRGZWF0dXJlVmlld1RpbGVzS2V5IGVlLmRhdGEudXBkYXRlVGFzayBlZS5kYXRhLmNhbmNlbFRhc2sgZWUuZGF0YS5nZXRUYXNrTGlzdFdpdGhMaW1pdCBlZS5kYXRhLmdldFRodW1iSWQgZWUuZGF0YS5jb21wdXRlVmFsdWUgZWUuZGF0YS5zdGFydFByb2Nlc3NpbmcgZWUuZGF0YS5hdXRoZW50aWNhdGUgZWUuZGF0YS5nZXRUYXNrTGlzdCBlZS5kYXRhLmNvcHlBc3NldCBlZS5kYXRhLmdldFRpbGVVcmwgZWUuRGF0ZSBlZS5EZXNlcmlhbGl6ZXIuZnJvbUNsb3VkQXBpSlNPTiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlIGVlLkRlc2VyaWFsaXplci5mcm9tSlNPTiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlQ2xvdWRBcGkgZWUuRGljdGlvbmFyeSBlZS5jYWxsIGVlLnJlc2V0IGVlLlRJTEVfU0laRSBlZS5Jbml0U3RhdGUgZWUuYXBwbHkgZWUuaW5pdGlhbGl6ZSBlZS5BbGdvcml0aG1zIGVlLkVsZW1lbnQucHJvdG90eXBlLnNldCBlZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRJbmZvIGVlLkZlYXR1cmUgZWUuRmVhdHVyZS5wcm90b3R5cGUuZ2V0TWFwIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QgZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldERvd25sb2FkVVJMIGVlLkZlYXR1cmVDb2xsZWN0aW9uIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRNYXAgZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEluZm8gZWUuRmlsdGVyIGVlLkZpbHRlci5vciBlZS5GaWx0ZXIubHQgZWUuRmlsdGVyLmRhdGUgZWUuRmlsdGVyLmVxIGVlLkZpbHRlci5ndGUgZWUuRmlsdGVyLmx0ZSBlZS5GaWx0ZXIubmVxIGVlLkZpbHRlci5hbmQgZWUuRmlsdGVyLm1ldGFkYXRhIGVlLkZpbHRlci5pbkxpc3QgZWUuRmlsdGVyLmJvdW5kcyBlZS5GaWx0ZXIuZ3QgZWUuRmlsdGVyLnByb3RvdHlwZS5ub3QgZWUuRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5IGVlLkZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsIGVlLkdlb21ldHJ5LkxpbmVTdHJpbmcgZWUuR2VvbWV0cnkgZWUuR2VvbWV0cnkucHJvdG90eXBlLnRvR2VvSlNPTlN0cmluZyBlZS5HZW9tZXRyeS5CQm94IGVlLkdlb21ldHJ5Lk11bHRpUG9seWdvbiBlZS5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcgZWUuR2VvbWV0cnkuUG9pbnQgZWUuR2VvbWV0cnkucHJvdG90eXBlLnNlcmlhbGl6ZSBlZS5HZW9tZXRyeS5SZWN0YW5nbGUgZWUuR2VvbWV0cnkuTGluZWFyUmluZyBlZS5HZW9tZXRyeS5wcm90b3R5cGUudG9HZW9KU09OIGVlLkdlb21ldHJ5Lk11bHRpUG9pbnQgZWUuR2VvbWV0cnkuUG9seWdvbiBlZS5JbWFnZS5wcm90b3R5cGUucmVuYW1lIGVlLkltYWdlLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCBlZS5JbWFnZS5wcm90b3R5cGUuc2VsZWN0IGVlLkltYWdlLnByb3RvdHlwZS5nZXRNYXAgZWUuSW1hZ2UucHJvdG90eXBlLmdldFRodW1iVVJMIGVlLkltYWdlIGVlLkltYWdlLnByb3RvdHlwZS5nZXRUaHVtYklkIGVlLkltYWdlLnByb3RvdHlwZS5leHByZXNzaW9uIGVlLkltYWdlLnByb3RvdHlwZS5jbGlwIGVlLkltYWdlLnJnYiBlZS5JbWFnZS5jYXQgZWUuSW1hZ2UucHJvdG90eXBlLmdldEluZm8gZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRGaWxtc3RyaXBUaHVtYlVSTCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEluZm8gZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRWaWRlb1RodW1iVVJMIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3QgZWUuSW1hZ2VDb2xsZWN0aW9uIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFwIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0IGVlLkxpc3QgZWUuTnVtYmVyIGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlQcmV0dHkgZWUuU2VyaWFsaXplci50b0Nsb3VkQXBpSlNPTiBlZS5TZXJpYWxpemVyLmVuY29kZSBlZS5TZXJpYWxpemVyLnRvSlNPTiBlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpIGVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUNsb3VkQXBpSlNPTiBlZS5TZXJpYWxpemVyLnRvUmVhZGFibGVKU09OIGVlLlN0cmluZyBlZS5UZXJyYWluXCIuc3BsaXQoXCIgXCIpLCBcbiAgb3JkZXJlZFBhcmFtTGlzdHMgPSBbW1wibmFtZVwiLCBcIm5hbWVkQXJnc1wiXSwgW1wibmFtZVwiXSwgW1wibmFtZVwiLCBcInZhcl9hcmdzXCJdLCBbXCJjb2xsZWN0aW9uXCIsIFwib3B0X2Rlc2NyaXB0aW9uXCIsIFwib3B0X2Fzc2V0SWRcIl0sIFwiY29sbGVjdGlvbiBvcHRfZGVzY3JpcHRpb24gb3B0X2J1Y2tldCBvcHRfZmlsZU5hbWVQcmVmaXggb3B0X2ZyYW1lc1BlclNlY29uZCBvcHRfZGltZW5zaW9ucyBvcHRfcmVnaW9uIG9wdF9zY2FsZSBvcHRfY3JzIG9wdF9jcnNUcmFuc2Zvcm0gb3B0X21heFBpeGVscyBvcHRfbWF4RnJhbWVzXCIuc3BsaXQoXCIgXCIpLCBcImNvbGxlY3Rpb24gb3B0X2Rlc2NyaXB0aW9uIG9wdF9idWNrZXQgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9mcmFtZXNQZXJTZWNvbmQgb3B0X3dyaXRlUHVibGljVGlsZXMgb3B0X21pblpvb20gb3B0X21heFpvb20gb3B0X3NjYWxlIG9wdF9yZWdpb24gb3B0X3NraXBFbXB0eVRpbGVzIG9wdF9taW5UaW1lTWFjaGluZVpvb21TdWJzZXQgb3B0X21heFRpbWVNYWNoaW5lWm9vbVN1YnNldCBvcHRfdGlsZVdpZHRoIG9wdF90aWxlSGVpZ2h0IG9wdF90aWxlU3RyaWRlIG9wdF92aWRlb0Zvcm1hdCBvcHRfdmVyc2lvbiBvcHRfbWFwc0FwaUtleSBvcHRfYnVja2V0Q29yc1VyaXNcIi5zcGxpdChcIiBcIiksIFxuICBcImltYWdlIG9wdF9kZXNjcmlwdGlvbiBvcHRfYXNzZXRJZCBvcHRfcHlyYW1pZGluZ1BvbGljeSBvcHRfZGltZW5zaW9ucyBvcHRfcmVnaW9uIG9wdF9zY2FsZSBvcHRfY3JzIG9wdF9jcnNUcmFuc2Zvcm0gb3B0X21heFBpeGVscyBvcHRfc2hhcmRTaXplXCIuc3BsaXQoXCIgXCIpLCBbXCJjb2xsZWN0aW9uXCIsIFwib3B0X2Rlc2NyaXB0aW9uXCIsIFwib3B0X2Fzc2V0SWRcIiwgXCJvcHRfbWF4VmVydGljZXNcIl0sIFtcImNsYXNzaWZpZXJcIiwgXCJvcHRfZGVzY3JpcHRpb25cIiwgXCJvcHRfYXNzZXRJZFwiXSwgXCJjb2xsZWN0aW9uIG9wdF9kZXNjcmlwdGlvbiBvcHRfZm9sZGVyIG9wdF9maWxlTmFtZVByZWZpeCBvcHRfZnJhbWVzUGVyU2Vjb25kIG9wdF9kaW1lbnNpb25zIG9wdF9yZWdpb24gb3B0X3NjYWxlIG9wdF9jcnMgb3B0X2Nyc1RyYW5zZm9ybSBvcHRfbWF4UGl4ZWxzIG9wdF9tYXhGcmFtZXNcIi5zcGxpdChcIiBcIiksIFwiaW1hZ2Ugb3B0X2Rlc2NyaXB0aW9uIG9wdF9idWNrZXQgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9kaW1lbnNpb25zIG9wdF9yZWdpb24gb3B0X3NjYWxlIG9wdF9jcnMgb3B0X2Nyc1RyYW5zZm9ybSBvcHRfbWF4UGl4ZWxzIG9wdF9zaGFyZFNpemUgb3B0X2ZpbGVEaW1lbnNpb25zIG9wdF9za2lwRW1wdHlUaWxlcyBvcHRfZmlsZUZvcm1hdCBvcHRfZm9ybWF0T3B0aW9uc1wiLnNwbGl0KFwiIFwiKSwgXG4gIFwiaW1hZ2Ugb3B0X2Rlc2NyaXB0aW9uIG9wdF9mb2xkZXIgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9kaW1lbnNpb25zIG9wdF9yZWdpb24gb3B0X3NjYWxlIG9wdF9jcnMgb3B0X2Nyc1RyYW5zZm9ybSBvcHRfbWF4UGl4ZWxzIG9wdF9zaGFyZFNpemUgb3B0X2ZpbGVEaW1lbnNpb25zIG9wdF9za2lwRW1wdHlUaWxlcyBvcHRfZmlsZUZvcm1hdCBvcHRfZm9ybWF0T3B0aW9uc1wiLnNwbGl0KFwiIFwiKSwgXCJpbWFnZSBvcHRfZGVzY3JpcHRpb24gb3B0X2J1Y2tldCBvcHRfZmlsZUZvcm1hdCBvcHRfcGF0aCBvcHRfd3JpdGVQdWJsaWNUaWxlcyBvcHRfc2NhbGUgb3B0X21heFpvb20gb3B0X21pblpvb20gb3B0X3JlZ2lvbiBvcHRfc2tpcEVtcHR5VGlsZXMgb3B0X21hcHNBcGlLZXkgb3B0X2J1Y2tldENvcnNVcmlzXCIuc3BsaXQoXCIgXCIpLCBcImNvbGxlY3Rpb24gb3B0X2Rlc2NyaXB0aW9uIG9wdF9idWNrZXQgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9maWxlRm9ybWF0IG9wdF9zZWxlY3RvcnMgb3B0X21heFZlcnRpY2VzXCIuc3BsaXQoXCIgXCIpLCBcbiAgXCJjb2xsZWN0aW9uIG9wdF9kZXNjcmlwdGlvbiBvcHRfZm9sZGVyIG9wdF9maWxlTmFtZVByZWZpeCBvcHRfZmlsZUZvcm1hdCBvcHRfc2VsZWN0b3JzIG9wdF9tYXhWZXJ0aWNlc1wiLnNwbGl0KFwiIFwiKSwgW1wibWF4XCIsIFwib3B0X3Byb3BlcnR5XCIsIFwib3B0X2FzY2VuZGluZ1wiXSwgW1wiYWxnb3JpdGhtXCIsIFwib3B0X2Ryb3BOdWxsc1wiXSwgW1wibmFtZVwiLCBcIm9wZXJhdG9yXCIsIFwidmFsdWVcIl0sIFtcInByb3BlcnR5XCIsIFwib3B0X2FzY2VuZGluZ1wiXSwgW1wic3RhcnRcIiwgXCJvcHRfZW5kXCJdLCBbXCJmaWx0ZXJcIl0sIFtcImFsZ29yaXRobVwiLCBcIm9wdF9maXJzdFwiXSwgW1wiZ2VvbWV0cnlcIl0sIFtcImZ1bmNcIiwgXCJ2YXJfYXJnc1wiXSwgW1wiY2FsbGJhY2tcIl0sIFtcIm9wdF9jYWxsYmFja1wiXSwgW1wibGVnYWN5XCJdLCBbXCJhc3NldElkXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJ0YXNrSWRcIiwgXCJyZXF1ZXN0XCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcbiAgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyZW50XCIsIFwicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJpZFwiXSwgXCJjbGllbnRJZCBzdWNjZXNzIG9wdF9lcnJvciBvcHRfZXh0cmFTY29wZXMgb3B0X29uSW1tZWRpYXRlRmFpbGVkIG9wdF9zdXBwcmVzc0RlZmF1bHRTY29wZXNcIi5zcGxpdChcIiBcIiksIFtcInRhc2tJZFwiLCBcInJlcXVlc3RcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiYXNzZXRJZFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyZW50XCIsIFwicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvcHRfY2FsbGJhY2tcIl0sIFtcImFzc2V0SWRcIiwgXCJhY2xVcGRhdGVcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcImFzc2V0SWRcIiwgXCJhc3NldFwiLCBcInVwZGF0ZUZpZWxkc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJpZFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiaWRcIiwgXG4gIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJpZFwiXSwgW1wicHJvamVjdFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiaWRcIl0sIFtcImFzc2V0SWRcIiwgXCJwcm9wZXJ0aWVzXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvcHRfc3VjY2Vzc1wiLCBcIm9wdF9lcnJvclwiXSwgW1wicmVxdWVzdGVkSWRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInJvb3RJZFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wib3B0X2NvdW50XCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJwcml2YXRlS2V5XCIsIFwib3B0X3N1Y2Nlc3NcIiwgXCJvcHRfZXJyb3JcIiwgXCJvcHRfZXh0cmFTY29wZXNcIiwgXCJvcHRfc3VwcHJlc3NEZWZhdWx0U2NvcGVzXCJdLCBbXCJvcGVyYXRpb25OYW1lXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJ2YWx1ZVwiLCBcIm9wdF9wYXRoXCIsIFwib3B0X2ZvcmNlXCIsIFwib3B0X3Byb3BlcnRpZXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wZXJhdGlvbk5hbWVcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInRhc2tJZFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGF0aFwiLCBcIm9wdF9mb3JjZVwiLCBcbiAgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wib3B0X2xpbWl0XCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJzb3VyY2VJZFwiLCBcImRlc3RpbmF0aW9uSWRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1widGFza0lkXCIsIFwiYWN0aW9uXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJ0YXNrSWRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wdF9saW1pdFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvYmpcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInRhc2tJZFwiLCBcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiY2xpZW50SWRcIiwgXCJzdWNjZXNzXCIsIFwib3B0X2Vycm9yXCIsIFwib3B0X2V4dHJhU2NvcGVzXCIsIFwib3B0X29uSW1tZWRpYXRlRmFpbGVkXCJdLCBbXCJvcHRfY2FsbGJhY2tcIl0sIFtcInNvdXJjZUlkXCIsIFwiZGVzdGluYXRpb25JZFwiLCBcIm9wdF9vdmVyd3JpdGVcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFxuICBbXCJpZFwiLCBcInhcIiwgXCJ5XCIsIFwielwiXSwgW1wiZGF0ZVwiLCBcIm9wdF90elwiXSwgW1wianNvblwiXSwgW1wianNvblwiXSwgW1wianNvblwiXSwgW1wianNvblwiXSwgW1wib3B0X2RpY3RcIl0sIFtcImZ1bmNcIiwgXCJ2YXJfYXJnc1wiXSwgW10sIFtdLCBbXSwgW1wiZnVuY1wiLCBcIm5hbWVkQXJnc1wiXSwgXCJvcHRfYmFzZXVybCBvcHRfdGlsZXVybCBvcHRfc3VjY2Vzc0NhbGxiYWNrIG9wdF9lcnJvckNhbGxiYWNrIG9wdF94c3JmVG9rZW4gb3B0X3Byb2plY3RcIi5zcGxpdChcIiBcIiksIFtdLCBbXCJ2YXJfYXJnc1wiXSwgW1wib3B0X2NhbGxiYWNrXCJdLCBbXCJnZW9tZXRyeVwiLCBcIm9wdF9wcm9wZXJ0aWVzXCJdLCBbXCJvcHRfdmlzUGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJwcm9wZXJ0eVNlbGVjdG9yc1wiLCBcIm9wdF9uZXdQcm9wZXJ0aWVzXCIsIFwib3B0X3JldGFpbkdlb21ldHJ5XCJdLCBbXCJvcHRfZm9ybWF0XCIsIFwib3B0X3NlbGVjdG9yc1wiLCBcIm9wdF9maWxlbmFtZVwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiYXJnc1wiLCBcbiAgXCJvcHRfY29sdW1uXCJdLCBbXCJvcHRfdmlzUGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wdF9maWx0ZXJcIl0sIFtcInZhcl9hcmdzXCJdLCBbXCJuYW1lXCIsIFwidmFsdWVcIl0sIFtcInN0YXJ0XCIsIFwib3B0X2VuZFwiXSwgW1wibmFtZVwiLCBcInZhbHVlXCJdLCBbXCJuYW1lXCIsIFwidmFsdWVcIl0sIFtcIm5hbWVcIiwgXCJ2YWx1ZVwiXSwgW1wibmFtZVwiLCBcInZhbHVlXCJdLCBbXCJ2YXJfYXJnc1wiXSwgW1wibmFtZVwiLCBcIm9wZXJhdG9yXCIsIFwidmFsdWVcIl0sIFtcIm9wdF9sZWZ0RmllbGRcIiwgXCJvcHRfcmlnaHRWYWx1ZVwiLCBcIm9wdF9yaWdodEZpZWxkXCIsIFwib3B0X2xlZnRWYWx1ZVwiXSwgW1wiZ2VvbWV0cnlcIiwgXCJvcHRfZXJyb3JNYXJnaW5cIl0sIFtcIm5hbWVcIiwgXCJ2YWx1ZVwiXSwgW10sIFtcIm5hbWVkQXJnc1wiXSwgW1widmFyX2FyZ3NcIl0sIFtcImNvb3Jkc1wiLCBcIm9wdF9wcm9qXCIsIFwib3B0X2dlb2Rlc2ljXCIsIFwib3B0X21heEVycm9yXCJdLCBbXCJnZW9Kc29uXCIsIFwib3B0X3Byb2pcIiwgXCJvcHRfZ2VvZGVzaWNcIiwgXG4gIFwib3B0X2V2ZW5PZGRcIl0sIFtdLCBbXCJ3ZXN0XCIsIFwic291dGhcIiwgXCJlYXN0XCIsIFwibm9ydGhcIl0sIFtcImNvb3Jkc1wiLCBcIm9wdF9wcm9qXCIsIFwib3B0X2dlb2Rlc2ljXCIsIFwib3B0X21heEVycm9yXCIsIFwib3B0X2V2ZW5PZGRcIl0sIFtcImNvb3Jkc1wiLCBcIm9wdF9wcm9qXCIsIFwib3B0X2dlb2Rlc2ljXCIsIFwib3B0X21heEVycm9yXCJdLCBbXCJjb29yZHNcIiwgXCJvcHRfcHJvalwiXSwgW1wibGVnYWN5XCJdLCBbXCJjb29yZHNcIiwgXCJvcHRfcHJvalwiLCBcIm9wdF9nZW9kZXNpY1wiLCBcIm9wdF9ldmVuT2RkXCJdLCBbXCJjb29yZHNcIiwgXCJvcHRfcHJvalwiLCBcIm9wdF9nZW9kZXNpY1wiLCBcIm9wdF9tYXhFcnJvclwiXSwgW10sIFtcImNvb3Jkc1wiLCBcIm9wdF9wcm9qXCJdLCBbXCJjb29yZHNcIiwgXCJvcHRfcHJvalwiLCBcIm9wdF9nZW9kZXNpY1wiLCBcIm9wdF9tYXhFcnJvclwiLCBcIm9wdF9ldmVuT2RkXCJdLCBbXCJ2YXJfYXJnc1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJ2YXJfYXJnc1wiXSwgW1wib3B0X3Zpc1BhcmFtc1wiLCBcbiAgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wib3B0X2FyZ3NcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiZXhwcmVzc2lvblwiLCBcIm9wdF9tYXBcIl0sIFtcImdlb21ldHJ5XCJdLCBbXCJyXCIsIFwiZ1wiLCBcImJcIl0sIFtcInZhcl9hcmdzXCJdLCBbXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wib3B0X2NhbGxiYWNrXCJdLCBbXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtdLCBbXCJhcmdzXCJdLCBbXCJvcHRfdmlzUGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJzZWxlY3RvcnNcIiwgXCJvcHRfbmFtZXNcIl0sIFtcImxpc3RcIl0sIFtcIm51bWJlclwiXSwgW1wib2JqXCJdLCBbXCJvYmpcIl0sIFtcIm9ialwiLCBcIm9wdF9pc0NvbXBvdW5kXCJdLCBbXCJvYmpcIl0sIFtcIm9ialwiXSwgW1wib2JqXCJdLCBbXCJvYmpcIl0sIFtcInN0cmluZ1wiXSwgW11dO1xuICBbZWUuQXBpRnVuY3Rpb24uX2FwcGx5LCBlZS5BcGlGdW5jdGlvbi5sb29rdXAsIGVlLkFwaUZ1bmN0aW9uLl9jYWxsLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRmVhdHVyZVZpZXcsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8udG9DbG91ZFN0b3JhZ2UsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW9NYXAudG9DbG91ZFN0b3JhZ2UsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Bc3NldCwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Fzc2V0LCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNsYXNzaWZpZXIudG9Bc3NldCwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0RyaXZlLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQ2xvdWRTdG9yYWdlLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvRHJpdmUsIFxuICBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0Lm1hcC50b0Nsb3VkU3RvcmFnZSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Nsb3VkU3RvcmFnZSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0RyaXZlLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5saW1pdCwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUubWFwLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJNZXRhZGF0YSwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuc29ydCwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyRGF0ZSwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5pdGVyYXRlLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJCb3VuZHMsIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5hc2lkZSwgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmV2YWx1YXRlLCBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZ2V0SW5mbywgXG4gIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5zZXJpYWxpemUsIGVlLmRhdGEuZGVsZXRlQXNzZXQsIGVlLmRhdGEuc3RhcnRJbmdlc3Rpb24sIGVlLmRhdGEuZ2V0VmlkZW9UaHVtYklkLCBlZS5kYXRhLmdldExpc3QsIGVlLmRhdGEuZ2V0RmlsbXN0cmlwVGh1bWJJZCwgZWUuZGF0YS5saXN0QXNzZXRzLCBlZS5kYXRhLm1ha2VUaHVtYlVybCwgZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFPYXV0aCwgZWUuZGF0YS5zdGFydFRhYmxlSW5nZXN0aW9uLCBlZS5kYXRhLmdldERvd25sb2FkSWQsIGVlLmRhdGEuZ2V0QXNzZXRBY2wsIGVlLmRhdGEubGlzdEltYWdlcywgZWUuZGF0YS5nZXRBc3NldFJvb3RzLCBlZS5kYXRhLnNldEFzc2V0QWNsLCBlZS5kYXRhLnVwZGF0ZUFzc2V0LCBlZS5kYXRhLmdldFRhYmxlRG93bmxvYWRJZCwgZWUuZGF0YS5nZXRBc3NldCwgZWUuZGF0YS5nZXRJbmZvLCBlZS5kYXRhLm1ha2VEb3dubG9hZFVybCwgZWUuZGF0YS5saXN0QnVja2V0cywgZWUuZGF0YS5tYWtlVGFibGVEb3dubG9hZFVybCwgXG4gIGVlLmRhdGEuc2V0QXNzZXRQcm9wZXJ0aWVzLCBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVBvcHVwLCBlZS5kYXRhLmNyZWF0ZUFzc2V0SG9tZSwgZWUuZGF0YS5nZXRBc3NldFJvb3RRdW90YSwgZWUuZGF0YS5uZXdUYXNrSWQsIGVlLmRhdGEuYXV0aGVudGljYXRlVmlhUHJpdmF0ZUtleSwgZWUuZGF0YS5jYW5jZWxPcGVyYXRpb24sIGVlLmRhdGEuY3JlYXRlQXNzZXQsIGVlLmRhdGEuZ2V0T3BlcmF0aW9uLCBlZS5kYXRhLmdldFRhc2tTdGF0dXMsIGVlLmRhdGEuY3JlYXRlRm9sZGVyLCBlZS5kYXRhLmdldE1hcElkLCBlZS5kYXRhLmxpc3RPcGVyYXRpb25zLCBlZS5kYXRhLnJlbmFtZUFzc2V0LCBlZS5kYXRhLmdldEZlYXR1cmVWaWV3VGlsZXNLZXksIGVlLmRhdGEudXBkYXRlVGFzaywgZWUuZGF0YS5jYW5jZWxUYXNrLCBlZS5kYXRhLmdldFRhc2tMaXN0V2l0aExpbWl0LCBlZS5kYXRhLmdldFRodW1iSWQsIGVlLmRhdGEuY29tcHV0ZVZhbHVlLCBlZS5kYXRhLnN0YXJ0UHJvY2Vzc2luZywgXG4gIGVlLmRhdGEuYXV0aGVudGljYXRlLCBlZS5kYXRhLmdldFRhc2tMaXN0LCBlZS5kYXRhLmNvcHlBc3NldCwgZWUuZGF0YS5nZXRUaWxlVXJsLCBlZS5EYXRlLCBlZS5EZXNlcmlhbGl6ZXIuZnJvbUNsb3VkQXBpSlNPTiwgZWUuRGVzZXJpYWxpemVyLmRlY29kZSwgZWUuRGVzZXJpYWxpemVyLmZyb21KU09OLCBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlQ2xvdWRBcGksIGVlLkRpY3Rpb25hcnksIGVlLmNhbGwsIGVlLnJlc2V0LCBlZS5USUxFX1NJWkUsIGVlLkluaXRTdGF0ZSwgZWUuYXBwbHksIGVlLmluaXRpYWxpemUsIGVlLkFsZ29yaXRobXMsIGVlLkVsZW1lbnQucHJvdG90eXBlLnNldCwgZWUuRmVhdHVyZS5wcm90b3R5cGUuZ2V0SW5mbywgZWUuRmVhdHVyZSwgZWUuRmVhdHVyZS5wcm90b3R5cGUuZ2V0TWFwLCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0LCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwsIGVlLkZlYXR1cmVDb2xsZWN0aW9uLCBcbiAgZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCwgZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEluZm8sIGVlLkZpbHRlciwgZWUuRmlsdGVyLm9yLCBlZS5GaWx0ZXIubHQsIGVlLkZpbHRlci5kYXRlLCBlZS5GaWx0ZXIuZXEsIGVlLkZpbHRlci5ndGUsIGVlLkZpbHRlci5sdGUsIGVlLkZpbHRlci5uZXEsIGVlLkZpbHRlci5hbmQsIGVlLkZpbHRlci5tZXRhZGF0YSwgZWUuRmlsdGVyLmluTGlzdCwgZWUuRmlsdGVyLmJvdW5kcywgZWUuRmlsdGVyLmd0LCBlZS5GaWx0ZXIucHJvdG90eXBlLm5vdCwgZWUuRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LCBlZS5GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCwgZWUuR2VvbWV0cnkuTGluZVN0cmluZywgZWUuR2VvbWV0cnksIGVlLkdlb21ldHJ5LnByb3RvdHlwZS50b0dlb0pTT05TdHJpbmcsIGVlLkdlb21ldHJ5LkJCb3gsIGVlLkdlb21ldHJ5Lk11bHRpUG9seWdvbiwgZWUuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nLCBcbiAgZWUuR2VvbWV0cnkuUG9pbnQsIGVlLkdlb21ldHJ5LnByb3RvdHlwZS5zZXJpYWxpemUsIGVlLkdlb21ldHJ5LlJlY3RhbmdsZSwgZWUuR2VvbWV0cnkuTGluZWFyUmluZywgZWUuR2VvbWV0cnkucHJvdG90eXBlLnRvR2VvSlNPTiwgZWUuR2VvbWV0cnkuTXVsdGlQb2ludCwgZWUuR2VvbWV0cnkuUG9seWdvbiwgZWUuSW1hZ2UucHJvdG90eXBlLnJlbmFtZSwgZWUuSW1hZ2UucHJvdG90eXBlLmdldERvd25sb2FkVVJMLCBlZS5JbWFnZS5wcm90b3R5cGUuc2VsZWN0LCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0TWFwLCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJVUkwsIGVlLkltYWdlLCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJJZCwgZWUuSW1hZ2UucHJvdG90eXBlLmV4cHJlc3Npb24sIGVlLkltYWdlLnByb3RvdHlwZS5jbGlwLCBlZS5JbWFnZS5yZ2IsIGVlLkltYWdlLmNhdCwgZWUuSW1hZ2UucHJvdG90eXBlLmdldEluZm8sIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0RmlsbXN0cmlwVGh1bWJVUkwsIFxuICBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEluZm8sIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0VmlkZW9UaHVtYlVSTCwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5maXJzdCwgZWUuSW1hZ2VDb2xsZWN0aW9uLCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QsIGVlLkxpc3QsIGVlLk51bWJlciwgZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaVByZXR0eSwgZWUuU2VyaWFsaXplci50b0Nsb3VkQXBpSlNPTiwgZWUuU2VyaWFsaXplci5lbmNvZGUsIGVlLlNlcmlhbGl6ZXIudG9KU09OLCBlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpLCBlZS5TZXJpYWxpemVyLnRvUmVhZGFibGVDbG91ZEFwaUpTT04sIGVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUpTT04sIGVlLlN0cmluZywgZWUuVGVycmFpbl0uZm9yRWFjaChmdW5jdGlvbihmbiwgaSkge1xuICAgIGZuICYmIChleHBvcnRlZEZuSW5mb1tmbi50b1N0cmluZygpXSA9IHtuYW1lOm9yZGVyZWRGbk5hbWVzW2ldLCBwYXJhbU5hbWVzOm9yZGVyZWRQYXJhbUxpc3RzW2ldfSk7XG4gIH0pO1xuICBnb29nLmdsb2JhbC5FWFBPUlRFRF9GTl9JTkZPID0gZXhwb3J0ZWRGbkluZm87XG59KSgpO1xuXG5nb29nLmdsb2JhbCA9IHdpbmRvdztcbmdvb2cuVGltZXIuZGVmYXVsdFRpbWVyT2JqZWN0ID0gd2luZG93O1xubW9kdWxlLmV4cG9ydHMgPSBlZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@google/earthengine/build/browser.js\n");

/***/ }),

/***/ "./src/index.scss":
/*!************************!*\
  !*** ./src/index.scss ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b3BvX3Byb2ZpbGVyLy4vc3JjL2luZGV4LnNjc3M/OTc0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.scss\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _google_earthengine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/earthengine */ \"./node_modules/@google/earthengine/build/browser.js\");\n\nwindow.ee = _google_earthengine__WEBPACK_IMPORTED_MODULE_0__;\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  console.log('content loaded');\n  var body = document.querySelector(\"body\");\n  var list = document.createElement(\"ul\");\n  body.append(list); // ul showed up on page so webpack is working\n\n  var image = new _google_earthengine__WEBPACK_IMPORTED_MODULE_0__.Image('srtm90_v4');\n  image.getMap({\n    min: 0,\n    max: 1000\n  }, function (map) {\n    console.log(map);\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBQyxNQUFNLENBQUNELEVBQVAsR0FBWUEsZ0RBQVo7QUFHQUUsUUFBUSxDQUFDQyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsWUFBTTtBQUNoREMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0JBQVo7QUFDQSxNQUFNQyxJQUFJLEdBQUdKLFFBQVEsQ0FBQ0ssYUFBVCxDQUF1QixNQUF2QixDQUFiO0FBQ0EsTUFBTUMsSUFBSSxHQUFHTixRQUFRLENBQUNPLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBYjtBQUNBSCxFQUFBQSxJQUFJLENBQUNJLE1BQUwsQ0FBWUYsSUFBWixFQUpnRCxDQUk5Qjs7QUFFbEIsTUFBSUcsS0FBSyxHQUFHLElBQUlYLHNEQUFKLENBQWEsV0FBYixDQUFaO0FBQ0FXLEVBQUFBLEtBQUssQ0FBQ0UsTUFBTixDQUFhO0FBQUVDLElBQUFBLEdBQUcsRUFBRSxDQUFQO0FBQVVDLElBQUFBLEdBQUcsRUFBRTtBQUFmLEdBQWIsRUFBb0MsVUFBVUMsR0FBVixFQUFlO0FBQy9DWixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWVcsR0FBWjtBQUNILEdBRkQ7QUFHSCxDQVZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9wb19wcm9maWxlci8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlZSBmcm9tICdAZ29vZ2xlL2VhcnRoZW5naW5lJztcbndpbmRvdy5lZSA9IGVlXG5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdjb250ZW50IGxvYWRlZCcpXG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpXG4gICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKVxuICAgIGJvZHkuYXBwZW5kKGxpc3QpIC8vIHVsIHNob3dlZCB1cCBvbiBwYWdlIHNvIHdlYnBhY2sgaXMgd29ya2luZ1xuXG4gICAgdmFyIGltYWdlID0gbmV3IGVlLkltYWdlKCdzcnRtOTBfdjQnKTtcbiAgICBpbWFnZS5nZXRNYXAoeyBtaW46IDAsIG1heDogMTAwMCB9LCBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKG1hcCk7XG4gICAgfSk7XG59KSJdLCJuYW1lcyI6WyJlZSIsIndpbmRvdyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwicXVlcnlTZWxlY3RvciIsImxpc3QiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kIiwiaW1hZ2UiLCJJbWFnZSIsImdldE1hcCIsIm1pbiIsIm1heCIsIm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/global */
/******/ 	!function() {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	__webpack_require__("./src/index.js");
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.scss");
/******/ 	
/******/ })()
;